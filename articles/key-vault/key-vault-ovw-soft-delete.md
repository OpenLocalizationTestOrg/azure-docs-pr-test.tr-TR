---
ms.assetid: 
title: "aaaAzure anahtar kasası geçici silme | Microsoft Docs"
ms.service: key-vault
author: BrucePerlerMS
ms.author: bruceper
manager: mbaldwin
ms.date: 07/10/2017
ms.openlocfilehash: 1b402c58db6f25ae4ae5e2720786fa81eb0e839a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-key-vault-soft-delete-overview"></a><span data-ttu-id="3ed87-102">Azure anahtar kasası soft-delete genel bakış</span><span class="sxs-lookup"><span data-stu-id="3ed87-102">Azure Key Vault soft-delete overview</span></span>

<span data-ttu-id="3ed87-103">Anahtar Kasası'nın geçici silme özelliği silinmiş hello kasalarını ve soft-Sil olarak bilinen kasası nesneleri kurtarılmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="3ed87-103">Key Vault's soft delete feature allows recovery of hello deleted vaults and vault objects, known as soft-delete.</span></span> <span data-ttu-id="3ed87-104">Özellikle, aşağıdaki senaryoları hello adresi:</span><span class="sxs-lookup"><span data-stu-id="3ed87-104">Specifically, we address hello following scenarios:</span></span>

- <span data-ttu-id="3ed87-105">Bir anahtar kasası kurtarılabilir silinmesini desteği</span><span class="sxs-lookup"><span data-stu-id="3ed87-105">Support for recoverable deletion of a key vault</span></span>
- <span data-ttu-id="3ed87-106">Anahtar kasası nesnelerin (örneğin kurtarılabilir silinmesi için destek</span><span class="sxs-lookup"><span data-stu-id="3ed87-106">Support for recoverable deletion of key vault objects (ex.</span></span> <span data-ttu-id="3ed87-107">anahtarları, gizli, Sertifikalar)</span><span class="sxs-lookup"><span data-stu-id="3ed87-107">keys, secrets, certificates)</span></span>

## <a name="supporting-interfaces"></a><span data-ttu-id="3ed87-108">Arabirimleri destekleme</span><span class="sxs-lookup"><span data-stu-id="3ed87-108">Supporting interfaces</span></span>

<span data-ttu-id="3ed87-109">Merhaba soft-delete özellik hello REST, .NET başlangıçta kullanılabilir / C# ve PowerShell arabirimleri.</span><span class="sxs-lookup"><span data-stu-id="3ed87-109">hello soft-delete feature is initially available through hello REST, .NET/C# and PowerShell interfaces.</span></span> <span data-ttu-id="3ed87-110">Toohello başvuruları bunlar hakkında daha fazla bilgi için bkz [anahtar kasası başvurusu](https://docs.microsoft.com/azure/key-vault/).</span><span class="sxs-lookup"><span data-stu-id="3ed87-110">Refer toohello references for these for more details, [Key Vault Reference](https://docs.microsoft.com/azure/key-vault/).</span></span>

## <a name="scenarios"></a><span data-ttu-id="3ed87-111">Senaryolar</span><span class="sxs-lookup"><span data-stu-id="3ed87-111">Scenarios</span></span>

<span data-ttu-id="3ed87-112">Azure anahtar kasası, Azure Resource Manager tarafından yönetilen, izlenen kaynaklardır.</span><span class="sxs-lookup"><span data-stu-id="3ed87-112">Azure Key Vaults are tracked resources, managed by Azure Resource Manager.</span></span> <span data-ttu-id="3ed87-113">Azure Resource Manager, aynı zamanda başarılı bir silme işlemi artık erişilebilir olmaması, kaynak neden gerekir gerektirir silme işlemi için iyi tanımlanmış bir davranış belirtir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-113">Azure Resource Manager also specifies a well-defined behavior for deletion, which requires that a successful DELETE operation must result in that resource not being accessible anymore.</span></span> <span data-ttu-id="3ed87-114">Merhaba silme yanlışlıkla veya kasıtlı olup hello soft-delete özelliği adresleri silinmiş hello nesnesinin kurtarma hello.</span><span class="sxs-lookup"><span data-stu-id="3ed87-114">hello soft-delete feature addresses hello recovery of hello deleted object, whether hello deletion was accidental or intentional.</span></span>

1. <span data-ttu-id="3ed87-115">Merhaba tipik senaryo, bir kullanıcı yanlışlıkla bir anahtar kasası ya da bir anahtar kasası nesnesi silmiş; önceden belirlenmiş bir süre için toobe kurtarılabilir nesne bu anahtar kasası veya anahtar kasası, hello kullanıcı hello silme işlemi geri almak ve verilerini kurtarın.</span><span class="sxs-lookup"><span data-stu-id="3ed87-115">In hello typical scenario, a user may have inadvertently deleted a key vault or a key vault object; if that key vault or key vault object were toobe recoverable for a predetermined period, hello user may undo hello deletion and recover their data.</span></span>

2. <span data-ttu-id="3ed87-116">Farklı bir senaryoda dolandırıcı bir kullanıcı bir anahtar kasası veya bir anahtarı toocause iş kesintisi bir kasa içinde gibi bir anahtar kasası nesnesi toodelete deneyebilir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-116">In a different scenario, a rogue user may attempt toodelete a key vault or a key vault object, such as a key inside a vault, toocause a business disruption.</span></span> <span data-ttu-id="3ed87-117">Merhaba silinmesi hello anahtar kasası veya anahtar kasası nesne hello gerçek silinmesini arka plandaki veri hello ayıran bir güvenlik önlemi olarak, örneğin, veri silme tooa farklı izinlerini kısıtlayarak rol güvenilir olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-117">Separating hello deletion of hello key vault or key vault object from hello actual deletion of hello underlying data can be used as a safety measure by, for instance, restricting permissions on data deletion tooa different, trusted role.</span></span> <span data-ttu-id="3ed87-118">Bu yaklaşım, aksi takdirde bir hemen veri kaybına neden bir işlem için etkili bir şekilde çekirdek gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-118">This approach effectively requires quorum for an operation which might otherwise result in an immediate data loss.</span></span>

### <a name="soft-delete-behavior"></a><span data-ttu-id="3ed87-119">Geçici silme davranışı</span><span class="sxs-lookup"><span data-stu-id="3ed87-119">Soft-delete behavior</span></span>

<span data-ttu-id="3ed87-120">Bu özellik, bir anahtar kasasını silme işlemi hello ya da bir yumuşak hello görünüm hello nesne vermiş silinmiş etkili bir şekilde hello kaynakları için belirli bekletme süresi, tutarken silme, anahtar kasası nesnesidir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-120">With this feature, hello DELETE operation on a key vault or key vault object is a soft-delete, effectively holding hello resources for a given retention period, while giving hello appearance that hello object is deleted.</span></span> <span data-ttu-id="3ed87-121">Daha fazla Hello hizmeti aslında hello silme işlemi geri alma hello Silinmiş nesne kurtarmak için bir mekanizma sağlar.</span><span class="sxs-lookup"><span data-stu-id="3ed87-121">hello service further provides a mechanism for recovering hello deleted object, essentially undoing hello deletion.</span></span> 

<span data-ttu-id="3ed87-122">Soft-delete isteğe bağlı bir anahtar kasası davranışı ve **varsayılan olarak etkin değildir** bu sürümde.</span><span class="sxs-lookup"><span data-stu-id="3ed87-122">Soft-delete is an optional Key Vault behavior and is **not enabled by default** in this release.</span></span> <span data-ttu-id="3ed87-123">Soft-delete anahtar kasanız için etkinleştirme Ayrıntılar için bkz: hello Başvurusu'hello arabirimi tercih ettiğiniz için özel yönergeler hello [anahtar kasası başvurusu](https://docs.microsoft.com/azure/key-vault/).</span><span class="sxs-lookup"><span data-stu-id="3ed87-123">For details on enabling soft-delete for your key vault, see hello specific guidance in hello reference for hello interface of your choice, [Key Vault Reference](https://docs.microsoft.com/azure/key-vault/).</span></span>

### <a name="key-vault-recovery"></a><span data-ttu-id="3ed87-124">Anahtar kasası kurtarma</span><span class="sxs-lookup"><span data-stu-id="3ed87-124">Key vault recovery</span></span>

<span data-ttu-id="3ed87-125">Bir anahtar kasası silmeden sonra kurtarma için yeterli meta verileri ekleme hello abonelik altında bir proxy kaynak hello hizmeti oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3ed87-125">Upon deleting a key vault, hello service creates a proxy resource under hello subscription, adding sufficient metadata for recovery.</span></span> <span data-ttu-id="3ed87-126">Merhaba proxy kaynaktır, hello kullanılabilir saklanan bir nesne silindi hello anahtar kasası ile aynı konumda.</span><span class="sxs-lookup"><span data-stu-id="3ed87-126">hello proxy resource is a stored object, available in hello same location as hello deleted key vault.</span></span> 

### <a name="key-vault-object-recovery"></a><span data-ttu-id="3ed87-127">Anahtar kasası nesne kurtarma</span><span class="sxs-lookup"><span data-stu-id="3ed87-127">Key vault object recovery</span></span>

<span data-ttu-id="3ed87-128">Bir anahtarı gibi bir anahtar kasası nesnesi silme bağlı hello hizmet hello nesne silinmiş durumda, böylece erişilemez tooany alma işlemleri yapma yerleştirir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-128">Upon deleting a key vault object, such as a key, hello service will place hello object in a deleted state, thus making it inaccessible tooany retrieval operations.</span></span> <span data-ttu-id="3ed87-129">Bu durumundayken, hello anahtar kasası nesne yalnızca, kurtarılan veya zorla/kalıcı olarak silinmiş listelenebilir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-129">While in this state, hello key vault object can only be listed, recovered, or forcefully/permanently deleted.</span></span> 

<span data-ttu-id="3ed87-130">Merhaba aynı zaman, anahtar kasası veri karşılık gelen toohello silinmiş temel hello hello silinmesini zamanlar anahtar kasası veya önceden belirlenmiş bekletme aralığından sonra yürütme için anahtar kasası nesnesi.</span><span class="sxs-lookup"><span data-stu-id="3ed87-130">At hello same time, Key Vault will schedule hello deletion of hello underlying data corresponding toohello deleted key vault or key vault object for execution after a predetermined retention interval.</span></span> <span data-ttu-id="3ed87-131">Merhaba DNS kayıt karşılık gelen toohello kasası ayrıca hello hello elde tutma aralığı süresince tutulur.</span><span class="sxs-lookup"><span data-stu-id="3ed87-131">hello DNS record corresponding toohello vault is also retained for hello duration of hello retention interval.</span></span>

### <a name="soft-delete-retention-period"></a><span data-ttu-id="3ed87-132">Saklama dönemi Soft-Sil</span><span class="sxs-lookup"><span data-stu-id="3ed87-132">Soft-delete retention period</span></span>

<span data-ttu-id="3ed87-133">Geçici silinen kaynaklar ayarlanmış saat, 90 gün boyunca saklanır.</span><span class="sxs-lookup"><span data-stu-id="3ed87-133">Soft deleted resources are retained for a set period of time, 90 days.</span></span> <span data-ttu-id="3ed87-134">Merhaba soft-delete bekletme aralığı boyunca hello aşağıdakileri uygulayın:</span><span class="sxs-lookup"><span data-stu-id="3ed87-134">During hello soft-delete retention interval, hello following apply:</span></span>

- <span data-ttu-id="3ed87-135">Tüm anahtar kasalarını hello ve bunlarla ilgili erişim silme ve kurtarma bilgileri yanı sıra, abonelik hello soft-delete durumdaki anahtar kasası nesneler listeleyebilir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-135">You may list all of hello key vaults and key vault objects in hello soft-delete state for your subscription as well as access deletion and recovery information about them.</span></span>
    - <span data-ttu-id="3ed87-136">Yalnızca özel izinlere sahip kullanıcılar, silinen kasalarını listeleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3ed87-136">Only users with special permissions can list deleted vaults.</span></span> <span data-ttu-id="3ed87-137">Kullanıcılarımızın silinmiş işleme kasaları için bu özel izinlere sahip olan özel bir rol oluşturmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="3ed87-137">We recommend that our users create a custom role with these special permissions for handling deleted vaults.</span></span>
- <span data-ttu-id="3ed87-138">Bir anahtar kasası ile aynı adı hello oluşturulamıyor hello aynı konuma; Bu anahtar kasası hello sahip bir nesne içeriyorsa, buna bağlı olarak, bir anahtar kasası nesne belirli bir kasada oluşturulamıyor aynı ada ve silinmiş durumda olduğu</span><span class="sxs-lookup"><span data-stu-id="3ed87-138">A key vault with hello same name cannot be created in hello same location; correspondingly, a key vault object cannot be created in a given vault if that key vault contains an object with hello same name and which is in a deleted state</span></span> 
- <span data-ttu-id="3ed87-139">Özellikle ayrıcalıklı bir kullanıcı bir anahtar kasası veya anahtar kasası nesne, hello karşılık gelen proxy kaynak Kurtar komutunda vererek geri yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3ed87-139">Only a specifically privileged user may restore a key vault or key vault object by issuing a recover command on hello corresponding proxy resource.</span></span>
    - <span data-ttu-id="3ed87-140">Merhaba kullanıcı hello ayrıcalık toocreate bir anahtar kasası hello kaynak grubu altında olan hello özel rol üyesi hello kasası geri yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3ed87-140">hello user, member of hello custom role, who has hello privilege toocreate a key vault under hello resource group can restore hello vault.</span></span>
- <span data-ttu-id="3ed87-141">Yalnızca özellikle ayrıcalıklı kullanıcı zorla bir anahtar kasası veya anahtar kasası nesne silme komutunu hello karşılık gelen proxy kaynakta yayımlayarak silebilir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-141">Only a specifically privileged user may forcibly delete a key vault or key vault object by issuing a delete command on hello corresponding proxy resource.</span></span>

<span data-ttu-id="3ed87-142">Bir anahtar kasası veya anahtar kasası nesne kurtarılan sürece, hello son hello bekletme aralığı hello hizmetinin geçici olarak silinen hello anahtar kasası veya anahtar kasası nesne ve içeriğini bir temizleme gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-142">Unless a key vault or key vault object is recovered, at hello end of hello retention interval hello service performs a purge of hello soft-deleted key vault or key vault object and its content.</span></span> <span data-ttu-id="3ed87-143">Kaynak silme yeniden değil.</span><span class="sxs-lookup"><span data-stu-id="3ed87-143">Resource deletion may not be rescheduled.</span></span>

### <a name="permitted-purge"></a><span data-ttu-id="3ed87-144">İzin verilen temizleme</span><span class="sxs-lookup"><span data-stu-id="3ed87-144">Permitted purge</span></span>

<span data-ttu-id="3ed87-145">Kalıcı olarak silmek, temizleme, bir anahtar kasası hello proxy kaynak üzerinde bir POST işlemi aracılığıyla mümkündür ve özel ayrıcalıklar gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3ed87-145">Permanently deleting, purging, a key vault is possible via a POST operation on hello proxy resource and requires special privileges.</span></span> <span data-ttu-id="3ed87-146">Genellikle, yalnızca hello abonelik sahibi mümkün toopurge bir anahtar kasası olacaktır.</span><span class="sxs-lookup"><span data-stu-id="3ed87-146">Generally, only hello subscription owner will be able toopurge a key vault.</span></span> <span data-ttu-id="3ed87-147">Merhaba POST işlemi tetikleyicileri, kasa anında ve kurtarılamaz silinmesini hello.</span><span class="sxs-lookup"><span data-stu-id="3ed87-147">hello POST operation triggers hello immediate and irrecoverable deletion of that vault.</span></span> 

<span data-ttu-id="3ed87-148">Bir özel durum toothis Hello Azure aboneliği olarak işaretlenmiş hello durumda olduğunda *silinemez*.</span><span class="sxs-lookup"><span data-stu-id="3ed87-148">An exception toothis is hello case when hello Azure subscription has been marked as *undeletable*.</span></span> <span data-ttu-id="3ed87-149">Bu durumda, yalnızca hello hizmeti hello gerçek silme sonra gerçekleştirebilir ve zamanlanmış bir işlem olarak bunu yapar.</span><span class="sxs-lookup"><span data-stu-id="3ed87-149">In this case, only hello service may then perform hello actual deletion, and does so as a scheduled process.</span></span> 



