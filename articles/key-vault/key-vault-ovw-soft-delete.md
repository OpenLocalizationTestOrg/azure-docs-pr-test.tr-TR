---
ms.assetid: 
title: "Azure anahtar kasası geçici silme | Microsoft Docs"
ms.service: key-vault
author: BrucePerlerMS
ms.author: bruceper
manager: mbaldwin
ms.date: 07/10/2017
ms.openlocfilehash: c873b153ef9c7d5f55672a5918c9dc4fb7256701
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-key-vault-soft-delete-overview"></a><span data-ttu-id="7ed7c-102">Azure anahtar kasası soft-delete genel bakış</span><span class="sxs-lookup"><span data-stu-id="7ed7c-102">Azure Key Vault soft-delete overview</span></span>

<span data-ttu-id="7ed7c-103">Anahtar Kasası'nın geçici silme özelliği soft-Sil olarak bilinen kasası nesneleri ve Silinen kasalarını kurtarılmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-103">Key Vault's soft delete feature allows recovery of the deleted vaults and vault objects, known as soft-delete.</span></span> <span data-ttu-id="7ed7c-104">Özellikle, aşağıdaki senaryolarda adresi:</span><span class="sxs-lookup"><span data-stu-id="7ed7c-104">Specifically, we address the following scenarios:</span></span>

- <span data-ttu-id="7ed7c-105">Bir anahtar kasası kurtarılabilir silinmesini desteği</span><span class="sxs-lookup"><span data-stu-id="7ed7c-105">Support for recoverable deletion of a key vault</span></span>
- <span data-ttu-id="7ed7c-106">Anahtar kasası nesnelerin (örneğin kurtarılabilir silinmesi için destek</span><span class="sxs-lookup"><span data-stu-id="7ed7c-106">Support for recoverable deletion of key vault objects (ex.</span></span> <span data-ttu-id="7ed7c-107">anahtarları, gizli, Sertifikalar)</span><span class="sxs-lookup"><span data-stu-id="7ed7c-107">keys, secrets, certificates)</span></span>

## <a name="supporting-interfaces"></a><span data-ttu-id="7ed7c-108">Arabirimleri destekleme</span><span class="sxs-lookup"><span data-stu-id="7ed7c-108">Supporting interfaces</span></span>

<span data-ttu-id="7ed7c-109">Soft-delete özellik .NET KULLANILMADIKLARI başlangıçta kullanılabilir / C# ve PowerShell arabirimleri.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-109">The soft-delete feature is initially available through the REST, .NET/C# and PowerShell interfaces.</span></span> <span data-ttu-id="7ed7c-110">Başvuruları bunlar hakkında daha fazla bilgi için bkz [anahtar kasası başvurusu](https://docs.microsoft.com/azure/key-vault/).</span><span class="sxs-lookup"><span data-stu-id="7ed7c-110">Refer to the references for these for more details, [Key Vault Reference](https://docs.microsoft.com/azure/key-vault/).</span></span>

## <a name="scenarios"></a><span data-ttu-id="7ed7c-111">Senaryolar</span><span class="sxs-lookup"><span data-stu-id="7ed7c-111">Scenarios</span></span>

<span data-ttu-id="7ed7c-112">Azure anahtar kasası, Azure Resource Manager tarafından yönetilen, izlenen kaynaklardır.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-112">Azure Key Vaults are tracked resources, managed by Azure Resource Manager.</span></span> <span data-ttu-id="7ed7c-113">Azure Resource Manager, aynı zamanda başarılı bir silme işlemi artık erişilebilir olmaması, kaynak neden gerekir gerektirir silme işlemi için iyi tanımlanmış bir davranış belirtir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-113">Azure Resource Manager also specifies a well-defined behavior for deletion, which requires that a successful DELETE operation must result in that resource not being accessible anymore.</span></span> <span data-ttu-id="7ed7c-114">Silme yanlışlıkla veya kasıtlı olup soft-delete özelliği silinen nesnenin kurtarma giderir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-114">The soft-delete feature addresses the recovery of the deleted object, whether the deletion was accidental or intentional.</span></span>

1. <span data-ttu-id="7ed7c-115">Tipik senaryo, bir kullanıcı yanlışlıkla bir anahtar kasası ya da bir anahtar kasası nesnesi silmiş; Kasa veya anahtar kasası nesne anahtarı, önceden belirlenmiş bir süre boyunca kurtarılabilir olacak şekilde, kullanıcı silme işlemi geri almak ve verilerini kurtarma.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-115">In the typical scenario, a user may have inadvertently deleted a key vault or a key vault object; if that key vault or key vault object were to be recoverable for a predetermined period, the user may undo the deletion and recover their data.</span></span>

2. <span data-ttu-id="7ed7c-116">Farklı bir senaryoda dolandırıcı bir kullanıcı bir anahtar kasası veya iş kesintiye neden bir kasa içinde bir anahtarı gibi bir anahtar kasası nesnesi silme girişiminde bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-116">In a different scenario, a rogue user may attempt to delete a key vault or a key vault object, such as a key inside a vault, to cause a business disruption.</span></span> <span data-ttu-id="7ed7c-117">Temel alınan veri gerçek silinmeye karşı anahtar kasası ya da anahtar kasası nesnesinin silinmesini ayıran bir güvenlik önlemi olarak, örneğin, farklı, veri silme izinlerini kısıtlayarak rolü güvenilir olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-117">Separating the deletion of the key vault or key vault object from the actual deletion of the underlying data can be used as a safety measure by, for instance, restricting permissions on data deletion to a different, trusted role.</span></span> <span data-ttu-id="7ed7c-118">Bu yaklaşım, aksi takdirde bir hemen veri kaybına neden bir işlem için etkili bir şekilde çekirdek gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-118">This approach effectively requires quorum for an operation which might otherwise result in an immediate data loss.</span></span>

### <a name="soft-delete-behavior"></a><span data-ttu-id="7ed7c-119">Geçici silme davranışı</span><span class="sxs-lookup"><span data-stu-id="7ed7c-119">Soft-delete behavior</span></span>

<span data-ttu-id="7ed7c-120">Bu özellik ile bir anahtar kasası veya anahtar kasası nesne silme işlemini bir yumuşak etkili bir şekilde nesne silinir görünüm vermiş sırasında ek olarak, belirli Bekletme dönemi için kaynakları bulunduran silme, ' dir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-120">With this feature, the DELETE operation on a key vault or key vault object is a soft-delete, effectively holding the resources for a given retention period, while giving the appearance that the object is deleted.</span></span> <span data-ttu-id="7ed7c-121">Daha fazla hizmet temelde silme işlemi geri alma Silinmiş nesne kurtarmak için bir mekanizma sağlar.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-121">The service further provides a mechanism for recovering the deleted object, essentially undoing the deletion.</span></span> 

<span data-ttu-id="7ed7c-122">Soft-delete isteğe bağlı bir anahtar kasası davranışı ve **varsayılan olarak etkin değildir** bu sürümde.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-122">Soft-delete is an optional Key Vault behavior and is **not enabled by default** in this release.</span></span> <span data-ttu-id="7ed7c-123">Soft-delete anahtar kasanız için etkinleştirme Ayrıntılar için bkz: tercih ettiğiniz arabirimi başvurusunu belirli kılavuzunda [anahtar kasası başvurusu](https://docs.microsoft.com/azure/key-vault/).</span><span class="sxs-lookup"><span data-stu-id="7ed7c-123">For details on enabling soft-delete for your key vault, see the specific guidance in the reference for the interface of your choice, [Key Vault Reference](https://docs.microsoft.com/azure/key-vault/).</span></span>

### <a name="key-vault-recovery"></a><span data-ttu-id="7ed7c-124">Anahtar kasası kurtarma</span><span class="sxs-lookup"><span data-stu-id="7ed7c-124">Key vault recovery</span></span>

<span data-ttu-id="7ed7c-125">Bir anahtar kasasını silme bağlı hizmet kurtarma için yeterli meta veri ekleme, abonelik altında bir proxy kaynak oluşturur.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-125">Upon deleting a key vault, the service creates a proxy resource under the subscription, adding sufficient metadata for recovery.</span></span> <span data-ttu-id="7ed7c-126">Proxy kaynak, silinen anahtar kasası ile aynı konumda kullanılabilir saklanan bir nesne değil.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-126">The proxy resource is a stored object, available in the same location as the deleted key vault.</span></span> 

### <a name="key-vault-object-recovery"></a><span data-ttu-id="7ed7c-127">Anahtar kasası nesne kurtarma</span><span class="sxs-lookup"><span data-stu-id="7ed7c-127">Key vault object recovery</span></span>

<span data-ttu-id="7ed7c-128">Bir anahtarı gibi bir anahtar kasası nesnesi silme bağlı hizmet nesne silinmiş durumda, böylece alma işlemleri için erişilemez hale yerleştirir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-128">Upon deleting a key vault object, such as a key, the service will place the object in a deleted state, thus making it inaccessible to any retrieval operations.</span></span> <span data-ttu-id="7ed7c-129">Bu durumundayken, anahtar kasası nesne yalnızca, kurtarılan veya zorla/kalıcı olarak silinmiş listelenebilir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-129">While in this state, the key vault object can only be listed, recovered, or forcefully/permanently deleted.</span></span> 

<span data-ttu-id="7ed7c-130">Aynı anda anahtar kasası silinen anahtar kasası veya önceden belirlenmiş bekletme aralığından sonra yürütme için anahtar kasası nesnesinin karşılık gelen temel alınan verilerin silinmesini zamanlar.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-130">At the same time, Key Vault will schedule the deletion of the underlying data corresponding to the deleted key vault or key vault object for execution after a predetermined retention interval.</span></span> <span data-ttu-id="7ed7c-131">Kasası'na karşılık gelen DNS kaydı da bekletme aralığı boyunca tutulur.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-131">The DNS record corresponding to the vault is also retained for the duration of the retention interval.</span></span>

### <a name="soft-delete-retention-period"></a><span data-ttu-id="7ed7c-132">Saklama dönemi Soft-Sil</span><span class="sxs-lookup"><span data-stu-id="7ed7c-132">Soft-delete retention period</span></span>

<span data-ttu-id="7ed7c-133">Geçici silinen kaynaklar ayarlanmış saat, 90 gün boyunca saklanır.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-133">Soft deleted resources are retained for a set period of time, 90 days.</span></span> <span data-ttu-id="7ed7c-134">Soft-delete bekletme aralığı boyunca aşağıdaki Uygula:</span><span class="sxs-lookup"><span data-stu-id="7ed7c-134">During the soft-delete retention interval, the following apply:</span></span>

- <span data-ttu-id="7ed7c-135">Tüm anahtar kasalarını ve bunlarla ilgili erişim silme ve kurtarma bilgileri yanı sıra, abonelik için geçici silme durumunda anahtar kasası nesneleri listeleyebilir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-135">You may list all of the key vaults and key vault objects in the soft-delete state for your subscription as well as access deletion and recovery information about them.</span></span>
    - <span data-ttu-id="7ed7c-136">Yalnızca özel izinlere sahip kullanıcılar, silinen kasalarını listeleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-136">Only users with special permissions can list deleted vaults.</span></span> <span data-ttu-id="7ed7c-137">Kullanıcılarımızın silinmiş işleme kasaları için bu özel izinlere sahip olan özel bir rol oluşturmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-137">We recommend that our users create a custom role with these special permissions for handling deleted vaults.</span></span>
- <span data-ttu-id="7ed7c-138">Aynı ada sahip bir anahtar kasası aynı konumda oluşturulamıyor; Bu anahtar kasası ile aynı ada ve silinmiş durumda olduğu bir nesne içeriyorsa, buna bağlı olarak, bir anahtar kasası nesne belirli bir kasada oluşturulamıyor</span><span class="sxs-lookup"><span data-stu-id="7ed7c-138">A key vault with the same name cannot be created in the same location; correspondingly, a key vault object cannot be created in a given vault if that key vault contains an object with the same name and which is in a deleted state</span></span> 
- <span data-ttu-id="7ed7c-139">Özellikle ayrıcalıklı bir kullanıcı bir anahtar kasası veya anahtar kasası nesne, karşılık gelen proxy kaynak Kurtar komutunda vererek geri yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-139">Only a specifically privileged user may restore a key vault or key vault object by issuing a recover command on the corresponding proxy resource.</span></span>
    - <span data-ttu-id="7ed7c-140">Kullanıcı, kaynak grubu altında bir anahtar kasası oluşturmak için ayrıcalığına sahip olduğunuz özel rol üyesi kasa geri yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-140">The user, member of the custom role, who has the privilege to create a key vault under the resource group can restore the vault.</span></span>
- <span data-ttu-id="7ed7c-141">Yalnızca özellikle ayrıcalıklı kullanıcı zorla bir anahtar kasası veya anahtar kasası nesne silme komutunu karşılık gelen proxy kaynakta yayımlayarak silebilir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-141">Only a specifically privileged user may forcibly delete a key vault or key vault object by issuing a delete command on the corresponding proxy resource.</span></span>

<span data-ttu-id="7ed7c-142">Bir anahtar kasası veya anahtar kasası nesne kurtarılan sürece, bekletme aralığı sona erdiğinde hizmeti geçici olarak silinen anahtar kasası veya anahtar kasası nesne ve içeriğini temizleme gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-142">Unless a key vault or key vault object is recovered, at the end of the retention interval the service performs a purge of the soft-deleted key vault or key vault object and its content.</span></span> <span data-ttu-id="7ed7c-143">Kaynak silme yeniden değil.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-143">Resource deletion may not be rescheduled.</span></span>

### <a name="permitted-purge"></a><span data-ttu-id="7ed7c-144">İzin verilen temizleme</span><span class="sxs-lookup"><span data-stu-id="7ed7c-144">Permitted purge</span></span>

<span data-ttu-id="7ed7c-145">Kalıcı olarak silmek, temizleme, bir anahtar kasası proxy kaynak üzerinde bir POST işlemi aracılığıyla mümkündür ve özel ayrıcalıklar gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-145">Permanently deleting, purging, a key vault is possible via a POST operation on the proxy resource and requires special privileges.</span></span> <span data-ttu-id="7ed7c-146">Genellikle, yalnızca abonelik sahibi bir anahtar kasası temizleme mümkün olacaktır.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-146">Generally, only the subscription owner will be able to purge a key vault.</span></span> <span data-ttu-id="7ed7c-147">Bu kasaya hemen ve kurtarılamaz silinmesini gönderme işlemini tetikler.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-147">The POST operation triggers the immediate and irrecoverable deletion of that vault.</span></span> 

<span data-ttu-id="7ed7c-148">Azure aboneliği olarak işaretlendiği takdirde bu konuda bir özel durumdur *silinemez*.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-148">An exception to this is the case when the Azure subscription has been marked as *undeletable*.</span></span> <span data-ttu-id="7ed7c-149">Bu durumda, yalnızca hizmet gerçek silme sonra gerçekleştirebilir ve zamanlanmış bir işlem olarak bunu yapar.</span><span class="sxs-lookup"><span data-stu-id="7ed7c-149">In this case, only the service may then perform the actual deletion, and does so as a scheduled process.</span></span> 



