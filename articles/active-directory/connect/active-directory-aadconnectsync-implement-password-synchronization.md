---
title: "Azure AD Connect eşitleme ile parola eşitlemesini uygulama | Microsoft Docs"
description: "Parola Eşitleme nasıl çalışır ve nasıl ayarlandığı hakkında bilgi sağlar."
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
editor: 
ms.assetid: 05f16c3e-9d23-45dc-afca-3d0fa9dbf501
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: billmath
ms.openlocfilehash: db9b1578a235be9018fc1985cc75a0a05ee47b3a
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/03/2017
---
# <a name="implement-password-synchronization-with-azure-ad-connect-sync"></a><span data-ttu-id="7a903-103">Azure AD Connect eşitleme ile parola eşitlemeyi uygulama</span><span class="sxs-lookup"><span data-stu-id="7a903-103">Implement password synchronization with Azure AD Connect sync</span></span>
<span data-ttu-id="7a903-104">Bu makale, şirket içi Active Directory örneğinden bir bulut tabanlı Azure Active Directory (Azure AD) örneği, kullanıcı parolalarını eşitlemek için gereken bilgileri sağlar.</span><span class="sxs-lookup"><span data-stu-id="7a903-104">This article provides information that you need to synchronize your user passwords from an on-premises Active Directory instance to a cloud-based Azure Active Directory (Azure AD) instance.</span></span>

## <a name="what-is-password-synchronization"></a><span data-ttu-id="7a903-105">Parola Eşitleme nedir</span><span class="sxs-lookup"><span data-stu-id="7a903-105">What is password synchronization</span></span>
<span data-ttu-id="7a903-106">Olasılık unutulmuş parola nedeniyle işinizi alma engellenen unutmayın için ihtiyacınız olan farklı parola sayısını ilişkilidir.</span><span class="sxs-lookup"><span data-stu-id="7a903-106">The probability that you're blocked from getting your work done due to a forgotten password is related to the number of different passwords you need to remember.</span></span> <span data-ttu-id="7a903-107">Unutmayın, yüksek olasılık bir unuttunuz yapmanız parolaların.</span><span class="sxs-lookup"><span data-stu-id="7a903-107">The more passwords you need to remember, the higher the probability to forget one.</span></span> <span data-ttu-id="7a903-108">Sorular ve parola sıfırlama ve diğer parola ile ilgili sorunlar hakkında çağrıları çoğu Yardım Masası kaynakları talep.</span><span class="sxs-lookup"><span data-stu-id="7a903-108">Questions and calls about password resets and other password-related issues demand the most helpdesk resources.</span></span>

<span data-ttu-id="7a903-109">Parola Eşitleme, şirket içi Active Directory örneğinden bir bulut tabanlı Azure kullanıcı parolalarını eşitlemek için kullanılan bir özelliğidir AD örneği.</span><span class="sxs-lookup"><span data-stu-id="7a903-109">Password synchronization is a feature used to synchronize user passwords from an on-premises Active Directory instance to a cloud-based Azure AD instance.</span></span>
<span data-ttu-id="7a903-110">Office 365, Microsoft Intune, CRM Online ve Azure Active Directory etki alanı Hizmetleri (Azure AD DS) gibi Azure AD hizmetlerinde oturum açmak için bu özelliği kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a903-110">Use this feature to sign in to Azure AD services like Office 365, Microsoft Intune, CRM Online, and Azure Active Directory Domain Services (Azure AD DS).</span></span> <span data-ttu-id="7a903-111">Hizmete şirket içi Active Directory örneğinizle oturum açmak için kullandığınız aynı parola kullanarak oturum açın.</span><span class="sxs-lookup"><span data-stu-id="7a903-111">You sign in to the service by using the same password you use to sign in to your on-premises Active Directory instance.</span></span>

![Azure AD Connect nedir?](./media/active-directory-aadconnectsync-implement-password-synchronization/arch1.png)

<span data-ttu-id="7a903-113">Parola sayısını azaltarak yalnızca birine korumak için kullanıcılarınızın gerekir.</span><span class="sxs-lookup"><span data-stu-id="7a903-113">By reducing the number of passwords, your users need to maintain to just one.</span></span> <span data-ttu-id="7a903-114">Parola Eşitleme, yardımcı olur:</span><span class="sxs-lookup"><span data-stu-id="7a903-114">Password synchronization helps you to:</span></span>

* <span data-ttu-id="7a903-115">Kullanıcılarınızın verimliliğini artırır.</span><span class="sxs-lookup"><span data-stu-id="7a903-115">Improve the productivity of your users.</span></span>
* <span data-ttu-id="7a903-116">Yardım Masası maliyetlerini azaltır.</span><span class="sxs-lookup"><span data-stu-id="7a903-116">Reduce your helpdesk costs.</span></span>  

<span data-ttu-id="7a903-117">Ayrıca, kullanmaya karar verirseniz [Active Directory Federasyon Hizmetleri (AD FS) ile Federasyon](https://channel9.msdn.com/Series/Azure-Active-Directory-Videos-Demos/Configuring-AD-FS-for-user-sign-in-with-Azure-AD-Connect), AD FS altyapınızı başarısız olursa, isteğe bağlı olarak parola eşitleme yedek olarak ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7a903-117">Also, if you decide to use [Federation with Active Directory Federation Services (AD FS)](https://channel9.msdn.com/Series/Azure-Active-Directory-Videos-Demos/Configuring-AD-FS-for-user-sign-in-with-Azure-AD-Connect), you can optionally set up password synchronization as a backup in case your AD FS infrastructure fails.</span></span>

<span data-ttu-id="7a903-118">Parola Eşitleme, Azure AD Connect eşitleme tarafından uygulanan dizin eşitleme özelliğini uzantısıdır.</span><span class="sxs-lookup"><span data-stu-id="7a903-118">Password synchronization is an extension to the directory synchronization feature implemented by Azure AD Connect sync.</span></span> <span data-ttu-id="7a903-119">Parola Eşitleme, ortamınızda kullanmak için aktarmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="7a903-119">To use password synchronization in your environment, you need to:</span></span>

* <span data-ttu-id="7a903-120">Azure AD Connect'i yükleme.</span><span class="sxs-lookup"><span data-stu-id="7a903-120">Install Azure AD Connect.</span></span>  
* <span data-ttu-id="7a903-121">Şirket içi Active Directory örneğinizi ve Azure Active Directory örneğinizi arasında dizin eşitlemesi yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="7a903-121">Configure directory synchronization between your on-premises Active Directory instance and your Azure Active Directory instance.</span></span>
* <span data-ttu-id="7a903-122">Parola eşitlemeyi etkinleştir.</span><span class="sxs-lookup"><span data-stu-id="7a903-122">Enable password synchronization.</span></span>

<span data-ttu-id="7a903-123">Daha ayrıntılı bilgi için bkz. [Şirket içi kimliklerinizi Azure Active Directory ile tümleştirme](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="7a903-123">For more details, see [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>

> [!NOTE]
> <span data-ttu-id="7a903-124">Azure Active Directory etki alanı FIPS ve parola eşitleme için yapılandırılmış hizmetleri hakkında daha fazla ayrıntı için bu makalenin sonraki bölümlerinde "Parola Eşitleme ve FIPS" konusuna bakın.</span><span class="sxs-lookup"><span data-stu-id="7a903-124">For more details about Azure Active Directory Domain Services configured for FIPS and password synchronization, see "Password synchronization and FIPS" later in this article.</span></span>
>
>

## <a name="how-password-synchronization-works"></a><span data-ttu-id="7a903-125">Parola Eşitleme nasıl çalışır</span><span class="sxs-lookup"><span data-stu-id="7a903-125">How password synchronization works</span></span>
<span data-ttu-id="7a903-126">Active Directory etki alanı hizmeti parolaları gerçek kullanıcı parolası bir karma değer gösterimini biçiminde depolar.</span><span class="sxs-lookup"><span data-stu-id="7a903-126">The Active Directory domain service stores passwords in the form of a hash value representation of the actual user password.</span></span> <span data-ttu-id="7a903-127">Bir karma değer tek yönlü matematiksel işlevi sonucudur ( *karma algoritması*).</span><span class="sxs-lookup"><span data-stu-id="7a903-127">A hash value is a result of a one-way mathematical function (the *hashing algorithm*).</span></span> <span data-ttu-id="7a903-128">Bir parola düz metin sürümü için tek yönlü işlevin sonucu dönmek için bir yöntem yoktur.</span><span class="sxs-lookup"><span data-stu-id="7a903-128">There is no method to revert the result of a one-way function to the plain text version of a password.</span></span> <span data-ttu-id="7a903-129">Şirket içi ağınızda oturum açmak için parola karması kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="7a903-129">You cannot use a password hash to sign in to your on-premises network.</span></span>

<span data-ttu-id="7a903-130">Parolanızı eşitlemek için şirket içi Active Directory örneğinden parola karmasını Azure AD Connect eşitleme ayıklar.</span><span class="sxs-lookup"><span data-stu-id="7a903-130">To synchronize your password, Azure AD Connect sync extracts your password hash from the on-premises Active Directory instance.</span></span> <span data-ttu-id="7a903-131">Azure Active Directory kimlik doğrulama hizmeti eşitlenmeden önce ek güvenlik işleme parola karması uygulanır.</span><span class="sxs-lookup"><span data-stu-id="7a903-131">Extra security processing is applied to the password hash before it is synchronized to the Azure Active Directory authentication service.</span></span> <span data-ttu-id="7a903-132">Parolalar, kullanıcı başına temelinde ve kronolojik sıraya göre eşitlenir.</span><span class="sxs-lookup"><span data-stu-id="7a903-132">Passwords are synchronized on a per-user basis and in chronological order.</span></span>

<span data-ttu-id="7a903-133">Parola eşitleme işleminin gerçek veri akışı DisplayName veya e-posta adresleri gibi kullanıcı verilerinin eşitlemesine ilişkin benzer.</span><span class="sxs-lookup"><span data-stu-id="7a903-133">The actual data flow of the password synchronization process is similar to the synchronization of user data such as DisplayName or Email Addresses.</span></span> <span data-ttu-id="7a903-134">Ancak, parolalar diğer öznitelikleri için standart dizin eşitleme pencere daha sık eşitlenir.</span><span class="sxs-lookup"><span data-stu-id="7a903-134">However, passwords are synchronized more frequently than the standard directory synchronization window for other attributes.</span></span> <span data-ttu-id="7a903-135">Parola Eşitleme işlemi 2 dakikada bir çalışır.</span><span class="sxs-lookup"><span data-stu-id="7a903-135">The password synchronization process runs every 2 minutes.</span></span> <span data-ttu-id="7a903-136">Bu işlemin sıklığını değiştiremezsiniz.</span><span class="sxs-lookup"><span data-stu-id="7a903-136">You cannot modify the frequency of this process.</span></span> <span data-ttu-id="7a903-137">Parola Eşitleme sırasında mevcut bulut parolayı üzerine yazar.</span><span class="sxs-lookup"><span data-stu-id="7a903-137">When you synchronize a password, it overwrites the existing cloud password.</span></span>

<span data-ttu-id="7a903-138">İlk kez parola eşitleme özelliği etkinleştirdiğinizde, parolaların tüm kapsam kullanıcıların bir başlangıç eşitlemesi gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="7a903-138">The first time you enable the password synchronization feature, it performs an initial synchronization of the passwords of all in-scope users.</span></span> <span data-ttu-id="7a903-139">Bir alt kümesini eşitlemek istediğiniz kullanıcı parolalarını açıkça tanımlayamazsınız.</span><span class="sxs-lookup"><span data-stu-id="7a903-139">You cannot explicitly define a subset of user passwords that you want to synchronize.</span></span>

<span data-ttu-id="7a903-140">Bir şirket içi parola değiştirdiğinizde, güncelleştirilmiş parolayı, genellikle birkaç dakika içinde eşitlenir.</span><span class="sxs-lookup"><span data-stu-id="7a903-140">When you change an on-premises password, the updated password is synchronized, most often in a matter of minutes.</span></span>
<span data-ttu-id="7a903-141">Parola eşitleme özelliği başarısız eşitleme girişimleri otomatik olarak yeniden dener.</span><span class="sxs-lookup"><span data-stu-id="7a903-141">The password synchronization feature automatically retries failed synchronization attempts.</span></span> <span data-ttu-id="7a903-142">Bir hata, bir parola eşitleme girişimi sırasında bir hata oluşursa, Olay Görüntüleyicisi'nde günlüğe kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="7a903-142">If an error occurs during an attempt to synchronize a password, an error is logged in your event viewer.</span></span>

<span data-ttu-id="7a903-143">Parola Eşitleme, şu anda açık olan kullanıcının herhangi bir etkisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="7a903-143">The synchronization of a password has no impact on the user  who is currently signed in.</span></span>
<span data-ttu-id="7a903-144">Geçerli bulut hizmeti oturumunuz bir bulut hizmetinde oturum sırasında oluşan bir eşitlenmiş parola değişikliği hemen etkilenmez.</span><span class="sxs-lookup"><span data-stu-id="7a903-144">Your current cloud service session is not immediately affected by a synchronized password change that occurs while you are signed in to a cloud service.</span></span> <span data-ttu-id="7a903-145">Ancak, bulut hizmeti yeniden kimlik doğrulaması gerektirdiğinde, yeni parolanızı sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="7a903-145">However, when the cloud service requires you to authenticate again, you need to provide your new password.</span></span>

<span data-ttu-id="7a903-146">Bir kullanıcının şirket kimlik bilgilerini, olup bunlar şirket ağlarına oturum açtınız bağımsız olarak Azure AD kimlik doğrulaması için ikinci kez girmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="7a903-146">A user must enter their corporate credentials a second time to authenticate to Azure AD, regardless of whether they're signed in to their corporate network.</span></span> <span data-ttu-id="7a903-147">Kullanıcı oturum açmada (KMSI) onay kutusundaki bana imzalı tut seçerse bu deseni, ancak en aza indirgenebilir.</span><span class="sxs-lookup"><span data-stu-id="7a903-147">These pattern can be minimized, however, if the user selects the Keep me signed in (KMSI) check box at sign in.</span></span> <span data-ttu-id="7a903-148">Bu seçim, kısa bir süre için kimlik doğrulaması atlayan bir oturum tanımlama bilgisi ayarlar.</span><span class="sxs-lookup"><span data-stu-id="7a903-148">This selection sets a session cookie that bypasses authentication for a short period.</span></span> <span data-ttu-id="7a903-149">KMSI davranışı etkin veya Azure AD Yöneticisi tarafından devre dışı.</span><span class="sxs-lookup"><span data-stu-id="7a903-149">KMSI behavior can be enabled or disabled by the Azure AD administrator.</span></span>

> [!NOTE]
> <span data-ttu-id="7a903-150">Parola Eşitleme, yalnızca Active Directory nesne türü kullanıcı için desteklenir.</span><span class="sxs-lookup"><span data-stu-id="7a903-150">Password sync is only supported for the object type user in Active Directory.</span></span> <span data-ttu-id="7a903-151">İNetOrgPerson nesne türü için desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="7a903-151">It is not supported for the iNetOrgPerson object type.</span></span>

### <a name="detailed-description-of-how-password-synchronization-works"></a><span data-ttu-id="7a903-152">Parola Eşitleme nasıl çalışır ayrıntılı açıklama</span><span class="sxs-lookup"><span data-stu-id="7a903-152">Detailed description of how password synchronization works</span></span>
<span data-ttu-id="7a903-153">Aşağıdaki ayrıntılı parola eşitleme, Active Directory ve Azure AD arasında nasıl çalıştığını açıklar.</span><span class="sxs-lookup"><span data-stu-id="7a903-153">The following describes in-depth how password synchronization works between Active Directory and Azure AD.</span></span>

![Ayrıntılı parola akışı](./media/active-directory-aadconnectsync-implement-password-synchronization/arch3.png)


1. <span data-ttu-id="7a903-155">Her iki dakikada AD Connect sunucusundaki parola eşitleme Aracısı standart aracılığıyla bir DC gelen depolanan parola karmalarını (unicodePwd özniteliği) istekleri [MS-DRSR](https://msdn.microsoft.com/library/cc228086.aspx) arasında veri eşitlemek için kullanılan çoğaltma Protokolü DC'lerin.</span><span class="sxs-lookup"><span data-stu-id="7a903-155">Every two minutes, the password synchronization agent on the AD Connect server requests stored password hashes (the unicodePwd attribute) from a DC via the standard [MS-DRSR](https://msdn.microsoft.com/library/cc228086.aspx) replication protocol used to synchronize data between DCs.</span></span> <span data-ttu-id="7a903-156">Hizmet hesabı, parola karmaları almak için dizin değişiklikleri Çoğalt ve (yüklemesinde varsayılan olarak) çoğaltmak dizin değişiklikleri tüm AD izinler olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7a903-156">The service account must have Replicate Directory Changes and Replicate Directory Changes All AD permissions (granted by default on installation) to obtain the password hashes.</span></span>
2. <span data-ttu-id="7a903-157">Göndermeden önce etki alanı denetleyicisi MD4 parola karması bir anahtarı kullanarak şifreler bir [MD5](http://www.rfc-editor.org/rfc/rfc1321.txt) karma RPC oturum anahtarı ve bir veri dizesi.</span><span class="sxs-lookup"><span data-stu-id="7a903-157">Before sending, the DC encrypts the MD4 password hash by using a key that is a [MD5](http://www.rfc-editor.org/rfc/rfc1321.txt) hash of the RPC session key and a salt.</span></span> <span data-ttu-id="7a903-158">Bunu ardından sonucu için parola eşitleme Aracısı RPC üzerinden gönderir.</span><span class="sxs-lookup"><span data-stu-id="7a903-158">It then sends the result to the password synchronization agent over RPC.</span></span> <span data-ttu-id="7a903-159">DC ayrıca salt eşitleme Aracısı aracı Zarf şifresini mümkün olması için DC çoğaltma protokolü kullanarak geçirir.</span><span class="sxs-lookup"><span data-stu-id="7a903-159">The DC also passes the salt to the synchronization agent by using the DC replication protocol, so the agent will be able to decrypt the envelope.</span></span>
3.  <span data-ttu-id="7a903-160">Parola Eşitleme Aracısı şifrelenmiş Zarf sahip olduktan sonra onu kullanır [MD5CryptoServiceProvider](https://msdn.microsoft.com/library/System.Security.Cryptography.MD5CryptoServiceProvider.aspx) ve özgün MD4 biçiminde dön alınan verilerin şifresini çözmek için bir anahtar oluşturmak için veri dizesi.</span><span class="sxs-lookup"><span data-stu-id="7a903-160">After the password synchronization agent has the encrypted envelope, it uses [MD5CryptoServiceProvider](https://msdn.microsoft.com/library/System.Security.Cryptography.MD5CryptoServiceProvider.aspx) and the salt to generate a key to decrypt the received data back to its original MD4 format.</span></span> <span data-ttu-id="7a903-161">Herhangi bir noktada parola eşitleme Aracısı düz metin parolası erişimi yok.</span><span class="sxs-lookup"><span data-stu-id="7a903-161">At no point does the password synchronization agent have access to the clear text password.</span></span> <span data-ttu-id="7a903-162">Parola Eşitleme aracının MD5 kesinlikle DC ile çoğaltma Protokolü uyumluluk için kullanılır ve yalnızca şirket içi etki alanı denetleyicisi ve parola eşitleme aracısı arasında kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a903-162">The password synchronization agent’s use of MD5 is strictly for replication protocol compatibility with the DC, and it is only used on premises between the DC and the password synchronization agent.</span></span>
4.  <span data-ttu-id="7a903-163">Parola Eşitleme Aracısı ilk Bu dize dönüştürme bir bayt 32 onaltılık dize karma geri UTF-16 kodlamalı ikili dönüştürerek 16 bayt ikili parola karması 64 bayt genişletir.</span><span class="sxs-lookup"><span data-stu-id="7a903-163">The password synchronization agent expands the 16-byte binary password hash to 64 bytes by first converting the hash to a 32-byte hexadecimal string, then converting this string back into binary with UTF-16 encoding.</span></span>
5.  <span data-ttu-id="7a903-164">Parola Eşitleme aracısı için özgün karma daha iyi korumak için 64-bayt ikili 10 bayt uzunlukta bir veri dizesi oluşan bir veri dizesi ekler.</span><span class="sxs-lookup"><span data-stu-id="7a903-164">The password synchronization agent adds a salt, consisting of a 10-byte length salt, to the 64-byte binary to further protect the original hash.</span></span>
6.  <span data-ttu-id="7a903-165">Parola Eşitleme Aracısı sonra MD4 karma artı salt birleştirir ve içine girdi [PBKDF2](https://www.ietf.org/rfc/rfc2898.txt) işlevi.</span><span class="sxs-lookup"><span data-stu-id="7a903-165">The password synchronization agent then combines the MD4 hash plus salt, and inputs it into the [PBKDF2](https://www.ietf.org/rfc/rfc2898.txt) function.</span></span> <span data-ttu-id="7a903-166">1000 yinelemelerini [HMAC SHA256](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) anahtarlı karma algoritma kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a903-166">1000 iterations of the [HMAC-SHA256](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) keyed hashing algorithm is used.</span></span> 
7.  <span data-ttu-id="7a903-167">Parola Eşitleme Aracısı elde edilen 32 baytlık karma alır, salt ve (tarafından kullanılmak üzere Azure AD) kendisine SHA256 yineleme sayısını art arda ekler ve sonra Azure ad, Azure AD Connect dizeden SSL üzerinden iletir.</span><span class="sxs-lookup"><span data-stu-id="7a903-167">The password synchronization agent takes the resulting 32-byte hash, concatenates both the salt and the number of SHA256 iterations to it (for use by Azure AD), then transmits the string from Azure AD Connect to Azure AD over SSL.</span></span></br> 
8.  <span data-ttu-id="7a903-168">Bir kullanıcı Azure AD ile oturum açmasını sağlamaya çalışır ve parolasını girer, parola aynı MD4 + salt + PBKDF2 + HMAC SHA256 işlemi çalıştırılır.</span><span class="sxs-lookup"><span data-stu-id="7a903-168">When a user attempts to sign in to Azure AD and enters their password, the password is run through the same MD4+salt+PBKDF2+HMAC-SHA256 process.</span></span> <span data-ttu-id="7a903-169">Sonuçta elde edilen karma Azure AD'de depolanan karma eşleşirse, kullanıcı doğru parolayı geçtiğini ve doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="7a903-169">If the resulting hash matches the hash stored in Azure AD, the user has entered the correct password and is authenticated.</span></span> 

>[!Note] 
><span data-ttu-id="7a903-170">Özgün MD4 karma Azure AD'ye aktarılan değil.</span><span class="sxs-lookup"><span data-stu-id="7a903-170">The original MD4 hash is not transmitted to Azure AD.</span></span> <span data-ttu-id="7a903-171">Bunun yerine, özgün MD4 karma SHA256 karma iletilir.</span><span class="sxs-lookup"><span data-stu-id="7a903-171">Instead, the SHA256 hash of the original MD4 hash is transmitted.</span></span> <span data-ttu-id="7a903-172">Sonuç olarak, Azure AD'de depolanan karması alınıyorsa, bir şirket içi pass--hash saldırısında kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="7a903-172">As a result, if the hash stored in Azure AD is obtained, it cannot be used in an on-premises pass-the-hash attack.</span></span>

### <a name="how-password-synchronization-works-with-azure-active-directory-domain-services"></a><span data-ttu-id="7a903-173">Parola Eşitleme Azure Active Directory etki alanı Hizmetleri ile nasıl çalışır</span><span class="sxs-lookup"><span data-stu-id="7a903-173">How password synchronization works with Azure Active Directory Domain Services</span></span>
<span data-ttu-id="7a903-174">Şirket içi parolalarınızı eşitlemek için parola eşitleme özelliği de kullanabilirsiniz [Azure Active Directory etki alanı Hizmetleri](../../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7a903-174">You can also use the password synchronization feature to synchronize your on-premises passwords to [Azure Active Directory Domain Services](../../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="7a903-175">Bu senaryoda, Azure Active Directory etki alanı Hizmetleri örneği, kullanıcılarınızın bulutta şirket içi Active Directory örneğinizi kullanılabilir tüm yöntemleri ile kimliğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="7a903-175">In this scenario, the Azure Active Directory Domain Services instance authenticates your users in the cloud with all the methods available in your on-premises Active Directory instance.</span></span> <span data-ttu-id="7a903-176">Bu senaryo deneyimi, bir şirket içi ortamda Active Directory Geçiş Aracı'nı (ADMT) kullanmaya benzer.</span><span class="sxs-lookup"><span data-stu-id="7a903-176">The experience of this scenario is similar to using the Active Directory Migration Tool (ADMT) in an on-premises environment.</span></span>

### <a name="security-considerations"></a><span data-ttu-id="7a903-177">Güvenlikle ilgili dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="7a903-177">Security considerations</span></span>
<span data-ttu-id="7a903-178">Parola eşitleme yaparken parolanızı düz metin sürümü parola eşitleme özelliği, Azure ad veya ilişkili hizmetlerden herhangi biri gösterilmez.</span><span class="sxs-lookup"><span data-stu-id="7a903-178">When synchronizing passwords, the plain-text version of your password is not exposed to the password synchronization feature, to Azure AD, or any of the associated services.</span></span>

<span data-ttu-id="7a903-179">Kullanıcı kimlik doğrulaması Azure ad yerine kuruluşun kendi Active Directory örneğiyle gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="7a903-179">User authentication takes place against Azure AD rather than against the organization's own Active Directory instance.</span></span> <span data-ttu-id="7a903-180">Kuruluşunuzun parola verileri herhangi bir şirket içi bırakarak formunda, SHA256 parola verileri Azure AD'de--depolanan düşünmek endişeniz varsa özgün MD4 karma--karmasını Active Directory'de depolanan daha önemli ölçüde daha güvenlidir.</span><span class="sxs-lookup"><span data-stu-id="7a903-180">If your organization has concerns about password data in any form leaving the premises, consider the fact that the SHA256 password data stored in Azure AD--a hash of the original MD4 hash--is significantly more secure than what is stored in Active Directory.</span></span> <span data-ttu-id="7a903-181">Ayrıca, bu SHA256 karma şifresi çözülemiyor olduğundan, bu olamaz kuruluşunuzun Active Directory ortamına geri getirildi ve bir geçerli kullanıcının parolası pass--hash saldırısı olarak sunulan.</span><span class="sxs-lookup"><span data-stu-id="7a903-181">Further, because this SHA256 hash cannot be decrypted, it cannot be brought back to the organization's Active Directory environment and presented as a valid user password in a pass-the-hash attack.</span></span>





### <a name="password-policy-considerations"></a><span data-ttu-id="7a903-182">Parola ilke konuları</span><span class="sxs-lookup"><span data-stu-id="7a903-182">Password policy considerations</span></span>
<span data-ttu-id="7a903-183">Parola eşitlemeyi etkinleştirerek etkilenen parola ilkeleri iki tür vardır:</span><span class="sxs-lookup"><span data-stu-id="7a903-183">There are two types of password policies that are affected by enabling password synchronization:</span></span>

* <span data-ttu-id="7a903-184">Parola karmaşıklık İlkesi</span><span class="sxs-lookup"><span data-stu-id="7a903-184">Password complexity policy</span></span>
* <span data-ttu-id="7a903-185">Parola süre sonu ilkesi</span><span class="sxs-lookup"><span data-stu-id="7a903-185">Password expiration policy</span></span>

#### <a name="password-complexity-policy"></a><span data-ttu-id="7a903-186">Parola karmaşıklık İlkesi</span><span class="sxs-lookup"><span data-stu-id="7a903-186">Password complexity policy</span></span>  
<span data-ttu-id="7a903-187">Parola Eşitleme etkinleştirildiğinde, şirket içi Active Directory örneğinizi parola karmaşıklık ilkelerinde eşitlenen kullanıcılar için bulutta karmaşıklık ilkeleri geçersiz kılar.</span><span class="sxs-lookup"><span data-stu-id="7a903-187">When password synchronization is enabled, the password complexity policies in your on-premises Active Directory instance override complexity policies in the cloud for synchronized users.</span></span> <span data-ttu-id="7a903-188">Azure AD hizmetlerine erişmek için şirket içi Active Directory örneğinden tüm geçerli parolaların kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7a903-188">You can use all of the valid passwords from your on-premises Active Directory instance to access Azure AD services.</span></span>

> [!NOTE]
> <span data-ttu-id="7a903-189">Doğrudan bulutta oluşturulan kullanıcılar için parola hala parola ilkeleri tabi bulutta tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="7a903-189">Passwords for users that are created directly in the cloud are still subject to password policies as defined in the cloud.</span></span>

#### <a name="password-expiration-policy"></a><span data-ttu-id="7a903-190">Parola süre sonu ilkesi</span><span class="sxs-lookup"><span data-stu-id="7a903-190">Password expiration policy</span></span>  
<span data-ttu-id="7a903-191">Bir kullanıcı parola eşitleme kapsamında, bulut hesap parolası kümesine *süresi dolmayacak*.</span><span class="sxs-lookup"><span data-stu-id="7a903-191">If a user is in the scope of password synchronization, the cloud account password is set to *Never Expire*.</span></span>

<span data-ttu-id="7a903-192">Bulut hizmetlerinizi, şirket içi ortamınızda süresi eşitlenmiş bir parola kullanarak oturum açmaya devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7a903-192">You can continue to sign in to your cloud services by using a synchronized password that is expired in your on-premises environment.</span></span> <span data-ttu-id="7a903-193">Bulut parolanızı, parola şirket içi ortamda bir sonraki değiştirdiğinizde güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="7a903-193">Your cloud password is updated the next time you change the password in the on-premises environment.</span></span>

#### <a name="account-expiration"></a><span data-ttu-id="7a903-194">Hesabın süre sonu</span><span class="sxs-lookup"><span data-stu-id="7a903-194">Account expiration</span></span>
<span data-ttu-id="7a903-195">Kuruluşunuzun kullanıcı hesabı yönetimi bir parçası olarak accountExpires özniteliği kullanıyorsa, bu öznitelik Azure AD ile eşitlenmemiş unutmayın.</span><span class="sxs-lookup"><span data-stu-id="7a903-195">If your organization uses the accountExpires attribute as part of user account management, be aware that this attribute is not synchronized to Azure AD.</span></span> <span data-ttu-id="7a903-196">Sonuç olarak, parola eşitlemesi için yapılandırılmış bir ortamda süresi dolmuş bir Active Directory hesabı Azure AD'de etkin olmaya devam eder.</span><span class="sxs-lookup"><span data-stu-id="7a903-196">As a result, an expired Active Directory account in an environment configured for password synchronization will still be active in Azure AD.</span></span> <span data-ttu-id="7a903-197">Hesap süresi dolmuşsa, bir iş akışı eylemi kullanıcının Azure AD hesabının devre dışı bırakan bir PowerShell Betiği tetiklemesi gereken öneririz.</span><span class="sxs-lookup"><span data-stu-id="7a903-197">We recommend that if the account is expired, a workflow action should trigger a PowerShell script that disables the user's Azure AD account.</span></span> <span data-ttu-id="7a903-198">Hesap açıldığında, buna karşılık, Azure AD örneğinde açık olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7a903-198">Conversely, when the account is turned on, the Azure AD instance should be turned on.</span></span>

### <a name="overwrite-synchronized-passwords"></a><span data-ttu-id="7a903-199">Eşitlenmiş parolalar üzerine yaz</span><span class="sxs-lookup"><span data-stu-id="7a903-199">Overwrite synchronized passwords</span></span>
<span data-ttu-id="7a903-200">Bir yönetici el ile Windows PowerShell kullanarak parolanızı sıfırlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7a903-200">An administrator can manually reset your password by using Windows PowerShell.</span></span>

<span data-ttu-id="7a903-201">Bu durumda, yeni parola eşitlenmiş parolanızı geçersiz kılar ve bulutta tanımlanan tüm parola ilkelerini yeni parola uygulanır.</span><span class="sxs-lookup"><span data-stu-id="7a903-201">In this case, the new password overrides your synchronized password, and all password policies defined in the cloud are applied to the new password.</span></span>

<span data-ttu-id="7a903-202">Şirket içi parolanızı değiştirirseniz yeniden, yeni parola buluta eşitlenir ve el ile güncelleştirilmiş parolayı geçersiz kılar.</span><span class="sxs-lookup"><span data-stu-id="7a903-202">If you change your on-premises password again, the new password is synchronized to the cloud, and it overrides the manually updated password.</span></span>

<span data-ttu-id="7a903-203">Parola Eşitleme, açık olan kullanıcının Azure üzerinde hiçbir etkisi olmaz.</span><span class="sxs-lookup"><span data-stu-id="7a903-203">The synchronization of a password has no impact on the Azure user who is signed in.</span></span> <span data-ttu-id="7a903-204">Geçerli bulut hizmeti oturumunuz bir bulut hizmetine oturum açtınız ancak oluşan bir eşitlenmiş parola değişikliği hemen etkilenmez.</span><span class="sxs-lookup"><span data-stu-id="7a903-204">Your current cloud service session is not immediately affected by a synchronized password change that occurs while you're signed in to a cloud service.</span></span> <span data-ttu-id="7a903-205">KMSI bu fark süresini uzatır.</span><span class="sxs-lookup"><span data-stu-id="7a903-205">KMSI extends the duration of this difference.</span></span> <span data-ttu-id="7a903-206">Bulut hizmeti yeniden kimlik doğrulaması gerektirdiğinde, yeni parolanızı sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="7a903-206">When the cloud service requires you to authenticate again, you need to provide your new password.</span></span>

### <a name="additional-advantages"></a><span data-ttu-id="7a903-207">Ek avantajlar</span><span class="sxs-lookup"><span data-stu-id="7a903-207">Additional advantages</span></span>

- <span data-ttu-id="7a903-208">Genellikle, Parola Eşitleme'den bir Federasyon Hizmeti uygulamak daha basittir.</span><span class="sxs-lookup"><span data-stu-id="7a903-208">Generally, password synchronization is simpler to implement than a federation service.</span></span> <span data-ttu-id="7a903-209">Herhangi bir ek sunucu gerektirmez ve kullanıcıların kimliklerini doğrulamak için bir yüksek oranda kullanılabilir Federasyon Hizmeti bağımlılığı ortadan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="7a903-209">It doesn't require any additional servers, and eliminates dependence on a highly available federation service to authenticate users.</span></span> 
- <span data-ttu-id="7a903-210">Parola Eşitleme, Federasyon yanı sıra de etkinleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a903-210">Password synchronization can also be enabled in addition to federation.</span></span> <span data-ttu-id="7a903-211">Federasyon hizmetinize bir kesinti oluşursa bir geri dönüş olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7a903-211">It may be used as a fallback if your federation service experiences an outage.</span></span>












## <a name="enable-password-synchronization"></a><span data-ttu-id="7a903-212">Parola eşitlemeyi etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="7a903-212">Enable password synchronization</span></span>
<span data-ttu-id="7a903-213">Yüklediğinizde, Azure AD Connect kullanarak **hızlı ayarlar** seçeneği, parola eşitleme otomatik olarak etkinleştirilir.</span><span class="sxs-lookup"><span data-stu-id="7a903-213">When you install Azure AD Connect by using the **Express Settings** option, password synchronization is automatically enabled.</span></span> <span data-ttu-id="7a903-214">Daha fazla ayrıntı için bkz: [hızlı ayarları kullanarak Azure AD Connect ile çalışmaya başlama](active-directory-aadconnect-get-started-express.md).</span><span class="sxs-lookup"><span data-stu-id="7a903-214">For more details, see [Getting started with Azure AD Connect using express settings](active-directory-aadconnect-get-started-express.md).</span></span>

<span data-ttu-id="7a903-215">Parola Eşitleme, Azure AD Connect yüklediğinizde özel ayarları kullanırsanız, kullanıcı oturum açma sayfasında kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7a903-215">If you use custom settings when you install Azure AD Connect, password synchronization is available on the user sign-in page.</span></span> <span data-ttu-id="7a903-216">Daha fazla ayrıntı için bkz: [Azure AD Connect özel yüklemesi](active-directory-aadconnect-get-started-custom.md).</span><span class="sxs-lookup"><span data-stu-id="7a903-216">For more details, see [Custom installation of Azure AD Connect](active-directory-aadconnect-get-started-custom.md).</span></span>

![Parola Eşitleme etkinleştiriliyor](./media/active-directory-aadconnectsync-implement-password-synchronization/usersignin.png)

### <a name="password-synchronization-and-fips"></a><span data-ttu-id="7a903-218">Parola Eşitleme ve FIPS</span><span class="sxs-lookup"><span data-stu-id="7a903-218">Password synchronization and FIPS</span></span>
<span data-ttu-id="7a903-219">Sunucunuz Federal Bilgi İşleme Standardı (FIPS göre) kilitli, MD5 devre dışı bırakılır.</span><span class="sxs-lookup"><span data-stu-id="7a903-219">If your server has been locked down according to Federal Information Processing Standard (FIPS), then MD5 is disabled.</span></span>

<span data-ttu-id="7a903-220">**MD5 için parola eşitlemeyi etkinleştirmek için aşağıdaki adımları gerçekleştirin:**</span><span class="sxs-lookup"><span data-stu-id="7a903-220">**To enable MD5 for password synchronization, perform the following steps:**</span></span>

1. <span data-ttu-id="7a903-221">%ProgramFiles%\Azure AD Sync\Bin gidin.</span><span class="sxs-lookup"><span data-stu-id="7a903-221">Go to %programfiles%\Azure AD Sync\Bin.</span></span>
2. <span data-ttu-id="7a903-222">Miiserver.exe.config açın.</span><span class="sxs-lookup"><span data-stu-id="7a903-222">Open miiserver.exe.config.</span></span>
3. <span data-ttu-id="7a903-223">Dosyanın sonunda yapılandırma/çalışma zamanı düğümüne gidin.</span><span class="sxs-lookup"><span data-stu-id="7a903-223">Go to the configuration/runtime node at the end of the file.</span></span>
4. <span data-ttu-id="7a903-224">Aşağıdaki düğüm ekleyin:`<enforceFIPSPolicy enabled="false"/>`</span><span class="sxs-lookup"><span data-stu-id="7a903-224">Add the following node: `<enforceFIPSPolicy enabled="false"/>`</span></span>
5. <span data-ttu-id="7a903-225">Yaptığınız değişiklikleri kaydedin.</span><span class="sxs-lookup"><span data-stu-id="7a903-225">Save your changes.</span></span>

<span data-ttu-id="7a903-226">Başvuru için bu kod parçacığında ne gibi görünmelidir şöyledir:</span><span class="sxs-lookup"><span data-stu-id="7a903-226">For reference, this snippet is what it should look like:</span></span>

```
    <configuration>
        <runtime>
            <enforceFIPSPolicy enabled="false"/>
        </runtime>
    </configuration>
```

<span data-ttu-id="7a903-227">Güvenlik ve FIPS hakkında daha fazla bilgi için bkz: [AAD parola eşitleme, şifreleme ve FIPS Uyumluluk](https://blogs.technet.microsoft.com/enterprisemobility/2014/06/28/aad-password-sync-encryption-and-fips-compliance/).</span><span class="sxs-lookup"><span data-stu-id="7a903-227">For information about security and FIPS, see [AAD Password Sync, encryption and FIPS compliance](https://blogs.technet.microsoft.com/enterprisemobility/2014/06/28/aad-password-sync-encryption-and-fips-compliance/).</span></span>

## <a name="troubleshoot-password-synchronization"></a><span data-ttu-id="7a903-228">Parola eşitleme sorunlarını giderme</span><span class="sxs-lookup"><span data-stu-id="7a903-228">Troubleshoot password synchronization</span></span>
<span data-ttu-id="7a903-229">Parola Eşitleme ile ilgili sorununuz olup [parola eşitleme sorunlarını giderme](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="7a903-229">If you have problems with password synchronization, see [Troubleshoot password synchronization](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="7a903-230">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="7a903-230">Next steps</span></span>
* [<span data-ttu-id="7a903-231">Azure AD Connect eşitleme: eşitleme seçeneklerini özelleştirme</span><span class="sxs-lookup"><span data-stu-id="7a903-231">Azure AD Connect sync: Customizing synchronization options</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="7a903-232">Şirket içi kimliklerinizi Azure Active Directory ile tümleştirme</span><span class="sxs-lookup"><span data-stu-id="7a903-232">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
