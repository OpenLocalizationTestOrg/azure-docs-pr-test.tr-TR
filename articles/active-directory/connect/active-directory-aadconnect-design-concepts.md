---
title: "Azure AD Connect: Tasarım kavramları | Microsoft Docs"
description: "Bu konuda belirli uygulama tasarım alanları ayrıntıları"
services: active-directory
documentationcenter: 
author: billmath
manager: femila
editor: 
ms.assetid: 4114a6c0-f96a-493c-be74-1153666ce6c9
ms.service: active-directory
ms.custom: azure-ad-connect
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: Identity
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: 1e5d5c6a716ca653fb14fc059e8155124b433732
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-design-concepts"></a><span data-ttu-id="a46cc-103">Azure AD Connect: Tasarım kavramları</span><span class="sxs-lookup"><span data-stu-id="a46cc-103">Azure AD Connect: Design concepts</span></span>
<span data-ttu-id="a46cc-104">Bu konunun amacı Hello Azure AD Connect hello uygulama tasarımı sırasında zorlayıcı toodescribe alanlar'dır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-104">hello purpose of this topic is toodescribe areas that must be thought through during hello implementation design of Azure AD Connect.</span></span> <span data-ttu-id="a46cc-105">Bu konuda derinlemesine belirli alanlara ise ve bu kavramları diğer konularında kısaca açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-105">This topic is a deep dive on certain areas and these concepts are briefly described in other topics as well.</span></span>

## <a name="sourceanchor"></a><span data-ttu-id="a46cc-106">sourceAnchor</span><span class="sxs-lookup"><span data-stu-id="a46cc-106">sourceAnchor</span></span>
<span data-ttu-id="a46cc-107">Merhaba sourceAnchor özniteliği olarak tanımlanır *bir nesne hello ömrü boyunca sabit bir öznitelik*.</span><span class="sxs-lookup"><span data-stu-id="a46cc-107">hello sourceAnchor attribute is defined as *an attribute immutable during hello lifetime of an object*.</span></span> <span data-ttu-id="a46cc-108">Bir nesneyi benzersiz şekilde tanımlayan hello olduğu aynı şirket içi nesne ve Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a46cc-108">It uniquely identifies an object as being hello same object on-premises and in Azure AD.</span></span> <span data-ttu-id="a46cc-109">Merhaba özniteliği olarak da adlandırılır **İmmutableıd** ve hello iki adları birbirinin yerine kullanılır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-109">hello attribute is also called **immutableId** and hello two names are used interchangeable.</span></span>

<span data-ttu-id="a46cc-110">Merhaba sözcüğünü değişmez, "değiştirilemez", önemli toothis konudur.</span><span class="sxs-lookup"><span data-stu-id="a46cc-110">hello word immutable, that is "cannot be changed", is important toothis topic.</span></span> <span data-ttu-id="a46cc-111">Bu özniteliğin değeri ayarlandıktan sonra değiştirilemez olduğundan, önemli toopick senaryonuz destekleyen bir tasarım kalır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-111">Since this attribute’s value cannot be changed after it has been set, it is important toopick a design that supports your scenario.</span></span>

<span data-ttu-id="a46cc-112">Merhaba öznitelik hello senaryolar için kullanılır:</span><span class="sxs-lookup"><span data-stu-id="a46cc-112">hello attribute is used for hello following scenarios:</span></span>

* <span data-ttu-id="a46cc-113">Yeni bir eşitleme altyapısı sunucusu yerleşik veya bir olağanüstü durum kurtarma senaryosunda sonra yeniden, bu öznitelik varolan nesneleri nesneleri şirket içi Azure AD'de bağlar.</span><span class="sxs-lookup"><span data-stu-id="a46cc-113">When a new sync engine server is built, or rebuilt after a disaster recovery scenario, this attribute links existing objects in Azure AD with objects on-premises.</span></span>
* <span data-ttu-id="a46cc-114">Bir yalnızca bulut kimlik tooa eşitlenmiş kimlik modelden taşıyın ve sonra bu öznitelik nesneleri çok sağlar, şirket içi nesnelerle "sabit match" var olan nesneleri Azure AD'de.</span><span class="sxs-lookup"><span data-stu-id="a46cc-114">If you move from a cloud-only identity tooa synchronized identity model, then this attribute allows objects too"hard match" existing objects in Azure AD with on-premises objects.</span></span>
* <span data-ttu-id="a46cc-115">Federasyon ve ardından bu özniteliği hello ile birlikte kullanıyorsanız, **userPrincipalName** hello kullanılan toouniquely tanımlamak bir kullanıcı talebi.</span><span class="sxs-lookup"><span data-stu-id="a46cc-115">If you use federation, then this attribute together with hello **userPrincipalName** is used in hello claim toouniquely identify a user.</span></span>

<span data-ttu-id="a46cc-116">Toousers ilgili olarak bu konu hakkında sourceAnchor yalnızca alınmaktadır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-116">This topic only talks about sourceAnchor as it relates toousers.</span></span> <span data-ttu-id="a46cc-117">Merhaba aynı kuralları uygula tooall nesne türleri, ancak bunu yalnızca kullanıcılar için bu sorun genellikle bir konudur.</span><span class="sxs-lookup"><span data-stu-id="a46cc-117">hello same rules apply tooall object types, but it is only for users this problem usually is a concern.</span></span>

### <a name="selecting-a-good-sourceanchor-attribute"></a><span data-ttu-id="a46cc-118">İyi sourceAnchor özniteliği seçme</span><span class="sxs-lookup"><span data-stu-id="a46cc-118">Selecting a good sourceAnchor attribute</span></span>
<span data-ttu-id="a46cc-119">Merhaba öznitelik değeri hello kurallara uymalıdır:</span><span class="sxs-lookup"><span data-stu-id="a46cc-119">hello attribute value must follow hello following rules:</span></span>

* <span data-ttu-id="a46cc-120">Daha az 60 karakter uzunluğunda olabilir</span><span class="sxs-lookup"><span data-stu-id="a46cc-120">Be less than 60 characters in length</span></span>
  * <span data-ttu-id="a46cc-121">Karakter olmaması, a-z, A-Z veya 0-9 kodlanmış ve 3 karakter olarak sayılır</span><span class="sxs-lookup"><span data-stu-id="a46cc-121">Characters not being a-z, A-Z, or 0-9 are encoded and counted as 3 characters</span></span>
* <span data-ttu-id="a46cc-122">Bir özel karakter içeremez: &#92;!</span><span class="sxs-lookup"><span data-stu-id="a46cc-122">Not contain a special character: &#92; !</span></span> <span data-ttu-id="a46cc-123"># $ % & * + / = ?</span><span class="sxs-lookup"><span data-stu-id="a46cc-123"># $ % & * + / = ?</span></span> <span data-ttu-id="a46cc-124">^ &#96; { } | ~ < > ( ) ' ; : , [ ] " @ _</span><span class="sxs-lookup"><span data-stu-id="a46cc-124">^ &#96; { } | ~ < > ( ) ' ; : , [ ] " @ _</span></span>
* <span data-ttu-id="a46cc-125">Genel olarak benzersiz olmalıdır</span><span class="sxs-lookup"><span data-stu-id="a46cc-125">Must be globally unique</span></span>
* <span data-ttu-id="a46cc-126">Bir dize, tamsayı veya ikili olmalıdır</span><span class="sxs-lookup"><span data-stu-id="a46cc-126">Must be either a string, integer, or binary</span></span>
* <span data-ttu-id="a46cc-127">Kullanıcı adı, bu değişiklikleri dayanmalıdır değil</span><span class="sxs-lookup"><span data-stu-id="a46cc-127">Should not be based on user's name, these changes</span></span>
* <span data-ttu-id="a46cc-128">Değil büyük küçük harfe duyarlı ve örneğe göre farklılık gösterebilir değerleri kaçının</span><span class="sxs-lookup"><span data-stu-id="a46cc-128">Should not be case-sensitive and avoid values that may vary by case</span></span>
* <span data-ttu-id="a46cc-129">Merhaba nesnesi oluşturulduğunda atanmalıdır</span><span class="sxs-lookup"><span data-stu-id="a46cc-129">Should be assigned when hello object is created</span></span>

<span data-ttu-id="a46cc-130">Merhaba sourceAnchor seçtiyseniz, Azure AD Connect Base64Encode hello öznitelik değeri tooensure hiçbir özel karakter görünür sonra türü dize değil.</span><span class="sxs-lookup"><span data-stu-id="a46cc-130">If hello selected sourceAnchor is not of type string, then Azure AD Connect Base64Encode hello attribute value tooensure no special characters appear.</span></span> <span data-ttu-id="a46cc-131">ADFS değerinden başka bir federasyon sunucusu kullanıyorsanız, ayrıca Base64Encode hello özniteliği için sunucunuzun emin olun.</span><span class="sxs-lookup"><span data-stu-id="a46cc-131">If you use another federation server than ADFS, make sure your server can also Base64Encode hello attribute.</span></span>

<span data-ttu-id="a46cc-132">Merhaba sourceAnchor özniteliği büyük/küçük harf duyarlıdır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-132">hello sourceAnchor attribute is case-sensitive.</span></span> <span data-ttu-id="a46cc-133">"JohnDoe" değerini olduğu değil hello "johndoe" ile aynı.</span><span class="sxs-lookup"><span data-stu-id="a46cc-133">A value of “JohnDoe” is not hello same as “johndoe”.</span></span> <span data-ttu-id="a46cc-134">Ancak, iki farklı nesneler arasındaki fark durumda yalnızca sahip olmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-134">But you should not have two different objects with only a difference in case.</span></span>

<span data-ttu-id="a46cc-135">Tek bir ormana sahibim şirket içi, kullanmanız gereken sonra hello özniteliği ise **objectGUID**.</span><span class="sxs-lookup"><span data-stu-id="a46cc-135">If you have a single forest on-premises, then hello attribute you should use is **objectGUID**.</span></span> <span data-ttu-id="a46cc-136">Bu ayrıca Azure AD Connect'i hızlı ayarları kullanın ve aynı zamanda DirSync tarafından kullanılan öznitelik hello kullanılan hello özniteliğidir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-136">This is also hello attribute used when you use express settings in Azure AD Connect and also hello attribute used by DirSync.</span></span>

<span data-ttu-id="a46cc-137">Birden çok ormanınız varsa ve kullanıcı etki alanları ve ormanlar arasında sonra taşımayın **objectGUID** iyi özniteliği toouse olsa bile bu durumda.</span><span class="sxs-lookup"><span data-stu-id="a46cc-137">If you have multiple forests and do not move users between forests and domains, then **objectGUID** is a good attribute toouse even in this case.</span></span>

<span data-ttu-id="a46cc-138">Kullanıcıların etki alanları ve ormanlar arasında taşırsanız, hello taşıma işlemi sırasında hello kullanıcılarla değişmeyen veya taşınabilir bir özniteliği bulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-138">If you move users between forests and domains, then you must find an attribute that does not change or can be moved with hello users during hello move.</span></span> <span data-ttu-id="a46cc-139">Toointroduce yapay bir öznitelik bir önerilen yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-139">A recommended approach is toointroduce a synthetic attribute.</span></span> <span data-ttu-id="a46cc-140">Bir GUID gibi görünen bir şey tutan bir öznitelik uygun olacaktır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-140">An attribute that could hold something that looks like a GUID would be suitable.</span></span> <span data-ttu-id="a46cc-141">Nesne oluşturma sırasında yeni bir GUID oluşturulur ve hello kullanıcı damgalı.</span><span class="sxs-lookup"><span data-stu-id="a46cc-141">During object creation, a new GUID is created and stamped on hello user.</span></span> <span data-ttu-id="a46cc-142">Özel eşitleme kuralı üzerinde hello göre bu değer hello eşitleme altyapısı sunucusu toocreate oluşturulabilir **objectGUID** ve güncelleştirme hello seçili özniteliği EKLER.</span><span class="sxs-lookup"><span data-stu-id="a46cc-142">A custom sync rule can be created in hello sync engine server toocreate this value based on hello **objectGUID** and update hello selected attribute in ADDS.</span></span> <span data-ttu-id="a46cc-143">Merhaba nesneyi taşıdığınızda, bu değer emin tooalso kopyalama hello içeriği olun.</span><span class="sxs-lookup"><span data-stu-id="a46cc-143">When you move hello object, make sure tooalso copy hello content of this value.</span></span>

<span data-ttu-id="a46cc-144">Toopick değişmeyen bildiğiniz varolan bir özniteliğe başka bir çözümdür.</span><span class="sxs-lookup"><span data-stu-id="a46cc-144">Another solution is toopick an existing attribute you know does not change.</span></span> <span data-ttu-id="a46cc-145">Yaygın olarak kullanılan öznitelikler içerir **EmployeeID**.</span><span class="sxs-lookup"><span data-stu-id="a46cc-145">Commonly used attributes include **employeeID**.</span></span> <span data-ttu-id="a46cc-146">Harfleri içeren bir öznitelik düşünüyorsanız, hiçbir fırsat hello çalışması (küçük harf ve büyük harflerle) hello özniteliğin değerini değiştirebilirsiniz olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="a46cc-146">If you consider an attribute that contains letters, make sure there is no chance hello case (upper case vs. lower case) can change for hello attribute's value.</span></span> <span data-ttu-id="a46cc-147">Kullanılmaması gereken hatalı öznitelikler bu özniteliklerle hello hello kullanıcı adını içerir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-147">Bad attributes that should not be used include those attributes with hello name of hello user.</span></span> <span data-ttu-id="a46cc-148">Marriage veya divorce hello bu öznitelik için izin verilmiyor beklenen toochange adıdır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-148">In a marriage or divorce, hello name is expected toochange, which is not allowed for this attribute.</span></span> <span data-ttu-id="a46cc-149">Bu ayrıca nedenlerinden biri neden olduğu gibi öznitelikleri **userPrincipalName**, **posta**, ve **targetAddress** hello Azure AD Connect yükleme bile olası tooselect değildir Sihirbazı.</span><span class="sxs-lookup"><span data-stu-id="a46cc-149">This is also one reason why attributes such as **userPrincipalName**, **mail**, and **targetAddress** are not even possible tooselect in hello Azure AD Connect installation wizard.</span></span> <span data-ttu-id="a46cc-150">Bu öznitelikler de hello içerir "@" Merhaba sourceAnchor izin verilmeyen bir karakter.</span><span class="sxs-lookup"><span data-stu-id="a46cc-150">Those attributes also contain hello "@" character, which is not allowed in hello sourceAnchor.</span></span>

### <a name="changing-hello-sourceanchor-attribute"></a><span data-ttu-id="a46cc-151">Merhaba sourceAnchor özniteliği değiştirme</span><span class="sxs-lookup"><span data-stu-id="a46cc-151">Changing hello sourceAnchor attribute</span></span>
<span data-ttu-id="a46cc-152">Azure AD'de hello nesne oluşturulduktan sonra hello kimlik eşitlenir Hello sourceAnchor özniteliği değeri değiştirilemez.</span><span class="sxs-lookup"><span data-stu-id="a46cc-152">hello sourceAnchor attribute value cannot be changed after hello object has been created in Azure AD and hello identity is synchronized.</span></span>

<span data-ttu-id="a46cc-153">Bu nedenle, aşağıdaki kısıtlamaları hello uygulamak tooAzure AD Connect:</span><span class="sxs-lookup"><span data-stu-id="a46cc-153">For this reason, hello following restrictions apply tooAzure AD Connect:</span></span>

* <span data-ttu-id="a46cc-154">Merhaba sourceAnchor özniteliği yalnızca ilk yükleme sırasında ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-154">hello sourceAnchor attribute can only be set during initial installation.</span></span> <span data-ttu-id="a46cc-155">Merhaba Yükleme Sihirbazı'nı yeniden çalıştırın, bu seçenek salt okunurdur.</span><span class="sxs-lookup"><span data-stu-id="a46cc-155">If you rerun hello installation wizard, this option is read-only.</span></span> <span data-ttu-id="a46cc-156">Sonra da kaldırmanız ve yeniden yüklemeniz gerekir, bu ayar toochange gerekiyorsa.</span><span class="sxs-lookup"><span data-stu-id="a46cc-156">If you need toochange this setting, then you must uninstall and reinstall.</span></span>
* <span data-ttu-id="a46cc-157">Başka bir Azure AD Connect sunucusu, sonra yüklerseniz seçin, daha önce kullanılan aynı sourceAnchor özniteliği hello gerekir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-157">If you install another Azure AD Connect server, then you must select hello same sourceAnchor attribute as previously used.</span></span> <span data-ttu-id="a46cc-158">Daha önce DirSync kullanarak ve tooAzure AD taşıma bağlanma kullanmanız gerekir, **objectGUID** , DirSync tarafından kullanılan hello öznitelik olduğundan.</span><span class="sxs-lookup"><span data-stu-id="a46cc-158">If you have earlier been using DirSync and move tooAzure AD Connect, then you must use **objectGUID** since that is hello attribute used by DirSync.</span></span>
* <span data-ttu-id="a46cc-159">SourceAnchor için hello değeri Hello nesne dışarı aktarılan tooAzure AD, ardından Azure AD Connect eşitleme bir hata oluşturur ve daha fazla değişiklik nesnede hello sorun düzeltilmiştir ve hello sourceAnchor geri hello değiştirilir önce izin vermiyor sonra değiştirilirse Kaynak dizini.</span><span class="sxs-lookup"><span data-stu-id="a46cc-159">If hello value for sourceAnchor is changed after hello object has been exported tooAzure AD, then Azure AD Connect sync throws an error and does not allow any more changes on that object before hello issue has been fixed and hello sourceAnchor is changed back in hello source directory.</span></span>

## <a name="using-msds-consistencyguid-as-sourceanchor"></a><span data-ttu-id="a46cc-160">MsDS-ConsistencyGuid sourceAnchor kullanma</span><span class="sxs-lookup"><span data-stu-id="a46cc-160">Using msDS-ConsistencyGuid as sourceAnchor</span></span>
<span data-ttu-id="a46cc-161">Varsayılan olarak, Azure AD Connect (sürüm 1.1.486.0 ve daha eski) objectGUID hello sourceAnchor özniteliği olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-161">By default, Azure AD Connect (version 1.1.486.0 and older) uses objectGUID as hello sourceAnchor attribute.</span></span> <span data-ttu-id="a46cc-162">Sistem tarafından oluşturulan objectguıd'dir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-162">ObjectGUID is system-generated.</span></span> <span data-ttu-id="a46cc-163">Değerini oluştururken AD nesnelerini şirket içi belirtemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="a46cc-163">You cannot specify its value when creating on-premises AD objects.</span></span> <span data-ttu-id="a46cc-164">Bölümünde açıklandığı gibi [sourceAnchor](#sourceanchor), toospecify hello sourceAnchor değerine ihtiyacınız olduğu senaryolar da vardır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-164">As explained in section [sourceAnchor](#sourceanchor), there are scenarios where you need toospecify hello sourceAnchor value.</span></span> <span data-ttu-id="a46cc-165">Merhaba senaryoları geçerli tooyou varsa, hello sourceAnchor özniteliği olarak yapılandırılabilir bir AD özniteliği (örneğin, msDS-ConsistencyGuid) kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-165">If hello scenarios are applicable tooyou, you must use a configurable AD attribute (for example, msDS-ConsistencyGuid) as hello sourceAnchor attribute.</span></span>

<span data-ttu-id="a46cc-166">Azure AD Connect (sürüm 1.1.524.0 ve sonra) şimdi msDS-ConsistencyGuid sourceAnchor özniteliği olarak hello kullanımını kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-166">Azure AD Connect (version 1.1.524.0 and after) now facilitates hello use of msDS-ConsistencyGuid as sourceAnchor attribute.</span></span> <span data-ttu-id="a46cc-167">Bu özelliği kullanıldığında, Azure AD Connect hello eşitleme kuralları otomatik olarak yapılandırır:</span><span class="sxs-lookup"><span data-stu-id="a46cc-167">When using this feature, Azure AD Connect automatically configures hello synchronization rules to:</span></span>

1. <span data-ttu-id="a46cc-168">MsDS-ConsistencyGuid hello sourceAnchor özniteliği olarak kullanıcı nesneleri için kullanın.</span><span class="sxs-lookup"><span data-stu-id="a46cc-168">Use msDS-ConsistencyGuid as hello sourceAnchor attribute for User objects.</span></span> <span data-ttu-id="a46cc-169">ObjectGUID diğer nesne türleri için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-169">ObjectGUID is used for other object types.</span></span>

2. <span data-ttu-id="a46cc-170">Verilen herhangi için şirket içi AD kullanıcısının, msDS-ConsistencyGuid özniteliği değil doldurulmuş, Azure AD Connect, şirket içi Active Directory'de, objectGUID değer geri toohello msDS-ConsistencyGuid öznitelik yazan nesnesi.</span><span class="sxs-lookup"><span data-stu-id="a46cc-170">For any given on-premises AD User object whose msDS-ConsistencyGuid attribute isn't populated, Azure AD Connect writes its objectGUID value back toohello msDS-ConsistencyGuid attribute in on-premises Active Directory.</span></span> <span data-ttu-id="a46cc-171">Merhaba msDS-ConsistencyGuid özniteliği doldurulduktan sonra Azure AD Connect sonra hello nesne tooAzure AD dışa aktarır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-171">After hello msDS-ConsistencyGuid attribute is populated, Azure AD Connect then exports hello object tooAzure AD.</span></span>

>[!NOTE]
> <span data-ttu-id="a46cc-172">Bir kez bir şirket içi AD nesne (yani AD bağlayıcı alanı hello içeri aktarılıp, meta veri deposu hello öngörülen) Azure AD Connect içine aktarılır, sourceAnchor değerini artık değiştiremezsiniz.</span><span class="sxs-lookup"><span data-stu-id="a46cc-172">Once an on-premises AD object is imported into Azure AD Connect (that is, imported into hello AD Connector Space and projected into hello Metaverse), you cannot change its sourceAnchor value anymore.</span></span> <span data-ttu-id="a46cc-173">toospecify hello sourceAnchor değeri için bir şirket içi verilen AD nesne, Azure AD Connect içeri aktarılmadan önce kendi msDS-ConsistencyGuid özniteliği yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="a46cc-173">toospecify hello sourceAnchor value for a given on-premises AD object, configure its msDS-ConsistencyGuid attribute before it is imported into Azure AD Connect.</span></span>

### <a name="permission-required"></a><span data-ttu-id="a46cc-174">İzin gerekiyor</span><span class="sxs-lookup"><span data-stu-id="a46cc-174">Permission required</span></span>
<span data-ttu-id="a46cc-175">Bu özellik toowork için hello AD DS kullanılan hesap toosynchronize şirket içi Active Directory ile şirket içi Active Directory'de yazma izni toohello msDS-ConsistencyGuid öznitelik verilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-175">For this feature toowork, hello AD DS account used toosynchronize with on-premises Active Directory must be granted write permission toohello msDS-ConsistencyGuid attribute in on-premises Active Directory.</span></span>

### <a name="how-tooenable-hello-consistencyguid-feature---new-installation"></a><span data-ttu-id="a46cc-176">Nasıl tooenable hello ConsistencyGuid özellik - yeni yükleme</span><span class="sxs-lookup"><span data-stu-id="a46cc-176">How tooenable hello ConsistencyGuid feature - New installation</span></span>
<span data-ttu-id="a46cc-177">Yeni yükleme sırasında ConsistencyGuid sourceAnchor olarak hello kullanımını etkinleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a46cc-177">You can enable hello use of ConsistencyGuid as sourceAnchor during new installation.</span></span> <span data-ttu-id="a46cc-178">Bu bölümde, hızlı ve özel yükleme ayrıntıları ele alınmaktadır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-178">This section covers both Express and Custom installation in details.</span></span>

  >[!NOTE]
  > <span data-ttu-id="a46cc-179">Azure AD Connect yalnızca yeni sürümlerini (1.1.524.0 ve sonra) destekler, yeni yükleme sırasında sourceAnchor olarak ConsistencyGuid kullanımını hello.</span><span class="sxs-lookup"><span data-stu-id="a46cc-179">Only newer versions of Azure AD Connect (1.1.524.0 and after) supports hello use of ConsistencyGuid as sourceAnchor during new installation.</span></span>

### <a name="how-tooenable-hello-consistencyguid-feature"></a><span data-ttu-id="a46cc-180">Nasıl tooenable hello ConsistencyGuid özelliği</span><span class="sxs-lookup"><span data-stu-id="a46cc-180">How tooenable hello ConsistencyGuid feature</span></span>
<span data-ttu-id="a46cc-181">Şu anda hello özelliği yalnızca yeni Azure AD Connect yüklemesi sırasında yalnızca etkinleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-181">Currently, hello feature can only be enabled during new Azure AD Connect installation only.</span></span>

#### <a name="express-installation"></a><span data-ttu-id="a46cc-182">Hızlı yükleme</span><span class="sxs-lookup"><span data-stu-id="a46cc-182">Express Installation</span></span>
<span data-ttu-id="a46cc-183">Azure AD Connect ile hızlı mod yüklerken hello Azure AD Connect Sihirbazı hello en uygun AD özniteliği toouse mantığı aşağıdaki hello kullanarak hello sourceAnchor özniteliği otomatik olarak belirler:</span><span class="sxs-lookup"><span data-stu-id="a46cc-183">When installing Azure AD Connect with Express mode, hello Azure AD Connect wizard automatically determines hello most appropriate AD attribute toouse as hello sourceAnchor attribute using hello following logic:</span></span>

* <span data-ttu-id="a46cc-184">İlk olarak, Azure AD Kiracı tooretrieve hello AD özniteliği olarak kullanılan hello Azure AD Connect Sihirbazı sorguları hello önceki Azure AD Connect yükleme sourceAnchor özniteliği (varsa) hello.</span><span class="sxs-lookup"><span data-stu-id="a46cc-184">First, hello Azure AD Connect wizard queries your Azure AD tenant tooretrieve hello AD attribute used as hello sourceAnchor attribute in hello previous Azure AD Connect installation (if any).</span></span> <span data-ttu-id="a46cc-185">Bu bilgiler varsa, Azure AD Connect hello aynı AD özniteliğini kullanır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-185">If this information is available, Azure AD Connect uses hello same AD attribute.</span></span>

  >[!NOTE]
  > <span data-ttu-id="a46cc-186">Azure AD Connect yalnızca yeni sürümlerini (1.1.524.0 ve sonra) hello sourceAnchor özniteliği hakkında bilgileri depolar Azure AD kiracınızda yükleme sırasında kullanılır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-186">Only newer versions of Azure AD Connect (1.1.524.0 and after) stores information in your Azure AD tenant about hello sourceAnchor attribute used during installation.</span></span> <span data-ttu-id="a46cc-187">Azure AD Connect eski sürümlerinde yoktur.</span><span class="sxs-lookup"><span data-stu-id="a46cc-187">Older versions of Azure AD Connect do not.</span></span>

* <span data-ttu-id="a46cc-188">Kullanılan hello sourceAnchor özniteliği hakkında bilgi kullanılabilir değilse, Başlangıç Sihirbazı'nı şirket içi Active Directory'de hello msDS-ConsistencyGuid özniteliği hello durumunu denetler.</span><span class="sxs-lookup"><span data-stu-id="a46cc-188">If information about hello sourceAnchor attribute used isn't available, hello wizard checks hello state of hello msDS-ConsistencyGuid attribute in your on-premises Active Directory.</span></span> <span data-ttu-id="a46cc-189">Merhaba özniteliği hello dizinde herhangi bir nesne üzerinde yapılandırılmazsa hello Sihirbazı hello msDS-ConsistencyGuid hello sourceAnchor özniteliği olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-189">If hello attribute isn't configured on any object in hello directory, hello wizard uses hello msDS-ConsistencyGuid as hello sourceAnchor attribute.</span></span> <span data-ttu-id="a46cc-190">Merhaba dizininde bir veya daha fazla nesnelerde Hello özniteliği yapılandırdıysanız, Başlangıç Sihirbazı'nı hello özniteliği diğer uygulamalar tarafından kullanılıyor ve sourceAnchor özniteliği olarak uygun değil sonucuna...</span><span class="sxs-lookup"><span data-stu-id="a46cc-190">If hello attribute is configured on one or more objects in hello directory, hello wizard concludes hello attribute is being used by other applications and is not suitable as sourceAnchor attribute...</span></span>

* <span data-ttu-id="a46cc-191">Bu durumda hello Sihirbazı hello sourceAnchor özniteliği olarak toousing objectGUID geri döner.</span><span class="sxs-lookup"><span data-stu-id="a46cc-191">In which case, hello wizard falls back toousing objectGUID as hello sourceAnchor attribute.</span></span>

* <span data-ttu-id="a46cc-192">Merhaba sourceAnchor özniteliği karar sonra Başlangıç Sihirbazı, Azure AD kiracınızda hello bilgileri depolar.</span><span class="sxs-lookup"><span data-stu-id="a46cc-192">Once hello sourceAnchor attribute is decided, hello wizard stores hello information in your Azure AD tenant.</span></span> <span data-ttu-id="a46cc-193">Merhaba bilgiler gelecekteki Azure AD Connect yüklemesi tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-193">hello information will be used by future installation of Azure AD Connect.</span></span>

<span data-ttu-id="a46cc-194">Hızlı yükleme işlemi tamamlandıktan sonra hello Sihirbazı hangi öznitelik hello kaynak bağlantısı özniteliği olarak çekilen bildirir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-194">Once Express installation completes, hello wizard informs you which attribute has been picked as hello Source Anchor attribute.</span></span>

![SourceAnchor için çekildi AD özniteliği Sihirbazı sizi bilgilendirir](./media/active-directory-aadconnect-design-concepts/consistencyGuid-01.png)

#### <a name="custom-installation"></a><span data-ttu-id="a46cc-196">Özel yükleme</span><span class="sxs-lookup"><span data-stu-id="a46cc-196">Custom installation</span></span>
<span data-ttu-id="a46cc-197">Azure AD Connect özel moduyla yüklerken hello Azure AD Connect Sihirbazı sourceAnchor özniteliği yapılandırırken iki seçenek sunar:</span><span class="sxs-lookup"><span data-stu-id="a46cc-197">When installing Azure AD Connect with Custom mode, hello Azure AD Connect wizard provides two options when configuring sourceAnchor attribute:</span></span>

![Özel yükleme - sourceAnchor yapılandırma](./media/active-directory-aadconnect-design-concepts/consistencyGuid-02.png)

| <span data-ttu-id="a46cc-199">Ayar</span><span class="sxs-lookup"><span data-stu-id="a46cc-199">Setting</span></span> | <span data-ttu-id="a46cc-200">Açıklama</span><span class="sxs-lookup"><span data-stu-id="a46cc-200">Description</span></span> |
| --- | --- |
| <span data-ttu-id="a46cc-201">Benim için Hello kaynak bağlantısı yönetmek Azure sağlar</span><span class="sxs-lookup"><span data-stu-id="a46cc-201">Let Azure manage hello source anchor for me</span></span> | <span data-ttu-id="a46cc-202">Sizin için Azure AD toopick hello özniteliği istiyorsanız bu seçeneği seçin.</span><span class="sxs-lookup"><span data-stu-id="a46cc-202">Select this option if you want Azure AD toopick hello attribute for you.</span></span> <span data-ttu-id="a46cc-203">Bu seçeneği belirlerseniz, Azure AD Connect Sihirbazı uygular hello aynı [sourceAnchor özniteliği seçme mantığı Express yüklemesi sırasında kullanılan](#express-installation).</span><span class="sxs-lookup"><span data-stu-id="a46cc-203">If you select this option, Azure AD Connect wizard applies hello same [sourceAnchor attribute selection logic used during Express installation](#express-installation).</span></span> <span data-ttu-id="a46cc-204">Benzer tooExpress yükleme, Başlangıç Sihirbazı'nı özel yükleme tamamlandıktan sonra hangi öznitelik hello kaynak bağlantısı özniteliği çekilen sizi bilgilendirir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-204">Similar tooExpress installation, hello wizard informs you which attribute has been picked as hello Source Anchor attribute after Custom installation completes.</span></span> |
| <span data-ttu-id="a46cc-205">Belirli bir öznitelik</span><span class="sxs-lookup"><span data-stu-id="a46cc-205">A specific attribute</span></span> | <span data-ttu-id="a46cc-206">Varolan bir AD özniteliği hello sourceAnchor özniteliği olarak toospecify istiyorsanız bu seçeneği belirleyin.</span><span class="sxs-lookup"><span data-stu-id="a46cc-206">Select this option if you wish toospecify an existing AD attribute as hello sourceAnchor attribute.</span></span> |

### <a name="how-tooenable-hello-consistencyguid-feature---existing-deployment"></a><span data-ttu-id="a46cc-207">Nasıl tooenable hello ConsistencyGuid özellik - var olan dağıtım</span><span class="sxs-lookup"><span data-stu-id="a46cc-207">How tooenable hello ConsistencyGuid feature - Existing deployment</span></span>
<span data-ttu-id="a46cc-208">ObjectGUID hello kaynak bağlantısı özniteliği olarak kullanan mevcut bir Azure AD Connect dağıtımınız varsa, toousing ConsistencyGuid yerine geçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a46cc-208">If you have an existing Azure AD Connect deployment which is using objectGUID as hello Source Anchor attribute, you can switch it toousing ConsistencyGuid instead.</span></span>

>[!NOTE]
> <span data-ttu-id="a46cc-209">Azure AD Connect yalnızca yeni sürümlerini (1.1.552.0 ve sonra) objectGUID tooConsistencyGuid hello kaynak bağlantısı özniteliği olarak gelen geçişi destekler.</span><span class="sxs-lookup"><span data-stu-id="a46cc-209">Only newer versions of Azure AD Connect (1.1.552.0 and after) supports switching from ObjectGuid tooConsistencyGuid as hello Source Anchor attribute.</span></span>

<span data-ttu-id="a46cc-210">objectGUID tooConsistencyGuid hello kaynak bağlantısı özniteliği olarak gelen tooswitch:</span><span class="sxs-lookup"><span data-stu-id="a46cc-210">tooswitch from objectGUID tooConsistencyGuid as hello Source Anchor attribute:</span></span>

1. <span data-ttu-id="a46cc-211">Hello Azure AD Connect Sihirbazı başlatın ve tıklatın **yapılandırma** toogo toohello görevleri ekran.</span><span class="sxs-lookup"><span data-stu-id="a46cc-211">Start hello Azure AD Connect wizard and click **Configure** toogo toohello Tasks screen.</span></span>

2. <span data-ttu-id="a46cc-212">Select hello **yapılandırma kaynak bağlantısı** görev seçeneğini ve tıklayın **sonraki**.</span><span class="sxs-lookup"><span data-stu-id="a46cc-212">Select hello **Configure Source Anchor** task option and click **Next**.</span></span>

   ![Var olan dağıtım - adım 2 ConsistencyGuid etkinleştir](./media/active-directory-aadconnect-design-concepts/consistencyguidexistingdeployment01.png)

3. <span data-ttu-id="a46cc-214">Azure AD yönetici kimlik bilgilerinizi girin ve tıklayın **sonraki**.</span><span class="sxs-lookup"><span data-stu-id="a46cc-214">Enter your Azure AD Administrator credentials and click **Next**.</span></span>

4. <span data-ttu-id="a46cc-215">Azure AD Connect Sihirbazı hello msDS-ConsistencyGuid özniteliği şirket içi Active Directory'de hello durumunu inceler.</span><span class="sxs-lookup"><span data-stu-id="a46cc-215">Azure AD Connect wizard analyzes hello state of hello msDS-ConsistencyGuid attribute in your on-premises Active Directory.</span></span> <span data-ttu-id="a46cc-216">Dizin, Azure AD Connect'i başka bir uygulama hello özniteliği kullanmakta olduğu ve güvenli toouse olduğu sonucuna hello Hello özniteliği herhangi yapılandırılmazsa hello kaynak bağlantısı özniteliği olarak nesne.</span><span class="sxs-lookup"><span data-stu-id="a46cc-216">If hello attribute isn't configured on any object in hello directory, Azure AD Connect concludes that no other application is currently using hello attribute and is safe toouse it as hello Source Anchor attribute.</span></span> <span data-ttu-id="a46cc-217">Tıklatın **sonraki** toocontinue.</span><span class="sxs-lookup"><span data-stu-id="a46cc-217">Click **Next** toocontinue.</span></span>

   ![Var olan dağıtım - 4. adım ConsistencyGuid etkinleştir](./media/active-directory-aadconnect-design-concepts/consistencyguidexistingdeployment02.png)

5. <span data-ttu-id="a46cc-219">Merhaba, **hazır tooConfigure** ekranında **yapılandırma** toomake hello yapılandırma değişikliği.</span><span class="sxs-lookup"><span data-stu-id="a46cc-219">In hello **Ready tooConfigure** screen, click **Configure** toomake hello configuration change.</span></span>

   ![Var olan dağıtım - 5. adım ConsistencyGuid etkinleştir](./media/active-directory-aadconnect-design-concepts/consistencyguidexistingdeployment03.png)

6. <span data-ttu-id="a46cc-221">Hello Yapılandırma tamamlandıktan sonra o msDS-ConsistencyGuid şimdi hello kaynak bağlantısı özniteliği olarak kullanılan hello Sihirbazı'nı gösterir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-221">Once hello configuration completes, hello wizard indicates that msDS-ConsistencyGuid is now being used as hello Source Anchor attribute.</span></span>

   ![Var olan dağıtım - adım 6 ConsistencyGuid etkinleştir](./media/active-directory-aadconnect-design-concepts/consistencyguidexistingdeployment04.png)

<span data-ttu-id="a46cc-223">Hello özniteliği hello dizininde bir veya daha fazla nesnelerde yapılandırılmışsa (4. adım) hello Çözümleme sırasında Başlangıç Sihirbazı'nı hello özniteliği başka bir uygulama tarafından kullanılıyor ve hello diyagramda gösterildiği gibi bir hata döndürür sonlanır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-223">During hello analysis (step 4), if hello attribute is configured on one or more objects in hello directory, hello wizard concludes hello attribute is being used by another application and returns an error as illustrated in hello diagram below.</span></span> <span data-ttu-id="a46cc-224">Bu hello özniteliği var olan uygulamalar tarafından kullanılmaz, nasıl toosuppress hata hello hakkında bilgi için destek toocontact gerekir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-224">If you are certain that hello attribute isn't used by existing applications, you need toocontact Support for information on how toosuppress hello error.</span></span>

![Var olan dağıtım - hata ConsistencyGuid etkinleştir](./media/active-directory-aadconnect-design-concepts/consistencyguidexistingdeploymenterror.png)

### <a name="impact-on-ad-fs-or-third-party-federation-configuration"></a><span data-ttu-id="a46cc-226">AD FS veya üçüncü taraf Federasyon yapılandırma üzerinde etkisi</span><span class="sxs-lookup"><span data-stu-id="a46cc-226">Impact on AD FS or third-party federation configuration</span></span>
<span data-ttu-id="a46cc-227">Azure kullanıyorsanız, AD Connect toomanage şirket içi AD FS dağıtımı, hello Azure AD Connect hello talep kuralları toouse hello aynı AD özniteliği sourceAnchor olarak otomatik olarak güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-227">If you are using Azure AD Connect toomanage on-premises AD FS deployment, hello Azure AD Connect automatically updates hello claim rules toouse hello same AD attribute as sourceAnchor.</span></span> <span data-ttu-id="a46cc-228">Bu, ADFS tarafından oluşturulan hello İmmutableıd talebi hello sourceAnchor değerleri dışarı aktarılan tooAzure ile AD tutarlı olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="a46cc-228">This ensures that hello ImmutableID claim generated by ADFS is consistent with hello sourceAnchor values exported tooAzure AD.</span></span>

<span data-ttu-id="a46cc-229">AD FS Azure AD Connect dışında yönettiğiniz veya üçüncü taraf federasyon sunucuları için kimlik doğrulaması kullanıyorsanız, el ile Merhaba talep kuralları talep toobe hello sourceAnchor değerleri ile tutarlı olarak tooAzure AD dışarı İmmutableıd için güncelleştirmeniz gerekir makale bölümünde açıklanan [Değiştir AD FS talep kuralları](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-federation-management#modclaims).</span><span class="sxs-lookup"><span data-stu-id="a46cc-229">If you are managing AD FS outside of Azure AD Connect or you are using third-party federation servers for authentication, you must manually update hello claim rules for ImmutableID claim toobe consistent with hello sourceAnchor values exported tooAzure AD as described in article section [Modify AD FS claim rules](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-federation-management#modclaims).</span></span> <span data-ttu-id="a46cc-230">Başlangıç Sihirbazı'nı yükleme tamamlandıktan sonra uyarı aşağıdaki hello döndürür:</span><span class="sxs-lookup"><span data-stu-id="a46cc-230">hello wizard returns hello following warning after installation completes:</span></span>

![Üçüncü taraf Federasyon yapılandırma](./media/active-directory-aadconnect-design-concepts/consistencyGuid-03.png)

### <a name="adding-new-directories-tooexisting-deployment"></a><span data-ttu-id="a46cc-232">Yeni dizinleri tooexisting dağıtım ekleme</span><span class="sxs-lookup"><span data-stu-id="a46cc-232">Adding new directories tooexisting deployment</span></span>
<span data-ttu-id="a46cc-233">Azure AD Connect hello ConsistencyGuid özelliği etkinleştirilmiş ve tooadd istediğiniz artık başka bir dizin toohello dağıtım dağıttığınız varsayalım.</span><span class="sxs-lookup"><span data-stu-id="a46cc-233">Suppose you have deployed Azure AD Connect with hello ConsistencyGuid feature enabled, and now you would like tooadd another directory toohello deployment.</span></span> <span data-ttu-id="a46cc-234">Tooadd hello dizin çalıştığınızda, Azure AD Connect Sihirbazı hello mSDS-ConsistencyGuid özniteliği hello Directory'de hello durumunu denetler.</span><span class="sxs-lookup"><span data-stu-id="a46cc-234">When you try tooadd hello directory, Azure AD Connect wizard checks hello state of hello mSDS-ConsistencyGuid attribute in hello directory.</span></span> <span data-ttu-id="a46cc-235">Merhaba dizininde bir veya daha fazla nesnelerde Hello özniteliği yapılandırdıysanız, Başlangıç Sihirbazı'nı hello özniteliği diğer uygulamalar tarafından kullanılıyor ve hello diyagramda gösterildiği gibi bir hata döndürür sonlanır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-235">If hello attribute is configured on one or more objects in hello directory, hello wizard concludes hello attribute is being used by other applications and returns an error as illustrated in hello diagram below.</span></span> <span data-ttu-id="a46cc-236">Bu hello özniteliği var olan uygulamalar tarafından kullanılmaz, nasıl toosuppress hata hello hakkında bilgi için destek toocontact gerekir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-236">If you are certain that hello attribute isn't used by existing applications, you need toocontact Support for information on how toosuppress hello error.</span></span>

![Yeni dizinleri tooexisting dağıtım ekleme](./media/active-directory-aadconnect-design-concepts/consistencyGuid-04.png)

## <a name="azure-ad-sign-in"></a><span data-ttu-id="a46cc-238">Azure AD oturum açma</span><span class="sxs-lookup"><span data-stu-id="a46cc-238">Azure AD sign-in</span></span>
<span data-ttu-id="a46cc-239">Şirket içi dizininizi Azure AD ile tümleştirme sırasında önemli toounderstand olan hello eşitleme ayarlarını hello şekilde kullanıcı nasıl etkileyebileceğini kimliğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="a46cc-239">While integrating your on-premises directory with Azure AD, it is important toounderstand how hello synchronization settings can affect hello way user authenticates.</span></span> <span data-ttu-id="a46cc-240">Azure AD userPrincipalName (UPN) tooauthenticate hello kullanıcı kullanır.</span><span class="sxs-lookup"><span data-stu-id="a46cc-240">Azure AD uses userPrincipalName (UPN) tooauthenticate hello user.</span></span> <span data-ttu-id="a46cc-241">Ancak, kullanıcılarınızın eşitlediğinizde, userPrincipalName değeri için dikkatli bir şekilde kullanılan hello özniteliği toobe seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-241">However, when you synchronize your users, you must choose hello attribute toobe used for value of userPrincipalName carefully.</span></span>

### <a name="choosing-hello-attribute-for-userprincipalname"></a><span data-ttu-id="a46cc-242">Merhaba özniteliği userPrincipalName için seçme</span><span class="sxs-lookup"><span data-stu-id="a46cc-242">Choosing hello attribute for userPrincipalName</span></span>
<span data-ttu-id="a46cc-243">Ne zaman Azure birinde kullanılan UPN toobe hello değeri sağlamak için hello özniteliği seçerek emin olmanız gerekir</span><span class="sxs-lookup"><span data-stu-id="a46cc-243">When you are selecting hello attribute for providing hello value of UPN toobe used in Azure one should ensure</span></span>

* <span data-ttu-id="a46cc-244">Merhaba öznitelik değerleri hello biçimi olması gereken toohello UPN sözdizimi (RFC 822) uygunusername@domain</span><span class="sxs-lookup"><span data-stu-id="a46cc-244">hello attribute values conform toohello UPN syntax (RFC 822), that is it should be of hello format username@domain</span></span>
* <span data-ttu-id="a46cc-245">Merhaba, hello değerleri eşleşmeleri tooone Hello soneki özel etki alanlarını Azure AD'de doğrulandı.</span><span class="sxs-lookup"><span data-stu-id="a46cc-245">hello suffix in hello values matches tooone of hello verified custom domains in Azure AD</span></span>

<span data-ttu-id="a46cc-246">Express ayarlarında hello hello özniteliği için seçim userPrincipalName kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-246">In express settings, hello assumed choice for hello attribute is userPrincipalName.</span></span> <span data-ttu-id="a46cc-247">Merhaba userPrincipalName özniteliği hello değer içermiyorsa, kullanıcılar toosign tooAzure içinde istediğiniz sonra seçmeniz gerekir **özel yükleme**.</span><span class="sxs-lookup"><span data-stu-id="a46cc-247">If hello userPrincipalName attribute does not contain hello value you want your users toosign in tooAzure, then you must choose **Custom Installation**.</span></span>

### <a name="custom-domain-state-and-upn"></a><span data-ttu-id="a46cc-248">Özel etki alanı durumu ve UPN</span><span class="sxs-lookup"><span data-stu-id="a46cc-248">Custom domain state and UPN</span></span>
<span data-ttu-id="a46cc-249">Önemli tooensure hello UPN soneki doğrulanmış bir etki alanı olduğundan emin olur.</span><span class="sxs-lookup"><span data-stu-id="a46cc-249">It is important tooensure that there is a verified domain for hello UPN suffix.</span></span>

<span data-ttu-id="a46cc-250">John, contoso.com ormanındaki bir kullanıcıdır. John istediğiniz toouse hello şirket içi UPN john@contoso.com çalıştırdıktan sonra tooAzure toosign eşitlenen kullanıcılar tooyour Azure AD directory contoso.onmicrosoft.com. toodo bu nedenle, tooadd gerekir ve contoso.com özel bir etki alanı başlatmak için önce Azure AD'de doğrulayın. Merhaba kullanıcılar eşitleniyor.</span><span class="sxs-lookup"><span data-stu-id="a46cc-250">John is a user in contoso.com. You want John toouse hello on-premises UPN john@contoso.com toosign in tooAzure after you have synced users tooyour Azure AD directory contoso.onmicrosoft.com. toodo so, you need tooadd and verify contoso.com as a custom domain in Azure AD before you can start syncing hello users.</span></span> <span data-ttu-id="a46cc-251">John, örneğin contoso.com Hello UPN soneki Azure AD'de doğrulanmış bir etki alanı eşleşmiyorsa, Azure AD ile contoso.onmicrosoft.com hello UPN soneki değiştirir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-251">If hello UPN suffix of John, for example contoso.com, does not match a verified domain in Azure AD, then Azure AD replaces hello UPN suffix with contoso.onmicrosoft.com.</span></span>

### <a name="non-routable-on-premises-domains-and-upn-for-azure-ad"></a><span data-ttu-id="a46cc-252">Yönlendirilebilir olmayan şirket içi etki alanları ve Azure AD için UPN</span><span class="sxs-lookup"><span data-stu-id="a46cc-252">Non-routable on-premises domains and UPN for Azure AD</span></span>
<span data-ttu-id="a46cc-253">Bazı kuruluşlar contoso.local veya contoso gibi basit tek etiketli etki alanları gibi yönlendirilebilir olmayan etki alanları sahiptir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-253">Some organizations have non-routable domains, like contoso.local, or simple single label domains like contoso.</span></span> <span data-ttu-id="a46cc-254">Mümkün tooverify yönlendirilemeyen bir etki alanı Azure AD içinde değildir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-254">You are not able tooverify a non-routable domain in Azure AD.</span></span> <span data-ttu-id="a46cc-255">Azure AD Connect tooonly doğrulanmış bir etki alanı Azure AD'ye eşitleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a46cc-255">Azure AD Connect can sync tooonly a verified domain in Azure AD.</span></span> <span data-ttu-id="a46cc-256">Azure AD dizini oluşturduğunuzda, örneğin, contoso.onmicrosoft.com Azure AD için varsayılan etki alanı haline gelir yönlendirilebilir bir etki alanı oluşturur. Toosync toohello varsayılan onmicrosoft.com etki alanı istemediğiniz durumda bu nedenle, bu gerekli tooverify diğer yönlendirilebilir etki alanında böyle bir senaryo olur.</span><span class="sxs-lookup"><span data-stu-id="a46cc-256">When you create an Azure AD directory, it creates a routable domain that becomes default domain for your Azure AD for example, contoso.onmicrosoft.com. Therefore, it becomes necessary tooverify any other routable domain in such a scenario in case you don't want toosync toohello default onmicrosoft.com domain.</span></span>

<span data-ttu-id="a46cc-257">Okuma [özel etki alanı adı tooAzure Active Directory eklemek](../active-directory-add-domain.md) ekleme ve etki alanı doğrulama hakkında daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="a46cc-257">Read [Add your custom domain name tooAzure Active Directory](../active-directory-add-domain.md) for more info on adding and verifying domains.</span></span>

<span data-ttu-id="a46cc-258">Azure AD Connect yönlendirilebilir olmayan etki alanı ortamında çalıştırıyorsanız ve uygun şekilde express ayarlarla devam giderek uyar algılar.</span><span class="sxs-lookup"><span data-stu-id="a46cc-258">Azure AD Connect detects if you are running in a non-routable domain environment and would appropriately warn you from going ahead with express settings.</span></span> <span data-ttu-id="a46cc-259">Büyük olasılıkla bu hello hello kullanıcıların UPN sonra yönlendirilemeyen bir etki alanında çalışıyorsanız yönlendirilemeyen sonekleri da içerir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-259">If you are operating in a non-routable domain, then it is likely that hello UPN of hello users have non-routable suffixes too.</span></span> <span data-ttu-id="a46cc-260">Örneğin, contoso.local altında çalıştırıyorsanız, Azure AD Connect'i hızlı ayarları kullanmak yerine, toouse özel ayarları önerir.</span><span class="sxs-lookup"><span data-stu-id="a46cc-260">For example, if you are running under contoso.local, Azure AD Connect suggests you toouse custom settings rather than using express settings.</span></span> <span data-ttu-id="a46cc-261">Özel ayarlarını kullanarak hello kullanıcılar eşitlenmiş tooAzure AD sonra UPN toosign tooAzure içinde olarak kullanılması gereken mümkün toospecify hello özniteliği olan.</span><span class="sxs-lookup"><span data-stu-id="a46cc-261">Using custom settings, you are able toospecify hello attribute that should be used as UPN toosign in tooAzure after hello users are synced tooAzure AD.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a46cc-262">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="a46cc-262">Next steps</span></span>
<span data-ttu-id="a46cc-263">[Şirket içi kimliklerinizi Azure Active Directory ile tümleştirme](active-directory-aadconnect.md) hakkında daha fazla bilgi edinin.</span><span class="sxs-lookup"><span data-stu-id="a46cc-263">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
