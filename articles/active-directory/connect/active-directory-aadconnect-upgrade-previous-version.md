---
title: "Azure AD Connect: Önceki bir sürümden yükseltme | Microsoft Docs"
description: "Merhaba farklı yöntemler tooupgrade toohello en son sürümü Azure Active Directory yerinde yükseltme ve esnek geçiş dahil olmak üzere Connect, açıklanmaktadır."
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: 31f084d8-2b89-478c-9079-76cf92e6618f
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: Identity
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 57bd5b094654e4983cafa303b6f3daecadafb01c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-upgrade-from-a-previous-version-toohello-latest"></a><span data-ttu-id="0a7e9-103">Azure AD Connect: Bir önceki sürüm toohello en son yükseltme</span><span class="sxs-lookup"><span data-stu-id="0a7e9-103">Azure AD Connect: Upgrade from a previous version toohello latest</span></span>
<span data-ttu-id="0a7e9-104">Bu konuda, Azure Active Directory (Azure AD) Bağlan yükleme toohello en son sürüm tooupgrade kullanabileceğiniz hello farklı yöntemler açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-104">This topic describes hello different methods that you can use tooupgrade your Azure Active Directory (Azure AD) Connect installation toohello latest release.</span></span> <span data-ttu-id="0a7e9-105">Kendiniz hello sürümlerine sahip Azure AD Connect geçerli tutmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-105">We recommend that you keep yourself current with hello releases of Azure AD Connect.</span></span> <span data-ttu-id="0a7e9-106">Merhaba adımları hello de [çarpma geçiş](#swing-migration) önemli bir yapılandırma değişikliği yaptığınızda bölüm.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-106">You also use hello steps in hello [Swing migration](#swing-migration) section when you make a substantial configuration change.</span></span>

<span data-ttu-id="0a7e9-107">Dirsync'ten tooupgrade istiyorsanız, bkz: [Azure AD eşitleme aracından (DirSync) yükseltme](active-directory-aadconnect-dirsync-upgrade-get-started.md) yerine.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-107">If you want tooupgrade from DirSync, see [Upgrade from Azure AD sync tool (DirSync)](active-directory-aadconnect-dirsync-upgrade-get-started.md) instead.</span></span>

<span data-ttu-id="0a7e9-108">Azure AD Connect tooupgrade kullanabileceğiniz birkaç farklı stratejiler vardır.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-108">There are a few different strategies that you can use tooupgrade Azure AD Connect.</span></span>

| <span data-ttu-id="0a7e9-109">Yöntem</span><span class="sxs-lookup"><span data-stu-id="0a7e9-109">Method</span></span> | <span data-ttu-id="0a7e9-110">Açıklama</span><span class="sxs-lookup"><span data-stu-id="0a7e9-110">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="0a7e9-111">Otomatik yükseltme</span><span class="sxs-lookup"><span data-stu-id="0a7e9-111">Automatic upgrade</span></span>](active-directory-aadconnect-feature-automatic-upgrade.md) |<span data-ttu-id="0a7e9-112">Hızlı yükleme sahip müşteriler için hello en kolay yöntem budur.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-112">This is hello easiest method for customers with an express installation.</span></span> |
| [<span data-ttu-id="0a7e9-113">Yerinde yükseltme</span><span class="sxs-lookup"><span data-stu-id="0a7e9-113">In-place upgrade</span></span>](#in-place-upgrade) |<span data-ttu-id="0a7e9-114">Tek bir sunucu varsa, üzerinde hello yükleme yerinde yükseltme yapabilirsiniz hello aynı sunucu.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-114">If you have a single server, you can upgrade hello installation in-place on hello same server.</span></span> |
| [<span data-ttu-id="0a7e9-115">Esnek geçiş</span><span class="sxs-lookup"><span data-stu-id="0a7e9-115">Swing migration</span></span>](#swing-migration) |<span data-ttu-id="0a7e9-116">İki sunucu ile Merhaba sunucularıyla hello yeni sürümü veya yapılandırma birini hazırlamak ve hazır olduğunuzda hello active server değiştirin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-116">With two servers, you can prepare one of hello servers with hello new release or configuration, and change hello active server when you're ready.</span></span> |

<span data-ttu-id="0a7e9-117">İzinleri hello bilgi için [yükseltme için gereken izinler](active-directory-aadconnect-accounts-permissions.md#upgrade).</span><span class="sxs-lookup"><span data-stu-id="0a7e9-117">For permissions information, see hello [permissions required for an upgrade](active-directory-aadconnect-accounts-permissions.md#upgrade).</span></span>

> [!NOTE]
> <span data-ttu-id="0a7e9-118">Yeni Azure AD Connect sunucusu toostart eşitleme değişiklikleri tooAzure AD etkinleştirdikten sonra toousing DirSync veya Azure AD eşitleme geri gerekir. DirSync ve Azure AD eşitleme dahil olmak üzere Azure AD Connect toolegacy istemcilerden önceki sürüme indirme desteklenmiyor ve Azure AD içinde veri kaybı gibi tooissues yol açabilir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-118">After you've enabled your new Azure AD Connect server toostart synchronizing changes tooAzure AD, you must not roll back toousing DirSync or Azure AD Sync. Downgrading from Azure AD Connect toolegacy clients, including DirSync and Azure AD Sync, isn't supported and can lead tooissues such as data loss in Azure AD.</span></span>

## <a name="in-place-upgrade"></a><span data-ttu-id="0a7e9-119">Yerinde yükseltme</span><span class="sxs-lookup"><span data-stu-id="0a7e9-119">In-place upgrade</span></span>
<span data-ttu-id="0a7e9-120">Azure AD eşitleme veya Azure AD Connect taşımak için bir yerinde yükseltme çalışır.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-120">An in-place upgrade works for moving from Azure AD Sync or Azure AD Connect.</span></span> <span data-ttu-id="0a7e9-121">Forefront Identity Manager (FIM) + Azure AD Bağlayıcısı ile bir çözüm veya Dirsync'ten taşıma için çalışmıyor.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-121">It doesn't work for moving from DirSync or for a solution with Forefront Identity Manager (FIM) + Azure AD Connector.</span></span>

<span data-ttu-id="0a7e9-122">Tek bir sunucu ve değerinden yaklaşık 100.000 nesneye sahip olduğunda bu tercih edilen bir yöntemdir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-122">This method is preferred when you have a single server and less than about 100,000 objects.</span></span> <span data-ttu-id="0a7e9-123">Toohello out-of-box eşitleme kuralları herhangi bir değişiklik olursa, bir tam içeri aktarma ve tam eşitleme hello yükseltmeden sonra oluşur.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-123">If there are any changes toohello out-of-box sync rules, a full import and full synchronization occur after hello upgrade.</span></span> <span data-ttu-id="0a7e9-124">Bu yöntem, hello yeni yapılandırmayı uygulanan tooall varolan nesneleri hello sistemde sağlar.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-124">This method ensures that hello new configuration is applied tooall existing objects in hello system.</span></span> <span data-ttu-id="0a7e9-125">Bu farklı çalıştır hello hello eşitleme altyapısı kapsamındaki nesnelerin sayısı bağlı olarak birkaç saat sürebilir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-125">This run might take a few hours, depending on hello number of objects that are in scope of hello sync engine.</span></span> <span data-ttu-id="0a7e9-126">(Bu, varsayılan olarak 30 dakikada bir eşitlenir) hello normal delta Eşitleme Zamanlayıcısı askıya alındı, ancak parola eşitleme devam eder.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-126">hello normal delta synchronization scheduler (which synchronizes every 30 minutes by default) is suspended, but password synchronization continues.</span></span> <span data-ttu-id="0a7e9-127">Bir hafta sırasında hello yerinde yükseltme yapılması düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-127">You might consider doing hello in-place upgrade during a weekend.</span></span> <span data-ttu-id="0a7e9-128">Merhaba yeni Azure AD Connect sürümüyle değişiklikleri toohello out-of-box yapılandırma yoksa, sonra normal delta alma/eşitleme başlar yerine.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-128">If there are no changes toohello out-of-box configuration with hello new Azure AD Connect release, then a normal delta import/sync starts instead.</span></span>  
![Yerinde yükseltme](./media/active-directory-aadconnect-upgrade-previous-version/inplaceupgrade.png)

<span data-ttu-id="0a7e9-130">Değişiklikleri toohello out-of-box eşitleme kuralları yaptıysanız, ardından bu kurallar geri toohello varsayılan yapılandırması yükseltme sırasında ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-130">If you've made changes toohello out-of-box synchronization rules, then these rules are set back toohello default configuration on upgrade.</span></span> <span data-ttu-id="0a7e9-131">toomake yapılandırmanızı yükseltmeler arasında tutulmasını açıklandığı gibi değişiklikler yapmak emin olun [en iyi uygulamalar hello varsayılan yapılandırmasını değiştirmek için](active-directory-aadconnectsync-best-practices-changing-default-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="0a7e9-131">toomake sure that your configuration is kept between upgrades, make sure that you make changes as they're described in [Best practices for changing hello default configuration](active-directory-aadconnectsync-best-practices-changing-default-configuration.md).</span></span>

<span data-ttu-id="0a7e9-132">Yerinde yükseltme sırasında olabilir sunulan değişiklikler, yükseltme işlemi tamamlandıktan sonra çalıştırılan belirli eşitleme (tam alma adımı ve tam eşitleme adımı dahil) etkinlikleri toobe gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-132">During in-place upgrade, there may be changes introduced that require specific synchronization activities (including Full Import step and Full Synchronization step) toobe executed after upgrade completes.</span></span> <span data-ttu-id="0a7e9-133">toodefer bu tür etkinlikler başvuran toosection [nasıl toodefer tam eşitleme yükselttikten sonra](#how-to-defer-full-synchronization-after-upgrade).</span><span class="sxs-lookup"><span data-stu-id="0a7e9-133">toodefer such activities, refer toosection [How toodefer full synchronization after upgrade](#how-to-defer-full-synchronization-after-upgrade).</span></span>

## <a name="swing-migration"></a><span data-ttu-id="0a7e9-134">Swing geçişi</span><span class="sxs-lookup"><span data-stu-id="0a7e9-134">Swing migration</span></span>
<span data-ttu-id="0a7e9-135">Karmaşık bir dağıtım veya çok sayıda nesne varsa, pratik toodo bir yerinde yükseltme hello Canlı sistem üzerinde olabilir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-135">If you have a complex deployment or many objects, it might be impractical toodo an in-place upgrade on hello live system.</span></span> <span data-ttu-id="0a7e9-136">Bazı müşteriler için bu işlem birden fazla gün--sürebilir ve bu süre boyunca hiçbir delta değişiklikleri işlenir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-136">For some customers, this process might take multiple days--and during this time, no delta changes are processed.</span></span> <span data-ttu-id="0a7e9-137">Ayrıca toomake önemli değişiklikler tooyour yapılandırmasını planlama ve tootry istediğinizde bu yöntemi kullanabilirsiniz toohello bulut gönderilen önce bunları çıkışı.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-137">You can also use this method when you plan toomake substantial changes tooyour configuration and you want tootry them out before they're pushed toohello cloud.</span></span>

<span data-ttu-id="0a7e9-138">yöntemi bu senaryoları için önerilen hello toouse esnek geçiş ' dir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-138">hello recommended method for these scenarios is toouse a swing migration.</span></span> <span data-ttu-id="0a7e9-139">(En az) iki sunucu--bir etkin sunucu ve bir Hazırlama sunucusu gerekir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-139">You need (at least) two servers--one active server and one staging server.</span></span> <span data-ttu-id="0a7e9-140">Merhaba active server (resim aşağıdaki hello düz mavi çizgilerle gösterilir) hello etkin üretim yük sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-140">hello active server (shown with solid blue lines in hello following picture) is responsible for hello active production load.</span></span> <span data-ttu-id="0a7e9-141">Sunucu (kesikli mor çizgilerle gösterilir) hazırlama hello hello yeni sürüm veya yapılandırma hazırlanır.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-141">hello staging server (shown with dashed purple lines) is prepared with hello new release or configuration.</span></span> <span data-ttu-id="0a7e9-142">Tam olarak hazır olduğunda, bu sunucu etkinleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-142">When it's fully ready, this server is made active.</span></span> <span data-ttu-id="0a7e9-143">artık eski sürümünü veya yüklü yapılandırma hello sahiptir, hello önceki active server, hello hazırlama Server'a yapılan ve yükseltilir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-143">hello previous active server, which now has hello old version or configuration installed, is made into hello staging server and is upgraded.</span></span>

<span data-ttu-id="0a7e9-144">Merhaba iki sunucu farklı sürümlerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-144">hello two servers can use different versions.</span></span> <span data-ttu-id="0a7e9-145">Örneğin, hello active server toodecommission planlama Azure AD eşitleme kullanabilir ve Azure AD Connect hello yeni hazırlama sunucu kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-145">For example, hello active server that you plan toodecommission can use Azure AD Sync, and hello new staging server can use Azure AD Connect.</span></span> <span data-ttu-id="0a7e9-146">Esnek geçiş toodevelop kullanırsanız, yeni bir yapılandırma, onun bir fikir toohave üzerinde aynı sürümde hello iki sunucu hello.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-146">If you use swing migration toodevelop a new configuration, it's a good idea toohave hello same versions on hello two servers.</span></span>  
![Hazırlama sunucusu](./media/active-directory-aadconnect-upgrade-previous-version/stagingserver1.png)

> [!NOTE]
> <span data-ttu-id="0a7e9-148">Bazı müşteriler, bu senaryo için üç veya dört toohave sunucuları tercih eder.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-148">Some customers prefer toohave three or four servers for this scenario.</span></span> <span data-ttu-id="0a7e9-149">Sunucu hazırlama hello yükseltildiğinde için yedek bir sunucu yok [olağanüstü durum kurtarma](active-directory-aadconnectsync-operations.md#disaster-recovery).</span><span class="sxs-lookup"><span data-stu-id="0a7e9-149">When hello staging server is upgraded, you don't have a backup server for [disaster recovery](active-directory-aadconnectsync-operations.md#disaster-recovery).</span></span> <span data-ttu-id="0a7e9-150">Üç veya dört sunucularıyla olduğundan her zaman hazır tootake üzerinden bir Hazırlama sunucusu sağlar hello yeni sürümle birincil/bekleme sunucularının bir kümesi hazırlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-150">With three or four servers, you can prepare one set of primary/standby servers with hello new version, which ensures that there is always a staging server that's ready tootake over.</span></span>

<span data-ttu-id="0a7e9-151">Bu adımları da Azure AD eşitleme veya FIM + Azure AD Bağlayıcısı ile bir çözüm toomove çalışır.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-151">These steps also work toomove from Azure AD Sync or a solution with FIM + Azure AD Connector.</span></span> <span data-ttu-id="0a7e9-152">DirSync için şu adımları çalışmaz, ancak (paralel dağıtım olarak da bilinir) aynı esnek geçiş yöntemi ile DirSync için adımları hello konusu [yükseltme Azure Active Directory eşitleme (DirSync)](active-directory-aadconnect-dirsync-upgrade-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="0a7e9-152">These steps don't work for DirSync, but hello same swing migration method (also called parallel deployment) with steps for DirSync is in [Upgrade Azure Active Directory sync (DirSync)](active-directory-aadconnect-dirsync-upgrade-get-started.md).</span></span>

### <a name="use-a-swing-migration-tooupgrade"></a><span data-ttu-id="0a7e9-153">Esnek geçiş tooupgrade kullanın</span><span class="sxs-lookup"><span data-stu-id="0a7e9-153">Use a swing migration tooupgrade</span></span>
1. <span data-ttu-id="0a7e9-154">Azure AD Connect hem sunucu hem de planı tooonly yapma bir yapılandırma değişikliği kullanırsanız, active server ve hazırlama server hem de olduğundan emin olun kullanarak hello aynı sürümü.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-154">If you use Azure AD Connect on both servers and plan tooonly make a configuration change, make sure that your active server and staging server are both using hello same version.</span></span> <span data-ttu-id="0a7e9-155">Daha kolay toocompare farklar daha sonra kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-155">That makes it easier toocompare differences later.</span></span> <span data-ttu-id="0a7e9-156">Azure AD eşitleme'den yükseltme yapıyorsanız, bu sunucular farklı sürümlerde.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-156">If you're upgrading from Azure AD Sync, then these servers have different versions.</span></span> <span data-ttu-id="0a7e9-157">Azure AD Connect eski bir sürümden yükseltirken, iyi bir fikir toostart hello iki sunucuları ile olan hello aynı sürümü kullanan, ancak gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-157">If you're upgrading from an older version of Azure AD Connect, it's a good idea toostart with hello two servers that are using hello same version, but it's not required.</span></span>
2. <span data-ttu-id="0a7e9-158">Özel yapılandırma yapmış olduğunuz ve hazırlama sunucunuz, yoksa, hello altındaki adımları [özel bir yapılandırma sunucusu hazırlama hello active server toohello taşıma](#move-custom-configuration-from-active-to-staging-server).</span><span class="sxs-lookup"><span data-stu-id="0a7e9-158">If you've made a custom configuration and your staging server doesn't have it, follow hello steps under [Move a custom configuration from hello active server toohello staging server](#move-custom-configuration-from-active-to-staging-server).</span></span>
3. <span data-ttu-id="0a7e9-159">Azure AD Connect, önceki bir sürümünden yükseltiyorsanız, sunucu toohello en son sürümü hazırlama hello yükseltin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-159">If you're upgrading from an earlier release of Azure AD Connect, upgrade hello staging server toohello latest version.</span></span> <span data-ttu-id="0a7e9-160">Azure AD eşitleme'den taşıyorsanız, Azure AD Connect'i hazırlama sunucunuza yükleyin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-160">If you're moving from Azure AD Sync, then install Azure AD Connect on your staging server.</span></span>
4. <span data-ttu-id="0a7e9-161">Merhaba eşitleme Çalıştır motoru tam içeri aktarma ve tam eşitleme hazırlama sunucunuzda olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-161">Let hello sync engine run full import and full synchronization on your staging server.</span></span>
5. <span data-ttu-id="0a7e9-162">Bu hello yeni yapılandırma kaydetmedi neden beklenmeyen değişiklikleri "Doğrula" altında hello adımları kullanarak doğrulayın [sunucusunun doğrula hello yapılandırmasını](active-directory-aadconnectsync-operations.md#verify-the-configuration-of-a-server).</span><span class="sxs-lookup"><span data-stu-id="0a7e9-162">Verify that hello new configuration didn't cause any unexpected changes by using hello steps under "Verify" in [Verify hello configuration of a server](active-directory-aadconnectsync-operations.md#verify-the-configuration-of-a-server).</span></span> <span data-ttu-id="0a7e9-163">Bir şeyler değilse olarak beklenen, doğru hello içeri aktarma ve eşitleme çalıştırın ve hello adımları izleyerek iyi görünüyor kadar hello verileri doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-163">If something isn't as expected, correct it, run hello import and sync, and verify hello data until it looks good, by following hello steps.</span></span>
6. <span data-ttu-id="0a7e9-164">Sunucu toobe hello active server hazırlama hello geçin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-164">Switch hello staging server toobe hello active server.</span></span> <span data-ttu-id="0a7e9-165">Bu hello son "Anahtar active server" aşamasıdır [sunucusunun doğrula hello yapılandırmasını](active-directory-aadconnectsync-operations.md#verify-the-configuration-of-a-server).</span><span class="sxs-lookup"><span data-stu-id="0a7e9-165">This is hello final step "Switch active server" in [Verify hello configuration of a server](active-directory-aadconnectsync-operations.md#verify-the-configuration-of-a-server).</span></span>
7. <span data-ttu-id="0a7e9-166">Azure AD Connect yükseltiyorsanız, şimdi de modu toohello en son sürüm hazırlama hello sunucusunu yükseltin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-166">If you're upgrading Azure AD Connect, upgrade hello server that's now in staging mode toohello latest release.</span></span> <span data-ttu-id="0a7e9-167">Merhaba tooget hello veri ve yükseltme yapılandırma gibi önce aynı adımları izleyin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-167">Follow hello same steps as before tooget hello data and configuration upgraded.</span></span> <span data-ttu-id="0a7e9-168">Azure AD eşitleme'den yükseltme yaptıysanız, şimdi kapatmak ve eski sunucunuz yetkisini.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-168">If you upgraded from Azure AD Sync, you can now turn off and decommission your old server.</span></span>

### <a name="move-a-custom-configuration-from-hello-active-server-toohello-staging-server"></a><span data-ttu-id="0a7e9-169">Özel yapılandırma hello active server toohello hazırlama sunucudan taşıma</span><span class="sxs-lookup"><span data-stu-id="0a7e9-169">Move a custom configuration from hello active server toohello staging server</span></span>
<span data-ttu-id="0a7e9-170">Yapılandırma değişiklikleri toohello active server yaptıysanız, toomake emin olun, aynı hello gereksinim duyduğunuz sunucu hazırlama uygulanan toohello değişir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-170">If you've made configuration changes toohello active server, you need toomake sure that hello same changes are applied toohello staging server.</span></span> <span data-ttu-id="0a7e9-171">Bu toohelp taşımak, hello kullanabileceğiniz [Azure AD Connect yapılandırma Belgeleyici'yi](https://github.com/Microsoft/AADConnectConfigDocumenter).</span><span class="sxs-lookup"><span data-stu-id="0a7e9-171">toohelp with this move, you can use hello [Azure AD Connect configuration documenter](https://github.com/Microsoft/AADConnectConfigDocumenter).</span></span>

<span data-ttu-id="0a7e9-172">PowerShell kullanarak oluşturduktan hello özel eşitleme kuralları taşıyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-172">You can move hello custom sync rules that you've created by using PowerShell.</span></span> <span data-ttu-id="0a7e9-173">Diğer değişiklikler hello uygulamalısınız hem sistemleri ve aynı şekilde hello değişiklikleri geçirilemiyor.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-173">You must apply other changes hello same way on both systems, and you can't migrate hello changes.</span></span> <span data-ttu-id="0a7e9-174">Merhaba [yapılandırma Belgeleyici'yi](https://github.com/Microsoft/AADConnectConfigDocumenter) hello iki sistemleri toomake aynı olduklarından emin karşılaştırma yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-174">hello [configuration documenter](https://github.com/Microsoft/AADConnectConfigDocumenter) can help you comparing hello two systems toomake sure they are identical.</span></span> <span data-ttu-id="0a7e9-175">Bu bölümde bulunan hello adımlarını otomatik hale getirmede Hello aracı de yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-175">hello tool can also help in automating hello steps found in this section.</span></span>

<span data-ttu-id="0a7e9-176">Tooconfigure hello aşağıdakiler şeyler hello aynı şekilde her iki sunucuda:</span><span class="sxs-lookup"><span data-stu-id="0a7e9-176">You need tooconfigure hello following things hello same way on both servers:</span></span>

* <span data-ttu-id="0a7e9-177">Bağlantı toohello aynı ormanlar</span><span class="sxs-lookup"><span data-stu-id="0a7e9-177">Connection toohello same forests</span></span>
* <span data-ttu-id="0a7e9-178">Tüm etki alanı ve OU filtreleme</span><span class="sxs-lookup"><span data-stu-id="0a7e9-178">Any domain and OU filtering</span></span>
* <span data-ttu-id="0a7e9-179">Parola Eşitleme ve parola geri yazma gibi aynı isteğe bağlı özellikler hello</span><span class="sxs-lookup"><span data-stu-id="0a7e9-179">hello same optional features, such as password sync and password writeback</span></span>

<span data-ttu-id="0a7e9-180">**Özel eşitleme kuralları taşıma**</span><span class="sxs-lookup"><span data-stu-id="0a7e9-180">**Move custom synchronization rules**</span></span>  
<span data-ttu-id="0a7e9-181">toomove özel eşitleme kuralları hello aşağıdaki:</span><span class="sxs-lookup"><span data-stu-id="0a7e9-181">toomove custom synchronization rules, do hello following:</span></span>

1. <span data-ttu-id="0a7e9-182">Açık **eşitleme kuralları Düzenleyicisi** etkin sunucunuzda.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-182">Open **Synchronization Rules Editor** on your active server.</span></span>
2. <span data-ttu-id="0a7e9-183">Özel bir kural seçin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-183">Select a custom rule.</span></span> <span data-ttu-id="0a7e9-184">Tıklatın **verme**.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-184">Click **Export**.</span></span> <span data-ttu-id="0a7e9-185">Bir not defteri pencereyi getirir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-185">This brings up a Notepad window.</span></span> <span data-ttu-id="0a7e9-186">Merhaba geçici dosya bir PS1 uzantısıyla kaydedin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-186">Save hello temporary file with a PS1 extension.</span></span> <span data-ttu-id="0a7e9-187">Bu, bir PowerShell komut dosyası sağlar.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-187">This makes it a PowerShell script.</span></span> <span data-ttu-id="0a7e9-188">Sunucu hazırlama hello PS1 dosyası toohello kopyalayın.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-188">Copy hello PS1 file toohello staging server.</span></span>  
   <span data-ttu-id="0a7e9-189">![Eşitleme kuralı dışarı aktarma](./media/active-directory-aadconnect-upgrade-previous-version/exportrule.png)</span><span class="sxs-lookup"><span data-stu-id="0a7e9-189">![Sync rule export](./media/active-directory-aadconnect-upgrade-previous-version/exportrule.png)</span></span>
3. <span data-ttu-id="0a7e9-190">Merhaba bağlayıcı GUID sunucu hazırlama hello üzerinde farklıdır ve değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-190">hello Connector GUID is different on hello staging server, and you must change it.</span></span> <span data-ttu-id="0a7e9-191">tooget hello GUID, başlangıç **eşitleme kuralları Düzenleyicisi**, hello out-of-box kurallardan biri aynı bağlı sistem ve'ı tıklatın, temsil hello seçin **verme**.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-191">tooget hello GUID, start **Synchronization Rules Editor**, select one of hello out-of-box rules that represent hello same connected system, and click **Export**.</span></span> <span data-ttu-id="0a7e9-192">Merhaba PS1 dosyanızdaki GUID hello GUID hello sunucu hazırlama alanından değiştirin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-192">Replace hello GUID in your PS1 file with hello GUID from hello staging server.</span></span>
4. <span data-ttu-id="0a7e9-193">Bir PowerShell komut isteminde hello PS1 dosyasını çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-193">In a PowerShell prompt, run hello PS1 file.</span></span> <span data-ttu-id="0a7e9-194">Bu, sunucu hazırlama hello üzerinde hello özel eşitleme kuralı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-194">This creates hello custom synchronization rule on hello staging server.</span></span>
5. <span data-ttu-id="0a7e9-195">Bu, özel kurallarınızı için işlemi yineleyin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-195">Repeat this for all your custom rules.</span></span>

## <a name="how-toodefer-full-synchronization-after-upgrade"></a><span data-ttu-id="0a7e9-196">Nasıl toodefer tam eşitleme yükselttikten sonra</span><span class="sxs-lookup"><span data-stu-id="0a7e9-196">How toodefer full synchronization after upgrade</span></span>
<span data-ttu-id="0a7e9-197">Yerinde yükseltme sırasında olabilir yürütülen belirli eşitleme (tam alma adımı ve tam eşitleme adımı dahil) etkinlikleri toobe gerektiren sunulan değişiklikler.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-197">During in-place upgrade, there may be changes introduced that require specific synchronization activities (including Full Import step and Full Synchronization step) toobe executed.</span></span> <span data-ttu-id="0a7e9-198">Örneğin, bağlayıcı şema değişiklikleri gerektirir **tam alma** adım ve out-of-box eşitleme kuralı değişiklik gerektiren **tam eşitleme** etkilenen bağlayıcıların yürütülen toobe adım.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-198">For example, connector schema changes require **full import** step and out-of-box synchronization rule changes require **full synchronization** step toobe executed on affected connectors.</span></span> <span data-ttu-id="0a7e9-199">Yükseltme sırasında Azure AD Connect eşitleme etkinlikleri gerekli olduğunu belirler ve bunları olarak kaydeder *geçersiz kılmaları*.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-199">During upgrade, Azure AD Connect determines what synchronization activities are required and records them as *overrides*.</span></span> <span data-ttu-id="0a7e9-200">Merhaba, eşitleme döngüsü aşağıdaki hello Eşitleme Zamanlayıcısı bu geçersiz kılma işlemleri seçer ve bunları yürütür.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-200">In hello following synchronization cycle, hello synchronization scheduler picks up these overrides and executes them.</span></span> <span data-ttu-id="0a7e9-201">Bir geçersiz kılma başarılı bir şekilde yürütüldükten sonra kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-201">Once an override is successfully executed, it is removed.</span></span>

<span data-ttu-id="0a7e9-202">Burada, bu geçersiz kılmaları tootake yer hemen yükseltmeden sonra istemediğiniz durumlar olabilir.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-202">There may be situations where you do not want these overrides tootake place immediately after upgrade.</span></span> <span data-ttu-id="0a7e9-203">Örneğin, çok sayıda eşitlenmiş nesneleri varsa ve bu eşitleme adımları toooccur çalışma saatlerinden istersiniz.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-203">For example, you have numerous synchronized objects and you would like these synchronization steps toooccur after business hours.</span></span> <span data-ttu-id="0a7e9-204">Bu geçersiz kılmaları tooremove:</span><span class="sxs-lookup"><span data-stu-id="0a7e9-204">tooremove these overrides:</span></span>

1. <span data-ttu-id="0a7e9-205">Yükseltme sırasında **işaretini** hello seçeneği **Yapılandırma tamamlandığında hello eşitleme işlemini başlatmak**.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-205">During upgrade, **uncheck** hello option **Start hello synchronization process when configuration completes**.</span></span> <span data-ttu-id="0a7e9-206">Bu hello Eşitleme Zamanlayıcısı'nı devre dışı bırakır ve hello geçersiz kılmaları kaldırılmadan önce eşitleme döngüsü alma yerden otomatik olarak engeller.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-206">This disables hello synchronization scheduler and prevents synchronization cycle from taking place automatically before hello overrides are removed.</span></span>

   ![DisableFullSyncAfterUpgrade](./media/active-directory-aadconnect-upgrade-previous-version/disablefullsync01.png)

2. <span data-ttu-id="0a7e9-208">Yükseltme tamamlandıktan sonra hangi geçersiz kılmaları eklenen çıkışı cmdlet toofind aşağıdaki hello çalıştırın:`Get-ADSyncSchedulerConnectorOverride | fl`</span><span class="sxs-lookup"><span data-stu-id="0a7e9-208">After upgrade completes, run hello following cmdlet toofind out what overrides have been added: `Get-ADSyncSchedulerConnectorOverride | fl`</span></span>

   >[!NOTE]
   > <span data-ttu-id="0a7e9-209">Merhaba geçersiz kılmaları bağlayıcı özgüdür.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-209">hello overrides are connector-specific.</span></span> <span data-ttu-id="0a7e9-210">Hello aşağıdaki örnekte, tam alma adımı ve tam eşitleme adım tooboth hello şirket içi AD Bağlayıcısı eklenmiştir ve Azure AD Bağlayıcısı.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-210">In hello following example, Full Import step and Full Synchronization step have been added tooboth hello on-premises AD Connector and Azure AD Connector.</span></span>

   ![DisableFullSyncAfterUpgrade](./media/active-directory-aadconnect-upgrade-previous-version/disablefullsync02.png)

3. <span data-ttu-id="0a7e9-212">Eklenen hello varolan geçersiz kılmaları unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-212">Note down hello existing overrides that have been added.</span></span>
   
4. <span data-ttu-id="0a7e9-213">tam içeri aktarma ve hello aşağıdaki cmdlet'i çalıştırın, rasgele bir bağlayıcı üzerinde tam eşitleme tooremove hello kılmalarının:`Set-ADSyncSchedulerConnectorOverride -ConnectorIdentifier <Guid-of-ConnectorIdentifier> -FullImportRequired $false -FullSyncRequired $false`</span><span class="sxs-lookup"><span data-stu-id="0a7e9-213">tooremove hello overrides for both full import and full synchronization on an arbitrary connector, run hello following cmdlet: `Set-ADSyncSchedulerConnectorOverride -ConnectorIdentifier <Guid-of-ConnectorIdentifier> -FullImportRequired $false -FullSyncRequired $false`</span></span>

   <span data-ttu-id="0a7e9-214">tüm bağlayıcılar üzerinde tooremove hello geçersiz kılmaları PowerShell Betiği aşağıdaki hello yürütün:</span><span class="sxs-lookup"><span data-stu-id="0a7e9-214">tooremove hello overrides on all connectors, execute hello following PowerShell script:</span></span>

   ```
   foreach ($connectorOverride in Get-ADSyncSchedulerConnectorOverride)
   {
       Set-ADSyncSchedulerConnectorOverride -ConnectorIdentifier $connectorOverride.ConnectorIdentifier.Guid -FullSyncRequired $false -FullImportRequired $false
   }
   ```

5. <span data-ttu-id="0a7e9-215">tooresume hello Zamanlayıcı ' hello aşağıdaki cmdlet'i çalıştırın:`Set-ADSyncScheduler -SyncCycleEnabled $true`</span><span class="sxs-lookup"><span data-stu-id="0a7e9-215">tooresume hello scheduler, run hello following cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $true`</span></span>

   >[!IMPORTANT]
   > <span data-ttu-id="0a7e9-216">Erken kolaylık tooexecute gerekli hello eşitleme adımları unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-216">Remember tooexecute hello required synchronization steps at your earliest convenience.</span></span> <span data-ttu-id="0a7e9-217">El ile hello Eşitleme Hizmeti Yöneticisi'ni kullanarak aşağıdaki adımları yürütme veya geri hello kümesi ADSyncSchedulerConnectorOverride cmdlet'ini kullanarak hello geçersiz kılmaları ekleyin.</span><span class="sxs-lookup"><span data-stu-id="0a7e9-217">You can either manually execute these steps using hello Synchronization Service Manager or add hello overrides back using hello Set-ADSyncSchedulerConnectorOverride cmdlet.</span></span>

<span data-ttu-id="0a7e9-218">tam içeri aktarma ve hello aşağıdaki cmdlet'i çalıştırın, rasgele bir bağlayıcı üzerinde tam eşitleme tooadd hello kılmalarının:`Set-ADSyncSchedulerConnectorOverride -ConnectorIdentifier <Guid> -FullImportRequired $true -FullSyncRequired $true`</span><span class="sxs-lookup"><span data-stu-id="0a7e9-218">tooadd hello overrides for both full import and full synchronization on an arbitrary connector, run hello following cmdlet:  `Set-ADSyncSchedulerConnectorOverride -ConnectorIdentifier <Guid> -FullImportRequired $true -FullSyncRequired $true`</span></span>

## <a name="next-steps"></a><span data-ttu-id="0a7e9-219">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="0a7e9-219">Next steps</span></span>
<span data-ttu-id="0a7e9-220">Daha fazla bilgi edinmek [şirket içi kimliklerinizi Azure Active Directory ile tümleştirme](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="0a7e9-220">Learn more about [integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
