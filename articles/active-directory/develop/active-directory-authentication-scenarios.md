---
title: "Azure AD için kimlik doğrulama senaryoları | Microsoft Docs"
description: "Beş en yaygın kimlik doğrulama senaryoları için Azure Active Directory (AAD) genel bakış"
services: active-directory
documentationcenter: dev-center-name
author: skwan
manager: mbaldwin
editor: 
ms.assetid: 0c84e7d0-16aa-4897-82f2-f53c6c990fd9
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/27/2017
ms.author: skwan
ms.custom: aaddev
ms.openlocfilehash: 2f9410bdaa037f1839cf7c12c3532b51be669ed5
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/18/2017
---
# <a name="authentication-scenarios-for-azure-ad"></a><span data-ttu-id="ef7a0-103">Azure AD için Kimlik Doğrulama Senaryoları</span><span class="sxs-lookup"><span data-stu-id="ef7a0-103">Authentication Scenarios for Azure AD</span></span>
<span data-ttu-id="ef7a0-104">Azure Active Directory (Azure AD) geliştiriciler için kimlik doğrulama kitaplıkları kodlama hızla başlamanıza yardımcı olması farklı platformlar için OAuth 2.0 ve Openıd Connect gibi endüstri standardı protokoller desteğiyle hizmet olarak açık kaynak olarak kimlik sağlayarak basitleştirir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-104">Azure Active Directory (Azure AD) simplifies authentication for developers by providing identity as a service, with support for industry-standard protocols such as OAuth 2.0 and OpenID Connect, as well as open source libraries for different platforms to help you start coding quickly.</span></span> <span data-ttu-id="ef7a0-105">Bu belge yardımcı olacak çeşitli senaryolar Azure AD destekler anlamak ve nasıl başlayacağınızı gösterir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-105">This document will help you understand the various scenarios Azure AD supports and will show you how to get started.</span></span> <span data-ttu-id="ef7a0-106">Aşağıdaki bölümlere ayrılır:</span><span class="sxs-lookup"><span data-stu-id="ef7a0-106">It’s divided into the following sections:</span></span>

* [<span data-ttu-id="ef7a0-107">Azure AD kimlik doğrulaması temelleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-107">Basics of Authentication in Azure AD</span></span>](#basics-of-authentication-in-azure-ad)
* [<span data-ttu-id="ef7a0-108">Azure AD güvenlik belirteçleri talepleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-108">Claims in Azure AD Security Tokens</span></span>](#claims-in-azure-ad-security-tokens)
* [<span data-ttu-id="ef7a0-109">Azure AD'de uygulama kaydetme temelleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-109">Basics of Registering an Application in Azure AD</span></span>](#basics-of-registering-an-application-in-azure-ad)
* [<span data-ttu-id="ef7a0-110">Uygulama türleri ve senaryolar</span><span class="sxs-lookup"><span data-stu-id="ef7a0-110">Application Types and Scenarios</span></span>](#application-types-and-scenarios)
  
  * [<span data-ttu-id="ef7a0-111">Web uygulaması için Web tarayıcısı</span><span class="sxs-lookup"><span data-stu-id="ef7a0-111">Web Browser to Web Application</span></span>](#web-browser-to-web-application)
  * [<span data-ttu-id="ef7a0-112">Tek sayfalı uygulama (SPA)</span><span class="sxs-lookup"><span data-stu-id="ef7a0-112">Single Page Application (SPA)</span></span>](#single-page-application-spa)
  * [<span data-ttu-id="ef7a0-113">Web API yerel uygulama</span><span class="sxs-lookup"><span data-stu-id="ef7a0-113">Native Application to Web API</span></span>](#native-application-to-web-api)
  * [<span data-ttu-id="ef7a0-114">Web uygulaması Web API'si</span><span class="sxs-lookup"><span data-stu-id="ef7a0-114">Web Application to Web API</span></span>](#web-application-to-web-api)
  * [<span data-ttu-id="ef7a0-115">Arka plan programı veya Web API için sunucu uygulaması</span><span class="sxs-lookup"><span data-stu-id="ef7a0-115">Daemon or Server Application to Web API</span></span>](#daemon-or-server-application-to-web-api)

## <a name="basics-of-authentication-in-azure-ad"></a><span data-ttu-id="ef7a0-116">Azure AD kimlik doğrulaması temelleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-116">Basics of Authentication in Azure AD</span></span>
<span data-ttu-id="ef7a0-117">Azure AD alanında kimlik doğrulaması temel kavramları hakkında bilginiz yoksa bu bölümü okuyun.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-117">If you are unfamiliar with basic concepts of authentication in Azure AD, read this section.</span></span> <span data-ttu-id="ef7a0-118">Aksi takdirde, aşağı atlamak isteyebilirsiniz [uygulama türleri ve senaryolar](#application-types-and-scenarios).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-118">Otherwise, you may want to skip down to [Application Types and Scenarios](#application-types-and-scenarios).</span></span>

<span data-ttu-id="ef7a0-119">Şimdi burada kimlik, gerekli en temel senaryo düşünün: bir kullanıcının bir web tarayıcısında bir web uygulaması için kimlik doğrulama yapılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-119">Let’s consider the most basic scenario where identity is required: a user in a web browser needs to authenticate to a web application.</span></span> <span data-ttu-id="ef7a0-120">Bu senaryo, daha ayrıntılı biçimde açıklandığı [Web uygulamasına Web tarayıcısı](#web-browser-to-web-application) bölüm, ancak kullanıcının Azure AD özelliklerini göstermek ve senaryoyu nasıl çalıştığını conceptualize için yararlı bir başlangıç noktası.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-120">This scenario is described in greater detail in the [Web Browser to Web Application](#web-browser-to-web-application) section, but it’s a useful starting point to illustrate the capabilities of Azure AD and conceptualize how the scenario works.</span></span> <span data-ttu-id="ef7a0-121">Bu senaryo için aşağıdaki çizime göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="ef7a0-121">Consider the following diagram for this scenario:</span></span>

![Oturum açma web uygulamasına genel bakış](./media/active-directory-authentication-scenarios/basics_of_auth_in_aad.png)

<span data-ttu-id="ef7a0-123">Yukarıdaki diyagramda ile unutmayın, işte çeşitli bileşenleri hakkında bilmeniz gerekenler:</span><span class="sxs-lookup"><span data-stu-id="ef7a0-123">With the diagram above in mind, here’s what you need to know about its various components:</span></span>

* <span data-ttu-id="ef7a0-124">Azure AD kimlik, kullanıcı ve kuruluşun dizininde mevcut uygulamaların kimliğini doğrulamak ve sonuçta bu kullanıcıların ve uygulamaların başarılı bir kimlik doğrulaması sırasında güvenlik belirteçleri verme sorumlu sağlayıcıdır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-124">Azure AD is the identity provider, responsible for verifying the identity of users and applications that exist in an organization’s directory, and ultimately issuing security tokens upon successful authentication of those users and applications.</span></span>
* <span data-ttu-id="ef7a0-125">Azure ad kimlik doğrulama dış istediği bir uygulama kaydeder ve uygulama dizinindeki benzersiz olarak tanımlayan Azure AD'de kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-125">An application that wants to outsource authentication to Azure AD must be registered in Azure AD, which registers and uniquely identifies the app in the directory.</span></span>
* <span data-ttu-id="ef7a0-126">Geliştiriciler, kimlik doğrulama protokolü ayrıntıları işleyerek kolaylaştırmak için açık kaynaklı Azure AD kimlik doğrulama kitaplıkları kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-126">Developers can use the open source Azure AD authentication libraries to make authentication easy by handling the protocol details for you.</span></span> <span data-ttu-id="ef7a0-127">Bkz: [Azure Active Directory kimlik doğrulama kitaplıkları](active-directory-authentication-libraries.md) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-127">See [Azure Active Directory Authentication Libraries](active-directory-authentication-libraries.md) for more information.</span></span>

<span data-ttu-id="ef7a0-128">• Bir kullanıcının kimliği doğrulandıktan sonra uygulamayı hedeflenen taraflar için bu kimlik doğrulaması başarılı olmak için kullanıcının güvenlik belirteci doğrulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-128">• Once a user has been authenticated, the application must validate the user’s security token to ensure that authentication was successful for the intended parties.</span></span> <span data-ttu-id="ef7a0-129">Geliştiriciler, Azure AD'den JSON Web belirteçleri (JWT) veya SAML 2.0 dahil olmak üzere herhangi bir belirteci doğrulaması işlemek için sağlanan kimlik doğrulama kitaplıkları kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-129">Developers can use the provided authentication libraries to handle validation of any token from Azure AD, including JSON Web Tokens (JWT) or SAML 2.0.</span></span> <span data-ttu-id="ef7a0-130">Doğrulama el ile gerçekleştirmek istiyorsanız, bkz: [JWT belirteci işleyicisi](https://msdn.microsoft.com/library/dn205065.aspx) belgeleri.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-130">If you want to perform validation manually, see the [JWT Token Handler](https://msdn.microsoft.com/library/dn205065.aspx) documentation.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ef7a0-131">Azure AD Belirteçleri imzalamak ve bunların geçerli olduğunu doğrulamak için ortak anahtar şifrelemesi kullanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-131">Azure AD uses public key cryptography to sign tokens and verify that they are valid.</span></span> <span data-ttu-id="ef7a0-132">Bkz: [önemli bilgiler hakkında imzalama anahtarı Rollover Azure AD'de](active-directory-signing-key-rollover.md) gerekli mantığı hakkında daha fazla bilgi, her zaman güncelleştirildiği son anahtarlarla emin olmak için uygulamanızda olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-132">See [Important Information About Signing Key Rollover in Azure AD](active-directory-signing-key-rollover.md) for more information on the necessary logic you must have in your application to ensure it’s always updated with the latest keys.</span></span>
> 
> 

<span data-ttu-id="ef7a0-133">• Akış isteklerin ve yanıtların kimlik doğrulama işlemi için OAuth 2.0 gibi Openıd Connect, kullanılan kimlik doğrulama protokolü tarafından belirlenir WS-Federasyon veya SAML 2.0.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-133">• The flow of requests and responses for the authentication process is determined by the authentication protocol that was used, such as OAuth 2.0, OpenID Connect, WS-Federation, or SAML 2.0.</span></span> <span data-ttu-id="ef7a0-134">Bu protokollerin daha ayrıntılı olarak ele alınmıştır [Azure Active Directory kimlik doğrulama protokolleri](active-directory-authentication-protocols.md) konu ve aşağıdaki bölümler.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-134">These protocols are discussed in more detail in the [Azure Active Directory Authentication Protocols](active-directory-authentication-protocols.md) topic and in the sections below.</span></span>

> [!NOTE]
> <span data-ttu-id="ef7a0-135">Azure AD OAuth 2.0 destekler ve kapsamlı olun Openıd Connect standartları taşıyıcı belirteçler, taşıyıcı belirteçlerini Jwt'ler temsil dahil olmak üzere kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-135">Azure AD supports the OAuth 2.0 and OpenID Connect standards that make extensive use of bearer tokens, including bearer tokens represented as JWTs.</span></span> <span data-ttu-id="ef7a0-136">Bir taşıyıcı belirteci korunan bir kaynağa "bearer" erişim veren bir basit güvenlik belirtecidir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-136">A bearer token is a lightweight security token that grants the “bearer” access to a protected resource.</span></span> <span data-ttu-id="ef7a0-137">Bu anlamda belirteç sunabilir herhangi bir tarafa "bearer" dir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-137">In this sense, the “bearer” is any party that can present the token.</span></span> <span data-ttu-id="ef7a0-138">İletim ve depolama belirteçte güvenli hale getirmek için gerekli adımları katılmaz varsa bir taraf ilk taşıyıcı belirteci almak için Azure AD ile kimlik doğrulaması yapması gereken ancak ele ve istenmeyen bir şahıs tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-138">Though a party must first authenticate with Azure AD to receive the bearer token, if the required steps are not taken to secure the token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="ef7a0-139">Bazı güvenlik belirteçleri kullanarak gelen yetkisiz tarafların engellemek için yerleşik bir mekanizma olmakla birlikte, taşıyıcı belirteçlerini bu düzenek yoksa ve Aktarım Katmanı Güvenliği (HTTPS) gibi güvenli bir kanal taşınan gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-139">While some security tokens have a built-in mechanism for preventing unauthorized parties from using them, bearer tokens do not have this mechanism and must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="ef7a0-140">Bir taşıyıcı belirteci açık bir şekilde iletilirse, bir adam-Orta saldırı kötü amaçlı bir tarafın belirtecini almak ve bir yetkisiz erişim korunan bir kaynağa için kullanmak üzere kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-140">If a bearer token is transmitted in the clear, a man-in the middle attack can be used by a malicious party to acquire the token and use it for an unauthorized access to a protected resource.</span></span> <span data-ttu-id="ef7a0-141">Depolama veya taşıyıcı belirteçlerini daha sonra kullanmak için önbelleğe alma aynı güvenlik ilkeleri uygulayın.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-141">The same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="ef7a0-142">Her zaman, uygulamanızın aktarır ve güvenli bir şekilde taşıyıcı belirteçleri depolar emin olun.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-142">Always ensure that your application transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="ef7a0-143">Taşıyıcı belirteçlerini hakkında daha fazla güvenlik konuları için bkz: [RFC 6750 bölüm 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-143">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>
> 
> 

<span data-ttu-id="ef7a0-144">Temel genel bir bakış sahip olduğunuza göre Azure AD'de sağlama nasıl çalıştığını anlamak için aşağıdaki bölümleri okuyun ve Azure AD genel senaryolarını destekler.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-144">Now that you have an overview of the basics, read the sections below to understand how provisioning works in Azure AD and the common scenarios Azure AD supports.</span></span>

## <a name="claims-in-azure-ad-security-tokens"></a><span data-ttu-id="ef7a0-145">Azure AD güvenlik belirteçleri talepleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-145">Claims in Azure AD Security Tokens</span></span>
<span data-ttu-id="ef7a0-146">Azure AD tarafından yayınlanan güvenlik belirteçleri talep veya onaylar doğrulandı konu hakkındaki bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-146">Security tokens issued by Azure AD contain claims, or assertions of information about the subject that has been authenticated.</span></span> <span data-ttu-id="ef7a0-147">Bu talep için çeşitli görevleri uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-147">These claims can be used by the application for various tasks.</span></span> <span data-ttu-id="ef7a0-148">Örneğin, bunlar belirtecini Doğrula, ilgilinin dizin Kiracı tanımlamak, kullanıcı bilgilerini görüntülemek, ilgilinin yetkilendirme belirlemek ve benzeri için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-148">For example, they can be used to validate the token, identify the subject's directory tenant, display user information, determine the subject's authorization, and so on.</span></span> <span data-ttu-id="ef7a0-149">Tüm belirli güvenlik belirtecinde talep belirteci, kullanıcı ve uygulama yapılandırmasını doğrulamak için kullanılan kimlik bilgileri türünü türüne bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-149">The claims present in any given security token are dependent upon the type of token, the type of credential used to authenticate the user, and the application configuration.</span></span> <span data-ttu-id="ef7a0-150">Aşağıdaki tabloda her Azure AD tarafından gösterilen talep türünü kısa bir açıklaması sağlanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-150">A brief description of each type of claim emitted by Azure AD is provided in the table below.</span></span> <span data-ttu-id="ef7a0-151">Daha fazla bilgi için bkz [desteklenen belirteç ve talep türleri](active-directory-token-and-claims.md).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-151">For more information, refer to [Supported Token and Claim Types](active-directory-token-and-claims.md).</span></span>

| <span data-ttu-id="ef7a0-152">İste</span><span class="sxs-lookup"><span data-stu-id="ef7a0-152">Claim</span></span> | <span data-ttu-id="ef7a0-153">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ef7a0-153">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ef7a0-154">Uygulama Kimliği</span><span class="sxs-lookup"><span data-stu-id="ef7a0-154">Application ID</span></span> |<span data-ttu-id="ef7a0-155">Belirteci kullanarak uygulamayı tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-155">Identifies the application that is using the token.</span></span> |
| <span data-ttu-id="ef7a0-156">Hedef kitle</span><span class="sxs-lookup"><span data-stu-id="ef7a0-156">Audience</span></span> |<span data-ttu-id="ef7a0-157">Belirteç yöneliktir alıcı kaynak tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-157">Identifies the recipient resource the token is intended for.</span></span> |
| <span data-ttu-id="ef7a0-158">Uygulama kimlik doğrulama bağlamı sınıf başvurusu</span><span class="sxs-lookup"><span data-stu-id="ef7a0-158">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="ef7a0-159">Nasıl istemci kimliği doğrulanmış (ortak istemci gizli istemci karşılaştırması) gösterir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-159">Indicates how the client was authenticated (public client vs. confidential client).</span></span> |
| <span data-ttu-id="ef7a0-160">Anlık kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="ef7a0-160">Authentication Instant</span></span> |<span data-ttu-id="ef7a0-161">Kimlik doğrulaması gerçekleştiği saat ve tarihi kaydeder.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-161">Records the date and time when the authentication occurred.</span></span> |
| <span data-ttu-id="ef7a0-162">Kimlik Doğrulama Yöntemi</span><span class="sxs-lookup"><span data-stu-id="ef7a0-162">Authentication Method</span></span> |<span data-ttu-id="ef7a0-163">Belirteç konu nasıl doğrulandı gösterir (parola, sertifika, vb.).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-163">Indicates how the subject of the token was authenticated (password, certificate, etc.).</span></span> |
| <span data-ttu-id="ef7a0-164">Ad</span><span class="sxs-lookup"><span data-stu-id="ef7a0-164">First Name</span></span> |<span data-ttu-id="ef7a0-165">Kullanıcının verilen adı kümesi olarak Azure AD içinde sağlar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-165">Provides the given name of the user as set in Azure AD.</span></span> |
| <span data-ttu-id="ef7a0-166">Gruplar</span><span class="sxs-lookup"><span data-stu-id="ef7a0-166">Groups</span></span> |<span data-ttu-id="ef7a0-167">Kullanıcının üyesi olduğu nesne kimlikleri Azure AD grupları içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-167">Contains object Ids of Azure AD groups the user is a member of.</span></span> |
| <span data-ttu-id="ef7a0-168">Kimlik Sağlayıcısı</span><span class="sxs-lookup"><span data-stu-id="ef7a0-168">Identity Provider</span></span> |<span data-ttu-id="ef7a0-169">Belirtecin konusu kimlik doğrulaması kimlik sağlayıcısı kaydeder.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-169">Records the identity provider that authenticated the subject of the token.</span></span> |
| <span data-ttu-id="ef7a0-170">Çıkışı</span><span class="sxs-lookup"><span data-stu-id="ef7a0-170">Issued At</span></span> |<span data-ttu-id="ef7a0-171">Belirteç, belirteç yenilik için sık kullanılan düzenlendiği süreyi kaydeder.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-171">Records the time at which the token was issued, often used for token freshness.</span></span> |
| <span data-ttu-id="ef7a0-172">Veren</span><span class="sxs-lookup"><span data-stu-id="ef7a0-172">Issuer</span></span> |<span data-ttu-id="ef7a0-173">Azure AD kiracısı yanı sıra belirteç yayılan STS tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-173">Identifies the STS that emitted the token as well as the Azure AD tenant.</span></span> |
| <span data-ttu-id="ef7a0-174">Soyadı</span><span class="sxs-lookup"><span data-stu-id="ef7a0-174">Last Name</span></span> |<span data-ttu-id="ef7a0-175">Kullanıcının soyadı kümesi olarak Azure AD içinde sağlar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-175">Provides the surname of the user as set in Azure AD.</span></span> |
| <span data-ttu-id="ef7a0-176">Ad</span><span class="sxs-lookup"><span data-stu-id="ef7a0-176">Name</span></span> |<span data-ttu-id="ef7a0-177">Belirteç konu tanımlayan bir insan okunabilir değer sağlar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-177">Provides a human readable value that identifies the subject of the token.</span></span> |
| <span data-ttu-id="ef7a0-178">Nesne Kimliği</span><span class="sxs-lookup"><span data-stu-id="ef7a0-178">Object Id</span></span> |<span data-ttu-id="ef7a0-179">Konunun değişmez, benzersiz tanıtıcısı Azure AD'de içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-179">Contains an immutable, unique identifier of the subject in Azure AD.</span></span> |
| <span data-ttu-id="ef7a0-180">Roller</span><span class="sxs-lookup"><span data-stu-id="ef7a0-180">Roles</span></span> |<span data-ttu-id="ef7a0-181">Kullanıcı verildi Azure AD uygulama rolleri kolay adını içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-181">Contains friendly names of Azure AD Application Roles that the user has been granted.</span></span> |
| <span data-ttu-id="ef7a0-182">Kapsam</span><span class="sxs-lookup"><span data-stu-id="ef7a0-182">Scope</span></span> |<span data-ttu-id="ef7a0-183">İstemci uygulaması için verilen izinleri belirtir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-183">Indicates the permissions granted to the client application.</span></span> |
| <span data-ttu-id="ef7a0-184">Konu</span><span class="sxs-lookup"><span data-stu-id="ef7a0-184">Subject</span></span> |<span data-ttu-id="ef7a0-185">Hakkında bilgi belirteci onaylar asıl gösterir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-185">Indicates the principal about which the token asserts information.</span></span> |
| <span data-ttu-id="ef7a0-186">Kiracı kimliği</span><span class="sxs-lookup"><span data-stu-id="ef7a0-186">Tenant Id</span></span> |<span data-ttu-id="ef7a0-187">Değişmez, benzersiz bir tanımlayıcı belirtecin dizin Kiracı içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-187">Contains an immutable, unique identifier of the directory tenant that issued the token.</span></span> |
| <span data-ttu-id="ef7a0-188">Belirteç ömrü</span><span class="sxs-lookup"><span data-stu-id="ef7a0-188">Token Lifetime</span></span> |<span data-ttu-id="ef7a0-189">Bir belirtecin geçerli olduğu zaman aralığını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-189">Defines the time interval within which a token is valid.</span></span> |
| <span data-ttu-id="ef7a0-190">Kullanıcı asıl adı</span><span class="sxs-lookup"><span data-stu-id="ef7a0-190">User Principal Name</span></span> |<span data-ttu-id="ef7a0-191">Konu kullanıcı asıl adını içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-191">Contains the user principal name of the subject.</span></span> |
| <span data-ttu-id="ef7a0-192">Sürüm</span><span class="sxs-lookup"><span data-stu-id="ef7a0-192">Version</span></span> |<span data-ttu-id="ef7a0-193">Belirtecin sürüm numarasını içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-193">Contains the version number of the token.</span></span> |

## <a name="basics-of-registering-an-application-in-azure-ad"></a><span data-ttu-id="ef7a0-194">Azure AD'de uygulama kaydetme temelleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-194">Basics of Registering an Application in Azure AD</span></span>
<span data-ttu-id="ef7a0-195">Azure ad kimlik doğrulama outsources herhangi bir uygulama bir dizinde kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-195">Any application that outsources authentication to Azure AD must be registered in a directory.</span></span> <span data-ttu-id="ef7a0-196">Bu adım, Azure AD nerede, kimlik doğrulamasından sonra uygulamanızı tanımlamak için URI yanıtları göndermek için URL'yi URL'si de uygulamanız ile ilgili söyleyen içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-196">This step involves telling Azure AD about your application, including the URL where it’s located, the URL to send replies after authentication, the URI to identify your application, and more.</span></span> <span data-ttu-id="ef7a0-197">Bu bilgiler birkaç anahtar nedenlerle gereklidir:</span><span class="sxs-lookup"><span data-stu-id="ef7a0-197">This information is required for a few key reasons:</span></span>

* <span data-ttu-id="ef7a0-198">Azure AD oturum açma veya değiş tokuşu belirteçleri işlerken uygulamayla iletişim kurmak için koordinatları gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-198">Azure AD needs coordinates to communicate with the application when handling sign-on or exchanging tokens.</span></span> <span data-ttu-id="ef7a0-199">Bunlar aşağıdakileri içerir:</span><span class="sxs-lookup"><span data-stu-id="ef7a0-199">These include the following:</span></span>
  
  * <span data-ttu-id="ef7a0-200">Uygulama Kimliği URI: Bir uygulama için tanımlayıcı.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-200">Application ID URI: The identifier for an application.</span></span> <span data-ttu-id="ef7a0-201">Bu değer için bir belirteç çağıran hangi uygulamanın istediği belirtmek için kimlik doğrulaması sırasında Azure AD gönderilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-201">This value is sent to Azure AD during authentication to indicate which application the caller wants a token for.</span></span> <span data-ttu-id="ef7a0-202">Ayrıca, böylece uygulamanın hedef edildi bilir bu değer belirteç dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-202">Additionally, this value is included in the token so that the application knows it was the intended target.</span></span>
  * <span data-ttu-id="ef7a0-203">URL ve yeniden yönlendirme URI'sini Yanıtla: bir web API ya da web uygulaması söz konusu olduğunda, yanıt URL'si için Azure AD kimlik doğrulama başarılı olursa bir belirteç de dahil olmak üzere kimlik doğrulaması yanıtını gönderecek konumdur.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-203">Reply URL and Redirect URI: In the case of a web API or web application, the Reply URL is the location to which Azure AD will send the authentication response, including a token if authentication was successful.</span></span> <span data-ttu-id="ef7a0-204">Yerel bir uygulamaya söz konusu olduğunda yeniden yönlendirme URI'sini Azure AD Kullanıcı aracısını bir OAuth 2.0 isteğindeki yönlendirir bir benzersiz bir tanımlayıcıdır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-204">In the case of a native application, the Redirect URI is a unique identifier to which Azure AD will redirect the user-agent in an OAuth 2.0 request.</span></span>
  * <span data-ttu-id="ef7a0-205">Uygulama Kimliği: Uygulama kaydettirildiğini Azure AD tarafından oluşturulan bir uygulama kimliği.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-205">Application ID: The ID for an application, which is generated by Azure AD when the application is registered.</span></span> <span data-ttu-id="ef7a0-206">Bir yetkilendirme kodu veya belirteç isterken uygulama kimliği ve anahtarı kimlik doğrulaması sırasında Azure AD gönderilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-206">When requesting an authorization code or token, the Application ID and key are sent to Azure AD during authentication.</span></span>
  * <span data-ttu-id="ef7a0-207">Anahtar: uygulama kimliği ile birlikte doğrulanırken Azure AD ile bir web API'sini çağırmak için gönderilen anahtarı.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-207">Key: The key that is sent along with a Application ID when authenticating to Azure AD to call a web API.</span></span>
* <span data-ttu-id="ef7a0-208">Azure AD uygulama, dizin verilerini, kuruluşunuzdaki diğer uygulamaları erişmek ve benzeri için gerekli izinlere sahip olduğundan emin olun gerekiyor</span><span class="sxs-lookup"><span data-stu-id="ef7a0-208">Azure AD needs to ensure the application has the required permissions to access your directory data, other applications in your organization, and so on</span></span>

<span data-ttu-id="ef7a0-209">Geliştirilmiş ve Azure AD ile tümleşik uygulamalar iki kategorisi vardır anladığınızda sağlama daha anlaşılır olur:</span><span class="sxs-lookup"><span data-stu-id="ef7a0-209">Provisioning becomes clearer when you understand that there are two categories of applications that can be developed and integrated with Azure AD:</span></span>

* <span data-ttu-id="ef7a0-210">Tek kiracılı uygulama: tek bir kiracı uygulama kullanan bir kuruluştaki yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-210">Single tenant application: A single tenant application is intended for use in one organization.</span></span> <span data-ttu-id="ef7a0-211">Bir kurumsal geliştirici tarafından yazılan genellikle satır iş kolu (LoB) uygulamaları şunlardır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-211">These are typically line-of-business (LoB) applications written by an enterprise developer.</span></span> <span data-ttu-id="ef7a0-212">Tek kiracılı uygulama yalnızca bir dizinde kullanıcılar tarafından erişilmesi gerekir ve sonuç olarak, yalnızca bir dizinde sağlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-212">A single tenant application only needs to be accessed by users in one directory, and as a result, it only needs to be provisioned in one directory.</span></span> <span data-ttu-id="ef7a0-213">Bu uygulamalar genellikle kuruluştaki bir geliştirici tarafından kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-213">These applications are typically registered by a developer in the organization.</span></span>
* <span data-ttu-id="ef7a0-214">Çok kiracılı uygulama: çok kiracılı uygulama birçok kuruluşta kullanılmak üzere tasarlanmamıştır yalnızca bir kuruluş.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-214">Multi-tenant application: A multi-tenant application is intended for use in many organizations, not just one organization.</span></span> <span data-ttu-id="ef7a0-215">Bunlar genellikle yazılım olarak-hizmet (SaaS) uygulamaları bir bağımsız yazılım satıcısı (ISV) tarafından yazılmış olan.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-215">These are typically software-as-a-service (SaaS) applications written by an independent software vendor (ISV).</span></span> <span data-ttu-id="ef7a0-216">Çok kiracılı uygulamalara, bunları kaydetmek için kullanıcı veya yönetici izni gerektiren burada bunlar kullanılacak, her dizin için hazırlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-216">Multi-tenant applications need to be provisioned in each directory where they will be used, which requires user or administrator consent to register them.</span></span> <span data-ttu-id="ef7a0-217">Bir uygulama dizinde kayıtlı ve erişim verilen grafik API'sini veya belki başka bir web API için bu onay işlemi başlar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-217">This consent process starts when an application has been registered in the directory and is given access to the Graph API or perhaps another web API.</span></span> <span data-ttu-id="ef7a0-218">Bir kullanıcı veya farklı bir kuruluşta yöneticisinden uygulamayı kullanmak kaydolduğunda, bunlar uygulama gerektiriyor izinleri görüntüleyen bir iletişim kutusu sunulur.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-218">When a user or administrator from a different organization signs up to use the application, they are presented with a dialog that displays the permissions the application requires.</span></span> <span data-ttu-id="ef7a0-219">Kullanıcı veya yönetici uygulama erişimi için belirtilen veri sağlar ve son olarak uygulamaları kendi dizininde kaydeder uygulamaya ardından onay.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-219">The user or administrator can then consent to the application, which gives the application access to the stated data, and finally registers the application in their directory.</span></span> <span data-ttu-id="ef7a0-220">Daha fazla bilgi için bkz: [onayı Framework'e Genel Bakış](active-directory-integrating-applications.md#overview-of-the-consent-framework).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-220">For more information, see [Overview of the Consent Framework](active-directory-integrating-applications.md#overview-of-the-consent-framework).</span></span>

<span data-ttu-id="ef7a0-221">Bazı hususlar, çok kiracılı uygulama yerine tek bir kiracı Uygulama geliştirirken kaynaklanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-221">Some additional considerations arise when developing a multi-tenant application instead of a single tenant application.</span></span> <span data-ttu-id="ef7a0-222">Uygulamanızın kullanılabilir birden fazla dizine kullanıcılara yapıyorsanız, örneğin, hangi Kiracı belirlemek için bir mekanizma gereken kullanıcılar oturum açtınız.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-222">For example, if you are making your application available to users in multiple directories, you need a mechanism to determine which tenant they’re in.</span></span> <span data-ttu-id="ef7a0-223">Azure AD içinde tüm dizinlerinden belirli bir kullanıcıyı tanımlamak çok kiracılı uygulama gereken sırada bir kullanıcının kendi dizinde aramak bir tek kiracılı uygulama yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-223">A single tenant application only needs to look in its own directory for a user, while a multi-tenant application needs to identify a specific user from all the directories in Azure AD.</span></span> <span data-ttu-id="ef7a0-224">Bu görevi gerçekleştirmek için Azure AD herhangi bir çok kiracılı uygulama oturum açma istekleri, bir kiracı özel uç noktası yerine burada yönlendirebilirsiniz ortak bir kimlik doğrulama uç noktası sağlar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-224">To accomplish this task, Azure AD provides a common authentication endpoint where any multi-tenant application can direct sign-in requests, instead of a tenant-specific endpoint.</span></span> <span data-ttu-id="ef7a0-225">Bir kiracı özel uç noktası https://login.microsoftonline.com/contoso.onmicrosoft.com olabilir ancak bu bitiş https://login.microsoftonline.com/common tüm dizinler için Azure AD'de noktasıdır. Ortak bir uç oturum açma, oturum kapatma ve belirteç doğrulama sırasında birden çok kiracıya işlemek için gerekli mantığı gerekir çünkü Uygulamanızı geliştirirken dikkat edilmesi özellikle önemlidir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-225">This endpoint is https://login.microsoftonline.com/common for all directories in Azure AD, whereas a tenant-specific endpoint might be https://login.microsoftonline.com/contoso.onmicrosoft.com. The common endpoint is especially important to consider when developing your application because you’ll need the necessary logic to handle multiple tenants during sign-in, sign-out, and token validation.</span></span>

<span data-ttu-id="ef7a0-226">Şu anda bir tek kiracılı uygulama geliştirme, ancak çoğu kuruluş için kullanılabilir hale getirmek istediğiniz kolayca çok kiracılı yapmak için uygulama ve Azure AD yapılandırmasıyla özellikli değişiklik yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-226">If you are currently developing a single tenant application but want to make it available to many organizations, you can easily make changes to the application and its configuration in Azure AD to make it multi-tenant capable.</span></span> <span data-ttu-id="ef7a0-227">Ayrıca, kimlik doğrulaması bir çoklu kiracı ya da çok kiracılı uygulama sağlama olup Azure AD, tüm dizinlerde tüm belirteçleri aynı imzalama anahtarı kullanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-227">In addition, Azure AD uses the same signing key for all tokens in all directories, whether you are providing authentication in a single tenant or multi-tenant application.</span></span>

<span data-ttu-id="ef7a0-228">Bu belgede listelenen her bir senaryo, sağlama gereksinimleri açıklanır alt bir bölüm içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-228">Each scenario listed in this document includes a sub-section that describes its provisioning requirements.</span></span> <span data-ttu-id="ef7a0-229">Sağlama Azure AD'de bir uygulama ve tek ve çoklu kiracı uygulamaları arasındaki farklar hakkında daha ayrıntılı bilgi için bkz: [Azure Active Directory Tümleştirme uygulamalarla](active-directory-integrating-applications.md) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-229">For more in-depth information about provisioning an application in Azure AD and the differences between single and multi-tenant applications, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md) for more information.</span></span> <span data-ttu-id="ef7a0-230">Azure AD'de uygulama senaryoları anlamak için okumaya devam edin.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-230">Continue reading to understand the common application scenarios in Azure AD.</span></span>

## <a name="application-types-and-scenarios"></a><span data-ttu-id="ef7a0-231">Uygulama türleri ve senaryolar</span><span class="sxs-lookup"><span data-stu-id="ef7a0-231">Application Types and Scenarios</span></span>
<span data-ttu-id="ef7a0-232">Bu belgede açıklanan senaryoların her biri, çeşitli diller ve platformlar kullanılarak geliştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-232">Each of the scenarios described in this document can be developed using various languages and platforms.</span></span> <span data-ttu-id="ef7a0-233">Bunlar tüm kullanılabilir tam kod örnekleri tarafından yedeklenen bizim [kod örnekleri Kılavuzu](active-directory-code-samples.md), veya doğrudan ilgili [GitHub örnek depoları](https://github.com/Azure-Samples?utf8=%E2%9C%93&query=active-directory).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-233">They are all backed by complete code samples which are available in our [Code Samples guide](active-directory-code-samples.md), or directly from the corresponding [GitHub sample repositories](https://github.com/Azure-Samples?utf8=%E2%9C%93&query=active-directory).</span></span> <span data-ttu-id="ef7a0-234">Uygulamanızı özgül ya da bir uçtan uca senaryoyu parçası gerekirse, ayrıca, çoğu durumda bu işlev bağımsız olarak eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-234">In addition, if your application needs a specific piece or segment of an end-to-end scenario, in most cases that functionality can be added independently.</span></span> <span data-ttu-id="ef7a0-235">Örneğin, bir web API'si çağıran yerel bir uygulamanız varsa, ayrıca web API'si çağıran bir web uygulaması kolayca ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-235">For example, if you have a native application that calls a web API, you can easily add a web application that also calls the web API.</span></span> <span data-ttu-id="ef7a0-236">Aşağıdaki diyagram bu senaryoları ve uygulama türleri gösterir ve farklı bileşenler eklenebilir nasıl:</span><span class="sxs-lookup"><span data-stu-id="ef7a0-236">The following diagram illustrates these scenarios and application types, and how different components can be added:</span></span>

![Uygulama türleri ve senaryolar](./media/active-directory-authentication-scenarios/application_types_and_scenarios.png)

<span data-ttu-id="ef7a0-238">Azure AD tarafından desteklenen beş birincil uygulama senaryoları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="ef7a0-238">These are the five primary application scenarios supported by Azure AD:</span></span>

* <span data-ttu-id="ef7a0-239">[Web tarayıcısı Web uygulamasına](#web-browser-to-web-application): bir kullanıcı Azure AD tarafından güvenliği sağlanan bir web uygulaması oturum açması gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-239">[Web Browser to Web Application](#web-browser-to-web-application): A user needs to sign in to a web application that is secured by Azure AD.</span></span>
* <span data-ttu-id="ef7a0-240">[Tek sayfa uygulama (SPA)](#single-page-application-spa): bir kullanıcı Azure AD tarafından güvenliği sağlanan bir tek sayfa uygulaması oturum açması gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-240">[Single Page Application (SPA)](#single-page-application-spa): A user needs to sign in to a single page application that is secured by Azure AD.</span></span>
* <span data-ttu-id="ef7a0-241">[Web API yerel uygulamaya](#native-application-to-web-api): Web'den Azure AD tarafından güvenli API kaynakları almak için bir kullanıcının kimliğini doğrulamak telefon, tablet veya PC çalıştıran yerel bir uygulama gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-241">[Native Application to Web API](#native-application-to-web-api): A native application that runs on a phone, tablet, or PC needs to authenticate a user to get resources from a web API that is secured by Azure AD.</span></span>
* <span data-ttu-id="ef7a0-242">[Web uygulaması Web API](#web-application-to-web-api): bir web uygulaması kaynakları web API'si Azure AD tarafından güvenlik altına almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-242">[Web Application to Web API](#web-application-to-web-api): A web application needs to get resources from a web API secured by Azure AD.</span></span>
* <span data-ttu-id="ef7a0-243">[Arka plan programı veya Web API için sunucu uygulaması](#daemon-or-server-application-to-web-api): arka plan programı uygulama veya bir sunucu uygulaması web kullanıcı arabirimi ile kaynakları web API'si Azure AD tarafından güvenlik altına almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-243">[Daemon or Server Application to Web API](#daemon-or-server-application-to-web-api): A daemon application or a server application with no web user interface needs to get resources from a web API secured by Azure AD.</span></span>

### <a name="web-browser-to-web-application"></a><span data-ttu-id="ef7a0-244">Web uygulaması için Web tarayıcısı</span><span class="sxs-lookup"><span data-stu-id="ef7a0-244">Web Browser to Web Application</span></span>
<span data-ttu-id="ef7a0-245">Bu bölümde bir web uygulaması için bir web tarayıcısında bir kullanıcının kimliğini doğrulayan bir uygulama açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-245">This section describes an application that authenticates a user in a web browser to a web application.</span></span> <span data-ttu-id="ef7a0-246">Bu senaryoda, web uygulaması için Azure AD oturum açmak için kullanıcının tarayıcısına yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-246">In this scenario, the web application directs the user’s browser to sign them in to Azure AD.</span></span> <span data-ttu-id="ef7a0-247">Azure AD bir güvenlik belirteci kullanıcı hakkında talepleri içeren kullanıcının tarayıcısından oturum açma yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-247">Azure AD returns a sign-in response through the user’s browser, which contains claims about the user in a security token.</span></span> <span data-ttu-id="ef7a0-248">WS-Federation, SAML 2.0 ve Openıd Connect protokolleri kullanarak oturum bu senaryoyu destekler.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-248">This scenario supports sign-on using the WS-Federation, SAML 2.0, and OpenID Connect protocols.</span></span>

#### <a name="diagram"></a><span data-ttu-id="ef7a0-249">Diyagram</span><span class="sxs-lookup"><span data-stu-id="ef7a0-249">Diagram</span></span>
![Tarayıcıdan web uygulamasına yönelik kimlik doğrulama akışı](./media/active-directory-authentication-scenarios/web_browser_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="ef7a0-251">Protokol akışı açıklaması</span><span class="sxs-lookup"><span data-stu-id="ef7a0-251">Description of Protocol Flow</span></span>
1. <span data-ttu-id="ef7a0-252">Bir kullanıcı oturum açmak için gereksinimleri ve uygulama ziyaret ettiğinde, bunlar bir oturum açma isteği kimlik doğrulama uç noktası aracılığıyla Azure AD içinde yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-252">When a user visits the application and needs to sign in, they are redirected via a sign-in request to the authentication endpoint in Azure AD.</span></span>
2. <span data-ttu-id="ef7a0-253">Oturum açma sayfasında oturum açtığında.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-253">The user signs in on the sign-in page.</span></span>
3. <span data-ttu-id="ef7a0-254">Kimlik doğrulaması başarılı olursa, Azure AD kimlik doğrulama belirteci oluşturur ve Azure Portalı'nda yapılandırılan uygulamanın yanıt URL'si bir oturum açma yanıtı döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-254">If authentication is successful, Azure AD creates an authentication token and returns a sign-in response to the application’s Reply URL that was configured in the Azure Portal.</span></span> <span data-ttu-id="ef7a0-255">Bir üretim uygulaması için HTTPS bu yanıt URL'si olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-255">For a production application, this Reply URL should be HTTPS.</span></span> <span data-ttu-id="ef7a0-256">Döndürülen belirteci belirteci doğrulamak için uygulama tarafından gerekli olan Azure AD ve kullanıcı hakkında talepleri içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-256">The returned token includes claims about the user and Azure AD that are required by the application to validate the token.</span></span>
4. <span data-ttu-id="ef7a0-257">Uygulama, bir ortak imzalama anahtarı ve sertifikayı verenin bilgileri kullanılabilir Federasyon meta veri belgesi için Azure AD kullanarak belirteci doğrular.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-257">The application validates the token by using a public signing key and issuer information available at the federation metadata document for Azure AD.</span></span> <span data-ttu-id="ef7a0-258">Uygulama belirteci doğrular sonra Azure AD kullanıcı ile yeni bir oturum başlatır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-258">After the application validates the token, Azure AD starts a new session with the user.</span></span> <span data-ttu-id="ef7a0-259">Bu oturumda, sona erene kadar uygulamaya erişim olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-259">This session allows the user to access the application until it expires.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="ef7a0-260">Kod Örnekleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-260">Code Samples</span></span>
<span data-ttu-id="ef7a0-261">Kod örnekleri için Web tarayıcısı Web uygulaması senaryoları için bkz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-261">See the code samples for Web Browser to Web Application scenarios.</span></span> <span data-ttu-id="ef7a0-262">Ve daha sonra yeniden sık--her zaman yeni örnekler eklediğimiz denetleyin.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-262">And, check back frequently -- we add new samples all the time.</span></span> <span data-ttu-id="ef7a0-263">[Web tarayıcısı Web uygulamasına](active-directory-code-samples.md#web-browser-to-web-application).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-263">[Web Browser to Web Application](active-directory-code-samples.md#web-browser-to-web-application).</span></span>

#### <a name="registering"></a><span data-ttu-id="ef7a0-264">Kaydetme</span><span class="sxs-lookup"><span data-stu-id="ef7a0-264">Registering</span></span>
* <span data-ttu-id="ef7a0-265">Tek bir kiracı: yalnızca kuruluşunuz için bir uygulama geliştiriyorsanız, şirketinizin dizininde Azure Portalı'nı kullanarak kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-265">Single Tenant: If you are building an application just for your organization, it must be registered in your company’s directory by using the Azure Portal.</span></span>
* <span data-ttu-id="ef7a0-266">Çok Kiracılı: kuruluşunuzun dışındaki kullanıcılar tarafından kullanılan bir uygulama geliştiriyorsanız, şirketinizin dizinde kayıtlı olması gerekir, ancak da uygulamayı kullanarak her kuruluşun dizinde kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-266">Multi-Tenant: If you are building an application that can be used by users outside your organization, it must be registered in your company’s directory, but also must be registered in each organization’s directory that will be using the application.</span></span> <span data-ttu-id="ef7a0-267">Uygulamanızı directory'lerinde kullanılabilmesi için bunları uygulamanıza kabul etkinleştiren müşteriler için kaydolma işlemini içerebilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-267">To make your application available in their directory, you can include a sign-up process for your customers that enables them to consent to your application.</span></span> <span data-ttu-id="ef7a0-268">Bunlar, uygulamanız için kaydolduğunuzda, uygulama gerektiriyor izinleri gösteren bir iletişim kutusu, ardından onay seçeneği ile sunulur.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-268">When they sign up for your application, they will be presented with a dialog that shows the permissions the application requires, and then the option to consent.</span></span> <span data-ttu-id="ef7a0-269">Gerekli izinleri bağlı olarak diğer kuruluştaki yönetici izni vermek için gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-269">Depending on the required permissions, an administrator in the other organization may be required to give consent.</span></span> <span data-ttu-id="ef7a0-270">Kullanıcı veya yönetici izin, uygulamanın kendi Directory'ye kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-270">When the user or administrator consents, the application is registered in their directory.</span></span> <span data-ttu-id="ef7a0-271">Daha fazla bilgi için bkz: [Azure Active Directory Tümleştirme uygulamalarla](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-271">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="ef7a0-272">Belirteç süre sonu</span><span class="sxs-lookup"><span data-stu-id="ef7a0-272">Token Expiration</span></span>
<span data-ttu-id="ef7a0-273">Azure AD tarafından verilen belirtecin süresi sona erdiğinde kullanıcının oturum sona erer.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-273">The user’s session expires when the lifetime of the token issued by Azure AD expires.</span></span> <span data-ttu-id="ef7a0-274">Uygulamanızı bir süre işlem yapılmadığında üzerinde temel alarak kullanıcılara imzalama gibi isterseniz, bu süre içinde kısaltabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-274">Your application can shorten this time period if desired, such as signing out users based on a period of inactivity.</span></span> <span data-ttu-id="ef7a0-275">Oturum süresi sona erdiğinde, kullanıcının yeniden oturum açmanız istenir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-275">When the session expires, the user will be prompted to sign in again.</span></span>

### <a name="single-page-application-spa"></a><span data-ttu-id="ef7a0-276">Tek sayfalı uygulama (SPA)</span><span class="sxs-lookup"><span data-stu-id="ef7a0-276">Single Page Application (SPA)</span></span>
<span data-ttu-id="ef7a0-277">Bu bölümde kimlik doğrulaması için tek bir sayfa, Azure AD kullanır ve OAuth 2.0 örtük yetkilendirme, web API geri bitiş güvenli vermek uygulama, açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-277">This section describes authentication for a Single Page Application, that uses Azure AD and the OAuth 2.0 implicit authorization grant to secure its web API back end.</span></span> <span data-ttu-id="ef7a0-278">Tek sayfa uygulamaları, genellikle tarayıcı ve sunucu üzerinde çalışır ve uygulamanın iş mantığını uygular Web API'si arka uç çalıştıran bir JavaScript sunu katmanı (ön uç) olarak yapılandırılmıştır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-278">Single Page Applications are typically structured as a JavaScript presentation layer (front end) that runs in the browser and a Web API back end that runs on a server and implements the application’s business logic.</span></span> <span data-ttu-id="ef7a0-279">Örtük yetkilendirme verme hakkında daha fazla bilgi ve Uygulama senaryonuz için uygun olup olmadığına karar vermenize yardımcı olması için bkz: [örtük OAuth2 anlama izin akışı Azure Active Directory'de](active-directory-dev-understanding-oauth2-implicit-grant.md).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-279">To learn more about the implicit authorization grant, and help you decide whether it's right for your application scenario, see [Understanding the OAuth2 implicit grant flow in Azure Active Directory](active-directory-dev-understanding-oauth2-implicit-grant.md).</span></span>

<span data-ttu-id="ef7a0-280">Bu senaryoda, kullanıcı, oturum açtığında JavaScript ön uç kullanır [Active Directory Authentication Library (ADAL JavaScript için. JS)](https://github.com/AzureAD/azure-activedirectory-library-for-js/tree/dev) ve Azure AD'den bir kimliği belirteci (id_token) almak için örtük yetkilendirme verme.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-280">In this scenario, when the user signs in, the JavaScript front end uses [Active Directory Authentication Library for JavaScript (ADAL.JS)](https://github.com/AzureAD/azure-activedirectory-library-for-js/tree/dev) and the implicit authorization grant to obtain an ID token (id_token) from Azure AD.</span></span> <span data-ttu-id="ef7a0-281">Belirteç önbelleğe alınır ve istemci bu isteği taşıyıcı belirteci olarak kendi Web API çağrıları güvenliğinin OWIN ara yazılımı ile son yedekleme yaparken ekler.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-281">The token is cached and the client attaches it to the request as the bearer token when making calls to its Web API back end, which is secured using the OWIN middleware.</span></span> 

#### <a name="diagram"></a><span data-ttu-id="ef7a0-282">Diyagram</span><span class="sxs-lookup"><span data-stu-id="ef7a0-282">Diagram</span></span>
![Tek sayfa uygulama diyagramı](./media/active-directory-authentication-scenarios/single_page_app.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="ef7a0-284">Protokol akışı açıklaması</span><span class="sxs-lookup"><span data-stu-id="ef7a0-284">Description of Protocol Flow</span></span>
1. <span data-ttu-id="ef7a0-285">Kullanıcı web uygulaması gider.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-285">The user navigates to the web application.</span></span>
2. <span data-ttu-id="ef7a0-286">Uygulama tarayıcıya JavaScript ön uç (sunu katmanı) döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-286">The application returns the JavaScript front end (presentation layer) to the browser.</span></span>
3. <span data-ttu-id="ef7a0-287">Kullanıcı oturum açma bağlantısına tıklayarak oturum açma, örneğin başlatır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-287">The user initiates sign in, for example by clicking a sign in link.</span></span> <span data-ttu-id="ef7a0-288">Tarayıcı bir GET kimliği belirteç istemek için Azure AD yetkilendirme uç noktasına gönderir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-288">The browser sends a GET to the Azure AD authorization endpoint to request an ID token.</span></span> <span data-ttu-id="ef7a0-289">Bu istek uygulama kimliği ve yanıt URL'si sorgu parametreleri içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-289">This request includes the application ID and reply URL in the query parameters.</span></span>
4. <span data-ttu-id="ef7a0-290">Azure AD yanıt URL'si Azure Portalı'nda yapılandırılan kayıtlı yanıt URL'si karşı doğrular.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-290">Azure AD validates the Reply URL against the registered Reply URL that was configured in the Azure Portal.</span></span>
5. <span data-ttu-id="ef7a0-291">Oturum açma sayfasında oturum açtığında.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-291">The user signs in on the sign-in page.</span></span>
6. <span data-ttu-id="ef7a0-292">Kimlik doğrulaması başarılı olursa, Azure AD kimliği belirteci oluşturur ve uygulama yanıt URL'si (#) URL parçası döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-292">If authentication is successful, Azure AD creates an ID token and returns it as a URL fragment (#) to the application’s Reply URL.</span></span> <span data-ttu-id="ef7a0-293">Bir üretim uygulaması için HTTPS bu yanıt URL'si olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-293">For a production application, this Reply URL should be HTTPS.</span></span> <span data-ttu-id="ef7a0-294">Döndürülen belirteci belirteci doğrulamak için uygulama tarafından gerekli olan Azure AD ve kullanıcı hakkında talepleri içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-294">The returned token includes claims about the user and Azure AD that are required by the application to validate the token.</span></span>
7. <span data-ttu-id="ef7a0-295">Tarayıcıda çalışan JavaScript istemci kodu belirteç uygulamanın web API geri bitiş çağrıları güvenliğinde kullanılacak yanıt gelen ayıklar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-295">The JavaScript client code running in the browser extracts the token from the response to use in securing calls to the application’s web API back end.</span></span>
8. <span data-ttu-id="ef7a0-296">Tarayıcı uygulamanın web API geri yetkilendirme üst bilgi erişim belirteciyle bitiş çağırır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-296">The browser calls the application’s web API back end with the access token in the authorization header.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="ef7a0-297">Kod Örnekleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-297">Code Samples</span></span>
<span data-ttu-id="ef7a0-298">Kod örnekleri tek sayfa uygulama (SPA) senaryoları için bkz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-298">See the code samples for Single Page Application (SPA) scenarios.</span></span> <span data-ttu-id="ef7a0-299">Geri sık--her zaman yeni örnekler eklediğimiz kontrol ettiğinizden emin olun.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-299">Be sure to check back frequently -- we add new samples all the time.</span></span> <span data-ttu-id="ef7a0-300">[Tek sayfa uygulama (SPA)](active-directory-code-samples.md#single-page-application-spa).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-300">[Single Page Application (SPA)](active-directory-code-samples.md#single-page-application-spa).</span></span>

#### <a name="registering"></a><span data-ttu-id="ef7a0-301">Kaydetme</span><span class="sxs-lookup"><span data-stu-id="ef7a0-301">Registering</span></span>
* <span data-ttu-id="ef7a0-302">Tek bir kiracı: yalnızca kuruluşunuz için bir uygulama geliştiriyorsanız, şirketinizin dizininde Azure Portalı'nı kullanarak kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-302">Single Tenant: If you are building an application just for your organization, it must be registered in your company’s directory by using the Azure Portal.</span></span>
* <span data-ttu-id="ef7a0-303">Çok Kiracılı: kuruluşunuzun dışındaki kullanıcılar tarafından kullanılan bir uygulama geliştiriyorsanız, şirketinizin dizinde kayıtlı olması gerekir, ancak da uygulamayı kullanarak her kuruluşun dizinde kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-303">Multi-Tenant: If you are building an application that can be used by users outside your organization, it must be registered in your company’s directory, but also must be registered in each organization’s directory that will be using the application.</span></span> <span data-ttu-id="ef7a0-304">Uygulamanızı directory'lerinde kullanılabilmesi için bunları uygulamanıza kabul etkinleştiren müşteriler için kaydolma işlemini içerebilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-304">To make your application available in their directory, you can include a sign-up process for your customers that enables them to consent to your application.</span></span> <span data-ttu-id="ef7a0-305">Bunlar, uygulamanız için kaydolduğunuzda, uygulama gerektiriyor izinleri gösteren bir iletişim kutusu, ardından onay seçeneği ile sunulur.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-305">When they sign up for your application, they will be presented with a dialog that shows the permissions the application requires, and then the option to consent.</span></span> <span data-ttu-id="ef7a0-306">Gerekli izinleri bağlı olarak diğer kuruluştaki yönetici izni vermek için gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-306">Depending on the required permissions, an administrator in the other organization may be required to give consent.</span></span> <span data-ttu-id="ef7a0-307">Kullanıcı veya yönetici izin, uygulamanın kendi Directory'ye kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-307">When the user or administrator consents, the application is registered in their directory.</span></span> <span data-ttu-id="ef7a0-308">Daha fazla bilgi için bkz: [Azure Active Directory Tümleştirme uygulamalarla](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-308">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

<span data-ttu-id="ef7a0-309">Uygulama kaydolduktan sonra onu OAuth 2.0 örtük verme protokolünü kullanmak üzere yapılandırılmış olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-309">After registering the application, it must be configured to use OAuth 2.0 Implicit Grant protocol.</span></span> <span data-ttu-id="ef7a0-310">Varsayılan olarak, bu protokolü uygulamalar için devre dışıdır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-310">By default, this protocol is disabled for applications.</span></span> <span data-ttu-id="ef7a0-311">Uygulamanız için OAuth2 örtük Grant Protokolü etkinleştirmek için Azure Portalı'ndan kendi uygulama bildirimi düzenleyin ve "oauth2AllowImplicitFlow" değeri true olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-311">To enable the OAuth2 Implicit Grant protocol for your application, edit its application manifest from the Azure Portal and set the “oauth2AllowImplicitFlow” value to true.</span></span> <span data-ttu-id="ef7a0-312">Ayrıntılı yönergeler için bkz: [etkinleştirme OAuth 2.0 örtük verme tek sayfa uygulamaları için](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-312">For detailed instructions, see [Enabling OAuth 2.0 Implicit Grant for Single Page Applications](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="ef7a0-313">Belirteç süre sonu</span><span class="sxs-lookup"><span data-stu-id="ef7a0-313">Token Expiration</span></span>
<span data-ttu-id="ef7a0-314">Azure AD ile kimlik doğrulamasını yönetmek için ADAL.js kullandığınızda, süresi dolmuş bir belirtecini yenilemeyi yanı sıra uygulama tarafından çağrılabilir ek web API kaynaklar için belirteçleri alma kolaylaştıran birkaç özelliklerinden yararlanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-314">When you use ADAL.js to manage authentication with Azure AD, you benefit from several features that facilitate refreshing an expired token as well as getting tokens for additional web API resources that may be called by the application.</span></span> <span data-ttu-id="ef7a0-315">Kullanıcı Azure AD ile başarıyla doğruladığında, tarayıcı ve Azure AD arasında kullanıcı için bir tanımlama bilgisi tarafından güvenli bir oturum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-315">When the user successfully authenticates with Azure AD, a session secured by a cookie is established for the user between the browser and Azure AD.</span></span> <span data-ttu-id="ef7a0-316">Oturum kullanıcı ve Azure AD arasında ve kullanıcı ve sunucu üzerinde çalışan web uygulaması arasında değil var olduğunu dikkate almak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-316">It’s important to note that the session exists between the user and Azure AD and not between the user and the web application running on the server.</span></span> <span data-ttu-id="ef7a0-317">Bir belirtecinin süresi dolduğunda, ADAL.js bu oturumu sessizce başka bir belirteç elde etmek için kullanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-317">When a token expires, ADAL.js uses this session to silently obtain another token.</span></span> <span data-ttu-id="ef7a0-318">Bunu OAuth örtük verme protokolünü kullanarak isteği alıp göndermek için gizli bir iFrame kullanarak yapar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-318">It does this by using a hidden iFrame to send and receive the request using the OAuth Implicit Grant protocol.</span></span> <span data-ttu-id="ef7a0-319">ADAL.js, bu aynı mekanizması sessiz bir şekilde erişim belirteçleri diğer web için Azure AD destek çıkış noktaları arası kaynak paylaşımı (CORS), bu kaynakları sürece uygulama çağrıları kullanıcının dizinde kaydedilir ve oturum açma sırasında kullanıcı tarafından gerekli tüm izin verildi API kaynakları almak üzere de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-319">ADAL.js can also use this same mechanism to silently obtain access tokens from Azure AD for other web API resources that the application calls as long as these resources support cross-origin resource sharing (CORS), are registered in the user’s directory, and any required consent was given by the user during sign-in.</span></span>

### <a name="native-application-to-web-api"></a><span data-ttu-id="ef7a0-320">Web API yerel uygulama</span><span class="sxs-lookup"><span data-stu-id="ef7a0-320">Native Application to Web API</span></span>
<span data-ttu-id="ef7a0-321">Bu bölümde, bir kullanıcı adına bir web API'si çağıran bir yerel uygulamayı açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-321">This section describes a native application that calls a web API on behalf of a user.</span></span> <span data-ttu-id="ef7a0-322">Bu senaryo bir ortak istemci OAuth 2.0 yetkilendirme kodu verme türüyle, 4.1 bölümünde açıklandığı gibi üzerine inşa edilmiştir [OAuth 2.0 belirtimi](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-322">This scenario is built on the OAuth 2.0 authorization code grant type with a public client, as described in section 4.1 of the [OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="ef7a0-323">Yerel uygulama OAuth 2.0 protokolünü kullanarak bir kullanıcı için erişim belirtecini alır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-323">The native application obtains an access token for the user by using the OAuth 2.0 protocol.</span></span> <span data-ttu-id="ef7a0-324">Bu erişim belirteci sonra kullanıcı yetkisi verir ve istenen kaynak döndüren API web isteği gönderilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-324">This access token is then sent in the request to the web API, which authorizes the user and returns the desired resource.</span></span>

#### <a name="diagram"></a><span data-ttu-id="ef7a0-325">Diyagram</span><span class="sxs-lookup"><span data-stu-id="ef7a0-325">Diagram</span></span>
![Web API diyagramı yerel uygulama](./media/active-directory-authentication-scenarios/native_app_to_web_api.png)

#### <a name="authentication-flow-for-native-application-to-api"></a><span data-ttu-id="ef7a0-327">Yerel uygulamadan API'ye yönelik kimlik doğrulama akışı</span><span class="sxs-lookup"><span data-stu-id="ef7a0-327">Authentication flow for native application to API</span></span>
#### <a name="description-of-protocol-flow"></a><span data-ttu-id="ef7a0-328">Protokol akışı açıklaması</span><span class="sxs-lookup"><span data-stu-id="ef7a0-328">Description of Protocol Flow</span></span>
<span data-ttu-id="ef7a0-329">AD kimlik doğrulama kitaplıkları kullanıyorsanız, aşağıda açıklanan protokol ayrıntılarını çoğunu sizin için tarayıcı açılır pencere, belirteç önbelleğe alma ve yenileme belirteçleri işlenmesi gibi işlenir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-329">If you are using the AD Authentication Libraries, most of the protocol details described below are handled for you, such as the browser pop-up, token caching, and handling of refresh tokens.</span></span>

1. <span data-ttu-id="ef7a0-330">Yerel uygulama yetkilendirme uç noktası için Azure AD içinde istekte açılan bir tarayıcı kullanarak.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-330">Using a browser pop-up, the native application makes a request to the authorization endpoint in Azure AD.</span></span> <span data-ttu-id="ef7a0-331">Bu istek, Azure Portalı'nı ve web API için uygulama kimliği URI'sini gösterildiği gibi uygulama kimliği ve yeniden yönlendirme URI'si yerel uygulamasının içerir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-331">This request includes the Application ID and the redirect URI of the native application as shown in the Azure Portal, and the application ID URI for the web API.</span></span> <span data-ttu-id="ef7a0-332">Kullanıcı zaten oturum kurmadı varsa, bunlar yeniden oturum açmanız istenir</span><span class="sxs-lookup"><span data-stu-id="ef7a0-332">If the user hasn’t already signed in, they are prompted to sign in again</span></span>
2. <span data-ttu-id="ef7a0-333">Azure AD kullanıcının kimliğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-333">Azure AD authenticates the user.</span></span> <span data-ttu-id="ef7a0-334">Çok kiracılı uygulama ise ve onay uygulamayı kullanmak için gerekli olan, kullanıcı Bunlar zaten yapmadıysanız onayını istemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-334">If it is a multi-tenant application and consent is required to use the application, the user will be required to consent if they haven’t already done so.</span></span> <span data-ttu-id="ef7a0-335">Azure AD, izin verme sonra ve temel kimlik doğrulaması başarılı bir kimlik doğrulama kodu yanıtı istemci uygulamanın yeniden yönlendirme URI'si dön verir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-335">After granting consent and upon successful authentication, Azure AD issues an authorization code response back to the client application’s redirect URI.</span></span>
3. <span data-ttu-id="ef7a0-336">Azure AD bir yetkilendirme kodu geri yanıt yeniden yönlendirme URI'si gönderdiğinde, istemci uygulaması tarayıcı etkileşimi durdurur ve yetkilendirme kodu yanıttan ayıklar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-336">When Azure AD issues an authorization code response back to the redirect URI, the client application stops browser interaction and extracts the authorization code from the response.</span></span> <span data-ttu-id="ef7a0-337">Bu yetkilendirme kodu kullanarak, istemci uygulamasının yetkilendirme kodu, istemci uygulaması (uygulama kimliği ve yeniden yönlendirme URI'si) ve istenen kaynak (uygulama kimliği URI'si web API'si için) hakkında ayrıntılar içeren Azure AD belirteç uç noktası için bir istek gönderir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-337">Using this authorization code, the client application sends a request to Azure AD’s token endpoint that includes the authorization code, details about the client application (Application ID and redirect URI), and the desired resource (application ID URI for the web API).</span></span>
4. <span data-ttu-id="ef7a0-338">İstemci uygulaması ve web API'si hakkında bilgi ve yetkilendirme kodu Azure AD tarafından doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-338">The authorization code and information about the client application and web API are validated by Azure AD.</span></span> <span data-ttu-id="ef7a0-339">Başarılı bir doğrulama sırasında Azure AD iki belirteci döndürür: JWT erişim belirteci ve bir JWT yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-339">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span> <span data-ttu-id="ef7a0-340">Ayrıca, Azure AD görünen adı ve Kiracı kimliklerine gibi kullanıcıyla ilgili temel bilgileri döndürür</span><span class="sxs-lookup"><span data-stu-id="ef7a0-340">In addition, Azure AD returns basic information about the user, such as their display name and tenant ID.</span></span>
5. <span data-ttu-id="ef7a0-341">HTTPS üzerinden istemci uygulaması JWT dizesi "Bearer" tayin ile web API isteğinin yetkilendirme üst bilgi eklemek için döndürülen JWT erişim belirtecini kullanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-341">Over HTTPS, the client application uses the returned JWT access token to add the JWT string with a “Bearer” designation in the Authorization header of the request to the web API.</span></span> <span data-ttu-id="ef7a0-342">Web API JWT belirteci doğrular ve doğrulama başarılı olursa, istenen kaynak döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-342">The web API then validates the JWT token, and if validation is successful, returns the desired resource.</span></span>
6. <span data-ttu-id="ef7a0-343">Erişim belirtecinin süresi dolduğunda, istemci uygulaması kullanıcının yeniden kimlik doğrulaması gerekiyorsa belirten bir hata alırsınız.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-343">When the access token expires, the client application will receive an error that indicates the user needs to authenticate again.</span></span> <span data-ttu-id="ef7a0-344">Uygulamanın geçerli yenileme belirteci varsa, yeniden oturum açmak için kullanıcıya sormadan yeni bir erişim belirteci almak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-344">If the application has a valid refresh token, it can be used to acquire a new access token without prompting the user to sign in again.</span></span> <span data-ttu-id="ef7a0-345">Yenileme belirtecinin süresi dolarsa, uygulama etkileşimli kullanıcı bir kez yeniden kimlik doğrulaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-345">If the refresh token expires, the application will need to interactively authenticate the user once again.</span></span>

> [!NOTE]
> <span data-ttu-id="ef7a0-346">Azure AD tarafından verilen yenileme belirteci birden çok kaynaklara erişmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-346">The refresh token issued by Azure AD can be used to access multiple resources.</span></span> <span data-ttu-id="ef7a0-347">Örneğin, iki web API çağırma izni olan bir istemci uygulaması varsa, yenileme belirtecini bir erişim diğer web API de belirtecini almak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-347">For example, if you have a client application that has permission to call two web APIs, the refresh token can be used to get an access token to the other web API as well.</span></span>
> 
> 

#### <a name="code-samples"></a><span data-ttu-id="ef7a0-348">Kod Örnekleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-348">Code Samples</span></span>
<span data-ttu-id="ef7a0-349">Kod örnekleri, Web API senaryoları için yerel uygulama için bkz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-349">See the code samples for Native Application to Web API scenarios.</span></span> <span data-ttu-id="ef7a0-350">Ve daha sonra yeniden sık--her zaman yeni örnekler eklediğimiz denetleyin.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-350">And, check back frequently -- we add new samples all the time.</span></span> <span data-ttu-id="ef7a0-351">[Web API yerel uygulamaya](active-directory-code-samples.md#native-application-to-web-api).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-351">[Native Application to Web API](active-directory-code-samples.md#native-application-to-web-api).</span></span>

#### <a name="registering"></a><span data-ttu-id="ef7a0-352">Kaydetme</span><span class="sxs-lookup"><span data-stu-id="ef7a0-352">Registering</span></span>
* <span data-ttu-id="ef7a0-353">Tek bir kiracı: Her iki yerel uygulaması ve web API kaydedilmelidir aynı dizinde Azure AD'de.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-353">Single Tenant: Both the native application and the web API must be registered in the same directory in Azure AD.</span></span> <span data-ttu-id="ef7a0-354">Web API kaynaklarını yerel uygulamanın erişimi sınırlamak için kullanılan izinler kümesi kullanıma sunmak için yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-354">The web API can be configured to expose a set of permissions, which are used to limit the native application’s access to its resources.</span></span> <span data-ttu-id="ef7a0-355">İstemci uygulama, Azure Portalı'nda "İzinleri diğer uygulamaların" açılan menüsünden istenen izinleri seçer.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-355">The client application then selects the desired permissions from the “Permissions to Other Applications” drop-down menu in the Azure Portal.</span></span>
* <span data-ttu-id="ef7a0-356">Çok Kiracılı: İlk olarak, yerel uygulama her zaman sadece geliştirici veya publisher'ın dizinde kayıtlı.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-356">Multi-Tenant: First, the native application only ever registered in the developer or publisher’s directory.</span></span> <span data-ttu-id="ef7a0-357">İkinci olarak, yerel uygulama işlev için gereken izinleri belirtmek için yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-357">Second, the native application is configured to indicate the permissions it requires to be functional.</span></span> <span data-ttu-id="ef7a0-358">Bir kullanıcının veya yöneticinin hedef dizinde, kuruluşları için kullanılabilir hale getirir uygulamaya izin verdiğinde bu gerekli izinlerin listesi iletişim kutusunda gösterilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-358">This list of required permissions is shown in a dialog when a user or administrator in the destination directory gives consent to the application, which makes it available to their organization.</span></span> <span data-ttu-id="ef7a0-359">Bazı uygulamalar kuruluştaki herhangi bir kullanıcı onayı yalnızca kullanıcı düzeyinde izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-359">Some applications require just user-level permissions, which any user in the organization can consent to.</span></span> <span data-ttu-id="ef7a0-360">Diğer uygulamalar kuruluştaki bir kullanıcı için onay veremez yönetici düzeyi izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-360">Other applications require administrator-level permissions, which a user in the organization cannot consent to.</span></span> <span data-ttu-id="ef7a0-361">Yalnızca bir dizin Yöneticisi bu izin düzeyini gerektiren uygulamalar için izin verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-361">Only a directory administrator can give consent to applications that require this level of permissions.</span></span> <span data-ttu-id="ef7a0-362">Kullanıcı veya yönetici izin, yalnızca web API kendi Directory'ye kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-362">When the user or administrator consents, only the web API is registered in their directory.</span></span> <span data-ttu-id="ef7a0-363">Daha fazla bilgi için bkz: [Azure Active Directory Tümleştirme uygulamalarla](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-363">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="ef7a0-364">Belirteç süre sonu</span><span class="sxs-lookup"><span data-stu-id="ef7a0-364">Token Expiration</span></span>
<span data-ttu-id="ef7a0-365">Yerel uygulama, bir JWT belirteci erişmek için kendi yetkilendirme kodu kullandığında, ayrıca, bir JWT yenileme belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-365">When the native application uses its authorization code to get a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="ef7a0-366">Erişim belirtecinin süresi dolduğunda, yenileme belirteci kullanıcı yeniden oturum açmak için gerek kalmadan yeniden kimlik doğrulaması için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-366">When the access token expires, the refresh token can be used to re-authenticate the user without requiring them to sign in again.</span></span> <span data-ttu-id="ef7a0-367">Bu yenileme belirteci sonra kullanıcının kimliğini doğrulamak için kullanılan bir yeni bir erişim belirteci ve yenileme belirteci sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-367">This refresh token is then used to authenticate the user, which results in a new access token and refresh token.</span></span>

### <a name="web-application-to-web-api"></a><span data-ttu-id="ef7a0-368">Web uygulaması Web API'si</span><span class="sxs-lookup"><span data-stu-id="ef7a0-368">Web Application to Web API</span></span>
<span data-ttu-id="ef7a0-369">Bu bölümde bir web API kaynakları almak için gereken bir web uygulaması açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-369">This section describes a web application that needs to get resources from a web API.</span></span> <span data-ttu-id="ef7a0-370">Bu senaryoda, web uygulaması web API'si çağırma ve kimlik doğrulamasını yapmak için kullanabileceğiniz iki kimlik türü vardır: uygulama kimliği ya da temsilci atanan kullanıcı kimliği.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-370">In this scenario, there are two identity types that the web application can use to authenticate and call the web API: an application identity, or a delegated user identity.</span></span>

<span data-ttu-id="ef7a0-371">*Uygulama Kimliği:* bu senaryo, uygulama olarak kimlik doğrulaması ve web API erişmek için OAuth 2.0 istemci kimlik bilgileri sağlama kullanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-371">*Application identity:* This scenario uses OAuth 2.0 client credentials grant to authenticate as the application and access the web API.</span></span> <span data-ttu-id="ef7a0-372">Uygulama kimliği, API, yalnızca web uygulaması, aradığı algılayabilir web kullanırken web API kullanıcı hakkındaki tüm bilgileri almaz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-372">When using an application identity, the web API can only detect that the web application is calling it, as the web API does not receive any information about the user.</span></span> <span data-ttu-id="ef7a0-373">Uygulamanın kullanıcı hakkındaki bilgileri alırsa, uygulama protokolü aracılığıyla gönderilir ve Azure AD tarafından imzalanmamış.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-373">If the application receives information about the user, it will be sent via the application protocol, and it is not signed by Azure AD.</span></span> <span data-ttu-id="ef7a0-374">Web API, web uygulaması için kullanıcı kimliklerinin güvenir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-374">The web API trusts that the web application authenticated the user.</span></span> <span data-ttu-id="ef7a0-375">Bu nedenle, bu deseni güvenilir alt sistem adı verilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-375">For this reason, this pattern is called a trusted subsystem.</span></span>

<span data-ttu-id="ef7a0-376">*Kullanıcı kimliği için temsilci:* bu senaryo iki yolla gerçekleştirilebilir: Openıd Connect ve OAuth 2.0 yetkilendirme kodu verme gizli istemcisi ile.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-376">*Delegated user identity:* This scenario can be accomplished in two ways: OpenID Connect, and OAuth 2.0 authorization code grant with a confidential client.</span></span> <span data-ttu-id="ef7a0-377">Web uygulaması web kullanıcı, web uygulaması başarıyla kimlik doğrulaması ve web uygulaması web API'sini çağırmak için bir temsilci olarak atanan kullanıcı kimliğini alabilmiş API kanıtlar kullanıcı için bir erişim belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-377">The web application obtains an access token for the user, which proves to the web API that the user successfully authenticated to the web application and that the web application was able to obtain a delegated user identity to call the web API.</span></span> <span data-ttu-id="ef7a0-378">Bu erişim belirteci kullanıcı yetkisi verir ve istenen kaynak döndüren API web isteği gönderilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-378">This access token is sent in the request to the web API, which authorizes the user and returns the desired resource.</span></span>

#### <a name="diagram"></a><span data-ttu-id="ef7a0-379">Diyagram</span><span class="sxs-lookup"><span data-stu-id="ef7a0-379">Diagram</span></span>
![Web uygulaması için Web API diyagramı](./media/active-directory-authentication-scenarios/web_app_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="ef7a0-381">Protokol akışı açıklaması</span><span class="sxs-lookup"><span data-stu-id="ef7a0-381">Description of Protocol Flow</span></span>
<span data-ttu-id="ef7a0-382">Uygulama kimliği ve temsilci olarak atanan kullanıcı kimliğini türleri akışında ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-382">Both the application identity and delegated user identity types are discussed in the flow below.</span></span> <span data-ttu-id="ef7a0-383">Aralarındaki en önemli fark, kullanıcı oturum açma ve web API erişmek önce temsilci atanan kullanıcı kimliğini ilk bir yetkilendirme kodu almalıdır ' dir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-383">The key difference between them is that the delegated user identity must first acquire an authorization code before the user can sign-in and gain access to the web API.</span></span>

##### <a name="application-identity-with-oauth-20-client-credentials-grant"></a><span data-ttu-id="ef7a0-384">Uygulama Kimliği OAuth 2.0 istemci ile kimlik bilgileri verin</span><span class="sxs-lookup"><span data-stu-id="ef7a0-384">Application Identity with OAuth 2.0 Client Credentials Grant</span></span>
1. <span data-ttu-id="ef7a0-385">Bir kullanıcı Azure ad ile web uygulamasında oturum (bkz [Web uygulamasına Web tarayıcısı](#web-browser-to-web-application) yukarıda).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-385">A user is signed in to Azure AD in the web application (see the [Web Browser to Web Application](#web-browser-to-web-application) above).</span></span>
2. <span data-ttu-id="ef7a0-386">Web uygulaması, böylece web API kimlik doğrulaması ve istenen kaynak almak bir erişim belirteci alması gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-386">The web application needs to acquire an access token so that it can authenticate to the web API and retrieve the desired resource.</span></span> <span data-ttu-id="ef7a0-387">Kimlik bilgisi, uygulama kimliği ve web API uygulama kimliği URI'sini sağlayan Azure AD belirteç uç noktası için bir istek kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-387">It makes a request to Azure AD’s token endpoint, providing the credential, Application ID, and web API’s application ID URI.</span></span>
3. <span data-ttu-id="ef7a0-388">Azure AD uygulama kimliğini doğrular ve web API'sini çağırmak için kullanılan bir JWT erişim belirteci döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-388">Azure AD authenticates the application and returns a JWT access token that is used to call the web API.</span></span>
4. <span data-ttu-id="ef7a0-389">HTTPS üzerinden web uygulaması "Bearer" tayin JWT dizesiyle web API isteğinin yetkilendirme üst bilgi eklemek için döndürülen JWT erişim belirtecini kullanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-389">Over HTTPS, the web application uses the returned JWT access token to add the JWT string with a “Bearer” designation in the Authorization header of the request to the web API.</span></span> <span data-ttu-id="ef7a0-390">Web API JWT belirteci doğrular ve doğrulama başarılı olursa, istenen kaynak döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-390">The web API then validates the JWT token, and if validation is successful, returns the desired resource.</span></span>

##### <a name="delegated-user-identity-with-openid-connect"></a><span data-ttu-id="ef7a0-391">Openıd temsilci atanan kullanıcı kimliğiyle Bağlan</span><span class="sxs-lookup"><span data-stu-id="ef7a0-391">Delegated User Identity with OpenID Connect</span></span>
1. <span data-ttu-id="ef7a0-392">Bir kullanıcının Azure AD kullanarak bir web uygulaması oturum açtığı (bkz [Web uygulamasına Web tarayıcısı](#web-browser-to-web-application) yukarıdaki bölümde).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-392">A user is signed in to a web application using Azure AD (see the [Web Browser to Web Application](#web-browser-to-web-application) section above).</span></span> <span data-ttu-id="ef7a0-393">Web uygulamasının kullanıcı henüz kendi adına web API'sini çağırmak web uygulaması izin vermek üzere seçtiği değil, kullanıcının onayını istemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-393">If the user of the web application has not yet consented to allowing the web application to call the web API on its behalf, the user will need to consent.</span></span> <span data-ttu-id="ef7a0-394">Uygulamanın gerektirdiği izinler görüntüler ve bunları herhangi biri yönetici düzeyi izinler varsa, dizininde normal bir kullanıcı onayı mümkün olmaz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-394">The application will display the permissions it requires, and if any of these are administrator-level permissions, a normal user in the directory will not be able to consent.</span></span> <span data-ttu-id="ef7a0-395">Uygulamanın zaten gerekli izinlere sahip şekilde bu izni işlem yalnızca değil tek bir kiracı uygulamalar, çok kiracılı uygulamalara uygulanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-395">This consent process only applies to multi-tenant applications, not single tenant applications, as the application will already have the necessary permissions.</span></span> <span data-ttu-id="ef7a0-396">Kullanıcının oturum açtığı zaman web uygulamasına bir kimlik doğrulama kodu yanı sıra kullanıcı hakkında bilgi içeren bir kimliği belirteci aldı.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-396">When the user signed in, the web application received an ID token with information about the user, as well as an authorization code.</span></span>
2. <span data-ttu-id="ef7a0-397">Web uygulamasını Azure AD tarafından verilen yetkilendirme kodu kullanarak, yetkilendirme kodu, istemci uygulaması (uygulama kimliği ve yeniden yönlendirme URI'si) ve istenen kaynak (uygulama kimliği URI'si web API'si için) hakkında ayrıntılar içeren Azure AD belirteç uç noktası için bir istek gönderir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-397">Using the authorization code issued by Azure AD, the web application sends a request to Azure AD’s token endpoint that includes the authorization code, details about the client application (Application ID and redirect URI), and the desired resource (application ID URI for the web API).</span></span>
3. <span data-ttu-id="ef7a0-398">Web uygulaması ve web API hakkındaki bilgileri ve yetkilendirme kodu Azure AD tarafından doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-398">The authorization code and information about the web application and web API are validated by Azure AD.</span></span> <span data-ttu-id="ef7a0-399">Başarılı bir doğrulama sırasında Azure AD iki belirteci döndürür: JWT erişim belirteci ve bir JWT yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-399">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span>
4. <span data-ttu-id="ef7a0-400">HTTPS üzerinden web uygulaması "Bearer" tayin JWT dizesiyle web API isteğinin yetkilendirme üst bilgi eklemek için döndürülen JWT erişim belirtecini kullanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-400">Over HTTPS, the web application uses the returned JWT access token to add the JWT string with a “Bearer” designation in the Authorization header of the request to the web API.</span></span> <span data-ttu-id="ef7a0-401">Web API JWT belirteci doğrular ve doğrulama başarılı olursa, istenen kaynak döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-401">The web API then validates the JWT token, and if validation is successful, returns the desired resource.</span></span>

##### <a name="delegated-user-identity-with-oauth-20-authorization-code-grant"></a><span data-ttu-id="ef7a0-402">Temsilci atanan kullanıcı kimliği ile OAuth 2.0 yetkilendirme kodu verme</span><span class="sxs-lookup"><span data-stu-id="ef7a0-402">Delegated User Identity with OAuth 2.0 Authorization Code Grant</span></span>
1. <span data-ttu-id="ef7a0-403">Bir kullanıcı zaten olan kimlik doğrulama mekanizması Azure AD bağımsız olan bir web uygulaması için imzalanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-403">A user is already signed in to a web application, whose authentication mechanism is independent of Azure AD.</span></span>
2. <span data-ttu-id="ef7a0-404">Web uygulaması bir tarayıcı isteğini uygulama kimliği sağlayan Azure AD yetkilendirme uç noktasına sorunları için bir erişim belirteci almak ve başarılı kimlik doğrulamasının ardından web uygulaması için yeniden yönlendirme URI'si için bir kimlik doğrulama kodu gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-404">The web application requires an authorization code to acquire an access token, so it issues a request through the browser to Azure AD’s authorization endpoint, providing the Application ID and redirect URI for the web application after successful authentication.</span></span> <span data-ttu-id="ef7a0-405">Azure AD ile oturum açtığında.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-405">The user signs in to Azure AD.</span></span>
3. <span data-ttu-id="ef7a0-406">Web uygulamasının kullanıcı henüz kendi adına web API'sini çağırmak web uygulaması izin vermek üzere seçtiği değil, kullanıcının onayını istemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-406">If the user of the web application has not yet consented to allowing the web application to call the web API on its behalf, the user will need to consent.</span></span> <span data-ttu-id="ef7a0-407">Uygulamanın gerektirdiği izinler görüntüler ve bunları herhangi biri yönetici düzeyi izinler varsa, dizininde normal bir kullanıcı onayı mümkün olmaz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-407">The application will display the permissions it requires, and if any of these are administrator-level permissions, a normal user in the directory will not be able to consent.</span></span> <span data-ttu-id="ef7a0-408">Bu izin, hem tek hem de çok kiracılı uygulama için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-408">This consent applies to both single and multi-tenant application.</span></span>  <span data-ttu-id="ef7a0-409">Tek bir kiracı durumda da, bir yönetici, kullanıcılar adına yönetici onayı için onay gerçekleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-409">In the single tenant case, an admin can perform admin consent to consent on behalf of their users.</span></span>  <span data-ttu-id="ef7a0-410">Bu yapılabilir kullanarak `Grant Permissions` düğmesini [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-410">This can be done using the `Grant Permissions` button in the [Azure Portal](https://portal.azure.com).</span></span> 
4. <span data-ttu-id="ef7a0-411">Kullanıcının seçtiği sonra web uygulaması, bir erişim belirteci alması gereken yetkilendirme kodu alır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-411">After the user has consented, the web application receives the authorization code that it needs to acquire an access token.</span></span>
5. <span data-ttu-id="ef7a0-412">Web uygulamasını Azure AD tarafından verilen yetkilendirme kodu kullanarak, yetkilendirme kodu, istemci uygulaması (uygulama kimliği ve yeniden yönlendirme URI'si) ve istenen kaynak (uygulama kimliği URI'si web API'si için) hakkında ayrıntılar içeren Azure AD belirteç uç noktası için bir istek gönderir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-412">Using the authorization code issued by Azure AD, the web application sends a request to Azure AD’s token endpoint that includes the authorization code, details about the client application (Application ID and redirect URI), and the desired resource (application ID URI for the web API).</span></span>
6. <span data-ttu-id="ef7a0-413">Web uygulaması ve web API hakkındaki bilgileri ve yetkilendirme kodu Azure AD tarafından doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-413">The authorization code and information about the web application and web API are validated by Azure AD.</span></span> <span data-ttu-id="ef7a0-414">Başarılı bir doğrulama sırasında Azure AD iki belirteci döndürür: JWT erişim belirteci ve bir JWT yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-414">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span>
7. <span data-ttu-id="ef7a0-415">HTTPS üzerinden web uygulaması "Bearer" tayin JWT dizesiyle web API isteğinin yetkilendirme üst bilgi eklemek için döndürülen JWT erişim belirtecini kullanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-415">Over HTTPS, the web application uses the returned JWT access token to add the JWT string with a “Bearer” designation in the Authorization header of the request to the web API.</span></span> <span data-ttu-id="ef7a0-416">Web API JWT belirteci doğrular ve doğrulama başarılı olursa, istenen kaynak döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-416">The web API then validates the JWT token, and if validation is successful, returns the desired resource.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="ef7a0-417">Kod Örnekleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-417">Code Samples</span></span>
<span data-ttu-id="ef7a0-418">Web API senaryolarında Web uygulaması için kod örnekleri bakın.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-418">See the code samples for Web Application to Web API scenarios.</span></span> <span data-ttu-id="ef7a0-419">Ve daha sonra yeniden sık--her zaman yeni örnekler eklediğimiz denetleyin.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-419">And, check back frequently -- we add new samples all the time.</span></span> <span data-ttu-id="ef7a0-420">Web [Web API uygulamasına](active-directory-code-samples.md#web-application-to-web-api).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-420">Web [Application to Web API](active-directory-code-samples.md#web-application-to-web-api).</span></span>

#### <a name="registering"></a><span data-ttu-id="ef7a0-421">Kaydetme</span><span class="sxs-lookup"><span data-stu-id="ef7a0-421">Registering</span></span>
* <span data-ttu-id="ef7a0-422">Tek bir kiracı: uygulama kimliği hem temsilci atanan kullanıcı kimliğini çalışmaları için web uygulaması ve web API aynı dizinde Azure AD'de kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-422">Single Tenant: For both the application identity and delegated user identity cases, the web application and the web API must be registered in the same directory in Azure AD.</span></span> <span data-ttu-id="ef7a0-423">Web API, web uygulamasının kaynaklarına erişimi sınırlamak için kullanılan izinler kümesi kullanıma sunmak için yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-423">The web API can be configured to expose a set of permissions, which are used to limit the web application’s access to its resources.</span></span> <span data-ttu-id="ef7a0-424">Temsilci atanan kullanıcı kimlik türü kullanılıyorsa, web uygulamasını Azure Portalı'nda "İzinleri diğer uygulamaların" açılan menüsünden istediğiniz izinleri seçin gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-424">If a delegated user identity type is being used, the web application needs to select the desired permissions from the “Permissions to Other Applications” drop-down menu in the Azure Portal.</span></span> <span data-ttu-id="ef7a0-425">Uygulama kimlik türü kullanılıyorsa bu adım gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-425">This step is not required if the application identity type is being used.</span></span>
* <span data-ttu-id="ef7a0-426">Çok Kiracılı: İlk olarak, web uygulaması işlevsel olmasını gerektirir izinleri belirtmek için yapılandırılmış.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-426">Multi-Tenant: First, the web application is configured to indicate the permissions it requires to be functional.</span></span> <span data-ttu-id="ef7a0-427">Bir kullanıcının veya yöneticinin hedef dizinde, kuruluşları için kullanılabilir hale getirir uygulamaya izin verdiğinde bu gerekli izinlerin listesi iletişim kutusunda gösterilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-427">This list of required permissions is shown in a dialog when a user or administrator in the destination directory gives consent to the application, which makes it available to their organization.</span></span> <span data-ttu-id="ef7a0-428">Bazı uygulamalar kuruluştaki herhangi bir kullanıcı onayı yalnızca kullanıcı düzeyinde izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-428">Some applications require just user-level permissions, which any user in the organization can consent to.</span></span> <span data-ttu-id="ef7a0-429">Diğer uygulamalar kuruluştaki bir kullanıcı için onay veremez yönetici düzeyi izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-429">Other applications require administrator-level permissions, which a user in the organization cannot consent to.</span></span> <span data-ttu-id="ef7a0-430">Yalnızca bir dizin Yöneticisi bu izin düzeyini gerektiren uygulamalar için izin verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-430">Only a directory administrator can give consent to applications that require this level of permissions.</span></span> <span data-ttu-id="ef7a0-431">Kullanıcı veya yönetici izin, web uygulaması ve web API hem de bunların dizinde kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-431">When the user or administrator consents, the web application and the web API are both registered in their directory.</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="ef7a0-432">Belirteç süre sonu</span><span class="sxs-lookup"><span data-stu-id="ef7a0-432">Token Expiration</span></span>
<span data-ttu-id="ef7a0-433">Web uygulaması, bir JWT belirteci erişmek için kendi yetkilendirme kodu kullandığında, ayrıca, bir JWT yenileme belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-433">When the web application uses its authorization code to get a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="ef7a0-434">Erişim belirtecinin süresi dolduğunda, yenileme belirteci kullanıcı yeniden oturum açmak için gerek kalmadan yeniden kimlik doğrulaması için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-434">When the access token expires, the refresh token can be used to re-authenticate the user without requiring them to sign in again.</span></span> <span data-ttu-id="ef7a0-435">Bu yenileme belirteci sonra kullanıcının kimliğini doğrulamak için kullanılan bir yeni bir erişim belirteci ve yenileme belirteci sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-435">This refresh token is then used to authenticate the user, which results in a new access token and refresh token.</span></span>

### <a name="daemon-or-server-application-to-web-api"></a><span data-ttu-id="ef7a0-436">Arka plan programı veya Web API için sunucu uygulaması</span><span class="sxs-lookup"><span data-stu-id="ef7a0-436">Daemon or Server Application to Web API</span></span>
<span data-ttu-id="ef7a0-437">Bu bölümde bir web API kaynakları almak için gereken bir arka plan programı veya sunucu uygulaması açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-437">This section describes a daemon or server application that needs to get resources from a web API.</span></span> <span data-ttu-id="ef7a0-438">Bu bölüm için geçerli iki alt senaryo vardır: web OAuth 2.0 istemci kimlik bilgileri verme türünü; yerleşik API'si çağırmayı gerektiren bir arka plan programı ve web API'si, OAuth 2.0 On-Behalf-Of taslak belirtimi yerleşik çağırmayı gerektiren bir sunucu uygulaması (örneğin, bir web API).</span><span class="sxs-lookup"><span data-stu-id="ef7a0-438">There are two sub-scenarios that apply to this section: A daemon that needs to call a web API, built on OAuth 2.0 client credentials grant type; and a server application (such as a web API) that needs to call a web API, built on OAuth 2.0 On-Behalf-Of draft specification.</span></span>

<span data-ttu-id="ef7a0-439">Bir web API'sini çağırmak bir arka plan programı uygulaması gerektiğinde bu senaryo için birkaç anlamak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-439">For the scenario when a daemon application needs to call a web API, it’s important to understand a few things.</span></span> <span data-ttu-id="ef7a0-440">İlk olarak, kullanıcı etkileşimi uygulama kendi kimlik olmasını gerektiriyor ve arka plan programı uygulama ile mümkün değildir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-440">First, user interaction is not possible with a daemon application, which requires the application to have its own identity.</span></span> <span data-ttu-id="ef7a0-441">Arka plan programı uygulama toplu iş veya arka planda çalışan bir işletim sistemi hizmet örneğidir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-441">An example of a daemon application is a batch job, or an operating system service running in the background.</span></span> <span data-ttu-id="ef7a0-442">Bu tür bir uygulama bir erişim belirteci kendi uygulama kimliğini kullanır ve uygulama kimliği, kimlik bilgisi (parola veya sertifika) ve uygulama sunma ister Azure ad kimliği URI.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-442">This type of application requests an access token by using its application identity and presenting its Application ID, credential (password or certificate), and application ID URI to Azure AD.</span></span> <span data-ttu-id="ef7a0-443">Başarılı kimlik doğrulamasının ardından, arka plan programı daha sonra web API'sini çağırmak için kullanılır, Azure AD'den bir erişim belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-443">After successful authentication, the daemon receives an access token from Azure AD, which is then used to call the web API.</span></span>

<span data-ttu-id="ef7a0-444">Senaryo için daha web API'sini çağırmak bir sunucu uygulaması ihtiyacı olduğunda bile bir örnek kullanacak şekilde yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-444">For the scenario when a server application needs to call a web API, it’s helpful to use an example.</span></span> <span data-ttu-id="ef7a0-445">Bir kullanıcı kimlik doğrulaması yerel bir uygulamaya ve bu yerel uygulama web API'si çağırmayı gerektiren düşünün.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-445">Imagine that a user has authenticated on a native application, and this native application needs to call a web API.</span></span> <span data-ttu-id="ef7a0-446">Azure AD web API'sini çağırmak için JWT erişim belirteci verir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-446">Azure AD issues a JWT access token to call the web API.</span></span> <span data-ttu-id="ef7a0-447">Web API başka bir aşağı akış web API'si çağırma gerekiyorsa, kullanıcının kimliğini temsilci ve ikinci katmanlı web API kimliğini doğrulamak için üzerinde-temsili akış kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-447">If the web API needs to call another downstream web API, it can use the on-behalf-of flow to delegate the user’s identity and authenticate to the second-tier web API.</span></span>

#### <a name="diagram"></a><span data-ttu-id="ef7a0-448">Diyagram</span><span class="sxs-lookup"><span data-stu-id="ef7a0-448">Diagram</span></span>
![Arka plan programı veya sunucu uygulaması için Web API diyagramı](./media/active-directory-authentication-scenarios/daemon_server_app_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="ef7a0-450">Protokol akışı açıklaması</span><span class="sxs-lookup"><span data-stu-id="ef7a0-450">Description of Protocol Flow</span></span>
##### <a name="application-identity-with-oauth-20-client-credentials-grant"></a><span data-ttu-id="ef7a0-451">Uygulama Kimliği OAuth 2.0 istemci ile kimlik bilgileri verin</span><span class="sxs-lookup"><span data-stu-id="ef7a0-451">Application Identity with OAuth 2.0 Client Credentials Grant</span></span>
1. <span data-ttu-id="ef7a0-452">İlk olarak, sunucu uygulamasının bir etkileşimli oturum açma iletişim kutusu gibi herhangi bir insan etkileşimi olmadan kendisini olarak Azure AD ile kimlik doğrulaması gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-452">First, the server application needs to authenticate with Azure AD as itself, without any human interaction such as an interactive sign-on dialog.</span></span> <span data-ttu-id="ef7a0-453">Kimlik bilgisi, uygulama kimliği ve uygulama kimliği URI'sini sağlayan Azure AD belirteç uç noktası için bir istek kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-453">It makes a request to Azure AD’s token endpoint, providing the credential, Application ID, and application ID URI.</span></span>
2. <span data-ttu-id="ef7a0-454">Azure AD uygulama kimliğini doğrular ve web API'sini çağırmak için kullanılan bir JWT erişim belirteci döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-454">Azure AD authenticates the application and returns a JWT access token that is used to call the web API.</span></span>
3. <span data-ttu-id="ef7a0-455">HTTPS üzerinden web uygulaması "Bearer" tayin JWT dizesiyle web API isteğinin yetkilendirme üst bilgi eklemek için döndürülen JWT erişim belirtecini kullanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-455">Over HTTPS, the web application uses the returned JWT access token to add the JWT string with a “Bearer” designation in the Authorization header of the request to the web API.</span></span> <span data-ttu-id="ef7a0-456">Web API JWT belirteci doğrular ve doğrulama başarılı olursa, istenen kaynak döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-456">The web API then validates the JWT token, and if validation is successful, returns the desired resource.</span></span>

##### <a name="delegated-user-identity-with-oauth-20-on-behalf-of-draft-specification"></a><span data-ttu-id="ef7a0-457">OAuth 2.0 üzerinde-adına-Of taslak belirtimiyle temsilci olarak atanan kullanıcı kimliği</span><span class="sxs-lookup"><span data-stu-id="ef7a0-457">Delegated User Identity with OAuth 2.0 On-Behalf-Of Draft Specification</span></span>
<span data-ttu-id="ef7a0-458">Aşağıda açıklanan akış (örneğin, bir yerel uygulamayı) başka bir uygulama üzerinde bir kullanıcı kimliği ve kullanıcı kimliğini ilk katmanlı Web API'ye bir erişim belirteci almak için kullanılan varsayar.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-458">The flow discussed below assumes that a user has been authenticated on another application (such as a native application), and their user identity has been used to acquire an access token to the first-tier web API.</span></span>

1. <span data-ttu-id="ef7a0-459">Yerel uygulama erişim belirtecini ilk katmanlı web API gönderir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-459">The native application sends the access token to the first-tier web API.</span></span>
2. <span data-ttu-id="ef7a0-460">İlk katmanlı web API uygulama Kimliğini ve kimlik bilgilerinin yanı sıra, kullanıcının erişim belirtecini sağlayan Azure AD belirteç uç noktası için bir isteği gönderir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-460">The first-tier web API sends a request to Azure AD’s token endpoint, providing its Application ID and credentials, as well as the user’s access token.</span></span> <span data-ttu-id="ef7a0-461">Ayrıca, istek ile gönderilen bir web gösteren parametresi on_behalf_of API özgün kullanıcı adına bir aşağı akış web API'sini çağırmak için yeni belirteçleri istiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-461">In addition, the request is sent with an on_behalf_of parameter that indicates the web API is requesting new tokens to call a downstream web API on behalf of the original user.</span></span>
3. <span data-ttu-id="ef7a0-462">Azure AD ilk katmanlı web API ikinci katmanlı web API'si erişim izni olduğundan ve bir JWT erişim belirteci döndürerek isteği doğrular ve bir JWT belirteci ilk katmanlı Web API'ye Yenile doğrular.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-462">Azure AD verifies that the first-tier web API has permissions to access the second-tier web API and validates the request, returning a JWT access token and a JWT refresh token to the first-tier web API.</span></span>
4. <span data-ttu-id="ef7a0-463">HTTPS üzerinden ilk katmanlı web API'si daha sonra ikinci katmanlı web API isteği yetkilendirme üstbilgisinde belirteç dizesini ekleyerek çağırır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-463">Over HTTPS, the first-tier web API then calls the second-tier web API by appending the token string in the Authorization header in the request.</span></span> <span data-ttu-id="ef7a0-464">İlk katmanlı web API, yenileme belirteçleri ve erişim belirteci geçerli olduğu sürece ikinci katmanlı web API'sini çağırmak devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-464">The first-tier web API can continue to call the second-tier web API as long as the access token and refresh tokens are valid.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="ef7a0-465">Kod Örnekleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-465">Code Samples</span></span>
<span data-ttu-id="ef7a0-466">Arka plan programı veya Web API senaryoları için sunucu uygulaması için kod örnekleri bakın.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-466">See the code samples for Daemon or Server Application to Web API scenarios.</span></span> <span data-ttu-id="ef7a0-467">Ve daha sonra yeniden sık--her zaman yeni örnekler eklediğimiz denetleyin.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-467">And, check back frequently -- we add new samples all the time.</span></span> [<span data-ttu-id="ef7a0-468">Sunucu veya Web API'si arka plan programı uygulamaya</span><span class="sxs-lookup"><span data-stu-id="ef7a0-468">Server or Daemon Application to Web API</span></span>](active-directory-code-samples.md#server-or-daemon-application-to-web-api)

#### <a name="registering"></a><span data-ttu-id="ef7a0-469">Kaydetme</span><span class="sxs-lookup"><span data-stu-id="ef7a0-469">Registering</span></span>
* <span data-ttu-id="ef7a0-470">Tek bir kiracı: uygulama kimliği hem temsilci atanan kullanıcı kimliğini çalışmaları için arka plan programı veya sunucu uygulaması aynı dizinde Azure AD'de kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-470">Single Tenant: For both the application identity and delegated user identity cases, the daemon or server application must be registered in the same directory in Azure AD.</span></span> <span data-ttu-id="ef7a0-471">Web API'si arka plan programı veya kendi kaynaklarına sunucunun erişimi sınırlamak için kullanılan izinler kümesi kullanıma sunmak için yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-471">The web API can be configured to expose a set of permissions, which are used to limit the daemon or server’s access to its resources.</span></span> <span data-ttu-id="ef7a0-472">Temsilci atanan kullanıcı kimlik türü kullanılıyorsa, sunucu uygulaması, Azure Portalı'nda "İzinleri diğer uygulamaların" açılan menüsünden istediğiniz izinleri seçin gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-472">If a delegated user identity type is being used, the server application needs to select the desired permissions from the “Permissions to Other Applications” drop-down menu in the Azure Portal.</span></span> <span data-ttu-id="ef7a0-473">Uygulama kimlik türü kullanılıyorsa bu adım gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-473">This step is not required if the application identity type is being used.</span></span>
* <span data-ttu-id="ef7a0-474">Çok Kiracılı: İlk olarak, arka plan programı veya sunucu uygulaması işlevsel olmasını gerektirir izinleri belirtmek için yapılandırılmış.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-474">Multi-Tenant: First, the daemon or server application is configured to indicate the permissions it requires to be functional.</span></span> <span data-ttu-id="ef7a0-475">Bir kullanıcının veya yöneticinin hedef dizinde, kuruluşları için kullanılabilir hale getirir uygulamaya izin verdiğinde bu gerekli izinlerin listesi iletişim kutusunda gösterilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-475">This list of required permissions is shown in a dialog when a user or administrator in the destination directory gives consent to the application, which makes it available to their organization.</span></span> <span data-ttu-id="ef7a0-476">Bazı uygulamalar kuruluştaki herhangi bir kullanıcı onayı yalnızca kullanıcı düzeyinde izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-476">Some applications require just user-level permissions, which any user in the organization can consent to.</span></span> <span data-ttu-id="ef7a0-477">Diğer uygulamalar kuruluştaki bir kullanıcı için onay veremez yönetici düzeyi izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-477">Other applications require administrator-level permissions, which a user in the organization cannot consent to.</span></span> <span data-ttu-id="ef7a0-478">Yalnızca bir dizin Yöneticisi bu izin düzeyini gerektiren uygulamalar için izin verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-478">Only a directory administrator can give consent to applications that require this level of permissions.</span></span> <span data-ttu-id="ef7a0-479">Kullanıcı veya yönetici izin, web API'leri her ikisi de kendi dizininde kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-479">When the user or administrator consents, both of the web APIs are registered in their directory.</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="ef7a0-480">Belirteç süre sonu</span><span class="sxs-lookup"><span data-stu-id="ef7a0-480">Token Expiration</span></span>
<span data-ttu-id="ef7a0-481">İlk uygulama, bir JWT belirteci erişmek için kendi yetkilendirme kodu kullandığında, ayrıca, bir JWT yenileme belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-481">When the first application uses its authorization code to get a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="ef7a0-482">Erişim belirtecinin süresi dolduğunda, yenileme belirteci kullanıcı kimlik bilgileri olmadan yeniden kimlik doğrulaması için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-482">When the access token expires, the refresh token can be used to re-authenticate the user without prompting for credentials.</span></span> <span data-ttu-id="ef7a0-483">Bu yenileme belirteci sonra kullanıcının kimliğini doğrulamak için kullanılan bir yeni bir erişim belirteci ve yenileme belirteci sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-483">This refresh token is then used to authenticate the user, which results in a new access token and refresh token.</span></span>

## <a name="see-also"></a><span data-ttu-id="ef7a0-484">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="ef7a0-484">See Also</span></span>
[<span data-ttu-id="ef7a0-485">Azure Active Directory Geliştirici Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="ef7a0-485">Azure Active Directory Developer's Guide</span></span>](active-directory-developers-guide.md)

[<span data-ttu-id="ef7a0-486">Azure Active Directory kod örnekleri</span><span class="sxs-lookup"><span data-stu-id="ef7a0-486">Azure Active Directory Code Samples</span></span>](active-directory-code-samples.md)

[<span data-ttu-id="ef7a0-487">Azure AD'de anahtar geçişi imzalama hakkında önemli bilgiler</span><span class="sxs-lookup"><span data-stu-id="ef7a0-487">Important Information About Signing Key Rollover in Azure AD</span></span>](active-directory-signing-key-rollover.md)

[<span data-ttu-id="ef7a0-488">Azure AD'de OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="ef7a0-488">OAuth 2.0 in Azure AD</span></span>](https://msdn.microsoft.com/library/azure/dn645545.aspx)

