---
title: "aaaAuthentication senaryoları için Azure AD | Microsoft Docs"
description: "Merhaba beş en yaygın kimlik doğrulama senaryoları için Azure Active Directory (AAD) genel bakış"
services: active-directory
documentationcenter: dev-center-name
author: skwan
manager: mbaldwin
editor: 
ms.assetid: 0c84e7d0-16aa-4897-82f2-f53c6c990fd9
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/27/2017
ms.author: skwan
ms.custom: aaddev
ms.openlocfilehash: 5b391e3f096fcb52934c4a8aff08688352bfd3dc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="authentication-scenarios-for-azure-ad"></a><span data-ttu-id="29e14-103">Azure AD için Kimlik Doğrulama Senaryoları</span><span class="sxs-lookup"><span data-stu-id="29e14-103">Authentication Scenarios for Azure AD</span></span>
<span data-ttu-id="29e14-104">Azure Active Directory (Azure AD), OAuth 2.0 ve Openıd Connect, aynı zamanda farklı platformlarda toohelp için açık kaynak kitaplıkları gibi endüstri standardı protokoller için kimlik bir hizmet olarak desteğiyle sağlayarak geliştiriciler için kimlik doğrulama basitleştirir Hızlı kod yazmaya başlayın.</span><span class="sxs-lookup"><span data-stu-id="29e14-104">Azure Active Directory (Azure AD) simplifies authentication for developers by providing identity as a service, with support for industry-standard protocols such as OAuth 2.0 and OpenID Connect, as well as open source libraries for different platforms toohelp you start coding quickly.</span></span> <span data-ttu-id="29e14-105">Bu belge yardımcı olacak anlamak çeşitli senaryolar Azure AD destekler hello ve tooget nasıl başlatılacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="29e14-105">This document will help you understand hello various scenarios Azure AD supports and will show you how tooget started.</span></span> <span data-ttu-id="29e14-106">Aşağıdaki bölümlerde hello ayrılır:</span><span class="sxs-lookup"><span data-stu-id="29e14-106">It’s divided into hello following sections:</span></span>

* [<span data-ttu-id="29e14-107">Azure AD kimlik doğrulaması temelleri</span><span class="sxs-lookup"><span data-stu-id="29e14-107">Basics of Authentication in Azure AD</span></span>](#basics-of-authentication-in-azure-ad)
* [<span data-ttu-id="29e14-108">Azure AD güvenlik belirteçleri talepleri</span><span class="sxs-lookup"><span data-stu-id="29e14-108">Claims in Azure AD Security Tokens</span></span>](#claims-in-azure-ad-security-tokens)
* [<span data-ttu-id="29e14-109">Azure AD'de uygulama kaydetme temelleri</span><span class="sxs-lookup"><span data-stu-id="29e14-109">Basics of Registering an Application in Azure AD</span></span>](#basics-of-registering-an-application-in-azure-ad)
* [<span data-ttu-id="29e14-110">Uygulama türleri ve senaryolar</span><span class="sxs-lookup"><span data-stu-id="29e14-110">Application Types and Scenarios</span></span>](#application-types-and-scenarios)
  
  * [<span data-ttu-id="29e14-111">Web tarayıcısı tooWeb uygulama</span><span class="sxs-lookup"><span data-stu-id="29e14-111">Web Browser tooWeb Application</span></span>](#web-browser-to-web-application)
  * [<span data-ttu-id="29e14-112">Tek sayfalı uygulama (SPA)</span><span class="sxs-lookup"><span data-stu-id="29e14-112">Single Page Application (SPA)</span></span>](#single-page-application-spa)
  * [<span data-ttu-id="29e14-113">Yerel uygulama tooWeb API</span><span class="sxs-lookup"><span data-stu-id="29e14-113">Native Application tooWeb API</span></span>](#native-application-to-web-api)
  * [<span data-ttu-id="29e14-114">Web uygulama tooWeb API</span><span class="sxs-lookup"><span data-stu-id="29e14-114">Web Application tooWeb API</span></span>](#web-application-to-web-api)
  * [<span data-ttu-id="29e14-115">Arka plan programı veya sunucu uygulaması tooWeb API</span><span class="sxs-lookup"><span data-stu-id="29e14-115">Daemon or Server Application tooWeb API</span></span>](#daemon-or-server-application-to-web-api)

## <a name="basics-of-authentication-in-azure-ad"></a><span data-ttu-id="29e14-116">Azure AD kimlik doğrulaması temelleri</span><span class="sxs-lookup"><span data-stu-id="29e14-116">Basics of Authentication in Azure AD</span></span>
<span data-ttu-id="29e14-117">Azure AD alanında kimlik doğrulaması temel kavramları hakkında bilginiz yoksa bu bölümü okuyun.</span><span class="sxs-lookup"><span data-stu-id="29e14-117">If you are unfamiliar with basic concepts of authentication in Azure AD, read this section.</span></span> <span data-ttu-id="29e14-118">Aksi takdirde, tooskip aşağı çok isteyebilirsiniz[uygulama türleri ve senaryolar](#application-types-and-scenarios).</span><span class="sxs-lookup"><span data-stu-id="29e14-118">Otherwise, you may want tooskip down too[Application Types and Scenarios](#application-types-and-scenarios).</span></span>

<span data-ttu-id="29e14-119">Şimdi kimlik olduğu gerekli hello en temel senaryo düşünün: bir kullanıcının bir web tarayıcısında tooauthenticate tooa web uygulaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-119">Let’s consider hello most basic scenario where identity is required: a user in a web browser needs tooauthenticate tooa web application.</span></span> <span data-ttu-id="29e14-120">Bu senaryo, daha ayrıntılı biçimde hello açıklanan [Web tarayıcısı tooWeb uygulama](#web-browser-to-web-application) bölüm, ancak kullanıcının yararlı hello Azure AD özelliklerini ve hello senaryoda nasıl çalıştığını conceptualize noktası tooillustrate başlatılıyor.</span><span class="sxs-lookup"><span data-stu-id="29e14-120">This scenario is described in greater detail in hello [Web Browser tooWeb Application](#web-browser-to-web-application) section, but it’s a useful starting point tooillustrate hello capabilities of Azure AD and conceptualize how hello scenario works.</span></span> <span data-ttu-id="29e14-121">Bu senaryo için diyagram aşağıdaki hello göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="29e14-121">Consider hello following diagram for this scenario:</span></span>

![Oturum açma tooweb uygulama genel bakış](./media/active-directory-authentication-scenarios/basics_of_auth_in_aad.png)

<span data-ttu-id="29e14-123">Merhaba Yukarıdaki diyagramda ile unutmayın, işte gerekenler tooknow çeşitli bileşenleri hakkında:</span><span class="sxs-lookup"><span data-stu-id="29e14-123">With hello diagram above in mind, here’s what you need tooknow about its various components:</span></span>

* <span data-ttu-id="29e14-124">Azure AD hello kimlik sağlayıcısı, kullanıcılar ve kuruluşun dizininde mevcut uygulamalar, hello kimliğini doğrulamak ve sonuçta bu kullanıcıların ve uygulamaların başarılı bir kimlik doğrulaması sırasında güvenlik belirteçleri verme sorumlu'dır.</span><span class="sxs-lookup"><span data-stu-id="29e14-124">Azure AD is hello identity provider, responsible for verifying hello identity of users and applications that exist in an organization’s directory, and ultimately issuing security tokens upon successful authentication of those users and applications.</span></span>
* <span data-ttu-id="29e14-125">Toooutsource kimlik doğrulaması tooAzure AD istediği bir uygulama kaydeder ve hello uygulama hello dizininde benzersiz olarak tanımlayan Azure AD'de kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-125">An application that wants toooutsource authentication tooAzure AD must be registered in Azure AD, which registers and uniquely identifies hello app in hello directory.</span></span>
* <span data-ttu-id="29e14-126">Geliştiriciler hello açık kaynaklı Azure AD kimlik doğrulama kitaplıkları toomake kimlik doğrulaması kolay hello Protokolü ayrıntıları işleyerek kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-126">Developers can use hello open source Azure AD authentication libraries toomake authentication easy by handling hello protocol details for you.</span></span> <span data-ttu-id="29e14-127">Bkz: [Azure Active Directory kimlik doğrulama kitaplıkları](active-directory-authentication-libraries.md) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="29e14-127">See [Azure Active Directory Authentication Libraries](active-directory-authentication-libraries.md) for more information.</span></span>

<span data-ttu-id="29e14-128">• Bir kullanıcı kimliği, Merhaba uygulaması hello kullanıcının güvenlik belirteci tooensure doğrulama gerekir hello taraflara hedeflenen için kimlik doğrulamanın başarılı oldu.</span><span class="sxs-lookup"><span data-stu-id="29e14-128">• Once a user has been authenticated, hello application must validate hello user’s security token tooensure that authentication was successful for hello intended parties.</span></span> <span data-ttu-id="29e14-129">Geliştiriciler hiçbir belirteci kimlik doğrulama kitaplıkları toohandle doğrulaması JSON Web belirteçleri (JWT) veya SAML 2.0 dahil olmak üzere Azure AD'den sağlanan hello kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-129">Developers can use hello provided authentication libraries toohandle validation of any token from Azure AD, including JSON Web Tokens (JWT) or SAML 2.0.</span></span> <span data-ttu-id="29e14-130">Merhaba tooperform doğrulama el ile istiyorsanız bkz [JWT belirteci işleyicisi](https://msdn.microsoft.com/library/dn205065.aspx) belgeleri.</span><span class="sxs-lookup"><span data-stu-id="29e14-130">If you want tooperform validation manually, see hello [JWT Token Handler](https://msdn.microsoft.com/library/dn205065.aspx) documentation.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="29e14-131">Azure AD, ortak anahtar şifrelemesini toosign belirteçleri kullanır ve geçerli olduğunu doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="29e14-131">Azure AD uses public key cryptography toosign tokens and verify that they are valid.</span></span> <span data-ttu-id="29e14-132">Bkz: [önemli bilgiler hakkında imzalama anahtarı Rollover Azure AD'de](active-directory-signing-key-rollover.md) hello gerekli mantığı hakkında daha fazla bilgi, uygulama tooensure olması gerekir, her zaman hello son anahtarlarla güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-132">See [Important Information About Signing Key Rollover in Azure AD](active-directory-signing-key-rollover.md) for more information on hello necessary logic you must have in your application tooensure it’s always updated with hello latest keys.</span></span>
> 
> 

<span data-ttu-id="29e14-133">• hello akış isteklerin ve yanıtların hello kimlik doğrulaması için OAuth 2.0 gibi Openıd Connect, kullanılan hello kimlik doğrulama protokolü tarafından belirlenir WS-Federasyon veya SAML 2.0.</span><span class="sxs-lookup"><span data-stu-id="29e14-133">• hello flow of requests and responses for hello authentication process is determined by hello authentication protocol that was used, such as OAuth 2.0, OpenID Connect, WS-Federation, or SAML 2.0.</span></span> <span data-ttu-id="29e14-134">Bu protokollerin hello daha ayrıntılı ele alınmıştır [Azure Active Directory kimlik doğrulama protokolleri](active-directory-authentication-protocols.md) konu ve aşağıdaki hello bölümler.</span><span class="sxs-lookup"><span data-stu-id="29e14-134">These protocols are discussed in more detail in hello [Azure Active Directory Authentication Protocols](active-directory-authentication-protocols.md) topic and in hello sections below.</span></span>

> [!NOTE]
> <span data-ttu-id="29e14-135">Azure AD hello OAuth 2.0 destekler ve kapsamlı olun Openıd Connect standartları taşıyıcı belirteçler, taşıyıcı belirteçlerini Jwt'ler temsil dahil olmak üzere kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-135">Azure AD supports hello OAuth 2.0 and OpenID Connect standards that make extensive use of bearer tokens, including bearer tokens represented as JWTs.</span></span> <span data-ttu-id="29e14-136">Bir basit güvenlik belirteci verir "bearer" erişim tooa hello korumalı kaynak bir taşıyıcı belirtecidir.</span><span class="sxs-lookup"><span data-stu-id="29e14-136">A bearer token is a lightweight security token that grants hello “bearer” access tooa protected resource.</span></span> <span data-ttu-id="29e14-137">Bu anlamda hello "bearer" Merhaba belirteci sunabilir herhangi bir tarafa ' dir.</span><span class="sxs-lookup"><span data-stu-id="29e14-137">In this sense, hello “bearer” is any party that can present hello token.</span></span> <span data-ttu-id="29e14-138">Merhaba adımları toosecure hello belirteçte iletim ve depolama katılmaz gerekirse bir taraf ilk Azure AD tooreceive hello taşıyıcı belirteci ile kimlik doğrulaması yapması gereken ancak ele ve istenmeyen bir şahıs tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="29e14-138">Though a party must first authenticate with Azure AD tooreceive hello bearer token, if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="29e14-139">Bazı güvenlik belirteçleri kullanarak gelen yetkisiz tarafların engellemek için yerleşik bir mekanizma olmakla birlikte, taşıyıcı belirteçlerini bu düzenek yoksa ve Aktarım Katmanı Güvenliği (HTTPS) gibi güvenli bir kanal taşınan gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-139">While some security tokens have a built-in mechanism for preventing unauthorized parties from using them, bearer tokens do not have this mechanism and must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="29e14-140">Bir taşıyıcı belirteci hello Temizle iletilirse, ADAM bileşenini hello Orta saldırı kötü amaçlı taraf tooacquire hello belirteci kullanılabilir ve yetkisiz erişim korumalı tooa kaynak için kullanın.</span><span class="sxs-lookup"><span data-stu-id="29e14-140">If a bearer token is transmitted in hello clear, a man-in hello middle attack can be used by a malicious party tooacquire hello token and use it for an unauthorized access tooa protected resource.</span></span> <span data-ttu-id="29e14-141">Merhaba aynı güvenlik ilkelerini depolamak veya taşıyıcı belirteçlerini daha sonra kullanmak için önbelleğe alma uygulayın.</span><span class="sxs-lookup"><span data-stu-id="29e14-141">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="29e14-142">Her zaman, uygulamanızın aktarır ve güvenli bir şekilde taşıyıcı belirteçleri depolar emin olun.</span><span class="sxs-lookup"><span data-stu-id="29e14-142">Always ensure that your application transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="29e14-143">Taşıyıcı belirteçlerini hakkında daha fazla güvenlik konuları için bkz: [RFC 6750 bölüm 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="29e14-143">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>
> 
> 

<span data-ttu-id="29e14-144">Merhaba temelleri toounderstand aşağıda hello bölümleri okuyun, genel bir bakış sahip olduğunuza göre nasıl sağlama Azure AD içinde çalışır ve hello yaygın senaryolar Azure AD destekler.</span><span class="sxs-lookup"><span data-stu-id="29e14-144">Now that you have an overview of hello basics, read hello sections below toounderstand how provisioning works in Azure AD and hello common scenarios Azure AD supports.</span></span>

## <a name="claims-in-azure-ad-security-tokens"></a><span data-ttu-id="29e14-145">Azure AD güvenlik belirteçleri talepleri</span><span class="sxs-lookup"><span data-stu-id="29e14-145">Claims in Azure AD Security Tokens</span></span>
<span data-ttu-id="29e14-146">Azure AD tarafından yayınlanan güvenlik belirteçleri talep veya onaylar doğrulandı hello konu hakkındaki bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="29e14-146">Security tokens issued by Azure AD contain claims, or assertions of information about hello subject that has been authenticated.</span></span> <span data-ttu-id="29e14-147">Bu talep için çeşitli görevleri hello uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-147">These claims can be used by hello application for various tasks.</span></span> <span data-ttu-id="29e14-148">Örneğin, bunlar kullanılan toovalidate hello belirteci, hello ilgilinin dizin Kiracı tanımlamak, kullanıcı bilgilerini görüntülemek, hello ilgilinin yetkilendirme belirlemek ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="29e14-148">For example, they can be used toovalidate hello token, identify hello subject's directory tenant, display user information, determine hello subject's authorization, and so on.</span></span> <span data-ttu-id="29e14-149">Merhaba talep herhangi belirli güvenlik belirtecinde belirtecin hello türü, hello türüne kullanılan kimlik bilgilerini tooauthenticate hello kullanıcı hello uygulama yapılandırması ve bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="29e14-149">hello claims present in any given security token are dependent upon hello type of token, hello type of credential used tooauthenticate hello user, and hello application configuration.</span></span> <span data-ttu-id="29e14-150">Her Azure AD tarafından gösterilen talep türünü kısa bir açıklamasını hello aşağıdaki tabloda sağlanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-150">A brief description of each type of claim emitted by Azure AD is provided in hello table below.</span></span> <span data-ttu-id="29e14-151">Daha fazla bilgi için çok başvurun[desteklenen belirteç ve talep türleri](active-directory-token-and-claims.md).</span><span class="sxs-lookup"><span data-stu-id="29e14-151">For more information, refer too[Supported Token and Claim Types](active-directory-token-and-claims.md).</span></span>

| <span data-ttu-id="29e14-152">İste</span><span class="sxs-lookup"><span data-stu-id="29e14-152">Claim</span></span> | <span data-ttu-id="29e14-153">Açıklama</span><span class="sxs-lookup"><span data-stu-id="29e14-153">Description</span></span> |
| --- | --- |
| <span data-ttu-id="29e14-154">Uygulama Kimliği</span><span class="sxs-lookup"><span data-stu-id="29e14-154">Application ID</span></span> |<span data-ttu-id="29e14-155">Merhaba belirteci kullanarak hello uygulamayı tanımlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-155">Identifies hello application that is using hello token.</span></span> |
| <span data-ttu-id="29e14-156">Hedef kitle</span><span class="sxs-lookup"><span data-stu-id="29e14-156">Audience</span></span> |<span data-ttu-id="29e14-157">Merhaba alıcı kaynağı tanımlayan hello belirteci için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="29e14-157">Identifies hello recipient resource hello token is intended for.</span></span> |
| <span data-ttu-id="29e14-158">Uygulama kimlik doğrulama bağlamı sınıf başvurusu</span><span class="sxs-lookup"><span data-stu-id="29e14-158">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="29e14-159">Nasıl hello istemci kimliği doğrulanmış (ortak istemci gizli istemci karşılaştırması) gösterir.</span><span class="sxs-lookup"><span data-stu-id="29e14-159">Indicates how hello client was authenticated (public client vs. confidential client).</span></span> |
| <span data-ttu-id="29e14-160">Anlık kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="29e14-160">Authentication Instant</span></span> |<span data-ttu-id="29e14-161">Kayıtları tarih ve saat hello kimlik doğrulaması gerçekleştiği hello.</span><span class="sxs-lookup"><span data-stu-id="29e14-161">Records hello date and time when hello authentication occurred.</span></span> |
| <span data-ttu-id="29e14-162">Kimlik Doğrulama Yöntemi</span><span class="sxs-lookup"><span data-stu-id="29e14-162">Authentication Method</span></span> |<span data-ttu-id="29e14-163">Merhaba konu hello belirtecinin nasıl doğrulandı gösterir (parola, sertifika, vb.).</span><span class="sxs-lookup"><span data-stu-id="29e14-163">Indicates how hello subject of hello token was authenticated (password, certificate, etc.).</span></span> |
| <span data-ttu-id="29e14-164">Ad</span><span class="sxs-lookup"><span data-stu-id="29e14-164">First Name</span></span> |<span data-ttu-id="29e14-165">Merhaba verilen adı hello kullanıcı kümesi olarak Azure AD içinde sağlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-165">Provides hello given name of hello user as set in Azure AD.</span></span> |
| <span data-ttu-id="29e14-166">Gruplar</span><span class="sxs-lookup"><span data-stu-id="29e14-166">Groups</span></span> |<span data-ttu-id="29e14-167">Merhaba kullanıcının üyesi olduğu nesne kimlikleri Azure AD grupları içerir.</span><span class="sxs-lookup"><span data-stu-id="29e14-167">Contains object Ids of Azure AD groups hello user is a member of.</span></span> |
| <span data-ttu-id="29e14-168">Kimlik Sağlayıcısı</span><span class="sxs-lookup"><span data-stu-id="29e14-168">Identity Provider</span></span> |<span data-ttu-id="29e14-169">Merhaba belirtecinin hello konu kimliği doğrulanmış hello kimlik sağlayıcısı kaydeder.</span><span class="sxs-lookup"><span data-stu-id="29e14-169">Records hello identity provider that authenticated hello subject of hello token.</span></span> |
| <span data-ttu-id="29e14-170">Çıkışı</span><span class="sxs-lookup"><span data-stu-id="29e14-170">Issued At</span></span> |<span data-ttu-id="29e14-171">Kayıtları hello zamanı sırasında hangi hello belirteci, belirteç yenilik için sık kullanılan verilmiş.</span><span class="sxs-lookup"><span data-stu-id="29e14-171">Records hello time at which hello token was issued, often used for token freshness.</span></span> |
| <span data-ttu-id="29e14-172">Veren</span><span class="sxs-lookup"><span data-stu-id="29e14-172">Issuer</span></span> |<span data-ttu-id="29e14-173">Hello Azure AD kiracısı yanı sıra hello belirteci yayılan hello STS tanımlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-173">Identifies hello STS that emitted hello token as well as hello Azure AD tenant.</span></span> |
| <span data-ttu-id="29e14-174">Soyadı</span><span class="sxs-lookup"><span data-stu-id="29e14-174">Last Name</span></span> |<span data-ttu-id="29e14-175">Merhaba kullanıcı Hello Soyadı kümesi olarak Azure AD içinde sağlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-175">Provides hello surname of hello user as set in Azure AD.</span></span> |
| <span data-ttu-id="29e14-176">Ad</span><span class="sxs-lookup"><span data-stu-id="29e14-176">Name</span></span> |<span data-ttu-id="29e14-177">Merhaba konu hello belirtecinin tanımlayan bir insan okunabilir değer sağlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-177">Provides a human readable value that identifies hello subject of hello token.</span></span> |
| <span data-ttu-id="29e14-178">Nesne Kimliği</span><span class="sxs-lookup"><span data-stu-id="29e14-178">Object Id</span></span> |<span data-ttu-id="29e14-179">Merhaba konunun değişmez, benzersiz tanıtıcısı Azure AD'de içerir.</span><span class="sxs-lookup"><span data-stu-id="29e14-179">Contains an immutable, unique identifier of hello subject in Azure AD.</span></span> |
| <span data-ttu-id="29e14-180">Roller</span><span class="sxs-lookup"><span data-stu-id="29e14-180">Roles</span></span> |<span data-ttu-id="29e14-181">Kolay adlarını içeren Azure AD uygulama rolleri hello kullanıcı verildi.</span><span class="sxs-lookup"><span data-stu-id="29e14-181">Contains friendly names of Azure AD Application Roles that hello user has been granted.</span></span> |
| <span data-ttu-id="29e14-182">Kapsam</span><span class="sxs-lookup"><span data-stu-id="29e14-182">Scope</span></span> |<span data-ttu-id="29e14-183">Merhaba izinleri verilen toohello istemci uygulaması gösterir.</span><span class="sxs-lookup"><span data-stu-id="29e14-183">Indicates hello permissions granted toohello client application.</span></span> |
| <span data-ttu-id="29e14-184">Konu</span><span class="sxs-lookup"><span data-stu-id="29e14-184">Subject</span></span> |<span data-ttu-id="29e14-185">Hangi hello hakkında bilgi belirteci onaylar hello asıl gösterir.</span><span class="sxs-lookup"><span data-stu-id="29e14-185">Indicates hello principal about which hello token asserts information.</span></span> |
| <span data-ttu-id="29e14-186">Kiracı kimliği</span><span class="sxs-lookup"><span data-stu-id="29e14-186">Tenant Id</span></span> |<span data-ttu-id="29e14-187">Değişmez, benzersiz bir tanımlayıcı hello belirteç hello dizin Kiracı içerir.</span><span class="sxs-lookup"><span data-stu-id="29e14-187">Contains an immutable, unique identifier of hello directory tenant that issued hello token.</span></span> |
| <span data-ttu-id="29e14-188">Belirteç ömrü</span><span class="sxs-lookup"><span data-stu-id="29e14-188">Token Lifetime</span></span> |<span data-ttu-id="29e14-189">Bir belirtecin geçerli olduğu hello zaman aralığı tanımlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-189">Defines hello time interval within which a token is valid.</span></span> |
| <span data-ttu-id="29e14-190">Kullanıcı asıl adı</span><span class="sxs-lookup"><span data-stu-id="29e14-190">User Principal Name</span></span> |<span data-ttu-id="29e14-191">Merhaba kullanıcı asıl adı hello konu içeriyor.</span><span class="sxs-lookup"><span data-stu-id="29e14-191">Contains hello user principal name of hello subject.</span></span> |
| <span data-ttu-id="29e14-192">Sürüm</span><span class="sxs-lookup"><span data-stu-id="29e14-192">Version</span></span> |<span data-ttu-id="29e14-193">Merhaba belirteci Hello sürüm numarasını içerir.</span><span class="sxs-lookup"><span data-stu-id="29e14-193">Contains hello version number of hello token.</span></span> |

## <a name="basics-of-registering-an-application-in-azure-ad"></a><span data-ttu-id="29e14-194">Azure AD'de uygulama kaydetme temelleri</span><span class="sxs-lookup"><span data-stu-id="29e14-194">Basics of Registering an Application in Azure AD</span></span>
<span data-ttu-id="29e14-195">AD bir dizinde kaydedilmelidir kimlik doğrulama tooAzure outsources herhangi bir uygulama.</span><span class="sxs-lookup"><span data-stu-id="29e14-195">Any application that outsources authentication tooAzure AD must be registered in a directory.</span></span> <span data-ttu-id="29e14-196">Bu adımı uygulamanız hakkında olduğu hello URL'si de dahil olmak üzere Azure AD söyleyen içerir bulunan, hello URL toosend kimlik doğrulamasından sonra hello URI tooidentify uygulamanız ve daha fazlasını yanıtlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-196">This step involves telling Azure AD about your application, including hello URL where it’s located, hello URL toosend replies after authentication, hello URI tooidentify your application, and more.</span></span> <span data-ttu-id="29e14-197">Bu bilgiler birkaç anahtar nedenlerle gereklidir:</span><span class="sxs-lookup"><span data-stu-id="29e14-197">This information is required for a few key reasons:</span></span>

* <span data-ttu-id="29e14-198">Azure AD oturum açma veya değiş tokuşu belirteçleri işlerken hello uygulamayla koordinatları toocommunicate gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-198">Azure AD needs coordinates toocommunicate with hello application when handling sign-on or exchanging tokens.</span></span> <span data-ttu-id="29e14-199">Bunlar hello şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="29e14-199">These include hello following:</span></span>
  
  * <span data-ttu-id="29e14-200">Uygulama Kimliği URI: bir uygulama hello tanımlayıcı.</span><span class="sxs-lookup"><span data-stu-id="29e14-200">Application ID URI: hello identifier for an application.</span></span> <span data-ttu-id="29e14-201">Bu değer için bir belirteç hangi uygulama hello çağıran istediği kimlik doğrulama tooindicate sırasında AD tooAzure gönderilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-201">This value is sent tooAzure AD during authentication tooindicate which application hello caller wants a token for.</span></span> <span data-ttu-id="29e14-202">Ayrıca, böylece hello hedef hedeflenen edildi Merhaba uygulaması bilir bu değer hello belirteçte dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-202">Additionally, this value is included in hello token so that hello application knows it was hello intended target.</span></span>
  * <span data-ttu-id="29e14-203">URL ve yeniden yönlendirme URI'sini Yanıtla: bir web API ya da web uygulaması hello durumda hello yanıt URL'si hello konumu toowhich Azure AD kimlik doğrulama başarılı olursa bir belirteçle birlikte hello kimlik doğrulaması yanıtını gönderecek olan.</span><span class="sxs-lookup"><span data-stu-id="29e14-203">Reply URL and Redirect URI: In hello case of a web API or web application, hello Reply URL is hello location toowhich Azure AD will send hello authentication response, including a token if authentication was successful.</span></span> <span data-ttu-id="29e14-204">Yerel bir uygulamaya Hello durumda hello yeniden yönlendirme URI'si benzersiz tanımlayıcı toowhich Azure AD hello Kullanıcı aracısını bir OAuth 2.0 isteğindeki yönlendirir ' dir.</span><span class="sxs-lookup"><span data-stu-id="29e14-204">In hello case of a native application, hello Redirect URI is a unique identifier toowhich Azure AD will redirect hello user-agent in an OAuth 2.0 request.</span></span>
  * <span data-ttu-id="29e14-205">Uygulama Kimliği: Merhaba uygulaması kaydettirildiğini Azure AD tarafından oluşturulan bir uygulama için kimliği hello.</span><span class="sxs-lookup"><span data-stu-id="29e14-205">Application ID: hello ID for an application, which is generated by Azure AD when hello application is registered.</span></span> <span data-ttu-id="29e14-206">Bir yetkilendirme kodu veya belirteç isterken hello uygulama kimliği ve anahtarı kimlik doğrulaması sırasında AD tooAzure gönderilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-206">When requesting an authorization code or token, hello Application ID and key are sent tooAzure AD during authentication.</span></span>
  * <span data-ttu-id="29e14-207">Anahtar: tooAzure AD toocall bir web API doğrulanırken bir uygulama kimliği ile birlikte gönderilen hello anahtarı.</span><span class="sxs-lookup"><span data-stu-id="29e14-207">Key: hello key that is sent along with a Application ID when authenticating tooAzure AD toocall a web API.</span></span>
* <span data-ttu-id="29e14-208">Azure AD gereksinimlerini tooensure hello uygulaması gerekli izinleri tooaccess dizin verileri, diğer uygulamalar, kuruluşunuzda hello vb.</span><span class="sxs-lookup"><span data-stu-id="29e14-208">Azure AD needs tooensure hello application has hello required permissions tooaccess your directory data, other applications in your organization, and so on</span></span>

<span data-ttu-id="29e14-209">Geliştirilmiş ve Azure AD ile tümleşik uygulamalar iki kategorisi vardır anladığınızda sağlama daha anlaşılır olur:</span><span class="sxs-lookup"><span data-stu-id="29e14-209">Provisioning becomes clearer when you understand that there are two categories of applications that can be developed and integrated with Azure AD:</span></span>

* <span data-ttu-id="29e14-210">Tek kiracılı uygulama: tek bir kiracı uygulama kullanan bir kuruluştaki yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="29e14-210">Single tenant application: A single tenant application is intended for use in one organization.</span></span> <span data-ttu-id="29e14-211">Bir kurumsal geliştirici tarafından yazılan genellikle satır iş kolu (LoB) uygulamaları şunlardır.</span><span class="sxs-lookup"><span data-stu-id="29e14-211">These are typically line-of-business (LoB) applications written by an enterprise developer.</span></span> <span data-ttu-id="29e14-212">Tek kiracılı uygulama, yalnızca bir dizindeki kullanıcı tarafından erişilen toobe gerekir ve bunun sonucunda, yalnızca bir dizinde sağlanan toobe gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-212">A single tenant application only needs toobe accessed by users in one directory, and as a result, it only needs toobe provisioned in one directory.</span></span> <span data-ttu-id="29e14-213">Bu uygulamalar genellikle hello kuruluşunuzdaki bir geliştirici tarafından kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-213">These applications are typically registered by a developer in hello organization.</span></span>
* <span data-ttu-id="29e14-214">Çok kiracılı uygulama: çok kiracılı uygulama birçok kuruluşta kullanılmak üzere tasarlanmamıştır yalnızca bir kuruluş.</span><span class="sxs-lookup"><span data-stu-id="29e14-214">Multi-tenant application: A multi-tenant application is intended for use in many organizations, not just one organization.</span></span> <span data-ttu-id="29e14-215">Bunlar genellikle yazılım olarak-hizmet (SaaS) uygulamaları bir bağımsız yazılım satıcısı (ISV) tarafından yazılmış olan.</span><span class="sxs-lookup"><span data-stu-id="29e14-215">These are typically software-as-a-service (SaaS) applications written by an independent software vendor (ISV).</span></span> <span data-ttu-id="29e14-216">Çok kiracılı uygulamalara gereksinim kullanıcı veya yönetici onayı tooregister gerektiren burada kullanılacakları, her dizin için sağlanan toobe bunları.</span><span class="sxs-lookup"><span data-stu-id="29e14-216">Multi-tenant applications need toobe provisioned in each directory where they will be used, which requires user or administrator consent tooregister them.</span></span> <span data-ttu-id="29e14-217">Bir uygulama hello dizinde kayıtlı ve verilen erişim toohello grafik API'sini veya belki başka bir web API bu onay işlemi başlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-217">This consent process starts when an application has been registered in hello directory and is given access toohello Graph API or perhaps another web API.</span></span> <span data-ttu-id="29e14-218">Bir kullanıcı veya farklı bir kuruluşta yöneticisinden toouse hello uygulamayı oluşturan oturum açtığında, bunlar hello uygulama gerektirir hello izinleri görüntüleyen bir iletişim kutusu sunulur.</span><span class="sxs-lookup"><span data-stu-id="29e14-218">When a user or administrator from a different organization signs up toouse hello application, they are presented with a dialog that displays hello permissions hello application requires.</span></span> <span data-ttu-id="29e14-219">Merhaba kullanıcı veya yönetici veri hello uygulama erişim toohello verir onayı toohello uygulamasını belirtildiği ve son olarak, dizinlerini uygulamada yazmaçlar hello sonra'nı kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-219">hello user or administrator can then consent toohello application, which gives hello application access toohello stated data, and finally registers hello application in their directory.</span></span> <span data-ttu-id="29e14-220">Daha fazla bilgi için bkz: [hello onayı Framework genel bakış](active-directory-integrating-applications.md#overview-of-the-consent-framework).</span><span class="sxs-lookup"><span data-stu-id="29e14-220">For more information, see [Overview of hello Consent Framework](active-directory-integrating-applications.md#overview-of-the-consent-framework).</span></span>

<span data-ttu-id="29e14-221">Bazı hususlar, çok kiracılı uygulama yerine tek bir kiracı Uygulama geliştirirken kaynaklanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-221">Some additional considerations arise when developing a multi-tenant application instead of a single tenant application.</span></span> <span data-ttu-id="29e14-222">Örneğin, birden fazla dizinde, uygulama kullanılabilir toousers yapıyorsanız, bir mekanizma toodetermine gerekir, Kiracı oldukları içinde.</span><span class="sxs-lookup"><span data-stu-id="29e14-222">For example, if you are making your application available toousers in multiple directories, you need a mechanism toodetermine which tenant they’re in.</span></span> <span data-ttu-id="29e14-223">Çok kiracılı uygulama tooidentify belirli bir kullanıcının tüm hello dizinlerinden Azure AD'de gereken sırada tek kiracılı uygulama toolook kendi dizininde bir kullanıcı için yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="29e14-223">A single tenant application only needs toolook in its own directory for a user, while a multi-tenant application needs tooidentify a specific user from all hello directories in Azure AD.</span></span> <span data-ttu-id="29e14-224">tooaccomplish bu görev Azure AD burada herhangi bir çok kiracılı uygulama yönlendirebilir oturum açma istekleri, bir kiracı özel uç noktası yerine ortak bir kimlik doğrulama uç noktası sağlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-224">tooaccomplish this task, Azure AD provides a common authentication endpoint where any multi-tenant application can direct sign-in requests, instead of a tenant-specific endpoint.</span></span> <span data-ttu-id="29e14-225">Bir kiracı özel uç noktası https://login.microsoftonline.com/contoso.onmicrosoft.com olabilir ancak bu bitiş https://login.microsoftonline.com/common tüm dizinler için Azure AD'de noktasıdır. Merhaba ortak uç nokta özellikle önemli tooconsider hello gerekli mantığı toohandle oturum açma, oturum kapatma ve belirteç doğrulama sırasında birden çok kiracıya gerekir çünkü Uygulamanızı geliştirirken var.</span><span class="sxs-lookup"><span data-stu-id="29e14-225">This endpoint is https://login.microsoftonline.com/common for all directories in Azure AD, whereas a tenant-specific endpoint might be https://login.microsoftonline.com/contoso.onmicrosoft.com. hello common endpoint is especially important tooconsider when developing your application because you’ll need hello necessary logic toohandle multiple tenants during sign-in, sign-out, and token validation.</span></span>

<span data-ttu-id="29e14-226">Şu anda bir tek kiracılı uygulama geliştirme ancak toomake istediğiniz, kullanılabilir toomany kuruluşlar kolayca yapabilirsiniz değişiklikleri toohello uygulama ve yapılandırmasıyla Azure AD toomake, çok kiracılı özelliğine sahip.</span><span class="sxs-lookup"><span data-stu-id="29e14-226">If you are currently developing a single tenant application but want toomake it available toomany organizations, you can easily make changes toohello application and its configuration in Azure AD toomake it multi-tenant capable.</span></span> <span data-ttu-id="29e14-227">Ayrıca, Azure AD hello kullanır. aynı imzalama anahtarı tüm dizinlerde tüm belirteçleri, mı yoksa, sağlayan tek bir kiracı ya da çok kiracılı uygulama kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="29e14-227">In addition, Azure AD uses hello same signing key for all tokens in all directories, whether you are providing authentication in a single tenant or multi-tenant application.</span></span>

<span data-ttu-id="29e14-228">Bu belgede listelenen her bir senaryo, sağlama gereksinimleri açıklanır alt bir bölüm içerir.</span><span class="sxs-lookup"><span data-stu-id="29e14-228">Each scenario listed in this document includes a sub-section that describes its provisioning requirements.</span></span> <span data-ttu-id="29e14-229">Azure AD'de bir uygulama sağlama hakkında daha ayrıntılı bilgi için ve hello tek ve çoklu kiracı uygulamaları arasındaki farklar, bkz: [Azure Active Directory Tümleştirme uygulamalarla](active-directory-integrating-applications.md) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="29e14-229">For more in-depth information about provisioning an application in Azure AD and hello differences between single and multi-tenant applications, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md) for more information.</span></span> <span data-ttu-id="29e14-230">Azure AD'de hello ortak uygulama senaryoları toounderstand okuma devam edin.</span><span class="sxs-lookup"><span data-stu-id="29e14-230">Continue reading toounderstand hello common application scenarios in Azure AD.</span></span>

## <a name="application-types-and-scenarios"></a><span data-ttu-id="29e14-231">Uygulama türleri ve senaryolar</span><span class="sxs-lookup"><span data-stu-id="29e14-231">Application Types and Scenarios</span></span>
<span data-ttu-id="29e14-232">Bu belgede açıklanan hello senaryoların her biri, çeşitli diller ve platformlar kullanılarak geliştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-232">Each of hello scenarios described in this document can be developed using various languages and platforms.</span></span> <span data-ttu-id="29e14-233">Bunlar tüm kullanılabilir tam kod örnekleri tarafından yedeklenen bizim [kod örnekleri Kılavuzu](active-directory-code-samples.md), veya doğrudan hello karşılık gelen [GitHub örnek depoları](https://github.com/Azure-Samples?utf8=%E2%9C%93&query=active-directory).</span><span class="sxs-lookup"><span data-stu-id="29e14-233">They are all backed by complete code samples which are available in our [Code Samples guide](active-directory-code-samples.md), or directly from hello corresponding [GitHub sample repositories](https://github.com/Azure-Samples?utf8=%E2%9C%93&query=active-directory).</span></span> <span data-ttu-id="29e14-234">Uygulamanızı özgül ya da bir uçtan uca senaryoyu parçası gerekirse, ayrıca, çoğu durumda bu işlev bağımsız olarak eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-234">In addition, if your application needs a specific piece or segment of an end-to-end scenario, in most cases that functionality can be added independently.</span></span> <span data-ttu-id="29e14-235">Örneğin, bir web API'si çağıran yerel bir uygulamanız varsa, ayrıca hello web API'si çağıran bir web uygulaması kolayca ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-235">For example, if you have a native application that calls a web API, you can easily add a web application that also calls hello web API.</span></span> <span data-ttu-id="29e14-236">Merhaba Aşağıdaki diyagram bu senaryoları ve uygulama türleri gösterir ve farklı bileşenler eklenebilir nasıl:</span><span class="sxs-lookup"><span data-stu-id="29e14-236">hello following diagram illustrates these scenarios and application types, and how different components can be added:</span></span>

![Uygulama türleri ve senaryolar](./media/active-directory-authentication-scenarios/application_types_and_scenarios.png)

<span data-ttu-id="29e14-238">Azure AD tarafından desteklenen hello beş birincil uygulama senaryoları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="29e14-238">These are hello five primary application scenarios supported by Azure AD:</span></span>

* <span data-ttu-id="29e14-239">[Web tarayıcısı tooWeb uygulama](#web-browser-to-web-application): bir kullanıcının Azure AD tarafından güvenli hale getirilen tooa web uygulamasında toosign gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-239">[Web Browser tooWeb Application](#web-browser-to-web-application): A user needs toosign in tooa web application that is secured by Azure AD.</span></span>
* <span data-ttu-id="29e14-240">[Tek sayfa uygulama (SPA)](#single-page-application-spa): bir kullanıcının Azure AD tarafından güvenli hale getirilen tooa tek sayfa uygulamada toosign gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-240">[Single Page Application (SPA)](#single-page-application-spa): A user needs toosign in tooa single page application that is secured by Azure AD.</span></span>
* <span data-ttu-id="29e14-241">[Yerel uygulama tooWeb API](#native-application-to-web-api): Azure AD tarafından güvenli hale getirilen telefon, tablet veya PC gereksinimlerini tooauthenticate kullanıcı tooget kaynakları bir web API çalışan bir yerel uygulaması.</span><span class="sxs-lookup"><span data-stu-id="29e14-241">[Native Application tooWeb API](#native-application-to-web-api): A native application that runs on a phone, tablet, or PC needs tooauthenticate a user tooget resources from a web API that is secured by Azure AD.</span></span>
* <span data-ttu-id="29e14-242">[Web uygulama tooWeb API](#web-application-to-web-api): tooget kaynaklardan bir web API'sini Azure AD tarafından güvenliği sağlanan bir web uygulaması gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="29e14-242">[Web Application tooWeb API](#web-application-to-web-api): A web application needs tooget resources from a web API secured by Azure AD.</span></span>
* <span data-ttu-id="29e14-243">[Arka plan programı veya sunucu uygulaması tooWeb API](#daemon-or-server-application-to-web-api): arka plan programı uygulamanın veya bir sunucu uygulaması web kullanıcı arabirimi ile bir web API'sini Azure AD tarafından güvenli hale getirilmiş tooget kaynaklardan gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="29e14-243">[Daemon or Server Application tooWeb API](#daemon-or-server-application-to-web-api): A daemon application or a server application with no web user interface needs tooget resources from a web API secured by Azure AD.</span></span>

### <a name="web-browser-tooweb-application"></a><span data-ttu-id="29e14-244">Web tarayıcısı tooWeb uygulama</span><span class="sxs-lookup"><span data-stu-id="29e14-244">Web Browser tooWeb Application</span></span>
<span data-ttu-id="29e14-245">Bu bölümde bir web tarayıcısı tooa web uygulamasında bir kullanıcının kimliğini doğrulayan bir uygulama açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="29e14-245">This section describes an application that authenticates a user in a web browser tooa web application.</span></span> <span data-ttu-id="29e14-246">Bu senaryoda, Merhaba web uygulaması hello kullanıcının tarayıcı toosign yönlendirir tooAzure AD bunları.</span><span class="sxs-lookup"><span data-stu-id="29e14-246">In this scenario, hello web application directs hello user’s browser toosign them in tooAzure AD.</span></span> <span data-ttu-id="29e14-247">Azure AD bir güvenlik belirteci hello kullanıcı hakkında talepleri içeren hello kullanıcının tarayıcısından oturum açma yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="29e14-247">Azure AD returns a sign-in response through hello user’s browser, which contains claims about hello user in a security token.</span></span> <span data-ttu-id="29e14-248">Oturum açma bu senaryoyu destekler hello WS-Federation, SAML 2.0 ve Openıd Connect protokolleri kullanarak.</span><span class="sxs-lookup"><span data-stu-id="29e14-248">This scenario supports sign-on using hello WS-Federation, SAML 2.0, and OpenID Connect protocols.</span></span>

#### <a name="diagram"></a><span data-ttu-id="29e14-249">Diyagram</span><span class="sxs-lookup"><span data-stu-id="29e14-249">Diagram</span></span>
![Tarayıcı tooweb uygulaması için kimlik doğrulama akışı](./media/active-directory-authentication-scenarios/web_browser_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="29e14-251">Protokol akışı açıklaması</span><span class="sxs-lookup"><span data-stu-id="29e14-251">Description of Protocol Flow</span></span>
1. <span data-ttu-id="29e14-252">Bir kullanıcı olarak toosign hello uygulama ziyaretleri ve gerektiğinde cihazın Azure AD'de oturum açma isteği toohello kimlik doğrulama uç noktası aracılığıyla yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-252">When a user visits hello application and needs toosign in, they are redirected via a sign-in request toohello authentication endpoint in Azure AD.</span></span>
2. <span data-ttu-id="29e14-253">Merhaba hello oturum açma sayfasında oturum açtığında.</span><span class="sxs-lookup"><span data-stu-id="29e14-253">hello user signs in on hello sign-in page.</span></span>
3. <span data-ttu-id="29e14-254">Kimlik doğrulaması başarılı olursa, Azure AD kimlik doğrulama belirteci oluşturur ve hello Azure Portal yapılandırılan bir oturum açma yanıt toohello uygulamanın yanıt URL'si döndürür.</span><span class="sxs-lookup"><span data-stu-id="29e14-254">If authentication is successful, Azure AD creates an authentication token and returns a sign-in response toohello application’s Reply URL that was configured in hello Azure Portal.</span></span> <span data-ttu-id="29e14-255">Bir üretim uygulaması için HTTPS bu yanıt URL'si olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="29e14-255">For a production application, this Reply URL should be HTTPS.</span></span> <span data-ttu-id="29e14-256">belirteç döndürdü hello hello kullanıcı ve Azure AD hello uygulama toovalidate hello belirteci tarafından gerekli olan talepleri içerir.</span><span class="sxs-lookup"><span data-stu-id="29e14-256">hello returned token includes claims about hello user and Azure AD that are required by hello application toovalidate hello token.</span></span>
4. <span data-ttu-id="29e14-257">Merhaba uygulaması, bir ortak imzalama anahtarı ve sertifikayı verenin bilgileri kullanılabilir hello Federasyon meta veri belgesi için Azure AD kullanarak hello belirteci doğrular.</span><span class="sxs-lookup"><span data-stu-id="29e14-257">hello application validates hello token by using a public signing key and issuer information available at hello federation metadata document for Azure AD.</span></span> <span data-ttu-id="29e14-258">Merhaba uygulaması hello belirteci doğrular sonra Azure AD ile Merhaba kullanıcı yeni bir oturum başlatır.</span><span class="sxs-lookup"><span data-stu-id="29e14-258">After hello application validates hello token, Azure AD starts a new session with hello user.</span></span> <span data-ttu-id="29e14-259">Bu oturumda, sona erene kadar hello kullanıcı tooaccess Merhaba uygulaması sağlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-259">This session allows hello user tooaccess hello application until it expires.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="29e14-260">Kod Örnekleri</span><span class="sxs-lookup"><span data-stu-id="29e14-260">Code Samples</span></span>
<span data-ttu-id="29e14-261">Merhaba kod örnekleri Web tarayıcısı tooWeb uygulama senaryoları için bkz.</span><span class="sxs-lookup"><span data-stu-id="29e14-261">See hello code samples for Web Browser tooWeb Application scenarios.</span></span> <span data-ttu-id="29e14-262">Ve daha sonra yeniden sık--hello zaman yeni örnekler eklediğimiz denetleyin.</span><span class="sxs-lookup"><span data-stu-id="29e14-262">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="29e14-263">[Web tarayıcısı tooWeb uygulama](active-directory-code-samples.md#web-browser-to-web-application).</span><span class="sxs-lookup"><span data-stu-id="29e14-263">[Web Browser tooWeb Application](active-directory-code-samples.md#web-browser-to-web-application).</span></span>

#### <a name="registering"></a><span data-ttu-id="29e14-264">Kaydetme</span><span class="sxs-lookup"><span data-stu-id="29e14-264">Registering</span></span>
* <span data-ttu-id="29e14-265">Tek bir kiracı: yalnızca kuruluşunuz için bir uygulama geliştiriyorsanız, şirketinizin dizininde hello Azure Portal kullanarak kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-265">Single Tenant: If you are building an application just for your organization, it must be registered in your company’s directory by using hello Azure Portal.</span></span>
* <span data-ttu-id="29e14-266">Çok Kiracılı: kuruluşunuzun dışındaki kullanıcılar tarafından kullanılan bir uygulama geliştiriyorsanız, şirketinizin dizinde kayıtlı olması gerekir, ancak aynı zamanda Merhaba uygulaması kullanarak her kuruluşun dizinde kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-266">Multi-Tenant: If you are building an application that can be used by users outside your organization, it must be registered in your company’s directory, but also must be registered in each organization’s directory that will be using hello application.</span></span> <span data-ttu-id="29e14-267">toomake uygulamanız kendi dizininde bulunan, tooconsent tooyour uygulama sağlar, müşterileriniz için kaydolma işlemine dahil edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-267">toomake your application available in their directory, you can include a sign-up process for your customers that enables them tooconsent tooyour application.</span></span> <span data-ttu-id="29e14-268">Bunlar, uygulamanız için kaydolduğunuzda, hello izinleri Merhaba uygulaması gerektirir ve seçeneği tooconsent hello gösteren bir iletişim kutusu sunulur.</span><span class="sxs-lookup"><span data-stu-id="29e14-268">When they sign up for your application, they will be presented with a dialog that shows hello permissions hello application requires, and then hello option tooconsent.</span></span> <span data-ttu-id="29e14-269">Merhaba gerekli izinler, yönetici hello olarak bağlı olarak diğer kuruluşun olabilir toogive izni gereklidir.</span><span class="sxs-lookup"><span data-stu-id="29e14-269">Depending on hello required permissions, an administrator in hello other organization may be required toogive consent.</span></span> <span data-ttu-id="29e14-270">Merhaba kullanıcı veya yönetici izin, Merhaba uygulaması kendi Directory'ye kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-270">When hello user or administrator consents, hello application is registered in their directory.</span></span> <span data-ttu-id="29e14-271">Daha fazla bilgi için bkz: [Azure Active Directory Tümleştirme uygulamalarla](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="29e14-271">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="29e14-272">Belirteç süre sonu</span><span class="sxs-lookup"><span data-stu-id="29e14-272">Token Expiration</span></span>
<span data-ttu-id="29e14-273">Azure AD tarafından hello belirteç Hello süresi dolduğunda hello kullanıcının oturum sona erer.</span><span class="sxs-lookup"><span data-stu-id="29e14-273">hello user’s session expires when hello lifetime of hello token issued by Azure AD expires.</span></span> <span data-ttu-id="29e14-274">Uygulamanızı bir süre işlem yapılmadığında üzerinde temel alarak kullanıcılara imzalama gibi isterseniz, bu süre içinde kısaltabilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-274">Your application can shorten this time period if desired, such as signing out users based on a period of inactivity.</span></span> <span data-ttu-id="29e14-275">Merhaba oturumu sona erdiğinde hello kullanıcı, istendiğinde toosign yeniden olur.</span><span class="sxs-lookup"><span data-stu-id="29e14-275">When hello session expires, hello user will be prompted toosign in again.</span></span>

### <a name="single-page-application-spa"></a><span data-ttu-id="29e14-276">Tek sayfalı uygulama (SPA)</span><span class="sxs-lookup"><span data-stu-id="29e14-276">Single Page Application (SPA)</span></span>
<span data-ttu-id="29e14-277">Uygulaması için kimlik doğrulaması bir tek sayfa, Azure AD kullanır, bu bölümde açıklanmıştır ve hello OAuth 2.0 örtük yetki web API'si geri sona toosecure.</span><span class="sxs-lookup"><span data-stu-id="29e14-277">This section describes authentication for a Single Page Application, that uses Azure AD and hello OAuth 2.0 implicit authorization grant toosecure its web API back end.</span></span> <span data-ttu-id="29e14-278">Tek sayfalık uygulamalar genellikle hello tarayıcı ve sunucu üzerinde çalışan bir Web API arka uç çalıştıran bir JavaScript sunu katmanı (ön uç) olarak yapılandırılmıştır ve uygulamanın iş mantığını uygular hello.</span><span class="sxs-lookup"><span data-stu-id="29e14-278">Single Page Applications are typically structured as a JavaScript presentation layer (front end) that runs in hello browser and a Web API back end that runs on a server and implements hello application’s business logic.</span></span> <span data-ttu-id="29e14-279">Merhaba örtük yetkilendirme verme ve karar Uygulama senaryonuz için uygun olup olmadığını Yardım hakkında daha fazla toolearn bkz [anlama hello OAuth2 örtük izin akışı Azure Active Directory'de](active-directory-dev-understanding-oauth2-implicit-grant.md).</span><span class="sxs-lookup"><span data-stu-id="29e14-279">toolearn more about hello implicit authorization grant, and help you decide whether it's right for your application scenario, see [Understanding hello OAuth2 implicit grant flow in Azure Active Directory](active-directory-dev-understanding-oauth2-implicit-grant.md).</span></span>

<span data-ttu-id="29e14-280">Merhaba kullanıcı oturum açtığında bu senaryoda, JavaScript ön uç kullanır hello [Active Directory Authentication Library (ADAL JavaScript için. JS)](https://github.com/AzureAD/azure-activedirectory-library-for-js/tree/dev) ve hello örtük yetkilendirme kimliği belirteci (id_token) tooobtain Azure AD verin.</span><span class="sxs-lookup"><span data-stu-id="29e14-280">In this scenario, when hello user signs in, hello JavaScript front end uses [Active Directory Authentication Library for JavaScript (ADAL.JS)](https://github.com/AzureAD/azure-activedirectory-library-for-js/tree/dev) and hello implicit authorization grant tooobtain an ID token (id_token) from Azure AD.</span></span> <span data-ttu-id="29e14-281">Merhaba belirteç önbelleğe alınır ve hello istemci bunu toohello isteği hello taşıyıcı belirteci olarak tooits Web API güvenliğinin hello OWIN ara yazılımı ile son geri çağrıları yapılırken ekler.</span><span class="sxs-lookup"><span data-stu-id="29e14-281">hello token is cached and hello client attaches it toohello request as hello bearer token when making calls tooits Web API back end, which is secured using hello OWIN middleware.</span></span> 

#### <a name="diagram"></a><span data-ttu-id="29e14-282">Diyagram</span><span class="sxs-lookup"><span data-stu-id="29e14-282">Diagram</span></span>
![Tek sayfa uygulama diyagramı](./media/active-directory-authentication-scenarios/single_page_app.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="29e14-284">Protokol akışı açıklaması</span><span class="sxs-lookup"><span data-stu-id="29e14-284">Description of Protocol Flow</span></span>
1. <span data-ttu-id="29e14-285">Merhaba kullanıcıyı toohello web uygulaması götürür.</span><span class="sxs-lookup"><span data-stu-id="29e14-285">hello user navigates toohello web application.</span></span>
2. <span data-ttu-id="29e14-286">Merhaba uygulaması hello JavaScript ön uç (sunu katmanı) toohello tarayıcı döndürür.</span><span class="sxs-lookup"><span data-stu-id="29e14-286">hello application returns hello JavaScript front end (presentation layer) toohello browser.</span></span>
3. <span data-ttu-id="29e14-287">Merhaba kullanıcı oturum açma bağlantısına tıklayarak oturum açma, örneğin başlatır.</span><span class="sxs-lookup"><span data-stu-id="29e14-287">hello user initiates sign in, for example by clicking a sign in link.</span></span> <span data-ttu-id="29e14-288">Merhaba tarayıcı bir GET toohello Azure AD yetkilendirme uç noktası toorequest kimliği belirteci gönderir.</span><span class="sxs-lookup"><span data-stu-id="29e14-288">hello browser sends a GET toohello Azure AD authorization endpoint toorequest an ID token.</span></span> <span data-ttu-id="29e14-289">Bu istek hello uygulama kimliği ve yanıt URL'si hello sorgu parametrelerini içerir.</span><span class="sxs-lookup"><span data-stu-id="29e14-289">This request includes hello application ID and reply URL in hello query parameters.</span></span>
4. <span data-ttu-id="29e14-290">Azure AD hello karşı yanıt URL'si hello Azure Portal yapılandırılan yanıt URL'si kayıtlı hello doğrular.</span><span class="sxs-lookup"><span data-stu-id="29e14-290">Azure AD validates hello Reply URL against hello registered Reply URL that was configured in hello Azure Portal.</span></span>
5. <span data-ttu-id="29e14-291">Merhaba hello oturum açma sayfasında oturum açtığında.</span><span class="sxs-lookup"><span data-stu-id="29e14-291">hello user signs in on hello sign-in page.</span></span>
6. <span data-ttu-id="29e14-292">Kimlik doğrulaması başarılı olursa, Azure AD kimliği belirteci oluşturur ve bir URL parçası (#) toohello uygulamanın yanıt URL'si olarak döndürür.</span><span class="sxs-lookup"><span data-stu-id="29e14-292">If authentication is successful, Azure AD creates an ID token and returns it as a URL fragment (#) toohello application’s Reply URL.</span></span> <span data-ttu-id="29e14-293">Bir üretim uygulaması için HTTPS bu yanıt URL'si olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="29e14-293">For a production application, this Reply URL should be HTTPS.</span></span> <span data-ttu-id="29e14-294">belirteç döndürdü hello hello kullanıcı ve Azure AD hello uygulama toovalidate hello belirteci tarafından gerekli olan talepleri içerir.</span><span class="sxs-lookup"><span data-stu-id="29e14-294">hello returned token includes claims about hello user and Azure AD that are required by hello application toovalidate hello token.</span></span>
7. <span data-ttu-id="29e14-295">Merhaba tarayıcıda çalışan hello JavaScript istemci kodu hello belirteci geri toohello uygulamanın web API son çağrıları korumak hello yanıt toouse gelen ayıklar.</span><span class="sxs-lookup"><span data-stu-id="29e14-295">hello JavaScript client code running in hello browser extracts hello token from hello response toouse in securing calls toohello application’s web API back end.</span></span>
8. <span data-ttu-id="29e14-296">Tarayıcı çağrıları hello uygulamanın web API geri bitiş hello erişim belirteciyle hello yetkilendirme üstbilgisinde hello.</span><span class="sxs-lookup"><span data-stu-id="29e14-296">hello browser calls hello application’s web API back end with hello access token in hello authorization header.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="29e14-297">Kod Örnekleri</span><span class="sxs-lookup"><span data-stu-id="29e14-297">Code Samples</span></span>
<span data-ttu-id="29e14-298">Merhaba kod örnekleri tek sayfa uygulama (SPA) senaryoları için bkz.</span><span class="sxs-lookup"><span data-stu-id="29e14-298">See hello code samples for Single Page Application (SPA) scenarios.</span></span> <span data-ttu-id="29e14-299">Sık--olarak emin toocheck dönecek yeni örnekler hello zaman ekleriz.</span><span class="sxs-lookup"><span data-stu-id="29e14-299">Be sure toocheck back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="29e14-300">[Tek sayfa uygulama (SPA)](active-directory-code-samples.md#single-page-application-spa).</span><span class="sxs-lookup"><span data-stu-id="29e14-300">[Single Page Application (SPA)](active-directory-code-samples.md#single-page-application-spa).</span></span>

#### <a name="registering"></a><span data-ttu-id="29e14-301">Kaydetme</span><span class="sxs-lookup"><span data-stu-id="29e14-301">Registering</span></span>
* <span data-ttu-id="29e14-302">Tek bir kiracı: yalnızca kuruluşunuz için bir uygulama geliştiriyorsanız, şirketinizin dizininde hello Azure Portal kullanarak kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-302">Single Tenant: If you are building an application just for your organization, it must be registered in your company’s directory by using hello Azure Portal.</span></span>
* <span data-ttu-id="29e14-303">Çok Kiracılı: kuruluşunuzun dışındaki kullanıcılar tarafından kullanılan bir uygulama geliştiriyorsanız, şirketinizin dizinde kayıtlı olması gerekir, ancak aynı zamanda Merhaba uygulaması kullanarak her kuruluşun dizinde kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-303">Multi-Tenant: If you are building an application that can be used by users outside your organization, it must be registered in your company’s directory, but also must be registered in each organization’s directory that will be using hello application.</span></span> <span data-ttu-id="29e14-304">toomake uygulamanız kendi dizininde bulunan, tooconsent tooyour uygulama sağlar, müşterileriniz için kaydolma işlemine dahil edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-304">toomake your application available in their directory, you can include a sign-up process for your customers that enables them tooconsent tooyour application.</span></span> <span data-ttu-id="29e14-305">Bunlar, uygulamanız için kaydolduğunuzda, hello izinleri Merhaba uygulaması gerektirir ve seçeneği tooconsent hello gösteren bir iletişim kutusu sunulur.</span><span class="sxs-lookup"><span data-stu-id="29e14-305">When they sign up for your application, they will be presented with a dialog that shows hello permissions hello application requires, and then hello option tooconsent.</span></span> <span data-ttu-id="29e14-306">Merhaba gerekli izinler, yönetici hello olarak bağlı olarak diğer kuruluşun olabilir toogive izni gereklidir.</span><span class="sxs-lookup"><span data-stu-id="29e14-306">Depending on hello required permissions, an administrator in hello other organization may be required toogive consent.</span></span> <span data-ttu-id="29e14-307">Merhaba kullanıcı veya yönetici izin, Merhaba uygulaması kendi Directory'ye kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-307">When hello user or administrator consents, hello application is registered in their directory.</span></span> <span data-ttu-id="29e14-308">Daha fazla bilgi için bkz: [Azure Active Directory Tümleştirme uygulamalarla](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="29e14-308">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

<span data-ttu-id="29e14-309">Merhaba uygulaması kaydolduktan sonra yapılandırılmış toouse OAuth 2.0 örtük verme Protokolü olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-309">After registering hello application, it must be configured toouse OAuth 2.0 Implicit Grant protocol.</span></span> <span data-ttu-id="29e14-310">Varsayılan olarak, bu protokolü uygulamalar için devre dışıdır.</span><span class="sxs-lookup"><span data-stu-id="29e14-310">By default, this protocol is disabled for applications.</span></span> <span data-ttu-id="29e14-311">tooenable hello OAuth2 örtük Grant protokolü, uygulamanız için kendi uygulama hello Azure Portal bildiriminden düzenleyin ve hello "oauth2AllowImplicitFlow" değeri tootrue ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="29e14-311">tooenable hello OAuth2 Implicit Grant protocol for your application, edit its application manifest from hello Azure Portal and set hello “oauth2AllowImplicitFlow” value tootrue.</span></span> <span data-ttu-id="29e14-312">Ayrıntılı yönergeler için bkz: [etkinleştirme OAuth 2.0 örtük verme tek sayfa uygulamaları için](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="29e14-312">For detailed instructions, see [Enabling OAuth 2.0 Implicit Grant for Single Page Applications](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="29e14-313">Belirteç süre sonu</span><span class="sxs-lookup"><span data-stu-id="29e14-313">Token Expiration</span></span>
<span data-ttu-id="29e14-314">Azure AD ile ADAL.js toomanage kimlik doğrulaması kullandığınızda, süresi dolmuş bir belirtecini yenilemeyi yanı sıra hello uygulama tarafından çağrılabilir ek web API kaynaklar için belirteçleri alma kolaylaştıran birkaç özelliklerinden yararlanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-314">When you use ADAL.js toomanage authentication with Azure AD, you benefit from several features that facilitate refreshing an expired token as well as getting tokens for additional web API resources that may be called by hello application.</span></span> <span data-ttu-id="29e14-315">Merhaba kullanıcı Azure AD ile başarıyla doğruladığında bir tanımlama bilgisi tarafından güvenli bir oturum hello tarayıcı ve Azure AD arasındaki hello kullanıcı için oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="29e14-315">When hello user successfully authenticates with Azure AD, a session secured by a cookie is established for hello user between hello browser and Azure AD.</span></span> <span data-ttu-id="29e14-316">Merhaba oturum hello kullanıcı ve Azure AD arasında ve hello kullanıcı ve hello sunucu üzerinde çalışan Merhaba web uygulaması arasında değil mevcut önemli toonote olur.</span><span class="sxs-lookup"><span data-stu-id="29e14-316">It’s important toonote that hello session exists between hello user and Azure AD and not between hello user and hello web application running on hello server.</span></span> <span data-ttu-id="29e14-317">Bir belirteç süresi dolduğunda ADAL.js toosilently başka bir belirteç elde bu oturumu kullanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-317">When a token expires, ADAL.js uses this session toosilently obtain another token.</span></span> <span data-ttu-id="29e14-318">Bu gizli IFRAME toosend kullanarak yapar ve hello OAuth örtük verme protokolü kullanarak hello isteği alır.</span><span class="sxs-lookup"><span data-stu-id="29e14-318">It does this by using a hidden iFrame toosend and receive hello request using hello OAuth Implicit Grant protocol.</span></span> <span data-ttu-id="29e14-319">ADAL.js aynı düzenek de kullanabilir toosilently destek çıkış noktaları arası kaynak paylaşımı (CORS), bu kaynakları sürece hello uygulama çağrıları hello kullanıcının dizinde kayıtlı API kaynakları erişim belirteçleri Azure AD'den diğer web için edinmek ve gerekli tüm izin hello kullanıcı tarafından oturum açma sırasında verildi.</span><span class="sxs-lookup"><span data-stu-id="29e14-319">ADAL.js can also use this same mechanism toosilently obtain access tokens from Azure AD for other web API resources that hello application calls as long as these resources support cross-origin resource sharing (CORS), are registered in hello user’s directory, and any required consent was given by hello user during sign-in.</span></span>

### <a name="native-application-tooweb-api"></a><span data-ttu-id="29e14-320">Yerel uygulama tooWeb API</span><span class="sxs-lookup"><span data-stu-id="29e14-320">Native Application tooWeb API</span></span>
<span data-ttu-id="29e14-321">Bu bölümde, bir kullanıcı adına bir web API'si çağıran bir yerel uygulamayı açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="29e14-321">This section describes a native application that calls a web API on behalf of a user.</span></span> <span data-ttu-id="29e14-322">Bu senaryo hello OAuth 2.0 yetkilendirme kodu verme ortak istemci türüyle hello 4.1 bölümünde açıklandığı gibi üzerine inşa edilmiştir [OAuth 2.0 belirtimi](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="29e14-322">This scenario is built on hello OAuth 2.0 authorization code grant type with a public client, as described in section 4.1 of hello [OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="29e14-323">Merhaba yerel uygulaması hello OAuth 2.0 protokolünü kullanarak hello kullanıcı için bir erişim belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="29e14-323">hello native application obtains an access token for hello user by using hello OAuth 2.0 protocol.</span></span> <span data-ttu-id="29e14-324">Bu erişim belirteci hello kullanıcı yetkisi verir ve istenen hello kaynak döndüren hello isteği toohello web API'de, daha sonra gönderilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-324">This access token is then sent in hello request toohello web API, which authorizes hello user and returns hello desired resource.</span></span>

#### <a name="diagram"></a><span data-ttu-id="29e14-325">Diyagram</span><span class="sxs-lookup"><span data-stu-id="29e14-325">Diagram</span></span>
![Yerel uygulama tooWeb API diyagramı](./media/active-directory-authentication-scenarios/native_app_to_web_api.png)

#### <a name="authentication-flow-for-native-application-tooapi"></a><span data-ttu-id="29e14-327">Yerel uygulama tooAPI için kimlik doğrulama akışı</span><span class="sxs-lookup"><span data-stu-id="29e14-327">Authentication flow for native application tooAPI</span></span>
#### <a name="description-of-protocol-flow"></a><span data-ttu-id="29e14-328">Protokol akışı açıklaması</span><span class="sxs-lookup"><span data-stu-id="29e14-328">Description of Protocol Flow</span></span>
<span data-ttu-id="29e14-329">Merhaba AD kimlik doğrulama kitaplıkları kullanıyorsanız, aşağıda açıklanan hello protokol ayrıntılarını çoğunu sizin için hello tarayıcı açılır pencere, belirteç önbelleğe alma ve yenileme belirteçleri işlenmesi gibi işlenir.</span><span class="sxs-lookup"><span data-stu-id="29e14-329">If you are using hello AD Authentication Libraries, most of hello protocol details described below are handled for you, such as hello browser pop-up, token caching, and handling of refresh tokens.</span></span>

1. <span data-ttu-id="29e14-330">Açılan bir tarayıcı kullanarak, Merhaba yerel uygulaması Azure AD'de bir istek toohello yetkilendirme uç noktası sağlar.</span><span class="sxs-lookup"><span data-stu-id="29e14-330">Using a browser pop-up, hello native application makes a request toohello authorization endpoint in Azure AD.</span></span> <span data-ttu-id="29e14-331">Bu istek hello Azure Portal ve hello uygulama kimliği URI'si hello web API'si için gösterildiği gibi hello uygulama kimliği ve hello yeniden yönlendirme URI'si hello yerel uygulamasının içerir.</span><span class="sxs-lookup"><span data-stu-id="29e14-331">This request includes hello Application ID and hello redirect URI of hello native application as shown in hello Azure Portal, and hello application ID URI for hello web API.</span></span> <span data-ttu-id="29e14-332">Merhaba kullanıcı zaten oturum taşınmadığından, istendiğinde toosign içinde yeniden oldukları</span><span class="sxs-lookup"><span data-stu-id="29e14-332">If hello user hasn’t already signed in, they are prompted toosign in again</span></span>
2. <span data-ttu-id="29e14-333">Azure AD hello kullanıcının kimliğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="29e14-333">Azure AD authenticates hello user.</span></span> <span data-ttu-id="29e14-334">Bunlar zaten yapmadıysanız, çok kiracılı bir uygulamadır ve onayı gerekli toouse hello uygulama ise, hello kullanıcı gerekli tooconsent olacaktır.</span><span class="sxs-lookup"><span data-stu-id="29e14-334">If it is a multi-tenant application and consent is required toouse hello application, hello user will be required tooconsent if they haven’t already done so.</span></span> <span data-ttu-id="29e14-335">Azure AD, izin verme sonra ve temel kimlik doğrulaması başarılı bir yetkilendirme kodu yanıtı geri toohello istemci uygulamanın yeniden yönlendirme URI'si verir.</span><span class="sxs-lookup"><span data-stu-id="29e14-335">After granting consent and upon successful authentication, Azure AD issues an authorization code response back toohello client application’s redirect URI.</span></span>
3. <span data-ttu-id="29e14-336">Azure AD bir kimlik doğrulama kodu yanıtı verdiğinde toohello yeniden yönlendirme URI'si, istemci uygulaması durdurur tarayıcı etkileşimi ve ayıklar hello yetkilendirme kodundan hello yanıt hello.</span><span class="sxs-lookup"><span data-stu-id="29e14-336">When Azure AD issues an authorization code response back toohello redirect URI, hello client application stops browser interaction and extracts hello authorization code from hello response.</span></span> <span data-ttu-id="29e14-337">Bu yetkilendirme kodu kullanarak, hello yetkilendirme kodu içeren bir istek tooAzure Reklamın belirteç uç noktası Merhaba istemci uygulaması gönderir, ayrıntılar hakkında istemci uygulaması (uygulama kimliği ve yeniden yönlendirme URI'si) hello ve istenen kaynak (uygulama kimliği hello URI hello web API için).</span><span class="sxs-lookup"><span data-stu-id="29e14-337">Using this authorization code, hello client application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
4. <span data-ttu-id="29e14-338">Merhaba yetkilendirme kodu ve Merhaba istemci uygulaması ve web API hakkındaki bilgileri Azure AD tarafından doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-338">hello authorization code and information about hello client application and web API are validated by Azure AD.</span></span> <span data-ttu-id="29e14-339">Başarılı bir doğrulama sırasında Azure AD iki belirteci döndürür: JWT erişim belirteci ve bir JWT yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="29e14-339">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span> <span data-ttu-id="29e14-340">Ayrıca, Azure AD görünen adı ve Kiracı kimliklerine gibi hello kullanıcı hakkındaki temel bilgileri döndürür</span><span class="sxs-lookup"><span data-stu-id="29e14-340">In addition, Azure AD returns basic information about hello user, such as their display name and tenant ID.</span></span>
5. <span data-ttu-id="29e14-341">HTTPS üzerinden Merhaba istemci uygulaması JWT erişim belirteci tooadd hello "Bearer" tayin JWT dizesiyle hello yetkilendirme üstbilgisinde hello isteği toohello Web API döndürülen hello kullanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-341">Over HTTPS, hello client application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="29e14-342">Merhaba web API sonra hello JWT belirteci doğrular ve doğrulama başarılı olursa, kaynak döndürür hello istenen.</span><span class="sxs-lookup"><span data-stu-id="29e14-342">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>
6. <span data-ttu-id="29e14-343">Merhaba erişim belirtecinin süresi dolduğunda, Merhaba istemci uygulaması hello kullanıcının tooauthenticate yeniden gereken belirten bir hata alırsınız.</span><span class="sxs-lookup"><span data-stu-id="29e14-343">When hello access token expires, hello client application will receive an error that indicates hello user needs tooauthenticate again.</span></span> <span data-ttu-id="29e14-344">Merhaba uygulaması geçerli yenileme belirteci varsa, kullanılan tooacquire sormadan yeni bir erişim belirteci hello kullanıcı toosign yeniden olabilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-344">If hello application has a valid refresh token, it can be used tooacquire a new access token without prompting hello user toosign in again.</span></span> <span data-ttu-id="29e14-345">Merhaba yenileme belirtecinin süresi dolarsa Merhaba uygulaması gerekir toointeractively hello kullanıcı yeniden kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="29e14-345">If hello refresh token expires, hello application will need toointeractively authenticate hello user once again.</span></span>

> [!NOTE]
> <span data-ttu-id="29e14-346">Merhaba yenileme belirteci Azure AD tarafından verilen kullanılan tooaccess birden fazla kaynak olabilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-346">hello refresh token issued by Azure AD can be used tooaccess multiple resources.</span></span> <span data-ttu-id="29e14-347">Örneğin, izin toocall iki web API'leri sahip bir istemci uygulaması varsa, hello yenileme belirteci kullanılan tooget bir erişim belirteci toohello diğer web API de olabilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-347">For example, if you have a client application that has permission toocall two web APIs, hello refresh token can be used tooget an access token toohello other web API as well.</span></span>
> 
> 

#### <a name="code-samples"></a><span data-ttu-id="29e14-348">Kod Örnekleri</span><span class="sxs-lookup"><span data-stu-id="29e14-348">Code Samples</span></span>
<span data-ttu-id="29e14-349">Merhaba kod örnekleri yerel uygulama tooWeb API senaryoları için bkz.</span><span class="sxs-lookup"><span data-stu-id="29e14-349">See hello code samples for Native Application tooWeb API scenarios.</span></span> <span data-ttu-id="29e14-350">Ve daha sonra yeniden sık--hello zaman yeni örnekler eklediğimiz denetleyin.</span><span class="sxs-lookup"><span data-stu-id="29e14-350">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="29e14-351">[Yerel uygulama tooWeb API](active-directory-code-samples.md#native-application-to-web-api).</span><span class="sxs-lookup"><span data-stu-id="29e14-351">[Native Application tooWeb API](active-directory-code-samples.md#native-application-to-web-api).</span></span>

#### <a name="registering"></a><span data-ttu-id="29e14-352">Kaydetme</span><span class="sxs-lookup"><span data-stu-id="29e14-352">Registering</span></span>
* <span data-ttu-id="29e14-353">Tek bir kiracı: Hem de yerel uygulama hello ve hello hello web API kayıtlı aynı Azure AD dizininde.</span><span class="sxs-lookup"><span data-stu-id="29e14-353">Single Tenant: Both hello native application and hello web API must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="29e14-354">Merhaba web API yapılandırılmış tooexpose kullanılan toolimit hello yerel uygulamanın erişim tooits kaynakları izinleri olabilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-354">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello native application’s access tooits resources.</span></span> <span data-ttu-id="29e14-355">ardından Merhaba istemci uygulaması istenen hello izinleri hello Azure Portal hello "İzinleri tooOther uygulamaları" açılan menüsünden seçer.</span><span class="sxs-lookup"><span data-stu-id="29e14-355">hello client application then selects hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span>
* <span data-ttu-id="29e14-356">Çok Kiracılı: İlk olarak, hello yerel uygulama her zaman sadece hello geliştirici veya publisher'ın dizinde kayıtlı.</span><span class="sxs-lookup"><span data-stu-id="29e14-356">Multi-Tenant: First, hello native application only ever registered in hello developer or publisher’s directory.</span></span> <span data-ttu-id="29e14-357">İkinci olarak, hello yerel toobe işlevsel gerektirir yapılandırılmış tooindicate hello izinleri uygulamasıdır.</span><span class="sxs-lookup"><span data-stu-id="29e14-357">Second, hello native application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="29e14-358">Bir kullanıcının veya yöneticinin hello hedef dizinde kullanılabilir tootheir kuruluşun yaptığı onayı toohello uygulamasını verdiğinde bu gerekli izinlerin listesi iletişim kutusunda gösterilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-358">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="29e14-359">Bazı uygulamalar hello kuruluştaki herhangi bir kullanıcı onayı yalnızca kullanıcı düzeyinde izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="29e14-359">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="29e14-360">Diğer uygulamalar hello kuruluşunuzdaki bir kullanıcının onay veremez yönetici düzeyi izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="29e14-360">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="29e14-361">Yalnızca bir dizin Yöneticisi bu izin düzeyi, gerekli izni tooapplications verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-361">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="29e14-362">Merhaba kullanıcı veya yönetici izin, yalnızca hello web API kendi Directory'ye kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-362">When hello user or administrator consents, only hello web API is registered in their directory.</span></span> <span data-ttu-id="29e14-363">Daha fazla bilgi için bkz: [Azure Active Directory Tümleştirme uygulamalarla](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="29e14-363">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="29e14-364">Belirteç süre sonu</span><span class="sxs-lookup"><span data-stu-id="29e14-364">Token Expiration</span></span>
<span data-ttu-id="29e14-365">Merhaba yerel uygulama, yetkilendirme kodu tooget JWT erişim belirteci kullandığında, ayrıca, bir JWT yenileme belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="29e14-365">When hello native application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="29e14-366">Merhaba erişim belirtecinin süresi dolduğunda, hello yenileme belirteci kullanılan toore olabilir-toosign içinde yeniden gerektirmeden için bunları hello kullanıcı kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="29e14-366">When hello access token expires, hello refresh token can be used toore-authenticate hello user without requiring them toosign in again.</span></span> <span data-ttu-id="29e14-367">Bu yenileme belirteci kullanılan tooauthenticate hello sonra kullanıcı, hangi sonuçları yeni bir erişim belirteci ve yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="29e14-367">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

### <a name="web-application-tooweb-api"></a><span data-ttu-id="29e14-368">Web uygulama tooWeb API</span><span class="sxs-lookup"><span data-stu-id="29e14-368">Web Application tooWeb API</span></span>
<span data-ttu-id="29e14-369">Bu bölümde bir web API tooget kaynaklardan gerektiren bir web uygulaması açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="29e14-369">This section describes a web application that needs tooget resources from a web API.</span></span> <span data-ttu-id="29e14-370">Bu senaryoda, vardır web uygulaması hello iki kimlik türlerinin tooauthenticate kullanın ve hello web API çağrısı: uygulama kimliği ya da temsilci atanan kullanıcı kimliği.</span><span class="sxs-lookup"><span data-stu-id="29e14-370">In this scenario, there are two identity types that hello web application can use tooauthenticate and call hello web API: an application identity, or a delegated user identity.</span></span>

<span data-ttu-id="29e14-371">*Uygulama Kimliği:* web API OAuth 2.0 istemci kimlik bilgileri verin tooauthenticate hello uygulama ve erişim hello Bu senaryoda kullanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-371">*Application identity:* This scenario uses OAuth 2.0 client credentials grant tooauthenticate as hello application and access hello web API.</span></span> <span data-ttu-id="29e14-372">Uygulama kimliği, hello web API, yalnızca Merhaba web uygulaması, aradığı algılayabilir kullanırken hello hello kullanıcı hakkında hiçbir bilgi web API almaz.</span><span class="sxs-lookup"><span data-stu-id="29e14-372">When using an application identity, hello web API can only detect that hello web application is calling it, as hello web API does not receive any information about hello user.</span></span> <span data-ttu-id="29e14-373">Merhaba uygulaması hello kullanıcı hakkındaki bilgileri alırsa, hello uygulama protokolü aracılığıyla gönderilir ve Azure AD tarafından imzalanmamış.</span><span class="sxs-lookup"><span data-stu-id="29e14-373">If hello application receives information about hello user, it will be sent via hello application protocol, and it is not signed by Azure AD.</span></span> <span data-ttu-id="29e14-374">Merhaba web API Merhaba web uygulaması hello kullanıcı kimlik doğrulaması güvenir.</span><span class="sxs-lookup"><span data-stu-id="29e14-374">hello web API trusts that hello web application authenticated hello user.</span></span> <span data-ttu-id="29e14-375">Bu nedenle, bu deseni güvenilir alt sistem adı verilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-375">For this reason, this pattern is called a trusted subsystem.</span></span>

<span data-ttu-id="29e14-376">*Kullanıcı kimliği için temsilci:* bu senaryo iki yolla gerçekleştirilebilir: Openıd Connect ve OAuth 2.0 yetkilendirme kodu verme gizli istemcisi ile.</span><span class="sxs-lookup"><span data-stu-id="29e14-376">*Delegated user identity:* This scenario can be accomplished in two ways: OpenID Connect, and OAuth 2.0 authorization code grant with a confidential client.</span></span> <span data-ttu-id="29e14-377">Merhaba web uygulaması, toohello web API, hello başarılı bir şekilde kimliği doğrulanmış bir kullanıcı toohello web uygulaması kanıtlar ve mümkün tooobtain temsilci atanan kullanıcı kimliğini toocall hello web API'si Merhaba web uygulaması olan hello kullanıcı için bir erişim belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="29e14-377">hello web application obtains an access token for hello user, which proves toohello web API that hello user successfully authenticated toohello web application and that hello web application was able tooobtain a delegated user identity toocall hello web API.</span></span> <span data-ttu-id="29e14-378">Bu erişim belirteci hello kullanıcı yetkisi verir ve istenen hello kaynak döndüren hello isteği toohello web API'de, gönderilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-378">This access token is sent in hello request toohello web API, which authorizes hello user and returns hello desired resource.</span></span>

#### <a name="diagram"></a><span data-ttu-id="29e14-379">Diyagram</span><span class="sxs-lookup"><span data-stu-id="29e14-379">Diagram</span></span>
![Web uygulama tooWeb API diyagramı](./media/active-directory-authentication-scenarios/web_app_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="29e14-381">Protokol akışı açıklaması</span><span class="sxs-lookup"><span data-stu-id="29e14-381">Description of Protocol Flow</span></span>
<span data-ttu-id="29e14-382">Hem uygulama kimliği hello ve temsilci olarak atanan kullanıcı kimliğini türleri akışı hello aşağıda ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="29e14-382">Both hello application identity and delegated user identity types are discussed in hello flow below.</span></span> <span data-ttu-id="29e14-383">Merhaba anahtar aralarında hello kullanıcı oturum açma ve erişim toohello web API elde önce temsilci hello kullanıcı kimliğini ilk bir yetkilendirme kodu almalıdır farktır.</span><span class="sxs-lookup"><span data-stu-id="29e14-383">hello key difference between them is that hello delegated user identity must first acquire an authorization code before hello user can sign-in and gain access toohello web API.</span></span>

##### <a name="application-identity-with-oauth-20-client-credentials-grant"></a><span data-ttu-id="29e14-384">Uygulama Kimliği OAuth 2.0 istemci ile kimlik bilgileri verin</span><span class="sxs-lookup"><span data-stu-id="29e14-384">Application Identity with OAuth 2.0 Client Credentials Grant</span></span>
1. <span data-ttu-id="29e14-385">TooAzure AD hello web uygulamasında kullanıcı oturumu açık (Merhaba bkz [Web tarayıcısı tooWeb uygulama](#web-browser-to-web-application) yukarıda).</span><span class="sxs-lookup"><span data-stu-id="29e14-385">A user is signed in tooAzure AD in hello web application (see hello [Web Browser tooWeb Application](#web-browser-to-web-application) above).</span></span>
2. <span data-ttu-id="29e14-386">Böylece toohello web API kimlik doğrulaması ve istenen hello kaynak almak hello web uygulamasının tooacquire bir erişim belirteci gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="29e14-386">hello web application needs tooacquire an access token so that it can authenticate toohello web API and retrieve hello desired resource.</span></span> <span data-ttu-id="29e14-387">Merhaba kimlik bilgisi, uygulama kimliği ve web API uygulama kimliği URI'si sağlama isteği tooAzure Reklamın belirteç uç noktası kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="29e14-387">It makes a request tooAzure AD’s token endpoint, providing hello credential, Application ID, and web API’s application ID URI.</span></span>
3. <span data-ttu-id="29e14-388">Azure AD hello uygulama kimliğini doğrular ve kullanılan toocall hello web API'sini bir JWT erişim belirtecini döndürür.</span><span class="sxs-lookup"><span data-stu-id="29e14-388">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
4. <span data-ttu-id="29e14-389">HTTPS üzerinden hello web uygulaması JWT erişim belirteci tooadd hello "Bearer" tayin JWT dizesiyle hello yetkilendirme üstbilgisinde hello isteği toohello Web API döndürülen hello kullanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-389">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="29e14-390">Merhaba web API sonra hello JWT belirteci doğrular ve doğrulama başarılı olursa, kaynak döndürür hello istenen.</span><span class="sxs-lookup"><span data-stu-id="29e14-390">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-openid-connect"></a><span data-ttu-id="29e14-391">Openıd temsilci atanan kullanıcı kimliğiyle Bağlan</span><span class="sxs-lookup"><span data-stu-id="29e14-391">Delegated User Identity with OpenID Connect</span></span>
1. <span data-ttu-id="29e14-392">Bir kullanıcı Azure AD kullanarak tooa web uygulamasında oturum (Merhaba bkz [Web tarayıcısı tooWeb uygulama](#web-browser-to-web-application) yukarıdaki bölümde).</span><span class="sxs-lookup"><span data-stu-id="29e14-392">A user is signed in tooa web application using Azure AD (see hello [Web Browser tooWeb Application](#web-browser-to-web-application) section above).</span></span> <span data-ttu-id="29e14-393">Merhaba web uygulamasının Hello kullanıcı henüz tooallowing hello web uygulama toocall hello web API kendi adına seçtiği değil, hello kullanıcı tooconsent gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-393">If hello user of hello web application has not yet consented tooallowing hello web application toocall hello web API on its behalf, hello user will need tooconsent.</span></span> <span data-ttu-id="29e14-394">Merhaba uygulaması gerektiriyorsa hello izinleri görüntüler ve bunları herhangi biri yönetici düzeyi izinler varsa, hello dizininde normal bir kullanıcı mümkün tooconsent olmaz.</span><span class="sxs-lookup"><span data-stu-id="29e14-394">hello application will display hello permissions it requires, and if any of these are administrator-level permissions, a normal user in hello directory will not be able tooconsent.</span></span> <span data-ttu-id="29e14-395">Merhaba uygulaması zaten hello gerekli izinlere sahip şekilde bu onay işlemi yalnızca toomulti Kiracı uygulamalar, değil tek bir kiracı uygulamaları geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="29e14-395">This consent process only applies toomulti-tenant applications, not single tenant applications, as hello application will already have hello necessary permissions.</span></span> <span data-ttu-id="29e14-396">Merhaba kullanıcının oturum açtığı zaman Merhaba web uygulaması hello kullanıcı gibi bir kimlik doğrulama kodu hakkında bilgi içeren bir kimliği belirteci aldı.</span><span class="sxs-lookup"><span data-stu-id="29e14-396">When hello user signed in, hello web application received an ID token with information about hello user, as well as an authorization code.</span></span>
2. <span data-ttu-id="29e14-397">Azure AD tarafından verilen hello yetkilendirme kodu kullanarak, Merhaba web uygulaması hello yetkilendirme kodu içeren bir istek tooAzure Reklamın belirteç uç noktası gönderir, istenen kaynak (Merhaba istemci uygulaması (uygulama kimliği ve yeniden yönlendirme URI'si) ve hello hakkında ayrıntılar Uygulama Kimliği URI'si hello web API).</span><span class="sxs-lookup"><span data-stu-id="29e14-397">Using hello authorization code issued by Azure AD, hello web application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
3. <span data-ttu-id="29e14-398">Merhaba yetkilendirme kodu ve Merhaba web uygulaması ve web API hakkındaki bilgileri Azure AD tarafından doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-398">hello authorization code and information about hello web application and web API are validated by Azure AD.</span></span> <span data-ttu-id="29e14-399">Başarılı bir doğrulama sırasında Azure AD iki belirteci döndürür: JWT erişim belirteci ve bir JWT yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="29e14-399">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span>
4. <span data-ttu-id="29e14-400">HTTPS üzerinden hello web uygulaması JWT erişim belirteci tooadd hello "Bearer" tayin JWT dizesiyle hello yetkilendirme üstbilgisinde hello isteği toohello Web API döndürülen hello kullanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-400">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="29e14-401">Merhaba web API sonra hello JWT belirteci doğrular ve doğrulama başarılı olursa, kaynak döndürür hello istenen.</span><span class="sxs-lookup"><span data-stu-id="29e14-401">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-oauth-20-authorization-code-grant"></a><span data-ttu-id="29e14-402">Temsilci atanan kullanıcı kimliği ile OAuth 2.0 yetkilendirme kodu verme</span><span class="sxs-lookup"><span data-stu-id="29e14-402">Delegated User Identity with OAuth 2.0 Authorization Code Grant</span></span>
1. <span data-ttu-id="29e14-403">Bir kullanıcı zaten tooa web uygulaması Azure AD, kimlik doğrulama mekanizması bağımsızdır imzalanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-403">A user is already signed in tooa web application, whose authentication mechanism is independent of Azure AD.</span></span>
2. <span data-ttu-id="29e14-404">Merhaba web uygulaması bir yetkilendirme isteği hello uygulama kimliği sağlama hello tarayıcı tooAzure Reklamın yetkilendirme uç noktası aracılığıyla sorunları için bir erişim belirteci tooacquire kod ve sonra Başlangıç web uygulaması için yeniden yönlendirme URI'si gerektirir başarılı kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="29e14-404">hello web application requires an authorization code tooacquire an access token, so it issues a request through hello browser tooAzure AD’s authorization endpoint, providing hello Application ID and redirect URI for hello web application after successful authentication.</span></span> <span data-ttu-id="29e14-405">Merhaba kullanıcı tooAzure AD açar.</span><span class="sxs-lookup"><span data-stu-id="29e14-405">hello user signs in tooAzure AD.</span></span>
3. <span data-ttu-id="29e14-406">Merhaba web uygulamasının Hello kullanıcı henüz tooallowing hello web uygulama toocall hello web API kendi adına seçtiği değil, hello kullanıcı tooconsent gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-406">If hello user of hello web application has not yet consented tooallowing hello web application toocall hello web API on its behalf, hello user will need tooconsent.</span></span> <span data-ttu-id="29e14-407">Merhaba uygulaması gerektiriyorsa hello izinleri görüntüler ve bunları herhangi biri yönetici düzeyi izinler varsa, hello dizininde normal bir kullanıcı mümkün tooconsent olmaz.</span><span class="sxs-lookup"><span data-stu-id="29e14-407">hello application will display hello permissions it requires, and if any of these are administrator-level permissions, a normal user in hello directory will not be able tooconsent.</span></span> <span data-ttu-id="29e14-408">Bu onay tooboth tek ve çok kiracılı uygulama geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="29e14-408">This consent applies tooboth single and multi-tenant application.</span></span>  <span data-ttu-id="29e14-409">Merhaba tek bir kiracı durumda da, bir yönetici, kullanıcılar adına yönetici onayı tooconsent gerçekleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-409">In hello single tenant case, an admin can perform admin consent tooconsent on behalf of their users.</span></span>  <span data-ttu-id="29e14-410">Bu yapılabilir hello kullanarak `Grant Permissions` hello düğmesini [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="29e14-410">This can be done using hello `Grant Permissions` button in hello [Azure Portal](https://portal.azure.com).</span></span> 
4. <span data-ttu-id="29e14-411">Merhaba kullanıcı seçtiği sonra Merhaba web uygulaması tooacquire bir erişim belirteci ihtiyaç duyduğu hello yetkilendirme kodu alır.</span><span class="sxs-lookup"><span data-stu-id="29e14-411">After hello user has consented, hello web application receives hello authorization code that it needs tooacquire an access token.</span></span>
5. <span data-ttu-id="29e14-412">Azure AD tarafından verilen hello yetkilendirme kodu kullanarak, Merhaba web uygulaması hello yetkilendirme kodu içeren bir istek tooAzure Reklamın belirteç uç noktası gönderir, istenen kaynak (Merhaba istemci uygulaması (uygulama kimliği ve yeniden yönlendirme URI'si) ve hello hakkında ayrıntılar Uygulama Kimliği URI'si hello web API).</span><span class="sxs-lookup"><span data-stu-id="29e14-412">Using hello authorization code issued by Azure AD, hello web application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
6. <span data-ttu-id="29e14-413">Merhaba yetkilendirme kodu ve Merhaba web uygulaması ve web API hakkındaki bilgileri Azure AD tarafından doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-413">hello authorization code and information about hello web application and web API are validated by Azure AD.</span></span> <span data-ttu-id="29e14-414">Başarılı bir doğrulama sırasında Azure AD iki belirteci döndürür: JWT erişim belirteci ve bir JWT yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="29e14-414">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span>
7. <span data-ttu-id="29e14-415">HTTPS üzerinden hello web uygulaması JWT erişim belirteci tooadd hello "Bearer" tayin JWT dizesiyle hello yetkilendirme üstbilgisinde hello isteği toohello Web API döndürülen hello kullanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-415">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="29e14-416">Merhaba web API sonra hello JWT belirteci doğrular ve doğrulama başarılı olursa, kaynak döndürür hello istenen.</span><span class="sxs-lookup"><span data-stu-id="29e14-416">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="29e14-417">Kod Örnekleri</span><span class="sxs-lookup"><span data-stu-id="29e14-417">Code Samples</span></span>
<span data-ttu-id="29e14-418">Merhaba kod örnekleri Web uygulaması tooWeb API senaryoları için bkz.</span><span class="sxs-lookup"><span data-stu-id="29e14-418">See hello code samples for Web Application tooWeb API scenarios.</span></span> <span data-ttu-id="29e14-419">Ve daha sonra yeniden sık--hello zaman yeni örnekler eklediğimiz denetleyin.</span><span class="sxs-lookup"><span data-stu-id="29e14-419">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="29e14-420">Web [uygulama tooWeb API](active-directory-code-samples.md#web-application-to-web-api).</span><span class="sxs-lookup"><span data-stu-id="29e14-420">Web [Application tooWeb API](active-directory-code-samples.md#web-application-to-web-api).</span></span>

#### <a name="registering"></a><span data-ttu-id="29e14-421">Kaydetme</span><span class="sxs-lookup"><span data-stu-id="29e14-421">Registering</span></span>
* <span data-ttu-id="29e14-422">Web uygulaması hello uygulama kimliği ve temsilci atanan kullanıcı kimliğini çalışmaları için tek bir kiracı: Merhaba ve hello hello web API kayıtlı aynı Azure AD dizininde.</span><span class="sxs-lookup"><span data-stu-id="29e14-422">Single Tenant: For both hello application identity and delegated user identity cases, hello web application and hello web API must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="29e14-423">Merhaba web API yapılandırılmış tooexpose kullanılan toolimit hello web uygulamasının erişim tooits kaynakları izinleri olabilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-423">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello web application’s access tooits resources.</span></span> <span data-ttu-id="29e14-424">Temsilci atanan kullanıcı kimlik türü kullanılıyorsa, Merhaba web uygulaması hello Azure Portal hello "İzinleri tooOther uygulamaları" açılan menüsünden tooselect istenen hello izinleri olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-424">If a delegated user identity type is being used, hello web application needs tooselect hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span> <span data-ttu-id="29e14-425">Merhaba uygulama kimlik türü kullanılıyorsa bu adım gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="29e14-425">This step is not required if hello application identity type is being used.</span></span>
* <span data-ttu-id="29e14-426">Çok Kiracılı: İlk olarak, Merhaba web uygulaması toobe işlevsel gerektirir yapılandırılmış tooindicate hello izinleridir.</span><span class="sxs-lookup"><span data-stu-id="29e14-426">Multi-Tenant: First, hello web application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="29e14-427">Bir kullanıcının veya yöneticinin hello hedef dizinde kullanılabilir tootheir kuruluşun yaptığı onayı toohello uygulamasını verdiğinde bu gerekli izinlerin listesi iletişim kutusunda gösterilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-427">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="29e14-428">Bazı uygulamalar hello kuruluştaki herhangi bir kullanıcı onayı yalnızca kullanıcı düzeyinde izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="29e14-428">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="29e14-429">Diğer uygulamalar hello kuruluşunuzdaki bir kullanıcının onay veremez yönetici düzeyi izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="29e14-429">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="29e14-430">Yalnızca bir dizin Yöneticisi bu izin düzeyi, gerekli izni tooapplications verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-430">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="29e14-431">Merhaba kullanıcı veya yönetici onayları Merhaba, web uygulaması ve hello web API hem de bunların dizinde kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-431">When hello user or administrator consents, hello web application and hello web API are both registered in their directory.</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="29e14-432">Belirteç süre sonu</span><span class="sxs-lookup"><span data-stu-id="29e14-432">Token Expiration</span></span>
<span data-ttu-id="29e14-433">Merhaba web uygulaması, yetkilendirme kodu tooget JWT erişim belirteci kullandığında, ayrıca, bir JWT yenileme belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="29e14-433">When hello web application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="29e14-434">Merhaba erişim belirtecinin süresi dolduğunda, hello yenileme belirteci kullanılan toore olabilir-toosign içinde yeniden gerektirmeden için bunları hello kullanıcı kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="29e14-434">When hello access token expires, hello refresh token can be used toore-authenticate hello user without requiring them toosign in again.</span></span> <span data-ttu-id="29e14-435">Bu yenileme belirteci kullanılan tooauthenticate hello sonra kullanıcı, hangi sonuçları yeni bir erişim belirteci ve yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="29e14-435">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

### <a name="daemon-or-server-application-tooweb-api"></a><span data-ttu-id="29e14-436">Arka plan programı veya sunucu uygulaması tooWeb API</span><span class="sxs-lookup"><span data-stu-id="29e14-436">Daemon or Server Application tooWeb API</span></span>
<span data-ttu-id="29e14-437">Bu bölümde bir web API tooget kaynaklardan gereken bir arka plan programı veya sunucu uygulaması açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="29e14-437">This section describes a daemon or server application that needs tooget resources from a web API.</span></span> <span data-ttu-id="29e14-438">Toothis bölüm geçerli iki alt senaryo vardır: toocall OAuth 2.0 istemci kimlik bilgileri verme türünü; yerleşik bir web API gereken bir arka plan programı ve toocall gerektiren bir sunucu uygulaması (örneğin, bir web API) web API'si, yerleşik OAuth 2.0 On-Behalf-Of taslak belirtimi.</span><span class="sxs-lookup"><span data-stu-id="29e14-438">There are two sub-scenarios that apply toothis section: A daemon that needs toocall a web API, built on OAuth 2.0 client credentials grant type; and a server application (such as a web API) that needs toocall a web API, built on OAuth 2.0 On-Behalf-Of draft specification.</span></span>

<span data-ttu-id="29e14-439">Arka plan programı uygulama toocall bir web API gerektiğinde Merhaba senaryo için önemli toounderstand olmasından birkaç.</span><span class="sxs-lookup"><span data-stu-id="29e14-439">For hello scenario when a daemon application needs toocall a web API, it’s important toounderstand a few things.</span></span> <span data-ttu-id="29e14-440">İlk olarak, kullanıcı etkileşimi hello uygulama toohave kendi kimliğini gerektirir ve arka plan programı uygulama ile mümkün değildir.</span><span class="sxs-lookup"><span data-stu-id="29e14-440">First, user interaction is not possible with a daemon application, which requires hello application toohave its own identity.</span></span> <span data-ttu-id="29e14-441">Arka plan programı uygulama toplu iş veya hello arka planda çalışan bir işletim sistemi hizmet örneğidir.</span><span class="sxs-lookup"><span data-stu-id="29e14-441">An example of a daemon application is a batch job, or an operating system service running in hello background.</span></span> <span data-ttu-id="29e14-442">Bu tür bir uygulama, kendi uygulama kimliğini kullanır ve uygulama kimliği, kimlik bilgisi (parola veya sertifika) ve uygulama kimliği URI'si tooAzure AD sunan bir erişim belirteci ister.</span><span class="sxs-lookup"><span data-stu-id="29e14-442">This type of application requests an access token by using its application identity and presenting its Application ID, credential (password or certificate), and application ID URI tooAzure AD.</span></span> <span data-ttu-id="29e14-443">Başarılı kimlik doğrulamasından sonra hello arka plan programı kullanılan toocall hello sonra web API olan Azure AD'den bir erişim belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="29e14-443">After successful authentication, hello daemon receives an access token from Azure AD, which is then used toocall hello web API.</span></span>

<span data-ttu-id="29e14-444">Bir sunucu uygulaması toocall web API'si, gerektiğinde hello için bu yararlı toouse örnek bir senaryodur.</span><span class="sxs-lookup"><span data-stu-id="29e14-444">For hello scenario when a server application needs toocall a web API, it’s helpful toouse an example.</span></span> <span data-ttu-id="29e14-445">Bir kullanıcı kimlik doğrulaması yerel bir uygulamaya ve bu yerel uygulama toocall bir web API gerekiyor düşünün.</span><span class="sxs-lookup"><span data-stu-id="29e14-445">Imagine that a user has authenticated on a native application, and this native application needs toocall a web API.</span></span> <span data-ttu-id="29e14-446">Azure AD JWT erişim belirteci toocall hello web API'si verir.</span><span class="sxs-lookup"><span data-stu-id="29e14-446">Azure AD issues a JWT access token toocall hello web API.</span></span> <span data-ttu-id="29e14-447">Merhaba web API başka bir aşağı akış web API'si toocall gerekiyorsa, bu hello üzerinde-temsili akış toodelegate hello kullanıcının kimliğini kullanın ve toohello ikinci katmanlı web API kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="29e14-447">If hello web API needs toocall another downstream web API, it can use hello on-behalf-of flow toodelegate hello user’s identity and authenticate toohello second-tier web API.</span></span>

#### <a name="diagram"></a><span data-ttu-id="29e14-448">Diyagram</span><span class="sxs-lookup"><span data-stu-id="29e14-448">Diagram</span></span>
![Arka plan programı veya sunucu uygulaması tooWeb API diyagramı](./media/active-directory-authentication-scenarios/daemon_server_app_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="29e14-450">Protokol akışı açıklaması</span><span class="sxs-lookup"><span data-stu-id="29e14-450">Description of Protocol Flow</span></span>
##### <a name="application-identity-with-oauth-20-client-credentials-grant"></a><span data-ttu-id="29e14-451">Uygulama Kimliği OAuth 2.0 istemci ile kimlik bilgileri verin</span><span class="sxs-lookup"><span data-stu-id="29e14-451">Application Identity with OAuth 2.0 Client Credentials Grant</span></span>
1. <span data-ttu-id="29e14-452">İlk olarak, bir etkileşimli oturum açma iletişim kutusu gibi herhangi bir insan etkileşimi olmadan kendisini olarak Azure AD ile tooauthenticate hello sunucu uygulaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-452">First, hello server application needs tooauthenticate with Azure AD as itself, without any human interaction such as an interactive sign-on dialog.</span></span> <span data-ttu-id="29e14-453">Merhaba kimlik bilgisi, uygulama kimliği ve uygulama kimliği URI'si sağlama isteği tooAzure Reklamın belirteç uç noktası kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="29e14-453">It makes a request tooAzure AD’s token endpoint, providing hello credential, Application ID, and application ID URI.</span></span>
2. <span data-ttu-id="29e14-454">Azure AD hello uygulama kimliğini doğrular ve kullanılan toocall hello web API'sini bir JWT erişim belirtecini döndürür.</span><span class="sxs-lookup"><span data-stu-id="29e14-454">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
3. <span data-ttu-id="29e14-455">HTTPS üzerinden hello web uygulaması JWT erişim belirteci tooadd hello "Bearer" tayin JWT dizesiyle hello yetkilendirme üstbilgisinde hello isteği toohello Web API döndürülen hello kullanır.</span><span class="sxs-lookup"><span data-stu-id="29e14-455">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="29e14-456">Merhaba web API sonra hello JWT belirteci doğrular ve doğrulama başarılı olursa, kaynak döndürür hello istenen.</span><span class="sxs-lookup"><span data-stu-id="29e14-456">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-oauth-20-on-behalf-of-draft-specification"></a><span data-ttu-id="29e14-457">OAuth 2.0 üzerinde-adına-Of taslak belirtimiyle temsilci olarak atanan kullanıcı kimliği</span><span class="sxs-lookup"><span data-stu-id="29e14-457">Delegated User Identity with OAuth 2.0 On-Behalf-Of Draft Specification</span></span>
<span data-ttu-id="29e14-458">aşağıda açıklanan hello akış (örneğin, bir yerel uygulamayı) başka bir uygulama üzerinde bir kullanıcı kimliği ve kullanıcı kimliklerini kullanılan tooacquire bir erişim belirteci toohello ilk katmanlı web API bırakıldı varsayar.</span><span class="sxs-lookup"><span data-stu-id="29e14-458">hello flow discussed below assumes that a user has been authenticated on another application (such as a native application), and their user identity has been used tooacquire an access token toohello first-tier web API.</span></span>

1. <span data-ttu-id="29e14-459">Merhaba yerel uygulaması hello erişim belirteci toohello ilk katmanlı web API gönderir.</span><span class="sxs-lookup"><span data-stu-id="29e14-459">hello native application sends hello access token toohello first-tier web API.</span></span>
2. <span data-ttu-id="29e14-460">Merhaba ilk katmanlı web API hello kullanıcının erişim belirtecini yanı sıra uygulama Kimliğini ve kimlik bilgilerini sağlama isteği tooAzure Reklamın belirteç uç noktası gönderir.</span><span class="sxs-lookup"><span data-stu-id="29e14-460">hello first-tier web API sends a request tooAzure AD’s token endpoint, providing its Application ID and credentials, as well as hello user’s access token.</span></span> <span data-ttu-id="29e14-461">Ek olarak, hello isteği ile gönderilen bir hello gösteren parametresi on_behalf_of hello özgün kullanıcı adına bir aşağı akış web API'si toocall API yeni isteyen web belirteçleri.</span><span class="sxs-lookup"><span data-stu-id="29e14-461">In addition, hello request is sent with an on_behalf_of parameter that indicates hello web API is requesting new tokens toocall a downstream web API on behalf of hello original user.</span></span>
3. <span data-ttu-id="29e14-462">Azure AD, bir JWT erişim belirteci ve bir JWT belirteci toohello ilk katmanlı web API yenileme döndürme bu hello ilk katmanlı web API izinleri tooaccess hello ikinci katmanlı web API sahiptir ve hello isteği doğrular doğrular.</span><span class="sxs-lookup"><span data-stu-id="29e14-462">Azure AD verifies that hello first-tier web API has permissions tooaccess hello second-tier web API and validates hello request, returning a JWT access token and a JWT refresh token toohello first-tier web API.</span></span>
4. <span data-ttu-id="29e14-463">HTTPS üzerinden ardından API çağrılarının hello ilk katmanlı web hello ikinci katmanlı web API hello belirteç dizesini hello yetkilendirme hello istek üstbilgisinde ekleyerek.</span><span class="sxs-lookup"><span data-stu-id="29e14-463">Over HTTPS, hello first-tier web API then calls hello second-tier web API by appending hello token string in hello Authorization header in hello request.</span></span> <span data-ttu-id="29e14-464">Merhaba erişim belirteci ve yenileme belirteçleri geçerli olduğu sürece hello ilk katmanlı web API toocall hello ikinci katmanlı web API devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-464">hello first-tier web API can continue toocall hello second-tier web API as long as hello access token and refresh tokens are valid.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="29e14-465">Kod Örnekleri</span><span class="sxs-lookup"><span data-stu-id="29e14-465">Code Samples</span></span>
<span data-ttu-id="29e14-466">Merhaba kod örnekleri arka plan programı veya sunucu uygulaması tooWeb API senaryoları için bkz.</span><span class="sxs-lookup"><span data-stu-id="29e14-466">See hello code samples for Daemon or Server Application tooWeb API scenarios.</span></span> <span data-ttu-id="29e14-467">Ve daha sonra yeniden sık--hello zaman yeni örnekler eklediğimiz denetleyin.</span><span class="sxs-lookup"><span data-stu-id="29e14-467">And, check back frequently -- we add new samples all hello time.</span></span> [<span data-ttu-id="29e14-468">Sunucu veya arka plan programı uygulama tooWeb API</span><span class="sxs-lookup"><span data-stu-id="29e14-468">Server or Daemon Application tooWeb API</span></span>](active-directory-code-samples.md#server-or-daemon-application-to-web-api)

#### <a name="registering"></a><span data-ttu-id="29e14-469">Kaydetme</span><span class="sxs-lookup"><span data-stu-id="29e14-469">Registering</span></span>
* <span data-ttu-id="29e14-470">Tek bir kiracı: hello uygulama kimliği ve temsilci atanan kullanıcı kimliğini çalışmaları için hello arka plan programı veya sunucu uygulaması hello kaydedilmelidir aynı Azure AD dizininde.</span><span class="sxs-lookup"><span data-stu-id="29e14-470">Single Tenant: For both hello application identity and delegated user identity cases, hello daemon or server application must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="29e14-471">Merhaba web API yapılandırılmış tooexpose kullanılan toolimit hello arka plan programı veya sunucunun tooits erişimine izin kümesi olabilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-471">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello daemon or server’s access tooits resources.</span></span> <span data-ttu-id="29e14-472">Temsilci atanan kullanıcı kimlik türü kullanılıyorsa, hello sunucu uygulaması hello Azure Portal hello "İzinleri tooOther uygulamaları" açılan menüsünden tooselect istenen hello izinleri olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="29e14-472">If a delegated user identity type is being used, hello server application needs tooselect hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span> <span data-ttu-id="29e14-473">Merhaba uygulama kimlik türü kullanılıyorsa bu adım gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="29e14-473">This step is not required if hello application identity type is being used.</span></span>
* <span data-ttu-id="29e14-474">Çok Kiracılı: İlk olarak, hello arka plan programı veya sunucu uygulaması toobe işlevsel gerektirir yapılandırılmış tooindicate hello izinleridir.</span><span class="sxs-lookup"><span data-stu-id="29e14-474">Multi-Tenant: First, hello daemon or server application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="29e14-475">Bir kullanıcının veya yöneticinin hello hedef dizinde kullanılabilir tootheir kuruluşun yaptığı onayı toohello uygulamasını verdiğinde bu gerekli izinlerin listesi iletişim kutusunda gösterilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-475">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="29e14-476">Bazı uygulamalar hello kuruluştaki herhangi bir kullanıcı onayı yalnızca kullanıcı düzeyinde izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="29e14-476">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="29e14-477">Diğer uygulamalar hello kuruluşunuzdaki bir kullanıcının onay veremez yönetici düzeyi izinler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="29e14-477">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="29e14-478">Yalnızca bir dizin Yöneticisi bu izin düzeyi, gerekli izni tooapplications verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="29e14-478">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="29e14-479">Merhaba kullanıcı veya yönetici izin, hello web API'leri her ikisi de kendi dizininde kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="29e14-479">When hello user or administrator consents, both of hello web APIs are registered in their directory.</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="29e14-480">Belirteç süre sonu</span><span class="sxs-lookup"><span data-stu-id="29e14-480">Token Expiration</span></span>
<span data-ttu-id="29e14-481">Merhaba ilk uygulama, yetkilendirme kodu tooget JWT erişim belirteci kullandığında, ayrıca, bir JWT yenileme belirteci alır.</span><span class="sxs-lookup"><span data-stu-id="29e14-481">When hello first application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="29e14-482">Merhaba erişim belirtecinin süresi dolduğunda, hello yenileme belirteci kullanılan toore olabilir-hello kullanıcı kimlik bilgileri olmadan kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="29e14-482">When hello access token expires, hello refresh token can be used toore-authenticate hello user without prompting for credentials.</span></span> <span data-ttu-id="29e14-483">Bu yenileme belirteci kullanılan tooauthenticate hello sonra kullanıcı, hangi sonuçları yeni bir erişim belirteci ve yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="29e14-483">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

## <a name="see-also"></a><span data-ttu-id="29e14-484">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="29e14-484">See Also</span></span>
[<span data-ttu-id="29e14-485">Azure Active Directory Geliştirici Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="29e14-485">Azure Active Directory Developer's Guide</span></span>](active-directory-developers-guide.md)

[<span data-ttu-id="29e14-486">Azure Active Directory kod örnekleri</span><span class="sxs-lookup"><span data-stu-id="29e14-486">Azure Active Directory Code Samples</span></span>](active-directory-code-samples.md)

[<span data-ttu-id="29e14-487">Azure AD'de anahtar geçişi imzalama hakkında önemli bilgiler</span><span class="sxs-lookup"><span data-stu-id="29e14-487">Important Information About Signing Key Rollover in Azure AD</span></span>](active-directory-signing-key-rollover.md)

[<span data-ttu-id="29e14-488">Azure AD'de OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="29e14-488">OAuth 2.0 in Azure AD</span></span>](https://msdn.microsoft.com/library/azure/dn645545.aspx)

