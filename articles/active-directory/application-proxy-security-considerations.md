---
title: "Azure AD uygulama proxy'si aaaSecurity dikkate alınacak noktalar | Microsoft Docs"
description: "Azure AD uygulama proxy'si kullanarak güvenlik konuları kapsar"
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/03/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: ebd14b9d1fc8f4629c5916e5a910595727d935d5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="security-considerations-for-accessing-apps-remotely-with-azure-ad-application-proxy"></a><span data-ttu-id="4080e-103">Uygulamaları Azure AD uygulama proxy'si ile uzaktan erişim için güvenlik konuları</span><span class="sxs-lookup"><span data-stu-id="4080e-103">Security considerations for accessing apps remotely with Azure AD Application Proxy</span></span>

<span data-ttu-id="4080e-104">Bu makale, Azure Active Directory Uygulama proxy'si yayımlama ve uygulamalarınızı uzaktan erişim için güvenli bir hizmet nasıl sağladığını açıklar.</span><span class="sxs-lookup"><span data-stu-id="4080e-104">This article explains how Azure Active Directory Application Proxy provides a secure service for publishing and accessing your applications remotely.</span></span>

<span data-ttu-id="4080e-105">Aşağıdaki diyagramda gösterildiği nasıl Azure AD hello tooyour şirket içi uygulamalara güvenli uzaktan erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="4080e-105">hello following diagram shows how Azure AD enables secure remote access tooyour on-premises applications.</span></span>

 ![Azure AD uygulama proxy'si aracılığıyla güvenli uzaktan erişim diyagramı](./media/application-proxy-security-considerations/secure-remote-access.png)

## <a name="security-benefits"></a><span data-ttu-id="4080e-107">Güvenlik avantajları</span><span class="sxs-lookup"><span data-stu-id="4080e-107">Security benefits</span></span>

<span data-ttu-id="4080e-108">Azure AD uygulama proxy'si güvenlik avantajlarından aşağıdaki hello sunar:</span><span class="sxs-lookup"><span data-stu-id="4080e-108">Azure AD Application Proxy offers hello following security benefits:</span></span>

### <a name="authenticated-access"></a><span data-ttu-id="4080e-109">Kimliği doğrulanmış erişim</span><span class="sxs-lookup"><span data-stu-id="4080e-109">Authenticated access</span></span> 

<span data-ttu-id="4080e-110">Toouse Azure Active Directory ön kimlik doğrulamasını seçerseniz, yalnızca kimliği doğrulanmış bağlantılar ağınıza erişebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4080e-110">If you choose toouse Azure Active Directory preauthentication, then only authenticated connections can access your network.</span></span>

<span data-ttu-id="4080e-111">Azure AD uygulama proxy'si hello Azure AD güvenlik belirteci hizmeti (STS) tüm kimlik doğrulaması için kullanır.</span><span class="sxs-lookup"><span data-stu-id="4080e-111">Azure AD Application Proxy relies on hello Azure AD security token service (STS) for all authentication.</span></span>  <span data-ttu-id="4080e-112">Ön kimlik doğrulaması, yalnızca kimliği doğrulanmış kimlikleri Merhaba arka uç uygulaması erişebildiğinden gereği, anonim saldırıları, çok sayıda engeller.</span><span class="sxs-lookup"><span data-stu-id="4080e-112">Preauthentication, by its very nature, blocks a significant number of anonymous attacks, because only authenticated identities can access hello back-end application.</span></span>

<span data-ttu-id="4080e-113">Ön kimlik doğrulaması yöntemi olarak geçiş seçerseniz, bu avantajı elde etmezsiniz.</span><span class="sxs-lookup"><span data-stu-id="4080e-113">If you choose Passthrough as your preauthentication method, you don't get this benefit.</span></span> 

### <a name="conditional-access"></a><span data-ttu-id="4080e-114">Koşullu erişim</span><span class="sxs-lookup"><span data-stu-id="4080e-114">Conditional access</span></span>

<span data-ttu-id="4080e-115">Tooyour ağ kurulan bağlantılar önce daha zengin İlkesi denetimleri uygulayın.</span><span class="sxs-lookup"><span data-stu-id="4080e-115">Apply richer policy controls before connections tooyour network are established.</span></span>

<span data-ttu-id="4080e-116">İle [koşullu erişim](active-directory-conditional-access-azuread-connected-apps.md), tanımlayabileceğiniz hangi trafik kısıtlamalar izin tooaccess arka uç uygulamalarınızı.</span><span class="sxs-lookup"><span data-stu-id="4080e-116">With [conditional access](active-directory-conditional-access-azuread-connected-apps.md), you can define restrictions on what traffic is allowed tooaccess your back-end applications.</span></span> <span data-ttu-id="4080e-117">Oturum açma işlemleri kimlik doğrulama ve kullanıcı riski profili gücünü konuma göre kısıtlayan ilkeler oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4080e-117">You can create policies that restrict sign-ins based on location, strength of authentication, and user risk profile.</span></span>

<span data-ttu-id="4080e-118">Güvenlik tooyour kullanıcı kimlik doğrulamalarını, başka bir katman ekleme koşullu erişim tooconfigure çok faktörlü kimlik doğrulama ilkelerini de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4080e-118">You can also use conditional access tooconfigure Multi-Factor Authentication policies, adding another layer of security tooyour user authentications.</span></span> 

### <a name="traffic-termination"></a><span data-ttu-id="4080e-119">Trafik sonlandırma</span><span class="sxs-lookup"><span data-stu-id="4080e-119">Traffic termination</span></span>

<span data-ttu-id="4080e-120">Tüm trafiği hello bulutta sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="4080e-120">All traffic is terminated in hello cloud.</span></span>

<span data-ttu-id="4080e-121">Azure AD uygulama proxy'si ters proxy olduğundan, tüm trafik tooback uç uygulamaları hello hizmeti tarafından sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="4080e-121">Because Azure AD Application Proxy is a reverse-proxy, all traffic tooback-end applications is terminated at hello service.</span></span> <span data-ttu-id="4080e-122">Merhaba oturum yalnızca hello arka uç sunucuyla yeniden sunulan toodirect HTTP trafiği arka uç sunucusu olmayan anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="4080e-122">hello session can get reestablished only with hello back-end server, which means that your back-end servers are not exposed toodirect HTTP traffic.</span></span> <span data-ttu-id="4080e-123">Bu yapılandırma, hedeflenen saldırılara karşı daha iyi korunur anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="4080e-123">This configuration means that you are better protected from targeted attacks.</span></span>

### <a name="all-access-is-outbound"></a><span data-ttu-id="4080e-124">Tüm erişim giden</span><span class="sxs-lookup"><span data-stu-id="4080e-124">All access is outbound</span></span> 

<span data-ttu-id="4080e-125">Tooopen gelen bağlantıları toohello şirket ağı gerekmez.</span><span class="sxs-lookup"><span data-stu-id="4080e-125">You don't need tooopen inbound connections toohello corporate network.</span></span>

<span data-ttu-id="4080e-126">Uygulama proxy'si bağlayıcıları yalnızca tooopen güvenlik duvarı bağlantı noktalarını gelen bağlantılar için gerekli olduğu anlamına gelir giden bağlantılar toohello Azure AD uygulama proxy'si hizmeti kullanın.</span><span class="sxs-lookup"><span data-stu-id="4080e-126">Application Proxy connectors only use outbound connections toohello Azure AD Application Proxy service, which means that there is no need tooopen firewall ports for incoming connections.</span></span> <span data-ttu-id="4080e-127">Geleneksel proxy'leri bir çevre ağına gerekli (olarak da bilinen *DMZ*, *sivil bölge*, veya *Perdeli alt ağ*) ve erişim toounauthenticated izin verilir bağlantıları hello ağ sınırında.</span><span class="sxs-lookup"><span data-stu-id="4080e-127">Traditional proxies required a perimeter network (also known as *DMZ*, *demilitarized zone*, or *screened subnet*) and allowed access toounauthenticated connections at hello network edge.</span></span> <span data-ttu-id="4080e-128">Bu senaryo, web uygulaması birçok ek yatırım ürünleri tooanalyze trafiğinin güvenlik duvarı ve toplama korumaları toohello ortam önermiş gereklidir.</span><span class="sxs-lookup"><span data-stu-id="4080e-128">This scenario required many additional investments in web application firewall products tooanalyze traffic and offer addition protections toohello environment.</span></span> <span data-ttu-id="4080e-129">Uygulama proxy'si ile tüm bağlantıları giden olduğu ve güvenli bir kanal üzerinden gerçekleşmesi için bir çevre ağına gerekmez.</span><span class="sxs-lookup"><span data-stu-id="4080e-129">With Application Proxy, you don't need a perimeter network because all connections are outbound and take place over a secure channel.</span></span>

<span data-ttu-id="4080e-130">Bağlayıcılar hakkında daha fazla bilgi için bkz: [anlamak Azure AD uygulama proxy'si Bağlayıcılar](application-proxy-understand-connectors.md).</span><span class="sxs-lookup"><span data-stu-id="4080e-130">For more information about connectors, see [Understand Azure AD Application Proxy connectors](application-proxy-understand-connectors.md).</span></span>

### <a name="cloud-scale-analytics-and-machine-learning"></a><span data-ttu-id="4080e-131">Bulut ölçekli analizi ve makine öğrenme</span><span class="sxs-lookup"><span data-stu-id="4080e-131">Cloud-scale analytics and machine learning</span></span> 

<span data-ttu-id="4080e-132">Modern güvenlik koruması alın.</span><span class="sxs-lookup"><span data-stu-id="4080e-132">Get cutting-edge security protection.</span></span>

<span data-ttu-id="4080e-133">Azure Active Directory'nin parçası olduğu için uygulama proxy'si yararlanabilirsiniz [Azure AD Identity Protection](active-directory-identityprotection.md), öğrenme tabanlı makine Intelligence ve hello Microsoft Security Response Center ve dijital Suçlar Birimi'nin veriler ile.</span><span class="sxs-lookup"><span data-stu-id="4080e-133">Because it's part of Azure Active Directory, Application Proxy can leverage [Azure AD Identity Protection](active-directory-identityprotection.md), with machine learning-driven intelligence and data from hello Microsoft Security Response Center and Digital Crimes Unit.</span></span> <span data-ttu-id="4080e-134">Birlikte biz proaktif olarak güvenliği aşılmış hesaplarını tanımlayan ve bu yüksek riskli oturum açma işlemleri gerçek zamanlı koruma sağlar. Biz anonymizing ağlarına virüs bulaşmış cihazlardan ve alışılmadık ve tahmin edilemez konumlardan erişim gibi çok sayıda faktöre dikkate alın.</span><span class="sxs-lookup"><span data-stu-id="4080e-134">Together we proactively identify compromised accounts and offer real-time protection from high-risk sign-ins. We take into account numerous factors, such as access from infected devices, through anonymizing networks, and from atypical and unlikely locations.</span></span>

<span data-ttu-id="4080e-135">Bu raporlar ve olayları birçoğu, aynı zamanda güvenlik bilgileri ve Olay yönetimi (SIEM) sistemleri ile tümleştirme için bir API aracılığıyla zaten kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="4080e-135">Many of these reports and events are already available through an API for integration with your security information and event management (SIEM) systems.</span></span>

### <a name="remote-access-as-a-service"></a><span data-ttu-id="4080e-136">Bir hizmet olarak uzaktan erişim</span><span class="sxs-lookup"><span data-stu-id="4080e-136">Remote access as a service</span></span>

<span data-ttu-id="4080e-137">Koruma ve şirket içi sunucular düzeltme eki uygulama hakkında tooworry yok.</span><span class="sxs-lookup"><span data-stu-id="4080e-137">You don’t have tooworry about maintaining and patching on-premises servers.</span></span>

<span data-ttu-id="4080e-138">Hala yüklenmemiş yazılım saldırıları, çok sayıda için hesapları.</span><span class="sxs-lookup"><span data-stu-id="4080e-138">Unpatched software still accounts for a large number of attacks.</span></span> <span data-ttu-id="4080e-139">Her zaman hello en son güvenlik düzeltme eki ve yükseltmelerini almak için azure AD uygulama proxy'si Microsoft sahibi, bir Internet ölçeğinde hizmetidir.</span><span class="sxs-lookup"><span data-stu-id="4080e-139">Azure AD Application Proxy is an Internet-scale service that Microsoft owns, so you always get hello latest security patches and upgrades.</span></span>

<span data-ttu-id="4080e-140">Azure AD uygulama proxy'si tarafından yayımlanan uygulamaların tooimprove hello güvenlik, dizin oluşturma ve uygulamalarınızı arşivleme web Gezgin robots engelleyin.</span><span class="sxs-lookup"><span data-stu-id="4080e-140">tooimprove hello security of applications published by Azure AD Application Proxy, we block web crawler robots from indexing and archiving your applications.</span></span> <span data-ttu-id="4080e-141">Bir web Gezgini robot yayımlanan bir uygulamanın robot kullanıcının ayarlarını almak için her çalıştığında uygulama proxy'si yanıtları içeren bir robots.txt dosyası ile `User-agent: * Disallow: /`.</span><span class="sxs-lookup"><span data-stu-id="4080e-141">Each time a web crawler robot tries to retrieve the robot's settings for a published app, Application Proxy replies with a robots.txt file that includes `User-agent: * Disallow: /`.</span></span>

## <a name="under-hello-hood"></a><span data-ttu-id="4080e-142">Merhaba başlık altında</span><span class="sxs-lookup"><span data-stu-id="4080e-142">Under hello hood</span></span>

<span data-ttu-id="4080e-143">Azure AD uygulama proxy'si iki bölümden oluşur:</span><span class="sxs-lookup"><span data-stu-id="4080e-143">Azure AD Application Proxy consists of two parts:</span></span>

* <span data-ttu-id="4080e-144">bulut tabanlı hizmet Hello: Bu hizmet, Azure üzerinde çalışır ve burada hello dış istemci/kullanıcı bağlantıları yapılan olduğu.</span><span class="sxs-lookup"><span data-stu-id="4080e-144">hello cloud-based service: This service runs in Azure, and is where hello external client/user connections are made.</span></span>
* <span data-ttu-id="4080e-145">[Merhaba şirket içi Bağlayıcısı](application-proxy-understand-connectors.md): hello bağlayıcı bir şirket içi bileşeni hello Azure AD uygulama proxy'si hizmeti gelen istekleri dinler ve bağlantıları toohello iç uygulamaları işler.</span><span class="sxs-lookup"><span data-stu-id="4080e-145">[hello on-premises connector](application-proxy-understand-connectors.md): An on-premises component, hello connector listens for requests from hello Azure AD Application Proxy service and handles connections toohello internal applications.</span></span> 

<span data-ttu-id="4080e-146">Bir akış hello bağlayıcı ile Merhaba uygulama proxy'si hizmeti arasında kurulan zaman:</span><span class="sxs-lookup"><span data-stu-id="4080e-146">A flow between hello connector and hello Application Proxy service is established when:</span></span>

* <span data-ttu-id="4080e-147">Merhaba bağlayıcı ilk ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="4080e-147">hello connector is first set up.</span></span>
* <span data-ttu-id="4080e-148">Merhaba bağlayıcı hello uygulama proxy'si hizmeti yapılandırma bilgileri çeker.</span><span class="sxs-lookup"><span data-stu-id="4080e-148">hello connector pulls configuration information from hello Application Proxy service.</span></span>
* <span data-ttu-id="4080e-149">Bir kullanıcı bir yayımlanan uygulamaya erişiyor.</span><span class="sxs-lookup"><span data-stu-id="4080e-149">A user accesses a published application.</span></span>

>[!NOTE]
><span data-ttu-id="4080e-150">SSL üzerinden tüm iletişimler ortaya ve bunlar her zaman hello bağlayıcı toohello uygulama proxy'si hizmeti kaynaklanan.</span><span class="sxs-lookup"><span data-stu-id="4080e-150">All communications occur over SSL, and they always originate at hello connector toohello Application Proxy service.</span></span> <span data-ttu-id="4080e-151">Merhaba yalnızca giden hizmetidir.</span><span class="sxs-lookup"><span data-stu-id="4080e-151">hello service is outbound only.</span></span>

<span data-ttu-id="4080e-152">Merhaba bağlayıcı bir istemci sertifikası tooauthenticate toohello neredeyse tüm çağrıları için uygulama proxy'si hizmeti kullanır.</span><span class="sxs-lookup"><span data-stu-id="4080e-152">hello connector uses a client certificate tooauthenticate toohello Application Proxy service for nearly all calls.</span></span> <span data-ttu-id="4080e-153">Merhaba yalnızca özel durum toothis hello ilk kurulum adım hello istemci sertifikası burada kurulur işlemidir.</span><span class="sxs-lookup"><span data-stu-id="4080e-153">hello only exception toothis process is hello initial setup step, where hello client certificate is established.</span></span>

### <a name="installing-hello-connector"></a><span data-ttu-id="4080e-154">Merhaba bağlayıcısını yükleme</span><span class="sxs-lookup"><span data-stu-id="4080e-154">Installing hello connector</span></span>

<span data-ttu-id="4080e-155">Merhaba bağlayıcı ilk olarak ayarlandığında, akış olaylarını aşağıdaki hello gerçekleşir:</span><span class="sxs-lookup"><span data-stu-id="4080e-155">When hello connector is first set up, hello following flow events take place:</span></span>

1. <span data-ttu-id="4080e-156">Merhaba bağlayıcı kayıt toohello hizmeti hello yükleme hello Bağlayıcısı'nın bir parçası olarak gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="4080e-156">hello connector registration toohello service happens as part of hello installation of hello connector.</span></span> <span data-ttu-id="4080e-157">Kullanıcılar kendi Azure AD yönetici kimlik bilgileri istendiğinde tooenter şunlardır.</span><span class="sxs-lookup"><span data-stu-id="4080e-157">Users are prompted tooenter their Azure AD admin credentials.</span></span> <span data-ttu-id="4080e-158">Bu kimlik doğrulamasını edinilen belirteci sonra toohello Azure AD uygulama proxy'si hizmeti sunulur.</span><span class="sxs-lookup"><span data-stu-id="4080e-158">The token acquired from this authentication is then presented toohello Azure AD Application Proxy service.</span></span>
2. <span data-ttu-id="4080e-159">Merhaba uygulama proxy'si hizmeti hello belirteci değerlendirir.</span><span class="sxs-lookup"><span data-stu-id="4080e-159">hello Application Proxy service evaluates hello token.</span></span> <span data-ttu-id="4080e-160">Bunu hello kullanıcı belirteci hello hello Kiracı içinde bir şirket Yöneticisi için verilmiş sağlar.</span><span class="sxs-lookup"><span data-stu-id="4080e-160">It ensures that hello user is a company administrator within hello tenant that hello token was issued for.</span></span> <span data-ttu-id="4080e-161">Merhaba kullanıcı bir yönetici değilse, hello işlem sonlandırıldı.</span><span class="sxs-lookup"><span data-stu-id="4080e-161">If hello user is not an administrator, hello process is terminated.</span></span>
3. <span data-ttu-id="4080e-162">Merhaba bağlayıcı istemci sertifika isteği oluşturur ve, hello belirteç, toohello uygulama proxy'si hizmeti ile birlikte geçirir.</span><span class="sxs-lookup"><span data-stu-id="4080e-162">hello connector generates a client certificate request and passes it, along with hello token, toohello Application Proxy service.</span></span> <span data-ttu-id="4080e-163">Merhaba hizmeti sırayla hello belirteci doğrular ve hello istemci sertifika isteğini imzalar.</span><span class="sxs-lookup"><span data-stu-id="4080e-163">hello service in turn verifies hello token and signs hello client certificate request.</span></span>
4. <span data-ttu-id="4080e-164">Merhaba bağlayıcı hello istemci sertifikasını hello uygulama proxy'si hizmeti ile gelecekteki iletişim için kullanır.</span><span class="sxs-lookup"><span data-stu-id="4080e-164">hello connector uses hello client certificate for future communication with hello Application Proxy service.</span></span>
5. <span data-ttu-id="4080e-165">Hello bağlayıcı hello sistem yapılandırma verilerinin ilk bir çekme, istemci sertifikasını kullanarak hello hizmetinden gerçekleştirir ve şimdi hazır tootake isteği sayısıdır.</span><span class="sxs-lookup"><span data-stu-id="4080e-165">hello connector performs an initial pull of hello system configuration data from hello service using its client certificate, and it is now ready tootake requests.</span></span>

### <a name="updating-hello-configuration-settings"></a><span data-ttu-id="4080e-166">Merhaba yapılandırma ayarları güncelleştiriliyor</span><span class="sxs-lookup"><span data-stu-id="4080e-166">Updating hello configuration settings</span></span>

<span data-ttu-id="4080e-167">Merhaba uygulama Proxy hizmeti başlangıç yapılandırma ayarlarını güncelleştirdiğinde, akış olaylarını aşağıdaki hello gerçekleşir:</span><span class="sxs-lookup"><span data-stu-id="4080e-167">Whenever hello Application Proxy service updates hello configuration settings, hello following flow events take place:</span></span>

1. <span data-ttu-id="4080e-168">Merhaba bağlayıcı toohello yapılandırma endpoint hello uygulama proxy'si hizmeti içinde istemci sertifikasını kullanarak bağlanır.</span><span class="sxs-lookup"><span data-stu-id="4080e-168">hello connector connects toohello configuration endpoint within hello Application Proxy service by using its client certificate.</span></span>
2. <span data-ttu-id="4080e-169">Merhaba istemci sertifikası doğrulandıktan sonra hello uygulama proxy'si hizmeti yapılandırma veri toohello Bağlayıcısı döndürür (örneğin, bağlayıcı hello hello bağlayıcı Grup parçası olmalıdır).</span><span class="sxs-lookup"><span data-stu-id="4080e-169">After hello client certificate has been validated, hello Application Proxy service returns configuration data toohello connector (for example, hello connector group that hello connector should be part of).</span></span>
3. <span data-ttu-id="4080e-170">Merhaba geçerli sertifika 180 günden daha eski ise, hello bağlayıcı etkili bir şekilde hello istemci sertifikası 180 günde güncelleştirmeleri yeni bir sertifika isteği oluşturur.</span><span class="sxs-lookup"><span data-stu-id="4080e-170">If hello current certificate is more than 180 days old, hello connector generates a new certificate request, which effectively updates hello client certificate every 180 days.</span></span>

### <a name="accessing-published-applications"></a><span data-ttu-id="4080e-171">Yayımlanan uygulamalara erişme</span><span class="sxs-lookup"><span data-stu-id="4080e-171">Accessing published applications</span></span>

<span data-ttu-id="4080e-172">Kullanıcılar yayımlanmış bir uygulama eriştiğinde hello aşağıdaki olaylar hello uygulama proxy'si hizmeti ile Merhaba uygulama ara sunucusu Bağlayıcısı arasındaki gerçekleşir:</span><span class="sxs-lookup"><span data-stu-id="4080e-172">When users access a published application, hello following events take place between hello Application Proxy service and hello Application Proxy connector:</span></span>

1. [<span data-ttu-id="4080e-173">Merhaba hizmeti hello kullanıcı hello uygulaması için kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="4080e-173">hello service authenticates hello user for hello app</span></span>](#the-service-checks-the-configuration-settings-for-the-app)
2. [<span data-ttu-id="4080e-174">Merhaba hizmet isteği hello bağlayıcı sırasına yerleştirir.</span><span class="sxs-lookup"><span data-stu-id="4080e-174">hello service places a request in hello connector queue</span></span>](#The-service-places-a-request-in-the-connector-queue)
3. [<span data-ttu-id="4080e-175">Bir bağlayıcı hello sırasından hello isteğini işler</span><span class="sxs-lookup"><span data-stu-id="4080e-175">A connector processes hello request from hello queue</span></span>](#the-connector-receives-the-request-from-the-queue)
4. [<span data-ttu-id="4080e-176">Merhaba bağlayıcı için bir yanıt bekler</span><span class="sxs-lookup"><span data-stu-id="4080e-176">hello connector waits for a response</span></span>](#the-connector-waits-for-a-response)
5. [<span data-ttu-id="4080e-177">Merhaba hizmet akışları veri toohello kullanıcısı</span><span class="sxs-lookup"><span data-stu-id="4080e-177">hello service streams data toohello user</span></span>](#the-service-streams-data-to-the-user)

<span data-ttu-id="4080e-178">Bu adımların her biri bir yerde neler hakkında daha fazla toolearn tutmak okunuyor.</span><span class="sxs-lookup"><span data-stu-id="4080e-178">toolearn more about what takes place in each of these steps, keep reading.</span></span>


#### <a name="1-hello-service-authenticates-hello-user-for-hello-app"></a><span data-ttu-id="4080e-179">1. hello hizmeti hello kullanıcı hello uygulaması için kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="4080e-179">1. hello service authenticates hello user for hello app</span></span>

<span data-ttu-id="4080e-180">Merhaba uygulama toouse geçiş, ön kimlik doğrulaması yöntemi olarak yapılandırdıysanız, bu bölümdeki hello adımları atlanır.</span><span class="sxs-lookup"><span data-stu-id="4080e-180">If you configured hello app toouse Passthrough as its preauthentication method, hello steps in this section are skipped.</span></span>

<span data-ttu-id="4080e-181">Azure AD ile Merhaba uygulama toopreauthenticate yapılandırdıysanız, kullanıcılar yeniden yönlendirilen toohello Azure AD STS tooauthenticate ve hello aşağıdaki adımlar gerçekleşir:</span><span class="sxs-lookup"><span data-stu-id="4080e-181">If you configured hello app toopreauthenticate with Azure AD, users are redirected toohello Azure AD STS tooauthenticate, and hello following steps take place:</span></span>

1. <span data-ttu-id="4080e-182">Koşullu erişim ilkesi gereksinimlere hello belirli uygulama için uygulama proxy'si denetler.</span><span class="sxs-lookup"><span data-stu-id="4080e-182">Application Proxy checks for any conditional access policy requirements for hello specific application.</span></span> <span data-ttu-id="4080e-183">Bu adım, bu hello kullanıcı toohello uygulama atanan sağlar.</span><span class="sxs-lookup"><span data-stu-id="4080e-183">This step ensures that hello user has been assigned toohello application.</span></span> <span data-ttu-id="4080e-184">İki aşamalı doğrulama gerekliyse, hello kimlik doğrulaması dizisi ikinci bir kimlik doğrulama yöntemi hello kullanıcıya sorar.</span><span class="sxs-lookup"><span data-stu-id="4080e-184">If two-step verification is required, hello authentication sequence prompts hello user for a second authentication method.</span></span>

2. <span data-ttu-id="4080e-185">Tüm denetimler geçtikten sonra hello Azure AD STS Merhaba uygulaması için imzalı bir belirteç verir ve kullanıcı geri toohello uygulama proxy'si hizmeti yeniden yönlendirmeleri hello.</span><span class="sxs-lookup"><span data-stu-id="4080e-185">After all checks have passed, hello Azure AD STS issues a signed token for hello application and redirects hello user back toohello Application Proxy service.</span></span>

3. <span data-ttu-id="4080e-186">Uygulama proxy'si hello belirtecini toocorrect hello uygulama verilen doğrular.</span><span class="sxs-lookup"><span data-stu-id="4080e-186">Application Proxy verifies that hello token was issued toocorrect hello application.</span></span> <span data-ttu-id="4080e-187">Diğer denetimleri de gerçekleştirir, o hello sağlama gibi belirteci Azure AD tarafından imzalanmış ve onun hala hello geçerli içinde penceredir.</span><span class="sxs-lookup"><span data-stu-id="4080e-187">It performs other checks also, such as ensuring that hello token was signed by Azure AD, and that it is still within hello valid window.</span></span>

4. <span data-ttu-id="4080e-188">Uygulama proxy'si kimlik doğrulaması toohello uygulama oluştu şifreli kimlik doğrulama tanımlama bilgisi tooindicate ayarlar.</span><span class="sxs-lookup"><span data-stu-id="4080e-188">Application Proxy sets an encrypted authentication cookie tooindicate that authentication toohello application has occurred.</span></span> <span data-ttu-id="4080e-189">kimlik doğrulama hello hello kullanıcı adı dayanır gibi hello tanımlama bilgisi hello belirteci Azure AD'den ve diğer veriler temel alınarak bir sona erme zaman damgası içerir.</span><span class="sxs-lookup"><span data-stu-id="4080e-189">hello cookie includes an expiration timestamp that's based on hello token from Azure AD and other data, such as hello user name that hello authentication is based on.</span></span> <span data-ttu-id="4080e-190">Merhaba tanımlama bilgisi yalnızca toohello uygulama proxy'si hizmeti bilinen özel bir anahtarla şifrelenir.</span><span class="sxs-lookup"><span data-stu-id="4080e-190">hello cookie is encrypted with a private key known only toohello Application Proxy service.</span></span>

5. <span data-ttu-id="4080e-191">Uygulama proxy'si yeniden yönlendirmeleri hello kullanıcı geri toohello başlangıçta URL istendi.</span><span class="sxs-lookup"><span data-stu-id="4080e-191">Application Proxy redirects hello user back toohello originally requested URL.</span></span>

<span data-ttu-id="4080e-192">Herhangi bir kısmını hello ön kimlik doğrulama adımları başarısız olursa, hello kullanıcının isteği reddedilir ve hello kullanıcı hello sorunun hello kaynağını belirten bir ileti gösterilir.</span><span class="sxs-lookup"><span data-stu-id="4080e-192">If any part of hello preauthentication steps fails, hello user’s request is denied, and hello user is shown a message indicating hello source of hello problem.</span></span>


#### <a name="2-hello-service-places-a-request-in-hello-connector-queue"></a><span data-ttu-id="4080e-193">2. hello hizmet isteği hello bağlayıcı sırasına yerleştirir.</span><span class="sxs-lookup"><span data-stu-id="4080e-193">2. hello service places a request in hello connector queue</span></span>

<span data-ttu-id="4080e-194">Bağlayıcılar bir giden bağlantı açık toohello uygulama proxy'si hizmeti tutun.</span><span class="sxs-lookup"><span data-stu-id="4080e-194">Connectors keep an outbound connection open toohello Application Proxy service.</span></span> <span data-ttu-id="4080e-195">Bir istek geldiğinde, açık olan bağlantıların hello hello bağlayıcı toopick için hello isteği yukarı hello hizmet sıralar.</span><span class="sxs-lookup"><span data-stu-id="4080e-195">When a request comes in, hello service queues up hello request on one of hello open connections for hello connector toopick up.</span></span>

<span data-ttu-id="4080e-196">Merhaba istek hello uygulama hello istek üstbilgileri, şifrelenmiş hello tanımlama bilgisi verileri gibi öğeleri içerir, hello Kullanıcı isteği hello ve hello hale istek kimliği.</span><span class="sxs-lookup"><span data-stu-id="4080e-196">hello request includes items from hello application, such as hello request headers, data from hello encrypted cookie, hello user making hello request, and hello request ID.</span></span> <span data-ttu-id="4080e-197">Merhaba şifreli tanımlama bilgisi verileri hello istekle gönderilen rağmen hello kimlik doğrulama tanımlama bilgisi değildir.</span><span class="sxs-lookup"><span data-stu-id="4080e-197">Although data from hello encrypted cookie is sent with hello request, hello authentication cookie itself is not.</span></span>

#### <a name="3-hello-connector-processes-hello-request-from-hello-queue"></a><span data-ttu-id="4080e-198">3. hello bağlayıcı hello sırasından hello isteğini işler.</span><span class="sxs-lookup"><span data-stu-id="4080e-198">3. hello connector processes hello request from hello queue.</span></span> 

<span data-ttu-id="4080e-199">Merhaba isteği temel alarak, uygulama proxy'si eylemleri aşağıdaki hello birini gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="4080e-199">Based on hello request, Application Proxy performs one of hello following actions:</span></span>

* <span data-ttu-id="4080e-200">Merhaba istek basit bir işlemle ise (örneğin, bir RESTful ile olduğu gibi hello gövdesi içinde veri yok *almak* isteği), hello Bağlayıcısı bağlantı toohello hedef iç kaynak yapar ve sonra bir yanıt için bekler.</span><span class="sxs-lookup"><span data-stu-id="4080e-200">If hello request is a simple operation (for example, there is no data within hello body as is with a RESTful *GET* request), hello connector makes a connection toohello target internal resource and then waits for a response.</span></span>

* <span data-ttu-id="4080e-201">Merhaba isteği hello gövdesinde ilişkili veri varsa (örneğin, bir RESTful *POST* işlemi), hello bağlayıcı hello istemci sertifikası toohello uygulama proxy'si örneği kullanarak giden bir bağlantı sağlar.</span><span class="sxs-lookup"><span data-stu-id="4080e-201">If hello request has data associated with it in hello body (for example, a RESTful *POST* operation), hello connector makes an outbound connection by using hello client certificate toohello Application Proxy instance.</span></span> <span data-ttu-id="4080e-202">Bu bağlantı toorequest hello verileri yapar ve bir bağlantı toohello iç kaynağı açın.</span><span class="sxs-lookup"><span data-stu-id="4080e-202">It makes this connection toorequest hello data and open a connection toohello internal resource.</span></span> <span data-ttu-id="4080e-203">Merhaba bağlayıcısından hello isteği aldıktan sonra hello uygulama proxy'si hizmeti hello kullanıcı içerikten kabul başlar ve veri toohello Bağlayıcısı iletir.</span><span class="sxs-lookup"><span data-stu-id="4080e-203">After it receives hello request from hello connector, hello Application Proxy service begins accepting content from hello user and forwards data toohello connector.</span></span> <span data-ttu-id="4080e-204">Merhaba bağlayıcı sırayla hello veri toohello iç kaynak iletir.</span><span class="sxs-lookup"><span data-stu-id="4080e-204">hello connector, in turn, forwards hello data toohello internal resource.</span></span>

#### <a name="4-hello-connector-waits-for-a-response"></a><span data-ttu-id="4080e-205">4. hello bağlayıcı için bir yanıt bekler.</span><span class="sxs-lookup"><span data-stu-id="4080e-205">4. hello connector waits for a response.</span></span>

<span data-ttu-id="4080e-206">Hello isteğini ve tüm içerik toohello iletimini geri sonra son tamamlandıktan, hello bağlayıcı için bir yanıt bekler.</span><span class="sxs-lookup"><span data-stu-id="4080e-206">After hello request and transmission of all content toohello back end is complete, hello connector waits for a response.</span></span>

<span data-ttu-id="4080e-207">Yanıt aldıktan sonra bir giden bağlantı toohello uygulama proxy'si hizmeti hello bağlayıcı yapar, tooreturn başlık ayrıntıları hello ve hello dönüş verileri akış başlamadan.</span><span class="sxs-lookup"><span data-stu-id="4080e-207">After it receives a response, hello connector makes an outbound connection toohello Application Proxy service, tooreturn hello header details and begin streaming hello return data.</span></span>

#### <a name="5-hello-service-streams-data-toohello-user"></a><span data-ttu-id="4080e-208">5. hello hizmet akışları veri toohello kullanıcı.</span><span class="sxs-lookup"><span data-stu-id="4080e-208">5. hello service streams data toohello user.</span></span> 

<span data-ttu-id="4080e-209">Merhaba uygulaması bazı işlenmesini burada ortaya çıkabilir.</span><span class="sxs-lookup"><span data-stu-id="4080e-209">Some processing of hello application may occur here.</span></span> <span data-ttu-id="4080e-210">Uygulama proxy'si tootranslate üstbilgilerinde veya URL'leri uygulamanızda yapılandırdıysanız, bu işlem bu adım sırasında gerektiği şekilde gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="4080e-210">If you configured Application Proxy tootranslate headers or URLs in your application, that processing happens as needed during this step.</span></span>


## <a name="next-steps"></a><span data-ttu-id="4080e-211">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="4080e-211">Next steps</span></span>

[<span data-ttu-id="4080e-212">Azure AD uygulama proxy'si kullanırken ağ topolojisi hakkında önemli noktalar</span><span class="sxs-lookup"><span data-stu-id="4080e-212">Network topology considerations when using Azure AD Application Proxy</span></span>](application-proxy-network-topology-considerations.md)

[<span data-ttu-id="4080e-213">Azure AD uygulama proxy'si bağlayıcılar anlama</span><span class="sxs-lookup"><span data-stu-id="4080e-213">Understand Azure AD Application Proxy connectors</span></span>](application-proxy-understand-connectors.md)
