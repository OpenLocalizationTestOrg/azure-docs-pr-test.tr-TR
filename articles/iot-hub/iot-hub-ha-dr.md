---
title: "aaaAzure IOT hub'ı yüksek kullanılabilirlik ve olağanüstü durum kurtarma | Microsoft Docs"
description: "Olağanüstü durum kurtarma özellikleri ile yüksek oranda kullanılabilir Azure IOT çözümleri toobuild yardımcı hello Azure ve IOT hub'ı özelliklerini açıklar."
services: iot-hub
documentationcenter: 
author: fsautomata
manager: timlt
editor: 
ms.assetid: ae320e58-aa20-45b9-abdc-fa4faae8e6dd
ms.service: iot-hub
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/16/2016
ms.author: elioda
ms.openlocfilehash: 74e1fa1682258819ffb3fd84eb79e42fc6e4120f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="iot-hub-high-availability-and-disaster-recovery"></a><span data-ttu-id="78798-103">IOT hub'ı yüksek kullanılabilirlik ve olağanüstü durum kurtarma</span><span class="sxs-lookup"><span data-stu-id="78798-103">IoT Hub high availability and disaster recovery</span></span>
<span data-ttu-id="78798-104">Bir Azure hizmeti IOT hub'ı hello çözümü tarafından gerekli herhangi bir ek iş olmadan hello Azure bölgesi düzeyinde açarken kullanarak yüksek kullanılabilirlik (HA) sağlar.</span><span class="sxs-lookup"><span data-stu-id="78798-104">As an Azure service, IoT Hub provides high availability (HA) using redundancies at hello Azure region level, without any additional work required by hello solution.</span></span> <span data-ttu-id="78798-105">Merhaba Microsoft Azure platformu özellikleri toohelp olağanüstü durum kurtarma (DR) özelliklerini veya çapraz bölge kullanılabilirliği ile çözümler derleme de içerir.</span><span class="sxs-lookup"><span data-stu-id="78798-105">hello Microsoft Azure platform also includes features toohelp you build solutions with disaster recovery (DR) capabilities or cross-region availability.</span></span> <span data-ttu-id="78798-106">Tooprovide genel istiyorsanız, çapraz bölge yüksek kullanılabilirlik aygıtların veya kullanıcıların, tasarım ve tootake bu özelliklerden Azure DR çözümlerinizi hazırlayın.</span><span class="sxs-lookup"><span data-stu-id="78798-106">If you want tooprovide global, cross-region high availability for devices or users, design and prepare your solutions tootake advantage of these Azure DR features.</span></span> <span data-ttu-id="78798-107">Merhaba makale [Azure iş sürekliliği teknik kılavuz](../resiliency/resiliency-technical-guidance.md) hello iş sürekliliği ve DR için Azure içinde yerleşik özellikler açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="78798-107">hello article [Azure Business Continuity Technical Guidance](../resiliency/resiliency-technical-guidance.md) describes hello built-in features in Azure for business continuity and DR.</span></span> <span data-ttu-id="78798-108">Merhaba [Azure uygulamaları için yüksek kullanılabilirlik ve olağanüstü durum kurtarma] [ Disaster recovery and high availability for Azure applications] kağıt üzerinde stratejileri Mimari Kılavuzu için Azure uygulamalarını tooachieve sağlar HA ve DR.</span><span class="sxs-lookup"><span data-stu-id="78798-108">hello [Disaster recovery and high availability for Azure applications][Disaster recovery and high availability for Azure applications] paper provides architecture guidance on strategies for Azure applications tooachieve HA and DR.</span></span>

## <a name="azure-iot-hub-dr"></a><span data-ttu-id="78798-109">Azure IOT hub'ı DR</span><span class="sxs-lookup"><span data-stu-id="78798-109">Azure IoT Hub DR</span></span>
<span data-ttu-id="78798-110">Ayrıca toointra bölge HA IOT hub'ı olağanüstü durum kurtarma için hiçbir hello kullanıcı müdahalesi gerekli yük devretme mekanizmaları uygular.</span><span class="sxs-lookup"><span data-stu-id="78798-110">In addition toointra-region HA, IoT Hub implements failover mechanisms for disaster recovery that require no intervention from hello user.</span></span> <span data-ttu-id="78798-111">IOT Hub DR otomatik olarak başlatılır ve bir kurtarma süresi hedefi (RTO) 2-26 saatleri ve kurtarma noktası hedefi (RPO'lar) aşağıdaki hello sahiptir.</span><span class="sxs-lookup"><span data-stu-id="78798-111">IoT Hub DR is self-initiated and has a recovery time objective (RTO) of 2-26 hours, and hello following recovery point objectives (RPOs).</span></span>

| <span data-ttu-id="78798-112">İşlev</span><span class="sxs-lookup"><span data-stu-id="78798-112">Functionality</span></span> | <span data-ttu-id="78798-113">RPO</span><span class="sxs-lookup"><span data-stu-id="78798-113">RPO</span></span> |
| --- | --- |
| <span data-ttu-id="78798-114">Kayıt defteri ve iletişim işlemleri için hizmet kullanılabilirliği</span><span class="sxs-lookup"><span data-stu-id="78798-114">Service availability for registry and communication operations</span></span> |<span data-ttu-id="78798-115">CName kaybolma</span><span class="sxs-lookup"><span data-stu-id="78798-115">Possible CName loss</span></span> |
| <span data-ttu-id="78798-116">Kimlik verilerini kimlik kayıt defterinde</span><span class="sxs-lookup"><span data-stu-id="78798-116">Identity data in identity registry</span></span> |<span data-ttu-id="78798-117">0-5 dakika veri kaybı</span><span class="sxs-lookup"><span data-stu-id="78798-117">0-5 mins data loss</span></span> |
| <span data-ttu-id="78798-118">Cihazdan buluta iletiler</span><span class="sxs-lookup"><span data-stu-id="78798-118">Device-to-cloud messages</span></span> |<span data-ttu-id="78798-119">Okunmamış iletileri kaybolur</span><span class="sxs-lookup"><span data-stu-id="78798-119">All unread messages are lost</span></span> |
| <span data-ttu-id="78798-120">İleti izleme işlemleri</span><span class="sxs-lookup"><span data-stu-id="78798-120">Operations monitoring messages</span></span> |<span data-ttu-id="78798-121">Okunmamış iletileri kaybolur</span><span class="sxs-lookup"><span data-stu-id="78798-121">All unread messages are lost</span></span> |
| <span data-ttu-id="78798-122">Bulut-cihaz iletilerini</span><span class="sxs-lookup"><span data-stu-id="78798-122">Cloud-to-device messages</span></span> |<span data-ttu-id="78798-123">0-5 dakika veri kaybı</span><span class="sxs-lookup"><span data-stu-id="78798-123">0-5 mins data loss</span></span> |
| <span data-ttu-id="78798-124">Bulut cihaz geri bildirim kuyruğu</span><span class="sxs-lookup"><span data-stu-id="78798-124">Cloud-to-device feedback queue</span></span> |<span data-ttu-id="78798-125">Okunmamış iletileri kaybolur</span><span class="sxs-lookup"><span data-stu-id="78798-125">All unread messages are lost</span></span> |

## <a name="regional-failover-with-iot-hub"></a><span data-ttu-id="78798-126">IOT Hub ile bölgesel yük devretme</span><span class="sxs-lookup"><span data-stu-id="78798-126">Regional failover with IoT Hub</span></span>
<span data-ttu-id="78798-127">Dağıtım topolojileri IOT çözümlerinde tam işlenmesi bu makalenin kapsamı dışındadır hello ' dir.</span><span class="sxs-lookup"><span data-stu-id="78798-127">A complete treatment of deployment topologies in IoT solutions is outside hello scope of this article.</span></span> <span data-ttu-id="78798-128">Merhaba anlatılmaktadır hello *bölgesel yük devretme* dağıtım modeli için yüksek kullanılabilirlik ve olağanüstü durum kurtarma hello amacı.</span><span class="sxs-lookup"><span data-stu-id="78798-128">hello article discusses hello *regional failover* deployment model for hello purpose of high availability and disaster recovery.</span></span>

<span data-ttu-id="78798-129">Bölgesel yük devretme modelinde, çözüm arka uç çalışır bir veri merkezi konumda öncelikle hello ve bir ikincil IOT hub ve arka uç başka bir veri merkezi konumda dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="78798-129">In a regional failover model, hello solution back end runs primarily in one datacenter location, and a secondary IoT hub and back end are deployed in another datacenter location.</span></span> <span data-ttu-id="78798-130">Merhaba IOT hub'hello birincil veri merkezinde hello aygıt toohello birincil bir kesinti veya hello ağ bağlantısı varsa, veri merkezi kesilir.</span><span class="sxs-lookup"><span data-stu-id="78798-130">If hello IoT hub in hello primary datacenter suffers an outage or hello network connectivity from hello device toohello primary datacenter is interrupted.</span></span> <span data-ttu-id="78798-131">Merhaba birincil ağ geçidi ulaşılamadığında cihazlar ikincil hizmet uç noktası kullanır.</span><span class="sxs-lookup"><span data-stu-id="78798-131">Devices use a secondary service endpoint whenever hello primary gateway cannot be reached.</span></span> <span data-ttu-id="78798-132">Çapraz bölge yük devretme özelliğine sahip hello çözüm kullanılabilirlik hello yüksek kullanılabilirliği tek bir bölge geliştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="78798-132">With a cross-region failover capability, hello solution availability can be improved beyond hello high availability of a single region.</span></span>

<span data-ttu-id="78798-133">Tooimplement bölgesel yük devretme modeli IOT Hub ile yüksek bir düzeyde hello aşağıdaki gerekir:</span><span class="sxs-lookup"><span data-stu-id="78798-133">At a high level, tooimplement a regional failover model with IoT Hub, you need hello following:</span></span>

* <span data-ttu-id="78798-134">**İkincil bir IOT hub ve cihaz mantığı yönlendirme**: birincil bölgenizdeki hizmet kesintisi hello durumda aygıtları bağlanan tooyour ikincil bölge başlatmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="78798-134">**A secondary IoT hub and device routing logic**: In hello case of a service disruption in your primary region, devices must start connecting tooyour secondary region.</span></span> <span data-ttu-id="78798-135">Çoğu Hizmetleri söz konusu durumu algılayan yapısını Hello verildiğinde, çözüm Yöneticiler tootrigger hello arası bölge yük devretme işlemi için yaygın bir sorundur.</span><span class="sxs-lookup"><span data-stu-id="78798-135">Given hello state-aware nature of most services involved, it is common for solution administrators tootrigger hello inter-region failover process.</span></span> <span data-ttu-id="78798-136">Merhaba en iyi şekilde toocommunicate hello yeni uç nokta toodevices, hello işleminin denetimi korurken düzenli olarak kontrol toohave olan bir *Danışman* hello geçerli etkin uç noktası için hizmet.</span><span class="sxs-lookup"><span data-stu-id="78798-136">hello best way toocommunicate hello new endpoint toodevices, while maintaining control of hello process, is toohave them regularly check a *concierge* service for hello current active endpoint.</span></span> <span data-ttu-id="78798-137">Merhaba Danışman hizmetinin çoğaltılır ve ulaşılabilir tutulan bir web uygulaması olabilir DNS-yeniden yönlendirme teknikleri kullanarak (örneğin, kullanarak [Azure Traffic Manager][Azure Traffic Manager]).</span><span class="sxs-lookup"><span data-stu-id="78798-137">hello concierge service can be a web application that is replicated and kept reachable using DNS-redirection techniques (for example, using [Azure Traffic Manager][Azure Traffic Manager]).</span></span>
* <span data-ttu-id="78798-138">**Kimlik kayıt defteri çoğaltma** -toobe kullanılabilir, hello ikincil IOT hub'ı toohello çözüm bağlanabilir tüm cihaz kimliklerini içermelidir.</span><span class="sxs-lookup"><span data-stu-id="78798-138">**Identity registry replication** - toobe usable, hello secondary IoT hub must contain all device identities that can connect toohello solution.</span></span> <span data-ttu-id="78798-139">Hello çözüm cihaz kimliklerini coğrafi olarak çoğaltılmış yedeklerini tutmak ve hello etkin uç noktası hello aygıtlar için geçmeden önce bunları toohello ikincil IOT hub'ı karşıya gerekir.</span><span class="sxs-lookup"><span data-stu-id="78798-139">hello solution should keep geo-replicated backups of device identities, and upload them toohello secondary IoT hub before switching hello active endpoint for hello devices.</span></span> <span data-ttu-id="78798-140">Hello aygıt kimlik verme işlevselliğini IOT Hub'ın bu bağlamda yararlı olur.</span><span class="sxs-lookup"><span data-stu-id="78798-140">hello device identity export functionality of IoT Hub is useful in this context.</span></span> <span data-ttu-id="78798-141">Daha fazla bilgi için bkz: [IOT Hub Geliştirici Kılavuzu - kimlik kayıt defteri][IoT Hub developer guide - identity registry].</span><span class="sxs-lookup"><span data-stu-id="78798-141">For more information, see [IoT Hub developer guide - identity registry][IoT Hub developer guide - identity registry].</span></span>
* <span data-ttu-id="78798-142">**Mantıksal birleştirme** - zaman hello birincil bölge yeniden kullanılabilir, tüm durum hello ve hello ikincil sitede oluşturulan veri geçirilen geri toohello birincil bölge olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="78798-142">**Merging logic** - When hello primary region becomes available again, all hello state and data that have been created in hello secondary site must be migrated back toohello primary region.</span></span> <span data-ttu-id="78798-143">Bu durum ve verileri çoğunlukla ilişkilendirilme toodevice kimlikleri ve hello birincil IOT hub'ı ve hello birincil bölgede başka bir uygulamaya özgü depoları ile birleştirilmelidir uygulama meta verileri.</span><span class="sxs-lookup"><span data-stu-id="78798-143">This state and data mostly relates toodevice identities and application metadata, which must be merged with hello primary IoT hub and any other application-specific stores in hello primary region.</span></span> <span data-ttu-id="78798-144">toosimplify bu adımı ıdempotent işlemleri kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="78798-144">toosimplify this step, you should use idempotent operations.</span></span> <span data-ttu-id="78798-145">Idempotent işlemleri hello yan etkileri hello nihai tutarlı dağıtım olayların ve yinelemeleri ya da olayların sırası teslimini en aza indirin.</span><span class="sxs-lookup"><span data-stu-id="78798-145">Idempotent operations minimize hello side-effects from hello eventual consistent distribution of events, and from duplicates or out-of-order delivery of events.</span></span> <span data-ttu-id="78798-146">Ayrıca, hello uygulama mantığını tasarlanmış tootolerate olası tutarsızlıklar veya tarih durumdan "biraz" olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="78798-146">In addition, hello application logic should be designed tootolerate potential inconsistencies or "slightly" out of date-state.</span></span> <span data-ttu-id="78798-147">Bu durum tabanlı kurtarma noktası hedefi (RPO) üzerinde "onarma" Merhaba sistemi için çok toohello ek süresini ortaya çıkabilir.</span><span class="sxs-lookup"><span data-stu-id="78798-147">This situation can occur due toohello additional time it takes for hello system too"heal" based on recovery point objectives (RPO).</span></span>

## <a name="next-steps"></a><span data-ttu-id="78798-148">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="78798-148">Next steps</span></span>
<span data-ttu-id="78798-149">Azure IOT Hub hakkında daha fazla bu bağlantılar toolearn izleyin:</span><span class="sxs-lookup"><span data-stu-id="78798-149">Follow these links toolearn more about Azure IoT Hub:</span></span>

* <span data-ttu-id="78798-150">[(Öğretici) IOT hub ile çalışmaya başlama][lnk-get-started]</span><span class="sxs-lookup"><span data-stu-id="78798-150">[Get started with IoT Hubs (Tutorial)][lnk-get-started]</span></span>
* <span data-ttu-id="78798-151">[Azure IOT Hub nedir?][What is Azure IoT Hub?]</span><span class="sxs-lookup"><span data-stu-id="78798-151">[What is Azure IoT Hub?][What is Azure IoT Hub?]</span></span>

[Disaster recovery and high availability for Azure applications]: ../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md
[Azure Business Continuity Technical Guidance]: https://azure.microsoft.com/documentation/articles/resiliency-technical-guidance/
[Azure Traffic Manager]: https://azure.microsoft.com/documentation/services/traffic-manager/
[IoT Hub developer guide - identity registry]: iot-hub-devguide-identity-registry.md

[lnk-get-started]: iot-hub-csharp-csharp-getstarted.md
[What is Azure IoT Hub?]: iot-hub-what-is-iot-hub.md
