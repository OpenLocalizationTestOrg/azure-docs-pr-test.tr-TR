---
title: "aaaAzure Cosmos DB kaynak modeli ve kavramları | Microsoft Docs"
description: "Azure Cosmos veritabanı hiyerarşik modelinin veritabanları, koleksiyonları, kullanıcı tanımlı işlev (UDF), belgeler, izinleri toomanage kaynakları ve daha fazla hakkında bilgi edinin."
keywords: "Hiyerarşik modeli, cosmosdb, azure, Microsoft azure"
services: cosmos-db
documentationcenter: 
author: AndrewHoh
manager: jhubbard
editor: monicar
ms.assetid: ef9d5c0c-0867-4317-bb1b-98e219799fd5
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/24/2017
ms.author: anhoh
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: fc3642232b86cc27901ebd97456c386829324632
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-cosmos-db-hierarchical-resource-model-and-core-concepts"></a><span data-ttu-id="93f7c-104">Azure Cosmos DB hiyerarşik kaynak modeli ve temel kavramları</span><span class="sxs-lookup"><span data-stu-id="93f7c-104">Azure Cosmos DB hierarchical resource model and core concepts</span></span>
<span data-ttu-id="93f7c-105">Hello Azure Cosmos DB yöneten veritabanı başvurulan tooas varlıklardır **kaynakları**.</span><span class="sxs-lookup"><span data-stu-id="93f7c-105">hello database entities that Azure Cosmos DB manages are referred tooas **resources**.</span></span> <span data-ttu-id="93f7c-106">Her kaynak mantıksal URI'leri ile benzersiz olarak tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-106">Each resource is uniquely identified by a logical URI.</span></span> <span data-ttu-id="93f7c-107">Standart HTTP fiillerini, istek/yanıt üstbilgilerini ve durum kodlarını kullanarak hello kaynakları ile etkileşim kurabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-107">You can interact with hello resources using standard HTTP verbs, request/response headers and status codes.</span></span> 

<span data-ttu-id="93f7c-108">Bu makalede okuyarak sorular aşağıdaki mümkün tooanswer hello olması:</span><span class="sxs-lookup"><span data-stu-id="93f7c-108">By reading this article, you'll be able tooanswer hello following questions:</span></span>

* <span data-ttu-id="93f7c-109">Cosmos veritabanı kaynak modeli nedir?</span><span class="sxs-lookup"><span data-stu-id="93f7c-109">What is Cosmos DB's resource model?</span></span>
* <span data-ttu-id="93f7c-110">Sistem nelerdir kaynakları tanımlanan karşılıklı toouser kaynaklar olarak tanımlanan?</span><span class="sxs-lookup"><span data-stu-id="93f7c-110">What are system defined resources as opposed toouser defined resources?</span></span>
* <span data-ttu-id="93f7c-111">Bir kaynak nasıl ele?</span><span class="sxs-lookup"><span data-stu-id="93f7c-111">How do I address a resource?</span></span>
* <span data-ttu-id="93f7c-112">Koleksiyonları ile nasıl çalışır?</span><span class="sxs-lookup"><span data-stu-id="93f7c-112">How do I work with collections?</span></span>
* <span data-ttu-id="93f7c-113">Saklı yordamlar, tetikleyiciler ve kullanıcı tanımlı işlevler (UDF'ler) ile nasıl çalışırım?</span><span class="sxs-lookup"><span data-stu-id="93f7c-113">How do I work with stored procedures, triggers and User Defined Functions (UDFs)?</span></span>

## <a name="hierarchical-resource-model"></a><span data-ttu-id="93f7c-114">Hiyerarşik kaynak modeli</span><span class="sxs-lookup"><span data-stu-id="93f7c-114">Hierarchical resource model</span></span>
<span data-ttu-id="93f7c-115">Cosmos DB hiyerarşik Hello Aşağıdaki diyagramda gösterildiği gibi hello **kaynak modeli** kaynaklar mantıksal ve kararlı bir URI her adreslenebilir bir veritabanı hesabı altında kümesi oluşur.</span><span class="sxs-lookup"><span data-stu-id="93f7c-115">As hello following diagram illustrates, hello Cosmos DB hierarchical **resource model** consists of sets of resources under a database account, each addressable via a logical and stable URI.</span></span> <span data-ttu-id="93f7c-116">Bir kaynak kümesi başvurulan tooas olacak bir **akış** bu makalede.</span><span class="sxs-lookup"><span data-stu-id="93f7c-116">A set of resources will be referred tooas a **feed** in this article.</span></span> 

> [!NOTE]
> <span data-ttu-id="93f7c-117">Azure Cosmos DB sunar RESTful kendi iletişimi modelinde, hello kullanılabilir olan son derece verimli bir TCP Protokolü [DocumentDB .NET istemcisi API](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="93f7c-117">Azure Cosmos DB offers a highly efficient TCP protocol which is also RESTful in its communication model, available through hello [DocumentDB .NET client API](documentdb-sdk-dotnet.md).</span></span>
> 
> 

<span data-ttu-id="93f7c-118">![Azure Cosmos DB hiyerarşik kaynak modeli][1]</span><span class="sxs-lookup"><span data-stu-id="93f7c-118">![Azure Cosmos DB hierarchical resource model][1]</span></span>  
<span data-ttu-id="93f7c-119">**Hiyerarşik kaynak modeli**</span><span class="sxs-lookup"><span data-stu-id="93f7c-119">**Hierarchical resource model**</span></span>   

<span data-ttu-id="93f7c-120">kaynakları ile çalışma toostart gerekir [bir veritabanı hesabı oluşturma](create-documentdb-dotnet.md) Azure aboneliğinizi kullanarak.</span><span class="sxs-lookup"><span data-stu-id="93f7c-120">toostart working with resources, you must [create a database account](create-documentdb-dotnet.md) using your Azure subscription.</span></span> <span data-ttu-id="93f7c-121">Veritabanı hesabı bir dizi oluşabilir **veritabanları**, her biri birden çok içeren **koleksiyonları**, her sırayla içerir, **saklı yordamlar, Tetikleyiciler, UDF'ler, belgeler**ve ilgili **ekleri**.</span><span class="sxs-lookup"><span data-stu-id="93f7c-121">A database account can consist of a set of **databases**, each containing multiple **collections**, each of which in turn contain **stored procedures, triggers, UDFs, documents** and related **attachments**.</span></span> <span data-ttu-id="93f7c-122">Bir veritabanı da ilişkili **kullanıcılar**, her bir dizi **izinleri** tooaccess koleksiyonlar, depolanan yordamlar, Tetikleyiciler, UDF'ler, belgeler veya ekler.</span><span class="sxs-lookup"><span data-stu-id="93f7c-122">A database also has associated **users**, each with a set of **permissions** tooaccess collections, stored procedures, triggers, UDFs, documents or attachments.</span></span> <span data-ttu-id="93f7c-123">Veritabanları, kullanıcılar, izinler ve Koleksiyonlar iyi bilinen şemalar sahip sistem tanımlı kaynakları olsa da, belgeler ve ekleri rasgele içerir, kullanıcı tanımlı JSON içeriği bulunur.</span><span class="sxs-lookup"><span data-stu-id="93f7c-123">While databases, users, permissions and collections are system-defined resources with well-known schemas, documents and attachments contain arbitrary, user defined JSON content.</span></span>  

| <span data-ttu-id="93f7c-124">Kaynak</span><span class="sxs-lookup"><span data-stu-id="93f7c-124">Resource</span></span> | <span data-ttu-id="93f7c-125">Açıklama</span><span class="sxs-lookup"><span data-stu-id="93f7c-125">Description</span></span> |
| --- | --- |
| <span data-ttu-id="93f7c-126">Veritabanı hesabı</span><span class="sxs-lookup"><span data-stu-id="93f7c-126">Database account</span></span> |<span data-ttu-id="93f7c-127">Veritabanı hesabı, bir dizi veritabanları ve ekleri için blob storage'nın sabit bir tutar ile ilişkilidir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-127">A database account is associated with a set of databases and a fixed amount of blob storage for attachments.</span></span> <span data-ttu-id="93f7c-128">Azure aboneliğinizi kullanarak bir veya daha fazla veritabanı hesabı oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-128">You can create one or more database accounts using your Azure subscription.</span></span> <span data-ttu-id="93f7c-129">Daha fazla bilgi için bizim [fiyatlandırma sayfası](https://azure.microsoft.com/pricing/details/cosmos-db/).</span><span class="sxs-lookup"><span data-stu-id="93f7c-129">For more information, visit our [pricing page](https://azure.microsoft.com/pricing/details/cosmos-db/).</span></span> |
| <span data-ttu-id="93f7c-130">Database</span><span class="sxs-lookup"><span data-stu-id="93f7c-130">Database</span></span> |<span data-ttu-id="93f7c-131">Bir veritabanı, koleksiyonlar genelinde bölümlenmiş belge depolama alanının mantıksal bir kapsayıcısıdır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-131">A database is a logical container of document storage partitioned across collections.</span></span> <span data-ttu-id="93f7c-132">Ayrıca, Kullanıcılar kapsayıcısı unutulmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-132">It is also a users container.</span></span> |
| <span data-ttu-id="93f7c-133">Kullanıcı</span><span class="sxs-lookup"><span data-stu-id="93f7c-133">User</span></span> |<span data-ttu-id="93f7c-134">izinlerin kapsamını belirlerken için hello mantıksal ad alanı.</span><span class="sxs-lookup"><span data-stu-id="93f7c-134">hello logical namespace for scoping permissions.</span></span> |
| <span data-ttu-id="93f7c-135">İzin</span><span class="sxs-lookup"><span data-stu-id="93f7c-135">Permission</span></span> |<span data-ttu-id="93f7c-136">Bir kullanıcı için erişim tooa belirli kaynak ile ilişkili bir yetki belirteci.</span><span class="sxs-lookup"><span data-stu-id="93f7c-136">An authorization token associated with a user for access tooa specific resource.</span></span> |
| <span data-ttu-id="93f7c-137">Koleksiyon</span><span class="sxs-lookup"><span data-stu-id="93f7c-137">Collection</span></span> |<span data-ttu-id="93f7c-138">Bir kapsayıcı JSON belgelerinin koleksiyonudur ve JavaScript uygulama mantığının hello ilişkili.</span><span class="sxs-lookup"><span data-stu-id="93f7c-138">A collection is a container of JSON documents and hello associated JavaScript application logic.</span></span> <span data-ttu-id="93f7c-139">Faturalanabilir bir varlık hello burada koleksiyonudur [maliyet](performance-levels.md) hello koleksiyonla ilişkilendirilen hello performans düzeyine göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-139">A collection is a billable entity, where hello [cost](performance-levels.md) is determined by hello performance level associated with hello collection.</span></span> <span data-ttu-id="93f7c-140">Koleksiyonlar bir veya daha fazla bölümü/sunucuyu kapsayabilir ve toohandle ölçeklendirebilirsiniz neredeyse sınırsız miktarda depolama veya işlemeyi.</span><span class="sxs-lookup"><span data-stu-id="93f7c-140">Collections can span one or more partitions/servers and can scale toohandle practically unlimited volumes of storage or throughput.</span></span> |
| <span data-ttu-id="93f7c-141">Saklı Yordam</span><span class="sxs-lookup"><span data-stu-id="93f7c-141">Stored Procedure</span></span> |<span data-ttu-id="93f7c-142">Uygulama mantığı ile bir koleksiyon kayıtlı ve işlemsel olarak hello veritabanı altyapısı içinde yürütülen JavaScript'te yazılmış.</span><span class="sxs-lookup"><span data-stu-id="93f7c-142">Application logic written in JavaScript which is registered with a collection and transactionally executed within hello database engine.</span></span> |
| <span data-ttu-id="93f7c-143">Tetikleyici</span><span class="sxs-lookup"><span data-stu-id="93f7c-143">Trigger</span></span> |<span data-ttu-id="93f7c-144">Önce veya sonra ya da bir ekleme yürütülen JavaScript'te yazılmış uygulama mantığını değiştirin ya da silme işlemi.</span><span class="sxs-lookup"><span data-stu-id="93f7c-144">Application logic written in JavaScript executed before or after either an insert, replace or delete operation.</span></span> |
| <span data-ttu-id="93f7c-145">UDF</span><span class="sxs-lookup"><span data-stu-id="93f7c-145">UDF</span></span> |<span data-ttu-id="93f7c-146">JavaScript'te yazılmış bir uygulama mantığı.</span><span class="sxs-lookup"><span data-stu-id="93f7c-146">Application logic written in JavaScript.</span></span> <span data-ttu-id="93f7c-147">UDF'ler özel sorgu işleci toomodel etkinleştirin ve böylelikle hello çekirdek DocumentDB API sorgu dili genişletir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-147">UDFs enable you toomodel a custom query operator and thereby extend hello core DocumentDB API query language.</span></span> |
| <span data-ttu-id="93f7c-148">Belge</span><span class="sxs-lookup"><span data-stu-id="93f7c-148">Document</span></span> |<span data-ttu-id="93f7c-149">Kullanıcı tanımlı (rastgele) JSON içeriği bulunur.</span><span class="sxs-lookup"><span data-stu-id="93f7c-149">User defined (arbitrary) JSON content.</span></span> <span data-ttu-id="93f7c-150">Varsayılan olarak, hiçbir şema tanımlanan toobe gerekir veya tüm Merhaba belgeleri tooa koleksiyonu eklenen sağlanan ikincil dizinlerin toobe gerek.</span><span class="sxs-lookup"><span data-stu-id="93f7c-150">By default, no schema needs toobe defined nor do secondary indices need toobe provided for all hello documents added tooa collection.</span></span> |
| <span data-ttu-id="93f7c-151">Eki</span><span class="sxs-lookup"><span data-stu-id="93f7c-151">Attachment</span></span> |<span data-ttu-id="93f7c-152">Ek başvurular ve dış blob/medya için ilişkili meta verileri içeren özel bir belgedir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-152">An attachment is a special document containing references and associated metadata for external blob/media.</span></span> <span data-ttu-id="93f7c-153">Merhaba Geliştirici Cosmos DB tarafından yönetilen toohave hello blob seçin veya OneDrive, Dropbox, vb. gibi bir dış blob hizmeti sağlayıcısında saklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-153">hello developer can choose toohave hello blob managed by Cosmos DB or store it with an external blob service provider such as OneDrive, Dropbox, etc.</span></span> |

## <a name="system-vs-user-defined-resources"></a><span data-ttu-id="93f7c-154">Sistem kullanıcı tanımlı kaynakları karşılaştırması</span><span class="sxs-lookup"><span data-stu-id="93f7c-154">System vs. user defined resources</span></span>
<span data-ttu-id="93f7c-155">Veritabanı hesaplarını, veritabanları, koleksiyonları, kullanıcılar, izinler, saklı yordamlar, tetikleyiciler ve UDF'ler - gibi kaynakları tüm sabit şemasına sahip ve sistem kaynaklarını denir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-155">Resources such as database accounts, databases, collections, users, permissions, stored procedures, triggers, and UDFs - all have a fixed schema and are called system resources.</span></span> <span data-ttu-id="93f7c-156">Buna karşılık, belgeler ve ekler gibi kaynakları herhangi bir kısıtlama hello şemasına sahip ve kullanıcı tanımlı kaynaklar olarak gösterilebilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-156">In contrast, resources such as documents and attachments have no restrictions on hello schema and are examples of user defined resources.</span></span> <span data-ttu-id="93f7c-157">Cosmos içinde DB, sistem ve kullanıcı tanımlı kaynakları temsil ve standart uyumlu JSON olarak yönetilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-157">In Cosmos DB, both system and user defined resources are represented and managed as standard-compliant JSON.</span></span> <span data-ttu-id="93f7c-158">Tüm kaynaklar, sistem veya kullanıcı tanımlı, hello aşağıdaki ortak özelliklere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-158">All resources, system or user defined, have hello following common properties.</span></span>

> [!NOTE]
> <span data-ttu-id="93f7c-159">Tüm sistem kaynak özellikleri oluşturulan Not önekiyle kendi JSON gösterimi, alt çizgi (_).</span><span class="sxs-lookup"><span data-stu-id="93f7c-159">Note that all system generated properties in a resource are prefixed with an underscore (_) in their JSON representation.</span></span>
> 
> 

<table>
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="93f7c-160"><strong>Özellik</strong></span><span class="sxs-lookup"><span data-stu-id="93f7c-160"><strong>Property</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-161"><strong>Kullanıcı tarafından ayarlanabilir veya sistem tarafından oluşturulan?</strong></span><span class="sxs-lookup"><span data-stu-id="93f7c-161"><strong>User settable or system generated?</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-162"><strong>Amacı</strong></span><span class="sxs-lookup"><span data-stu-id="93f7c-162"><strong>Purpose</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="93f7c-163">_rid</span><span class="sxs-lookup"><span data-stu-id="93f7c-163">_rid</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-164">Sistem tarafından oluşturulan</span><span class="sxs-lookup"><span data-stu-id="93f7c-164">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-165">Sistem oluşturulan, benzersiz ve hiyerarşik hello kaynak tanıtıcısı</span><span class="sxs-lookup"><span data-stu-id="93f7c-165">System generated, unique and hierarchical identifier of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="93f7c-166">_etag</span><span class="sxs-lookup"><span data-stu-id="93f7c-166">_etag</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-167">Sistem tarafından oluşturulan</span><span class="sxs-lookup"><span data-stu-id="93f7c-167">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-168">İyimser eşzamanlılık denetimi için gerekli hello kaynağının ETag</span><span class="sxs-lookup"><span data-stu-id="93f7c-168">etag of hello resource required for optimistic concurrency control</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="93f7c-169">_ts</span><span class="sxs-lookup"><span data-stu-id="93f7c-169">_ts</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-170">Sistem tarafından oluşturulan</span><span class="sxs-lookup"><span data-stu-id="93f7c-170">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-171">Merhaba kaynağının en son güncelleştirilen zaman damgası</span><span class="sxs-lookup"><span data-stu-id="93f7c-171">Last updated timestamp of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="93f7c-172">_self</span><span class="sxs-lookup"><span data-stu-id="93f7c-172">_self</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-173">Sistem tarafından oluşturulan</span><span class="sxs-lookup"><span data-stu-id="93f7c-173">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-174">Merhaba kaynağının benzersiz adreslenebilir URI</span><span class="sxs-lookup"><span data-stu-id="93f7c-174">Unique addressable URI of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="93f7c-175">id</span><span class="sxs-lookup"><span data-stu-id="93f7c-175">id</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-176">Sistem tarafından oluşturulan</span><span class="sxs-lookup"><span data-stu-id="93f7c-176">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-177">Kullanıcı tanımlı hello kaynağının benzersiz bir ad (Merhaba ile aynı, anahtar değeri'bölüm).</span><span class="sxs-lookup"><span data-stu-id="93f7c-177">User defined unique name of hello resource (with hello same partition key value).</span></span> <span data-ttu-id="93f7c-178">Merhaba kullanıcı kimliği belirtmiyorsa, sistem tarafından oluşturulan bir kimlik olacaktır</span><span class="sxs-lookup"><span data-stu-id="93f7c-178">If hello user does not specify an id, an id will be system generated</span></span></p></td>
        </tr>
    </tbody>
</table>

### <a name="wire-representation-of-resources"></a><span data-ttu-id="93f7c-179">Hat gösterimine kaynakların</span><span class="sxs-lookup"><span data-stu-id="93f7c-179">Wire representation of resources</span></span>
<span data-ttu-id="93f7c-180">Cosmos DB herhangi özel uzantıları toohello JSON standart veya özel Kodlamalar zorunlu kılabilir değil; Standart uyumlu JSON belgeleri ile çalışır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-180">Cosmos DB does not mandate any proprietary extensions toohello JSON standard or special encodings; it works with standard compliant JSON documents.</span></span>  

### <a name="addressing-a-resource"></a><span data-ttu-id="93f7c-181">Bir kaynak adresleme</span><span class="sxs-lookup"><span data-stu-id="93f7c-181">Addressing a resource</span></span>
<span data-ttu-id="93f7c-182">URI adreslenebilir tüm kaynaklardır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-182">All resources are URI addressable.</span></span> <span data-ttu-id="93f7c-183">Merhaba hello değerini **_self** özelliği bir kaynağı temsil hello kaynağının göreli URI hello.</span><span class="sxs-lookup"><span data-stu-id="93f7c-183">hello value of hello **_self** property of a resource represents hello relative URI of hello resource.</span></span> <span data-ttu-id="93f7c-184">Merhaba hello URI biçimi oluşur hello /\<akış\>/ {_rid} yol kesimleri:</span><span class="sxs-lookup"><span data-stu-id="93f7c-184">hello format of hello URI consists of hello /\<feed\>/{_rid} path segments:</span></span>  

| <span data-ttu-id="93f7c-185">Merhaba _self değeri</span><span class="sxs-lookup"><span data-stu-id="93f7c-185">Value of hello _self</span></span> | <span data-ttu-id="93f7c-186">Açıklama</span><span class="sxs-lookup"><span data-stu-id="93f7c-186">Description</span></span> |
| --- | --- |
| <span data-ttu-id="93f7c-187">/dbs</span><span class="sxs-lookup"><span data-stu-id="93f7c-187">/dbs</span></span> |<span data-ttu-id="93f7c-188">Bir veritabanı hesabı altında veritabanlarının besleme</span><span class="sxs-lookup"><span data-stu-id="93f7c-188">Feed of databases under a database account</span></span> |
| <span data-ttu-id="93f7c-189">/dbs/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="93f7c-189">/dbs/{dbName}</span></span> |<span data-ttu-id="93f7c-190">{DbName} hello değerle eşleşen bir kimliğe sahip veritabanı</span><span class="sxs-lookup"><span data-stu-id="93f7c-190">Database with an id matching hello value {dbName}</span></span> |
| <span data-ttu-id="93f7c-191">/dbs/ {dbName} /colls/</span><span class="sxs-lookup"><span data-stu-id="93f7c-191">/dbs/{dbName}/colls/</span></span> |<span data-ttu-id="93f7c-192">Bir veritabanı altında koleksiyonların besleme</span><span class="sxs-lookup"><span data-stu-id="93f7c-192">Feed of collections under a database</span></span> |
| <span data-ttu-id="93f7c-193">/dbs/ {dbName} /colls/ {collName}</span><span class="sxs-lookup"><span data-stu-id="93f7c-193">/dbs/{dbName}/colls/{collName}</span></span> |<span data-ttu-id="93f7c-194">{CollName} hello değerle eşleşen bir kimliğe sahip koleksiyonu</span><span class="sxs-lookup"><span data-stu-id="93f7c-194">Collection with an id matching hello value {collName}</span></span> |
| <span data-ttu-id="93f7c-195">/dbs/ {dbName} /colls/ {collName} / docs</span><span class="sxs-lookup"><span data-stu-id="93f7c-195">/dbs/{dbName}/colls/{collName}/docs</span></span> |<span data-ttu-id="93f7c-196">Bir koleksiyon altında belgelerin besleme</span><span class="sxs-lookup"><span data-stu-id="93f7c-196">Feed of documents under a collection</span></span> |
| <span data-ttu-id="93f7c-197">/dbs/ {dbName} /colls/ {collName} /docs/ {docId}</span><span class="sxs-lookup"><span data-stu-id="93f7c-197">/dbs/{dbName}/colls/{collName}/docs/{docId}</span></span> |<span data-ttu-id="93f7c-198">{Doc} Hello değerle eşleşen bir kimliğiyle belge</span><span class="sxs-lookup"><span data-stu-id="93f7c-198">Document with an id matching hello value {doc}</span></span> |
| <span data-ttu-id="93f7c-199">/dbs/ {dbName} /users/</span><span class="sxs-lookup"><span data-stu-id="93f7c-199">/dbs/{dbName}/users/</span></span> |<span data-ttu-id="93f7c-200">Kullanıcıların bir veritabanı altında besleme</span><span class="sxs-lookup"><span data-stu-id="93f7c-200">Feed of users under a database</span></span> |
| <span data-ttu-id="93f7c-201">/dbs/ {dbName} /users/ {UserID}</span><span class="sxs-lookup"><span data-stu-id="93f7c-201">/dbs/{dbName}/users/{userId}</span></span> |<span data-ttu-id="93f7c-202">{Kullanıcısı} hello değerle eşleşen bir kimliğe sahip kullanıcı</span><span class="sxs-lookup"><span data-stu-id="93f7c-202">User with an id matching hello value {user}</span></span> |
| <span data-ttu-id="93f7c-203">/dbs/ {dbName} /users/ {UserID} / izinleri</span><span class="sxs-lookup"><span data-stu-id="93f7c-203">/dbs/{dbName}/users/{userId}/permissions</span></span> |<span data-ttu-id="93f7c-204">Akış kapsamındaki bir kullanıcı izinleri</span><span class="sxs-lookup"><span data-stu-id="93f7c-204">Feed of permissions under a user</span></span> |
| <span data-ttu-id="93f7c-205">/dbs/ {dbName} /users/ {UserID} /permissions/ {permissionId}</span><span class="sxs-lookup"><span data-stu-id="93f7c-205">/dbs/{dbName}/users/{userId}/permissions/{permissionId}</span></span> |<span data-ttu-id="93f7c-206">{İzni} hello değerle eşleşen bir kimliğe sahip izni</span><span class="sxs-lookup"><span data-stu-id="93f7c-206">Permission with an id matching hello value {permission}</span></span> |

<span data-ttu-id="93f7c-207">Her kaynak hello kimliği özelliği aracılığıyla kullanıma sunulan bir benzersiz kullanıcı tanımlı adı vardır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-207">Each resource has a unique user defined name exposed via hello id property.</span></span> <span data-ttu-id="93f7c-208">Not: hello kullanıcı kimliği, belirlemezse belgeler için bizim desteklenen SDK'ları otomatik olarak hello belge için benzersiz bir kimliği oluşturur.</span><span class="sxs-lookup"><span data-stu-id="93f7c-208">Note: for documents, if hello user does not specify an id, our supported SDKs will automatically generate a unique id for hello document.</span></span> <span data-ttu-id="93f7c-209">Merhaba, bir kullanıcı tanımlı dizesi, belirli üst kaynak hello bağlamı içinde benzersizdir too256 karakterleri yukarı kimliğidir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-209">hello id is a user defined string, of up too256 characters that is unique within hello context of a specific parent resource.</span></span> 

<span data-ttu-id="93f7c-210">Her kaynak hello _rid özelliği aracılığıyla kullanılabilir olduğu bir sistem tarafından oluşturulan hiyerarşik kaynak tanımlayıcısı (Ayrıca başvurulan tooas bir RID), ayrıca vardır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-210">Each resource also has a system generated hierarchical resource identifier (also referred tooas an RID), which is available via hello _rid property.</span></span> <span data-ttu-id="93f7c-211">Merhaba tüm belirli bir kaynak hiyerarşisini başlangıç RID kodlar ve bu kullanışlı bir iç gösterimi tooenforce başvuru bütünlüğü dağıtılmış bir şekilde kullanılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-211">hello RID encodes hello entire hierarchy of a given resource and it is a convenient internal representation used tooenforce referential integrity in a distributed manner.</span></span> <span data-ttu-id="93f7c-212">Hello RID bir veritabanı hesabı içinde benzersizdir ve çapraz bölüm aramaları gerek kalmadan verimli yönlendirme için Cosmos DB tarafından dahili olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-212">hello RID is unique within a database account and it is internally used by Cosmos DB for efficient routing without requiring cross partition lookups.</span></span> <span data-ttu-id="93f7c-213">Merhaba hello _self ve hello _rid özelliklerinin bir kaynak alternatif ve kurallı gösterimlerini değerlerdir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-213">hello values of hello _self and hello  _rid properties are both alternate and canonical representations of a resource.</span></span> 

<span data-ttu-id="93f7c-214">Merhaba kimliği ve hello _rid özellikleri tarafından isteklerinin kaynakları adreslenmesini ve hello REST API desteği.</span><span class="sxs-lookup"><span data-stu-id="93f7c-214">hello REST APIs support addressing of resources and routing of requests by both hello id and hello _rid properties.</span></span>

## <a name="database-accounts"></a><span data-ttu-id="93f7c-215">Veritabanı hesapları</span><span class="sxs-lookup"><span data-stu-id="93f7c-215">Database accounts</span></span>
<span data-ttu-id="93f7c-216">Azure aboneliğinizi kullanarak bir veya daha fazla Cosmos DB veritabanı hesaplarını sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-216">You can provision one or more Cosmos DB database accounts using your Azure subscription.</span></span>

<span data-ttu-id="93f7c-217">Oluşturun ve Cosmos DB veritabanı hesaplarını hello Azure Portal aracılığıyla yönetin adresindeki [http://portal.azure.com/](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="93f7c-217">You can create and manage Cosmos DB database accounts via hello Azure Portal at [http://portal.azure.com/](https://portal.azure.com/).</span></span> <span data-ttu-id="93f7c-218">Oluşturma ve bir veritabanı hesabı yönetme yönetimsel erişim gerektirir ve yalnızca Azure aboneliğinizde gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-218">Creating and managing a database account requires administrative access and can only be performed under your Azure subscription.</span></span> 

### <a name="database-account-properties"></a><span data-ttu-id="93f7c-219">Veritabanı hesabı özellikleri</span><span class="sxs-lookup"><span data-stu-id="93f7c-219">Database account properties</span></span>
<span data-ttu-id="93f7c-220">Hazırlama ve bir veritabanı hesabı yönetme bir parçası olarak yapılandırın ve aşağıdaki özelliklere hello okuyun:</span><span class="sxs-lookup"><span data-stu-id="93f7c-220">As part of provisioning and managing a database account you can configure and read hello following properties:</span></span>  

<table border="0" cellspacing="0" cellpadding="0">
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="93f7c-221"><strong>Özellik adı</strong></span><span class="sxs-lookup"><span data-stu-id="93f7c-221"><strong>Property Name</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-222"><strong>Açıklama</strong></span><span class="sxs-lookup"><span data-stu-id="93f7c-222"><strong>Description</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="93f7c-223">Tutarlılık İlkesi</span><span class="sxs-lookup"><span data-stu-id="93f7c-223">Consistency Policy</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-224">Veritabanı hesabınız altındaki tüm hello koleksiyonlar için bu özelliği tooconfigure hello varsayılan tutarlılık düzeyini ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="93f7c-224">Set this property tooconfigure hello default consistency level for all hello collections under your database account.</span></span> <span data-ttu-id="93f7c-225">Merhaba [x-ms-tutarlılık-düzey] istek üstbilgisi kullanarak bir istek başına hello tutarlılık düzeyinde geçersiz kılabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-225">You can override hello consistency level on a per request basis using hello [x-ms-consistency-level] request header.</span></span> <p><p><span data-ttu-id="93f7c-226">Bu özellik yalnızca toohello geçerlidir Not <i>kullanıcı tanımlı kaynakları</i>.</span><span class="sxs-lookup"><span data-stu-id="93f7c-226">Note that this property only applies toohello <i>user defined resources</i>.</span></span> <span data-ttu-id="93f7c-227">Tüm sistem tarafından tanımlanan yapılandırılmış toosupport okuma/sorguları güçlü tutarlılık kaynaklardır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-227">All system defined resources are configured toosupport reads/queries with strong consistency.</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="93f7c-228">Yetkilendirme anahtarları</span><span class="sxs-lookup"><span data-stu-id="93f7c-228">Authorization Keys</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="93f7c-229">Merhaba birincil bunlar ve tooall hello veritabanı hesabı altında hello kaynakların erişim yönetim sağlayan ikincil ana ve salt okunur anahtarları.</span><span class="sxs-lookup"><span data-stu-id="93f7c-229">These are hello primary and secondary master and readonly keys that provide administrative access tooall of hello resources under hello database account.</span></span></p></td>
        </tr>
    </tbody>
</table>

<span data-ttu-id="93f7c-230">Yapılandırma ve Azure Portal hello veritabanı hesabınızı yönetme ek tooprovisioning içinde program aracılığıyla da oluşturabilir ve hello kullanarak Cosmos DB veritabanı hesaplarını yönetme, Not [Azure Cosmos DB REST API'lerini](/rest/api/documentdb/) olarak hem de [istemci SDK'ları](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="93f7c-230">Note that in addition tooprovisioning, configuring and managing your database account from hello Azure Portal, you can also programmatically create and manage Cosmos DB database accounts by using hello [Azure Cosmos DB REST APIs](/rest/api/documentdb/) as well as [client SDKs](documentdb-sdk-dotnet.md).</span></span>  

## <a name="databases"></a><span data-ttu-id="93f7c-231">Veritabanları</span><span class="sxs-lookup"><span data-stu-id="93f7c-231">Databases</span></span>
<span data-ttu-id="93f7c-232">Cosmos DB veritabanı bir mantıksal bir veya daha fazla koleksiyonlarını ve kullanıcılar, hello Aşağıdaki diyagramda gösterildiği gibi kapsayıcıdır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-232">A Cosmos DB database is a logical container of one or more collections and users, as shown in hello following diagram.</span></span> <span data-ttu-id="93f7c-233">Cosmos DB veritabanı hesabı konu toooffer altındaki veritabanları herhangi bir sayıda sınırları oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-233">You can create any number of databases under a Cosmos DB database account subject toooffer limits.</span></span>  

<span data-ttu-id="93f7c-234">![Veritabanı hesabı ve koleksiyonları hiyerarşik modeli][2]</span><span class="sxs-lookup"><span data-stu-id="93f7c-234">![Database account and collections hierarchical model][2]</span></span>  
<span data-ttu-id="93f7c-235">**Bir veritabanı kullanıcıları ve koleksiyonlar, mantıksal bir kapsayıcısıdır**</span><span class="sxs-lookup"><span data-stu-id="93f7c-235">**A Database is a logical container of users and collections**</span></span>

<span data-ttu-id="93f7c-236">Bir veritabanı içinde koleksiyonlar bölümlenmiş neredeyse sınırsız belge depolama içerebilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-236">A database can contain virtually unlimited document storage partitioned within collections.</span></span>

### <a name="elastic-scale-of-a-cosmos-db-database"></a><span data-ttu-id="93f7c-237">Cosmos DB veritabanının esnek ölçeklendirme</span><span class="sxs-lookup"><span data-stu-id="93f7c-237">Elastic scale of a Cosmos DB database</span></span>
<span data-ttu-id="93f7c-238">Varsayılan olarak birkaç GB toopetabytes yedeklenen SSD belge depolama ve sağlanan işleme arasında değişen – esnek bir Cosmos DB veritabanıdır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-238">A Cosmos DB database is elastic by default – ranging from a few GB toopetabytes of SSD backed document storage and provisioned throughput.</span></span> 

<span data-ttu-id="93f7c-239">Bir veritabanında geleneksel RDBMS Cosmos DB veritabanında kapsamlı tooa tek makine değil.</span><span class="sxs-lookup"><span data-stu-id="93f7c-239">Unlike a database in traditional RDBMS, a database in Cosmos DB is not scoped tooa single machine.</span></span> <span data-ttu-id="93f7c-240">Cosmos DB ile toogrow, uygulamanızın ölçek gereksinimleriniz değiştikçe koleksiyonlar, veritabanları veya her ikisi de oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-240">With Cosmos DB, as your application’s scale needs toogrow, you can create more collections, databases, or both.</span></span> <span data-ttu-id="93f7c-241">Aslında, Microsoft içindeki çeşitli birinci taraf uygulamalardan Cosmos DB Tüketici ölçekte son derece büyük Cosmos DB veritabanları koleksiyonları içeren her binlerce belge depolama terabayt ile oluşturarak kullanmakta olduğunuz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-241">Indeed, various first party applications within Microsoft have been using Cosmos DB at a consumer scale by creating extremely large Cosmos DB databases each containing thousands of collections with terabytes of document storage.</span></span> <span data-ttu-id="93f7c-242">Büyütür veya bir veritabanı ekleyerek veya uygulamanızın ölçek gereksinimlerine koleksiyonları toomeet kaldırarak küçültür.</span><span class="sxs-lookup"><span data-stu-id="93f7c-242">You can grow or shrink a database by adding or removing collections toomeet your application’s scale requirements.</span></span> 

<span data-ttu-id="93f7c-243">Herhangi bir sayıda veritabanı konu toohello teklif içinde koleksiyonlar oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-243">You can create any number of collections within a database subject toohello offer.</span></span> <span data-ttu-id="93f7c-244">Her koleksiyon yedeklenen SSD depolama ve işleme hello seçilen performans katmanına bağlı olarak sağladığınız vardır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-244">Each collection has SSD backed storage and throughput provisioned for you depending on hello selected performance tier.</span></span>

<span data-ttu-id="93f7c-245">Cosmos DB veritabanı kullanıcı aynı zamanda bir kapsayıcıdır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-245">A Cosmos DB database is also a container of users.</span></span> <span data-ttu-id="93f7c-246">Bir kullanıcı, Aç, hassas yetkilendirme ve erişim toocollections, belgeler ve ekleri sağlayan bir izin kümesi için bir mantıksal ad alanıdır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-246">A user, in-turn, is a logical namespace for a set of permissions that provides fine-grained authorization and access toocollections, documents and attachments.</span></span>  

<span data-ttu-id="93f7c-247">Merhaba Cosmos DB kaynak modeli diğer kaynaklar ile veritabanları oluşturulabilir olarak değiştirildi, silinmiş, okuma veya kolayca ya da hello kullanarak numaralandırılan [REST API'leri](/rest/api/documentdb/) veya hello [istemci SDK'ları](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="93f7c-247">As with other resources in hello Cosmos DB resource model, databases can be created, replaced, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="93f7c-248">Cosmos DB okuma veya bir veritabanı kaynak hello meta verileri sorgulamak için güçlü tutarlılığı garanti altına alır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-248">Cosmos DB guarantees strong consistency for reading or querying hello metadata of a database resource.</span></span> <span data-ttu-id="93f7c-249">Veritabanını otomatik olarak silme hello koleksiyonları veya içerdiği kullanıcılar hiçbirine erişemiyor sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-249">Deleting a database automatically ensures that you cannot access any of hello collections or users contained within it.</span></span>   

## <a name="collections"></a><span data-ttu-id="93f7c-250">Koleksiyonlar</span><span class="sxs-lookup"><span data-stu-id="93f7c-250">Collections</span></span>
<span data-ttu-id="93f7c-251">Cosmos DB koleksiyon, JSON belgeleri için bir kapsayıcıdır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-251">A Cosmos DB collection is a container for your JSON documents.</span></span> 

### <a name="elastic-ssd-backed-document-storage"></a><span data-ttu-id="93f7c-252">Esnek yedeklenen SSD belge depolama</span><span class="sxs-lookup"><span data-stu-id="93f7c-252">Elastic SSD backed document storage</span></span>
<span data-ttu-id="93f7c-253">Bir koleksiyon doğası gereği esnek - otomatik olarak büyüdükçe ve belgeleri ekleyip olarak küçülür.</span><span class="sxs-lookup"><span data-stu-id="93f7c-253">A collection is intrinsically elastic - it automatically grows and shrinks as you add or remove documents.</span></span> <span data-ttu-id="93f7c-254">Koleksiyonlar mantıksal kaynaklar ve bir veya daha fazla fiziksel bölümleri veya sunucuları yayılabilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-254">Collections are logical resources and can span one or more physical partitions or servers.</span></span> <span data-ttu-id="93f7c-255">bir koleksiyon içinde bölüm Hello sayısı Cosmos hello depolama boyutu ve, koleksiyonun hello sağlanan işleme dayalı DB tarafından belirlenir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-255">hello number of partitions within a collection is determined by Cosmos DB based on hello storage size and hello provisioned throughput of your collection.</span></span> <span data-ttu-id="93f7c-256">Cosmos DB her bölümün SSD yedekli depolama ilişkili sabit bir tutar sahiptir ve yüksek kullanılabilirlik için çoğaltılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-256">Every partition in Cosmos DB has a fixed amount of SSD-backed storage associated with it, and is replicated for high availability.</span></span> <span data-ttu-id="93f7c-257">Bölüm yönetimi tam olarak Azure Cosmos DB tarafından yönetilen ve değil toowrite karmaşık koda sahip veya, bölümlerini yönetin.</span><span class="sxs-lookup"><span data-stu-id="93f7c-257">Partition management is fully managed by Azure Cosmos DB, and you do not have toowrite complex code or manage your partitions.</span></span> <span data-ttu-id="93f7c-258">Cosmos DB koleksiyonlarıdır **neredeyse sınırsız** depolama ve işleme açısından.</span><span class="sxs-lookup"><span data-stu-id="93f7c-258">Cosmos DB collections are **practically unlimited** in terms of storage and throughput.</span></span> 

### <a name="automatic-indexing-of-collections"></a><span data-ttu-id="93f7c-259">Koleksiyonları otomatik dizin oluşturma</span><span class="sxs-lookup"><span data-stu-id="93f7c-259">Automatic indexing of collections</span></span>
<span data-ttu-id="93f7c-260">Cosmos DB true şemasız veritabanı sistemidir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-260">Cosmos DB is a true schema-free database system.</span></span> <span data-ttu-id="93f7c-261">Varsaymaz veya hello JSON belgeleri için herhangi bir şema gerektirir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-261">It does not assume or require any schema for hello JSON documents.</span></span> <span data-ttu-id="93f7c-262">Belgeleri tooa koleksiyonu ekledikçe Cosmos DB bunları otomatik olarak dizinler ve tooquery için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-262">As you add documents tooa collection, Cosmos DB automatically indexes them and they are available for you tooquery.</span></span> <span data-ttu-id="93f7c-263">Otomatik belgelerin dizin şemasını ya da ikincil dizinlerin gerek kalmadan Cosmos DB'nin anahtar bir özelliktir ve yazma iyileştirilmiş, kilidi serbest ve günlük yapılı dizin bakım teknikleri tarafından etkinleştirilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-263">Automatic indexing of documents without requiring schema or secondary indexes is a key capability of Cosmos DB and is enabled by write-optimized, lock-free and log-structured index maintenance techniques.</span></span> <span data-ttu-id="93f7c-264">Cosmos DB hala tutarlı sorguları hizmet veren sırasında son derece hızlı yazmalar sürekli hacmi destekler.</span><span class="sxs-lookup"><span data-stu-id="93f7c-264">Cosmos DB supports sustained volume of extremely fast writes while still serving consistent queries.</span></span> <span data-ttu-id="93f7c-265">Belge ve dizin depolama olan her koleksiyon tarafından tüketilen toocalculate hello depolama kullanılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-265">Both document and index storage are used toocalculate hello storage consumed by each collection.</span></span> <span data-ttu-id="93f7c-266">Merhaba depolama ve performans hello bir koleksiyon için dizin oluşturma ilkesini yapılandırarak dizin ile ilişkili dengelemeler kontrol edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-266">You can control hello storage and performance trade-offs associated with indexing by configuring hello indexing policy for a collection.</span></span> 

### <a name="configuring-hello-indexing-policy-of-a-collection"></a><span data-ttu-id="93f7c-267">Bir koleksiyonun Hello dizin oluşturma ilkesini yapılandırma</span><span class="sxs-lookup"><span data-stu-id="93f7c-267">Configuring hello indexing policy of a collection</span></span>
<span data-ttu-id="93f7c-268">Dizin oluşturma ilkesi her koleksiyonun hello toomake performans ve depolama dizin ile ilişkili dengelemeler sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-268">hello indexing policy of each collection allows you toomake performance and storage trade-offs associated with indexing.</span></span> <span data-ttu-id="93f7c-269">Merhaba aşağıdaki seçenekler kullanılabilir tooyou dizin yapılandırmasının bir parçası olarak şunlardır:</span><span class="sxs-lookup"><span data-stu-id="93f7c-269">hello following options are available tooyou as part of indexing configuration:</span></span>  

* <span data-ttu-id="93f7c-270">Merhaba koleksiyonu otomatik olarak tüm hello belgelerin veya dizinleri olup olmadığını seçin.</span><span class="sxs-lookup"><span data-stu-id="93f7c-270">Choose whether hello collection automatically indexes all of hello documents or not.</span></span> <span data-ttu-id="93f7c-271">Varsayılan olarak, tüm belgeler otomatik olarak dizine alınır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-271">By default, all documents are automatically indexed.</span></span> <span data-ttu-id="93f7c-272">Otomatik dizin oluşturma devre dışı tooturn seçin ve yalnızca belirli belgeleri toohello dizinini seçmeli olarak ekleyin.</span><span class="sxs-lookup"><span data-stu-id="93f7c-272">You can choose tooturn off automatic indexing and selectively add only specific documents toohello index.</span></span> <span data-ttu-id="93f7c-273">Buna karşılık, yalnızca belirli belgeleri tooexclude seçmeli olarak seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-273">Conversely, you can selectively choose tooexclude only specific documents.</span></span> <span data-ttu-id="93f7c-274">Bir koleksiyon hello indexingPolicy üzerinde hello otomatik özelliği toobe true veya false ayarlama ve hello [x-ms-indexingdirective] istek üstbilgisi ekleme, değiştirme veya bir belgeyi silme sırasında kullanarak gerçekleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-274">You can achieve this by setting hello automatic property toobe true or false on hello indexingPolicy of a collection and using hello [x-ms-indexingdirective] request header while inserting, replacing or deleting a document.</span></span>  
* <span data-ttu-id="93f7c-275">Tooinclude veya hariç tutma belirli yollar veya belgelerinizi düzenleri dizin hello olup olmadığını seçin.</span><span class="sxs-lookup"><span data-stu-id="93f7c-275">Choose whether tooinclude or exclude specific paths or patterns in your documents from hello index.</span></span> <span data-ttu-id="93f7c-276">Bu ayar includedPaths ve bir koleksiyonun hello indexingPolicy üzerinde excludedPaths sırasıyla elde edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-276">You can achieve this by setting includedPaths and excludedPaths on hello indexingPolicy of a collection respectively.</span></span> <span data-ttu-id="93f7c-277">Ayrıca, hello depolama ve performans dengelemeler aralığı için yapılandırma ve sorguları belirli yolu desenler için karma.</span><span class="sxs-lookup"><span data-stu-id="93f7c-277">You can also configure hello storage and performance trade-offs for range and hash queries for specific path patterns.</span></span> 
* <span data-ttu-id="93f7c-278">Zaman uyumlu arasında (tutarlı) seçin ve zaman uyumsuz (yavaş) dizin güncelleştirmeleri.</span><span class="sxs-lookup"><span data-stu-id="93f7c-278">Choose between synchronous (consistent) and asynchronous (lazy) index updates.</span></span> <span data-ttu-id="93f7c-279">Varsayılan olarak, her ekleme, değiştirme veya belge toohello koleksiyonu silme işlemi hello dizini zaman uyumlu olarak güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-279">By default, hello index is updated synchronously on each insert, replace or delete of a document toohello collection.</span></span> <span data-ttu-id="93f7c-280">Bu hello sorgularını sağlayan toohonor hello hello belge okuma olarak aynı tutarlılık düzeyi.</span><span class="sxs-lookup"><span data-stu-id="93f7c-280">This enables hello queries toohonor hello same consistency level as that of hello document reads.</span></span> <span data-ttu-id="93f7c-281">Cosmos DB yazma en iyi duruma getirilmiş ve zaman uyumlu dizin Bakım ve tutarlı sorguları hizmet veren birlikte belge yazma sürekli birimleri destekler, ancak belirli koleksiyonlar tooupdate kendi dizini gevşek yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-281">While Cosmos DB is write optimized and supports sustained volumes of document writes along with synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="93f7c-282">Yavaş dizin daha fazla hello yazma performansı artırır ve toplu alım senaryoları öncelikle okuma ağır koleksiyonları için idealdir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-282">Lazy indexing boosts hello write performance further and is ideal for bulk ingestion scenarios for primarily read-heavy collections.</span></span>

<span data-ttu-id="93f7c-283">Dizin oluşturma ilkesi hello hello koleksiyonunda PUT yürüterek değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-283">hello indexing policy can be changed by executing a PUT on hello collection.</span></span> <span data-ttu-id="93f7c-284">Bu olabilir ya da hello aracılığıyla elde [istemci SDK](documentdb-sdk-dotnet.md), hello [Azure Portal](https://portal.azure.com) veya hello [REST API'leri](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="93f7c-284">This can be achieved either through hello [client SDK](documentdb-sdk-dotnet.md), hello [Azure Portal](https://portal.azure.com) or hello [REST APIs](/rest/api/documentdb/).</span></span>

### <a name="querying-a-collection"></a><span data-ttu-id="93f7c-285">Bir koleksiyonu sorgulama</span><span class="sxs-lookup"><span data-stu-id="93f7c-285">Querying a collection</span></span>
<span data-ttu-id="93f7c-286">bir koleksiyon içinde Hello belgeleri rasgele şemalar sahip olabilir ve herhangi bir şemayı ya da ikincil dizinlerin önceden sağlamadan bir koleksiyon içinde belgeleri sorgulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-286">hello documents within a collection can have arbitrary schemas and you can query documents within a collection without providing any schema or secondary indices upfront.</span></span> <span data-ttu-id="93f7c-287">Merhaba koleksiyonu hello kullanarak sorgulama yapabilirsiniz [Azure Cosmos DB DocumentDB API'si: SQL söz dizimi başvurusu](https://msdn.microsoft.com/library/azure/dn782250.aspx), zengin hiyerarşik, ilişkisel ve uzamsal işleçler ve genişletilebilirlik UDF'ler JavaScript tabanlı aracılığıyla sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-287">You can query hello collection using hello [Azure Cosmos DB DocumentDB API: SQL syntax reference](https://msdn.microsoft.com/library/azure/dn782250.aspx), which provides rich hierarchical, relational, and spatial operators and extensibility via JavaScript-based UDFs.</span></span> <span data-ttu-id="93f7c-288">JSON dil bilgisi hello ağaç düğümleri olarak etiketli ağaçlar JSON belgeleri modellenmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-288">JSON grammar allows for modeling JSON documents as trees with labels as hello tree nodes.</span></span> <span data-ttu-id="93f7c-289">Bu hem DocumentDB API'nin otomatik dizin oluşturma teknikleri ve bunun yanı sıra DocumentDB API'nin SQL diyalekti tarafından yararlanan.</span><span class="sxs-lookup"><span data-stu-id="93f7c-289">This is exploited both by DocumentDB API’s automatic indexing techniques as well as DocumentDB API's SQL dialect.</span></span> <span data-ttu-id="93f7c-290">Merhaba DocumetDB API sorgu dili üç ana yönlerini oluşur:</span><span class="sxs-lookup"><span data-stu-id="93f7c-290">hello DocumetDB API query language consists of three main aspects:</span></span>   

1. <span data-ttu-id="93f7c-291">Doğal olarak hiyerarşik sorgular ve tahminleri dahil olmak üzere toohello ağaç yapısı eşleme sorgu işlemleri küçük bir dizi.</span><span class="sxs-lookup"><span data-stu-id="93f7c-291">A small set of query operations that map naturally toohello tree structure including hierarchical queries and projections.</span></span> 
2. <span data-ttu-id="93f7c-292">Bir alt kümesini oluşturma, filtre, projeksiyonları, toplamalar ve kendi kendine birleşim dahil olmak üzere ilişkisel işlemler.</span><span class="sxs-lookup"><span data-stu-id="93f7c-292">A subset of relational operations including composition, filter, projections, aggregates and self joins.</span></span> 
3. <span data-ttu-id="93f7c-293">Saf JavaScript çalışmak UDF'ler (1) ve (2) bağlı.</span><span class="sxs-lookup"><span data-stu-id="93f7c-293">Pure JavaScript based UDFs that work with (1) and (2).</span></span>  

<span data-ttu-id="93f7c-294">Merhaba Cosmos DB sorgu modelini toostrike işlevselliği, verimliliği ve Basitlik arasında bir denge çalışır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-294">hello Cosmos DB query model attempts toostrike a balance between functionality, efficiency and simplicity.</span></span> <span data-ttu-id="93f7c-295">Merhaba Cosmos DB veritabanı altyapısı yerel olarak derler ve hello SQL sorgu deyimi yürütür.</span><span class="sxs-lookup"><span data-stu-id="93f7c-295">hello Cosmos DB database engine natively compiles and executes hello SQL query statements.</span></span> <span data-ttu-id="93f7c-296">Bir koleksiyon hello kullanarak sorgulama yapabilirsiniz [REST API'leri](/rest/api/documentdb/) veya hello [istemci SDK'ları](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="93f7c-296">You can query a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="93f7c-297">Merhaba .NET SDK'sı LINQ sağlayıcı ile birlikte gelir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-297">hello .NET SDK comes with a LINQ provider.</span></span>

> [!TIP]
> <span data-ttu-id="93f7c-298">DocumentDB API hello deneyin ve kümemize hello karşı SQL sorguları çalıştırma [Query Playground](https://www.documentdb.com/sql/demo).</span><span class="sxs-lookup"><span data-stu-id="93f7c-298">You can try out hello DocumentDB API and run SQL queries against our dataset in hello [Query Playground](https://www.documentdb.com/sql/demo).</span></span>
> 
> 

## <a name="multi-document-transactions"></a><span data-ttu-id="93f7c-299">Çoklu belge işlemler</span><span class="sxs-lookup"><span data-stu-id="93f7c-299">Multi-document transactions</span></span>
<span data-ttu-id="93f7c-300">Veritabanı işlemleri eşzamanlı değişiklikleri toohello veri ilgilenmek için güvenli ve tahmin edilebilir bir programlama modeli sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-300">Database transactions provide a safe and predictable programming model for dealing with concurrent changes toohello data.</span></span> <span data-ttu-id="93f7c-301">RDBMS içinde hello geleneksel bir şekilde toowrite iş mantığı toowrite olan **saklı yordamlar** ve/veya **Tetikleyicileri** ve işlem yürütme için toohello veritabanı sunucusu sevk.</span><span class="sxs-lookup"><span data-stu-id="93f7c-301">In RDBMS, hello traditional way toowrite business logic is toowrite **stored-procedures** and/or **triggers** and ship it toohello database server for transactional execution.</span></span> <span data-ttu-id="93f7c-302">RDBMS iki farklı programlama dilleriyle gerekli toodeal hello uygulama Programcı şöyledir:</span><span class="sxs-lookup"><span data-stu-id="93f7c-302">In RDBMS, hello application programmer is required toodeal with two disparate programming languages:</span></span> 

* <span data-ttu-id="93f7c-303">Merhaba (İşlemsel olmayan) uygulama programlama dili (örneğin JavaScript, Python, C#, Java, vb.)</span><span class="sxs-lookup"><span data-stu-id="93f7c-303">hello (non-transactional) application programming language (e.g. JavaScript, Python, C#, Java, etc.)</span></span>
* <span data-ttu-id="93f7c-304">T-SQL, yerel olarak hello veritabanı tarafından yürütülen hello işlem programlama dili</span><span class="sxs-lookup"><span data-stu-id="93f7c-304">T-SQL, hello transactional programming language which is natively executed by hello database</span></span>

<span data-ttu-id="93f7c-305">Saklı yordamlar bakımından hello koleksiyonlar üzerinde doğrudan uygulama mantığını yürütülen JavaScript tabanlı için derin taahhüt tooJavaScript ve doğrudan hello veritabanı altyapısının içinde JSON, Cosmos DB sezgisel bir programlama modeli sağlar ve tetikler.</span><span class="sxs-lookup"><span data-stu-id="93f7c-305">By virtue of its deep commitment tooJavaScript and JSON directly within hello database engine, Cosmos DB provides an intuitive programming model for executing JavaScript based application logic directly on hello collections in terms of stored procedures and triggers.</span></span> <span data-ttu-id="93f7c-306">Bu hem de hello aşağıdakileri sağlar:</span><span class="sxs-lookup"><span data-stu-id="93f7c-306">This allows for both of hello following:</span></span>

* <span data-ttu-id="93f7c-307">Eşzamanlılık verimli uyarlamasını denetlemek, Kurtarma, otomatik hello JSON nesnesi grafiklerin doğrudan hello Veritabanı Altyapısı'ndaki dizin oluşturma</span><span class="sxs-lookup"><span data-stu-id="93f7c-307">Efficient implementation of concurrency control, recovery, automatic indexing of hello JSON object graphs directly in hello database engine</span></span>
* <span data-ttu-id="93f7c-308">Denetim akışı, değişken kapsamı, atama ve özel durum işleme temelleri veritabanı işlemleri doğrudan hello JavaScript programlama dili açısından ile tümleştirilmesi doğal olarak belirtme</span><span class="sxs-lookup"><span data-stu-id="93f7c-308">Naturally expressing control flow, variable scoping, assignment and integration of exception handling primitives with database transactions directly in terms of hello JavaScript programming language</span></span>

<span data-ttu-id="93f7c-309">bir koleksiyon düzeyinde kayıtlı hello JavaScript mantığı, ardından koleksiyonu verilen hello hello belgelerde veritabanı işlemlerini verebilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-309">hello JavaScript logic registered at a collection level can then issue database operations on hello documents of hello given collection.</span></span> <span data-ttu-id="93f7c-310">Cosmos DB JavaScript saklı yordamları ve Tetikleyicileri bir çevresel ACID işlemlerini arasında anlık görüntü yalıtımıyla içinde dayalı sarmalayan hello örtük olarak bir koleksiyon içinde belgelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-310">Cosmos DB implicitly wraps hello JavaScript based stored procedures and triggers within an ambient ACID transactions with snapshot isolation across documents within a collection.</span></span> <span data-ttu-id="93f7c-311">Merhaba, yürütme sürecinde JavaScript bir özel durum oluşturur hello sonra Merhaba, tüm işlem iptal edildi.</span><span class="sxs-lookup"><span data-stu-id="93f7c-311">During hello course of its execution, if hello JavaScript throws an exception, then hello entire transaction is aborted.</span></span> <span data-ttu-id="93f7c-312">Merhaba elde edilen programlama modeli bir oldukça basittir henüz güçlü.</span><span class="sxs-lookup"><span data-stu-id="93f7c-312">hello resulting programming model is a very simple yet powerful.</span></span> <span data-ttu-id="93f7c-313">JavaScript geliştiricilerin kendi tanıdık dil yapıları ve kitaplık temelleri kullanmaya devam ederken "dayanıklı" programlama modeli alın.</span><span class="sxs-lookup"><span data-stu-id="93f7c-313">JavaScript developers get a “durable” programming model while still using their familiar language constructs and library primitives.</span></span>   

<span data-ttu-id="93f7c-314">Merhaba doğrudan hello veritabanı içinde JavaScript özelliği tooexecute altyapısı hello aynı adres alanı gibi hello arabellek havuzu kullanıcı ve bir koleksiyon hello belgeleri karşı veritabanı işlemleri işlem tabanlı olarak yürütülmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-314">hello ability tooexecute JavaScript directly within hello database engine in hello same address space as hello buffer pool enables performant and transactional execution of database operations against hello documents of a collection.</span></span> <span data-ttu-id="93f7c-315">Ayrıca, derin taahhüt toohello JSON Cosmos DB veritabanı altyapısı yapar ve JavaScript uygulama hello türü sistemlerinin ve hello veritabanı arasında herhangi empedanslı uyumsuzluğu ortadan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-315">Furthermore, Cosmos DB database engine makes a deep commitment toohello JSON and JavaScript eliminates any impedance mismatch between hello type systems of application and hello database.</span></span>   

<span data-ttu-id="93f7c-316">Bir koleksiyonu oluşturduktan sonra saklı yordamlar, tetikleyiciler ve UDF'lerin hello kullanarak koleksiyonuyla kaydedebilirsiniz [REST API'leri](/rest/api/documentdb/) veya hello [istemci SDK'ları](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="93f7c-316">After creating a collection, you can register stored procedures, triggers and UDFs with a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="93f7c-317">Kayıttan sonra başvuru ve bunları yürütün.</span><span class="sxs-lookup"><span data-stu-id="93f7c-317">After registration, you can reference and execute them.</span></span> <span data-ttu-id="93f7c-318">Merhaba aşağıdaki saklı yordamı aşağıdaki hello kodu (rehberi adını ve yazar adı) iki bağımsız değişken almayan tamamen JavaScript'te yazılmış ve yeni bir belge oluşturur, bir belge için sorgular ve ardından – tüm örtük ACID işlemi içinde güncelleştirdiği göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="93f7c-318">Consider hello following stored procedure written entirely in JavaScript, hello code below takes two arguments (book name and author name) and creates a new document, queries for a document and then updates it – all within an implicit ACID transaction.</span></span> <span data-ttu-id="93f7c-319">JavaScript özel durum, hello yürütme sırasında herhangi bir noktada hello tüm işlemi durdurur.</span><span class="sxs-lookup"><span data-stu-id="93f7c-319">At any point during hello execution, if a JavaScript exception is thrown, hello entire transaction aborts.</span></span>

    function businessLogic(name, author) {
        var context = getContext();
        var collectionManager = context.getCollection();        
        var collectionLink = collectionManager.getSelfLink()

        // create a new document.
        collectionManager.createDocument(collectionLink,
            {id: name, author: author},
            function(err, documentCreated) {
                if(err) throw new Error(err.message);

                // filter documents by author
                var filterQuery = "SELECT * from root r WHERE r.author = 'George R.'";
                collectionManager.queryDocuments(collectionLink,
                    filterQuery,
                    function(err, matchingDocuments) {
                        if(err) throw new Error(err.message);

                        context.getResponse().setBody(matchingDocuments.length);

                        // Replace hello author name for all documents that satisfied hello query.
                        for (var i = 0; i < matchingDocuments.length; i++) {
                            matchingDocuments[i].author = "George R. R. Martin";
                            // we don’t need tooexecute a callback because they are in parallel
                            collectionManager.replaceDocument(matchingDocuments[i]._self,
                                matchingDocuments[i]);   
                        }
                    })
            })
    };

<span data-ttu-id="93f7c-320">Merhaba istemci "Merhaba JavaScript mantığı toohello veritabanı HTTP POST ile işlem yürütme için yukarıdaki sevk edebilir".</span><span class="sxs-lookup"><span data-stu-id="93f7c-320">hello client can “ship” hello above JavaScript logic toohello database for transactional execution via HTTP POST.</span></span> <span data-ttu-id="93f7c-321">HTTP yöntemleri kullanma hakkında daha fazla bilgi için bkz: [Azure Cosmos DB kaynakları ile RESTful etkileşimleri](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="93f7c-321">For more information about using HTTP methods, see [RESTful interactions with Azure Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span> 

    client.createStoredProcedureAsync(collection._self, {id: "CRUDProc", body: businessLogic})
       .then(function(createdStoredProcedure) {
            return client.executeStoredProcedureAsync(createdStoredProcedure.resource._self,
                "NoSQL Distilled",
                "Martin Fowler");
        })
        .then(function(result) {
            console.log(result);
        },
        function(error) {
            console.log(error);
        });


<span data-ttu-id="93f7c-322">Merhaba veritabanı JSON ve JavaScript'i yerel olarak anlar olduğundan, hiçbir tür sistemi uyuşmazlığı, yok "Veya eşleme" ya da gerekli kod oluşturma Sihirli fark.</span><span class="sxs-lookup"><span data-stu-id="93f7c-322">Notice that because hello database natively understands JSON and JavaScript, there is no type system mismatch, no “OR mapping” or code generation magic required.</span></span>   

<span data-ttu-id="93f7c-323">Saklı yordamları ve Tetikleyicileri hello geçerli koleksiyon içeriği sunan bir iyi tanımlanmış nesne modeli toplulukta yer alan bir koleksiyon ve hello belgeleri etkileşim.</span><span class="sxs-lookup"><span data-stu-id="93f7c-323">Stored procedures and triggers interact with a collection and hello documents in a collection through a well-defined object model, which exposes hello current collection context.</span></span>  

<span data-ttu-id="93f7c-324">DocumentDB API oluşturulabilir, silinmiş hello koleksiyonlarda okuma veya kolayca ya da hello kullanarak numaralandırılan [REST API'leri](/rest/api/documentdb/) veya hello [istemci SDK'ları](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="93f7c-324">Collections in hello DocumentDB API can be created, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="93f7c-325">Merhaba DocumentDB API her zaman okuma veya bir koleksiyon hello meta verileri sorgulamak için güçlü tutarlılık sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-325">hello DocumentDB API always provides strong consistency for reading or querying hello metadata of a collection.</span></span> <span data-ttu-id="93f7c-326">Bir koleksiyonun otomatik olarak silineceği hello belgeleri, ekleri, saklı yordamlar, Tetikleyiciler hiçbirine erişemiyor ve UDF'ler içerdiği sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-326">Deleting a collection automatically ensures that you cannot access any of hello documents, attachments, stored procedures, triggers, and UDFs contained within it.</span></span>   

## <a name="stored-procedures-triggers-and-user-defined-functions-udf"></a><span data-ttu-id="93f7c-327">Saklı yordamlar, tetikleyiciler ve kullanıcı tanımlı işlevler (UDF)</span><span class="sxs-lookup"><span data-stu-id="93f7c-327">Stored procedures, triggers and User Defined Functions (UDF)</span></span>
<span data-ttu-id="93f7c-328">Merhaba önceki bölümde açıklandığı gibi hello veritabanı altyapısı içinde bir işlem içinde doğrudan uygulama mantığını toorun yazabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-328">As described in hello previous section, you can write application logic toorun directly within a transaction inside of hello database engine.</span></span> <span data-ttu-id="93f7c-329">Merhaba uygulama mantığını tamamen JavaScript'te yazılmış ve bir saklı yordam, tetikleyici veya bir UDF olarak modellenir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-329">hello application logic can be written entirely in JavaScript and can be modeled as a stored procedure, trigger or a UDF.</span></span> <span data-ttu-id="93f7c-330">Hello saklı yordam veya bir tetikleyici içinde JavaScript kodu eklemek, değiştirmek, bir koleksiyon içinde okuma veya sorgu belgeleri sil.</span><span class="sxs-lookup"><span data-stu-id="93f7c-330">hello JavaScript code within a stored procedure or a trigger can insert, replace, delete, read or query documents within a collection.</span></span> <span data-ttu-id="93f7c-331">Üzerindeki diğer yandan Merhaba, hello JavaScript bir UDF içinden eklenemiyor, Değiştir veya belgeleri silin.</span><span class="sxs-lookup"><span data-stu-id="93f7c-331">On hello other hand, hello JavaScript within a UDF cannot insert, replace, or delete documents.</span></span> <span data-ttu-id="93f7c-332">UDF'ler hello belgeleri sorgunun sonuç kümesinin numaralandırır ve başka bir sonuç kümesi üretir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-332">UDFs enumerate hello documents of a query's result set and produce another result set.</span></span> <span data-ttu-id="93f7c-333">Çoklu kiracı için bir temel katı ayırma kaynak İdaresi Cosmos DB zorlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-333">For multi-tenancy, Cosmos DB enforces a strict reservation based resource governance.</span></span> <span data-ttu-id="93f7c-334">Her saklı yordam, tetikleyici veya bir UDF işletim sistemi kaynakları toodo, sabit Zamanlayıcının işini alır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-334">Each stored procedure, trigger or a UDF gets a fixed quantum of operating system resources toodo its work.</span></span> <span data-ttu-id="93f7c-335">Ayrıca, saklı yordamlar, Tetikleyiciler veya UDF'ler karşı dış JavaScript kitaplıklarını bağlayamazsınız ve toothem ayrılan hello kaynak bütçe aşarsanız kara listede.</span><span class="sxs-lookup"><span data-stu-id="93f7c-335">Furthermore, stored procedures, triggers or UDFs cannot link against external JavaScript libraries and are blacklisted if they exceed hello resource budgets allocated toothem.</span></span> <span data-ttu-id="93f7c-336">Kayıt, saklı yordamlar kaydı, REST API'leri Tetikleyiciler veya UDF'ler kullanarak koleksiyonu ile Merhaba.</span><span class="sxs-lookup"><span data-stu-id="93f7c-336">You can register, unregister stored procedures, triggers or UDFs with a collection by using hello REST APIs.</span></span>  <span data-ttu-id="93f7c-337">Kayıt sırasında bir saklı yordam, tetikleyici veya bir UDF önceden derlenmiş ve daha sonra yürütülen bayt kod depolanır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-337">Upon registration a stored procedure, trigger, or a UDF is pre-compiled and stored as byte code which gets executed later.</span></span> <span data-ttu-id="93f7c-338">bölümden hello nasıl hello Cosmos DB JavaScript SDK'sı tooregister ve için kullanabileceğiniz, yürütme, saklı yordam, tetikleyici ve bir UDF kaydı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-338">hello following section illustrate how you can use hello Cosmos DB JavaScript SDK tooregister, execute, and unregister a stored procedure, trigger, and a UDF.</span></span> <span data-ttu-id="93f7c-339">Merhaba JavaScript SDK'sı olan basit bir sarmalayıcı hello [REST API'leri](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="93f7c-339">hello JavaScript SDK is a simple wrapper over hello [REST APIs](/rest/api/documentdb/).</span></span> 

### <a name="registering-a-stored-procedure"></a><span data-ttu-id="93f7c-340">Saklı yordam kaydetme</span><span class="sxs-lookup"><span data-stu-id="93f7c-340">Registering a stored procedure</span></span>
<span data-ttu-id="93f7c-341">Kayıt bir saklı yordam yeni bir saklı yordam kaynak HTTP POST ile bir koleksiyon oluşturur.</span><span class="sxs-lookup"><span data-stu-id="93f7c-341">Registration of a stored procedure creates a new stored procedure resource on a collection via HTTP POST.</span></span>  

    var storedProc = {
        id: "validateAndCreate",
        body: function (documentToCreate) {
            documentToCreate.id = documentToCreate.id.toUpperCase();

            var collectionManager = getContext().getCollection();
            collectionManager.createDocument(collectionManager.getSelfLink(),
                documentToCreate,
                function(err, documentCreated) {
                    if(err) throw new Error('Error while creating document: ' + err.message;
                    getContext().getResponse().setBody('success - created ' + 
                            documentCreated.name);
                });
        }
    };

    client.createStoredProcedureAsync(collection._self, storedProc)
        .then(function (createdStoredProcedure) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-stored-procedure"></a><span data-ttu-id="93f7c-342">Saklı yordam yürütme</span><span class="sxs-lookup"><span data-stu-id="93f7c-342">Executing a stored procedure</span></span>
<span data-ttu-id="93f7c-343">Bir saklı yordam yürütme, varolan bir saklı yordam kaynağı karşı bir HTTP POST parametreleri toohello yordamı hello istek gövdesinde geçirerek vererek yapılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-343">Execution of a stored procedure is done by issuing an HTTP POST against an existing stored procedure resource by passing parameters toohello procedure in hello request body.</span></span>

    var inputDocument = {id : "document1", author: "G. G. Marquez"};
    client.executeStoredProcedureAsync(createdStoredProcedure.resource._self, inputDocument)
        .then(function(executionResult) {
            assert.equal(executionResult, "success - created DOCUMENT1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-stored-procedure"></a><span data-ttu-id="93f7c-344">Saklı yordam kaydı siliniyor</span><span class="sxs-lookup"><span data-stu-id="93f7c-344">Unregistering a stored procedure</span></span>
<span data-ttu-id="93f7c-345">Saklı yordam kaydını yalnızca bir HTTP DELETE varolan bir saklı yordam kaynağı karşı vererek yapılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-345">Unregistering a stored procedure is simply done by issuing an HTTP DELETE against an existing stored procedure resource.</span></span>   

    client.deleteStoredProcedureAsync(createdStoredProcedure.resource._self)
        .then(function (response) {
            return;
        }, function(error) {
            console.log("Error");
        });


### <a name="registering-a-pre-trigger"></a><span data-ttu-id="93f7c-346">Ön tetikleyici kaydetme</span><span class="sxs-lookup"><span data-stu-id="93f7c-346">Registering a pre-trigger</span></span>
<span data-ttu-id="93f7c-347">Bir tetikleyici kaydını HTTP POST ile bir koleksiyon üzerinde yeni bir tetikleyici kaynak oluşturarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-347">Registration of a trigger is done by creating a new trigger resource on a collection via HTTP POST.</span></span> <span data-ttu-id="93f7c-348">Merhaba tetikleyici bir öncesi olduğu veya işlem bir post tetikleyici ve hello türü (örneğin oluşturma, değiştirme, silme veya tüm ile) ilişkili olabilir belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-348">You can specify if hello trigger is a pre or a post trigger and hello type of operation it can be associated with (e.g. Create, Replace, Delete, or All).</span></span>   

    var preTrigger = {
        id: "upperCaseId",
        body: function() {
                var item = getContext().getRequest().getBody();
                item.id = item.id.toUpperCase();
                getContext().getRequest().setBody(item);
        },
        triggerType: TriggerType.Pre,
        triggerOperation: TriggerOperation.All
    }

    client.createTriggerAsync(collection._self, preTrigger)
        .then(function (createdPreTrigger) {
            console.log("Successfully created trigger");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-pre-trigger"></a><span data-ttu-id="93f7c-349">Ön tetikleyici yürütme</span><span class="sxs-lookup"><span data-stu-id="93f7c-349">Executing a pre-trigger</span></span>
<span data-ttu-id="93f7c-350">Bir tetikleyici yürütme hello sırasındaki hello PUT/POST/silme isteği bir belge kaynağın hello istek üstbilgisi aracılığıyla veren varolan bir tetikleyicinin hello adını belirterek yapılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-350">Execution of a trigger is done by specifying hello name of an existing trigger at hello time of issuing hello POST/PUT/DELETE request of a document resource via hello request header.</span></span>  

    client.createDocumentAsync(collection._self, { id: "doc1", key: "Love in hello Time of Cholera" }, { preTriggerInclude: "upperCaseId" })
        .then(function(createdDocument) {
            assert.equal(createdDocument.resource.id, "DOC1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-pre-trigger"></a><span data-ttu-id="93f7c-351">Ön tetikleyici kaydını silme</span><span class="sxs-lookup"><span data-stu-id="93f7c-351">Unregistering a pre-trigger</span></span>
<span data-ttu-id="93f7c-352">Bir tetikleyici kaydını yalnızca bir HTTP DELETE varolan bir tetikleyici kaynağı karşı veren aracılığıyla yapılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-352">Unregistering a trigger is simply done via issuing an HTTP DELETE against an existing trigger resource.</span></span>  

    client.deleteTriggerAsync(createdPreTrigger._self);
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

### <a name="registering-a-udf"></a><span data-ttu-id="93f7c-353">Bir UDF kaydetme</span><span class="sxs-lookup"><span data-stu-id="93f7c-353">Registering a UDF</span></span>
<span data-ttu-id="93f7c-354">Bir UDF kaydını HTTP POST ile bir koleksiyon üzerinde yeni bir UDF kaynak oluşturarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-354">Registration of a UDF is done by creating a new UDF resource on a collection via HTTP POST.</span></span>  

    var udf = { 
        id: "mathSqrt",
        body: function(number) {
                return Math.sqrt(number);
        },
    };
    client.createUserDefinedFunctionAsync(collection._self, udf)
        .then(function (createdUdf) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-udf-as-part-of-hello-query"></a><span data-ttu-id="93f7c-355">UDF hello sorgu parçası olarak çalıştırma</span><span class="sxs-lookup"><span data-stu-id="93f7c-355">Executing a UDF as part of hello query</span></span>
<span data-ttu-id="93f7c-356">Bir UDF hello SQL sorgusunun bir parçası olarak belirtilen ve bir şekilde tooextend hello çekirdek kullanılan [SQL sorgu dili hello DocumentDB API için](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span><span class="sxs-lookup"><span data-stu-id="93f7c-356">A UDF can be specified as part of hello SQL query and is used as a way tooextend hello core [SQL query language for hello DocumentDB API](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span></span>

    var filterQuery = "SELECT udf.mathSqrt(r.Age) AS sqrtAge FROM root r WHERE r.FirstName='John'";
    client.queryDocuments(collection._self, filterQuery).toArrayAsync();
        .then(function(queryResponse) {
            var queryResponseDocuments = queryResponse.feed;
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-udf"></a><span data-ttu-id="93f7c-357">Bir UDF kaydı siliniyor</span><span class="sxs-lookup"><span data-stu-id="93f7c-357">Unregistering a UDF</span></span>
<span data-ttu-id="93f7c-358">Bir UDF kaydını yalnızca bir HTTP DELETE varolan bir UDF kaynağı karşı vererek yapılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-358">Unregistering a UDF is simply done by issuing an HTTP DELETE against an existing UDF resource.</span></span>  

    client.deleteUserDefinedFunctionAsync(createdUdf._self)
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

<span data-ttu-id="93f7c-359">Yukarıdaki Hello parçacıkları hello kayıt (POST), kayıt silme (PUT), okuma/listesi (GET) ve yürütme (POST) hello aracılığıyla gösterdi rağmen [JavaScript SDK'sı](https://github.com/Azure/azure-documentdb-js), hello de kullanabilirsiniz [REST API'leri](/rest/api/documentdb/) veya diğer [istemci SDK'ları](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="93f7c-359">Although hello snippets above showed hello registration (POST), unregistration (PUT), read/list (GET) and execution (POST) via hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), you can also use hello [REST APIs](/rest/api/documentdb/) or other [client SDKs](documentdb-sdk-dotnet.md).</span></span> 

## <a name="documents"></a><span data-ttu-id="93f7c-360">Belgeler</span><span class="sxs-lookup"><span data-stu-id="93f7c-360">Documents</span></span>
<span data-ttu-id="93f7c-361">Eklemek, değiştirmek, silmek, okuyabilir, listeleme ve rastgele JSON belgelerinin bir koleksiyondaki sorgu.</span><span class="sxs-lookup"><span data-stu-id="93f7c-361">You can insert, replace, delete, read, enumerate and query arbitrary JSON documents in a collection.</span></span> <span data-ttu-id="93f7c-362">Cosmos DB herhangi bir şema zorunlu kılabilir değil ve bir koleksiyon belgelerde üzerinden sorgulama sipariş toosupport'deki ikincil dizinler gerektirmez.</span><span class="sxs-lookup"><span data-stu-id="93f7c-362">Cosmos DB does not mandate any schema and does not require secondary indexes in order toosupport querying over documents in a collection.</span></span> <span data-ttu-id="93f7c-363">bir belge için maksimum boyut Hello 2 MB'tır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-363">hello maximum size for a document is 2 MB.</span></span>   

<span data-ttu-id="93f7c-364">Gerçekten açık veritabanı hizmeti olan, Cosmos DB herhangi bir özel veri türleri (örneğin, tarih saat) ile stok değil ya da belirli kodlamaları JSON belgeleri için.</span><span class="sxs-lookup"><span data-stu-id="93f7c-364">Being a truly open database service, Cosmos DB does not invent any specialized data types (e.g. date time) or specific encodings for JSON documents.</span></span> <span data-ttu-id="93f7c-365">Cosmos DB özel JSON kuralları toocodify hello ilişkileri çeşitli belgeler arasında gerektirmez unutmayın; Cosmos DB Hello SQL söz dizimini çok güçlü hiyerarşik ve ilişkisel sorgu işleçleri herhangi bir özel ek açıklama veya gereksinim toocodify ilişkileri ayırt edici özellikleri kullanarak belgeler arasında olmadan tooquery ve proje belgeler sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-365">Note that Cosmos DB does not require any special JSON conventions toocodify hello relationships among various documents; hello SQL syntax of Cosmos DB provides very powerful hierarchical and relational query operators tooquery and project documents without any special annotations or need toocodify relationships among documents using distinguished properties.</span></span>  

<span data-ttu-id="93f7c-366">Tüm diğer kaynaklarla belgeleri oluşturulabilir olarak değiştirildi, silinmiş, okuma, numaralandırılmış ve kolayca REST API'leri veya hello birini kullanarak sorgulanan [istemci SDK'ları](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="93f7c-366">As with all other resources, documents can be created, replaced, deleted, read, enumerated and queried easily using either REST APIs or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="93f7c-367">Bir belgeyi hemen silme hello kota karşılık gelen tooall iç içe geçmiş hello eklerin boşaltır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-367">Deleting a document instantly frees up hello quota corresponding tooall of hello nested attachments.</span></span> <span data-ttu-id="93f7c-368">Merhaba, belgelerin tutarlılık düzeyi hello tutarlılık İlkesi hello veritabanı hesabındaki izleyen okuyun.</span><span class="sxs-lookup"><span data-stu-id="93f7c-368">hello read consistency level of documents follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="93f7c-369">Bu ilke, uygulamanızın veri tutarlılığı gereksinimlerine bağlı olarak istek başına temelinde geçersiz kılınabilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-369">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="93f7c-370">Belgeleri sorgulanırken hello modu hello koleksiyonu dizin tutarlılık aşağıdaki hello okuyun.</span><span class="sxs-lookup"><span data-stu-id="93f7c-370">When querying documents, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="93f7c-371">"İçin tutarlı", bu hello hesabın tutarlılık ilke aşağıdaki gibidir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-371">For “consistent”, this follows hello account’s consistency policy.</span></span> 

## <a name="attachments-and-media"></a><span data-ttu-id="93f7c-372">Ekleri ve ortam</span><span class="sxs-lookup"><span data-stu-id="93f7c-372">Attachments and media</span></span>
<span data-ttu-id="93f7c-373">Cosmos DB toostore ikili BLOB'lar/medya, Cosmos DB (hesap başına en fazla 2 GB) veya tooyour kendi uzaktan medya depolama sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-373">Cosmos DB allows you toostore binary blobs/media either with Cosmos DB (maximum of 2 GB per account) or tooyour own remote media store.</span></span> <span data-ttu-id="93f7c-374">Ayrıca, bir ortam eki adlı özel bir belge bakımından toorepresent hello meta verileri sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-374">It also allows you toorepresent hello metadata of a media in terms of a special document called attachment.</span></span> <span data-ttu-id="93f7c-375">Cosmos DB ek başvurular medya/blob başka bir yerde depolanan hello bir özel (JSON) belgedir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-375">An attachment in Cosmos DB is a special (JSON) document that references hello media/blob stored elsewhere.</span></span> <span data-ttu-id="93f7c-376">Merhaba meta verileri (ör. konum, yazar vb.) bir uzak medya depolamada depolanan bir medya yakalayan yalnızca bir özel belge ektir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-376">An attachment is simply a special document that captures hello metadata (e.g. location, author etc.) of a media stored in a remote media storage.</span></span> 

<span data-ttu-id="93f7c-377">Yer işaretleri, derecelendirme, yöntemlerine/Beğenmediklerinizi vb. bir e-kitap için belirli bir kullanıcının ilişkili meta verileri, Yorumlar dahil olmak üzere vurgular ve Cosmos DB toostore açıklamaların kullanan bir sosyal okuma uygulaması düşünün.</span><span class="sxs-lookup"><span data-stu-id="93f7c-377">Consider a social reading application which uses Cosmos DB toostore ink annotations, and metadata including comments, highlights, bookmarks, ratings, likes/dislikes etc. associated for an e-book of a given user.</span></span>   

* <span data-ttu-id="93f7c-378">Merhaba hello kitap kendisini içeriğini hello medya deposunda ya da depolanan Cosmos DB veritabanı hesabı parçası veya bir uzak medya deposu olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-378">hello content of hello book itself is stored in hello media storage either available as part of Cosmos DB database account or a remote media store.</span></span> 
* <span data-ttu-id="93f7c-379">Bir uygulamayı ayrı bir belge olarak her kullanıcının meta verileri depolayabilir--örneğin Kitap1 Can'ın meta verilerini /colls/joe/docs/book1 tarafından başvurulan bir belge depolanır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-379">An application may store each user’s metadata as a distinct document -- e.g. Joe’s metadata for book1 is stored in a document referenced by /colls/joe/docs/book1.</span></span> 
* <span data-ttu-id="93f7c-380">Bir kullanıcının belirli bir rehberi toohello içerik sayfaları işaret eden ek hello karşılık gelen belge ör /colls/joe/docs/book1/chapter1 altında depolanan /colls/joe/docs/book1/chapter2 vs.</span><span class="sxs-lookup"><span data-stu-id="93f7c-380">Attachments pointing toohello content pages of a given book of a user are stored under hello corresponding document e.g. /colls/joe/docs/book1/chapter1, /colls/joe/docs/book1/chapter2 etc.</span></span> 

<span data-ttu-id="93f7c-381">Merhaba örnekleri yukarıda listelenen Not kolay kimlikleri tooconvey hello kaynak hiyerarşisi kullanın.</span><span class="sxs-lookup"><span data-stu-id="93f7c-381">Note that hello examples listed above use friendly ids tooconvey hello resource hierarchy.</span></span> <span data-ttu-id="93f7c-382">Kaynakları benzersiz kaynak kimlikleri aracılığıyla hello REST API'leri aracılığıyla erişilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-382">Resources are accessed via hello REST APIs through unique resource ids.</span></span> 

<span data-ttu-id="93f7c-383">Cosmos DB tarafından yönetilen hello medyayı hello _media özelliği hello ekin hello medya URI'sini tarafından başvurur.</span><span class="sxs-lookup"><span data-stu-id="93f7c-383">For hello media that is managed by Cosmos DB, hello _media property of hello attachment will reference hello media by its URI.</span></span> <span data-ttu-id="93f7c-384">Tüm hello bekleyen başvurularını bırakıldığında cosmos DB toogarbage toplama hello medya güvence altına alır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-384">Cosmos DB will ensure toogarbage collect hello media when all of hello outstanding references are dropped.</span></span> <span data-ttu-id="93f7c-385">Cosmos DB otomatik olarak hello yeni medya yüklediğinizde hello eki oluşturur ve hello _media toopoint toohello yeni eklenen medya doldurur.</span><span class="sxs-lookup"><span data-stu-id="93f7c-385">Cosmos DB automatically generates hello attachment when you upload hello new media and populates hello _media toopoint toohello newly added media.</span></span> <span data-ttu-id="93f7c-386">Sizin tarafınızdan (örn. OneDrive, Azure Storage, DropBox vb.) yönetilen bir uzak blob Mağazası'nda toostore hello medya seçerseniz, ekleri tooreference hello medya kullanmaya devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-386">If you choose toostore hello media in a remote blob store managed by you (e.g. OneDrive, Azure Storage, DropBox etc), you can still use attachments tooreference hello media.</span></span> <span data-ttu-id="93f7c-387">Bu durumda, hello eki kendiniz oluşturmanız ve onun _media özelliğini doldurmak.</span><span class="sxs-lookup"><span data-stu-id="93f7c-387">In this case, you will create hello attachment yourself and populate its _media property.</span></span>   

<span data-ttu-id="93f7c-388">Diğer tüm kaynaklar gibi ile ekleri oluşturulabilir, silinmiş, okuma veya değiştirilmesi kolayca REST API'leri veya hello istemci SDK'ları birini kullanarak numaralandırılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-388">As with all other resources, attachments can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="93f7c-389">Belgeler, ekleri tutarlılık düzeyi hello okurken hello tutarlılık ilke hello veritabanı hesabındaki aşağıdaki gibidir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-389">As with documents, hello read consistency level of attachments follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="93f7c-390">Bu ilke, uygulamanızın veri tutarlılığı gereksinimlerine bağlı olarak istek başına temelinde geçersiz kılınabilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-390">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="93f7c-391">Ekler için sorgulanırken hello modu hello koleksiyonu dizin tutarlılık aşağıdaki hello okuyun.</span><span class="sxs-lookup"><span data-stu-id="93f7c-391">When querying for attachments, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="93f7c-392">"İçin tutarlı", bu hello hesabın tutarlılık ilke aşağıdaki gibidir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-392">For “consistent”, this follows hello account’s consistency policy.</span></span> 
 

## <a name="users"></a><span data-ttu-id="93f7c-393">Kullanıcılar</span><span class="sxs-lookup"><span data-stu-id="93f7c-393">Users</span></span>
<span data-ttu-id="93f7c-394">Cosmos DB kullanıcı izinleri gruplandırması için mantıksal bir ad alanı temsil eder.</span><span class="sxs-lookup"><span data-stu-id="93f7c-394">A Cosmos DB user represents a logical namespace for grouping permissions.</span></span> <span data-ttu-id="93f7c-395">Cosmos DB kullanıcı tooa kullanıcı bir kimlik yönetimi sistemi veya önceden tanımlanmış uygulama rolü karşılık gelebilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-395">A Cosmos DB user may correspond tooa user in an identity management system or a predefined application role.</span></span> <span data-ttu-id="93f7c-396">Cosmos DB için bir kullanıcı yalnızca bir soyutlama toogroup bir veritabanı altında izinler kümesini temsil eder.</span><span class="sxs-lookup"><span data-stu-id="93f7c-396">For Cosmos DB, a user simply represents an abstraction toogroup a set of permissions under a database.</span></span>   

<span data-ttu-id="93f7c-397">Çoklu kiracı uygulamanızda uygulamak için kullanıcılar tooyour gerçek kullanıcıları veya uygulamanızın hello kiracılar karşılık gelen Cosmos DB içinde oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-397">For implementing multi-tenancy in your application, you can create users in Cosmos DB which corresponds tooyour actual users or hello tenants of your application.</span></span> <span data-ttu-id="93f7c-398">Daha sonra toohello erişim denetimi çeşitli koleksiyonlar, belgeler, ekleri, vb. üzerinden karşılık gelen belirli bir kullanıcının izinlerini oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-398">You can then create permissions for a given user that correspond toohello access control over various collections, documents, attachments, etc.</span></span>   

<span data-ttu-id="93f7c-399">Uygulamalarınızı, kullanıcı büyüme ile tooscale gerektiği verilerinizi çeşitli yolları tooshard benimseyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93f7c-399">As your applications need tooscale with your user growth, you can adopt various ways tooshard your data.</span></span> <span data-ttu-id="93f7c-400">Her kullanıcılarınızın gibi model oluşturabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="93f7c-400">You can model each of your users as follows:</span></span>   

* <span data-ttu-id="93f7c-401">Her kullanıcı tooa veritabanı eşler.</span><span class="sxs-lookup"><span data-stu-id="93f7c-401">Each user maps tooa database.</span></span>
* <span data-ttu-id="93f7c-402">Her kullanıcı tooa koleksiyonu eşler.</span><span class="sxs-lookup"><span data-stu-id="93f7c-402">Each user maps tooa collection.</span></span> 
* <span data-ttu-id="93f7c-403">Toomultiple kullanıcılar karşılık gelen belgeleri ayrılmış tooa koleksiyonu gidin.</span><span class="sxs-lookup"><span data-stu-id="93f7c-403">Documents corresponding toomultiple users go tooa dedicated collection.</span></span> 
* <span data-ttu-id="93f7c-404">Toomultiple kullanıcılar karşılık gelen belgeleri koleksiyonları tooa kümesi gidin.</span><span class="sxs-lookup"><span data-stu-id="93f7c-404">Documents corresponding toomultiple users go tooa set of collections.</span></span>   

<span data-ttu-id="93f7c-405">Seçtiğiniz hello belirli parçalama stratejisi bağımsız olarak Cosmos DB veritabanındaki kullanıcı olarak gerçek kullanıcılarınızın model ve ince tanecikli izinleri tooeach kullanıcı ilişkilendirin.</span><span class="sxs-lookup"><span data-stu-id="93f7c-405">Regardless of hello specific sharding strategy you choose, you can model your actual users as users in Cosmos DB database and associate fine grained permissions tooeach user.</span></span>  

<span data-ttu-id="93f7c-406">![Kullanıcı koleksiyonları][3]</span><span class="sxs-lookup"><span data-stu-id="93f7c-406">![User collections][3]</span></span>  
<span data-ttu-id="93f7c-407">**Parçalama stratejilerini ve modelleme kullanıcılar**</span><span class="sxs-lookup"><span data-stu-id="93f7c-407">**Sharding strategies and modeling users**</span></span>

<span data-ttu-id="93f7c-408">Diğer tüm kaynaklar gibi Cosmos DB kullanıcılar oluşturulabilir, silinmiş, okuma veya değiştirilmesi kolayca REST API'leri veya hello istemci SDK'ları birini kullanarak numaralandırılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-408">Like all other resources, users in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="93f7c-409">Cosmos DB her zaman okuma veya kullanıcı kaynağı hello meta verileri sorgulamak için güçlü tutarlılık sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-409">Cosmos DB always provides strong consistency for reading or querying hello metadata of a user resource.</span></span> <span data-ttu-id="93f7c-410">Kullanıcı otomatik olarak silme içerdiği hello izinleri hiçbirine erişemiyor sağlar işaret eden değer olur.</span><span class="sxs-lookup"><span data-stu-id="93f7c-410">It is worth pointing out that deleting a user automatically ensures that you cannot access any of hello permissions contained within it.</span></span> <span data-ttu-id="93f7c-411">Hello silinmiş kullanıcı hello arka planda bir parçası olarak hello kota hello izinleri Hello Cosmos DB kaldırsa olsa bile, silinen hello izinleri kullanılabilir hemen yeniden, toouse.</span><span class="sxs-lookup"><span data-stu-id="93f7c-411">Even though hello Cosmos DB reclaims hello quota of hello permissions as part of hello deleted user in hello background, hello deleted permissions is available instantly again for you toouse.</span></span>  

## <a name="permissions"></a><span data-ttu-id="93f7c-412">İzinler</span><span class="sxs-lookup"><span data-stu-id="93f7c-412">Permissions</span></span>
<span data-ttu-id="93f7c-413">Bir veritabanı hesapları gibi kaynaklara erişim denetimi açısından veritabanları, kullanıcılar ve izni kabul edilen *Yönetim* bunlar yönetim izinleri gerektirir olduğundan kaynaklar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-413">From an access control perspective, resources such as database accounts, databases, users and permission are considered *administrative* resources since these require administrative permissions.</span></span> <span data-ttu-id="93f7c-414">Diğer yandan, hello koleksiyonlar, belgeler, ekleri, saklı yordamlar, Tetikleyiciler, dahil olmak üzere kaynaklar üzerinde hello ve UDF'ler altında verilen bir veritabanı kapsamlı ve kabul *uygulama kaynakları*.</span><span class="sxs-lookup"><span data-stu-id="93f7c-414">On hello other hand, resources including hello collections, documents, attachments, stored procedures, triggers, and UDFs are scoped under a given database and considered *application resources*.</span></span> <span data-ttu-id="93f7c-415">Kaynakları ve bunlara (yani Merhaba yönetici ve kullanıcı) erişim hello rolleri iki tür toohello karşılık gelen, iki tür hello yetkilendirme modelini tanımlar *erişim anahtarları*: *ana anahtar* ve *kaynak anahtarı*.</span><span class="sxs-lookup"><span data-stu-id="93f7c-415">Corresponding toohello two types of resources and hello roles that access them (namely hello administrator and user), hello authorization model defines two types of *access keys*: *master key* and *resource key*.</span></span> <span data-ttu-id="93f7c-416">Merhaba ana anahtar hello veritabanı hesabı, bir parçasıdır ve toohello geliştirici (veya yönetici) sağlanan kimin hello veritabanı hesabı sağlama.</span><span class="sxs-lookup"><span data-stu-id="93f7c-416">hello master key is a part of hello database account and is provided toohello developer (or administrator) who is provisioning hello database account.</span></span> <span data-ttu-id="93f7c-417">Kullanılan tooauthorize erişim tooboth yönetim ve uygulama kaynakları olabilir, bu ana anahtar Yöneticisi semantiği sahiptir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-417">This master key has administrator semantics, in that it can be used tooauthorize access tooboth administrative and application resources.</span></span> <span data-ttu-id="93f7c-418">Buna karşılık, kaynak anahtarı erişim tooa izin veren bir ayrıntılı erişim anahtarıdır *belirli* Uygulama kaynağı.</span><span class="sxs-lookup"><span data-stu-id="93f7c-418">In contrast, a resource key is a granular access key that allows access tooa *specific* application resource.</span></span> <span data-ttu-id="93f7c-419">Bu nedenle, bir veritabanının hello kullanıcı arasındaki ilişki hello yakalar ve hello izinleri hello kullanıcı belirli bir kaynak için (örneğin koleksiyonu, belge, ek, saklı yordam, tetikleyici veya UDF) sahiptir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-419">Thus, it captures hello relationship between hello user of a database and hello permissions hello user has for a specific resource (e.g. collection, document, attachment, stored procedure, trigger, or UDF).</span></span>   

<span data-ttu-id="93f7c-420">belirli bir kullanıcının altında izni kaynak oluşturarak bir kaynak anahtardır hello tek yolu tooobtain.</span><span class="sxs-lookup"><span data-stu-id="93f7c-420">hello only way tooobtain a resource key is by creating a permission resource under a given user.</span></span> <span data-ttu-id="93f7c-421">Sipariş toocreate dikkat edin veya izni almak, bir ana anahtar hello yetkilendirme üstbilgisinde sunulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-421">Note that In order toocreate or retrieve a permission, a master key must be presented in hello authorization header.</span></span> <span data-ttu-id="93f7c-422">Merhaba kaynak, erişim ve hello kullanıcı izni kaynak bağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-422">A permission resource ties hello resource, its access and hello user.</span></span> <span data-ttu-id="93f7c-423">İzni kaynak oluşturduktan sonra hello kullanıcı yalnızca bir sipariş toogain erişim toohello ilgili kaynak toopresent hello ilişkili kaynak anahtarı gerekir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-423">After creating a permission resource, hello user only needs toopresent hello associated resource key in order toogain access toohello relevant resource.</span></span> <span data-ttu-id="93f7c-424">Bu nedenle, bir kaynak anahtarı hello izni kaynak mantıksal ve compact gösterimi görüntülenebilir.</span><span class="sxs-lookup"><span data-stu-id="93f7c-424">Hence, a resource key can be viewed as a logical and compact representation of hello permission resource.</span></span>  

<span data-ttu-id="93f7c-425">Diğer tüm kaynaklar gibi ile Cosmos DB izinleri oluşturulabilir, silinmiş, okuma veya değiştirilmesi kolayca REST API'leri veya hello istemci SDK'ları birini kullanarak numaralandırılır.</span><span class="sxs-lookup"><span data-stu-id="93f7c-425">As with all other resources, permissions in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="93f7c-426">Cosmos DB her zaman okuma veya izin hello meta verileri sorgulamak için güçlü tutarlılık sağlar.</span><span class="sxs-lookup"><span data-stu-id="93f7c-426">Cosmos DB always provides strong consistency for reading or querying hello metadata of a permission.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="93f7c-427">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="93f7c-427">Next steps</span></span>
<span data-ttu-id="93f7c-428">HTTP komutları kullanarak kaynakları ile çalışma hakkında daha fazla bilgi [Cosmos DB kaynakları ile RESTful etkileşimleri](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="93f7c-428">Learn more about working with resources by using HTTP commands in [RESTful interactions with Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span>

[1]: media/documentdb-resources/resources1.png
[2]: media/documentdb-resources/resources2.png
[3]: media/documentdb-resources/resources3.png

