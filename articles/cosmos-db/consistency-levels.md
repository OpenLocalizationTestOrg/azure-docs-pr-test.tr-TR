---
title: "Azure Cosmos veritabanı tutarlılık düzeylerini | Microsoft Docs"
description: "Azure Cosmos DB Bakiye nihai tutarlılık, kullanılabilirlik ve gecikme dengelemeler yardımcı olmak üzere beş tutarlılık düzeyleri vardır."
keywords: "Nihai tutarlılık, azure cosmos db, azure, Microsoft azure"
services: cosmos-db
author: mimig1
manager: jhubbard
editor: cgronlun
documentationcenter: 
ms.assetid: 3fe51cfa-a889-4a4a-b320-16bf871fe74c
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/16/2017
ms.author: mimig
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: a1ebec2285982c70aa9dc49950769fe18e2e2d0d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/03/2017
---
# <a name="tunable-data-consistency-levels-in-azure-cosmos-db"></a><span data-ttu-id="8cfef-104">İnce ayarlanabilir veri tutarlılık düzeylerini Azure Cosmos veritabanı</span><span class="sxs-lookup"><span data-stu-id="8cfef-104">Tunable data consistency levels in Azure Cosmos DB</span></span>
<span data-ttu-id="8cfef-105">Azure Cosmos DB sıfırdan yukarı genel dağıtım aklınızda her veri modeli için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-105">Azure Cosmos DB is designed from the ground up with global distribution in mind for every data model.</span></span> <span data-ttu-id="8cfef-106">Tahmin edilebilir düşük gecikme süresi garantileri, % 99,99 kullanılabilirlik SLA ve birden çok iyi tanımlanmış gevşek tutarlılık modelleri sunmak üzere tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-106">It is designed to offer predictable low latency guarantees, a 99.99% availability SLA, and multiple well-defined relaxed consistency models.</span></span> <span data-ttu-id="8cfef-107">Şu anda Azure Cosmos DB beş tutarlılık düzeyi sunar: güçlü, sınırlanmış eskime durumu, oturum, tutarlı öneki ve son.</span><span class="sxs-lookup"><span data-stu-id="8cfef-107">Currently, Azure Cosmos DB provides five consistency levels: strong, bounded-staleness, session, consistent prefix, and eventual.</span></span> 

<span data-ttu-id="8cfef-108">Yanında **güçlü** ve **nihai tutarlılık** modelleri Azure Cosmos DB üç daha fazla dikkatle kod oluşturulmuş ve kullanıma hazır hale getirilmiş tutarlılık modeli sunar ve sahip dağıtılmış veritabanı tarafından yaygın olarak sunulan gerçek dünya durumlara karşı oluştuğu doğrulandı.</span><span class="sxs-lookup"><span data-stu-id="8cfef-108">Besides **strong** and **eventual consistency** models commonly offered by distributed databases, Azure Cosmos DB offers three more carefully codified and operationalized consistency models, and has validated their usefulness against real world use cases.</span></span> <span data-ttu-id="8cfef-109">Bunlar **sınırlanmış eskime durumu**, **oturum**, ve **tutarlı önek** tutarlılık düzeyi.</span><span class="sxs-lookup"><span data-stu-id="8cfef-109">These are the **bounded staleness**, **session**, and **consistent prefix** consistency levels.</span></span> <span data-ttu-id="8cfef-110">Topluca bu beş tutarlılık düzeyleri iyi reasoned dengelemeler tutarlılık, kullanılabilirlik ve gecikme süresi arasında yapmanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="8cfef-110">Collectively these five consistency levels enable you to make well-reasoned trade-offs between consistency, availability, and latency.</span></span> 

## <a name="distributed-databases-and-consistency"></a><span data-ttu-id="8cfef-111">Dağıtılmış veritabanları ve tutarlılık</span><span class="sxs-lookup"><span data-stu-id="8cfef-111">Distributed databases and consistency</span></span>
<span data-ttu-id="8cfef-112">Ticari olarak dağıtılmış veritabanları iki kategoriye ayrılır: iyi tanımlanmış, kanıtlanabilir tutarlılık seçenekleri sunmayan veritabanları ve iki olağan dışı programlama seçeneği (güçlü ve nihai tutarlılık) sunan veritabanları.</span><span class="sxs-lookup"><span data-stu-id="8cfef-112">Commercial distributed databases fall into two categories: databases that do not offer well-defined, provable consistency choices at all, and databases which offer two extreme programmability choices (strong vs. eventual consistency).</span></span> 

<span data-ttu-id="8cfef-113">İlk veritabanı grubu, uygulama geliştiricilerini çoğaltma protokollerinin küçük ayrıntılarından kurtarır ve tutarlılık, kullanılabilirlik, gecikme süresi ve aktarım hızı arasında zorlu seçimler yapmalarını bekler.</span><span class="sxs-lookup"><span data-stu-id="8cfef-113">The former burdens application developers with minutia of their replication protocols and expects them to make difficult tradeoffs between consistency, availability, latency, and throughput.</span></span> <span data-ttu-id="8cfef-114">İkinci veritabanı grubu ise iki olağan dışı örnekten birinin seçilmesini gerektirir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-114">The latter puts a pressure to choose one of the two extremes.</span></span> <span data-ttu-id="8cfef-115">50’den fazla tutarlılık modeli üzerinde yapılan çok sayıda araştırma ve teklife rağmen, dağıtılmış veritabanı topluluğu güçlü ve nihai tutarlılığı aşan tutarlılık düzeylerini ticari düzeye taşıyamamıştır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-115">Despite the abundance of research and proposals for more than 50 consistency models, the distributed database community has not been able to commercialize consistency levels beyond strong and eventual consistency.</span></span> <span data-ttu-id="8cfef-116">Cosmos DB geliştiriciler sınırlanmış eskime durumu tutarlılığı spektrumun – güçlü, boyunca beş iyi tanımlanmış tutarlılık modelleri arasında seçmenizi sağlayan [oturum](http://dl.acm.org/citation.cfm?id=383631), tutarlı öneki ve son.</span><span class="sxs-lookup"><span data-stu-id="8cfef-116">Cosmos DB allows developers to choose between five well-defined consistency models along the consistency spectrum – strong, bounded staleness, [session](http://dl.acm.org/citation.cfm?id=383631), consistent prefix, and eventual.</span></span> 

![Azure Cosmos DB, aralarından seçim yapabileceğiniz birden fazla iyi tanımlanmış (esnek) tutarlılık modeli sunar](./media/consistency-levels/five-consistency-levels.png)

<span data-ttu-id="8cfef-118">Aşağıdaki tabloda her tutarlılık düzeyinin sunduğu garantiler gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-118">The following table illustrates the specific guarantees each consistency level provides.</span></span>
 
<span data-ttu-id="8cfef-119">**Tutarlılık Düzeyleri ve garantiler**</span><span class="sxs-lookup"><span data-stu-id="8cfef-119">**Consistency Levels and guarantees**</span></span>

| <span data-ttu-id="8cfef-120">Tutarlılık Düzeyi</span><span class="sxs-lookup"><span data-stu-id="8cfef-120">Consistency Level</span></span> | <span data-ttu-id="8cfef-121">Garantiler</span><span class="sxs-lookup"><span data-stu-id="8cfef-121">Guarantees</span></span> |
| --- | --- |
| <span data-ttu-id="8cfef-122">Güçlü</span><span class="sxs-lookup"><span data-stu-id="8cfef-122">Strong</span></span> | <span data-ttu-id="8cfef-123">Doğrusallaştırma</span><span class="sxs-lookup"><span data-stu-id="8cfef-123">Linearizability</span></span> |
| <span data-ttu-id="8cfef-124">Sınırlanmış Eskime Durumu</span><span class="sxs-lookup"><span data-stu-id="8cfef-124">Bounded Staleness</span></span> | <span data-ttu-id="8cfef-125">Tutarlı Ön Ek.</span><span class="sxs-lookup"><span data-stu-id="8cfef-125">Consistent Prefix.</span></span> <span data-ttu-id="8cfef-126">-k ön eklerine veya t aralığına göre yazma işlemlerinin arkasındaki gecikmeyi okur</span><span class="sxs-lookup"><span data-stu-id="8cfef-126">Reads lag behind writes by k prefixes or t interval</span></span> |
| <span data-ttu-id="8cfef-127">Oturum</span><span class="sxs-lookup"><span data-stu-id="8cfef-127">Session</span></span>   | <span data-ttu-id="8cfef-128">Tutarlı Ön Ek.</span><span class="sxs-lookup"><span data-stu-id="8cfef-128">Consistent Prefix.</span></span> <span data-ttu-id="8cfef-129">Monoton okuma, monoton yazma, yazdıklarınızı okuma, okuduktan sonra yazma</span><span class="sxs-lookup"><span data-stu-id="8cfef-129">Monotonic reads, monotonic writes, read-your-writes, write-follows-reads</span></span> |
| <span data-ttu-id="8cfef-130">Tutarlı Ön Ek</span><span class="sxs-lookup"><span data-stu-id="8cfef-130">Consistent Prefix</span></span> | <span data-ttu-id="8cfef-131">Döndürülen güncelleştirmeler, boşluk olmadan tüm güncelleştirmelerin bazı ön ekleridir</span><span class="sxs-lookup"><span data-stu-id="8cfef-131">Updates returned are some prefix of all the updates, with no gaps</span></span> |
| <span data-ttu-id="8cfef-132">Nihai</span><span class="sxs-lookup"><span data-stu-id="8cfef-132">Eventual</span></span>  | <span data-ttu-id="8cfef-133">Bozuk okumalar</span><span class="sxs-lookup"><span data-stu-id="8cfef-133">Out of order reads</span></span> |

<span data-ttu-id="8cfef-134">Cosmos DB hesabınızdaki varsayılan tutarlılık düzeyini yapılandırabilirsiniz (ve daha sonra belirli bir okuma isteğinde tutarlılığı geçersiz kılabilirsiniz).</span><span class="sxs-lookup"><span data-stu-id="8cfef-134">You can configure the default consistency level on your Cosmos DB account (and later override the consistency on a specific read request).</span></span> <span data-ttu-id="8cfef-135">Dahili olarak, varsayılan tutarlılık düzeyi bölgeler yayılabilir bölüm kümeleri içinde veriler için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-135">Internally, the default consistency level applies to data within the partition sets which may span regions.</span></span> <span data-ttu-id="8cfef-136">Sınırlanmış eskime durumu % 20 tercih ve oturum tutarlılığı yaklaşık bizim kiracılar %73 kullanın.</span><span class="sxs-lookup"><span data-stu-id="8cfef-136">About 73% of our tenants use session consistency and 20% prefer bounded staleness.</span></span> <span data-ttu-id="8cfef-137">Yaklaşık %3 müşterilerimizin çeşitli tutarlılık düzeylerini başlangıçta kendi uygulama için belirli tutarlılık seçim şekilde önce deneme inceleyin.</span><span class="sxs-lookup"><span data-stu-id="8cfef-137">We observe that approximately 3% of our customers experiment with various consistency levels initially before settling on a specific consistency choice for their application.</span></span> <span data-ttu-id="8cfef-138">Ayrıca bizim kiracılar % 2'yalnızca bir istek başına tutarlılık düzeylerini geçersiz kılma inceleyin.</span><span class="sxs-lookup"><span data-stu-id="8cfef-138">We also observe that only 2% of our tenants override consistency levels on a per request basis.</span></span> 

<span data-ttu-id="8cfef-139">Cosmos DB nihai tutarlılık güçlü veya sınırlanmış eskime durumu tutarlılığı ile okuma olarak ucuz iki kez ve okuma oturumunda, tutarlı önek sunulamıyor.</span><span class="sxs-lookup"><span data-stu-id="8cfef-139">In Cosmos DB, reads served at session, consistent prefix and eventual consistency are twice as cheap as reads with strong or bounded staleness consistency.</span></span> <span data-ttu-id="8cfef-140">Cosmos DB endüstri lideri tutarlılığı garanti birlikte kullanılabilirliği, performansı ve gecikme süresi dahil olmak üzere kapsamlı % 99,99 SLA sahiptir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-140">Cosmos DB has industry leading comprehensive 99.99% SLAs including consistency guarantees along with availability, throughput, and latency.</span></span> <span data-ttu-id="8cfef-141">Kullanıyoruz bir [linearizability denetleyicisi](http://dl.acm.org/citation.cfm?id=1806634), sürekli olarak bizim hizmet telemetri çalışır ve açık yayımlanmaması herhangi bir tutarlılık ihlali size bildirir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-141">We employ a [linearizability checker](http://dl.acm.org/citation.cfm?id=1806634), which continuously operates over our service telemetry and openly reports any consistency violations to you.</span></span> <span data-ttu-id="8cfef-142">Sınırlanmış eskime durumu için izleme ve k ve t sınırları için herhangi bir ihlali rapor.</span><span class="sxs-lookup"><span data-stu-id="8cfef-142">For bounded staleness, we monitor and report any violations to k and t bounds.</span></span> <span data-ttu-id="8cfef-143">Tüm beş gevşek tutarlılık düzeyleri için biz de rapor [probabilistic sınırlanmış eskime durumu ölçüm](http://dl.acm.org/citation.cfm?id=2212359) doğrudan.</span><span class="sxs-lookup"><span data-stu-id="8cfef-143">For all five relaxed consistency levels, we also report the [probabilistic bounded staleness metric](http://dl.acm.org/citation.cfm?id=2212359) directly to you.</span></span>  

## <a name="scope-of-consistency"></a><span data-ttu-id="8cfef-144">Tutarlılık kapsamı</span><span class="sxs-lookup"><span data-stu-id="8cfef-144">Scope of consistency</span></span>
<span data-ttu-id="8cfef-145">Tutarlılık kesinliği tek bir kullanıcı isteğine kapsamlıdır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-145">The granularity of consistency is scoped to a single user request.</span></span> <span data-ttu-id="8cfef-146">Yazma isteği karşılık gelen bir ekleme, değiştirme, upsert veya işlem silin.</span><span class="sxs-lookup"><span data-stu-id="8cfef-146">A write request may correspond to an insert, replace, upsert, or delete transaction.</span></span> <span data-ttu-id="8cfef-147">Yazma gibi bir okuma/sorgu işlem de bir tek kullanıcı isteğine kapsama alınır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-147">As with writes, a read/query transaction is also scoped to a single user request.</span></span> <span data-ttu-id="8cfef-148">Kullanıcı büyük sayfalara bölme için sonuç kümesi, birden çok bölüm kapsayıcı gerekebilir, ancak her işlem için tek bir sayfayla kapsamlı ve gelen tek bir bölüm içinde sunulan okuyun.</span><span class="sxs-lookup"><span data-stu-id="8cfef-148">The user may be required to paginate over a large result-set, spanning multiple partitions, but each read transaction is scoped to a single page and served from within a single partition.</span></span>

## <a name="consistency-levels"></a><span data-ttu-id="8cfef-149">Tutarlılık düzeyleri</span><span class="sxs-lookup"><span data-stu-id="8cfef-149">Consistency levels</span></span>
<span data-ttu-id="8cfef-150">Cosmos DB hesabınızın altında veritabanı hesabınızdaki tüm koleksiyonlar (ve veritabanları için) geçerli bir varsayılan tutarlılık düzeyi yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8cfef-150">You can configure a default consistency level on your database account that applies to all collections (and databases) under your Cosmos DB account.</span></span> <span data-ttu-id="8cfef-151">Varsayılan olarak, tüm okuma ve kullanıcı tanımlı kaynaklarına karşı verilen sorguları veritabanı hesabındaki belirtilen varsayılan tutarlılık düzeyi kullanın.</span><span class="sxs-lookup"><span data-stu-id="8cfef-151">By default, all reads and queries issued against the user-defined resources use the default consistency level specified on the database account.</span></span> <span data-ttu-id="8cfef-152">Belirli okuma/kullanarak bir sorgu isteği her desteklenen API'leri tutarlılık düzeyi hafifletin.</span><span class="sxs-lookup"><span data-stu-id="8cfef-152">You can relax the consistency level of a specific read/query request using in each of the supported APIs.</span></span> <span data-ttu-id="8cfef-153">Bu bölümde açıklandığı gibi belirli tutarlılık ve performans arasında NET bir denge sağlayan Azure Cosmos DB çoğaltma protokolü tarafından desteklenen tutarlılık düzeylerini beş türü vardır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-153">There are five types of consistency levels supported by the Azure Cosmos DB replication protocol that provide a clear trade-off between specific consistency guarantees and performance, as described in this section.</span></span>

<span data-ttu-id="8cfef-154">**Güçlü**:</span><span class="sxs-lookup"><span data-stu-id="8cfef-154">**Strong**:</span></span> 

* <span data-ttu-id="8cfef-155">Güçlü tutarlılık sunan bir [linearizability](https://aphyr.com/posts/313-strong-consistency-models) garanti öğeyi en son sürümüne geri dönmek için garanti okuma ile.</span><span class="sxs-lookup"><span data-stu-id="8cfef-155">Strong consistency offers a [linearizability](https://aphyr.com/posts/313-strong-consistency-models) guarantee with the reads guaranteed to return the most recent version of an item.</span></span> 
* <span data-ttu-id="8cfef-156">Güçlü tutarlılık, çoğaltmaların çoğunluğu çekirdek tarafından işlemi yürütüldükten sonra yazma yalnızca görünür olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="8cfef-156">Strong consistency guarantees that a write is only visible after it is committed durably by the majority quorum of replicas.</span></span> <span data-ttu-id="8cfef-157">Bir yazma ya da zaman uyumlu olarak işlemi hem birincil hem de ikincil kopya çekirdek tarafından kararlıdır veya iptal edilir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-157">A write is either synchronously committed durably by both the primary and the quorum of secondaries, or it is aborted.</span></span> <span data-ttu-id="8cfef-158">Okuma her zaman çekirdek okuma çoğunluğu tarafından onaylanan, bir istemci her zaman en son alınan yazma okumak için garanti ve kaydedilmemiş ya da kısmi bir yazma hiçbir zaman görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8cfef-158">A read is always acknowledged by the majority read quorum, a client can never see an uncommitted or partial write and is always guaranteed to read the latest acknowledged write.</span></span> 
* <span data-ttu-id="8cfef-159">Güçlü tutarlılık kullanmak üzere yapılandırılmış azure Cosmos DB hesapları birden fazla Azure bölgesine Azure Cosmos DB hesaplarıyla ilişkilendiremezsiniz.</span><span class="sxs-lookup"><span data-stu-id="8cfef-159">Azure Cosmos DB accounts that are configured to use strong consistency cannot associate more than one Azure region with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="8cfef-160">Okuma işlemi maliyetini (cinsinden [istek birimleri](request-units.md) tüketilen) ile güçlü tutarlılık oturum daha yüksek ya da Sonuçta, olan ancak sınırlanmış eskime durumu ile aynı.</span><span class="sxs-lookup"><span data-stu-id="8cfef-160">The cost of a read operation (in terms of [request units](request-units.md) consumed) with strong consistency is higher than session and eventual, but the same as bounded staleness.</span></span>

<span data-ttu-id="8cfef-161">**Sınırlanmış eskime durumu**:</span><span class="sxs-lookup"><span data-stu-id="8cfef-161">**Bounded staleness**:</span></span> 

* <span data-ttu-id="8cfef-162">Okuma yazma tarafından arkasında en fazla geri kalabilir eskime durumu tutarlılığı garanti ilişkisindeki *K* sürümleri veya bir öğenin önekleri veya *t* zaman aralığı.</span><span class="sxs-lookup"><span data-stu-id="8cfef-162">Bounded staleness consistency guarantees that the reads may lag behind writes by at most *K* versions or prefixes of an item or *t* time-interval.</span></span> 
* <span data-ttu-id="8cfef-163">Sınırlanmış eskime durumu seçme gerektiğinde, bu nedenle, "eskime durumu" iki şekilde yapılandırılabilir: sürümleri sayısı *K* olarak okumaları öteleme yazma ve zaman aralığını arkasındaki öğesinin *t*</span><span class="sxs-lookup"><span data-stu-id="8cfef-163">Therefore, when choosing bounded staleness, the "staleness" can be configured in two ways: number of versions *K* of the item by which the reads lag behind the writes, and the time interval *t*</span></span> 
* <span data-ttu-id="8cfef-164">Sınırlanmış eskime durumu teklifleri toplam genel dışında içinde sırada "eskime durumu penceresi."</span><span class="sxs-lookup"><span data-stu-id="8cfef-164">Bounded staleness offers total global order except within the "staleness window."</span></span> <span data-ttu-id="8cfef-165">Monoton okuma garanti mevcut bir bölge içinde hem iç hem de dış "eskime durumu penceresi."</span><span class="sxs-lookup"><span data-stu-id="8cfef-165">The monotonic read guarantees exists within a region both inside and outside the "staleness window."</span></span> 
* <span data-ttu-id="8cfef-166">Sınırlanmış eskime durumu oturumu veya nihai tutarlılık daha güçlü bir tutarlılık garanti sağlar.</span><span class="sxs-lookup"><span data-stu-id="8cfef-166">Bounded staleness provides a stronger consistency guarantee than session or eventual consistency.</span></span> <span data-ttu-id="8cfef-167">Genel olarak dağıtılmış uygulamalar için burada güçlü tutarlılık sahip ancak % 99,99 kullanılabilirlik ve düşük gecikme süresi de istiyorsanız istediğiniz sınırlanmış eskime durumu senaryoları için kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="8cfef-167">For globally distributed applications, we recommend you use bounded staleness for scenarios where you would like to have strong consistency but also want 99.99% availability and low latency.</span></span> 
* <span data-ttu-id="8cfef-168">Sınırlanmış eskime durumu tutarlılığı ile yapılandırılmış olan azure Cosmos DB hesapları Azure bölgeleri herhangi bir sayıda Azure Cosmos DB hesaplarıyla ilişkilendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8cfef-168">Azure Cosmos DB accounts that are configured with bounded staleness consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="8cfef-169">Okuma işlemi (RUs tüketilen) bakımından maliyetini sınırlanmış eskime durumu ile oturum ve nihai tutarlılık, ancak güçlü tutarlılık aynı daha yüksektir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-169">The cost of a read operation (in terms of RUs consumed) with bounded staleness is higher than session and eventual consistency, but the same as strong consistency.</span></span>

<span data-ttu-id="8cfef-170">**Oturum**:</span><span class="sxs-lookup"><span data-stu-id="8cfef-170">**Session**:</span></span> 

* <span data-ttu-id="8cfef-171">Güçlü ve sınırlanmış eskime durumu tutarlılığı düzeyleri tarafından sunulan genel tutarlılık modeller, bir istemci oturumundan oturum tutarlılığı kapsamlıdır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-171">Unlike the global consistency models offered by strong and bounded staleness consistency levels, session consistency is scoped to a client session.</span></span> 
* <span data-ttu-id="8cfef-172">Oturum tutarlılığı monoton okuma, monoton yazma ve okuma kendi yazma (RYW) garanti garanti bu yana bir aygıt veya kullanıcı oturumu burada dahil tüm senaryoları için idealdir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-172">Session consistency is ideal for all scenarios where a device or user session is involved since it guarantees monotonic reads, monotonic writes, and read your own writes (RYW) guarantees.</span></span> 
* <span data-ttu-id="8cfef-173">Oturum tutarlılığı, oturum açmak için tahmin edilebilir tutarlılık sağlar ve en düşük gecikme süreli yazma işlemleri ve okuma sunarken verimlilik maksimum okuyun.</span><span class="sxs-lookup"><span data-stu-id="8cfef-173">Session consistency provides predictable consistency for a session, and maximum read throughput while offering the lowest latency writes and reads.</span></span> 
* <span data-ttu-id="8cfef-174">Oturum tutarlılığı ile yapılandırılmış olan azure Cosmos DB hesapları Azure bölgeleri herhangi bir sayıda Azure Cosmos DB hesaplarıyla ilişkilendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8cfef-174">Azure Cosmos DB accounts that are configured with session consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="8cfef-175">Okuma işlemi (RUs tüketilen) bakımından maliyetini oturum tutarlılığı ile değerinden güçlü ve sınırlanmış eskime durumu, ancak birden fazla nihai tutarlılık düzeyidir</span><span class="sxs-lookup"><span data-stu-id="8cfef-175">The cost of a read operation (in terms of RUs consumed) with session consistency level is less than strong and bounded staleness, but more than eventual consistency</span></span>

<span data-ttu-id="8cfef-176"><a id="consistent-prefix"></a>
**Tutarlı önek**:</span><span class="sxs-lookup"><span data-stu-id="8cfef-176"><a id="consistent-prefix"></a>
**Consistent Prefix**:</span></span> 

* <span data-ttu-id="8cfef-177">Tutarlı önek daha fazla yazma olmaması durumunda, Grup içerisinde bulunan çoğaltmalar sonunda yakınsamasını garanti eder.</span><span class="sxs-lookup"><span data-stu-id="8cfef-177">Consistent prefix guarantees that in absence of any further writes, the replicas within the group eventually converge.</span></span> 
* <span data-ttu-id="8cfef-178">Tutarlı önek okuma hiçbir zaman bozuk yazma bkz güvence altına alır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-178">Consistent prefix guarantees that reads never see out of order writes.</span></span> <span data-ttu-id="8cfef-179">Yazma sırayla gerçekleştirilen varsa `A, B, C`, bir istemci ya da görür sonra `A`, `A,B`, veya `A,B,C`, ancak hiçbir zaman bozuk gibi `A,C` veya `B,A,C`.</span><span class="sxs-lookup"><span data-stu-id="8cfef-179">If writes were performed in the order `A, B, C`, then a client sees either `A`, `A,B`, or `A,B,C`, but never out of order like `A,C` or `B,A,C`.</span></span>
* <span data-ttu-id="8cfef-180">Tutarlı önek tutarlılık ile yapılandırılmış olan azure Cosmos DB hesapları Azure bölgeleri herhangi bir sayıda Azure Cosmos DB hesaplarıyla ilişkilendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8cfef-180">Azure Cosmos DB accounts that are configured with consistent prefix consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 

<span data-ttu-id="8cfef-181">**Son**:</span><span class="sxs-lookup"><span data-stu-id="8cfef-181">**Eventual**:</span></span> 

* <span data-ttu-id="8cfef-182">Nihai tutarlılık, daha fazla yazma olmaması durumunda, Grup içerisinde bulunan çoğaltmalar sonunda yakınsamasını garanti eder.</span><span class="sxs-lookup"><span data-stu-id="8cfef-182">Eventual consistency guarantees that in absence of any further writes, the replicas within the group eventually converge.</span></span> 
* <span data-ttu-id="8cfef-183">Nihai tutarlılık zayıf tutarlılık istemci önce gördü olanları daha eski değerlerin nereden biçimidir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-183">Eventual consistency is the weakest form of consistency where a client may get the values that are older than the ones it had seen before.</span></span>
* <span data-ttu-id="8cfef-184">Nihai tutarlılık, zayıf okuma tutarlılığı sunar ancak hem okuma hem de yazma işlemleri için en düşük gecikme sunar.</span><span class="sxs-lookup"><span data-stu-id="8cfef-184">Eventual consistency provides the weakest read consistency but offers the lowest latency for both reads and writes.</span></span>
* <span data-ttu-id="8cfef-185">Nihai tutarlılık ile yapılandırılmış olan azure Cosmos DB hesapları Azure bölgeleri herhangi bir sayıda Azure Cosmos DB hesaplarıyla ilişkilendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8cfef-185">Azure Cosmos DB accounts that are configured with eventual consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="8cfef-186">Okuma işlemi (RUs tüketilen) bakımından maliyetini nihai tutarlılık denetimi ile tüm Azure Cosmos DB tutarlılık düzeylerini en düşük düzeydir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-186">The cost of a read operation (in terms of RUs consumed) with the eventual consistency level is the lowest of all the Azure Cosmos DB consistency levels.</span></span>

## <a name="configuring-the-default-consistency-level"></a><span data-ttu-id="8cfef-187">Varsayılan tutarlılık düzeyi yapılandırılıyor</span><span class="sxs-lookup"><span data-stu-id="8cfef-187">Configuring the default consistency level</span></span>
1. <span data-ttu-id="8cfef-188">İçinde [Azure portal](https://portal.azure.com/), çubuğunda **Azure Cosmos DB**.</span><span class="sxs-lookup"><span data-stu-id="8cfef-188">In the [Azure portal](https://portal.azure.com/), in the Jumpbar, click **Azure Cosmos DB**.</span></span>
2. <span data-ttu-id="8cfef-189">İçinde **Azure Cosmos DB** veritabanı hesabı değiştirmek için dikey penceresinde, seçin.</span><span class="sxs-lookup"><span data-stu-id="8cfef-189">In the **Azure Cosmos DB** blade, select the database account to modify.</span></span>
3. <span data-ttu-id="8cfef-190">Hesap dikey penceresinde tıklayın **varsayılan tutarlılık**.</span><span class="sxs-lookup"><span data-stu-id="8cfef-190">In the account blade, click **Default consistency**.</span></span>
4. <span data-ttu-id="8cfef-191">İçinde **varsayılan tutarlılık** dikey penceresinde, yeni tutarlılık düzeyi seçin ve tıklatın **kaydetmek**.</span><span class="sxs-lookup"><span data-stu-id="8cfef-191">In the **Default Consistency** blade, select the new consistency level and click **Save**.</span></span>
   
    ![Ayarlar simgesine ve varsayılan tutarlılık giriş vurgulama ekran görüntüsü](./media/consistency-levels/database-consistency-level-1.png)

## <a name="consistency-levels-for-queries"></a><span data-ttu-id="8cfef-193">Sorgular için tutarlılık düzeyleri</span><span class="sxs-lookup"><span data-stu-id="8cfef-193">Consistency levels for queries</span></span>
<span data-ttu-id="8cfef-194">Varsayılan olarak, kullanıcı tanımlı, kaynaklar için sorgular için tutarlılık düzeyi tutarlılık düzeyi okuma için aynıdır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-194">By default, for user-defined resources, the consistency level for queries is the same as the consistency level for reads.</span></span> <span data-ttu-id="8cfef-195">Varsayılan olarak, dizin her Ekle, değiştirme veya silme öğenin Cosmos DB kapsayıcısı zaman uyumlu olarak güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-195">By default, the index is updated synchronously on each insert, replace, or delete of an item to the Cosmos DB container.</span></span> <span data-ttu-id="8cfef-196">Bu sorguları noktası okuma aynı tutarlılık düzeydeki vermenizin sağlar.</span><span class="sxs-lookup"><span data-stu-id="8cfef-196">This enables the queries to honor the same consistency level as that of point reads.</span></span> <span data-ttu-id="8cfef-197">Azure Cosmos DB yazma en iyi duruma getirilmiş ve yazma, zaman uyumlu dizin Bakım ve tutarlı sorguları hizmet veren sürekli birimi destekleyen olsa da, belirli koleksiyonlar kendi dizini gevşek güncelleştirmek için yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8cfef-197">While Azure Cosmos DB is write optimized and supports sustained volumes of writes, synchronous index maintenance and serving consistent queries, you can configure certain collections to update their index lazily.</span></span> <span data-ttu-id="8cfef-198">Yavaş dizin daha fazla yazma performansı artırır ve bir iş yükü öncelikle okuma ağır olduğunda toplu alım senaryoları için idealdir.</span><span class="sxs-lookup"><span data-stu-id="8cfef-198">Lazy indexing further boosts the write performance and is ideal for bulk ingestion scenarios when a workload is primarily read-heavy.</span></span>  

| <span data-ttu-id="8cfef-199">Dizin oluşturma modu</span><span class="sxs-lookup"><span data-stu-id="8cfef-199">Indexing Mode</span></span> | <span data-ttu-id="8cfef-200">Okur</span><span class="sxs-lookup"><span data-stu-id="8cfef-200">Reads</span></span> | <span data-ttu-id="8cfef-201">Sorgular</span><span class="sxs-lookup"><span data-stu-id="8cfef-201">Queries</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8cfef-202">CONSISTENT (varsayılan)</span><span class="sxs-lookup"><span data-stu-id="8cfef-202">Consistent (default)</span></span> |<span data-ttu-id="8cfef-203">Güçlü, sınırlanmış eskime durumu, oturum, tutarlı önek arasından seçin ya da son</span><span class="sxs-lookup"><span data-stu-id="8cfef-203">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="8cfef-204">Güçlü, sınırlanmış eskime durumu, seçim oturumu veya son</span><span class="sxs-lookup"><span data-stu-id="8cfef-204">Select from strong, bounded staleness, session, or eventual</span></span> |
| <span data-ttu-id="8cfef-205">Geç</span><span class="sxs-lookup"><span data-stu-id="8cfef-205">Lazy</span></span> |<span data-ttu-id="8cfef-206">Güçlü, sınırlanmış eskime durumu, oturum, tutarlı önek arasından seçin ya da son</span><span class="sxs-lookup"><span data-stu-id="8cfef-206">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="8cfef-207">Nihai</span><span class="sxs-lookup"><span data-stu-id="8cfef-207">Eventual</span></span> |
| <span data-ttu-id="8cfef-208">None</span><span class="sxs-lookup"><span data-stu-id="8cfef-208">None</span></span> |<span data-ttu-id="8cfef-209">Güçlü, sınırlanmış eskime durumu, oturum, tutarlı önek arasından seçin ya da son</span><span class="sxs-lookup"><span data-stu-id="8cfef-209">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="8cfef-210">Uygulanamaz</span><span class="sxs-lookup"><span data-stu-id="8cfef-210">Not applicable</span></span> |

<span data-ttu-id="8cfef-211">Olarak okuma istekleri ile her API belirli sorgu istekte tutarlılık düzeyine düşürebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8cfef-211">As with read requests, you can lower the consistency level of a specific query request in each API.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8cfef-212">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="8cfef-212">Next steps</span></span>
<span data-ttu-id="8cfef-213">Tutarlılık düzeyleri ve bileşim hakkında daha fazla okuma yapmak istiyorsanız, aşağıdaki kaynaklara öneririz:</span><span class="sxs-lookup"><span data-stu-id="8cfef-213">If you'd like to do more reading about consistency levels and tradeoffs, we recommend the following resources:</span></span>

* <span data-ttu-id="8cfef-214">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="8cfef-214">Doug Terry.</span></span> <span data-ttu-id="8cfef-215">Çoğaltılan verilerin tutarlılık Beyzbol (video) açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-215">Replicated Data Consistency explained through baseball (video).</span></span>   
  [<span data-ttu-id="8cfef-216">https://www.YouTube.com/Watch?v=gluIh8zd26I</span><span class="sxs-lookup"><span data-stu-id="8cfef-216">https://www.youtube.com/watch?v=gluIh8zd26I</span></span>](https://www.youtube.com/watch?v=gluIh8zd26I)
* <span data-ttu-id="8cfef-217">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="8cfef-217">Doug Terry.</span></span> <span data-ttu-id="8cfef-218">Çoğaltılan verilerin tutarlılık Beyzbol açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="8cfef-218">Replicated Data Consistency explained through baseball.</span></span>   
  [<span data-ttu-id="8cfef-219">http://Research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.PDF</span><span class="sxs-lookup"><span data-stu-id="8cfef-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span></span>](http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf)
* <span data-ttu-id="8cfef-220">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="8cfef-220">Doug Terry.</span></span> <span data-ttu-id="8cfef-221">Oturum garanti zayıf tutarlı çoğaltılan veriler için.</span><span class="sxs-lookup"><span data-stu-id="8cfef-221">Session Guarantees for Weakly Consistent Replicated Data.</span></span>   
  [<span data-ttu-id="8cfef-222">http://DL.ACM.org/citation.cfm?id=383631</span><span class="sxs-lookup"><span data-stu-id="8cfef-222">http://dl.acm.org/citation.cfm?id=383631</span></span>](http://dl.acm.org/citation.cfm?id=383631)
* <span data-ttu-id="8cfef-223">Daniel Abadi.</span><span class="sxs-lookup"><span data-stu-id="8cfef-223">Daniel Abadi.</span></span> <span data-ttu-id="8cfef-224">Modern dağıtılmış veritabanı sistemleri tasarım tutarlılık bileşim: CAP Öykü yalnızca bir parçası olan ".</span><span class="sxs-lookup"><span data-stu-id="8cfef-224">Consistency Tradeoffs in Modern Distributed Database Systems Design: CAP is only part of the story”.</span></span>   
  [<span data-ttu-id="8cfef-225">http://computer.org/CSDL/mags/co/2012/02/mco2012020037-Abs.HTML</span><span class="sxs-lookup"><span data-stu-id="8cfef-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span></span>](http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html)
* <span data-ttu-id="8cfef-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, nleri Stoica.</span><span class="sxs-lookup"><span data-stu-id="8cfef-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span></span> <span data-ttu-id="8cfef-227">İçin pratik kısmi çekirdekleri sınırlanmış eskime durumu (PBS) probabilistic.</span><span class="sxs-lookup"><span data-stu-id="8cfef-227">Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums.</span></span>   
  [<span data-ttu-id="8cfef-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.PDF</span><span class="sxs-lookup"><span data-stu-id="8cfef-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span></span>](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)
* <span data-ttu-id="8cfef-229">Werner Vogels.</span><span class="sxs-lookup"><span data-stu-id="8cfef-229">Werner Vogels.</span></span> <span data-ttu-id="8cfef-230">Son tutarlı - tekrar ziyaret.</span><span class="sxs-lookup"><span data-stu-id="8cfef-230">Eventual Consistent - Revisited.</span></span>    
  [<span data-ttu-id="8cfef-231">http://allthingsdistributed.com/2008/12/eventually_consistent.HTML</span><span class="sxs-lookup"><span data-stu-id="8cfef-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span></span>](http://allthingsdistributed.com/2008/12/eventually_consistent.html)
* <span data-ttu-id="8cfef-232">Moni Naor, Avishai Wool, yükü, kapasitesi ve çekirdek sistemleri, bilgi işlem, v.27 n.2, p.423 447, Nisan 1998 SIAM günlük kullanılabilirliği.</span><span class="sxs-lookup"><span data-stu-id="8cfef-232">Moni Naor , Avishai Wool, The Load, Capacity, and Availability of Quorum Systems, SIAM Journal on Computing, v.27 n.2, p.423-447, April 1998.</span></span>
  [<span data-ttu-id="8cfef-233">http://epubs.siam.org/doi/Abs/10.1137/S0097539795281232</span><span class="sxs-lookup"><span data-stu-id="8cfef-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span></span>](http://epubs.siam.org/doi/abs/10.1137/S0097539795281232)
* <span data-ttu-id="8cfef-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: bir tam ve otomatik linearizability denetleyicisi, dil tasarım ve uygulama, Haziran 05-10, 2010, Toronto, Ontario programlama 2010 ACM SIGPLAN konferans bildirileri, Kanada [DOI > 10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span><span class="sxs-lookup"><span data-stu-id="8cfef-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: a complete and automatic linearizability checker, Proceedings of the 2010 ACM SIGPLAN conference on Programming language design and implementation, June 05-10, 2010, Toronto, Ontario, Canada  [doi>10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span></span>
* <span data-ttu-id="8cfef-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein nleri Stoica Probabilistically eskime durumu pratik kısmi çekirdeklerine, VLDB Endowment v.5 n.8, p.776 787, Nisan 2012 bildirileri için sınırlı [http:// DL.ACM.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span><span class="sxs-lookup"><span data-stu-id="8cfef-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein , Ion Stoica, Probabilistically bounded staleness for practical partial quorums, Proceedings of the VLDB Endowment, v.5 n.8, p.776-787, April 2012 [http://dl.acm.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span></span>
