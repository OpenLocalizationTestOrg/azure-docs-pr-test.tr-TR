---
title: "Azure Cosmos veritabanı aaaConsistency düzeyleri | Microsoft Docs"
description: "Azure Cosmos DB beş tutarlılık düzeyleri toohelp Bakiye nihai tutarlılık, kullanılabilirlik ve gecikme dengelemeler sahiptir."
keywords: "Nihai tutarlılık, azure cosmos db, azure, Microsoft azure"
services: cosmos-db
author: mimig1
manager: jhubbard
editor: cgronlun
documentationcenter: 
ms.assetid: 3fe51cfa-a889-4a4a-b320-16bf871fe74c
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/16/2017
ms.author: mimig
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: ac399c229d0856cd811bc81568536e519af3300f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="tunable-data-consistency-levels-in-azure-cosmos-db"></a><span data-ttu-id="86f8f-104">İnce ayarlanabilir veri tutarlılık düzeylerini Azure Cosmos veritabanı</span><span class="sxs-lookup"><span data-stu-id="86f8f-104">Tunable data consistency levels in Azure Cosmos DB</span></span>
<span data-ttu-id="86f8f-105">Azure Cosmos DB her veri modeli için aklınızda genel dağıtım plan hello gelen tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="86f8f-105">Azure Cosmos DB is designed from hello ground up with global distribution in mind for every data model.</span></span> <span data-ttu-id="86f8f-106">Tasarlanmış toooffer tahmin edilebilir düşük gecikme süresi garantileri, % 99,99 kullanılabilirlik SLA olan ve birden çok iyi tanımlanmış tutarlılık modelleri rahat.</span><span class="sxs-lookup"><span data-stu-id="86f8f-106">It is designed toooffer predictable low latency guarantees, a 99.99% availability SLA, and multiple well-defined relaxed consistency models.</span></span> <span data-ttu-id="86f8f-107">Şu anda Azure Cosmos DB beş tutarlılık düzeyi sunar: güçlü, sınırlanmış eskime durumu, oturum, tutarlı öneki ve son.</span><span class="sxs-lookup"><span data-stu-id="86f8f-107">Currently, Azure Cosmos DB provides five consistency levels: strong, bounded-staleness, session, consistent prefix, and eventual.</span></span> 

<span data-ttu-id="86f8f-108">Yanında **güçlü** ve **nihai tutarlılık** modelleri Azure Cosmos DB üç daha fazla dikkatle kod oluşturulmuş ve kullanıma hazır hale getirilmiş tutarlılık modeli sunar ve sahip dağıtılmış veritabanı tarafından yaygın olarak sunulan gerçek dünya durumlara karşı oluştuğu doğrulandı.</span><span class="sxs-lookup"><span data-stu-id="86f8f-108">Besides **strong** and **eventual consistency** models commonly offered by distributed databases, Azure Cosmos DB offers three more carefully codified and operationalized consistency models, and has validated their usefulness against real world use cases.</span></span> <span data-ttu-id="86f8f-109">Merhaba bunlar **sınırlanmış eskime durumu**, **oturum**, ve **tutarlı önek** tutarlılık düzeyi.</span><span class="sxs-lookup"><span data-stu-id="86f8f-109">These are hello **bounded staleness**, **session**, and **consistent prefix** consistency levels.</span></span> <span data-ttu-id="86f8f-110">Topluca bu beş tutarlılık düzeyleri toomake iyi reasoned dengelemeler tutarlılık, kullanılabilirlik ve gecikme süresi arasında etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="86f8f-110">Collectively these five consistency levels enable you toomake well-reasoned trade-offs between consistency, availability, and latency.</span></span> 

## <a name="distributed-databases-and-consistency"></a><span data-ttu-id="86f8f-111">Dağıtılmış veritabanları ve tutarlılık</span><span class="sxs-lookup"><span data-stu-id="86f8f-111">Distributed databases and consistency</span></span>
<span data-ttu-id="86f8f-112">Ticari olarak dağıtılmış veritabanları iki kategoriye ayrılır: iyi tanımlanmış, kanıtlanabilir tutarlılık seçenekleri sunmayan veritabanları ve iki olağan dışı programlama seçeneği (güçlü ve nihai tutarlılık) sunan veritabanları.</span><span class="sxs-lookup"><span data-stu-id="86f8f-112">Commercial distributed databases fall into two categories: databases that do not offer well-defined, provable consistency choices at all, and databases which offer two extreme programmability choices (strong vs. eventual consistency).</span></span> 

<span data-ttu-id="86f8f-113">eski yüklerini uygulama geliştiricileri kendi çoğaltma kurallarının minutia hello ve tutarlılık, kullanılabilirlik, gecikme ve verimlilik arasında toomake zor dengelemeden bekliyor.</span><span class="sxs-lookup"><span data-stu-id="86f8f-113">hello former burdens application developers with minutia of their replication protocols and expects them toomake difficult tradeoffs between consistency, availability, latency, and throughput.</span></span> <span data-ttu-id="86f8f-114">Merhaba ikinci bir baskısı toochoose hello iki uç nokta birini koyar.</span><span class="sxs-lookup"><span data-stu-id="86f8f-114">hello latter puts a pressure toochoose one of hello two extremes.</span></span> <span data-ttu-id="86f8f-115">Rağmen Hello bol miktarda araştırma ve 50'den fazla tutarlılık modelleri için tekliflerini hello dağıtılmış veritabanı topluluk mümkün toocommercialize tutarlılık düzeyleri güçlü ve nihai tutarlılık dışında yedeklenmedi.</span><span class="sxs-lookup"><span data-stu-id="86f8f-115">Despite hello abundance of research and proposals for more than 50 consistency models, hello distributed database community has not been able toocommercialize consistency levels beyond strong and eventual consistency.</span></span> <span data-ttu-id="86f8f-116">Cosmos DB sağlayan geliştiriciler toochoose hello tutarlılık spektrumun – güçlü, boyunca beş iyi tanımlanmış tutarlılık modelleri arasında sınırlanmış eskime durumu, [oturum](http://dl.acm.org/citation.cfm?id=383631), tutarlı öneki ve son.</span><span class="sxs-lookup"><span data-stu-id="86f8f-116">Cosmos DB allows developers toochoose between five well-defined consistency models along hello consistency spectrum – strong, bounded staleness, [session](http://dl.acm.org/citation.cfm?id=383631), consistent prefix, and eventual.</span></span> 

![Azure Cosmos DB birden çok sunar (gevşek) tutarlılık modelleri toochoose gelen iyi tanımlanmış](./media/consistency-levels/five-consistency-levels.png)

<span data-ttu-id="86f8f-118">Aşağıdaki tablonun hello hello belirli garanti her tutarlılık düzeyi sunar gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-118">hello following table illustrates hello specific guarantees each consistency level provides.</span></span>
 
<span data-ttu-id="86f8f-119">**Tutarlılık Düzeyleri ve garantiler**</span><span class="sxs-lookup"><span data-stu-id="86f8f-119">**Consistency Levels and guarantees**</span></span>

| <span data-ttu-id="86f8f-120">Tutarlılık Düzeyi</span><span class="sxs-lookup"><span data-stu-id="86f8f-120">Consistency Level</span></span> | <span data-ttu-id="86f8f-121">Garantiler</span><span class="sxs-lookup"><span data-stu-id="86f8f-121">Guarantees</span></span> |
| --- | --- |
| <span data-ttu-id="86f8f-122">Güçlü</span><span class="sxs-lookup"><span data-stu-id="86f8f-122">Strong</span></span> | <span data-ttu-id="86f8f-123">Doğrusallaştırma</span><span class="sxs-lookup"><span data-stu-id="86f8f-123">Linearizability</span></span> |
| <span data-ttu-id="86f8f-124">Sınırlanmış Eskime Durumu</span><span class="sxs-lookup"><span data-stu-id="86f8f-124">Bounded Staleness</span></span> | <span data-ttu-id="86f8f-125">Tutarlı Ön Ek.</span><span class="sxs-lookup"><span data-stu-id="86f8f-125">Consistent Prefix.</span></span> <span data-ttu-id="86f8f-126">-k ön eklerine veya t aralığına göre yazma işlemlerinin arkasındaki gecikmeyi okur</span><span class="sxs-lookup"><span data-stu-id="86f8f-126">Reads lag behind writes by k prefixes or t interval</span></span> |
| <span data-ttu-id="86f8f-127">Oturum</span><span class="sxs-lookup"><span data-stu-id="86f8f-127">Session</span></span>   | <span data-ttu-id="86f8f-128">Tutarlı Ön Ek.</span><span class="sxs-lookup"><span data-stu-id="86f8f-128">Consistent Prefix.</span></span> <span data-ttu-id="86f8f-129">Monoton okuma, monoton yazma, yazdıklarınızı okuma, okuduktan sonra yazma</span><span class="sxs-lookup"><span data-stu-id="86f8f-129">Monotonic reads, monotonic writes, read-your-writes, write-follows-reads</span></span> |
| <span data-ttu-id="86f8f-130">Tutarlı Ön Ek</span><span class="sxs-lookup"><span data-stu-id="86f8f-130">Consistent Prefix</span></span> | <span data-ttu-id="86f8f-131">Hiçbir boşluk içeren tüm hello güncelleştirmelerini bazı öneki güncelleştirmeler döndürdü.</span><span class="sxs-lookup"><span data-stu-id="86f8f-131">Updates returned are some prefix of all hello updates, with no gaps</span></span> |
| <span data-ttu-id="86f8f-132">Nihai</span><span class="sxs-lookup"><span data-stu-id="86f8f-132">Eventual</span></span>  | <span data-ttu-id="86f8f-133">Bozuk okumalar</span><span class="sxs-lookup"><span data-stu-id="86f8f-133">Out of order reads</span></span> |

<span data-ttu-id="86f8f-134">Merhaba varsayılan tutarlılık düzeyi Cosmos DB hesabınızdaki yapılandırabilir (ve daha sonra hello tutarlılığı belirli Okuma isteği için geçersiz kılar).</span><span class="sxs-lookup"><span data-stu-id="86f8f-134">You can configure hello default consistency level on your Cosmos DB account (and later override hello consistency on a specific read request).</span></span> <span data-ttu-id="86f8f-135">Dahili olarak, hello varsayılan tutarlılık düzeyi toodata bölgeleri kapsayabilir hello bölüm kümeleri içinde geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-135">Internally, hello default consistency level applies toodata within hello partition sets which may span regions.</span></span> <span data-ttu-id="86f8f-136">Sınırlanmış eskime durumu % 20 tercih ve oturum tutarlılığı yaklaşık bizim kiracılar %73 kullanın.</span><span class="sxs-lookup"><span data-stu-id="86f8f-136">About 73% of our tenants use session consistency and 20% prefer bounded staleness.</span></span> <span data-ttu-id="86f8f-137">Yaklaşık %3 müşterilerimizin çeşitli tutarlılık düzeylerini başlangıçta kendi uygulama için belirli tutarlılık seçim şekilde önce deneme inceleyin.</span><span class="sxs-lookup"><span data-stu-id="86f8f-137">We observe that approximately 3% of our customers experiment with various consistency levels initially before settling on a specific consistency choice for their application.</span></span> <span data-ttu-id="86f8f-138">Ayrıca bizim kiracılar % 2'yalnızca bir istek başına tutarlılık düzeylerini geçersiz kılma inceleyin.</span><span class="sxs-lookup"><span data-stu-id="86f8f-138">We also observe that only 2% of our tenants override consistency levels on a per request basis.</span></span> 

<span data-ttu-id="86f8f-139">Cosmos DB nihai tutarlılık güçlü veya sınırlanmış eskime durumu tutarlılığı ile okuma olarak ucuz iki kez ve okuma oturumunda, tutarlı önek sunulamıyor.</span><span class="sxs-lookup"><span data-stu-id="86f8f-139">In Cosmos DB, reads served at session, consistent prefix and eventual consistency are twice as cheap as reads with strong or bounded staleness consistency.</span></span> <span data-ttu-id="86f8f-140">Cosmos DB endüstri lideri tutarlılığı garanti birlikte kullanılabilirliği, performansı ve gecikme süresi dahil olmak üzere kapsamlı % 99,99 SLA sahiptir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-140">Cosmos DB has industry leading comprehensive 99.99% SLAs including consistency guarantees along with availability, throughput, and latency.</span></span> <span data-ttu-id="86f8f-141">Kullanıyoruz bir [linearizability denetleyicisi](http://dl.acm.org/citation.cfm?id=1806634), sürekli olarak bizim hizmet telemetri çalışır ve açık yayımlanmaması herhangi tutarlılık ihlalleri tooyou bildirir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-141">We employ a [linearizability checker](http://dl.acm.org/citation.cfm?id=1806634), which continuously operates over our service telemetry and openly reports any consistency violations tooyou.</span></span> <span data-ttu-id="86f8f-142">İçin eskime durumu, biz İzleyici ve rapor herhangi bir ihlali sürdü ve t sınırları ilişkisindeki.</span><span class="sxs-lookup"><span data-stu-id="86f8f-142">For bounded staleness, we monitor and report any violations took and t bounds.</span></span> <span data-ttu-id="86f8f-143">Tüm beş gevşek tutarlılık düzeyleri için biz de hello rapor [probabilistic sınırlanmış eskime durumu ölçüm](http://dl.acm.org/citation.cfm?id=2212359) doğrudan tooyou.</span><span class="sxs-lookup"><span data-stu-id="86f8f-143">For all five relaxed consistency levels, we also report hello [probabilistic bounded staleness metric](http://dl.acm.org/citation.cfm?id=2212359) directly tooyou.</span></span>  

## <a name="scope-of-consistency"></a><span data-ttu-id="86f8f-144">Tutarlılık kapsamı</span><span class="sxs-lookup"><span data-stu-id="86f8f-144">Scope of consistency</span></span>
<span data-ttu-id="86f8f-145">Tutarlılık Hello kesinliği kapsamlı tooa tek kullanıcı isteğidir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-145">hello granularity of consistency is scoped tooa single user request.</span></span> <span data-ttu-id="86f8f-146">Yazma isteği tooan ekleme, değiştirme, upsert karşılık gelen veya işlem silin.</span><span class="sxs-lookup"><span data-stu-id="86f8f-146">A write request may correspond tooan insert, replace, upsert, or delete transaction.</span></span> <span data-ttu-id="86f8f-147">Yazma gibi ile bir okuma/sorgu de kapsamlı tooa tek kullanıcı isteği bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-147">As with writes, a read/query transaction is also scoped tooa single user request.</span></span> <span data-ttu-id="86f8f-148">Merhaba kullanıcı gerekli toopaginate büyük olabilir sonuç kümesi, birden çok bölüm kapsayıcı, ancak her işlem kapsamlı tooa tek sayfa ve gelen tek bir bölüm içinde sunulan okuyun.</span><span class="sxs-lookup"><span data-stu-id="86f8f-148">hello user may be required toopaginate over a large result-set, spanning multiple partitions, but each read transaction is scoped tooa single page and served from within a single partition.</span></span>

## <a name="consistency-levels"></a><span data-ttu-id="86f8f-149">Tutarlılık düzeyleri</span><span class="sxs-lookup"><span data-stu-id="86f8f-149">Consistency levels</span></span>
<span data-ttu-id="86f8f-150">Cosmos DB hesabınızın altında veritabanı hesabınızdaki tooall koleksiyonları (ve veritabanları) için geçerlidir, varsayılan tutarlılık düzeyi yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86f8f-150">You can configure a default consistency level on your database account that applies tooall collections (and databases) under your Cosmos DB account.</span></span> <span data-ttu-id="86f8f-151">Varsayılan olarak, tüm okuma ve hello karşı verilen sorgular tarafından kullanıcı tanımlı kaynakları hello veritabanı hesabında belirtilen hello varsayılan tutarlılık düzeyi kullanın.</span><span class="sxs-lookup"><span data-stu-id="86f8f-151">By default, all reads and queries issued against hello user-defined resources use hello default consistency level specified on hello database account.</span></span> <span data-ttu-id="86f8f-152">Belirli bir okuma/sorgu hello tutarlılık düzeyi hafifletin her hello kullanarak desteklenen API isteği.</span><span class="sxs-lookup"><span data-stu-id="86f8f-152">You can relax hello consistency level of a specific read/query request using in each of hello supported APIs.</span></span> <span data-ttu-id="86f8f-153">Bu bölümde açıklandığı gibi belirli tutarlılık ve performans arasında NET bir denge sağlamak hello Azure Cosmos DB çoğaltma protokolü tarafından desteklenen tutarlılık düzeylerini beş türü vardır.</span><span class="sxs-lookup"><span data-stu-id="86f8f-153">There are five types of consistency levels supported by hello Azure Cosmos DB replication protocol that provide a clear trade-off between specific consistency guarantees and performance, as described in this section.</span></span>

<span data-ttu-id="86f8f-154">**Güçlü**:</span><span class="sxs-lookup"><span data-stu-id="86f8f-154">**Strong**:</span></span> 

* <span data-ttu-id="86f8f-155">Güçlü tutarlılık sunan bir [linearizability](https://aphyr.com/posts/313-strong-consistency-models) garantisi hello ile garantili tooreturn hello en son sürümünü öğeyi okur.</span><span class="sxs-lookup"><span data-stu-id="86f8f-155">Strong consistency offers a [linearizability](https://aphyr.com/posts/313-strong-consistency-models) guarantee with hello reads guaranteed tooreturn hello most recent version of an item.</span></span> 
* <span data-ttu-id="86f8f-156">Güçlü tutarlılık işlemi tarafından çoğaltmalarının hello çoğunluğu çekirdek yürütüldükten sonra yazma yalnızca görünür olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="86f8f-156">Strong consistency guarantees that a write is only visible after it is committed durably by hello majority quorum of replicas.</span></span> <span data-ttu-id="86f8f-157">Bir yazma ya da zaman uyumlu olarak işlemi hello birincil ve ikincil kopya hello çekirdek tarafından kararlıdır veya iptal edilir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-157">A write is either synchronously committed durably by both hello primary and hello quorum of secondaries, or it is aborted.</span></span> <span data-ttu-id="86f8f-158">Okuma her zaman çekirdek okuma hello çoğunluğu tarafından onaylanan, bir istemci her zaman tooread hello en son alınan yazma garanti ve kaydedilmemiş ya da kısmi bir yazma hiçbir zaman görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86f8f-158">A read is always acknowledged by hello majority read quorum, a client can never see an uncommitted or partial write and is always guaranteed tooread hello latest acknowledged write.</span></span> 
* <span data-ttu-id="86f8f-159">Yapılandırılmış toouse güçlü tutarlılık azure Cosmos DB hesapları birden fazla Azure bölgesine Azure Cosmos DB hesaplarıyla ilişkilendiremezsiniz.</span><span class="sxs-lookup"><span data-stu-id="86f8f-159">Azure Cosmos DB accounts that are configured toouse strong consistency cannot associate more than one Azure region with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="86f8f-160">Merhaba okuma işlemi maliyetini (cinsinden [istek birimleri](request-units.md) tüketilen) ile güçlü tutarlılık oturum daha yüksek ve nihai, ancak aynı sınırlanmış eskime durumu hello.</span><span class="sxs-lookup"><span data-stu-id="86f8f-160">hello cost of a read operation (in terms of [request units](request-units.md) consumed) with strong consistency is higher than session and eventual, but hello same as bounded staleness.</span></span>

<span data-ttu-id="86f8f-161">**Sınırlanmış eskime durumu**:</span><span class="sxs-lookup"><span data-stu-id="86f8f-161">**Bounded staleness**:</span></span> 

* <span data-ttu-id="86f8f-162">Sınırlanmış eskime durumu tutarlılığı garanti hello okuma yazma tarafından arkasında en fazla geri kalabilir olduğunu *K* sürümleri veya bir öğenin önekleri veya *t* zaman aralığı.</span><span class="sxs-lookup"><span data-stu-id="86f8f-162">Bounded staleness consistency guarantees that hello reads may lag behind writes by at most *K* versions or prefixes of an item or *t* time-interval.</span></span> 
* <span data-ttu-id="86f8f-163">Sınırlanmış eskime durumu seçme gerektiğinde, bu nedenle, "eskime durumu" Merhaba iki şekilde yapılandırılabilir: sürümleri sayısı *K* olarak hello okuma öteleme hello yazma ve hello zaman aralığı arkasındaki hello öğesinin *t*</span><span class="sxs-lookup"><span data-stu-id="86f8f-163">Therefore, when choosing bounded staleness, hello "staleness" can be configured in two ways: number of versions *K* of hello item by which hello reads lag behind hello writes, and hello time interval *t*</span></span> 
* <span data-ttu-id="86f8f-164">Sınırlanmış eskime durumu teklifleri toplam genel dışında içinde sırada hello "eskime durumu penceresi."</span><span class="sxs-lookup"><span data-stu-id="86f8f-164">Bounded staleness offers total global order except within hello "staleness window."</span></span> <span data-ttu-id="86f8f-165">garanti mevcut bir bölge içinde ve dışında hello "eskime durumu penceresi." Merhaba monoton okuma</span><span class="sxs-lookup"><span data-stu-id="86f8f-165">hello monotonic read guarantees exists within a region both inside and outside hello "staleness window."</span></span> 
* <span data-ttu-id="86f8f-166">Sınırlanmış eskime durumu oturumu veya nihai tutarlılık daha güçlü bir tutarlılık garanti sağlar.</span><span class="sxs-lookup"><span data-stu-id="86f8f-166">Bounded staleness provides a stronger consistency guarantee than session or eventual consistency.</span></span> <span data-ttu-id="86f8f-167">Genel olarak dağıtılmış uygulamalar için burada, toohave güçlü tutarlılık gibi ancak % 99,99 kullanılabilirlik ve düşük gecikme süresi de istediğiniz senaryolar için sınırlanmış eskime durumu kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="86f8f-167">For globally distributed applications, we recommend you use bounded staleness for scenarios where you would like toohave strong consistency but also want 99.99% availability and low latency.</span></span> 
* <span data-ttu-id="86f8f-168">Sınırlanmış eskime durumu tutarlılığı ile yapılandırılmış olan azure Cosmos DB hesapları Azure bölgeleri herhangi bir sayıda Azure Cosmos DB hesaplarıyla ilişkilendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86f8f-168">Azure Cosmos DB accounts that are configured with bounded staleness consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="86f8f-169">ile bir okuma işlemi (RUs tüketilen) bakımından maliyetini Hello sınırlanmış eskime durumu oturum ve nihai tutarlılık maliyetinden daha yüksek, ancak aynı güçlü tutarlılık hello.</span><span class="sxs-lookup"><span data-stu-id="86f8f-169">hello cost of a read operation (in terms of RUs consumed) with bounded staleness is higher than session and eventual consistency, but hello same as strong consistency.</span></span>

<span data-ttu-id="86f8f-170">**Oturum**:</span><span class="sxs-lookup"><span data-stu-id="86f8f-170">**Session**:</span></span> 

* <span data-ttu-id="86f8f-171">Güçlü ve sınırlanmış eskime durumu tutarlılığı düzeyleri tarafından sunulan hello genel tutarlılık modelleri oturum tutarlılığı kapsamlı tooa istemci oturumdur.</span><span class="sxs-lookup"><span data-stu-id="86f8f-171">Unlike hello global consistency models offered by strong and bounded staleness consistency levels, session consistency is scoped tooa client session.</span></span> 
* <span data-ttu-id="86f8f-172">Oturum tutarlılığı monoton okuma, monoton yazma ve okuma kendi yazma (RYW) garanti garanti bu yana bir aygıt veya kullanıcı oturumu burada dahil tüm senaryoları için idealdir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-172">Session consistency is ideal for all scenarios where a device or user session is involved since it guarantees monotonic reads, monotonic writes, and read your own writes (RYW) guarantees.</span></span> 
* <span data-ttu-id="86f8f-173">Oturum tutarlılığı, oturum açmak için tahmin edilebilir tutarlılık sağlar ve hello en düşük gecikme süreli yazma işlemleri ve okuma sunarken verimlilik maksimum okuyun.</span><span class="sxs-lookup"><span data-stu-id="86f8f-173">Session consistency provides predictable consistency for a session, and maximum read throughput while offering hello lowest latency writes and reads.</span></span> 
* <span data-ttu-id="86f8f-174">Oturum tutarlılığı ile yapılandırılmış olan azure Cosmos DB hesapları Azure bölgeleri herhangi bir sayıda Azure Cosmos DB hesaplarıyla ilişkilendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86f8f-174">Azure Cosmos DB accounts that are configured with session consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="86f8f-175">okuma işlemi (RUs tüketilen) bakımından maliyetini tutarlılık düzeyi güçlü ve sınırlanmış eskime durumu değerinden ancak birden fazla nihai tutarlılık oturum ile Merhaba</span><span class="sxs-lookup"><span data-stu-id="86f8f-175">hello cost of a read operation (in terms of RUs consumed) with session consistency level is less than strong and bounded staleness, but more than eventual consistency</span></span>

<span data-ttu-id="86f8f-176"><a id="consistent-prefix"></a>
**Tutarlı önek**:</span><span class="sxs-lookup"><span data-stu-id="86f8f-176"><a id="consistent-prefix"></a>
**Consistent Prefix**:</span></span> 

* <span data-ttu-id="86f8f-177">Tutarlı önek daha fazla yazma olmaması durumunda hello Grup içerisinde hello çoğaltmalar sonunda yakınsamasını garanti eder.</span><span class="sxs-lookup"><span data-stu-id="86f8f-177">Consistent prefix guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="86f8f-178">Tutarlı önek okuma hiçbir zaman bozuk yazma bkz güvence altına alır.</span><span class="sxs-lookup"><span data-stu-id="86f8f-178">Consistent prefix guarantees that reads never see out of order writes.</span></span> <span data-ttu-id="86f8f-179">Yazma hello sırayla gerçekleştirilen varsa `A, B, C`, bir istemci ya da görür sonra `A`, `A,B`, veya `A,B,C`, ancak hiçbir zaman bozuk gibi `A,C` veya `B,A,C`.</span><span class="sxs-lookup"><span data-stu-id="86f8f-179">If writes were performed in hello order `A, B, C`, then a client sees either `A`, `A,B`, or `A,B,C`, but never out of order like `A,C` or `B,A,C`.</span></span>
* <span data-ttu-id="86f8f-180">Tutarlı önek tutarlılık ile yapılandırılmış olan azure Cosmos DB hesapları Azure bölgeleri herhangi bir sayıda Azure Cosmos DB hesaplarıyla ilişkilendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86f8f-180">Azure Cosmos DB accounts that are configured with consistent prefix consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 

<span data-ttu-id="86f8f-181">**Son**:</span><span class="sxs-lookup"><span data-stu-id="86f8f-181">**Eventual**:</span></span> 

* <span data-ttu-id="86f8f-182">Nihai tutarlılık, daha fazla yazma olmaması durumunda hello Grup içerisinde hello çoğaltmalar sonunda yakınsamasını garanti eder.</span><span class="sxs-lookup"><span data-stu-id="86f8f-182">Eventual consistency guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="86f8f-183">Nihai tutarlılık hello zayıf tutarlılık istemci önce gördü hello olanları daha eski olan hello değerleri nereden biçimidir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-183">Eventual consistency is hello weakest form of consistency where a client may get hello values that are older than hello ones it had seen before.</span></span>
* <span data-ttu-id="86f8f-184">Nihai tutarlılık hello zayıf okuma tutarlılığı ancak hem okuma hem de yazma işlemleri için en düşük gecikme süresine teklifleri hello sağlar.</span><span class="sxs-lookup"><span data-stu-id="86f8f-184">Eventual consistency provides hello weakest read consistency but offers hello lowest latency for both reads and writes.</span></span>
* <span data-ttu-id="86f8f-185">Nihai tutarlılık ile yapılandırılmış olan azure Cosmos DB hesapları Azure bölgeleri herhangi bir sayıda Azure Cosmos DB hesaplarıyla ilişkilendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86f8f-185">Azure Cosmos DB accounts that are configured with eventual consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="86f8f-186">Merhaba okuma işlemi (RUs tüketilen) bakımından maliyetini hello nihai tutarlılık hello tüm hello Azure Cosmos DB tutarlılık düzeylerini en düşük düzeydir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-186">hello cost of a read operation (in terms of RUs consumed) with hello eventual consistency level is hello lowest of all hello Azure Cosmos DB consistency levels.</span></span>

## <a name="configuring-hello-default-consistency-level"></a><span data-ttu-id="86f8f-187">Merhaba varsayılan tutarlılık düzeyi yapılandırılıyor</span><span class="sxs-lookup"><span data-stu-id="86f8f-187">Configuring hello default consistency level</span></span>
1. <span data-ttu-id="86f8f-188">Merhaba, [Azure portal](https://portal.azure.com/), buna atlama çubuğu Merhaba, tıklatın **Azure Cosmos DB**.</span><span class="sxs-lookup"><span data-stu-id="86f8f-188">In hello [Azure portal](https://portal.azure.com/), in hello Jumpbar, click **Azure Cosmos DB**.</span></span>
2. <span data-ttu-id="86f8f-189">Merhaba, **Azure Cosmos DB** dikey penceresinde, select hello veritabanı hesabı toomodify.</span><span class="sxs-lookup"><span data-stu-id="86f8f-189">In hello **Azure Cosmos DB** blade, select hello database account toomodify.</span></span>
3. <span data-ttu-id="86f8f-190">Merhaba hesabı dikey penceresinde tıklayın **varsayılan tutarlılık**.</span><span class="sxs-lookup"><span data-stu-id="86f8f-190">In hello account blade, click **Default consistency**.</span></span>
4. <span data-ttu-id="86f8f-191">Merhaba, **varsayılan tutarlılık** dikey penceresinde, select hello yeni tutarlılık düzeyi ve tıklatın **kaydetmek**.</span><span class="sxs-lookup"><span data-stu-id="86f8f-191">In hello **Default Consistency** blade, select hello new consistency level and click **Save**.</span></span>
   
    ![Merhaba ayarlar simgesine ve varsayılan tutarlılık giriş vurgulama ekran görüntüsü](./media/consistency-levels/database-consistency-level-1.png)

## <a name="consistency-levels-for-queries"></a><span data-ttu-id="86f8f-193">Sorgular için tutarlılık düzeyleri</span><span class="sxs-lookup"><span data-stu-id="86f8f-193">Consistency levels for queries</span></span>
<span data-ttu-id="86f8f-194">Varsayılan olarak, kullanıcı tanımlı, kaynaklar için hello tutarlılık düzeyi sorgular için hello aynı gibi hello tutarlılık düzeyi okur.</span><span class="sxs-lookup"><span data-stu-id="86f8f-194">By default, for user-defined resources, hello consistency level for queries is hello same as hello consistency level for reads.</span></span> <span data-ttu-id="86f8f-195">Varsayılan olarak, her ekleme, değiştirme veya silme öğesi toohello Cosmos DB kapsayıcısının hello dizini zaman uyumlu olarak güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-195">By default, hello index is updated synchronously on each insert, replace, or delete of an item toohello Cosmos DB container.</span></span> <span data-ttu-id="86f8f-196">Toohonor hello aynı tutarlılık düzeyi şekilde hello sorguları noktası okuma bu etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-196">This enables hello queries toohonor hello same consistency level as that of point reads.</span></span> <span data-ttu-id="86f8f-197">Azure Cosmos DB yazma en iyi duruma getirilmiş ve yazma, zaman uyumlu dizin Bakım ve tutarlı sorguları hizmet veren sürekli birimleri destekler, ancak belirli koleksiyonlar tooupdate kendi dizini gevşek yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86f8f-197">While Azure Cosmos DB is write optimized and supports sustained volumes of writes, synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="86f8f-198">Yavaş dizin daha hello yazma performansı artırır ve öncelikle okuma ağır bir iş yükü olduğunda toplu alım senaryoları için idealdir.</span><span class="sxs-lookup"><span data-stu-id="86f8f-198">Lazy indexing further boosts hello write performance and is ideal for bulk ingestion scenarios when a workload is primarily read-heavy.</span></span>  

| <span data-ttu-id="86f8f-199">Dizin oluşturma modu</span><span class="sxs-lookup"><span data-stu-id="86f8f-199">Indexing Mode</span></span> | <span data-ttu-id="86f8f-200">Okur</span><span class="sxs-lookup"><span data-stu-id="86f8f-200">Reads</span></span> | <span data-ttu-id="86f8f-201">Sorgular</span><span class="sxs-lookup"><span data-stu-id="86f8f-201">Queries</span></span> |
| --- | --- | --- |
| <span data-ttu-id="86f8f-202">CONSISTENT (varsayılan)</span><span class="sxs-lookup"><span data-stu-id="86f8f-202">Consistent (default)</span></span> |<span data-ttu-id="86f8f-203">Güçlü, sınırlanmış eskime durumu, oturum, tutarlı önek arasından seçin ya da son</span><span class="sxs-lookup"><span data-stu-id="86f8f-203">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="86f8f-204">Güçlü, sınırlanmış eskime durumu, seçim oturumu veya son</span><span class="sxs-lookup"><span data-stu-id="86f8f-204">Select from strong, bounded staleness, session, or eventual</span></span> |
| <span data-ttu-id="86f8f-205">Geç</span><span class="sxs-lookup"><span data-stu-id="86f8f-205">Lazy</span></span> |<span data-ttu-id="86f8f-206">Güçlü, sınırlanmış eskime durumu, oturum, tutarlı önek arasından seçin ya da son</span><span class="sxs-lookup"><span data-stu-id="86f8f-206">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="86f8f-207">Nihai</span><span class="sxs-lookup"><span data-stu-id="86f8f-207">Eventual</span></span> |
| <span data-ttu-id="86f8f-208">None</span><span class="sxs-lookup"><span data-stu-id="86f8f-208">None</span></span> |<span data-ttu-id="86f8f-209">Güçlü, sınırlanmış eskime durumu, oturum, tutarlı önek arasından seçin ya da son</span><span class="sxs-lookup"><span data-stu-id="86f8f-209">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="86f8f-210">Uygulanamaz</span><span class="sxs-lookup"><span data-stu-id="86f8f-210">Not applicable</span></span> |

<span data-ttu-id="86f8f-211">Olarak okuma istekleriyle her API belirli sorgu istekte hello tutarlılık düzeyi düşürün.</span><span class="sxs-lookup"><span data-stu-id="86f8f-211">As with read requests, you can lower hello consistency level of a specific query request in each API.</span></span>

## <a name="next-steps"></a><span data-ttu-id="86f8f-212">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="86f8f-212">Next steps</span></span>
<span data-ttu-id="86f8f-213">Toodo tutarlılık düzeyleri ve bileşim hakkında daha fazla okunurken istiyorsanız kaynakları aşağıdaki hello öneririz:</span><span class="sxs-lookup"><span data-stu-id="86f8f-213">If you'd like toodo more reading about consistency levels and tradeoffs, we recommend hello following resources:</span></span>

* <span data-ttu-id="86f8f-214">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="86f8f-214">Doug Terry.</span></span> <span data-ttu-id="86f8f-215">Çoğaltılan verilerin tutarlılık Beyzbol (video) açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="86f8f-215">Replicated Data Consistency explained through baseball (video).</span></span>   
  [<span data-ttu-id="86f8f-216">https://www.YouTube.com/Watch?v=gluIh8zd26I</span><span class="sxs-lookup"><span data-stu-id="86f8f-216">https://www.youtube.com/watch?v=gluIh8zd26I</span></span>](https://www.youtube.com/watch?v=gluIh8zd26I)
* <span data-ttu-id="86f8f-217">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="86f8f-217">Doug Terry.</span></span> <span data-ttu-id="86f8f-218">Çoğaltılan verilerin tutarlılık Beyzbol açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="86f8f-218">Replicated Data Consistency explained through baseball.</span></span>   
  [<span data-ttu-id="86f8f-219">http://Research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.PDF</span><span class="sxs-lookup"><span data-stu-id="86f8f-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span></span>](http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf)
* <span data-ttu-id="86f8f-220">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="86f8f-220">Doug Terry.</span></span> <span data-ttu-id="86f8f-221">Oturum garanti zayıf tutarlı çoğaltılan veriler için.</span><span class="sxs-lookup"><span data-stu-id="86f8f-221">Session Guarantees for Weakly Consistent Replicated Data.</span></span>   
  [<span data-ttu-id="86f8f-222">http://DL.ACM.org/citation.cfm?id=383631</span><span class="sxs-lookup"><span data-stu-id="86f8f-222">http://dl.acm.org/citation.cfm?id=383631</span></span>](http://dl.acm.org/citation.cfm?id=383631)
* <span data-ttu-id="86f8f-223">Daniel Abadi.</span><span class="sxs-lookup"><span data-stu-id="86f8f-223">Daniel Abadi.</span></span> <span data-ttu-id="86f8f-224">Modern dağıtılmış veritabanı sistemleri tasarım tutarlılık bileşim: CAP hello Öykü yalnızca bir parçası olan ".</span><span class="sxs-lookup"><span data-stu-id="86f8f-224">Consistency Tradeoffs in Modern Distributed Database Systems Design: CAP is only part of hello story”.</span></span>   
  [<span data-ttu-id="86f8f-225">http://computer.org/CSDL/mags/co/2012/02/mco2012020037-Abs.HTML</span><span class="sxs-lookup"><span data-stu-id="86f8f-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span></span>](http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html)
* <span data-ttu-id="86f8f-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, nleri Stoica.</span><span class="sxs-lookup"><span data-stu-id="86f8f-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span></span> <span data-ttu-id="86f8f-227">İçin pratik kısmi çekirdekleri sınırlanmış eskime durumu (PBS) probabilistic.</span><span class="sxs-lookup"><span data-stu-id="86f8f-227">Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums.</span></span>   
  [<span data-ttu-id="86f8f-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.PDF</span><span class="sxs-lookup"><span data-stu-id="86f8f-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span></span>](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)
* <span data-ttu-id="86f8f-229">Werner Vogels.</span><span class="sxs-lookup"><span data-stu-id="86f8f-229">Werner Vogels.</span></span> <span data-ttu-id="86f8f-230">Son tutarlı - tekrar ziyaret.</span><span class="sxs-lookup"><span data-stu-id="86f8f-230">Eventual Consistent - Revisited.</span></span>    
  [<span data-ttu-id="86f8f-231">http://allthingsdistributed.com/2008/12/eventually_consistent.HTML</span><span class="sxs-lookup"><span data-stu-id="86f8f-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span></span>](http://allthingsdistributed.com/2008/12/eventually_consistent.html)
* <span data-ttu-id="86f8f-232">Moni Naor, Avishai Wool, hello yük, kapasite ve kullanılabilirlik, çekirdek sistemleri, bilgi işlem, v.27 n.2, p.423 447, Nisan 1998 SIAM günlük.</span><span class="sxs-lookup"><span data-stu-id="86f8f-232">Moni Naor , Avishai Wool, hello Load, Capacity, and Availability of Quorum Systems, SIAM Journal on Computing, v.27 n.2, p.423-447, April 1998.</span></span>
  [<span data-ttu-id="86f8f-233">http://epubs.siam.org/doi/Abs/10.1137/S0097539795281232</span><span class="sxs-lookup"><span data-stu-id="86f8f-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span></span>](http://epubs.siam.org/doi/abs/10.1137/S0097539795281232)
* <span data-ttu-id="86f8f-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: bir tam ve otomatik linearizability denetleyicisi, dil tasarım ve uygulama, Haziran 05-10, 2010, Toronto, Ontario programlama hello 2010 ACM SIGPLAN konferans bildirileri, Kanada [DOI > 10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span><span class="sxs-lookup"><span data-stu-id="86f8f-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: a complete and automatic linearizability checker, Proceedings of hello 2010 ACM SIGPLAN conference on Programming language design and implementation, June 05-10, 2010, Toronto, Ontario, Canada  [doi>10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span></span>
* <span data-ttu-id="86f8f-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein nleri Stoica Probabilistically eskime durumu pratik kısmi çekirdeklerine, hello VLDB Endowment, v.5 n.8, p.776 787, Nisan 2012 bildirileri için sınırlı [http:// DL.ACM.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span><span class="sxs-lookup"><span data-stu-id="86f8f-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein , Ion Stoica, Probabilistically bounded staleness for practical partial quorums, Proceedings of hello VLDB Endowment, v.5 n.8, p.776-787, April 2012 [http://dl.acm.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span></span>
