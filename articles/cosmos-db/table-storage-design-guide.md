---
title: "aaaAzure depolama tablo Tasarım Kılavuzu | Microsoft Docs"
description: "Tasarım ölçeklenebilir ve kullanıcı tablolarında Azure tablo depolaması"
services: cosmos-db
documentationcenter: na
author: mimig1
manager: tadb
editor: tysonn
ms.assetid: 8e228b0c-2998-4462-8101-9f16517393ca
ms.service: cosmos-db
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage
ms.date: 02/28/2017
ms.author: mimig
ms.openlocfilehash: 059f05a1d20e4d9537034b7ca133c5334bbefa04
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-storage-table-design-guide-designing-scalable-and-performant-tables"></a><span data-ttu-id="dee89-103">Azure depolama tablo Tasarım Kılavuzu: Ölçeklenebilir tasarlama ve kullanıcı tabloları</span><span class="sxs-lookup"><span data-stu-id="dee89-103">Azure Storage Table Design Guide: Designing Scalable and Performant Tables</span></span>
[!INCLUDE [storage-table-cosmos-db-tip-include](../../includes/storage-table-cosmos-db-tip-include.md)]

<span data-ttu-id="dee89-104">toodesign ölçeklenebilir ve kullanıcı tabloları bir dizi etkene performans, ölçeklenebilirlik ve maliyet gibi dikkate almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-104">toodesign scalable and performant tables you must consider a number of factors such as performance, scalability, and cost.</span></span> <span data-ttu-id="dee89-105">Daha önce şemaları ilişkisel veritabanları için tasarlanmış, bu noktalar tanıdık tooyou olacaktır, ancak bazı benzerlikler hello Azure Table hizmet depolama modeli ve ilişkisel modelleri arasında olsa da, de vardır birçok önemli farkları.</span><span class="sxs-lookup"><span data-stu-id="dee89-105">If you have previously designed schemas for relational databases, these considerations will be familiar tooyou, but while there are some similarities between hello Azure Table service storage model and relational models, there are also many important differences.</span></span> <span data-ttu-id="dee89-106">Bu farklılıklar, genellikle counter-intuitive veya yanlış toosomeone ilişkisel veritabanları ile tanıdık görünebilir, ancak hello Azure tablo hizmeti gibi bir NoSQL anahtar/değer deposu için tanımlıyorsanız, iyi bir fikir hale getirmeyin toovery farklı tasarımları yol açar.</span><span class="sxs-lookup"><span data-stu-id="dee89-106">These differences typically lead toovery different designs that may look counter-intuitive or wrong toosomeone familiar with relational databases, but which do make good sense if you are designing for a NoSQL key/value store such as hello Azure Table service.</span></span> <span data-ttu-id="dee89-107">Tasarım farklar çoğunu hello tablo hizmeti varlıkları (ilişkisel veritabanı terminolojisi bulunan satırlar) veri veya çok yüksek desteklemelidir veri kümeleri için milyarlarca içerebilir tasarlanmış toosupport bulut ölçekli uygulamalar olduğunu hello olgu yansıtır işlem hacmi: Bu nedenle, verilerinizi depolamak nasıl hakkında farklı toothink gerekir ve hello tablo hizmeti nasıl çalıştığını anlayın.</span><span class="sxs-lookup"><span data-stu-id="dee89-107">Many of your design differences will reflect hello fact that hello Table service is designed toosupport cloud-scale applications that can contain billions of entities (rows in relational database terminology) of data or for datasets that must support very high transaction volumes: therefore, you need toothink differently about how you store your data and understand how hello Table service works.</span></span> <span data-ttu-id="dee89-108">İyi tasarlanmış bir NoSQL veri deposu, çözüm tooscale çok daha fazla (ve daha düşük maliyetle) etkinleştirebilirsiniz bir çözümden bir ilişkisel veritabanı kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-108">A well designed NoSQL data store can enable your solution tooscale much further (and at a lower cost) than a solution that uses a relational database.</span></span> <span data-ttu-id="dee89-109">Bu kılavuz, bu konularda yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="dee89-109">This guide helps you with these topics.</span></span>  

## <a name="about-hello-azure-table-service"></a><span data-ttu-id="dee89-110">Azure tablo hizmeti Hello hakkında</span><span class="sxs-lookup"><span data-stu-id="dee89-110">About hello Azure Table service</span></span>
<span data-ttu-id="dee89-111">Bu bölümde bazı performans ve ölçeklenebilirlik için özellikle ilgili toodesigning olan hello anahtar özelliklerinden biri hello tablo hizmeti vurgular.</span><span class="sxs-lookup"><span data-stu-id="dee89-111">This section highlights some of hello key features of hello Table service that are especially relevant toodesigning for performance and scalability.</span></span> <span data-ttu-id="dee89-112">Yeni tooAzure depolama ve hello tablo hizmeti varsa, ilk okuma [giriş tooMicrosoft Azure Storage](../storage/common/storage-introduction.md) ve [.NET kullanarak Azure Table Storage ile çalışmaya başlama](table-storage-how-to-use-dotnet.md) hello geri kalanında bu okuma önce makale.</span><span class="sxs-lookup"><span data-stu-id="dee89-112">If you are new tooAzure Storage and hello Table service, first read [Introduction tooMicrosoft Azure Storage](../storage/common/storage-introduction.md) and [Get started with Azure Table Storage using .NET](table-storage-how-to-use-dotnet.md) before reading hello remainder of this article.</span></span> <span data-ttu-id="dee89-113">Bu kılavuzun Hello odak hello tablo hizmeti üzerinde olsa da, bazı tartışma hello Azure kuyruk ve Blob Hizmetleri ve hello tablo hizmeti bir çözümde yanı sıra bunları nasıl kullanacağınızı içerecektir.</span><span class="sxs-lookup"><span data-stu-id="dee89-113">Although hello focus of this guide is on hello Table service, it will include some discussion of hello Azure Queue and Blob services, and how you might use them along with hello Table service in a solution.</span></span>  

<span data-ttu-id="dee89-114">Merhaba tablo hizmeti nedir?</span><span class="sxs-lookup"><span data-stu-id="dee89-114">What is hello Table service?</span></span> <span data-ttu-id="dee89-115">Merhaba adından beklediğiniz gibi hello tablo hizmeti bir tablo biçiminde toostore verileri kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-115">As you might expect from hello name, hello Table service uses a tabular format toostore data.</span></span> <span data-ttu-id="dee89-116">Merhaba standart terminoloji, Merhaba tablonun her satırında bir varlığı temsil eden ve hello sütun deposu hello çeşitli özelliklerini varlık.</span><span class="sxs-lookup"><span data-stu-id="dee89-116">In hello standard terminology, each row of hello table represents an entity, and hello columns store hello various properties of that entity.</span></span> <span data-ttu-id="dee89-117">Her varlık anahtarları toouniquely tanımlamak çifti vardır ve hello varlık son güncelleştirildiği tablo hizmeti hello bir zaman damgası sütunu tootrack kullanır (Bu otomatik olarak gerçekleşir ve el ile rastgele bir değerle hello zaman damgası üzerine yazılamıyor).</span><span class="sxs-lookup"><span data-stu-id="dee89-117">Every entity has a pair of keys toouniquely identify it, and a timestamp column that hello Table service uses tootrack when hello entity was last updated (this happens automatically and you cannot manually overwrite hello timestamp with an arbitrary value).</span></span> <span data-ttu-id="dee89-118">Bu son değiştirilen zaman damgası (LMT) toomanage iyimser eşzamanlılık Hello tablo hizmeti kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-118">hello Table service uses this last-modified timestamp (LMT) toomanage optimistic concurrency.</span></span>  

> [!NOTE]
> <span data-ttu-id="dee89-119">Merhaba tablo hizmeti REST API işlemleri aynı zamanda sonuç bir **ETag** hello son değiştirilen timestamp (LMT) türetilen değeri.</span><span class="sxs-lookup"><span data-stu-id="dee89-119">hello Table service REST API operations also return an **ETag** value that it derives from hello last-modified timestamp (LMT).</span></span> <span data-ttu-id="dee89-120">Toohello başvurduğundan kullanacağız bu belgede hello ETag ve LMT birbirinin yerine koşulları aynı alttaki verileri.</span><span class="sxs-lookup"><span data-stu-id="dee89-120">In this document we will use hello terms ETag and LMT interchangeably because they refer toohello same underlying data.</span></span>  
> 
> 

<span data-ttu-id="dee89-121">Merhaba aşağıdaki örnekte basit bir tablo Tasarım toostore çalışan ve departman varlıkları gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="dee89-121">hello following example shows a simple table design toostore employee and department entities.</span></span> <span data-ttu-id="dee89-122">Bu kılavuzda gösterilen hello örnekler çoğunu basit bu tasarım temel alır.</span><span class="sxs-lookup"><span data-stu-id="dee89-122">Many of hello examples shown later in this guide are based on this simple design.</span></span>  

<table>
<tr>
<th><span data-ttu-id="dee89-123">PartitionKey</span><span class="sxs-lookup"><span data-stu-id="dee89-123">PartitionKey</span></span></th>
<th><span data-ttu-id="dee89-124">RowKey</span><span class="sxs-lookup"><span data-stu-id="dee89-124">RowKey</span></span></th>
<th><span data-ttu-id="dee89-125">zaman damgası</span><span class="sxs-lookup"><span data-stu-id="dee89-125">Timestamp</span></span></th>
<th></th>
</tr>
<tr>
<td><span data-ttu-id="dee89-126">Pazarlama</span><span class="sxs-lookup"><span data-stu-id="dee89-126">Marketing</span></span></td>
<td><span data-ttu-id="dee89-127">00001</span><span class="sxs-lookup"><span data-stu-id="dee89-127">00001</span></span></td>
<td><span data-ttu-id="dee89-128">2014-08-22T00:50:32Z</span><span class="sxs-lookup"><span data-stu-id="dee89-128">2014-08-22T00:50:32Z</span></span></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-129">FirstName</span><span class="sxs-lookup"><span data-stu-id="dee89-129">FirstName</span></span></th>
<th><span data-ttu-id="dee89-130">Soyadı</span><span class="sxs-lookup"><span data-stu-id="dee89-130">LastName</span></span></th>
<th><span data-ttu-id="dee89-131">Yaş</span><span class="sxs-lookup"><span data-stu-id="dee89-131">Age</span></span></th>
<th><span data-ttu-id="dee89-132">E-posta</span><span class="sxs-lookup"><span data-stu-id="dee89-132">Email</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="dee89-133">Tan</span><span class="sxs-lookup"><span data-stu-id="dee89-133">Don</span></span></td>
<td><span data-ttu-id="dee89-134">Hall</span><span class="sxs-lookup"><span data-stu-id="dee89-134">Hall</span></span></td>
<td><span data-ttu-id="dee89-135">34</span><span class="sxs-lookup"><span data-stu-id="dee89-135">34</span></span></td>
<td>donh@contoso.com</td>
</tr>
</table>
</tr>
<tr>
<td><span data-ttu-id="dee89-136">Pazarlama</span><span class="sxs-lookup"><span data-stu-id="dee89-136">Marketing</span></span></td>
<td><span data-ttu-id="dee89-137">00002</span><span class="sxs-lookup"><span data-stu-id="dee89-137">00002</span></span></td>
<td><span data-ttu-id="dee89-138">2014-08-22T00:50:34Z</span><span class="sxs-lookup"><span data-stu-id="dee89-138">2014-08-22T00:50:34Z</span></span></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-139">FirstName</span><span class="sxs-lookup"><span data-stu-id="dee89-139">FirstName</span></span></th>
<th><span data-ttu-id="dee89-140">Soyadı</span><span class="sxs-lookup"><span data-stu-id="dee89-140">LastName</span></span></th>
<th><span data-ttu-id="dee89-141">Yaş</span><span class="sxs-lookup"><span data-stu-id="dee89-141">Age</span></span></th>
<th><span data-ttu-id="dee89-142">E-posta</span><span class="sxs-lookup"><span data-stu-id="dee89-142">Email</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="dee89-143">Haz</span><span class="sxs-lookup"><span data-stu-id="dee89-143">Jun</span></span></td>
<td><span data-ttu-id="dee89-144">CAO</span><span class="sxs-lookup"><span data-stu-id="dee89-144">Cao</span></span></td>
<td><span data-ttu-id="dee89-145">47</span><span class="sxs-lookup"><span data-stu-id="dee89-145">47</span></span></td>
<td>junc@contoso.com</td>
</tr>
</table>
</tr>
<tr>
<td><span data-ttu-id="dee89-146">Pazarlama</span><span class="sxs-lookup"><span data-stu-id="dee89-146">Marketing</span></span></td>
<td><span data-ttu-id="dee89-147">Bölüm</span><span class="sxs-lookup"><span data-stu-id="dee89-147">Department</span></span></td>
<td><span data-ttu-id="dee89-148">2014-08-22T00:50:30Z</span><span class="sxs-lookup"><span data-stu-id="dee89-148">2014-08-22T00:50:30Z</span></span></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-149">departmentName</span><span class="sxs-lookup"><span data-stu-id="dee89-149">DepartmentName</span></span></th>
<th><span data-ttu-id="dee89-150">EmployeeCount</span><span class="sxs-lookup"><span data-stu-id="dee89-150">EmployeeCount</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="dee89-151">Pazarlama</span><span class="sxs-lookup"><span data-stu-id="dee89-151">Marketing</span></span></td>
<td><span data-ttu-id="dee89-152">153</span><span class="sxs-lookup"><span data-stu-id="dee89-152">153</span></span></td>
</tr>
</table>
</td>
</tr>
<tr>
<td><span data-ttu-id="dee89-153">Satış</span><span class="sxs-lookup"><span data-stu-id="dee89-153">Sales</span></span></td>
<td><span data-ttu-id="dee89-154">00010</span><span class="sxs-lookup"><span data-stu-id="dee89-154">00010</span></span></td>
<td><span data-ttu-id="dee89-155">2014-08-22T00:50:44Z</span><span class="sxs-lookup"><span data-stu-id="dee89-155">2014-08-22T00:50:44Z</span></span></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-156">FirstName</span><span class="sxs-lookup"><span data-stu-id="dee89-156">FirstName</span></span></th>
<th><span data-ttu-id="dee89-157">Soyadı</span><span class="sxs-lookup"><span data-stu-id="dee89-157">LastName</span></span></th>
<th><span data-ttu-id="dee89-158">Yaş</span><span class="sxs-lookup"><span data-stu-id="dee89-158">Age</span></span></th>
<th><span data-ttu-id="dee89-159">E-posta</span><span class="sxs-lookup"><span data-stu-id="dee89-159">Email</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="dee89-160">Ken</span><span class="sxs-lookup"><span data-stu-id="dee89-160">Ken</span></span></td>
<td><span data-ttu-id="dee89-161">Kwok</span><span class="sxs-lookup"><span data-stu-id="dee89-161">Kwok</span></span></td>
<td><span data-ttu-id="dee89-162">23</span><span class="sxs-lookup"><span data-stu-id="dee89-162">23</span></span></td>
<td>kenk@contoso.com</td>
</tr>
</table>
</td>
</tr>
</table>


<span data-ttu-id="dee89-163">Şu ana kadar bu çok benzer tooa tablo bir ilişkisel veritabanı hello zorunlu sütunları olan hello anahtar farklılıklar arar ve hello özelliği toostore birden çok varlık hello türleri aynı tablo.</span><span class="sxs-lookup"><span data-stu-id="dee89-163">So far, this looks very similar tooa table in a relational database with hello key differences being hello mandatory columns, and hello ability toostore multiple entity types in hello same table.</span></span> <span data-ttu-id="dee89-164">Ayrıca, her biri hello kullanıcı tanımlı özellikler gibi **FirstName** veya **yaş** tamsayı veya dize, yalnızca gibi ilişkisel bir veritabanındaki sütun gibi bir veri türüne sahip.</span><span class="sxs-lookup"><span data-stu-id="dee89-164">In addition, each of hello user-defined properties such as **FirstName** or **Age** has a data type, such as integer or string, just like a column in a relational database.</span></span> <span data-ttu-id="dee89-165">Aksine hello şema daha az yapısı hello bir özellik değil olmak zorunda tablo hizmeti anlamına gelir, bir ilişkisel veritabanı içinde hello rağmen aynı her varlıkta veri türü.</span><span class="sxs-lookup"><span data-stu-id="dee89-165">Although unlike in a relational database, hello schema-less nature of hello Table service means that a property need not have hello same data type on each entity.</span></span> <span data-ttu-id="dee89-166">tek bir özellik toostore karmaşık veri türleri, JSON veya XML gibi bir seri hale getirilmiş biçimi kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-166">toostore complex data types in a single property, you must use a serialized format such as JSON or XML.</span></span> <span data-ttu-id="dee89-167">Hello tablo hizmeti gibi desteklenen veri türleri, desteklenen bir tarih aralıkları, adlandırma kuralları ve boyutu kısıtlamaları hakkında daha fazla bilgi için bkz: [anlama hello tablo hizmeti veri modelini](http://msdn.microsoft.com/library/azure/dd179338.aspx).</span><span class="sxs-lookup"><span data-stu-id="dee89-167">For more information about hello table service such as supported data types, supported date ranges, naming rules, and size constraints, see [Understanding hello Table Service Data Model](http://msdn.microsoft.com/library/azure/dd179338.aspx).</span></span>

<span data-ttu-id="dee89-168">Göreceğiniz gibi tercih ettiğiniz **PartitionKey** ve **RowKey** temel toogood tablo tasarımdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-168">As you will see, your choice of **PartitionKey** and **RowKey** is fundamental toogood table design.</span></span> <span data-ttu-id="dee89-169">Bir tablodaki her varlığın benzersiz bir birleşimi olmalıdır **PartitionKey** ve **RowKey**.</span><span class="sxs-lookup"><span data-stu-id="dee89-169">Every entity stored in a table must have a unique combination of **PartitionKey** and **RowKey**.</span></span> <span data-ttu-id="dee89-170">Anahtarlarla gibi bir ilişkisel veritabanı tablosundaki, hello **PartitionKey** ve **RowKey** değerler dizinli toocreate hızlı göz atmayı sağlayan bir kümelenmiş dizin, ancak tablo hizmeti hello herhangi oluşturmaz. Bunlar hello; bu nedenle ikincil dizinler yalnızca iki özellikleri (daha sonra açıklanan hello desenleri bazıları görünen bu sınırlamaya geçici nasıl çalışabileceğini Göster) dizini.</span><span class="sxs-lookup"><span data-stu-id="dee89-170">As with keys in a relational database table, hello **PartitionKey** and **RowKey** values are indexed toocreate a clustered index that enables fast look-ups; however, hello Table service does not create any secondary indexes so these are hello only two indexed properties (some of hello patterns described later show how you can work around this apparent limitation).</span></span>  

<span data-ttu-id="dee89-171">Bir tablo bir veya daha fazla bölümlerini yapılır ve göreceğiniz gibi birçok hello uygun bir seçme geçici olması kararları tasarım **PartitionKey** ve **RowKey** toooptimize çözümünüzü.</span><span class="sxs-lookup"><span data-stu-id="dee89-171">A table is made up of one or more partitions, and as you will see, many of hello design decisions you make will be around choosing a suitable **PartitionKey** and **RowKey** toooptimize your solution.</span></span> <span data-ttu-id="dee89-172">Tablonun tüm varlıklar bölümlere düzenlenmiş içeren yalnızca tek bir çözüm oluşabilir, ancak bir çözüm, birden çok tablo genellikle sahip olacaktır.</span><span class="sxs-lookup"><span data-stu-id="dee89-172">A solution could consist of just a single table that contains all your entities organized into partitions, but typically a solution will have multiple tables.</span></span> <span data-ttu-id="dee89-173">Tabloları yardımcı toologically varlıklarınızı düzenlemek, yönettiğiniz erişim toohello verileri kullanarak Yardım erişim denetim listeleri ve tek bir depolama işlemi kullanarak tüm bir tabloyu düşürebilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-173">Tables help you toologically organize your entities, help you manage access toohello data using access control lists, and you can drop an entire table using a single storage operation.</span></span>  

### <a name="table-partitions"></a><span data-ttu-id="dee89-174">Tablo bölümleri</span><span class="sxs-lookup"><span data-stu-id="dee89-174">Table partitions</span></span>
<span data-ttu-id="dee89-175">Merhaba hesap adı, tablo adı ve **PartitionKey** birlikte hello bölümü hello tablo hizmeti hello varlık depoladığı hello depolama hizmeti içinde tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="dee89-175">hello account name, table name and **PartitionKey** together identify hello partition within hello storage service where hello table service stores hello entity.</span></span> <span data-ttu-id="dee89-176">Bölüm işlemleri için kapsam tanımlayın adresleme düzeni varlıklar için hello parçası olmasının yanı sıra, (bkz [varlık Grup hareketleri](#entity-group-transactions) aşağıda) ve nasıl hello tablo hizmeti ölçekler, form hello temel.</span><span class="sxs-lookup"><span data-stu-id="dee89-176">As well as being part of hello addressing scheme for entities, partitions define a scope for transactions (see [Entity Group Transactions](#entity-group-transactions) below), and form hello basis of how hello table service scales.</span></span> <span data-ttu-id="dee89-177">Bölümleri hakkında daha fazla bilgi için bkz: [Azure Storage ölçeklenebilirlik ve performans hedefleri](../storage/common/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="dee89-177">For more information on partitions see [Azure Storage Scalability and Performance Targets](../storage/common/storage-scalability-targets.md).</span></span>  

<span data-ttu-id="dee89-178">Hello tablo hizmeti, hizmetlerini tek tek bir düğüm tek tek veya daha fazla bölümleri tamamlayın ve dinamik Yük Dengeleme tarafından hizmet ölçekler hello düğümleri arasında bölümler.</span><span class="sxs-lookup"><span data-stu-id="dee89-178">In hello Table service, an individual node services one or more complete partitions and hello service scales by dynamically load-balancing partitions across nodes.</span></span> <span data-ttu-id="dee89-179">Bir düğümü yük altında ise hello tablo hizmeti için *bölme* bölümleri hello aralığı hizmet farklı düğümleri üzerine bu düğüm tarafından; trafiği subsides hello hizmet yapabilirsiniz *birleştirme* hello bölüm aralıkları Sessiz düğümlerini tek bir düğüme yedekleyin.</span><span class="sxs-lookup"><span data-stu-id="dee89-179">If a node is under load, hello table service can *split* hello range of partitions serviced by that node onto different nodes; when traffic subsides, hello service can *merge* hello partition ranges from quiet nodes back onto a single node.</span></span>  

<span data-ttu-id="dee89-180">Merhaba hakkında daha fazla bilgi için iç ayrıntılarını hello tablo hizmeti ve bölümler, hello hizmet yöneten nasıl özellikle hello incelemesine bakın [Microsoft Azure Storage: yüksek oranda kullanılabilir bulut depolama hizmet güçlü tutarlılık](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx).</span><span class="sxs-lookup"><span data-stu-id="dee89-180">For more information about hello internal details of hello Table service, and in particular how hello service manages partitions, see hello paper [Microsoft Azure Storage: A Highly Available Cloud Storage Service with Strong Consistency](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx).</span></span>  

### <a name="entity-group-transactions"></a><span data-ttu-id="dee89-181">Varlık Grup işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-181">Entity Group Transactions</span></span>
<span data-ttu-id="dee89-182">Hello tablo hizmeti, varlık Grup hareketleri (EGTs) birden çok varlık arasında atomik güncelleştirmeleri gerçekleştirme hello yalnızca yerleşik sistemdir.</span><span class="sxs-lookup"><span data-stu-id="dee89-182">In hello Table service, Entity Group Transactions (EGTs) are hello only built-in mechanism for performing atomic updates across multiple entities.</span></span> <span data-ttu-id="dee89-183">EGTs olan de başvurulan tooas *toplu işlemler* bazı belgelerde.</span><span class="sxs-lookup"><span data-stu-id="dee89-183">EGTs are also referred tooas *batch transactions* in some documentation.</span></span> <span data-ttu-id="dee89-184">EGTs yalnızca çalışabilir hello saklanan varlıkları aynı bölüme (paylaşım hello verilen bir tablodaki aynı bölüm anahtarı), birden çok varlık arasında atomik işlem davranışı gereken herhangi bir zamanda bu varlıklardır hello tooensure gerekir böylece aynı bölüm.</span><span class="sxs-lookup"><span data-stu-id="dee89-184">EGTs can only operate on entities stored in hello same partition (share hello same partition key in a given table), so anytime you need atomic transactional behavior across multiple entities you need tooensure that those entities are in hello same partition.</span></span> <span data-ttu-id="dee89-185">Genellikle birden fazla tablo farklı varlık türlerine yönelik kullanmayan ve birden çok varlık türleri aynı tablo (ve bölüm) hello tutulması için bir neden de budur.</span><span class="sxs-lookup"><span data-stu-id="dee89-185">This is often a reason for keeping multiple entity types in hello same table (and partition) and not using multiple tables for different entity types.</span></span> <span data-ttu-id="dee89-186">Tek bir EGT en fazla 100 varlık üzerinde çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-186">A single EGT can operate on at most 100 entities.</span></span>  <span data-ttu-id="dee89-187">Bu EGTs işlemeyi önemli tooensure için birden çok eşzamanlı EGTs gönderirseniz, aksi takdirde işleme Gecikmeli olarak EGTs arasında ortak olan varlıklar üzerinde çalıştırmayın.</span><span class="sxs-lookup"><span data-stu-id="dee89-187">If you submit multiple concurrent EGTs for processing it is important tooensure  those EGTs do not operate on entities that are common across EGTs as otherwise processing can be delayed.</span></span>

<span data-ttu-id="dee89-188">EGTs Ayrıca, tooevaluate tasarımınızda için olası dengelemeyi tanıtmak: daha fazla bölüm kullanarak artıracaktır hello ölçeklenebilirlik, uygulamanızın Azure düğümleri arasında dengelemesini istekleri için daha fazla fırsatlarını sahiptir, ancak bu hello sınırlayabilir Uygulama tooperform atomik işlemleri yeteneklerini ve verileriniz için güçlü tutarlılık sağlamak.</span><span class="sxs-lookup"><span data-stu-id="dee89-188">EGTs also introduce a potential trade-off for you tooevaluate in your design: using more partitions will increase hello scalability of your application because Azure has more opportunities for load balancing requests across nodes, but this might limit hello ability of your application tooperform atomic transactions and maintain strong consistency for your data.</span></span> <span data-ttu-id="dee89-189">Ayrıca, vardır belirli ölçeklenebilirlik hedefleri için tek bir düğüm beklediğiniz işlemleri hello verimini sınırlayabilir bir bölümün hello düzeyinde: Azure depolama hesapları ve hello tablo için hello ölçeklenebilirlik hedefleri hakkında daha fazla bilgi hizmet için bkz: [Azure Storage ölçeklenebilirlik ve performans hedefleri](../storage/common/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="dee89-189">Furthermore, there are specific scalability targets at hello level of a partition that might limit hello throughput of transactions you can expect for a single node: for more information about hello scalability targets for Azure storage accounts and hello table service, see [Azure Storage Scalability and Performance Targets](../storage/common/storage-scalability-targets.md).</span></span> <span data-ttu-id="dee89-190">Bu kılavuzun sonraki bölümlerde ele çeşitli tasarım yardımcı stratejileri dengelemeler gibi bu yönetmek ve en iyi şekilde nasıl toochoose bölüm anahtarı hello belirli istemci uygulamanızın gereksinimlerine göre tartışın.</span><span class="sxs-lookup"><span data-stu-id="dee89-190">Later sections of this guide discuss various design strategies that help you manage trade-offs such as this one, and discuss how best toochoose your partition key based on hello specific requirements of your client application.</span></span>  

### <a name="capacity-considerations"></a><span data-ttu-id="dee89-191">Kapasite dikkat edilecek noktalar</span><span class="sxs-lookup"><span data-stu-id="dee89-191">Capacity considerations</span></span>
<span data-ttu-id="dee89-192">Merhaba aşağıdaki tabloda bazı hello anahtar değerleri toobe ne zaman, bir tablo hizmeti çözümü tasarlarken farkında içerir:</span><span class="sxs-lookup"><span data-stu-id="dee89-192">hello following table includes some of hello key values toobe aware of when you are designing a Table service solution:</span></span>  

| <span data-ttu-id="dee89-193">Bir Azure depolama hesabının toplam kapasite</span><span class="sxs-lookup"><span data-stu-id="dee89-193">Total capacity of an Azure storage account</span></span> | <span data-ttu-id="dee89-194">500 TB</span><span class="sxs-lookup"><span data-stu-id="dee89-194">500 TB</span></span> |
| --- | --- |
| <span data-ttu-id="dee89-195">Bir Azure depolama hesabı tablo sayısı</span><span class="sxs-lookup"><span data-stu-id="dee89-195">Number of tables in an Azure storage account</span></span> |<span data-ttu-id="dee89-196">Merhaba hello depolama hesabı kapasitesini yalnızca sınırlıdır</span><span class="sxs-lookup"><span data-stu-id="dee89-196">Limited only by hello capacity of hello storage account</span></span> |
| <span data-ttu-id="dee89-197">Bir tabloda bölüm sayısı</span><span class="sxs-lookup"><span data-stu-id="dee89-197">Number of partitions in a table</span></span> |<span data-ttu-id="dee89-198">Merhaba hello depolama hesabı kapasitesini yalnızca sınırlıdır</span><span class="sxs-lookup"><span data-stu-id="dee89-198">Limited only by hello capacity of hello storage account</span></span> |
| <span data-ttu-id="dee89-199">Bir bölümdeki varlıkların sayısı</span><span class="sxs-lookup"><span data-stu-id="dee89-199">Number of entities in a partition</span></span> |<span data-ttu-id="dee89-200">Merhaba hello depolama hesabı kapasitesini yalnızca sınırlıdır</span><span class="sxs-lookup"><span data-stu-id="dee89-200">Limited only by hello capacity of hello storage account</span></span> |
| <span data-ttu-id="dee89-201">Tek bir varlık boyutu</span><span class="sxs-lookup"><span data-stu-id="dee89-201">Size of an individual entity</span></span> |<span data-ttu-id="dee89-202">Yukarı too1 MB ile en fazla 255 özellikleri (Merhaba dahil olmak üzere **PartitionKey**, **RowKey**, ve **zaman damgası**)</span><span class="sxs-lookup"><span data-stu-id="dee89-202">Up too1 MB with a maximum of 255 properties (including hello **PartitionKey**, **RowKey**, and **Timestamp**)</span></span> |
| <span data-ttu-id="dee89-203">Merhaba boyutunu **PartitionKey**</span><span class="sxs-lookup"><span data-stu-id="dee89-203">Size of hello **PartitionKey**</span></span> |<span data-ttu-id="dee89-204">Too1 KB boyutunda bir dize</span><span class="sxs-lookup"><span data-stu-id="dee89-204">A string up too1 KB in size</span></span> |
| <span data-ttu-id="dee89-205">Merhaba boyutunu **RowKey**</span><span class="sxs-lookup"><span data-stu-id="dee89-205">Size of hello **RowKey**</span></span> |<span data-ttu-id="dee89-206">Too1 KB boyutunda bir dize</span><span class="sxs-lookup"><span data-stu-id="dee89-206">A string up too1 KB in size</span></span> |
| <span data-ttu-id="dee89-207">Bir varlık grubu işlem boyutu</span><span class="sxs-lookup"><span data-stu-id="dee89-207">Size of an Entity Group Transaction</span></span> |<span data-ttu-id="dee89-208">Bir işlem en fazla 100 varlık içerebilir ve hello yükü boyutu 4 MB'den az olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-208">A transaction can include at most 100 entities and hello payload must be less than 4 MB in size.</span></span> <span data-ttu-id="dee89-209">Bir EGT yalnızca bir kez bir varlık güncelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-209">An EGT can only update an entity once.</span></span> |

<span data-ttu-id="dee89-210">Daha fazla bilgi için bkz: [anlama hello tablo hizmeti veri modelini](http://msdn.microsoft.com/library/azure/dd179338.aspx).</span><span class="sxs-lookup"><span data-stu-id="dee89-210">For more information, see [Understanding hello Table Service Data Model](http://msdn.microsoft.com/library/azure/dd179338.aspx).</span></span>  

### <a name="cost-considerations"></a><span data-ttu-id="dee89-211">Maliyet dikkat edilecek noktalar</span><span class="sxs-lookup"><span data-stu-id="dee89-211">Cost considerations</span></span>
<span data-ttu-id="dee89-212">Tablo depolama oldukça masrafsız, ancak her iki kapasite kullanımı ve hello miktarını işlemleri için maliyet tahminleri değerlendirmenize hello tablo hizmeti kullanan herhangi bir çözümünün bir parçası olarak içermelidir.</span><span class="sxs-lookup"><span data-stu-id="dee89-212">Table storage is relatively inexpensive, but you should include cost estimates for both capacity usage and hello quantity of transactions as part of your evaluation of any solution that uses hello Table service.</span></span> <span data-ttu-id="dee89-213">Ancak, sipariş tooimprove hello Normalleştirilmemiş veya yinelenen veri depolama Çoğu senaryoda performans ve ölçeklenebilirliği çözümünüzün geçerli bir yaklaşım tootake olur.</span><span class="sxs-lookup"><span data-stu-id="dee89-213">However, in many scenarios storing denormalized or duplicate data in order tooimprove hello performance or scalability of your solution is a valid approach tootake.</span></span> <span data-ttu-id="dee89-214">Fiyatlandırma hakkında daha fazla bilgi için bkz: [Azure Storage fiyatlandırması](https://azure.microsoft.com/pricing/details/storage/).</span><span class="sxs-lookup"><span data-stu-id="dee89-214">For more information about pricing, see [Azure Storage Pricing](https://azure.microsoft.com/pricing/details/storage/).</span></span>  

## <a name="guidelines-for-table-design"></a><span data-ttu-id="dee89-215">Tablo Tasarımı için yönergeler</span><span class="sxs-lookup"><span data-stu-id="dee89-215">Guidelines for table design</span></span>
<span data-ttu-id="dee89-216">Bu listeler hello anahtar yönergeleri tablolarınızı tasarlarken göz önünde bulundurmanız gereken bazı özetlemek ve bu kılavuzda bunları daha ayrıntılı daha sonra da değerlendirecektir.</span><span class="sxs-lookup"><span data-stu-id="dee89-216">These lists summarize some of hello key guidelines you should keep in mind when you are designing your tables, and this guide will address them all in more detail later in.</span></span> <span data-ttu-id="dee89-217">Bu yönergeler, ilişkisel veritabanı tasarımı için genellikle izlersiniz hello yönergeleri çok farklıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-217">These guidelines are very different from hello guidelines you would typically follow for relational database design.</span></span>  

<span data-ttu-id="dee89-218">Tablo hizmeti çözüm toobe tasarlama *okuma* verimli:</span><span class="sxs-lookup"><span data-stu-id="dee89-218">Designing your Table service solution toobe *read* efficient:</span></span>

* <span data-ttu-id="dee89-219">***Okuma ağır uygulamalarda sorgulamaya tasarlayın.***</span><span class="sxs-lookup"><span data-stu-id="dee89-219">***Design for querying in read-heavy applications.***</span></span> <span data-ttu-id="dee89-220">Tabloları tasarlarken, yürütecek hello sorguları hakkında (özellikle hello gecikme önemli olanları) düşündüğünüz varlıklarınızı nasıl güncelleştirecektir hakkında düşünmek önce.</span><span class="sxs-lookup"><span data-stu-id="dee89-220">When you are designing your tables, think about hello queries (especially hello latency sensitive ones) that you will execute before you think about how you will update your entities.</span></span> <span data-ttu-id="dee89-221">Bu genellikle bir verimli ve kullanıcı çözümde sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-221">This typically results in an efficient and performant solution.</span></span>  
* <span data-ttu-id="dee89-222">***PartitionKey ve RowKey sorgularınızda belirtin.***</span><span class="sxs-lookup"><span data-stu-id="dee89-222">***Specify both PartitionKey and RowKey in your queries.***</span></span> <span data-ttu-id="dee89-223">*Noktası sorguları* hello en verimli tablo hizmeti sorguları bunlar gibi.</span><span class="sxs-lookup"><span data-stu-id="dee89-223">*Point queries* such as these are hello most efficient table service queries.</span></span>  
* <span data-ttu-id="dee89-224">***Varlıkları yinelenen kopyalarını depolamayı düşünün.***</span><span class="sxs-lookup"><span data-stu-id="dee89-224">***Consider storing duplicate copies of entities.***</span></span> <span data-ttu-id="dee89-225">Tablo depolama ucuz böylece göz önünde bulundurun birden çok kez (anahtarları farklı) hello aynı varlığa depolama tooenable daha verimli sorgular.</span><span class="sxs-lookup"><span data-stu-id="dee89-225">Table storage is cheap so consider storing hello same entity multiple times (with different keys) tooenable more efficient queries.</span></span>  
* <span data-ttu-id="dee89-226">***Verilerinizi denormalizing göz önünde bulundurun.***</span><span class="sxs-lookup"><span data-stu-id="dee89-226">***Consider denormalizing your data.***</span></span> <span data-ttu-id="dee89-227">Tablo depolama ucuz böylece verilerinizi denormalizing göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="dee89-227">Table storage is cheap so consider denormalizing your data.</span></span> <span data-ttu-id="dee89-228">Örneğin, veri toplama için sorgular yalnızca tek bir varlık tooaccess gerekir böylece Özet varlıklar depolayın.</span><span class="sxs-lookup"><span data-stu-id="dee89-228">For example, store summary entities so that queries for aggregate data only need tooaccess a single entity.</span></span>  
* <span data-ttu-id="dee89-229">***Bileşik anahtar değerlerini kullanın.***</span><span class="sxs-lookup"><span data-stu-id="dee89-229">***Use compound key values.***</span></span> <span data-ttu-id="dee89-230">Merhaba yalnızca sahip olduğunuz anahtarları olan **PartitionKey** ve **RowKey**.</span><span class="sxs-lookup"><span data-stu-id="dee89-230">hello only keys you have are **PartitionKey** and **RowKey**.</span></span> <span data-ttu-id="dee89-231">Örneğin, bileşik anahtar değerlerinden tooenable diğer anahtarlı erişim yolları tooentities kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-231">For example, use compound key values tooenable alternate keyed access paths tooentities.</span></span>  
* <span data-ttu-id="dee89-232">***Sorgu projeksiyon kullanın.***</span><span class="sxs-lookup"><span data-stu-id="dee89-232">***Use query projection.***</span></span> <span data-ttu-id="dee89-233">Merhaba yalnızca gereksinim duyduğunuz hello alanları seçin sorgularını kullanarak hello ağ üzerinden aktarım veri miktarını azaltır.</span><span class="sxs-lookup"><span data-stu-id="dee89-233">You can reduce hello amount of data that you transfer over hello network by using queries that select just hello fields you need.</span></span>  

<span data-ttu-id="dee89-234">Tablo hizmeti çözüm toobe tasarlama *yazma* verimli:</span><span class="sxs-lookup"><span data-stu-id="dee89-234">Designing your Table service solution toobe *write* efficient:</span></span>  

* <span data-ttu-id="dee89-235">***Sık kullanılan bölümleri oluşturmayın.***</span><span class="sxs-lookup"><span data-stu-id="dee89-235">***Do not create hot partitions.***</span></span> <span data-ttu-id="dee89-236">Toospread etkinleştirme anahtarları isteklerinizi zaman herhangi bir noktada birden çok bölüm arasında seçin.</span><span class="sxs-lookup"><span data-stu-id="dee89-236">Choose keys that enable you toospread your requests across multiple partitions at any point of time.</span></span>  
* <span data-ttu-id="dee89-237">***Ani trafiğinin kaçının.***</span><span class="sxs-lookup"><span data-stu-id="dee89-237">***Avoid spikes in traffic.***</span></span> <span data-ttu-id="dee89-238">Merhaba trafik makul bir süre boyunca kesintisiz ve ani trafiğinin kaçının.</span><span class="sxs-lookup"><span data-stu-id="dee89-238">Smooth hello traffic over a reasonable period of time and avoid spikes in traffic.</span></span>
* <span data-ttu-id="dee89-239">***Her varlık türü için ayrı bir tablo mutlaka oluşturmayın.***</span><span class="sxs-lookup"><span data-stu-id="dee89-239">***Don't necessarily create a separate table for each type of entity.***</span></span> <span data-ttu-id="dee89-240">Varlık türlerine atomik işlemleri gerektiğinde, bu birden çok varlık türleri aynı bölüm hello hello depolayabilirsiniz aynı tablo.</span><span class="sxs-lookup"><span data-stu-id="dee89-240">When you require atomic transactions across entity types, you can store these multiple entity types in hello same partition in hello same table.</span></span>
* <span data-ttu-id="dee89-241">***Merhaba en yüksek verimlilik elde gerekir göz önünde bulundurun.***</span><span class="sxs-lookup"><span data-stu-id="dee89-241">***Consider hello maximum throughput you must achieve.***</span></span> <span data-ttu-id="dee89-242">Merhaba tablo hizmeti için hello ölçeklenebilirlik hedefleri unutmayın ve tasarımınızı, tooexceed neden olmak bunları.</span><span class="sxs-lookup"><span data-stu-id="dee89-242">You must be aware of hello scalability targets for hello Table service and ensure that your design will not cause you tooexceed them.</span></span>  

<span data-ttu-id="dee89-243">Bu kılavuzu okumadan gibi tüm bu ilkeler uygulamaya koymanın örnekler görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="dee89-243">As you read this guide, you will see examples that put all of these principles into practice.</span></span>  

## <a name="design-for-querying"></a><span data-ttu-id="dee89-244">Sorgulama için Tasarım</span><span class="sxs-lookup"><span data-stu-id="dee89-244">Design for querying</span></span>
<span data-ttu-id="dee89-245">Tablo hizmeti çözümleri yoğun, yazma yoğun ya da bir karışımını hello iki okuyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-245">Table service solutions may be read intensive, write intensive, or a mix of hello two.</span></span> <span data-ttu-id="dee89-246">Okuma işlemleri verimli bir şekilde, tablo hizmeti toosupport tasarlarken Bu bölümde hello şeyler toobear aklınızda odaklanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-246">This section focuses on hello things toobear in mind when you are designing your Table service toosupport read operations efficiently.</span></span> <span data-ttu-id="dee89-247">Genellikle, desteklediği işlemleri verimli bir şekilde okuma tasarım de yazma işlemleri için verimli olur.</span><span class="sxs-lookup"><span data-stu-id="dee89-247">Typically, a design that supports read operations efficiently is also efficient for write operations.</span></span> <span data-ttu-id="dee89-248">Ancak, alırken ek hususlar toobear göz önünde tasarlama toosupport yazma işlemleri, hello sonraki bölümde açıklanan [veri değişikliği için tasarım](#design-for-data-modification).</span><span class="sxs-lookup"><span data-stu-id="dee89-248">However, there are additional considerations toobear in mind when designing toosupport write operations, discussed in hello next section, [Design for data modification](#design-for-data-modification).</span></span>

<span data-ttu-id="dee89-249">"Tablo hizmeti çözüm tooenable tasarlamak için iyi bir başlangıç noktası, tooread veri verimli bir şekilde tooask sorguları tablo hizmeti hello gereken uygulama gereksinimi tooexecute tooretrieve hello verilerimi uygulamak?" olacaktır</span><span class="sxs-lookup"><span data-stu-id="dee89-249">A good starting point for designing your Table service solution tooenable you tooread data efficiently is tooask "What queries will my application need tooexecute tooretrieve hello data it needs from hello Table service?"</span></span>  

> [!NOTE]
> <span data-ttu-id="dee89-250">Merhaba tablo hizmeti zor ve pahalı toochange olduğundan tooget tasarım doğru Önden hello. önemlidir, daha sonra.</span><span class="sxs-lookup"><span data-stu-id="dee89-250">With hello Table service, it's important tooget hello design correct up front because it's difficult and expensive toochange it later.</span></span> <span data-ttu-id="dee89-251">Örneğin, genellikle olmasından ilişkisel bir veritabanında ekleyerek yalnızca olası tooaddress performans sorunlarını dizinler tooan varolan bir veritabanını: Bu hello tablo hizmeti ile bir seçenek değil.</span><span class="sxs-lookup"><span data-stu-id="dee89-251">For example, in a relational database it's often possible tooaddress performance issues simply by adding indexes tooan existing database: this is not an option with hello Table service.</span></span>  
> 
> 

<span data-ttu-id="dee89-252">Bu bölümde hello anahtar sorunları sorgulamak için tabloları tasarlarken çözülmesi gereken odaklanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-252">This section focuses on hello key issues you must address when you design your tables for querying.</span></span> <span data-ttu-id="dee89-253">Bu bölümde yer alan hello konular şunlardır:</span><span class="sxs-lookup"><span data-stu-id="dee89-253">hello topics covered in this section include:</span></span>

* [<span data-ttu-id="dee89-254">PartitionKey ve RowKey seçiminizi sorgu performansını nasıl etkilediğini</span><span class="sxs-lookup"><span data-stu-id="dee89-254">How your choice of PartitionKey and RowKey impacts query performance</span></span>](#how-your-choice-of-partitionkey-and-rowkey-impacts-query-performance)
* [<span data-ttu-id="dee89-255">Uygun bir PartitionKey seçme</span><span class="sxs-lookup"><span data-stu-id="dee89-255">Choosing an appropriate PartitionKey</span></span>](#choosing-an-appropriate-partitionkey)
* [<span data-ttu-id="dee89-256">Sorguları hello tablo hizmeti için en iyi duruma getirme</span><span class="sxs-lookup"><span data-stu-id="dee89-256">Optimizing queries for hello Table service</span></span>](#optimizing-queries-for-the-table-service)
* [<span data-ttu-id="dee89-257">Merhaba tablo hizmeti veri sıralama</span><span class="sxs-lookup"><span data-stu-id="dee89-257">Sorting data in hello Table service</span></span>](#sorting-data-in-the-table-service)

### <a name="how-your-choice-of-partitionkey-and-rowkey-impacts-query-performance"></a><span data-ttu-id="dee89-258">PartitionKey ve RowKey seçiminizi sorgu performansını nasıl etkilediğini</span><span class="sxs-lookup"><span data-stu-id="dee89-258">How your choice of PartitionKey and RowKey impacts query performance</span></span>
<span data-ttu-id="dee89-259">Merhaba aşağıdaki örneklerde hello tablo hizmeti ile Merhaba yapı izlenerek çalışan varlıkları depolamak varsayılmaktadır (Merhaba örnekler çoğunu atlayın hello **zaman damgası** özelliği daha anlaşılır olması için):</span><span class="sxs-lookup"><span data-stu-id="dee89-259">hello following examples assume hello table service is storing employee entities with hello following structure (most of hello examples omit hello **Timestamp** property for clarity):</span></span>  

| <span data-ttu-id="dee89-260">*Sütun adı*</span><span class="sxs-lookup"><span data-stu-id="dee89-260">*Column name*</span></span> | <span data-ttu-id="dee89-261">*Veri türü*</span><span class="sxs-lookup"><span data-stu-id="dee89-261">*Data type*</span></span> |
| --- | --- |
| <span data-ttu-id="dee89-262">**PartitionKey** (bölüm adı)</span><span class="sxs-lookup"><span data-stu-id="dee89-262">**PartitionKey** (Department Name)</span></span> |<span data-ttu-id="dee89-263">Dize</span><span class="sxs-lookup"><span data-stu-id="dee89-263">String</span></span> |
| <span data-ttu-id="dee89-264">**RowKey** (çalışan kimliği)</span><span class="sxs-lookup"><span data-stu-id="dee89-264">**RowKey** (Employee Id)</span></span> |<span data-ttu-id="dee89-265">Dize</span><span class="sxs-lookup"><span data-stu-id="dee89-265">String</span></span> |
| <span data-ttu-id="dee89-266">**FirstName**</span><span class="sxs-lookup"><span data-stu-id="dee89-266">**FirstName**</span></span> |<span data-ttu-id="dee89-267">Dize</span><span class="sxs-lookup"><span data-stu-id="dee89-267">String</span></span> |
| <span data-ttu-id="dee89-268">**Soyadı**</span><span class="sxs-lookup"><span data-stu-id="dee89-268">**LastName**</span></span> |<span data-ttu-id="dee89-269">Dize</span><span class="sxs-lookup"><span data-stu-id="dee89-269">String</span></span> |
| <span data-ttu-id="dee89-270">**Geçerlilik süresi**</span><span class="sxs-lookup"><span data-stu-id="dee89-270">**Age**</span></span> |<span data-ttu-id="dee89-271">Tamsayı</span><span class="sxs-lookup"><span data-stu-id="dee89-271">Integer</span></span> |
| <span data-ttu-id="dee89-272">**EmailAddress**</span><span class="sxs-lookup"><span data-stu-id="dee89-272">**EmailAddress**</span></span> |<span data-ttu-id="dee89-273">Dize</span><span class="sxs-lookup"><span data-stu-id="dee89-273">String</span></span> |

<span data-ttu-id="dee89-274">Merhaba önceki bölümde [Azure Table hizmetine genel bakış](#overview) sorgu tasarlama üzerinde doğrudan etkisi olan hello anahtar özelliklerini hello Azure tablo hizmeti bazıları açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="dee89-274">hello earlier section [Azure Table service overview](#overview) describes some of hello key features of hello Azure Table service that have a direct influence on designing for query.</span></span> <span data-ttu-id="dee89-275">Bunlar, tablo hizmeti sorguları tasarlama genel yönergeleri izleyerek hello sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-275">These result in hello following general guidelines for designing Table service queries.</span></span> <span data-ttu-id="dee89-276">Merhaba örneklerde kullanılan hello filtresi sözdizimi daha fazla bilgi için hello tablo hizmetinden REST API olduğuna dikkat edin [sorgu varlıklar](http://msdn.microsoft.com/library/azure/dd179421.aspx).</span><span class="sxs-lookup"><span data-stu-id="dee89-276">Note that hello filter syntax used in hello examples below is from hello Table service REST API, for more information see [Query Entities](http://msdn.microsoft.com/library/azure/dd179421.aspx).</span></span>  

* <span data-ttu-id="dee89-277">A ***noktası sorgusu*** hello en verimli arama toouse noktasıdır ve yüksek hacimli aramaları veya en düşük gecikme gerektiren aramalar için kullanılan toobe önerilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-277">A ***Point Query*** is hello most efficient lookup toouse and is recommended toobe used for high-volume lookups or lookups requiring lowest latency.</span></span> <span data-ttu-id="dee89-278">Böyle bir sorguyu hello dizinleri toolocate tek bir varlık çok verimli bir şekilde her ikisi de hello belirterek kullanabilirsiniz **PartitionKey** ve **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-278">Such a query can use hello indexes toolocate an individual entity very efficiently by specifying both hello **PartitionKey** and **RowKey** values.</span></span> <span data-ttu-id="dee89-279">Örneğin: $filter (PartitionKey eq 'Satış') = ve (RowKey eq '2')</span><span class="sxs-lookup"><span data-stu-id="dee89-279">For example: $filter=(PartitionKey eq 'Sales') and (RowKey eq '2')</span></span>  
* <span data-ttu-id="dee89-280">İkinci en iyi olan bir ***aralık sorgusu*** hello kullanan **PartitionKey** ve bir dizi filtreleri **RowKey** tooreturn birden fazla varlık değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-280">Second best is a ***Range Query*** that uses hello **PartitionKey** and filters on a range of **RowKey** values tooreturn more than one entity.</span></span> <span data-ttu-id="dee89-281">Hello **PartitionKey** değerini tanımlayan belirli bir bölüm ve hello **RowKey** değerleri bu bölümdeki hello varlıklar kümesini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="dee89-281">hello **PartitionKey** value identifies a specific partition, and hello **RowKey** values identify a subset of hello entities in that partition.</span></span> <span data-ttu-id="dee89-282">Örneğin: $filter PartitionKey eq 'Satış ve RowKey ge'nın ' ve RowKey lt 'T ='</span><span class="sxs-lookup"><span data-stu-id="dee89-282">For example: $filter=PartitionKey eq 'Sales' and RowKey ge 'S' and RowKey lt 'T'</span></span>  
* <span data-ttu-id="dee89-283">Üçüncü iyi bir ***bölüm tarama*** hello kullanan **PartitionKey** ve başka bir anahtar dışı özelliği ve, filtreleri, birden fazla varlık döndürebilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-283">Third best is a ***Partition Scan*** that uses hello **PartitionKey** and filters on another non-key property and that may return more than one entity.</span></span> <span data-ttu-id="dee89-284">Merhaba **PartitionKey** değer belirli bir bölüm tanımlar ve hello özellik değerlerinin o bölümün hello varlıklarda alt kümeleri için seçin.</span><span class="sxs-lookup"><span data-stu-id="dee89-284">hello **PartitionKey** value identifies a specific partition, and hello property values select for a subset of hello entities in that partition.</span></span> <span data-ttu-id="dee89-285">Örneğin: $filter PartitionKey eq 'Satış' ve LastName eq 'Smith' =</span><span class="sxs-lookup"><span data-stu-id="dee89-285">For example: $filter=PartitionKey eq 'Sales' and LastName eq 'Smith'</span></span>  
* <span data-ttu-id="dee89-286">A ***tablo tarama*** hello içermez **PartitionKey** ve tüm tablonuzu sırayla eşleşen tüm varlıkların oluşturan hello bölümlerinin arar çok verimli değildir.</span><span class="sxs-lookup"><span data-stu-id="dee89-286">A ***Table Scan*** does not include hello **PartitionKey** and is very inefficient because it searches all of hello partitions that make up your table in turn for any matching entities.</span></span> <span data-ttu-id="dee89-287">Olsun veya olmasın, filtre hello kullanır, bağımsız olarak bir tablo taraması gerçekleştirecek **RowKey**.</span><span class="sxs-lookup"><span data-stu-id="dee89-287">It will perform a table scan regardless of whether or not your filter uses hello **RowKey**.</span></span> <span data-ttu-id="dee89-288">Örneğin: $filter LastName eq 'Can' =</span><span class="sxs-lookup"><span data-stu-id="dee89-288">For example: $filter=LastName eq 'Jones'</span></span>  
* <span data-ttu-id="dee89-289">Birden çok varlık döndüren sorgular bunları içinde sıralanmış dönmek **PartitionKey** ve **RowKey** sırası.</span><span class="sxs-lookup"><span data-stu-id="dee89-289">Queries that return multiple entities return them sorted in **PartitionKey** and **RowKey** order.</span></span> <span data-ttu-id="dee89-290">tooavoid yeniden ayırma hello istemci hello varlıklarda seçin bir **RowKey** hello en yaygın sıralama tanımlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-290">tooavoid resorting hello entities in hello client, choose a **RowKey** that defines hello most common sort order.</span></span>  

<span data-ttu-id="dee89-291">Bu kullanarak not bir "**veya**" bir filtre temel alarak toospecify **RowKey** değerleri bir bölüm tarama sonuçları ve aralığı sorgu olarak işlenmez.</span><span class="sxs-lookup"><span data-stu-id="dee89-291">Note that using an "**or**" toospecify a filter based on **RowKey** values results in a partition scan and is not treated as a range query.</span></span> <span data-ttu-id="dee89-292">Bu nedenle, filtreleri gibi kullanan sorguları kaçınmanız gerekir: $filter PartitionKey eq 'Satış' ve RowKey eq '121' = (veya RowKey eq '322')</span><span class="sxs-lookup"><span data-stu-id="dee89-292">Therefore, you should avoid queries that use filters such as: $filter=PartitionKey eq 'Sales' and (RowKey eq '121' or RowKey eq '322')</span></span>  

<span data-ttu-id="dee89-293">Merhaba depolama istemci kitaplığı tooexecute verimli sorguları kullanan istemci-tarafı kod örnekleri için bkz:</span><span class="sxs-lookup"><span data-stu-id="dee89-293">For examples of client-side code that use hello Storage Client Library tooexecute efficient queries, see:</span></span>  

* [<span data-ttu-id="dee89-294">Merhaba depolama istemci kitaplığı kullanılarak noktası sorgusu yürütme</span><span class="sxs-lookup"><span data-stu-id="dee89-294">Executing a point query using hello Storage Client Library</span></span>](#executing-a-point-query-using-the-storage-client-library)
* [<span data-ttu-id="dee89-295">LINQ kullanarak birden çok varlık alma</span><span class="sxs-lookup"><span data-stu-id="dee89-295">Retrieving multiple entities using LINQ</span></span>](#retrieving-multiple-entities-using-linq)
* [<span data-ttu-id="dee89-296">Sunucu tarafı projeksiyonu</span><span class="sxs-lookup"><span data-stu-id="dee89-296">Server-side projection</span></span>](#server-side-projection)  

<span data-ttu-id="dee89-297">Türleri birden çok varlık işleyebilir istemci-tarafı kod örnekleri için hello aynı depolanan tablo, bkz:</span><span class="sxs-lookup"><span data-stu-id="dee89-297">For examples of client-side code that can handle multiple entity types stored in hello same table, see:</span></span>  

* [<span data-ttu-id="dee89-298">Heterojen varlık türleri ile çalışma</span><span class="sxs-lookup"><span data-stu-id="dee89-298">Working with heterogeneous entity types</span></span>](#working-with-heterogeneous-entity-types)  

### <a name="choosing-an-appropriate-partitionkey"></a><span data-ttu-id="dee89-299">Uygun bir PartitionKey seçme</span><span class="sxs-lookup"><span data-stu-id="dee89-299">Choosing an appropriate PartitionKey</span></span>
<span data-ttu-id="dee89-300">Tercih ettiğiniz **PartitionKey** hello gerek tooenables hello EGTs (tooensure tutarlılık) kullanımını hello gereksinim toodistribute karşı varlıklarınızı birden çok bölüm (tooensure ölçeklenebilir bir çözüm) dengelemeniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-300">Your choice of **PartitionKey** should balance hello need tooenables hello use of EGTs (tooensure consistency) against hello requirement toodistribute your entities across multiple partitions (tooensure a scalable solution).</span></span>  

<span data-ttu-id="dee89-301">Bir extreme adresindeki tüm varlıkları tek bir bölüm saklayabilirsiniz, ancak bu hello ölçeklenebilirlik çözümünüzün sınırlayabilir ve hello tablo hizmeti mümkün tooload Dengeleme isteklerini engellemek.</span><span class="sxs-lookup"><span data-stu-id="dee89-301">At one extreme, you could store all your entities in a single partition, but this may limit hello scalability of your solution and would prevent hello table service from being able tooload-balance requests.</span></span> <span data-ttu-id="dee89-302">Merhaba diğer uç bu yüksek oranda ölçeklenebilir olur ve hello tablo tooload bakiye istekleri sağlar, ancak hangi, varlık Grup hareketleri kullanmasını önler bölüm başına tek bir varlık saklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-302">At hello other extreme, you could store one entity per partition, which would be highly scalable and which enables hello table service tooload-balance requests, but which would prevent you from using entity group transactions.</span></span>  

<span data-ttu-id="dee89-303">İdeal **PartitionKey** toouse verimli sorgularını sağlayan biridir ve çözümünüzü yeterli bölümleri tooensure sahip ölçeklenebilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-303">An ideal **PartitionKey** is one that enables you toouse efficient queries and that has sufficient partitions tooensure your solution is scalable.</span></span> <span data-ttu-id="dee89-304">Genellikle, varlıklarınızı varlıklarınızı yeterli bölümler dağıtır uygun bir özellik olduğunu bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-304">Typically, you will find that your entities will have a suitable property that distributes your entities across sufficient partitions.</span></span>

> [!NOTE]
> <span data-ttu-id="dee89-305">Örneğin, kullanıcılar veya çalışanlar ilgili bilgileri depoladığı bir sistemde, iyi PartitionKey UserID olabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-305">For example, in a system that stores information about users or employees, UserID may be a good PartitionKey.</span></span> <span data-ttu-id="dee89-306">Merhaba bölüm anahtarı olarak belirli bir kullanıcı kimliği kullanan birden fazla varlık sahip.</span><span class="sxs-lookup"><span data-stu-id="dee89-306">You may have several entities that use a given UserID as hello partition key.</span></span> <span data-ttu-id="dee89-307">Bir kullanıcı hakkında verilerini depolayan her varlığın tek bir bölümde gruplandırılır ve bu nedenle bu varlıkları hala yüksek oranda ölçeklenebilir devam ederken varlık Grup hareketleri erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-307">Each entity that stores data about a user is grouped into a single partition, and so these entities are accessible via entity group transactions, while still being highly scalable.</span></span>
> 
> 

<span data-ttu-id="dee89-308">Tercih ettiğiniz hususlar vardır **PartitionKey** Ekle, Güncelleştir ve varlıkları silme toohow ilişkilidir: hello bölümüne bakın [veri değişikliği için tasarım](#design-for-data-modification) aşağıda.</span><span class="sxs-lookup"><span data-stu-id="dee89-308">There are additional considerations in your choice of **PartitionKey** that relate toohow you will insert, update, and delete entities: see hello section [Design for data modification](#design-for-data-modification) below.</span></span>  

### <a name="optimizing-queries-for-hello-table-service"></a><span data-ttu-id="dee89-309">Sorguları hello tablo hizmeti için en iyi duruma getirme</span><span class="sxs-lookup"><span data-stu-id="dee89-309">Optimizing queries for hello Table service</span></span>
<span data-ttu-id="dee89-310">Merhaba tablo hizmeti otomatik olarak dizinler hello kullanarak varlıklarınızı **PartitionKey** ve **RowKey** tek bir kümelenmiş dizin değerleri, bu nedenle noktası sorgular olan hello olduğunu en verimli toouse neden hello .</span><span class="sxs-lookup"><span data-stu-id="dee89-310">hello Table service automatically indexes your entities using hello **PartitionKey** and **RowKey** values in a single clustered index, hence hello reason that point queries are hello most efficient toouse.</span></span> <span data-ttu-id="dee89-311">Ancak, hiçbir dizinlerinde farklı hello hello kümelenmiş dizini vardır **PartitionKey** ve **RowKey**.</span><span class="sxs-lookup"><span data-stu-id="dee89-311">However, there are no indexes other than that on hello clustered index on hello **PartitionKey** and **RowKey**.</span></span>

<span data-ttu-id="dee89-312">Çoğu tasarımları gereksinimleri tooenable arama birden çok ölçüte dayalı varlıkların karşılaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-312">Many designs must meet requirements tooenable lookup of entities based on multiple criteria.</span></span> <span data-ttu-id="dee89-313">Örneğin, e-postalar, temel çalışan varlıkları bulma çalışan kimliği ya da son adı.</span><span class="sxs-lookup"><span data-stu-id="dee89-313">For example, locating employee entities based on email, employee id, or last name.</span></span> <span data-ttu-id="dee89-314">Merhaba desenleri hello bölümünde aşağıdaki [tablo Tasarım desenleri](#table-design-patterns) gereksinim bu tür adres ve hello tablo hizmet ikincil dizinler sağlamaz hello olgu çözümüne yolları açıklanmaktadır:</span><span class="sxs-lookup"><span data-stu-id="dee89-314">hello following patterns in hello section [Table Design Patterns](#table-design-patterns) address these types of requirement and describe ways of working around hello fact that hello Table service does not provide secondary indexes:</span></span>  

* <span data-ttu-id="dee89-315">[İçi bölüm ikincil dizin düzeni](#intra-partition-secondary-index-pattern) -her varlık kullanan birden çok kopyalarını farklı depolama **RowKey** değerleri (Merhaba içinde aynı bölüme) tooenable hızlı ve verimli aramaları ve diğer sıralama siparişleri kullanarak farklı **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-315">[Intra-partition secondary index pattern](#intra-partition-secondary-index-pattern) - Store multiple copies of each entity using different **RowKey** values (in hello same partition) tooenable fast and efficient lookups and alternate sort orders by using different **RowKey** values.</span></span>  
* <span data-ttu-id="dee89-316">[İkincil dizin arası bölüm düzeni](#inter-partition-secondary-index-pattern) - farklı RowKey değerlerini ayrı bölümlere veya ayrı tablolarda tooenable hızlı kullanarak her bir varlık birden çok kopyasını depolamak ve verimli aramaları ve diğer sıralama siparişleri farklı kullanarak**RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-316">[Inter-partition secondary index pattern](#inter-partition-secondary-index-pattern) - Store multiple copies of each entity using different RowKey values in separate partitions or in separate tables tooenable fast and efficient lookups and alternate sort orders by using different **RowKey** values.</span></span>  
* <span data-ttu-id="dee89-317">[Dizin varlıkları düzeni](#index-entities-pattern) -varlıklar listesi döndüren dizin varlıkları tooenable verimli aramalar korumak.</span><span class="sxs-lookup"><span data-stu-id="dee89-317">[Index Entities Pattern](#index-entities-pattern) - Maintain index entities tooenable efficient searches that return lists of entities.</span></span>  

### <a name="sorting-data-in-hello-table-service"></a><span data-ttu-id="dee89-318">Merhaba tablo hizmeti veri sıralama</span><span class="sxs-lookup"><span data-stu-id="dee89-318">Sorting data in hello Table service</span></span>
<span data-ttu-id="dee89-319">Merhaba tablo hizmeti döndürür göre artan düzende sıralandı varlıklar **PartitionKey** ve sonra **RowKey**.</span><span class="sxs-lookup"><span data-stu-id="dee89-319">hello Table service returns entities sorted in ascending order based on **PartitionKey** and then by **RowKey**.</span></span> <span data-ttu-id="dee89-320">Bu anahtarları dize değerlerini ve sayısal değerleri doğru sıralamak tooensure olan tooa sabit uzunluk dönüştürmek ve sıfırlarla doldurur.</span><span class="sxs-lookup"><span data-stu-id="dee89-320">These keys are string values and tooensure that numeric values sort correctly, you should convert them tooa fixed length and pad them with zeroes.</span></span> <span data-ttu-id="dee89-321">Örneğin, hello çalışan kimlik değeri hello kullanmanızı **RowKey** bir tamsayı değeri çalışan kimliği dönüştürmeniz gerekir **123** çok**00000123**.</span><span class="sxs-lookup"><span data-stu-id="dee89-321">For example, if hello employee id value you use as hello **RowKey** is an integer value, you should convert employee id **123** too**00000123**.</span></span>  

<span data-ttu-id="dee89-322">Birçok uygulama toouse veri sıralanmış farklı siparişler gereksinimlerin: Örneğin, çalışanlar ada göre ya da tarih katılarak sıralama.</span><span class="sxs-lookup"><span data-stu-id="dee89-322">Many applications have requirements toouse data sorted in different orders: for example, sorting employees by name, or by joining date.</span></span> <span data-ttu-id="dee89-323">Merhaba desenleri hello bölümünde aşağıdaki [tablo Tasarım desenleri](#table-design-patterns) nasıl tooalternate sıralama varlıklar için siparişleri adresi:</span><span class="sxs-lookup"><span data-stu-id="dee89-323">hello following patterns in hello section [Table Design Patterns](#table-design-patterns) address how tooalternate sort orders for your entities:</span></span>  

* <span data-ttu-id="dee89-324">[İçi bölüm ikincil dizin düzeni](#intra-partition-secondary-index-pattern) -farklı RowKey değerleri kullanarak her bir varlık birden çok kopyasını saklamak (Merhaba içinde aynı bölüme) tooenable hızlı ve verimli aramaları ve diğer sıralama siparişleri farklı RowKey değerleri kullanarak.</span><span class="sxs-lookup"><span data-stu-id="dee89-324">[Intra-partition secondary index pattern](#intra-partition-secondary-index-pattern) - Store multiple copies of each entity using different RowKey values (in hello same partition) tooenable fast and efficient lookups and alternate sort orders by using different RowKey values.</span></span>  
* <span data-ttu-id="dee89-325">[İkincil dizin arası bölüm düzeni](#inter-partition-secondary-index-pattern) - farklı RowKey değerlerini ayrı ayrı tablolarda tooenable bölümlerinde hızlı kullanarak her bir varlık birden çok kopyasını depolamak ve verimli aramaları ve diğer sıralama siparişleri farklı RowKey kullanarak değerler.</span><span class="sxs-lookup"><span data-stu-id="dee89-325">[Inter-partition secondary index pattern](#inter-partition-secondary-index-pattern) - Store multiple copies of each entity using different RowKey values in separate partitions in separate tables tooenable fast and efficient lookups and alternate sort orders by using different RowKey values.</span></span>
* <span data-ttu-id="dee89-326">[Günlük tail düzeni](#log-tail-pattern) -alma hello  *n*  eklenen en son tooa bölüm varlıklar kullanarak bir **RowKey** ters tarihi ve saati sipariş sıralar değeri.</span><span class="sxs-lookup"><span data-stu-id="dee89-326">[Log tail pattern](#log-tail-pattern) - Retrieve hello *n* entities most recently added tooa partition by using a **RowKey** value that sorts in reverse date and time order.</span></span>  

## <a name="design-for-data-modification"></a><span data-ttu-id="dee89-327">Veri değişikliği için Tasarım</span><span class="sxs-lookup"><span data-stu-id="dee89-327">Design for data modification</span></span>
<span data-ttu-id="dee89-328">Bu bölümde ekler, güncelleştirmeleri, en iyi duruma getirme için hello tasarım konuları odaklanır ve siler.</span><span class="sxs-lookup"><span data-stu-id="dee89-328">This section focuses on hello design considerations for optimizing inserts, updates, and deletes.</span></span> <span data-ttu-id="dee89-329">Bazı durumlarda (Merhaba teknikleri yönetmek için tasarım hello rağmen tasarımlarına ilişkisel veritabanları için yaptığınız gibi veri değişikliği için en iyi duruma getirme tasarımlarını karşı sorgulamak için en iyi duruma getirme tasarımları arasındaki tooevaluate hello dengelemeyi gerekir dengelemeler ilişkisel bir veritabanında farklı).</span><span class="sxs-lookup"><span data-stu-id="dee89-329">In some cases, you will need tooevaluate hello trade-off between designs that optimize for querying against designs that optimize for data modification just as you do in designs for relational databases (although hello techniques for managing hello design trade-offs are different in a relational database).</span></span> <span data-ttu-id="dee89-330">Merhaba bölüm [tablo Tasarım desenleri](#table-design-patterns) hello tablo hizmeti için bazı ayrıntılı tasarım desenleri açıklar ve bazı bu dengelemeler vurgular.</span><span class="sxs-lookup"><span data-stu-id="dee89-330">hello section [Table Design Patterns](#table-design-patterns) describes some detailed design patterns for hello Table service and highlights some these trade-offs.</span></span> <span data-ttu-id="dee89-331">Uygulamada, varlıkları iyi değiştirmek için varlıkları sorgulamak için en iyi duruma getirilmiş çoğu tasarımları da iş bulacaksınız.</span><span class="sxs-lookup"><span data-stu-id="dee89-331">In practice, you will find that many designs optimized for querying entities also work well for modifying entities.</span></span>  

### <a name="optimizing-hello-performance-of-insert-update-and-delete-operations"></a><span data-ttu-id="dee89-332">Hello performansı en iyi duruma getirme, ekleme, güncelleştirme ve silme işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-332">Optimizing hello performance of insert, update, and delete operations</span></span>
<span data-ttu-id="dee89-333">tooupdate veya bir varlığı silmek, mümkün tooidentify olmalıdır hello kullanarak **PartitionKey** ve **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-333">tooupdate or delete an entity, you must be able tooidentify it by using hello **PartitionKey** and **RowKey** values.</span></span> <span data-ttu-id="dee89-334">Bu açısından, tercih ettiğiniz **PartitionKey** ve **RowKey** varlıklar değiştirme izlemeniz gereken için benzer ölçütleri tooyour seçim toosupport tooidentify varlıklar olarak istediğinden, sorguları noktası mümkün olduğunca verimli şekilde.</span><span class="sxs-lookup"><span data-stu-id="dee89-334">In this respect, your choice of **PartitionKey** and **RowKey** for modifying entities should follow similar criteria tooyour choice toosupport point queries because you want tooidentify entities as efficiently as possible.</span></span> <span data-ttu-id="dee89-335">Toouse bir verimsiz bölüm veya tablo taraması toolocate sipariş toodiscover hello varlık istemediğiniz **PartitionKey** ve **RowKey** değerleri tooupdate gerekir veya silin.</span><span class="sxs-lookup"><span data-stu-id="dee89-335">You do not want toouse an inefficient partition or table scan toolocate an entity in order toodiscover hello **PartitionKey** and **RowKey** values you need tooupdate or delete it.</span></span>  

<span data-ttu-id="dee89-336">Merhaba desenleri hello bölümünde aşağıdaki [tablo Tasarım desenleri](#table-design-patterns) yönelik en iyi duruma getirme hello performans veya ekleme, güncelleştirme ve silme işlemleri:</span><span class="sxs-lookup"><span data-stu-id="dee89-336">hello following patterns in hello section [Table Design Patterns](#table-design-patterns) address optimizing hello performance or your insert, update, and delete operations:</span></span>  

* <span data-ttu-id="dee89-337">[Yüksek hacimli silme düzeni](#high-volume-delete-pattern) -tüm hello varlıklar eşzamanlı silme işlemi için kendi ayrı tabloda depolayarak varlıklar yüksek hacimli etkinleştir hello silinmesini; hello tablo silerek hello varlıkları silin.</span><span class="sxs-lookup"><span data-stu-id="dee89-337">[High volume delete pattern](#high-volume-delete-pattern) - Enable hello deletion of a high volume of entities by storing all hello entities for simultaneous deletion in their own separate table; you delete hello entities by deleting hello table.</span></span>  
* <span data-ttu-id="dee89-338">[Veri serisi deseni](#data-series-pattern) -deposu tam veri serisi yaptığınız isteklerini tek bir varlık toominimize hello sayısı.</span><span class="sxs-lookup"><span data-stu-id="dee89-338">[Data series pattern](#data-series-pattern) - Store complete data series in a single entity toominimize hello number of requests you make.</span></span>  
* <span data-ttu-id="dee89-339">[Geniş varlıklar düzeni](#wide-entities-pattern) -birden çok fiziksel varlıkların toostore mantıksal varlık ile birden çok 252 özellik kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-339">[Wide entities pattern](#wide-entities-pattern) - Use multiple physical entities toostore logical entities with more than 252 properties.</span></span>  
* <span data-ttu-id="dee89-340">[Büyük varlıklar düzeni](#large-entities-pattern) -kullanım blob depolama toostore büyük özellik değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-340">[Large entities pattern](#large-entities-pattern) - Use blob storage toostore large property values.</span></span>  

### <a name="ensuring-consistency-in-your-stored-entities"></a><span data-ttu-id="dee89-341">Saklı varlıklarınızı tutarlılık sağlama</span><span class="sxs-lookup"><span data-stu-id="dee89-341">Ensuring consistency in your stored entities</span></span>
<span data-ttu-id="dee89-342">veri değişiklikleri en iyi duruma getirme için tercih ettiğiniz anahtarların etkilediğini diğer anahtar faktörü hello nasıl atomik işlemleri kullanarak tooensure tutarlılık.</span><span class="sxs-lookup"><span data-stu-id="dee89-342">hello other key factor that influences your choice of keys for optimizing data modifications is how tooensure consistency by using atomic transactions.</span></span> <span data-ttu-id="dee89-343">Yalnızca bir EGT toooperate hello depolanan varlıklar üzerinde kullanabileceğiniz aynı bölüm.</span><span class="sxs-lookup"><span data-stu-id="dee89-343">You can only use an EGT toooperate on entities stored in hello same partition.</span></span>  

<span data-ttu-id="dee89-344">Merhaba desenleri hello bölümünde aşağıdaki [tablo Tasarım desenleri](#table-design-patterns) tutarlılık yönetme adresi:</span><span class="sxs-lookup"><span data-stu-id="dee89-344">hello following patterns in hello section [Table Design Patterns](#table-design-patterns) address managing consistency:</span></span>  

* <span data-ttu-id="dee89-345">[İçi bölüm ikincil dizin düzeni](#intra-partition-secondary-index-pattern) -her varlık kullanan birden çok kopyalarını farklı depolama **RowKey** değerleri (Merhaba içinde aynı bölüme) tooenable hızlı ve verimli aramaları ve diğer sıralama siparişleri kullanarak farklı **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-345">[Intra-partition secondary index pattern](#intra-partition-secondary-index-pattern) - Store multiple copies of each entity using different **RowKey** values (in hello same partition) tooenable fast and efficient lookups and alternate sort orders by using different **RowKey** values.</span></span>  
* <span data-ttu-id="dee89-346">[İkincil dizin arası bölüm düzeni](#inter-partition-secondary-index-pattern) - farklı RowKey değerlerini ayrı bölümlere veya ayrı tablolarda tooenable hızlı kullanarak her bir varlık birden çok kopyasını depolamak ve verimli aramaları ve diğer sıralama siparişleri farklı kullanarak**RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-346">[Inter-partition secondary index pattern](#inter-partition-secondary-index-pattern) - Store multiple copies of each entity using different RowKey values in separate partitions or in separate tables tooenable fast and efficient lookups and alternate sort orders by using different **RowKey** values.</span></span>  
* <span data-ttu-id="dee89-347">[Sonuçta tutarlı işlemleri düzeni](#eventually-consistent-transactions-pattern) -etkinleştirmek sonuçta tutarlı davranış bölüm sınırları veya depolama sistemi sınırları boyunca Azure sıraları kullanarak.</span><span class="sxs-lookup"><span data-stu-id="dee89-347">[Eventually consistent transactions pattern](#eventually-consistent-transactions-pattern) - Enable eventually consistent behavior across partition boundaries or storage system boundaries by using Azure queues.</span></span>
* <span data-ttu-id="dee89-348">[Dizin varlıkları düzeni](#index-entities-pattern) -varlıklar listesi döndüren dizin varlıkları tooenable verimli aramalar korumak.</span><span class="sxs-lookup"><span data-stu-id="dee89-348">[Index Entities Pattern](#index-entities-pattern) - Maintain index entities tooenable efficient searches that return lists of entities.</span></span>  
* <span data-ttu-id="dee89-349">[Denormalization deseni](#denormalization-pattern) -birleştirme ilgili verileri birlikte tek bir varlık tooenable tüm hello tek nokta sorguyla verileri tooretrieve.</span><span class="sxs-lookup"><span data-stu-id="dee89-349">[Denormalization pattern](#denormalization-pattern) - Combine related data together in a single entity tooenable you tooretrieve all hello data you need with a single point query.</span></span>  
* <span data-ttu-id="dee89-350">[Veri serisi deseni](#data-series-pattern) -deposu tam veri serisi yaptığınız isteklerini tek bir varlık toominimize hello sayısı.</span><span class="sxs-lookup"><span data-stu-id="dee89-350">[Data series pattern](#data-series-pattern) - Store complete data series in a single entity toominimize hello number of requests you make.</span></span>  

<span data-ttu-id="dee89-351">Varlık Grup işlemler hakkında daha fazla bilgi için hello bölümüne bakın [varlık Grup hareketleri](#entity-group-transactions).</span><span class="sxs-lookup"><span data-stu-id="dee89-351">For information about entity group transactions, see hello section [Entity Group Transactions](#entity-group-transactions).</span></span>  

### <a name="ensuring-your-design-for-efficient-modifications-facilitates-efficient-queries"></a><span data-ttu-id="dee89-352">Tasarımınız etkili değişiklikler için sağlama verimli sorguları kolaylaştırır</span><span class="sxs-lookup"><span data-stu-id="dee89-352">Ensuring your design for efficient modifications facilitates efficient queries</span></span>
<span data-ttu-id="dee89-353">Bu belirli senaryonuza hello durumdur kullanıp kullanmadığını çoğu durumda, her zaman etkili değişiklikler, ancak sorgulama verimli sonuçlar için bir tasarım belirlemelidir.</span><span class="sxs-lookup"><span data-stu-id="dee89-353">In many cases, a design for efficient querying results in efficient modifications, but you should always evaluate whether this is hello case for your specific scenario.</span></span> <span data-ttu-id="dee89-354">Merhaba desenleri hello bölümünde bazıları [tablo Tasarım desenleri](#table-design-patterns) açıkça sorgulama ve varlıkları değiştirme arasındaki dengelemeler değerlendirin ve hesap hello sayıya işlemi her tür her zaman uygulamanız.</span><span class="sxs-lookup"><span data-stu-id="dee89-354">Some of hello patterns in hello section [Table Design Patterns](#table-design-patterns) explicitly evaluate trade-offs between querying and modifying entities, and you should always take into account hello number of each type of operation.</span></span>  

<span data-ttu-id="dee89-355">Merhaba desenleri hello bölümünde aşağıdaki [tablo Tasarım desenleri](#table-design-patterns) adres için verimli sorguları tasarlama ve verimli veri değişikliği için tasarlama arasındaki dengelemeler:</span><span class="sxs-lookup"><span data-stu-id="dee89-355">hello following patterns in hello section [Table Design Patterns](#table-design-patterns) address trade-offs between designing for efficient queries and designing for efficient data modification:</span></span>  

* <span data-ttu-id="dee89-356">[Bileşik anahtar düzeni](#compound-key-pattern) -kullanım bileşik **RowKey** değerleri tooenable istemci toolookup tek nokta sorgu verilerle ilgili.</span><span class="sxs-lookup"><span data-stu-id="dee89-356">[Compound key pattern](#compound-key-pattern) - Use compound **RowKey** values tooenable a client toolookup related data with a single point query.</span></span>  
* <span data-ttu-id="dee89-357">[Günlük tail düzeni](#log-tail-pattern) -alma hello  *n*  eklenen en son tooa bölüm varlıklar kullanarak bir **RowKey** ters tarihi ve saati sipariş sıralar değeri.</span><span class="sxs-lookup"><span data-stu-id="dee89-357">[Log tail pattern](#log-tail-pattern) - Retrieve hello *n* entities most recently added tooa partition by using a **RowKey** value that sorts in reverse date and time order.</span></span>  

## <a name="encrypting-table-data"></a><span data-ttu-id="dee89-358">Tablo verileri şifreleme</span><span class="sxs-lookup"><span data-stu-id="dee89-358">Encrypting Table Data</span></span>
<span data-ttu-id="dee89-359">dize varlığı Özellikleri Ekle için .NET Azure Storage istemci kitaplığı destekler şifrelenmesi hello ve değiştirme işlemlerini.</span><span class="sxs-lookup"><span data-stu-id="dee89-359">hello .NET Azure Storage Client Library supports encryption of string entity properties for insert and replace operations.</span></span> <span data-ttu-id="dee89-360">şifrelenmiş hello dizeleri hello hizmette ikili özellikleri olarak depolanır ve şifre çözme sonra geri toostrings dönüştürülür.</span><span class="sxs-lookup"><span data-stu-id="dee89-360">hello encrypted strings are stored on hello service as binary properties, and they are converted back toostrings after decryption.</span></span>    

<span data-ttu-id="dee89-361">Tablolar için ayrıca toohello şifreleme ilkesi, kullanıcıların şifrelenmiş hello özellikleri toobe belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-361">For tables, in addition toohello encryption policy, users must specify hello properties toobe encrypted.</span></span> <span data-ttu-id="dee89-362">Bu, ya da bir [EncryptProperty] özniteliği (için TableEntity türetilen POCO varlıklar) veya bir şifreleme çözümleyici isteği seçenekleri belirterek yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-362">This can be done by either specifying an [EncryptProperty] attribute (for POCO entities that derive from TableEntity) or an encryption resolver in request options.</span></span> <span data-ttu-id="dee89-363">Bir şifreleme çözümleyici bölüm anahtarı, satır anahtarını ve özellik adını alır ve bu özellik şifrelenmesi gerekip gerekmediğini belirten bir Boole değeri döndüren bir temsilci ' dir.</span><span class="sxs-lookup"><span data-stu-id="dee89-363">An encryption resolver is a delegate that takes a partition key, row key, and property name and returns a Boolean that indicates whether that property should be encrypted.</span></span> <span data-ttu-id="dee89-364">Bir özellik toohello kablo yazılırken şifrelenmesi gerekip gerekmediğini şifreleme sırasında bu bilgileri toodecide hello istemci kitaplığını kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-364">During encryption, hello client library will use this information toodecide whether a property should be encrypted while writing toohello wire.</span></span> <span data-ttu-id="dee89-365">Merhaba temsilci özellikler nasıl şifrelenir geçici mantığı hello olasılığı için de sağlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-365">hello delegate also provides for hello possibility of logic around how properties are encrypted.</span></span> <span data-ttu-id="dee89-366">(Örneğin, X ise ardından özelliği A şifrelemek; Aksi takdirde özellikleri A ve b şifreleme) Bu BT Not gerekli tooprovide okurken veya varlıklar sorgulama bu bilgilerdir.</span><span class="sxs-lookup"><span data-stu-id="dee89-366">(For example, if X, then encrypt property A; otherwise encrypt properties A and B.) Note that it is not necessary tooprovide this information while reading or querying entities.</span></span>

<span data-ttu-id="dee89-367">Bu birleştirme şu anda desteklenmeyen unutmayın.</span><span class="sxs-lookup"><span data-stu-id="dee89-367">Note that merge is not currently supported.</span></span> <span data-ttu-id="dee89-368">Bir alt özellikler kümesini daha önce farklı bir anahtar kullanılarak şifrelenmiş olabilecek olduğundan, sadece hello yeni özellikleri birleştirme ve hello meta verilerini güncelleştirme veri kaybına neden olur.</span><span class="sxs-lookup"><span data-stu-id="dee89-368">Since a subset of properties may have been encrypted previously using a different key, simply merging hello new properties and updating hello metadata will result in data loss.</span></span> <span data-ttu-id="dee89-369">Ya da birleştirme ek hizmet yapma tooread hello önceden var olan varlık hello hizmetinden çağıran veya yeni bir anahtar özellik başına kullanarak, her ikisi de performansı artırmak için uygun olmayan gerektirir.</span><span class="sxs-lookup"><span data-stu-id="dee89-369">Merging either requires making extra service calls tooread hello pre-existing entity from hello service, or using a new key per property, both of which are not suitable for performance reasons.</span></span>     

<span data-ttu-id="dee89-370">Tablo verisi şifreleme hakkında daha fazla bilgi için bkz: [istemci tarafı şifreleme ve Microsoft Azure depolama için Azure anahtar kasası](../storage/common/storage-client-side-encryption.md).</span><span class="sxs-lookup"><span data-stu-id="dee89-370">For information about encrypting table data, see [Client-Side Encryption and Azure Key Vault for Microsoft Azure Storage](../storage/common/storage-client-side-encryption.md).</span></span>  

## <a name="modelling-relationships"></a><span data-ttu-id="dee89-371">İlişkileri modelleme</span><span class="sxs-lookup"><span data-stu-id="dee89-371">Modelling relationships</span></span>
<span data-ttu-id="dee89-372">Etki alanı model oluşturmaya, karmaşık sistemlerinin hello tasarımındaki önemli bir adımdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-372">Building domain models is a key step in hello design of complex systems.</span></span> <span data-ttu-id="dee89-373">Genellikle, işlem tooidentify varlıklar modelleme hello kullanın ve bir şekilde toounderstand olarak aralarında hello ilişkiler iş etki alanı hello ve sisteminizin hello tasarımını bildirin.</span><span class="sxs-lookup"><span data-stu-id="dee89-373">Typically, you use hello modelling process tooidentify entities and hello relationships between them as a way toounderstand hello business domain and inform hello design of your system.</span></span> <span data-ttu-id="dee89-374">Bu bölüm, nasıl, etki alanı modelleri toodesigns hello tablo hizmeti için bulunan hello ortak ilişki türlerinden bazıları çevirebilir üzerinde odaklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="dee89-374">This section focuses on how you can translate some of hello common relationship types found in domain models toodesigns for hello Table service.</span></span> <span data-ttu-id="dee89-375">bir mantıksal veri modeli tooa fiziksel dayalı NoSQL veri modeli eşleme Hello işlemi ilişkisel veritabanı tasarlarken kullanılan çok farklı olur.</span><span class="sxs-lookup"><span data-stu-id="dee89-375">hello process of mapping from a logical data-model tooa physical NoSQL based data-model is very different from that used when designing a relational database.</span></span> <span data-ttu-id="dee89-376">İlişkisel veritabanları tasarımı, genellikle artıklık – ve özetleri nasıl hello veritabanı nasıl çalıştığını uygulama hello bildirim temelli bir sorgulama yeteneği en aza indirmek için en iyi duruma getirilmiş veri normalleştirme işlemi varsayar.</span><span class="sxs-lookup"><span data-stu-id="dee89-376">Relational databases design typically assumes a data normalization process optimized for minimizing redundancy – and a declarative querying capability that abstracts how hello implementation of how hello database works.</span></span>  

### <a name="one-to-many-relationships"></a><span data-ttu-id="dee89-377">Bir-çok ilişkileri</span><span class="sxs-lookup"><span data-stu-id="dee89-377">One-to-many relationships</span></span>
<span data-ttu-id="dee89-378">İş etki alanı nesneler arasındaki bir-çok ilişkileri ortaya çok sık: Örneğin, bir bölümü çok sayıda çalışan vardır.</span><span class="sxs-lookup"><span data-stu-id="dee89-378">One-to-many relationships between business domain objects occur very frequently: for example, one department has many employees.</span></span> <span data-ttu-id="dee89-379">Merhaba tablo hizmetiyle her Artıları ve eksileri ilgili toohello belirli senaryoları olabilir birkaç yolu tooimplement-çok ilişkileri vardır.</span><span class="sxs-lookup"><span data-stu-id="dee89-379">There are several ways tooimplement one-to-many relationships in hello Table service each with pros and cons that may be relevant toohello particular scenario.</span></span>  

<span data-ttu-id="dee89-380">On binlerce Departmanlar ve her departman çok sayıda çalışan ve her çalışan belirli bir bölüm ile ilişkili olarak sahip olduğu çalışan varlıkları içeren büyük bir çok Ulusal kuruluşa ait Hello örneği göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="dee89-380">Consider hello example of a large multi-national corporation with tens of thousands of departments and employee entities where every department has many employees and each employee as associated with one specific department.</span></span> <span data-ttu-id="dee89-381">Bir yaklaşım toostore ayrı departmanı ve bunlar gibi çalışan varlıkları ise:</span><span class="sxs-lookup"><span data-stu-id="dee89-381">One approach is toostore separate department and employee entities such as these:</span></span>  

![][1]

<span data-ttu-id="dee89-382">Bu örnek üzerinde hello dayalı hello türleri arasında örtük bir bir-çok ilişkisi gösterir **PartitionKey** değeri.</span><span class="sxs-lookup"><span data-stu-id="dee89-382">This example shows an implicit one-to-many relationship between hello types based on hello **PartitionKey** value.</span></span> <span data-ttu-id="dee89-383">Her bölüm çok sayıda çalışan olabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-383">Each department can have many employees.</span></span>  

<span data-ttu-id="dee89-384">İlgili çalışan varlıklarını aynı bölüme hello ve bu örnek ayrıca bir departman varlık gösterir.</span><span class="sxs-lookup"><span data-stu-id="dee89-384">This example also shows a department entity and its related employee entities in hello same partition.</span></span> <span data-ttu-id="dee89-385">Toouse farklı bölümleri, tablolar veya hatta depolama hesapları hello farklı varlık türleri için tercih edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-385">You could choose toouse different partitions, tables, or even storage accounts for hello different entity types.</span></span>  

<span data-ttu-id="dee89-386">Alternatif bir yaklaşım hello örnek aşağıdaki gösterildiği gibi verileri ve mağaza yalnızca çalışan varlıklarınızı Normalleştirilmemiş Departman verileri ile toodenormalize olur.</span><span class="sxs-lookup"><span data-stu-id="dee89-386">An alternative approach is toodenormalize your data and store only employee entities with denormalized department data as shown in hello following example.</span></span> <span data-ttu-id="dee89-387">İçin bir bölüm Yöneticisi'ni bir gereksinim toobe mümkün toochange hello ayrıntılarını varsa bu belirli bir senaryoda, bu Normalleştirilmemiş bir yaklaşım hello en iyi olmayabilir toodo bu hello departmanındaki her çalışan tooupdate gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-387">In this particular scenario, this denormalized approach may not be hello best if you have a requirement toobe able toochange hello details of a department manager because toodo this you need tooupdate every employee in hello department.</span></span>  

![][2]

<span data-ttu-id="dee89-388">Merhaba daha fazla bilgi için bkz: [Denormalization düzeni](#denormalization-pattern) bu kılavuzda daha sonra.</span><span class="sxs-lookup"><span data-stu-id="dee89-388">For more information, see hello [Denormalization pattern](#denormalization-pattern) later in this guide.</span></span>  

<span data-ttu-id="dee89-389">Merhaba aşağıdaki tabloda hello Artıları ve eksileri her çalışan ve bir-çok ilişkisi departmanı varlıkları depolamak için yukarıda özetlenen hello yaklaşımlardan biri özetlenmektedir.</span><span class="sxs-lookup"><span data-stu-id="dee89-389">hello following table summarizes hello pros and cons of each of hello approaches outlined above for storing employee and department entities that have a one-to-many relationship.</span></span> <span data-ttu-id="dee89-390">Çeşitli işlemleri tooperform ne sıklıkta yapılacağı düşünmelisiniz: kabul edilebilir toohave pahalı bir işlem bu işlemi yalnızca seyrek durumda içeren bir tasarıma olabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-390">You should also consider how often you expect tooperform various operations: it may be acceptable toohave a design that includes an expensive operation if that operation only happens infrequently.</span></span>  

<table>
<tr>
<th><span data-ttu-id="dee89-391">Yaklaşım</span><span class="sxs-lookup"><span data-stu-id="dee89-391">Approach</span></span></th>
<th><span data-ttu-id="dee89-392">Uzmanları</span><span class="sxs-lookup"><span data-stu-id="dee89-392">Pros</span></span></th>
<th><span data-ttu-id="dee89-393">Simgeler</span><span class="sxs-lookup"><span data-stu-id="dee89-393">Cons</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="dee89-394">Ayrı bir varlık türleri, aynı bölüm, aynı tablosu</span><span class="sxs-lookup"><span data-stu-id="dee89-394">Separate entity types, same partition, same table</span></span></td>
<td>
<ul>
<li><span data-ttu-id="dee89-395">Tek bir işlemle bir departman varlık güncelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-395">You can update a department entity with a single operation.</span></span></li>
<li><span data-ttu-id="dee89-396">Bir bölüm varlık gereksinim toomodify varsa EGT toomaintain tutarlılık kullanabilirsiniz olduğunda, güncelleştirme/ekleme/silme çalışan varlık.</span><span class="sxs-lookup"><span data-stu-id="dee89-396">You can use an EGT toomaintain consistency if you have a requirement toomodify a department entity whenever you update/insert/delete an employee entity.</span></span> <span data-ttu-id="dee89-397">Örneğin, bir departman çalışan sayısı her bölüm için sahipseniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-397">For example if you maintain a departmental employee count for each department.</span></span></li>
</ul>
</td>
<td>
<ul>
<li><span data-ttu-id="dee89-398">Bazı istemci etkinlikler için bir çalışan ve departman varlık tooretrieve gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-398">You may need tooretrieve both an employee and a department entity for some client activities.</span></span></li>
<li><span data-ttu-id="dee89-399">Depolama işlemleri durum hello aynı bölüm.</span><span class="sxs-lookup"><span data-stu-id="dee89-399">Storage operations happen in hello same partition.</span></span> <span data-ttu-id="dee89-400">Yüksek işlem birimlerinin, bu bir etkin nokta neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-400">At high transaction volumes, this may result in a hotspot.</span></span></li>
<li><span data-ttu-id="dee89-401">Bir EGT kullanarak bir çalışan tooa yeni bir bölüm taşınamıyor.</span><span class="sxs-lookup"><span data-stu-id="dee89-401">You cannot move an employee tooa new department using an EGT.</span></span></li>
</ul>
</td>
</tr>
<tr>
<td><span data-ttu-id="dee89-402">Ayrı bir varlık türleri, farklı bölümleri veya tablolar veya depolama hesapları</span><span class="sxs-lookup"><span data-stu-id="dee89-402">Separate entity types, different partitions or tables or storage accounts</span></span></td>
<td>
<ul>
<li><span data-ttu-id="dee89-403">Tek bir işlemle bir departman varlık veya çalışan varlık güncelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-403">You can update a department entity or employee entity with a single operation.</span></span></li>
<li><span data-ttu-id="dee89-404">Yüksek işlem birimlerinin, bu yardımcı olabilecek daha fazla bölüm üzerinden yayılan hello yük.</span><span class="sxs-lookup"><span data-stu-id="dee89-404">At high transaction volumes, this may help spread hello load across more partitions.</span></span></li>
</ul>
</td>
<td>
<ul>
<li><span data-ttu-id="dee89-405">Bazı istemci etkinlikler için bir çalışan ve departman varlık tooretrieve gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-405">You may need tooretrieve both an employee and a department entity for some client activities.</span></span></li>
<li><span data-ttu-id="dee89-406">EGTs toomaintain tutarlılık kullanamazsınız olduğunda, güncelleştirme/ekleme/silme bir çalışan ve güncelleştirme bir bölüm.</span><span class="sxs-lookup"><span data-stu-id="dee89-406">You cannot use EGTs toomaintain consistency when you update/insert/delete an employee and update a department.</span></span> <span data-ttu-id="dee89-407">Örneğin, bir çalışan sayısı departmanı varlıktaki güncelleştiriliyor.</span><span class="sxs-lookup"><span data-stu-id="dee89-407">For example, updating an employee count in a department entity.</span></span></li>
<li><span data-ttu-id="dee89-408">Bir EGT kullanarak bir çalışan tooa yeni bir bölüm taşınamıyor.</span><span class="sxs-lookup"><span data-stu-id="dee89-408">You cannot move an employee tooa new department using an EGT.</span></span></li>
</ul>
</td>
</tr>
<tr>
<td><span data-ttu-id="dee89-409">Tek varlık türüne denormalize</span><span class="sxs-lookup"><span data-stu-id="dee89-409">Denormalize into single entity type</span></span></td>
<td>
<ul>
<li><span data-ttu-id="dee89-410">Tek bir istekle gerek duyduğunuz tüm hello bilgi alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-410">You can retrieve all hello information you need with a single request.</span></span></li>
</ul>
</td>
<td>
<ul>
<li><span data-ttu-id="dee89-411">(Bu, tooupdate bir departmandaki tüm hello çalışanlar gerekir) tooupdate bölüm bilgileri gerekiyorsa pahalı toomaintain tutarlılık olabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-411">It may be expensive toomaintain consistency if you need tooupdate department information (this would require you tooupdate all hello employees in a department).</span></span></li>
</ul>
</td>
</tr>
</table>

<span data-ttu-id="dee89-412">Nasıl Bu seçenekler ve hello uzmanları hangisinin arasında seçim ve dezavantajlarını en önemli belirli uygulama senaryolarınızı bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-412">How you choose between these options, and which of hello pros and cons are most significant, depends on your specific application scenarios.</span></span> <span data-ttu-id="dee89-413">Örneğin, ne sıklıkta, departman varlıklar değiştirmeyin; Tüm çalışan sorguları hello ek departman bilgi gerekir; ne kadar yakın toohello ölçeklenebilirlik sınırları, bölüm veya depolama hesabınız misiniz?</span><span class="sxs-lookup"><span data-stu-id="dee89-413">For example, how often do you modify department entities; do all your employee queries need hello additional departmental information; how close are you toohello scalability limits on your partitions or your storage account?</span></span>  

### <a name="one-to-one-relationships"></a><span data-ttu-id="dee89-414">Bire bir ilişkiler</span><span class="sxs-lookup"><span data-stu-id="dee89-414">One-to-one relationships</span></span>
<span data-ttu-id="dee89-415">Etki alanı modelleri varlıklar arasındaki birebir ilişkileri içerebilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-415">Domain models may include one-to-one relationships between entities.</span></span> <span data-ttu-id="dee89-416">Tooimplement hello tablo hizmeti bire bir ilişkide gerekiyorsa, nasıl toolink hello iki ilgili varlık tooretrieve her ikisinin de gerektiğinde da seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-416">If you need tooimplement a one-to-one relationship in hello Table service, you must also choose how toolink hello two related entities when you need tooretrieve them both.</span></span> <span data-ttu-id="dee89-417">Bu bağlantıyı hello biçiminde bir bağlantı depolayarak örtük, bir kural hello anahtar değerleri göre veya açık olabilir **PartitionKey** ve **RowKey** her varlık tooits değerleri ilgili varlık.</span><span class="sxs-lookup"><span data-stu-id="dee89-417">This link can be either implicit, based on a convention in hello key values, or explicit by storing a link in hello form of **PartitionKey** and **RowKey** values in each entity tooits related entity.</span></span> <span data-ttu-id="dee89-418">Varlıkları hello depolamanız gerekir, bir tartışma için ilgili olarak Merhaba aynı bölüm, hello bölümüne bakın [-çok ilişkileri](#one-to-many-relationships).</span><span class="sxs-lookup"><span data-stu-id="dee89-418">For a discussion of whether you should store hello related entities in hello same partition, see hello section [One-to-many relationships](#one-to-many-relationships).</span></span>  

<span data-ttu-id="dee89-419">Olduğunu da hello tablo hizmetinde tooimplement bire bir ilişkiler açabilecek uygulama konuları göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="dee89-419">Note that there are also implementation considerations that might lead you tooimplement one-to-one relationships in hello Table service:</span></span>  

* <span data-ttu-id="dee89-420">Büyük varlıklar işleme (daha fazla bilgi için bkz: [büyük varlıklar düzeni](#large-entities-pattern)).</span><span class="sxs-lookup"><span data-stu-id="dee89-420">Handling large entities (for more information, see [Large Entities Pattern](#large-entities-pattern)).</span></span>  
* <span data-ttu-id="dee89-421">Erişim denetimleri uygulama (daha fazla bilgi için bkz: [paylaşılan erişim imzaları ile erişimi denetleme](#controlling-access-with-shared-access-signatures)).</span><span class="sxs-lookup"><span data-stu-id="dee89-421">Implementing access controls (for more information, see [Controlling access with Shared Access Signatures](#controlling-access-with-shared-access-signatures)).</span></span>  

### <a name="join-in-hello-client"></a><span data-ttu-id="dee89-422">Merhaba istemcisinde katılma</span><span class="sxs-lookup"><span data-stu-id="dee89-422">Join in hello client</span></span>
<span data-ttu-id="dee89-423">Merhaba tablo hizmeti yolları toomodel ilişkileri olsa, hello tablo hizmeti kullanmak için hello iki prime nedenler ölçeklenebilirlik ve performans olduğunu unuttunuz değil.</span><span class="sxs-lookup"><span data-stu-id="dee89-423">Although there are ways toomodel relationships in hello Table service, you should not forget that hello two prime reasons for using hello Table service are scalability and performance.</span></span> <span data-ttu-id="dee89-424">Merhaba performans ve ölçeklenebilirlik çözümünüzün tehlikeye birçok ilişki modelleme bulursanız, gerekli toobuild ise, tüm veri ilişkileri Tablo Tasarımı içine hello kendiniz istemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-424">If you find you are modelling many relationships that compromise hello performance and scalability of your solution, you should ask yourself if it is necessary toobuild all hello data relationships into your table design.</span></span> <span data-ttu-id="dee89-425">Mümkün toosimplify hello tasarımı ve istemci uygulamanızı gerekli tüm birleştirmeler gerçekleştirme izin verirseniz hello ölçeklenebilirlik ve çözümünüzün performansını artırmak.</span><span class="sxs-lookup"><span data-stu-id="dee89-425">You may be able toosimplify hello design and improve hello scalability and performance of your solution if you let your client application perform any necessary joins.</span></span>  

<span data-ttu-id="dee89-426">Örneğin, çok sık değişmeyen veriler içeren küçük tablolar sahip yaparsanız, ardından bu verileri bir kez ve hello istemcide önbelleğe.</span><span class="sxs-lookup"><span data-stu-id="dee89-426">For example, if you have small tables that contain data that does not change very often, then you can retrieve this data once and cache it on hello client.</span></span> <span data-ttu-id="dee89-427">Bu yinelenen gidiş-dönüş önleyebilirsiniz tooretrieve hello aynı veri.</span><span class="sxs-lookup"><span data-stu-id="dee89-427">This can avoid repeated roundtrips tooretrieve hello same data.</span></span> <span data-ttu-id="dee89-428">Bu kılavuzda inceledik hello örneklerde hello küçük bir kuruluşta Departmanlar büyük olasılıkla toobe küçük ve seyrek veri ara olarak istemci uygulamasını bir kez indirebilirsiniz verileri ve önbellek için iyi bir aday yapmadan değişiklik kümesidir.</span><span class="sxs-lookup"><span data-stu-id="dee89-428">In hello examples we have looked at in this guide, hello set of departments in a small organization is likely toobe small and change infrequently making it a good candidate for data that client application can download once and cache as look up data.</span></span>  

### <a name="inheritance-relationships"></a><span data-ttu-id="dee89-429">Devralma ilişkisi</span><span class="sxs-lookup"><span data-stu-id="dee89-429">Inheritance relationships</span></span>
<span data-ttu-id="dee89-430">İstemci uygulamanız bir devralma ilişkisi toorepresent iş varlıkları parçasını sınıflar kümesini kullanıyorsa, bu varlıkları hello tablo hizmeti kolayca devam edebilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-430">If your client application uses a set of classes that form part of an inheritance relationship toorepresent business entities, you can easily persist those entities in hello Table service.</span></span> <span data-ttu-id="dee89-431">Örneğin, istemci uygulamanızda tanımlanmış sınıfları kümesi aşağıdaki hello olabilir nerede **kişi** bir Özet sınıf.</span><span class="sxs-lookup"><span data-stu-id="dee89-431">For example, you might have hello following set of classes defined in your client application where **Person** is an abstract class.</span></span>

![][3]

<span data-ttu-id="dee89-432">Merhaba iki somut sınıflarda hello görünüm bu gibi varlıkları kullanarak tek bir kişi tablosunu kullanarak tablo hizmeti örneklerini devam edebilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-432">You can persist instances of hello two concrete classes in hello Table service using a single Person table using entities in that look like this:</span></span>  

![][4]

<span data-ttu-id="dee89-433">Aynı tablo istemci kodda hello birden çok varlık türleri ile çalışma hakkında daha fazla bilgi için hello bölümüne bakın [heterojen varlık türleriyle çalışma](#working-with-heterogeneous-entity-types) bu kılavuzda daha sonra.</span><span class="sxs-lookup"><span data-stu-id="dee89-433">For more information about working with multiple entity types in hello same table in client code, see hello section [Working with heterogeneous entity types](#working-with-heterogeneous-entity-types) later in this guide.</span></span> <span data-ttu-id="dee89-434">Bu, nasıl toorecognize hello varlık türü istemci kod örnekleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-434">This provides examples of how toorecognize hello entity type in client code.</span></span>  

## <a name="table-design-patterns"></a><span data-ttu-id="dee89-435">Tablo Tasarım desenleri</span><span class="sxs-lookup"><span data-stu-id="dee89-435">Table Design Patterns</span></span>
<span data-ttu-id="dee89-436">Önceki bölümlerde nasıl toooptimize tablonuz tasarım sorgularını kullanarak her iki varlık verileri için ve ekleme, güncelleştirme ve varlık verilerini silme hakkında ayrıntılı bazı tartışmalara gördünüz.</span><span class="sxs-lookup"><span data-stu-id="dee89-436">In previous sections, you have seen some detailed discussions about how toooptimize your table design for both retrieving entity data using queries and for inserting, updating, and deleting entity data.</span></span> <span data-ttu-id="dee89-437">Bu bölümde tablo hizmeti çözümleri ile kullanım için uygun bazı desenleri açıklar.</span><span class="sxs-lookup"><span data-stu-id="dee89-437">This section describes some patterns appropriate for use with Table service solutions.</span></span> <span data-ttu-id="dee89-438">Ayrıca, nasıl, pratikte hello sorunlar ve bu kılavuzda daha önce oluşturulan dengelemeler bazıları karşılayabilirsiniz görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="dee89-438">In addition, you will see how you can practically address some of hello issues and trade-offs raised previously in this guide.</span></span> <span data-ttu-id="dee89-439">Merhaba Aşağıdaki diyagramda hello farklı desenleri arasındaki hello ilişkileri özetlenmektedir:</span><span class="sxs-lookup"><span data-stu-id="dee89-439">hello following diagram summarizes hello relationships between hello different patterns:</span></span>  

![][5]

<span data-ttu-id="dee89-440">Yukarıda Hello desenini eşleme desenleri (mavi) ve bu kılavuzda belgelenen koruma desenleri (turuncu) arasında bazı ilişkiler vurgular.</span><span class="sxs-lookup"><span data-stu-id="dee89-440">hello pattern map above highlights some relationships between patterns (blue) and anti-patterns (orange) that are documented in this guide.</span></span> <span data-ttu-id="dee89-441">Elbette dikkate değer olan diğer birçok desenleri de vardır.</span><span class="sxs-lookup"><span data-stu-id="dee89-441">There are of course many other patterns that are worth considering.</span></span> <span data-ttu-id="dee89-442">Örneğin, tablo hizmeti yönelik temel senaryolar hello toouse hello biri [gerçekleştirilip görünüm düzeni](https://msdn.microsoft.com/library/azure/dn589782.aspx) hello gelen [komutu sorgu sorumluluk ayrımı (CQRS)](https://msdn.microsoft.com/library/azure/jj554200.aspx) düzeni.</span><span class="sxs-lookup"><span data-stu-id="dee89-442">For example, one of hello key scenarios for Table Service is toouse hello [Materialized View Pattern](https://msdn.microsoft.com/library/azure/dn589782.aspx) from hello [Command Query Responsibility Segregation (CQRS)](https://msdn.microsoft.com/library/azure/jj554200.aspx) pattern.</span></span>  

### <a name="intra-partition-secondary-index-pattern"></a><span data-ttu-id="dee89-443">Bölüm içi ikincil dizin düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-443">Intra-partition secondary index pattern</span></span>
<span data-ttu-id="dee89-444">Her varlık kullanan birden çok kopyalarını farklı depolama **RowKey** değerleri (Merhaba içinde aynı bölüme) tooenable hızlı ve verimli aramaları ve diğer sıralama siparişleri farklı kullanarak **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-444">Store multiple copies of each entity using different **RowKey** values (in hello same partition) tooenable fast and efficient lookups and alternate sort orders by using different **RowKey** values.</span></span> <span data-ttu-id="dee89-445">Güncelleştirmeleri kopyaları arasında saklanması tutarlı EGT'ın kullanma.</span><span class="sxs-lookup"><span data-stu-id="dee89-445">Updates between copies can be kept consistent using EGT's.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-446">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-446">Context and problem</span></span>
<span data-ttu-id="dee89-447">Merhaba tablo hizmeti otomatik olarak dizinler hello kullanarak varlıkları **PartitionKey** ve **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-447">hello Table service automatically indexes entities using hello **PartitionKey** and **RowKey** values.</span></span> <span data-ttu-id="dee89-448">Bu bir istemci uygulama tooretrieve verimli bir şekilde bu değerleri kullanarak bir varlık sağlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-448">This enables a client application tooretrieve an entity efficiently using these values.</span></span> <span data-ttu-id="dee89-449">Örneğin, aşağıda gösterilen hello tablo yapısı kullanarak bir istemci uygulaması noktası sorgu tooretrieve tek çalışan varlık hello bölüm adı ve hello çalışan kimliği kullanarak kullanabilirsiniz (Merhaba **PartitionKey** ve  **RowKey** değerleri).</span><span class="sxs-lookup"><span data-stu-id="dee89-449">For example, using hello table structure shown below, a client application can use a point query tooretrieve an individual employee entity by using hello department name and hello employee id (hello **PartitionKey** and **RowKey** values).</span></span> <span data-ttu-id="dee89-450">Bir istemci, her bölüm içinde çalışan kimliğine göre sıralanmış varlıklar de alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-450">A client can also retrieve entities sorted by employee id within each department.</span></span>

![][6]

<span data-ttu-id="dee89-451">Ayrıca toobe mümkün toofind e-posta adresi gibi başka bir özellik hello değere göre bir çalışan varlık istiyorsanız, daha az verimli bir bölüm tarama toofind bir eşleşme kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-451">If you also want toobe able toofind an employee entity based on hello value of another property, such as email address, you must use a less efficient partition scan toofind a match.</span></span> <span data-ttu-id="dee89-452">Bu durum, ikincil dizinler Hello tablo hizmet sağlamaz çünkü.</span><span class="sxs-lookup"><span data-stu-id="dee89-452">This is because hello table service does not provide secondary indexes.</span></span> <span data-ttu-id="dee89-453">Ayrıca, yoktur hiçbir seçeneği toorequest çalışanların farklı bir düzende sıralanmış bir listesini **RowKey** sırası.</span><span class="sxs-lookup"><span data-stu-id="dee89-453">In addition, there is no option toorequest a list of employees sorted in a different order than **RowKey** order.</span></span>  

#### <a name="solution"></a><span data-ttu-id="dee89-454">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-454">Solution</span></span>
<span data-ttu-id="dee89-455">toowork ikincil dizinler hello eksikliği geçici her varlık farklı bir kullanarak her bir kopya ile birden çok kopyasını saklayabilir **RowKey** değeri.</span><span class="sxs-lookup"><span data-stu-id="dee89-455">toowork around hello lack of secondary indexes, you can store multiple copies of each entity with each copy using a different **RowKey** value.</span></span> <span data-ttu-id="dee89-456">Aşağıda gösterilen hello yapıları içeren bir varlık depolarsanız, e-posta adresi veya çalışan kimliği temel alarak çalışan varlıkları verimli bir şekilde alabilir. Merhaba hello için önek değerleri **RowKey**, "empid_" ve "email_" etkinleştirmek, tooquery tek bir çalışan veya bir dizi çalışanlar için bir aralığı e-posta adresleri ya da çalışan kimlikleri kullanarak.</span><span class="sxs-lookup"><span data-stu-id="dee89-456">If you store an entity with hello structures shown below, you can efficiently retrieve employee entities based on email address or employee id. hello prefix values for hello **RowKey**, "empid_" and "email_" enable you tooquery for a single employee or a range of employees by using a range of email addresses or employee ids.</span></span>  

![][7]

<span data-ttu-id="dee89-457">(bir çalışan kimliği ve bir e-posta adresiyle bakan bakan) iki filtre ölçütünü aşağıdaki hello her ikisi de noktası sorguları belirtin:</span><span class="sxs-lookup"><span data-stu-id="dee89-457">hello following two filter criteria (one looking up by employee id and one looking up by email address) both specify point queries:</span></span>  

* <span data-ttu-id="dee89-458">$filter (PartitionKey eq 'Satış') = ve (RowKey eq 'empid_000223')</span><span class="sxs-lookup"><span data-stu-id="dee89-458">$filter=(PartitionKey eq 'Sales') and (RowKey eq 'empid_000223')</span></span>  
* <span data-ttu-id="dee89-459">$filter (PartitionKey eq 'Satış') = ve (RowKey eq 'email_jonesj@contoso.com')</span><span class="sxs-lookup"><span data-stu-id="dee89-459">$filter=(PartitionKey eq 'Sales') and (RowKey eq 'email_jonesj@contoso.com')</span></span>  

<span data-ttu-id="dee89-460">Çalışan varlıklar için bir aralığı sorgu, çalışan kimliği düzende sıralanmış bir aralık veya hello hello uygun öneke sahip varlıklar için sorgulayarak e-posta adresi düzende sıralanmış bir aralığı belirtebilirsiniz **RowKey**.</span><span class="sxs-lookup"><span data-stu-id="dee89-460">If you query for a range of employee entities, you can specify a range sorted in employee id order, or a range sorted in email address order by querying for entities with hello appropriate prefix in hello **RowKey**.</span></span>  

* <span data-ttu-id="dee89-461">Tüm hello çalışanlarla hello satış departmanında hello aralığı 000100 too000199 çalışan kimliğinde toofind kullanın: $filter (PartitionKey eq 'Satış') = ve (RowKey ge 'empid_000100') ve (RowKey le 'empid_000199')</span><span class="sxs-lookup"><span data-stu-id="dee89-461">toofind all hello employees in hello Sales department with an employee id in hello range 000100 too000199 use: $filter=(PartitionKey eq 'Sales') and (RowKey ge 'empid_000100') and (RowKey le 'empid_000199')</span></span>  
* <span data-ttu-id="dee89-462">Tüm hello hello satış departmanı çalışanları hello ile başlayarak, bir e-posta adresi ile toofind harf 'bir' kullanımı: $filter (PartitionKey eq 'Satış') = ve (RowKey ge 'email_a') ve (RowKey lt 'email_b')</span><span class="sxs-lookup"><span data-stu-id="dee89-462">toofind all hello employees in hello Sales department with an email address starting with hello letter 'a' use: $filter=(PartitionKey eq 'Sales') and (RowKey ge 'email_a') and (RowKey lt 'email_b')</span></span>  
  
  <span data-ttu-id="dee89-463">Merhaba Yukarıdaki örneklerde kullanılan hello filtresi sözdizimi daha fazla bilgi için hello tablo hizmetinden REST API olduğuna dikkat edin [sorgu varlıklar](http://msdn.microsoft.com/library/azure/dd179421.aspx).</span><span class="sxs-lookup"><span data-stu-id="dee89-463">Note that hello filter syntax used in hello examples above is from hello Table service REST API, for more information see [Query Entities](http://msdn.microsoft.com/library/azure/dd179421.aspx).</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-464">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-464">Issues and considerations</span></span>
<span data-ttu-id="dee89-465">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-465">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-466">Tablo depolama görece ucuz toouse olduğundan, yinelenen verileri depolama yükünü maliyet hello başlıca sorunlardan olmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-466">Table storage is relatively cheap toouse so hello cost overhead of storing duplicate data should not be a major concern.</span></span> <span data-ttu-id="dee89-467">Ancak, her zaman beklenen depolama gereksinimlerinize göre tasarımınızı hello maliyetini değerlendirmek ve yalnızca istemci uygulamanızı yürütecek yinelenen varlıklar toosupport hello sorguları ekleme.</span><span class="sxs-lookup"><span data-stu-id="dee89-467">However, you should always evaluate hello cost of your design based on your anticipated storage requirements and only add duplicate entities toosupport hello queries your client application will execute.</span></span>  
* <span data-ttu-id="dee89-468">Merhaba ikincil dizin varlıkları aynı hello özgün varlıklar bölüm hello depolandığından, tek bir bölüm için hello ölçeklenebilirlik hedefleri aşmamasını sağlayın.</span><span class="sxs-lookup"><span data-stu-id="dee89-468">Because hello secondary index entities are stored in hello same partition as hello original entities, you should ensure that you do not exceed hello scalability targets for an individual partition.</span></span>  
* <span data-ttu-id="dee89-469">EGTs tooupdate hello iki kopyasını hello varlık otomatik olarak kullanarak, yinelenen varlıklarınızı birbiriyle tutarlı tutabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-469">You can keep your duplicate entities consistent with each other by using EGTs tooupdate hello two copies of hello entity atomically.</span></span> <span data-ttu-id="dee89-470">Bu varlıkta tüm kopyalarını hello saklamalısınız anlamına gelir. aynı bölüm.</span><span class="sxs-lookup"><span data-stu-id="dee89-470">This implies that you should store all copies of an entity in hello same partition.</span></span> <span data-ttu-id="dee89-471">Daha fazla bilgi için hello bölümüne bakın [kullanarak varlık Grup hareketleri](#entity-group-transactions).</span><span class="sxs-lookup"><span data-stu-id="dee89-471">For more information, see hello section [Using Entity Group Transactions](#entity-group-transactions).</span></span>  
* <span data-ttu-id="dee89-472">Merhaba hello için kullanılan değer **RowKey** her bir varlık için benzersiz olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-472">hello value used for hello **RowKey** must be unique for each entity.</span></span> <span data-ttu-id="dee89-473">Bileşik anahtar değerlerinden kullanmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="dee89-473">Consider using compound key values.</span></span>  
* <span data-ttu-id="dee89-474">Merhaba sayısal değerleri doldurma **RowKey** (örneğin, hello çalışan kimliği 000223), sıralama ve filtreleme göre üst ve alt sınırlarını etkinleştirir düzeltin.</span><span class="sxs-lookup"><span data-stu-id="dee89-474">Padding numeric values in hello **RowKey** (for example, hello employee id 000223), enables correct sorting and filtering based on upper and lower bounds.</span></span>  
* <span data-ttu-id="dee89-475">Mutlaka varlığınız tüm hello özelliklerini tooduplicate gerekmez.</span><span class="sxs-lookup"><span data-stu-id="dee89-475">You do not necessarily need tooduplicate all hello properties of your entity.</span></span> <span data-ttu-id="dee89-476">Örneğin, hello arama hello varlıkları hello kullanarak e-posta sorgularını hello adres **RowKey** hiçbir zaman, hello çalışanın yaşı gerekir, bu varlıkları yapı izlenerek hello olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-476">For example, if hello queries that lookup hello entities using hello email address in hello **RowKey** never need hello employee's age, these entities could have hello following structure:</span></span>

![][8]

* <span data-ttu-id="dee89-477">Bu genellikle daha iyi toostore yinelenen verileri ve tek bir sorgu ile gereksinim duyduğunuz tüm hello veri alabilir, gerekli bir varlık ve başka bir toolookup hello veri toouse bir sorgu toolocate emin olun.</span><span class="sxs-lookup"><span data-stu-id="dee89-477">It is typically better toostore duplicate data and ensure that you can retrieve all hello data you need with a single query, than toouse one query toolocate an entity and another toolookup hello required data.</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-478">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-478">When toouse this pattern</span></span>
<span data-ttu-id="dee89-479">İstemci uygulamanızın istemci farklı sıralamalar tooretrieve varlıklarda gerektiğinde farklı anahtarlar, çeşitli kullanarak tooretrieve varlıkları gerektiğinde ve benzersiz değerler çeşitli kullanarak her bir varlık tanımlayabilirsiniz bu deseni kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-479">Use this pattern when your client application needs tooretrieve entities using a variety of different keys, when your client needs tooretrieve entities in different sort orders, and where you can identify each entity using a variety of unique values.</span></span> <span data-ttu-id="dee89-480">Bununla birlikte, varlık aramalarını hello farklı kullanarak gerçekleştirirken hello bölüm ölçeklenebilirlik sınırları aşmadığından emin olmalıdır **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-480">However, you should be sure that you do not exceed hello partition scalability limits when you are performing entity lookups using hello different **RowKey** values.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-481">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-481">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-482">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-482">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-483">İkincil dizin arası bölüm düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-483">Inter-partition secondary index pattern</span></span>](#inter-partition-secondary-index-pattern)
* [<span data-ttu-id="dee89-484">Bileşik anahtar düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-484">Compound key pattern</span></span>](#compound-key-pattern)
* [<span data-ttu-id="dee89-485">Varlık Grup işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-485">Entity Group Transactions</span></span>](#entity-group-transactions)
* [<span data-ttu-id="dee89-486">Heterojen varlık türleri ile çalışma</span><span class="sxs-lookup"><span data-stu-id="dee89-486">Working with heterogeneous entity types</span></span>](#working-with-heterogeneous-entity-types)

### <a name="inter-partition-secondary-index-pattern"></a><span data-ttu-id="dee89-487">İkincil dizin arası bölüm düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-487">Inter-partition secondary index pattern</span></span>
<span data-ttu-id="dee89-488">Her varlık kullanan birden çok kopyalarını farklı depolama **RowKey** ayrı bölümlere veya ayrı tablolarda tooenable hızlı ve verimli aramaları ve farklı kullanarak diğer sıralamalar değerleri **RowKey**değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-488">Store multiple copies of each entity using different **RowKey** values in separate partitions or in separate tables tooenable fast and efficient lookups and alternate sort orders by using different **RowKey** values.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-489">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-489">Context and problem</span></span>
<span data-ttu-id="dee89-490">Merhaba tablo hizmeti otomatik olarak dizinler hello kullanarak varlıkları **PartitionKey** ve **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-490">hello Table service automatically indexes entities using hello **PartitionKey** and **RowKey** values.</span></span> <span data-ttu-id="dee89-491">Bu bir istemci uygulama tooretrieve verimli bir şekilde bu değerleri kullanarak bir varlık sağlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-491">This enables a client application tooretrieve an entity efficiently using these values.</span></span> <span data-ttu-id="dee89-492">Örneğin, aşağıda gösterilen hello tablo yapısı kullanarak bir istemci uygulaması noktası sorgu tooretrieve tek çalışan varlık hello bölüm adı ve hello çalışan kimliği kullanarak kullanabilirsiniz (Merhaba **PartitionKey** ve  **RowKey** değerleri).</span><span class="sxs-lookup"><span data-stu-id="dee89-492">For example, using hello table structure shown below, a client application can use a point query tooretrieve an individual employee entity by using hello department name and hello employee id (hello **PartitionKey** and **RowKey** values).</span></span> <span data-ttu-id="dee89-493">Bir istemci, her bölüm içinde çalışan kimliğine göre sıralanmış varlıklar de alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-493">A client can also retrieve entities sorted by employee id within each department.</span></span>  

![][9]

<span data-ttu-id="dee89-494">Ayrıca toobe mümkün toofind e-posta adresi gibi başka bir özellik hello değere göre bir çalışan varlık istiyorsanız, daha az verimli bir bölüm tarama toofind bir eşleşme kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-494">If you also want toobe able toofind an employee entity based on hello value of another property, such as email address, you must use a less efficient partition scan toofind a match.</span></span> <span data-ttu-id="dee89-495">Bu durum, ikincil dizinler Hello tablo hizmet sağlamaz çünkü.</span><span class="sxs-lookup"><span data-stu-id="dee89-495">This is because hello table service does not provide secondary indexes.</span></span> <span data-ttu-id="dee89-496">Ayrıca, yoktur hiçbir seçeneği toorequest çalışanların farklı bir düzende sıralanmış bir listesini **RowKey** sırası.</span><span class="sxs-lookup"><span data-stu-id="dee89-496">In addition, there is no option toorequest a list of employees sorted in a different order than **RowKey** order.</span></span>  

<span data-ttu-id="dee89-497">Bu varlıklar karşı işlemleri çok yüksek hacimli bekleme ve toominimize hello hello tablo hizmeti istemci azaltma riskini istiyor.</span><span class="sxs-lookup"><span data-stu-id="dee89-497">You are anticipating a very high volume of transactions against these entities and want toominimize hello risk of hello Table service throttling your client.</span></span>  

#### <a name="solution"></a><span data-ttu-id="dee89-498">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-498">Solution</span></span>
<span data-ttu-id="dee89-499">toowork ikincil dizinler hello eksikliği geçici birden çok kopyası her kopyalama kullanarak her bir varlık farklı saklayabilir **PartitionKey** ve **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-499">toowork around hello lack of secondary indexes, you can store multiple copies of each entity with each copy using different **PartitionKey** and **RowKey** values.</span></span> <span data-ttu-id="dee89-500">Aşağıda gösterilen hello yapıları içeren bir varlık depolarsanız, e-posta adresi veya çalışan kimliği temel alarak çalışan varlıkları verimli bir şekilde alabilir. Merhaba hello için önek değerleri **PartitionKey**, "empid_" ve "email_" etkinleştirmek, bir sorgu için dizin tooidentify istediğiniz toouse.</span><span class="sxs-lookup"><span data-stu-id="dee89-500">If you store an entity with hello structures shown below, you can efficiently retrieve employee entities based on email address or employee id. hello prefix values for hello **PartitionKey**, "empid_" and "email_" enable you tooidentify which index you want toouse for a query.</span></span>  

![][10]

<span data-ttu-id="dee89-501">(bir çalışan kimliği ve bir e-posta adresiyle bakan bakan) iki filtre ölçütünü aşağıdaki hello her ikisi de noktası sorguları belirtin:</span><span class="sxs-lookup"><span data-stu-id="dee89-501">hello following two filter criteria (one looking up by employee id and one looking up by email address) both specify point queries:</span></span>  

* <span data-ttu-id="dee89-502">$filter (PartitionKey eq ' empid_Sales') = ve (RowKey eq '000223')</span><span class="sxs-lookup"><span data-stu-id="dee89-502">$filter=(PartitionKey eq 'empid_Sales') and (RowKey eq '000223')</span></span>
* <span data-ttu-id="dee89-503">$filter (PartitionKey eq ' email_Sales') = ve (RowKey eq 'jonesj@contoso.com')</span><span class="sxs-lookup"><span data-stu-id="dee89-503">$filter=(PartitionKey eq 'email_Sales') and (RowKey eq 'jonesj@contoso.com')</span></span>  

<span data-ttu-id="dee89-504">Çalışan varlıklar için bir aralığı sorgu, çalışan kimliği düzende sıralanmış bir aralık veya hello hello uygun öneke sahip varlıklar için sorgulayarak e-posta adresi düzende sıralanmış bir aralığı belirtebilirsiniz **RowKey**.</span><span class="sxs-lookup"><span data-stu-id="dee89-504">If you query for a range of employee entities, you can specify a range sorted in employee id order, or a range sorted in email address order by querying for entities with hello appropriate prefix in hello **RowKey**.</span></span>  

* <span data-ttu-id="dee89-505">tüm çalışanlara hello toofind hello satış departmanı hello aralıktaki çalışan kimliğine **000100** çok**000199** çalışan kimliği sipariş kullanımda sıralanır: $filter (PartitionKey eq ' empid_Sales') = ve (RowKey ge ' 000100') ve (RowKey le '000199')</span><span class="sxs-lookup"><span data-stu-id="dee89-505">toofind all hello employees in hello Sales department with an employee id in hello range **000100** too**000199** sorted in employee id order use: $filter=(PartitionKey eq 'empid_Sales') and (RowKey ge '000100') and (RowKey le '000199')</span></span>  
* <span data-ttu-id="dee89-506">toofind hello satış departmanı içinde sıralanmış 'a' ile başlayan e-posta adresi olan tüm hello çalışanların adresi sipariş kullanım e-posta: $filter (PartitionKey eq ' email_Sales') = ve (RowKey ge 'bir') ve (RowKey lt 'b')</span><span class="sxs-lookup"><span data-stu-id="dee89-506">toofind all hello employees in hello Sales department with an email address that starts with 'a' sorted in email address order use: $filter=(PartitionKey eq 'email_Sales') and (RowKey ge 'a') and (RowKey lt 'b')</span></span>  

<span data-ttu-id="dee89-507">Merhaba Yukarıdaki örneklerde kullanılan hello filtresi sözdizimi daha fazla bilgi için hello tablo hizmetinden REST API olduğuna dikkat edin [sorgu varlıklar](http://msdn.microsoft.com/library/azure/dd179421.aspx).</span><span class="sxs-lookup"><span data-stu-id="dee89-507">Note that hello filter syntax used in hello examples above is from hello Table service REST API, for more information see [Query Entities](http://msdn.microsoft.com/library/azure/dd179421.aspx).</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-508">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-508">Issues and considerations</span></span>
<span data-ttu-id="dee89-509">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-509">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-510">Hello kullanarak, yinelenen varlıklarınızı birbiriyle sonunda tutarlı tutabilirsiniz [sonuçta tutarlı işlemleri düzeni](#eventually-consistent-transactions-pattern) toomaintain hello birincil ve ikincil dizin varlıklar.</span><span class="sxs-lookup"><span data-stu-id="dee89-510">You can keep your duplicate entities eventually consistent with each other by using hello [Eventually consistent transactions pattern](#eventually-consistent-transactions-pattern) toomaintain hello primary and secondary index entities.</span></span>  
* <span data-ttu-id="dee89-511">Tablo depolama görece ucuz toouse olduğundan, yinelenen verileri depolama yükünü maliyet hello başlıca sorunlardan olmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-511">Table storage is relatively cheap toouse so hello cost overhead of storing duplicate data should not be a major concern.</span></span> <span data-ttu-id="dee89-512">Ancak, her zaman beklenen depolama gereksinimlerinize göre tasarımınızı hello maliyetini değerlendirmek ve yalnızca istemci uygulamanızı yürütecek yinelenen varlıklar toosupport hello sorguları ekleme.</span><span class="sxs-lookup"><span data-stu-id="dee89-512">However, you should always evaluate hello cost of your design based on your anticipated storage requirements and only add duplicate entities toosupport hello queries your client application will execute.</span></span>  
* <span data-ttu-id="dee89-513">Merhaba hello için kullanılan değer **RowKey** her bir varlık için benzersiz olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-513">hello value used for hello **RowKey** must be unique for each entity.</span></span> <span data-ttu-id="dee89-514">Bileşik anahtar değerlerinden kullanmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="dee89-514">Consider using compound key values.</span></span>  
* <span data-ttu-id="dee89-515">Merhaba sayısal değerleri doldurma **RowKey** (örneğin, hello çalışan kimliği 000223), sıralama ve filtreleme göre üst ve alt sınırlarını etkinleştirir düzeltin.</span><span class="sxs-lookup"><span data-stu-id="dee89-515">Padding numeric values in hello **RowKey** (for example, hello employee id 000223), enables correct sorting and filtering based on upper and lower bounds.</span></span>  
* <span data-ttu-id="dee89-516">Mutlaka varlığınız tüm hello özelliklerini tooduplicate gerekmez.</span><span class="sxs-lookup"><span data-stu-id="dee89-516">You do not necessarily need tooduplicate all hello properties of your entity.</span></span> <span data-ttu-id="dee89-517">Örneğin, hello arama hello varlıkları hello kullanarak e-posta sorgularını hello adres **RowKey** hiçbir zaman, hello çalışanın yaşı gerekir, bu varlıkları yapı izlenerek hello olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-517">For example, if hello queries that lookup hello entities using hello email address in hello **RowKey** never need hello employee's age, these entities could have hello following structure:</span></span>
  
  ![][11]
* <span data-ttu-id="dee89-518">Genellikle toostore yinelenen verileri daha iyi ve toouse bir sorgu toolocate kullanarak bir varlık hello daha ikincil dizin ile tek bir sorgu gereksinim duyduğunuz tüm hello veri alabilirsiniz emin olan ve başka bir toolookup hello hello birincil dizin gerekli verileri.</span><span class="sxs-lookup"><span data-stu-id="dee89-518">It is typically better toostore duplicate data and ensure that you can retrieve all hello data you need with a single query than toouse one query toolocate an entity using hello secondary index and another toolookup hello required data in hello primary index.</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-519">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-519">When toouse this pattern</span></span>
<span data-ttu-id="dee89-520">İstemci uygulamanızın istemci farklı sıralamalar tooretrieve varlıklarda gerektiğinde farklı anahtarlar, çeşitli kullanarak tooretrieve varlıkları gerektiğinde ve benzersiz değerler çeşitli kullanarak her bir varlık tanımlayabilirsiniz bu deseni kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-520">Use this pattern when your client application needs tooretrieve entities using a variety of different keys, when your client needs tooretrieve entities in different sort orders, and where you can identify each entity using a variety of unique values.</span></span> <span data-ttu-id="dee89-521">Varlık aramalarını hello farklı kullanarak gerçekleştirirken hello bölüm ölçeklenebilirlik sınırları aşan tooavoid istediğinizde bu deseni kullanın **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-521">Use this pattern when you want tooavoid exceeding hello partition scalability limits when you are performing entity lookups using hello different **RowKey** values.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-522">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-522">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-523">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-523">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-524">Sonuçta tutarlı işlemleri düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-524">Eventually consistent transactions pattern</span></span>](#eventually-consistent-transactions-pattern)  
* [<span data-ttu-id="dee89-525">Bölüm içi ikincil dizin düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-525">Intra-partition secondary index pattern</span></span>](#intra-partition-secondary-index-pattern)  
* [<span data-ttu-id="dee89-526">Bileşik anahtar düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-526">Compound key pattern</span></span>](#compound-key-pattern)  
* [<span data-ttu-id="dee89-527">Varlık Grup işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-527">Entity Group Transactions</span></span>](#entity-group-transactions)  
* [<span data-ttu-id="dee89-528">Heterojen varlık türleri ile çalışma</span><span class="sxs-lookup"><span data-stu-id="dee89-528">Working with heterogeneous entity types</span></span>](#working-with-heterogeneous-entity-types)  

### <a name="eventually-consistent-transactions-pattern"></a><span data-ttu-id="dee89-529">Sonuçta tutarlı işlemleri düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-529">Eventually consistent transactions pattern</span></span>
<span data-ttu-id="dee89-530">Sonuçta tutarlı davranışı, Azure sıraları kullanarak bölüm sınırları veya depolama sistemi sınırları boyunca etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="dee89-530">Enable eventually consistent behavior across partition boundaries or storage system boundaries by using Azure queues.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-531">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-531">Context and problem</span></span>
<span data-ttu-id="dee89-532">EGTs etkinleştirmek atomik işlemleri hello paylaşan birden çok varlık arasında aynı bölüm anahtarı.</span><span class="sxs-lookup"><span data-stu-id="dee89-532">EGTs enable atomic transactions across multiple entities that share hello same partition key.</span></span> <span data-ttu-id="dee89-533">Performans ve ölçeklenebilirlik için ayrı bölümlere veya ayrı bir depolama sistemi tutarlılık gereksinimlerin toostore varlıklar karar verebilirsiniz: Böyle bir senaryoda EGTs toomaintain tutarlılık kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="dee89-533">For performance and scalability reasons, you might decide toostore entities that have consistency requirements in separate partitions or in a separate storage system: in such a scenario, you cannot use EGTs toomaintain consistency.</span></span> <span data-ttu-id="dee89-534">Örneğin, bir gereksinim toomaintain nihai tutarlılık arasında olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-534">For example, you might have a requirement toomaintain eventual consistency between:</span></span>  

* <span data-ttu-id="dee89-535">Varlıklar iki farklı bölüm aynı, farklı tablolarda farklı depolama hesaplarında tablosundaki hello olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-535">Entities stored in two different partitions in hello same table, in different tables, in in different storage accounts.</span></span>  
* <span data-ttu-id="dee89-536">Bir varlık hello tablo hizmeti depolanan ve blob hello Blob hizmetinde depolanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-536">An entity stored in hello Table service and a blob stored in hello Blob service.</span></span>  
* <span data-ttu-id="dee89-537">Merhaba tablo hizmeti ve bir dosya bir dosya sisteminde depolanan bir varlık.</span><span class="sxs-lookup"><span data-stu-id="dee89-537">An entity stored in hello Table service and a file in a file system.</span></span>  
* <span data-ttu-id="dee89-538">Bir varlık hello tablo hizmeti depolamak henüz hello Azure Search hizmeti kullanarak dizini.</span><span class="sxs-lookup"><span data-stu-id="dee89-538">An entity store in hello Table service yet indexed using hello Azure Search service.</span></span>  

#### <a name="solution"></a><span data-ttu-id="dee89-539">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-539">Solution</span></span>
<span data-ttu-id="dee89-540">Azure sıralar kullanarak, iki veya daha fazla bölüm ya da depolama sistemleri arasında nihai tutarlılık teslim bir çözüm uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-540">By using Azure queues, you can implement a solution that delivers eventual consistency across two or more partitions or storage systems.</span></span>
<span data-ttu-id="dee89-541">tooillustrate bu yaklaşımını, gereksinim toobe mümkün tooarchive eski çalışan varlıkları olduğunu varsayın.</span><span class="sxs-lookup"><span data-stu-id="dee89-541">tooillustrate this approach, assume you have a requirement toobe able tooarchive old employee entities.</span></span> <span data-ttu-id="dee89-542">Eski çalışan varlıkları nadiren seçmeleri istenir ve geçerli çalışanlar ile ilgili tüm etkinlikleri dışında tutulması.</span><span class="sxs-lookup"><span data-stu-id="dee89-542">Old employee entities are rarely queried and should be excluded from any activities that deal with current employees.</span></span> <span data-ttu-id="dee89-543">tooimplement hello etkin çalışanlara depolamak bu gereksinim **geçerli** tablo ve hello eski çalışanların **arşiv** tablo.</span><span class="sxs-lookup"><span data-stu-id="dee89-543">tooimplement this requirement you store active employees in hello **Current** table and old employees in hello **Archive** table.</span></span> <span data-ttu-id="dee89-544">Bir çalışan arşivleme gerektirir toodelete hello hello varlıktan **geçerli** tablo ve hello varlık toohello ekleyin **arşiv** tablosu, ancak kullanamaz EGT tooperform bu iki işlem.</span><span class="sxs-lookup"><span data-stu-id="dee89-544">Archiving an employee requires you toodelete hello entity from hello **Current** table and add hello entity toohello **Archive** table, but you cannot use an EGT tooperform these two operations.</span></span> <span data-ttu-id="dee89-545">bir hata hem veya hiçbiri tablolarda bir varlık tooappear neden tooavoid hello risk hello Arşiv işlemi sonunda tutarlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-545">tooavoid hello risk that a failure causes an entity tooappear in both or neither tables, hello archive operation must be eventually consistent.</span></span> <span data-ttu-id="dee89-546">Merhaba aşağıdaki sıralı diyagram hello adımlar bu işlemde açıklanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-546">hello following sequence diagram outlines hello steps in this operation.</span></span> <span data-ttu-id="dee89-547">Daha fazla ayrıntı hello metin aşağıdaki özel durum yollar için sağlanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-547">More detail is provided for exception paths in hello text following.</span></span>  

![][12]

<span data-ttu-id="dee89-548">Bir istemci, bu örnek tooarchive çalışan #456 bir Azure sırada bir ileti yerleştirmek tarafından hello Arşiv işlemi başlatır.</span><span class="sxs-lookup"><span data-stu-id="dee89-548">A client initiates hello archive operation by placing a message on an Azure queue, in this example tooarchive employee #456.</span></span> <span data-ttu-id="dee89-549">Çalışan rolü hello sıra yeni iletiler için yoklar; bir bulduğunda, selamlama iletisine okur ve gizli bir kopyasını hello sırasına bırakır.</span><span class="sxs-lookup"><span data-stu-id="dee89-549">A worker role polls hello queue for new messages; when it finds one, it reads hello message and leaves a hidden copy on hello queue.</span></span> <span data-ttu-id="dee89-550">Merhaba çalışan rolü hello sonraki hello varlık bir kopyasını getirir **geçerli** tablo, hello bir kopya ekler **arşiv** tablo ve siler hello hello özgün **geçerli**tablo.</span><span class="sxs-lookup"><span data-stu-id="dee89-550">hello worker role next fetches a copy of hello entity from hello **Current** table, inserts a copy in hello **Archive** table, and then deletes hello original from hello **Current** table.</span></span> <span data-ttu-id="dee89-551">Son olarak, hiçbir hata hello önceki adımlardan olsaydı, hello çalışan rolü hello gizli ileti hello sırasından kaldırır.</span><span class="sxs-lookup"><span data-stu-id="dee89-551">Finally, if there were no errors from hello previous steps, hello worker role deletes hello hidden message from hello queue.</span></span>  

<span data-ttu-id="dee89-552">Bu örnekte, 4. adım hello çalışan hello ekler **arşiv** tablo.</span><span class="sxs-lookup"><span data-stu-id="dee89-552">In this example, step 4 inserts hello employee into hello **Archive** table.</span></span> <span data-ttu-id="dee89-553">Bir dosya sistemi hello Blob hizmeti hello çalışan tooa blob veya bir dosya ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-553">It could add hello employee tooa blob in hello Blob service or a file in a file system.</span></span>  

#### <a name="recovering-from-failures"></a><span data-ttu-id="dee89-554">Hatalardan kurtarma</span><span class="sxs-lookup"><span data-stu-id="dee89-554">Recovering from failures</span></span>
<span data-ttu-id="dee89-555">Önemli adımları işlemlerinde hello **4** ve **5** olmalıdır *ıdempotent* hello çalışan rolü toorestart hello Arşiv işlemi gerekebileceği.</span><span class="sxs-lookup"><span data-stu-id="dee89-555">It is important that hello operations in steps **4** and **5** must be *idempotent* in case hello worker role needs toorestart hello archive operation.</span></span> <span data-ttu-id="dee89-556">Adım için hello tablo hizmeti kullanıyorsanız, **4** "Ekle veya Değiştir" işlemi kullanmanız gerekir; adım için **5** kullanması gereken bir "silin var" işlemi kullanmakta olduğunuz hello istemci Kitaplığı'nda.</span><span class="sxs-lookup"><span data-stu-id="dee89-556">If you are using hello Table service, for step **4** you should use an "insert or replace" operation; for step **5** you should use a "delete if exists" operation in hello client library you are using.</span></span> <span data-ttu-id="dee89-557">Başka bir depolama sistemi kullanıyorsanız, uygun ıdempotent işlemi kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-557">If you are using another storage system, you must use an appropriate idempotent operation.</span></span>  

<span data-ttu-id="dee89-558">Merhaba çalışan rolü asla adım tamamlarsa **6**, hello sırada bir zaman aşımı hello ileti yeniden görünür sonra sonra hello çalışan rolü tootry tooreprocess için bunu hazır.</span><span class="sxs-lookup"><span data-stu-id="dee89-558">If hello worker role never completes step **6**, then after a timeout hello message reappears on hello queue ready for hello worker role tootry tooreprocess it.</span></span> <span data-ttu-id="dee89-559">Merhaba çalışan rolü hello sıraya ileti okuma kaç kez kontrol edebilirsiniz ve gerekirse, sıra tooa göndererek "zarar" iletisi araştırma için olan bayrağı ayırın.</span><span class="sxs-lookup"><span data-stu-id="dee89-559">hello worker role can check how many times a message on hello queue has been read and, if necessary, flag it is a "poison" message for investigation by sending it tooa separate queue.</span></span> <span data-ttu-id="dee89-560">Dequeue sayısı sıra iletileri okumak ve hello denetimi hakkında daha fazla bilgi için bkz: [iletileri almak](https://msdn.microsoft.com/library/azure/dd179474.aspx).</span><span class="sxs-lookup"><span data-stu-id="dee89-560">For more information about reading queue messages and checking hello dequeue count, see [Get Messages](https://msdn.microsoft.com/library/azure/dd179474.aspx).</span></span>  

<span data-ttu-id="dee89-561">Bazı hatalar hello tablo ve kuyruk Hizmetleri geçici hataları ve istemci uygulamanızı uygun yeniden deneme mantığı toohandle içermelidir bunları.</span><span class="sxs-lookup"><span data-stu-id="dee89-561">Some errors from hello Table and Queue services are transient errors, and your client application should include suitable retry logic toohandle them.</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-562">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-562">Issues and considerations</span></span>
<span data-ttu-id="dee89-563">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-563">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-564">Bu çözüm için işlem yalıtım sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="dee89-564">This solution does not provide for transaction isolation.</span></span> <span data-ttu-id="dee89-565">Örneğin, bir istemci hello okuyabilir **geçerli** ve **arşiv** tabloları arasında adımları hello çalışan rolü olduğu zaman **4** ve **5**ve bir Merhaba verilerinin tutarsız görünümü.</span><span class="sxs-lookup"><span data-stu-id="dee89-565">For example, a client could read hello **Current** and **Archive** tables when hello worker role was between steps **4** and **5**, and see an inconsistent view of hello data.</span></span> <span data-ttu-id="dee89-566">Merhaba veri sonunda tutarlı olacağını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="dee89-566">Note that hello data will be consistent eventually.</span></span>  
* <span data-ttu-id="dee89-567">Adım 4 ve 5 sipariş tooensure nihai tutarlılık ıdempotent emin olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-567">You must be sure that steps 4 and 5 are idempotent in order tooensure eventual consistency.</span></span>  
* <span data-ttu-id="dee89-568">Birden çok kuyruklar ve çalışan rolü örnekleri kullanarak hello çözüm ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-568">You can scale hello solution by using multiple queues and worker role instances.</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-569">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-569">When toouse this pattern</span></span>
<span data-ttu-id="dee89-570">Farklı bölümleri veya tablo mevcut varlıklar arasındaki tooguarantee nihai tutarlılık istediğinizde bu deseni kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-570">Use this pattern when you want tooguarantee eventual consistency between entities that exist in different partitions or tables.</span></span> <span data-ttu-id="dee89-571">Merhaba tablo ve hello Blob hizmeti ve veritabanı veya hello dosya sistemi gibi diğer Azure Storage veri kaynakları arasında işlemleri için bu deseni tooensure nihai tutarlılık genişletebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-571">You can extend this pattern tooensure eventual consistency for operations across hello Table service and hello Blob service and other non-Azure Storage data sources such as database or hello file system.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-572">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-572">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-573">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-573">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-574">Varlık Grup işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-574">Entity Group Transactions</span></span>](#entity-group-transactions)  
* [<span data-ttu-id="dee89-575">Birleştirme ya da değiştirme</span><span class="sxs-lookup"><span data-stu-id="dee89-575">Merge or replace</span></span>](#merge-or-replace)  

> [!NOTE]
> <span data-ttu-id="dee89-576">İşlem yalıtım önemli tooyour çözüm varsa, tablolar tooenable yeniden düşünmelisiniz, toouse EGTs.</span><span class="sxs-lookup"><span data-stu-id="dee89-576">If transaction isolation is important tooyour solution, you should consider redesigning your tables tooenable you toouse EGTs.</span></span>  
> 
> 

### <a name="index-entities-pattern"></a><span data-ttu-id="dee89-577">Dizin varlıkları düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-577">Index Entities Pattern</span></span>
<span data-ttu-id="dee89-578">Varlıklar listesi döndüren dizin varlıkları tooenable verimli aramalar korur.</span><span class="sxs-lookup"><span data-stu-id="dee89-578">Maintain index entities tooenable efficient searches that return lists of entities.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-579">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-579">Context and problem</span></span>
<span data-ttu-id="dee89-580">Merhaba tablo hizmeti otomatik olarak dizinler hello kullanarak varlıkları **PartitionKey** ve **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-580">hello Table service automatically indexes entities using hello **PartitionKey** and **RowKey** values.</span></span> <span data-ttu-id="dee89-581">Bu, bir istemci uygulama tooretrieve verimli bir şekilde noktası sorgusu kullanarak bir varlık sağlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-581">This enables a client application tooretrieve an entity efficiently using a point query.</span></span> <span data-ttu-id="dee89-582">Örneğin, aşağıda gösterilen hello tablo yapısı kullanarak, bir istemci uygulaması verimli bir şekilde bir tek çalışan varlık hello bölüm adı ve hello çalışan kimliği kullanarak alabilirsiniz (Merhaba **PartitionKey** ve **RowKey** ).</span><span class="sxs-lookup"><span data-stu-id="dee89-582">For example, using hello table structure shown below, a client application can efficiently retrieve an individual employee entity by using hello department name and hello employee id (hello **PartitionKey** and **RowKey**).</span></span>  

![][13]

<span data-ttu-id="dee89-583">Merhaba özelliğinin değeri başka bir benzersiz olmayan, son kullanıcıların adı gibi temel çalışan varlıklar listesi toobe mümkün tooretrieve de istiyorsanız daha az verimli bir bölüm kullanmalısınız bir dizin toolook kullanmak yerine toofind eşleşen tarama bunları doğrudan yukarı.</span><span class="sxs-lookup"><span data-stu-id="dee89-583">If you also want toobe able tooretrieve a list of employee entities based on hello value of another non-unique property, such as their last name, you must use a less efficient partition scan toofind matches rather than using an index toolook them up directly.</span></span> <span data-ttu-id="dee89-584">Bu durum, ikincil dizinler Hello tablo hizmet sağlamaz çünkü.</span><span class="sxs-lookup"><span data-stu-id="dee89-584">This is because hello table service does not provide secondary indexes.</span></span>  

#### <a name="solution"></a><span data-ttu-id="dee89-585">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-585">Solution</span></span>
<span data-ttu-id="dee89-586">Yukarıda gösterilen çalışan kimlikleri listesini korumalıdır hello varlık yapısına sahip son ada göre arama tooenable.</span><span class="sxs-lookup"><span data-stu-id="dee89-586">tooenable lookup by last name with hello entity structure shown above, you must maintain lists of employee ids.</span></span> <span data-ttu-id="dee89-587">Tooretrieve hello çalışan CAN gibi belirli bir son adı varlıklarıyla istiyorsanız, ilk kendi son adıyla Etikan olan çalışanlar için hello çalışan kimliklerinin listesini bulun ve bu çalışan varlıkların almak gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-587">If you want tooretrieve hello employee entities with a particular last name, such as Jones, you must first locate hello list of employee ids for employees with Jones as their last name, and then retrieve those employee entities.</span></span> <span data-ttu-id="dee89-588">Merhaba listelerini çalışan kimliklerini depolamak için üç ana seçeneği vardır:</span><span class="sxs-lookup"><span data-stu-id="dee89-588">There are three main options for storing hello lists of employee ids:</span></span>  

* <span data-ttu-id="dee89-589">BLOB storage'ı kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-589">Use blob storage.</span></span>  
* <span data-ttu-id="dee89-590">Dizin varlıkları aynı hello çalışan varlıklar bölüm hello oluşturun.</span><span class="sxs-lookup"><span data-stu-id="dee89-590">Create index entities in hello same partition as hello employee entities.</span></span>  
* <span data-ttu-id="dee89-591">Dizin varlıkları ayrı bölüm ya da tablo oluşturun.</span><span class="sxs-lookup"><span data-stu-id="dee89-591">Create index entities in a separate partition or table.</span></span>  

<span data-ttu-id="dee89-592"><u>#1. seçenek: Blob storage'ı kullanma</u></span><span class="sxs-lookup"><span data-stu-id="dee89-592"><u>Option #1: Use blob storage</u></span></span>  

<span data-ttu-id="dee89-593">Merhaba ilk seçenek hello listesini her benzersiz son adı için bir blob'un, her blob deposu oluşturmak **PartitionKey** (bölüm) ve **RowKey** bu son olan çalışanlar için (çalışan kimliği) değerleri adı.</span><span class="sxs-lookup"><span data-stu-id="dee89-593">For hello first option, you create a blob for every unique last name, and in each blob store a list of hello **PartitionKey** (department) and **RowKey** (employee id) values for employees that have that last name.</span></span> <span data-ttu-id="dee89-594">Eklemek veya bir çalışan sildiğinizde hello ilgili blob Merhaba içeriğine hello çalışan varlıklarıyla sonuçta tutarlı olduğundan emin olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-594">When you add or delete an employee you should ensure that hello content of hello relevant blob is eventually consistent with hello employee entities.</span></span>  

<span data-ttu-id="dee89-595"><u>#2. seçenek:</u> oluşturma dizini varlıklarda hello aynı bölüm</span><span class="sxs-lookup"><span data-stu-id="dee89-595"><u>Option #2:</u> Create index entities in hello same partition</span></span>  

<span data-ttu-id="dee89-596">Hello ikinci seçeneği için veri izleyen hello depolamak dizin varlıkları kullanın:</span><span class="sxs-lookup"><span data-stu-id="dee89-596">For hello second option, use index entities that store hello following data:</span></span>  

![][14]

<span data-ttu-id="dee89-597">Merhaba **EmployeeIDs** özelliği hello depolanan hello Soyadı ile çalışanlar için çalışan kimlikleri listesini içeren **RowKey**.</span><span class="sxs-lookup"><span data-stu-id="dee89-597">hello **EmployeeIDs** property contains a list of employee ids for employees with hello last name stored in hello **RowKey**.</span></span>  

<span data-ttu-id="dee89-598">Merhaba aşağıdaki adımları hello ikinci seçeneği kullanıyorsanız, yeni bir çalışan ekleme yapıyorsanız izlemeniz gereken hello süreci ana hatlarıyla anlatılır.</span><span class="sxs-lookup"><span data-stu-id="dee89-598">hello following steps outline hello process you should follow when you are adding a new employee if you are using hello second option.</span></span> <span data-ttu-id="dee89-599">Bu örnekte, bir çalışan kimliği 000152 ve hello satış departmanında son adıyla Etikan ekliyoruz:</span><span class="sxs-lookup"><span data-stu-id="dee89-599">In this example, we are adding an employee with Id 000152 and a last name Jones in hello Sales department:</span></span>  

1. <span data-ttu-id="dee89-600">Merhaba dizin varlıkla almak bir **PartitionKey** "Satış" ve hello değeri **RowKey** "Can" değeri</span><span class="sxs-lookup"><span data-stu-id="dee89-600">Retrieve hello index entity with a **PartitionKey** value "Sales" and hello **RowKey** value "Jones."</span></span> <span data-ttu-id="dee89-601">Bu varlık toouse ETag Hello 2. adımda kaydedin.</span><span class="sxs-lookup"><span data-stu-id="dee89-601">Save hello ETag of this entity toouse in step 2.</span></span>  
2. <span data-ttu-id="dee89-602">Merhaba yeni çalışan varlık ekleyen bir varlık Grup hareketi (diğer bir deyişle, toplu işlem) oluşturma (**PartitionKey** "Satış" değeri ve **RowKey** değer "000152"), ve güncelleştirmeleri hello dizin varlık ( **PartitionKey** "Satış" değeri ve **RowKey** "Can" değer) hello yeni çalışan kimliği toohello listesi hello EmployeeIDs alanında ekleyerek düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="dee89-602">Create an entity group transaction (that is, a batch operation) that inserts hello new employee entity (**PartitionKey** value "Sales" and **RowKey** value "000152"), and updates hello index entity (**PartitionKey** value "Sales" and **RowKey** value "Jones") by adding hello new employee id toohello list in hello EmployeeIDs field.</span></span> <span data-ttu-id="dee89-603">Varlık Grup işlemler hakkında daha fazla bilgi için bkz: [varlık Grup hareketleri](#entity-group-transactions).</span><span class="sxs-lookup"><span data-stu-id="dee89-603">For more information about entity group transactions, see [Entity Group Transactions](#entity-group-transactions).</span></span>  
3. <span data-ttu-id="dee89-604">Merhaba varlık grubu işlem (birisi yalnızca hello dizin varlık değiştirdi) iyimser eşzamanlılık hata nedeniyle başarısız olursa, daha sonra toostart üzerinden 1. adımda yeniden gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-604">If hello entity group transaction fails because of an optimistic concurrency error (someone else has just modified hello index entity), then you need toostart over at step 1 again.</span></span>  

<span data-ttu-id="dee89-605">Merhaba ikinci seçeneği kullanıyorsanız, benzer bir yaklaşım toodeleting bir çalışan kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-605">You can use a similar approach toodeleting an employee if you are using hello second option.</span></span> <span data-ttu-id="dee89-606">Bir çalışanın soyadını değiştirme olduğundan biraz daha karmaşık tooexecute üç varlık güncelleştirmeleri bir varlık Grup hareketi gerekir: Merhaba çalışan varlık, başlangıç dizini varlık hello eski soyadı ve hello dizin varlığı hello yeni soyadı.</span><span class="sxs-lookup"><span data-stu-id="dee89-606">Changing an employee's last name is slightly more complex because you will need tooexecute an entity group transaction that updates three entities: hello employee entity, hello index entity for hello old last name, and hello index entity for hello new last name.</span></span> <span data-ttu-id="dee89-607">İyimser eşzamanlılık kullanarak tooperform hello güncelleştirmeleri sonra kullanabileceğiniz tooretrieve hello ETag değerlerin sırayla herhangi bir değişiklik yapmadan önce her bir varlık almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-607">You must retrieve each entity before making any changes in order tooretrieve hello ETag values that you can then use tooperform hello updates using optimistic concurrency.</span></span>  

<span data-ttu-id="dee89-608">Merhaba aşağıdaki adımları hello ikinci seçeneği kullanıyorsanız, verilen Soyadı bir departmandaki tüm hello çalışanlarla yukarı toolook gerektiğinde izlemeniz gereken hello süreci ana hatlarıyla anlatılır.</span><span class="sxs-lookup"><span data-stu-id="dee89-608">hello following steps outline hello process you should follow when you need toolook up all hello employees with a given last name in a department if you are using hello second option.</span></span> <span data-ttu-id="dee89-609">Bu örnekte, tüm hello çalışanlar hello satış departmanında son adıyla Etikan yukarı arıyoruz:</span><span class="sxs-lookup"><span data-stu-id="dee89-609">In this example, we are looking up all hello employees with last name Jones in hello Sales department:</span></span>  

1. <span data-ttu-id="dee89-610">Merhaba dizin varlıkla almak bir **PartitionKey** "Satış" ve hello değeri **RowKey** "Can" değeri</span><span class="sxs-lookup"><span data-stu-id="dee89-610">Retrieve hello index entity with a **PartitionKey** value "Sales" and hello **RowKey** value "Jones."</span></span>  
2. <span data-ttu-id="dee89-611">Çalışan kimliklerini hello EmployeeIDs alanında Hello listesi ayrıştırılamıyor.</span><span class="sxs-lookup"><span data-stu-id="dee89-611">Parse hello list of employee Ids in hello EmployeeIDs field.</span></span>  
3. <span data-ttu-id="dee89-612">(Örneğin, e-postaları) bu çalışanların her hakkında ek bilgi gerekirse, her kullanarak hello çalışan varlıkları almak **PartitionKey** "Satış" değeri ve **RowKey** gelen değerleri 2. adımda elde ettiğiniz çalışanların Hello listesi.</span><span class="sxs-lookup"><span data-stu-id="dee89-612">If you need additional information about each of these employees (such as their email addresses), retrieve each of hello employee entities using **PartitionKey** value "Sales" and **RowKey** values from hello list of employees you obtained in step 2.</span></span>  

<span data-ttu-id="dee89-613"><u>#3. seçenek:</u> ayrı bölüm veya tablo içinde dizin varlıkları oluşturma</span><span class="sxs-lookup"><span data-stu-id="dee89-613"><u>Option #3:</u> Create index entities in a separate partition or table</span></span>  

<span data-ttu-id="dee89-614">Merhaba üçüncü seçenek için veri izleyen hello depolamak dizin varlıkları kullanın:</span><span class="sxs-lookup"><span data-stu-id="dee89-614">For hello third option, use index entities that store hello following data:</span></span>  

![][15]

<span data-ttu-id="dee89-615">Merhaba **EmployeeIDs** özelliği hello depolanan hello Soyadı ile çalışanlar için çalışan kimlikleri listesini içeren **RowKey**.</span><span class="sxs-lookup"><span data-stu-id="dee89-615">hello **EmployeeIDs** property contains a list of employee ids for employees with hello last name stored in hello **RowKey**.</span></span>  

<span data-ttu-id="dee89-616">Merhaba üçüncü seçeneğiyle Hello dizin varlıkları gelen hello çalışan ayrı bir bölüme olduğundan EGTs toomaintain tutarlılık kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="dee89-616">With hello third option, you cannot use EGTs toomaintain consistency because hello index entities are in a separate partition from hello employee entities.</span></span> <span data-ttu-id="dee89-617">Merhaba dizin varlıkları hello çalışan varlıklarıyla sonuçta tutarlı olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="dee89-617">You should ensure that hello index entities are eventually consistent with hello employee entities.</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-618">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-618">Issues and considerations</span></span>
<span data-ttu-id="dee89-619">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-619">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-620">Bu çözüm varlıklar eşleşen en az iki sorguları tooretrieve gerektirir: bir tooquery hello dizin varlıkları tooobtain hello listesi **RowKey** değerleri ve daha sonra her varlık hello listesinde tooretrieve sorgular.</span><span class="sxs-lookup"><span data-stu-id="dee89-620">This solution requires at least two queries tooretrieve matching entities: one tooquery hello index entities tooobtain hello list of **RowKey** values, and then queries tooretrieve each entity in hello list.</span></span>  
* <span data-ttu-id="dee89-621">Tek tek bir varlık seçeneği #2 1 MB maksimum boyuta sahip ve seçenek #3 hello çözümde varsayın hello listesini verilen Soyadı çalışanı kimlikleri düşünüldüğünde hiçbir zaman 1 MB'den daha büyük.</span><span class="sxs-lookup"><span data-stu-id="dee89-621">Given that an individual entity has a maximum size of 1 MB, option #2 and option #3 in hello solution assume that hello list of employee ids for any given last name is never greater than 1 MB.</span></span> <span data-ttu-id="dee89-622">Çalışan kimliklerinin Hello listesi boyutu 1 MB'den büyük olasılıkla toobe ise, #1 seçeneğini kullanın ve blob depolama alanına hello dizin verileri depolar.</span><span class="sxs-lookup"><span data-stu-id="dee89-622">If hello list of employee ids is likely toobe greater than 1 MB in size, use option #1 and store hello index data in blob storage.</span></span>  
* <span data-ttu-id="dee89-623">Seçenek #2 kullanıyorsanız hello toplu işlemler hello ölçeklenebilirlik sınırları belli bir bölüm yaklaşımını varsa (ekleme ve çalışanlar silme ve bir çalışanın soyadını değiştirme EGTs toohandle kullanarak), değerlendirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-623">If you use option #2 (using EGTs toohandle adding and deleting employees, and changing an employee's last name) you must evaluate if hello volume of transactions will approach hello scalability limits in a given partition.</span></span> <span data-ttu-id="dee89-624">Merhaba Durum buysa, kuyruklar toohandle hello güncelleştirme kullanan sonuçta tutarlı çözümünü (#1 veya seçeneği #3) istekleri ve dizin varlıklarınızı gelen hello çalışan ayrı bir bölümünde, toostore sağlar düşünmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-624">If this is hello case, you should consider an eventually consistent solution (option #1 or option #3) that uses queues toohandle hello update requests and enables you toostore your index entities in a separate partition from hello employee entities.</span></span>  
* <span data-ttu-id="dee89-625">Bu çözüm #2 seçeneğinde varsayar toolook oluşturan bir bölüm içinde son ada göre istediğiniz: Örneğin, tooretrieve son adıyla Etikan hello satış departmanında çalışan listesini istediğiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-625">Option #2 in this solution assumes that you want toolook up by last name within a department: for example, you want tooretrieve a list of employees with a last name Jones in hello Sales department.</span></span> <span data-ttu-id="dee89-626">Toobe mümkün toolook son adıyla Etikan hello tüm kuruluş genelinde tüm hello çalışanlar yedeklemek istiyorsanız seçeneği #1 veya seçenek #3 kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-626">If you want toobe able toolook up all hello employees with a last name Jones across hello whole organization, use either option #1 or option #3.</span></span>
* <span data-ttu-id="dee89-627">Nihai tutarlılık sunar sıra tabanlı bir çözüm uygulayabilirsiniz (Merhaba bkz [sonuçta tutarlı işlemleri düzeni](#eventually-consistent-transactions-pattern) daha fazla ayrıntı için).</span><span class="sxs-lookup"><span data-stu-id="dee89-627">You can implement a queue-based solution that delivers eventual consistency (see hello [Eventually consistent transactions pattern](#eventually-consistent-transactions-pattern) for more details).</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-628">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-628">When toouse this pattern</span></span>
<span data-ttu-id="dee89-629">Toolookup tüm hello Soyadı Can olan tüm çalışanlar gibi ortak bir özellik değeri paylaşır varlık kümesi istediğinizde bu deseni kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-629">Use this pattern when you want toolookup a set of entities that all share a common property value, such as all employees with hello last name Jones.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-630">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-630">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-631">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-631">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-632">Bileşik anahtar düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-632">Compound key pattern</span></span>](#compound-key-pattern)  
* [<span data-ttu-id="dee89-633">Sonuçta tutarlı işlemleri düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-633">Eventually consistent transactions pattern</span></span>](#eventually-consistent-transactions-pattern)  
* [<span data-ttu-id="dee89-634">Varlık Grup işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-634">Entity Group Transactions</span></span>](#entity-group-transactions)  
* [<span data-ttu-id="dee89-635">Heterojen varlık türleri ile çalışma</span><span class="sxs-lookup"><span data-stu-id="dee89-635">Working with heterogeneous entity types</span></span>](#working-with-heterogeneous-entity-types)  

### <a name="denormalization-pattern"></a><span data-ttu-id="dee89-636">Denormalization deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-636">Denormalization pattern</span></span>
<span data-ttu-id="dee89-637">İlgili verileri tek bir varlık tooenable de birlikte birleştirmek tüm hello tek nokta sorguyla verileri tooretrieve.</span><span class="sxs-lookup"><span data-stu-id="dee89-637">Combine related data together in a single entity tooenable you tooretrieve all hello data you need with a single point query.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-638">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-638">Context and problem</span></span>
<span data-ttu-id="dee89-639">İlişkisel bir veritabanında genellikle birden çok tablodan veri sorgularda kaynaklanan veri tooremove çoğaltma normalleştirin.</span><span class="sxs-lookup"><span data-stu-id="dee89-639">In a relational database, you typically normalize data tooremove duplication resulting in queries that retrieve data from multiple tables.</span></span> <span data-ttu-id="dee89-640">Verilerinizi Azure tablolardaki normalleştirin gerekirse, ilgili verilerinizi hello istemci toohello sunucu tooretrieve gelen birden çok gidiş dönüş yapmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-640">If you normalize your data in Azure tables, you must make multiple round trips from hello client toohello server tooretrieve your related data.</span></span> <span data-ttu-id="dee89-641">Örneğin, aşağıda gösterilen hello tablo yapısı ile iki dönüşleri tooretrieve hello Ayrıntılar bir bölüm için yuvarlak: bir çalışan hello Yöneticisi'nin kimlik ve ardından başka bir istek toofetch hello Yöneticisi'nin ayrıntılar içeren bir toofetch hello departmanı varlık varlık.</span><span class="sxs-lookup"><span data-stu-id="dee89-641">For example, with hello table structure shown below you need two round trips tooretrieve hello details for a department: one toofetch hello department entity that includes hello manager's id, and then another request toofetch hello manager's details in an employee entity.</span></span>  

![][16]

#### <a name="solution"></a><span data-ttu-id="dee89-642">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-642">Solution</span></span>
<span data-ttu-id="dee89-643">İki ayrı varlıklarda hello veri depolama, yerine hello veri denormalize ve hello departmanı varlık hello Yöneticisi'nin ayrıntılar kopyasını tutun.</span><span class="sxs-lookup"><span data-stu-id="dee89-643">Instead of storing hello data in two separate entities, denormalize hello data and keep a copy of hello manager's details in hello department entity.</span></span> <span data-ttu-id="dee89-644">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="dee89-644">For example:</span></span>  

![][17]

<span data-ttu-id="dee89-645">Bu özellikleri depolanan departmanı varlıklarıyla noktası sorgusu kullanarak bir bölüm hakkında gereken tüm hello ayrıntıları alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-645">With department entities stored with these properties, you can now retrieve all hello details you need about a department using a point query.</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-646">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-646">Issues and considerations</span></span>
<span data-ttu-id="dee89-647">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-647">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-648">Ek yükü bazı verileri iki kez saklamanın bazı maliyet yoktur.</span><span class="sxs-lookup"><span data-stu-id="dee89-648">There is some cost overhead associated with storing some data twice.</span></span> <span data-ttu-id="dee89-649">Merhaba performans avantajı (daha az istekleri toohello Depolama hizmetinden kaynaklanan) genellikle ağır hello Marjinal depolama maliyetleri artış (ve bu maliyet kısmen uzaklığı hello sayısındaki azalma tarafından toofetch hello ayrıntıları gerektirir. bir bölümünü).</span><span class="sxs-lookup"><span data-stu-id="dee89-649">hello performance benefit (resulting from fewer requests toohello storage service) typically outweighs hello marginal increase in storage costs (and this cost is partially offset by a reduction in hello number of transactions you require toofetch hello details of a department).</span></span>  
* <span data-ttu-id="dee89-650">Yöneticileri hakkında bilgi depolamak hello iki varlık hello tutarlılığını bulundurmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-650">You must maintain hello consistency of hello two entities that store information about managers.</span></span> <span data-ttu-id="dee89-651">Merhaba tutarlılık sorunu EGTs tooupdate kullanarak tek bir atomik işlemle birden çok varlık işleyebilir: hello departmanı varlık ve hello çalışan varlık hello Bölüm Yöneticisi için hello bu durumda, depolanan aynı bölüm.</span><span class="sxs-lookup"><span data-stu-id="dee89-651">You can handle hello consistency issue by using EGTs tooupdate multiple entities in a single atomic transaction: in this case, hello department entity, and hello employee entity for hello department manager are stored in hello same partition.</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-652">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-652">When toouse this pattern</span></span>
<span data-ttu-id="dee89-653">Sık toolook ilgili bilgileri ihtiyacınız olduğunda bu deseni kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-653">Use this pattern when you frequently need toolook up related information.</span></span> <span data-ttu-id="dee89-654">Bu desen istemciniz gerektirdiği tooretrieve hello veri olmalısınız sorguları hello sayısını azaltır.</span><span class="sxs-lookup"><span data-stu-id="dee89-654">This pattern reduces hello number of queries your client must make tooretrieve hello data it requires.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-655">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-655">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-656">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-656">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-657">Bileşik anahtar düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-657">Compound key pattern</span></span>](#compound-key-pattern)  
* [<span data-ttu-id="dee89-658">Varlık Grup işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-658">Entity Group Transactions</span></span>](#entity-group-transactions)  
* [<span data-ttu-id="dee89-659">Heterojen varlık türleri ile çalışma</span><span class="sxs-lookup"><span data-stu-id="dee89-659">Working with heterogeneous entity types</span></span>](#working-with-heterogeneous-entity-types)

### <a name="compound-key-pattern"></a><span data-ttu-id="dee89-660">Bileşik anahtar düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-660">Compound key pattern</span></span>
<span data-ttu-id="dee89-661">Kullanım bileşik **RowKey** değerleri tooenable istemci toolookup tek nokta sorgu verilerle ilgili.</span><span class="sxs-lookup"><span data-stu-id="dee89-661">Use compound **RowKey** values tooenable a client toolookup related data with a single point query.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-662">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-662">Context and problem</span></span>
<span data-ttu-id="dee89-663">İsteğe bağlı olarak bir ilişkisel veritabanı sorguları oldukça doğal toouse birleşimlerde olması tooreturn ilgili veri toohello istemcisi tek sorgu parçaları.</span><span class="sxs-lookup"><span data-stu-id="dee89-663">In a relational database, it is quite natural toouse joins in queries tooreturn related pieces of data toohello client in a single query.</span></span> <span data-ttu-id="dee89-664">Örneğin, bu çalışan için verileri gözden geçirin ve performans içeren ilgili varlıklar listesini hello çalışan kimliği toolook kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-664">For example, you might use hello employee id toolook up a list of related entities that contain performance and review data for that employee.</span></span>  

<span data-ttu-id="dee89-665">Yapı izlenerek hello kullanarak hello tablo hizmetinde çalışan varlıkları depolayan varsayın:</span><span class="sxs-lookup"><span data-stu-id="dee89-665">Assume you are storing employee entities in hello Table service using hello following structure:</span></span>  

![][18]

<span data-ttu-id="dee89-666">Tooreviews ilgili toostore geçmiş verileri de gerekir ve her yıl hello çalışan için performans, kuruluşunuz için çalışmıştır ve bu bilgileri yıla göre toobe mümkün tooaccess gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-666">You also need toostore historical data relating tooreviews and performance for each year hello employee has worked for your organization and you need toobe able tooaccess this information by year.</span></span> <span data-ttu-id="dee89-667">Bir seçenek toocreate yapı izlenerek hello ile varlıkları depolayan başka bir tablodur:</span><span class="sxs-lookup"><span data-stu-id="dee89-667">One option is toocreate another table that stores entities with hello following structure:</span></span>  

![][19]

<span data-ttu-id="dee89-668">Bu, yaklaşımını dikkat edin (örneğin, ad ve Soyadı) hello yeni varlık tooenable bazı bilgileri tooduplicate karar, tooretrieve verilerinizin tek bir istek.</span><span class="sxs-lookup"><span data-stu-id="dee89-668">Notice that with this approach you may decide tooduplicate some information (such as first name and last name) in hello new entity tooenable you tooretrieve your data with a single request.</span></span> <span data-ttu-id="dee89-669">Ancak, otomatik olarak bir EGT tooupdate hello iki varlık kullanamadığından güçlü tutarlılık korunamaz.</span><span class="sxs-lookup"><span data-stu-id="dee89-669">However, you cannot maintain strong consistency because you cannot use an EGT tooupdate hello two entities atomically.</span></span>  

#### <a name="solution"></a><span data-ttu-id="dee89-670">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-670">Solution</span></span>
<span data-ttu-id="dee89-671">Yeni bir varlık türü varlıkları yapı izlenerek hello ile kullanarak özgün tablonuzu saklayın:</span><span class="sxs-lookup"><span data-stu-id="dee89-671">Store a new entity type in your original table using entities with hello following structure:</span></span>  

![][20]

<span data-ttu-id="dee89-672">Nasıl hello fark **RowKey** şimdi bileşik anahtar hello çalışan kimliği ve sağlar hello gözden geçirme verilerini hello yılın çalışanın performans hello ve verileri tek bir varlık için tek bir istekle gözden tooretrieve oluşur.</span><span class="sxs-lookup"><span data-stu-id="dee89-672">Notice how hello **RowKey** is now a compound key made up of hello employee id and hello year of hello review data that enables you tooretrieve hello employee's performance and review data with a single request for a single entity.</span></span>  

<span data-ttu-id="dee89-673">Aşağıdaki örneğine hello (örneğin, hello satış departmanında çalışan 000123) belirli bir çalışana ait tüm hello gözden geçirme verilerini nasıl alabilir özetlenmektedir:</span><span class="sxs-lookup"><span data-stu-id="dee89-673">hello following example outlines how you can retrieve all hello review data for a particular employee (such as employee 000123 in hello Sales department):</span></span>  

<span data-ttu-id="dee89-674">$filter (PartitionKey eq 'Satış') = ve (RowKey ge 'empid_000123') ve (RowKey lt 'empid_000124') & $select = RowKey, Yöneticisi derecelendirme, eş derecelendirme, Yorumlar</span><span class="sxs-lookup"><span data-stu-id="dee89-674">$filter=(PartitionKey eq 'Sales') and (RowKey ge 'empid_000123') and (RowKey lt 'empid_000124')&$select=RowKey,Manager Rating,Peer Rating,Comments</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-675">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-675">Issues and considerations</span></span>
<span data-ttu-id="dee89-676">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-676">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-677">Kolay tooparse hello kolaylaştırır uygun ayırıcı karakter kullanması gereken **RowKey** değeri: Örneğin, **000123_2012**.</span><span class="sxs-lookup"><span data-stu-id="dee89-677">You should use a suitable separator character that makes it easy tooparse hello **RowKey** value: for example, **000123_2012**.</span></span>  
* <span data-ttu-id="dee89-678">Aynı bölüm hello ilgili verileri içeren diğer varlıklar olarak Merhaba, bu varlık depoluyorsanız aynı çalışan, EGTs toomaintain güçlü tutarlılık kullanabileceğiniz anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="dee89-678">You are also storing this entity in hello same partition as other entities that contain related data for hello same employee, which means you can use EGTs toomaintain strong consistency.</span></span>
* <span data-ttu-id="dee89-679">Bu desen uygun olup olmadığını ne sıklıkta hello veri toodetermine sorgulayacak göz önünde bulundurmalısınız.</span><span class="sxs-lookup"><span data-stu-id="dee89-679">You should consider how frequently you will query hello data toodetermine whether this pattern is appropriate.</span></span>  <span data-ttu-id="dee89-680">Örneğin, erişim sağlarsa gözden geçirme verilerini seyrek hello ve hello genellikle ana çalışan verilerini ayrı varlıklar olarak tutmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-680">For example, if you will access hello review data infrequently and hello main employee data often you should keep them as separate entities.</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-681">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-681">When toouse this pattern</span></span>
<span data-ttu-id="dee89-682">Bu deseni toostore biri gerekir veya ilgili daha fazla varlıklar, sorgu sık kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-682">Use this pattern when you need toostore one or more related entities that you query frequently.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-683">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-683">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-684">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-684">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-685">Varlık Grup işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-685">Entity Group Transactions</span></span>](#entity-group-transactions)  
* [<span data-ttu-id="dee89-686">Heterojen varlık türleri ile çalışma</span><span class="sxs-lookup"><span data-stu-id="dee89-686">Working with heterogeneous entity types</span></span>](#working-with-heterogeneous-entity-types)  
* [<span data-ttu-id="dee89-687">Sonuçta tutarlı işlemleri düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-687">Eventually consistent transactions pattern</span></span>](#eventually-consistent-transactions-pattern)  

### <a name="log-tail-pattern"></a><span data-ttu-id="dee89-688">Günlük tail düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-688">Log tail pattern</span></span>
<span data-ttu-id="dee89-689">Merhaba almak  *n*  eklenen en son tooa bölüm varlıklar kullanarak bir **RowKey** ters tarihi ve saati sipariş sıralar değeri.</span><span class="sxs-lookup"><span data-stu-id="dee89-689">Retrieve hello *n* entities most recently added tooa partition by using a **RowKey** value that sorts in reverse date and time order.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-690">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-690">Context and problem</span></span>
<span data-ttu-id="dee89-691">En son oluşturulan hello varlıkları, bir çalışan tarafından gönderilen örneğin hello on en son gider talep edebilir tooretrieve olması ortak gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="dee89-691">A common requirement is be able tooretrieve hello most recently created entities, for example hello ten most recent expense claims submitted by an employee.</span></span> <span data-ttu-id="dee89-692">Tablo sorguları destek bir **$top** işlemi tooreturn hello önce sorgu  *n*  bir kümesindeki varlıkların: kümesindeki eşdeğer sorgu işlemi tooreturn hello son n varlık yok.</span><span class="sxs-lookup"><span data-stu-id="dee89-692">Table queries support a **$top** query operation tooreturn hello first *n* entities from a set: there is no equivalent query operation tooreturn hello last n entities in a set.</span></span>  

#### <a name="solution"></a><span data-ttu-id="dee89-693">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-693">Solution</span></span>
<span data-ttu-id="dee89-694">Kullanarak deposu hello varlıklar bir **RowKey** doğal olarak ters sıralar sırası böylece hello en son giriş her zaman hello kullanarak Merhaba tablonun ilk yapısıyla tarih olduğunu.</span><span class="sxs-lookup"><span data-stu-id="dee89-694">Store hello entities using a **RowKey** that naturally sorts in reverse date/time order by using so hello most recent entry is always hello first one in hello table.</span></span>  

<span data-ttu-id="dee89-695">Örneğin, toobe mümkün tooretrieve en son on gider talep bir çalışan tarafından gönderilen Merhaba, geçerli tarih hello türetilmiş bir ters onay değeri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-695">For example, toobe able tooretrieve hello ten most recent expense claims submitted by an employee, you can use a reverse tick value derived from hello current date/time.</span></span> <span data-ttu-id="dee89-696">Merhaba aşağıdaki C# kod örneği bir yolu toocreate uygun "çizgilerine ters" değeri için gösteren bir **RowKey** hello en son toohello eski sıralar:</span><span class="sxs-lookup"><span data-stu-id="dee89-696">hello following C# code sample shows one way toocreate a suitable "inverted ticks" value for a **RowKey** that sorts from hello most recent toohello oldest:</span></span>  

`string invertedTicks = string.Format("{0:D19}", DateTime.MaxValue.Ticks - DateTime.UtcNow.Ticks);`  

<span data-ttu-id="dee89-697">Koddan hello kullanarak toohello tarih saat değerine geri alabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="dee89-697">You can get back toohello date time value using hello following code:</span></span>  

`DateTime dt = new DateTime(DateTime.MaxValue.Ticks - Int64.Parse(invertedTicks));`  

<span data-ttu-id="dee89-698">Merhaba Tablo sorgusu şöyle görünür:</span><span class="sxs-lookup"><span data-stu-id="dee89-698">hello table query looks like this:</span></span>  

`https://myaccount.table.core.windows.net/EmployeeExpense(PartitionKey='empid')?$top=10`  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-699">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-699">Issues and considerations</span></span>
<span data-ttu-id="dee89-700">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-700">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-701">Merhaba ters onay değeri sıfır eklenerek paneli tooensure hello dize değeri, beklenen şekilde sıralar.</span><span class="sxs-lookup"><span data-stu-id="dee89-701">You must pad hello reverse tick value with leading zeroes tooensure hello string value sorts as expected.</span></span>  
* <span data-ttu-id="dee89-702">Bir bölümün hello düzeyinde hello ölçeklenebilirlik hedefleri farkında olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-702">You must be aware of hello scalability targets at hello level of a partition.</span></span> <span data-ttu-id="dee89-703">Dikkatli olun etkin nokta bölümleri oluşturma değil.</span><span class="sxs-lookup"><span data-stu-id="dee89-703">Be careful not create hot spot partitions.</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-704">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-704">When toouse this pattern</span></span>
<span data-ttu-id="dee89-705">Ters tarih sırası tooaccess varlıklarda gerektiğinde veya tooaccess hello en son ihtiyacınız olduğunda bu deseni kullanım varlıklar eklendi.</span><span class="sxs-lookup"><span data-stu-id="dee89-705">Use this pattern when you need tooaccess entities in reverse date/time order or when you need tooaccess hello most recently added entities.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-706">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-706">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-707">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-707">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-708">Başına / koruma düzeni ekleme</span><span class="sxs-lookup"><span data-stu-id="dee89-708">Prepend / append anti-pattern</span></span>](#prepend-append-anti-pattern)  
* [<span data-ttu-id="dee89-709">Varlıkları alma</span><span class="sxs-lookup"><span data-stu-id="dee89-709">Retrieving entities</span></span>](#retrieving-entities)  

### <a name="high-volume-delete-pattern"></a><span data-ttu-id="dee89-710">Yüksek hacimli delete düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-710">High volume delete pattern</span></span>
<span data-ttu-id="dee89-711">Yüksek hacimli varlıkların Hello silinmesini kendi ayrı tabloda eşzamanlı silme işlemi için tüm hello varlıklar depolayarak etkinleştirmek; Merhaba tablo silerek hello varlıkları silin.</span><span class="sxs-lookup"><span data-stu-id="dee89-711">Enable hello deletion of a high volume of entities by storing all hello entities for simultaneous deletion in their own separate table; you delete hello entities by deleting hello table.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-712">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-712">Context and problem</span></span>
<span data-ttu-id="dee89-713">Birçok uygulama artık toobe kullanılabilir tooa istemci uygulaması gereken eski verileri silmek veya hello uygulama tooanother depolama ortamına arşivlenmiş.</span><span class="sxs-lookup"><span data-stu-id="dee89-713">Many applications delete old data which no longer needs toobe available tooa client application, or that hello application has archived tooanother storage medium.</span></span> <span data-ttu-id="dee89-714">Genellikle bu tür veriler tarihe göre belirleyin: Örneğin, bir gereksinim toodelete kayıtları 60 günden eski olan tüm oturum açma isteklerinin sahip.</span><span class="sxs-lookup"><span data-stu-id="dee89-714">You typically identify such data by a date: for example, you have a requirement toodelete records of all login requests that are more than 60 days old.</span></span>  

<span data-ttu-id="dee89-715">Bir olası tasarımdır toouse hello tarih ve saat hello hello oturum açma isteğinin **RowKey**:</span><span class="sxs-lookup"><span data-stu-id="dee89-715">One possible design is toouse hello date and time of hello login request in hello **RowKey**:</span></span>  

![][21]

<span data-ttu-id="dee89-716">Merhaba uygulaması eklemek ve ayrı bir bölüme her kullanıcı için oturum açma varlıkları silmek için bu yaklaşım bölüm etkin önler.</span><span class="sxs-lookup"><span data-stu-id="dee89-716">This approach avoids partition hotspots because hello application can insert and delete login entities for each user in a separate partition.</span></span> <span data-ttu-id="dee89-717">Ancak, bu yaklaşım maliyetli olabilir ve zaman alıcı ilk tooperform gerektiğinden çok sayıda varlık varsa bir tablo tarama sipariş tooidentify tüm hello varlıklar toodelete ve eski her varlık silmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-717">However, this approach may be costly and time consuming if you have a large number of entities because first you need tooperform a table scan in order tooidentify all hello entities toodelete, and then you must delete each old entity.</span></span> <span data-ttu-id="dee89-718">Not EGTs birden çok silme isteklerinin'toplu işleme gidiş dönüş toohello gerekli sunucu toodelete hello eski varlıkları hello sayısını azaltabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-718">Note that you can reduce hello number of round trips toohello server required toodelete hello old entities by batching multiple delete requests into EGTs.</span></span>  

#### <a name="solution"></a><span data-ttu-id="dee89-719">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-719">Solution</span></span>
<span data-ttu-id="dee89-720">Oturum açma denemesi her gün için ayrı bir tablo kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-720">Use a separate table for each day of login attempts.</span></span> <span data-ttu-id="dee89-721">Varlıklar ekleme ve eski varlıkları silmek şimdi her gün bir tablo silme yalnızca bir soru olduğunda hello varlık tasarım tooavoid etkin yukarıda kullanabilirsiniz (tek bir depolama işlemi) yerine bulma ve yüzlerce ve binlerce silme tek tek oturum açma varlıklar her gün.</span><span class="sxs-lookup"><span data-stu-id="dee89-721">You can use hello entity design above tooavoid hotspots when you are inserting entities, and deleting old entities is now simply a question of deleting one table every day (a single storage operation) instead of finding and deleting hundreds and thousands of individual login entities every day.</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-722">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-722">Issues and considerations</span></span>
<span data-ttu-id="dee89-723">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-723">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-724">Tasarımınızın, uygulamanızın belirli varlıklar, diğer veri ya da oluşturma toplama bilgisi ile bağlama bakarak gibi hello verileri kullanacak diğer yolları destekliyor mu?</span><span class="sxs-lookup"><span data-stu-id="dee89-724">Does your design support other ways your application will use hello data such as looking up specific entities, linking with other data, or generating aggregate information?</span></span>  
* <span data-ttu-id="dee89-725">Yeni varlıklar eklerken tasarımınızı etkin noktalar önlenir?</span><span class="sxs-lookup"><span data-stu-id="dee89-725">Does your design avoid hot spots when you are inserting new entities?</span></span>  
* <span data-ttu-id="dee89-726">Tooreuse istiyorsanız bir gecikme hello aynı beklediğiniz silmeden sonra tablo adı.</span><span class="sxs-lookup"><span data-stu-id="dee89-726">Expect a delay if you want tooreuse hello same table name after deleting it.</span></span> <span data-ttu-id="dee89-727">Bu, daha iyi tooalways benzersiz tablo adları kullan olur.</span><span class="sxs-lookup"><span data-stu-id="dee89-727">It's better tooalways use unique table names.</span></span>  
* <span data-ttu-id="dee89-728">Merhaba tablo hizmeti hello erişimi desenleri öğrenir ve düğümlere hello bölümlerini dağıtır yeni bir tablo ilk kez kullandığınızda, bazı azaltma bekler.</span><span class="sxs-lookup"><span data-stu-id="dee89-728">Expect some throttling when you first use a new table while hello Table service learns hello access patterns and distributes hello partitions across nodes.</span></span> <span data-ttu-id="dee89-729">Toocreate yeni tablolar ne sıklıkta ihtiyacınız göz önünde bulundurmalısınız.</span><span class="sxs-lookup"><span data-stu-id="dee89-729">You should consider how frequently you need toocreate new tables.</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-730">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-730">When toouse this pattern</span></span>
<span data-ttu-id="dee89-731">Hello silmelisiniz varlıklar hacmi yüksek olduğunda bu deseni kullanarak aynı anda.</span><span class="sxs-lookup"><span data-stu-id="dee89-731">Use this pattern when you have a high volume of entities that you must delete at hello same time.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-732">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-732">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-733">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-733">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-734">Varlık Grup işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-734">Entity Group Transactions</span></span>](#entity-group-transactions)
* [<span data-ttu-id="dee89-735">Varlıkları değiştirme</span><span class="sxs-lookup"><span data-stu-id="dee89-735">Modifying entities</span></span>](#modifying-entities)  

### <a name="data-series-pattern"></a><span data-ttu-id="dee89-736">Veri serisi deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-736">Data series pattern</span></span>
<span data-ttu-id="dee89-737">Mağaza tam veri serisi yaptığınız isteklerini tek bir varlık toominimize hello sayısı.</span><span class="sxs-lookup"><span data-stu-id="dee89-737">Store complete data series in a single entity toominimize hello number of requests you make.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-738">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-738">Context and problem</span></span>
<span data-ttu-id="dee89-739">Yaygın bir senaryo için bir uygulama toostore, genellikle tooretrieve tümünü bir defada ihtiyaç duyduğu veri dizisidir.</span><span class="sxs-lookup"><span data-stu-id="dee89-739">A common scenario is for an application toostore a series of data that it typically needs tooretrieve all at once.</span></span> <span data-ttu-id="dee89-740">Örneğin, uygulamanız her çalışan her saat gönderir kaç anlık ileti iletileri kaydetmek ve önceki 24 saat üzerinden gönderilen her kullanıcı kaç iletileri hello bu bilgileri tooplot kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-740">For example, your application might record how many IM messages each employee sends every hour, and then use this information tooplot how many messages each user sent over hello preceding 24 hours.</span></span> <span data-ttu-id="dee89-741">Bir tasarım toostore 24 varlıklar her çalışana ait olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-741">One design might be toostore 24 entities for each employee:</span></span>  

![][22]

<span data-ttu-id="dee89-742">Bu tasarım ile kolayca bulmanıza ve Merhaba uygulaması tooupdate hello ileti sayısı değeri her gerektiğinde Merhaba varlık tooupdate her çalışan için güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="dee89-742">With this design, you can easily locate and update hello entity tooupdate for each employee whenever hello application needs tooupdate hello message count value.</span></span> <span data-ttu-id="dee89-743">Ancak, tooretrieve Merhaba bilgi tooplot hello etkinlik hello önceki 24 saat için bir grafik, 24 varlıklar almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-743">However, tooretrieve hello information tooplot a chart of hello activity for hello preceding 24 hours, you must retrieve 24 entities.</span></span>  

#### <a name="solution"></a><span data-ttu-id="dee89-744">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-744">Solution</span></span>
<span data-ttu-id="dee89-745">Her saat için ayrı özellik toostore hello ileti sayısı ile tasarım aşağıdaki hello kullan:</span><span class="sxs-lookup"><span data-stu-id="dee89-745">Use hello following design with a separate property toostore hello message count for each hour:</span></span>  

![][23]

<span data-ttu-id="dee89-746">Bu tasarımla, bir birleştirme işlemi tooupdate hello ileti sayısı çalışana ait belirli bir saat için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-746">With this design, you can use a merge operation tooupdate hello message count for an employee for a specific hour.</span></span> <span data-ttu-id="dee89-747">Şimdi, tek bir varlık için bir istek kullanarak tooplot hello grafik gerek duyduğunuz tüm hello bilgi alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-747">Now, you can retrieve all hello information you need tooplot hello chart using a request for a single entity.</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-748">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-748">Issues and considerations</span></span>
<span data-ttu-id="dee89-749">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-749">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-750">Tam veri dizileriniz (bir varlık too252 özelliklerini olabilir) tek bir varlık içine uygun değilse, alternatif veri deposu blob gibi kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-750">If your complete data series does not fit into a single entity (an entity can have up too252 properties), use an alternative data store such as a blob.</span></span>  
* <span data-ttu-id="dee89-751">Bir varlık aynı anda güncelleştirme birden fazla istemciniz varsa toouse hello gerekir **ETag** tooimplement iyimser eşzamanlılık.</span><span class="sxs-lookup"><span data-stu-id="dee89-751">If you have multiple clients updating an entity simultaneously, you will need toouse hello **ETag** tooimplement optimistic concurrency.</span></span> <span data-ttu-id="dee89-752">Birçok istemciniz varsa, yüksek çakışma karşılaşabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-752">If you have many clients, you may experience high contention.</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-753">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-753">When toouse this pattern</span></span>
<span data-ttu-id="dee89-754">Tooupdate gerekir ve tek bir varlık ile ilişkili bir veri serisi almak olduğunda bu deseni kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-754">Use this pattern when you need tooupdate and retrieve a data series associated with an individual entity.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-755">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-755">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-756">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-756">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-757">Büyük varlıklar düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-757">Large entities pattern</span></span>](#large-entities-pattern)  
* [<span data-ttu-id="dee89-758">Birleştirme ya da değiştirme</span><span class="sxs-lookup"><span data-stu-id="dee89-758">Merge or replace</span></span>](#merge-or-replace)  
* <span data-ttu-id="dee89-759">[Sonuçta tutarlı işlemleri düzeni](#eventually-consistent-transactions-pattern) (, hello veri serisi bir blob'a depoladığınız varsa)</span><span class="sxs-lookup"><span data-stu-id="dee89-759">[Eventually consistent transactions pattern](#eventually-consistent-transactions-pattern) (if you are storing hello data series in a blob)</span></span>  

### <a name="wide-entities-pattern"></a><span data-ttu-id="dee89-760">Geniş varlıklar düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-760">Wide entities pattern</span></span>
<span data-ttu-id="dee89-761">Birden çok fiziksel varlıkların toostore mantıksal varlık ile birden çok 252 özellik kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-761">Use multiple physical entities toostore logical entities with more than 252 properties.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-762">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-762">Context and problem</span></span>
<span data-ttu-id="dee89-763">Tek bir varlık (Merhaba zorunlu sistem özellikleri dışında) en çok 252 özellik olabilir ve birden fazla 1 MB veri toplama depolanamıyor.</span><span class="sxs-lookup"><span data-stu-id="dee89-763">An individual entity can have no more than 252 properties (excluding hello mandatory system properties) and cannot store more than 1 MB of data in total.</span></span> <span data-ttu-id="dee89-764">İlişkisel bir veritabanında, genellikle bir satır hello boyutu üzerinde herhangi bir sınır round yeni bir tablo ekleyerek ve aralarında 1-1 ilişkisi zorlamayı elde edebileceğiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-764">In a relational database, you would typically get round any limits on hello size of a row by adding a new table and enforcing a 1-to-1 relationship between them.</span></span>  

#### <a name="solution"></a><span data-ttu-id="dee89-765">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-765">Solution</span></span>
<span data-ttu-id="dee89-766">Merhaba tablo hizmetini kullanarak, birden çok varlık toorepresent birden çok 252 özellik tek büyük iş nesnesiyle depolayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-766">Using hello Table service, you can store multiple entities toorepresent a single large business object with more than 252 properties.</span></span> <span data-ttu-id="dee89-767">Örneğin, toostore bir sayısını hello her çalışan hello için son 365 gün gönderilen IM iletilerini isterseniz, iki varlık farklı şemalarda kullanan tasarım aşağıdaki hello kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="dee89-767">For example, if you want toostore a count of hello number of IM messages sent by each employee for hello last 365 days, you could use hello following design that uses two entities with different schemas:</span></span>  

![][24]

<span data-ttu-id="dee89-768">Toomake birbirleri ile eşitlenen hem varlıklar tookeep güncelleştirilmesi için bir değişiklik gerekirse bir EGT kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-768">If you need toomake a change that requires updating both entities tookeep them synchronized with each other you can use an EGT.</span></span> <span data-ttu-id="dee89-769">Aksi halde, bir tek birleştirme işlemi tooupdate hello ileti sayısı için belirli bir gün kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-769">Otherwise, you can use a single merge operation tooupdate hello message count for a specific day.</span></span> <span data-ttu-id="dee89-770">Tüm hello veri hem kullanan iki verimli istekleri ile yapmak için her iki varlıkları almak gerekir belirli bir çalışan tooretrieve bir **PartitionKey** ve **RowKey** değeri.</span><span class="sxs-lookup"><span data-stu-id="dee89-770">tooretrieve all hello data for an individual employee you must retrieve both entities, which you can do with two efficient requests that use both a **PartitionKey** and a **RowKey** value.</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-771">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-771">Issues and considerations</span></span>
<span data-ttu-id="dee89-772">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-772">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-773">Eksiksiz bir mantıksal varlık alma, en az iki depolama işlemleri içerir: bir tooretrieve fiziksel varlık.</span><span class="sxs-lookup"><span data-stu-id="dee89-773">Retrieving a complete logical entity involves at least two storage transactions: one tooretrieve each physical entity.</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-774">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-774">When toouse this pattern</span></span>
<span data-ttu-id="dee89-775">Gereksinim toostore varlıklar, boyutunu veya sayısını özelliklerinin hello tek tek bir varlık için hello sınırlarını aşıyor tablo hizmeti olduğunda bu deseni kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-775">Use this pattern when  need toostore entities whose size or number of properties exceeds hello limits for an individual entity in hello Table service.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-776">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-776">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-777">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-777">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-778">Varlık Grup işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-778">Entity Group Transactions</span></span>](#entity-group-transactions)
* [<span data-ttu-id="dee89-779">Birleştirme ya da değiştirme</span><span class="sxs-lookup"><span data-stu-id="dee89-779">Merge or replace</span></span>](#merge-or-replace)

### <a name="large-entities-pattern"></a><span data-ttu-id="dee89-780">Büyük varlıklar düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-780">Large entities pattern</span></span>
<span data-ttu-id="dee89-781">BLOB Depolama toostore büyük özellik değerlerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-781">Use blob storage toostore large property values.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-782">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-782">Context and problem</span></span>
<span data-ttu-id="dee89-783">Tek bir varlık 1 MB'tan fazla veri toplama depolanamıyor.</span><span class="sxs-lookup"><span data-stu-id="dee89-783">An individual entity cannot store more than 1 MB of data in total.</span></span> <span data-ttu-id="dee89-784">Bir veya birkaç özelliklerinizin hello toplam boyutu, varlık tooexceed bu değeri neden değerleri depolarsanız, hello tablo hizmeti hello tüm varlık depolanamıyor.</span><span class="sxs-lookup"><span data-stu-id="dee89-784">If one or several of your properties store values that cause hello total size of your entity tooexceed this value, you cannot store hello entire entity in hello Table service.</span></span>  

#### <a name="solution"></a><span data-ttu-id="dee89-785">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-785">Solution</span></span>
<span data-ttu-id="dee89-786">Bir veya daha fazla özellikleri büyük miktarda veri içerdiğinden varlığınız 1 MB boyutunda aşarsa, hello Blob hizmeti verileri depolamak ve ardından hello varlık özelliğinde hello blob hello adresini depolamak.</span><span class="sxs-lookup"><span data-stu-id="dee89-786">If your entity exceeds 1 MB in size because one or more properties contain a large amount of data, you can store data in hello Blob service and then store hello address of hello blob in a property in hello entity.</span></span> <span data-ttu-id="dee89-787">Örneğin, bir çalışanın hello fotoğraf blob storage'da depolamak ve bağlantı toohello fotoğraf hello depolamak **fotoğraf** çalışan varlığınız özelliği:</span><span class="sxs-lookup"><span data-stu-id="dee89-787">For example, you can store hello photo of an employee in blob storage and store a link toohello photo in hello **Photo** property of your employee entity:</span></span>  

![][25]

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-788">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-788">Issues and considerations</span></span>
<span data-ttu-id="dee89-789">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-789">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-790">Merhaba tablo hizmeti hello varlık ve hello Blob hizmeti hello verileri arasında toomaintain nihai tutarlılık kullanmak hello [sonuçta tutarlı işlemleri düzeni](#eventually-consistent-transactions-pattern) toomaintain varlıklarınızı.</span><span class="sxs-lookup"><span data-stu-id="dee89-790">toomaintain eventual consistency between hello entity in hello Table service and hello data in hello Blob service, use hello [Eventually consistent transactions pattern](#eventually-consistent-transactions-pattern) toomaintain your entities.</span></span>
* <span data-ttu-id="dee89-791">Eksiksiz bir varlık alma, en az iki depolama işlemleri içerir: bir tooretrieve hello varlık ve bir tooretrieve hello blob veri.</span><span class="sxs-lookup"><span data-stu-id="dee89-791">Retrieving a complete entity involves at least two storage transactions: one tooretrieve hello entity and one tooretrieve hello blob data.</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-792">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-792">When toouse this pattern</span></span>
<span data-ttu-id="dee89-793">Büyüklüğü hello tablo hizmetinde tek bir varlık için hello sınırlarını aşıyor toostore varlıklar ihtiyacınız olduğunda bu deseni kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-793">Use this pattern when you need toostore entities whose size exceeds hello limits for an individual entity in hello Table service.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-794">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-794">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-795">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-795">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-796">Sonuçta tutarlı işlemleri düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-796">Eventually consistent transactions pattern</span></span>](#eventually-consistent-transactions-pattern)  
* [<span data-ttu-id="dee89-797">Geniş varlıklar düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-797">Wide entities pattern</span></span>](#wide-entities-pattern)

<a name="prepend-append-anti-pattern"></a>

### <a name="prependappend-anti-pattern"></a><span data-ttu-id="dee89-798">Koruma deseni başına ve ekleme</span><span class="sxs-lookup"><span data-stu-id="dee89-798">Prepend/append anti-pattern</span></span>
<span data-ttu-id="dee89-799">Birden çok bölüm arasında hello eklemeleri yayarak eklemeleri hacmi yüksek olduğunda ölçeklenebilirliği artırmak.</span><span class="sxs-lookup"><span data-stu-id="dee89-799">Increase scalability when you have a high volume of inserts by spreading hello inserts across multiple partitions.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-800">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-800">Context and problem</span></span>
<span data-ttu-id="dee89-801">Eklenmesini veya varlıklar depolanan tooyour varlıklar genellikle ekleme sonuçları yeni varlıklar toohello eklenmediği hello uygulamada veya son bölümü, bir dizi bölümler.</span><span class="sxs-lookup"><span data-stu-id="dee89-801">Prepending or appending entities tooyour stored entities typically results in hello application adding new entities toohello first or last partition of a sequence of partitions.</span></span> <span data-ttu-id="dee89-802">Bu durumda, tüm hello eklemeleri verilen herhangi bir zamanda birden fazla düğümleri arasında Yük Dengeleme hello tablo hizmeti engelleyen bir etkin nokta oluşturma aynı bölüme ekler hello yerinde alma ve büyük olasılıkla, uygulama toohit hello ölçeklenebilirlik neden bölüm için hedefler.</span><span class="sxs-lookup"><span data-stu-id="dee89-802">In this case, all of hello inserts at any given time are taking place in hello same partition, creating a hotspot that prevents hello table service from load balancing inserts across multiple nodes, and possibly causing your application toohit hello scalability targets for partition.</span></span> <span data-ttu-id="dee89-803">Örneğin, aşağıda gösterildiği gibi bir varlık yapısı neden sonra çalışanlar tarafından erişim günlükleri ağ ve kaynak bir uygulamanız varsa hello toplu işlemler için hello ölçeklenebilirlik hedef ulaşırsa bir etkin nokta olmadan geçerli saatlik bölüm hello tek bir bölümü:</span><span class="sxs-lookup"><span data-stu-id="dee89-803">For example, if you have an application that logs network and resource access by employees, then an entity structure as shown below could result in hello current hour's partition becoming a hotspot if hello volume of transactions reaches hello scalability target for an individual partition:</span></span>  

![][26]

#### <a name="solution"></a><span data-ttu-id="dee89-804">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-804">Solution</span></span>
<span data-ttu-id="dee89-805">Merhaba aşağıdaki alternatif varlık yapısı herhangi bir bölümü etkin nokta hello uygulama günlükleri olayları ortadan kaldırır:</span><span class="sxs-lookup"><span data-stu-id="dee89-805">hello following alternative entity structure avoids a hotspot on any particular partition as hello application logs events:</span></span>  

![][27]

<span data-ttu-id="dee89-806">Bu örnek ile nasıl her ikisi de hello dikkat edin **PartitionKey** ve **RowKey** bileşik anahtarlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-806">Notice with this example how both hello **PartitionKey** and **RowKey** are compound keys.</span></span> <span data-ttu-id="dee89-807">Merhaba **PartitionKey** hello departman ve çalışan kimliği toodistribute hello günlüğü arasında birden çok bölüm kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-807">hello **PartitionKey** uses both hello department and employee id toodistribute hello logging across multiple partitions.</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-808">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-808">Issues and considerations</span></span>
<span data-ttu-id="dee89-809">Merhaba karar verirken aşağıdaki noktaları göz önünde bulundurun nasıl tooimplement bu deseni:</span><span class="sxs-lookup"><span data-stu-id="dee89-809">Consider hello following points when deciding how tooimplement this pattern:</span></span>  

* <span data-ttu-id="dee89-810">Dinamik bölümleri ekler üzerinde verimli bir şekilde destek hello sorgular oluşturma engelleyen mu hello alternatif anahtar yapısı istemci uygulamanızı yapar?</span><span class="sxs-lookup"><span data-stu-id="dee89-810">Does hello alternative key structure that avoids creating hot partitions on inserts efficiently support hello queries your client application makes?</span></span>  
* <span data-ttu-id="dee89-811">Beklenen biriminiz hareketlerinin hello ölçeklenebilirlik hedefleri tek tek bir bölüm için büyük olasılıkla tooreach olan ve hello depolama hizmeti tarafından kısıtlanan anlama geliyor?</span><span class="sxs-lookup"><span data-stu-id="dee89-811">Does your anticipated volume of transactions mean that you are likely tooreach hello scalability targets for an individual partition and be throttled by hello storage service?</span></span>  

#### <a name="when-toouse-this-pattern"></a><span data-ttu-id="dee89-812">Zaman toouse bu deseni</span><span class="sxs-lookup"><span data-stu-id="dee89-812">When toouse this pattern</span></span>
<span data-ttu-id="dee89-813">Biriminiz hareketlerinin etkin bölüm eriştiğinizde hello depolama hizmeti tarafından azaltma, büyük olasılıkla tooresult olduğunda hello başına/append koruma düzeni kaçının.</span><span class="sxs-lookup"><span data-stu-id="dee89-813">Avoid hello prepend/append anti-pattern when your volume of transactions is likely tooresult in throttling by hello storage service when you access a hot partition.</span></span>  

#### <a name="related-patterns-and-guidance"></a><span data-ttu-id="dee89-814">İlgili desenleri ve Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="dee89-814">Related patterns and guidance</span></span>
<span data-ttu-id="dee89-815">Merhaba aşağıdaki desenleri ve rehberlik de bu deseni uygularken ilgili olabilir:</span><span class="sxs-lookup"><span data-stu-id="dee89-815">hello following patterns and guidance may also be relevant when implementing this pattern:</span></span>  

* [<span data-ttu-id="dee89-816">Bileşik anahtar düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-816">Compound key pattern</span></span>](#compound-key-pattern)  
* [<span data-ttu-id="dee89-817">Günlük tail düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-817">Log tail pattern</span></span>](#log-tail-pattern)  
* [<span data-ttu-id="dee89-818">Varlıkları değiştirme</span><span class="sxs-lookup"><span data-stu-id="dee89-818">Modifying entities</span></span>](#modifying-entities)  

### <a name="log-data-anti-pattern"></a><span data-ttu-id="dee89-819">Günlük veri koruma düzeni</span><span class="sxs-lookup"><span data-stu-id="dee89-819">Log data anti-pattern</span></span>
<span data-ttu-id="dee89-820">Genellikle, tablo hizmeti toostore günlük verilerini hello yerine hello Blob hizmeti kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-820">Typically, you should use hello Blob service instead of hello Table service toostore log data.</span></span>  

#### <a name="context-and-problem"></a><span data-ttu-id="dee89-821">İçerik ve sorunu</span><span class="sxs-lookup"><span data-stu-id="dee89-821">Context and problem</span></span>
<span data-ttu-id="dee89-822">Günlük verileri tooretrieve belirli tarih aralığı için günlük girişlerini seçimi için ortak bir kullanım örneği: Örneğin, tüm hello 15:04 15:06 belirli bir tarihte arasındaki uygulamanız oturum hata ve kritik iletileri toofind istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="dee89-822">A common use case for log data is tooretrieve a selection of log entries for a specific date/time range: for example, you want toofind all hello error and critical messages that your application logged between 15:04 and 15:06 on a specific date.</span></span> <span data-ttu-id="dee89-823">Toouse hello tarih ve saat hello günlük iletisi toodetermine hello bölümün günlük varlıklara kaydetmek istiyor musunuz: belirli bir zamanda, tüm hello günlük varlıklar paylaşacak çünkü etkin bölüm sonuçlarında aynı hello olduğunu **PartitionKey** değer (Merhaba bölümüne bakın [Prepend ve append koruma düzeni](#prepend-append-anti-pattern)).</span><span class="sxs-lookup"><span data-stu-id="dee89-823">You do not want toouse hello date and time of hello log message toodetermine hello partition you save log entities to: that results in a hot partition because at any given time, all hello log entities will share hello same **PartitionKey** value (see hello section [Prepend/append anti-pattern](#prepend-append-anti-pattern)).</span></span> <span data-ttu-id="dee89-824">Örneğin, Merhaba uygulaması toohello bölüm hello geçerli tarih ve saat için tüm günlük iletilerini yazdığından bir günlük iletisi için varlık Şeması aşağıdaki hello etkin bir bölümünde sonuçları:</span><span class="sxs-lookup"><span data-stu-id="dee89-824">For example, hello following entity schema for a log message results in a hot partition because hello application writes all log messages toohello partition for hello current date and hour:</span></span>  

![][28]

<span data-ttu-id="dee89-825">Bu örnekte, hello **RowKey** başlangıç tarihi ve saati hello günlük iletisi tooensure günlüğü iletileri, tarih/saat düzende sıralanmış olarak depolanır içerir ve birden çok günlük iletilerini aynı tarih ve saat hello paylaşmak durumunda bir ileti kimliği içerir.</span><span class="sxs-lookup"><span data-stu-id="dee89-825">In this example, hello **RowKey** includes hello date and time of hello log message tooensure that log messages are stored sorted in date/time order, and includes a message id in case multiple log messages share hello same date and time.</span></span>  

<span data-ttu-id="dee89-826">Başka bir yaklaşımdır toouse bir **PartitionKey** sağlar hello uygulama bölümleri aralığı iletileri yazar.</span><span class="sxs-lookup"><span data-stu-id="dee89-826">Another approach is toouse a **PartitionKey** that ensures that hello application writes messages across a range of partitions.</span></span> <span data-ttu-id="dee89-827">Örneğin, Hello hello günlüğü kaynağı iletisi birçok bölümler iletileri yolu toodistribute sağlıyorsa, varlık şema aşağıdaki hello kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="dee89-827">For example, if hello source of hello log message provides a way toodistribute messages across many partitions, you could use hello following entity schema:</span></span>  

![][29]

<span data-ttu-id="dee89-828">Ancak, tüm hello gerekir arama günlüğü iletileri belirli bir süre için o tooretrieve Bu şemayı hello sorun mu hello tablosundaki her bölüm.</span><span class="sxs-lookup"><span data-stu-id="dee89-828">However, hello problem with this schema is that tooretrieve all hello log messages for a specific time span you must search every partition in hello table.</span></span>

#### <a name="solution"></a><span data-ttu-id="dee89-829">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dee89-829">Solution</span></span>
<span data-ttu-id="dee89-830">toouse çalışırken hello önceki bölümünde vurgulanan hello sorununu tablo hizmeti toostore günlük girişlerini Merhaba ve iki, yetersiz önerilen, tasarlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-830">hello previous section highlighted hello problem of trying toouse hello Table service toostore log entries and suggested two, unsatisfactory, designs.</span></span> <span data-ttu-id="dee89-831">Günlük iletileri yazma performansının düşük hello riskini ile neden bir çözüm tooa etkin bölüm; Merhaba başka bir çözümü zayıf sorgu performansı hello gereksinim tooscan nedeniyle hello tablo tooretrieve günlük iletilerini belirli bir süre için her bölümün sonuçlandı.</span><span class="sxs-lookup"><span data-stu-id="dee89-831">One solution led tooa hot partition with hello risk of poor performance writing log messages; hello other solution resulted in poor query performance because of hello requirement tooscan every partition in hello table tooretrieve log messages for a specific time span.</span></span> <span data-ttu-id="dee89-832">BLOB storage bu tür senaryosu için daha iyi bir çözüm sunar ve bu topladığı nasıl Azure depolama çözümlemeleri hello günlük veriyi depolar.</span><span class="sxs-lookup"><span data-stu-id="dee89-832">Blob storage offers a better solution for this type of scenario and this is how Azure Storage Analytics stores hello log data it collects.</span></span>  

<span data-ttu-id="dee89-833">Bu bölümde, nasıl Storage Analytics bir aralık tarafından genellikle sorgu bu yaklaşım toostoring veri çizimi olarak blob depolama alanına günlük verilerini depolar özetlenmektedir.</span><span class="sxs-lookup"><span data-stu-id="dee89-833">This section outlines how Storage Analytics stores log data in blob storage as an illustration of this approach toostoring data that you typically query by range.</span></span>  

<span data-ttu-id="dee89-834">Storage Analytics günlük iletilerini birden çok BLOB'ları sınırlandırılmış biçimde depolar.</span><span class="sxs-lookup"><span data-stu-id="dee89-834">Storage Analytics stores log messages in a delimited format in multiple blobs.</span></span> <span data-ttu-id="dee89-835">Merhaba sınırlandırılmış biçimi için bir istemci uygulama tooparse hello verileri hello günlük iletisinde kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="dee89-835">hello delimited format makes it easy for a client application tooparse hello data in hello log message.</span></span>  

<span data-ttu-id="dee89-836">Storage Analytics bir adlandırma kuralı, aradığınız hello günlük iletilerini içeren toolocate hello blob (veya BLOB) sağlayan BLOB'lar için kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-836">Storage Analytics uses a naming convention for blobs that enables you toolocate hello blob (or blobs) that contain hello log messages for which you are searching.</span></span> <span data-ttu-id="dee89-837">Örneğin, "queue/2014/07/31/1800/000001.log" adlı bir blob hello saat 18:00 31 Temmuz 2014 üzerinde başlayarak toohello sıra hizmeti ile ilgili günlük iletilerini içerir.</span><span class="sxs-lookup"><span data-stu-id="dee89-837">For example, a blob named "queue/2014/07/31/1800/000001.log" contains log messages that relate toohello queue service for hello hour starting at 18:00 on 31 July 2014.</span></span> <span data-ttu-id="dee89-838">Merhaba "000001" Bu hello ilk günlük dosyası bu dönem için gösterir.</span><span class="sxs-lookup"><span data-stu-id="dee89-838">hello "000001" indicates that this is hello first log file for this period.</span></span> <span data-ttu-id="dee89-839">Storage Analytics ayrıca hello hello damgalarının ilk kaydeder ve son hello blob'un meta verilerinin bir parçası hello dosyasında depolanan iletilerini günlüğe kaydet.</span><span class="sxs-lookup"><span data-stu-id="dee89-839">Storage Analytics also records hello timestamps of hello first and last log messages stored in hello file as part of hello blob's metadata.</span></span> <span data-ttu-id="dee89-840">Merhaba API adı ön ekini temel alarak bir kapsayıcıdaki blobları bulmanıza blob depolama etkinleştirir: toolocate sıra içeren tüm hello BLOB'lar günlük veri hello saat 18: 00'dan başlayarak, hello önek "sıra/2014/07/31/1800." kullanabilirsiniz</span><span class="sxs-lookup"><span data-stu-id="dee89-840">hello API for blob storage enables you locate blobs in a container based on a name prefix: toolocate all hello blobs that contain queue log data for hello hour starting at 18:00, you can use hello prefix "queue/2014/07/31/1800."</span></span>  

<span data-ttu-id="dee89-841">Storage Analytics günlük iletilerini dahili arabelleğe alır ve hello uygun blob düzenli olarak güncelleştirir veya hello en son toplu günlük girişlerinin ile yeni bir tane oluşturur.</span><span class="sxs-lookup"><span data-stu-id="dee89-841">Storage Analytics buffers log messages internally and then periodically updates hello appropriate blob or creates a new one with hello latest batch of log entries.</span></span> <span data-ttu-id="dee89-842">Bu hello azaltır yazma toohello blob hizmeti gerçekleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-842">This reduces hello number of writes it must perform toohello blob service.</span></span>  

<span data-ttu-id="dee89-843">Benzer bir çözüm, kendi uygulamanızda uyguluyorsanız, nasıl toomanage hello (olduğu sürece her günlük girişi tooblob depolama yazma) güvenilirlik ve maliyet ve ölçeklenebilirlik arasındaki dengelemeyi dikkate almanız gerekir (güncelleştirmeler, uygulamanızda arabelleğe alma ve bunları tooblob depolama toplu olarak yazma).</span><span class="sxs-lookup"><span data-stu-id="dee89-843">If you are implementing a similar solution in your own application, you must consider how toomanage hello trade-off between reliability (writing every log entry tooblob storage as it happens) and cost and scalability (buffering updates in your application and writing them tooblob storage in batches).</span></span>  

#### <a name="issues-and-considerations"></a><span data-ttu-id="dee89-844">Sorunları ve dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="dee89-844">Issues and considerations</span></span>
<span data-ttu-id="dee89-845">Merhaba nasıl toostore oturum veri karar verirken aşağıdaki noktaları göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="dee89-845">Consider hello following points when deciding how toostore log data:</span></span>  

* <span data-ttu-id="dee89-846">Olası dinamik bölümleri önler bir tablo tasarımı oluşturursanız, günlük verilerinizi verimli bir şekilde erişemiyor bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-846">If you create a table design that avoids potential hot partitions, you may find that you cannot access your log data efficiently.</span></span>  
* <span data-ttu-id="dee89-847">tooprocess verilerini günlüğe, bir istemci, genellikle tooload çok sayıda kayıt gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="dee89-847">tooprocess log data, a client often needs tooload many records.</span></span>  
* <span data-ttu-id="dee89-848">Günlük verileri genellikle yapılandırılmış olsa da, blob depolama daha iyi bir çözüm olabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-848">Although log data is often structured, blob storage may be a better solution.</span></span>  

### <a name="implementation-considerations"></a><span data-ttu-id="dee89-849">Uygulama konuları</span><span class="sxs-lookup"><span data-stu-id="dee89-849">Implementation considerations</span></span>
<span data-ttu-id="dee89-850">Merhaba önceki bölümlerde açıklanan hello desenleri uyguladığınızda bu bölümde hello konuları toobear aklınızda bazıları açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="dee89-850">This section discusses some of hello considerations toobear in mind when you implement hello patterns described in hello previous sections.</span></span> <span data-ttu-id="dee89-851">Bu bölümde çoğunu hello depolama istemci kitaplığı (sürüm 4.3.0 yazma hello zamanında) kullanan C# ile yazılmış örnekler kullanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-851">Most of this section uses examples written in C# that use hello Storage Client Library (version 4.3.0 at hello time of writing).</span></span>  

### <a name="retrieving-entities"></a><span data-ttu-id="dee89-852">Varlıkları alma</span><span class="sxs-lookup"><span data-stu-id="dee89-852">Retrieving entities</span></span>
<span data-ttu-id="dee89-853">Merhaba bölümünde açıklandığı gibi [sorgulamak için tasarım](#design-for-querying), hello en verimli sorgudur noktası sorgusu.</span><span class="sxs-lookup"><span data-stu-id="dee89-853">As discussed in hello section [Design for querying](#design-for-querying), hello most efficient query is a point query.</span></span> <span data-ttu-id="dee89-854">Ancak, bazı senaryolarda birden çok varlık tooretrieve gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-854">However, in some scenarios you may need tooretrieve multiple entities.</span></span> <span data-ttu-id="dee89-855">Bu bölümde hello depolama istemci kitaplığı kullanılarak bazı ortak yaklaşımlar tooretrieving varlıklar açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="dee89-855">This section describes some common approaches tooretrieving entities using hello Storage Client Library.</span></span>  

#### <a name="executing-a-point-query-using-hello-storage-client-library"></a><span data-ttu-id="dee89-856">Merhaba depolama istemci kitaplığı kullanılarak noktası sorgusu yürütme</span><span class="sxs-lookup"><span data-stu-id="dee89-856">Executing a point query using hello Storage Client Library</span></span>
<span data-ttu-id="dee89-857">Merhaba en kolay yolu tooexecute noktası sorgusu olduğundan toouse hello **almak** sahip bir varlık alır, C# kod parçacığını aşağıdaki hello gösterildiği gibi işlemi tablo bir **PartitionKey** değer "Satış" ve bir  **RowKey** "212" değerinin:</span><span class="sxs-lookup"><span data-stu-id="dee89-857">hello easiest way tooexecute a point query is toouse hello **Retrieve** table operation as shown in hello following C# code snippet that retrieves an entity with a **PartitionKey** of value "Sales" and a **RowKey** of value "212":</span></span>  

```csharp
TableOperation retrieveOperation = TableOperation.Retrieve<EmployeeEntity>("Sales", "212");
var retrieveResult = employeeTable.Execute(retrieveOperation);
if (retrieveResult.Result != null)
{
    EmployeeEntity employee = (EmployeeEntity)retrieveResult.Result;
    ...
}  
```

<span data-ttu-id="dee89-858">Bu örnek hello varlık nasıl bekliyor fark toobe türü alır **EmployeeEntity**.</span><span class="sxs-lookup"><span data-stu-id="dee89-858">Notice how this example expects hello entity it retrieves toobe of type **EmployeeEntity**.</span></span>  

#### <a name="retrieving-multiple-entities-using-linq"></a><span data-ttu-id="dee89-859">LINQ kullanarak birden çok varlık alma</span><span class="sxs-lookup"><span data-stu-id="dee89-859">Retrieving multiple entities using LINQ</span></span>
<span data-ttu-id="dee89-860">LINQ ile depolama istemci kitaplığı kullanılarak ve bir sorgu belirterek birden çok varlık almak bir **burada** yan tümcesi.</span><span class="sxs-lookup"><span data-stu-id="dee89-860">You can retrieve multiple entities by using LINQ with Storage Client Library and specifying a query with a **where** clause.</span></span> <span data-ttu-id="dee89-861">tooavoid bir tablo taraması, hello her zaman içermelidir **PartitionKey** hello değerinde burada yan tümcesi ve mümkünse hello **RowKey** tooavoid tablo ve bölüm taramalar değeri.</span><span class="sxs-lookup"><span data-stu-id="dee89-861">tooavoid a table scan, you should always include hello **PartitionKey** value in hello where clause, and if possible hello **RowKey** value tooavoid table and partition scans.</span></span> <span data-ttu-id="dee89-862">Merhaba tablo hizmeti Karşılaştırma işleçleri (büyük, daha büyük veya eşit, daha az daha küçüktür veya eşit, eşit ve eşit değil) toouse sınırlı sayıda hello destekler nerede yan tümcesi.</span><span class="sxs-lookup"><span data-stu-id="dee89-862">hello table service supports a limited set of comparison operators (greater than, greater than or equal, less than, less than or equal, equal, and not equal) toouse in hello where clause.</span></span> <span data-ttu-id="dee89-863">Merhaba aşağıdaki C# kod parçacığını tüm hello çalışanlar, son adı ile başlayan, "B" bulur (Bu hello varsayılarak **RowKey** depoları hello Soyadı) hello satış departmanında (Merhaba varsayılarak **PartitionKey** depoları hello bölüm adı):</span><span class="sxs-lookup"><span data-stu-id="dee89-863">hello following C# code snippet finds all hello employees whose last name starts with "B" (assuming that hello **RowKey** stores hello last name) in hello sales department (assuming hello **PartitionKey** stores hello department name):</span></span>  

```csharp
TableQuery<EmployeeEntity> employeeQuery = employeeTable.CreateQuery<EmployeeEntity>();
var query = (from employee in employeeQuery
            where employee.PartitionKey == "Sales" &&
            employee.RowKey.CompareTo("B") >= 0 &&
            employee.RowKey.CompareTo("C") < 0
            select employee).AsTableQuery();
var employees = query.Execute();  
```

<span data-ttu-id="dee89-864">Nasıl hello sorgu her ikisi de belirtiyor fark bir **RowKey** ve **PartitionKey** tooensure daha iyi performans.</span><span class="sxs-lookup"><span data-stu-id="dee89-864">Notice how hello query specifies both a **RowKey** and a **PartitionKey** tooensure better performance.</span></span>  

<span data-ttu-id="dee89-865">Merhaba aşağıdaki kod örneği hello fluent API kullanılarak eşdeğer işlevselliğini göstermektedir (genel olarak, akıcı API'ler hakkında daha fazla bilgi için bkz [Fluent API tasarlamak için en iyi yöntemler](http://visualstudiomagazine.com/articles/2013/12/01/best-practices-for-designing-a-fluent-api.aspx)):</span><span class="sxs-lookup"><span data-stu-id="dee89-865">hello following code sample shows equivalent functionality using hello fluent API (for more information about fluent APIs in general, see [Best Practices for Designing a Fluent API](http://visualstudiomagazine.com/articles/2013/12/01/best-practices-for-designing-a-fluent-api.aspx)):</span></span>  

```csharp
TableQuery<EmployeeEntity> employeeQuery = new TableQuery<EmployeeEntity>().Where(
    TableQuery.CombineFilters(
    TableQuery.CombineFilters(
        TableQuery.GenerateFilterCondition(
    "PartitionKey", QueryComparisons.Equal, "Sales"),
    TableOperators.And,
    TableQuery.GenerateFilterCondition(
    "RowKey", QueryComparisons.GreaterThanOrEqual, "B")
),
TableOperators.And,
TableQuery.GenerateFilterCondition("RowKey", QueryComparisons.LessThan, "C")
    )
);
var employees = employeeTable.ExecuteQuery(employeeQuery);  
```

> [!NOTE]
> <span data-ttu-id="dee89-866">Merhaba örnek katmandan birden çok **CombineFilters** yöntemleri tooinclude hello üç filtre koşulu.</span><span class="sxs-lookup"><span data-stu-id="dee89-866">hello sample nests multiple **CombineFilters** methods tooinclude hello three filter conditions.</span></span>  
> 
> 

#### <a name="retrieving-large-numbers-of-entities-from-a-query"></a><span data-ttu-id="dee89-867">Sorgudan çok sayıda varlık alma</span><span class="sxs-lookup"><span data-stu-id="dee89-867">Retrieving large numbers of entities from a query</span></span>
<span data-ttu-id="dee89-868">En iyi sorgu göre tek bir varlık döndüren bir **PartitionKey** değeri ve **RowKey** değeri.</span><span class="sxs-lookup"><span data-stu-id="dee89-868">An optimal query returns an individual entity based on a **PartitionKey** value and a **RowKey** value.</span></span> <span data-ttu-id="dee89-869">Bununla birlikte, bazı senaryolarda aynı bölüm ve hatta birçok bölümlerden hello birçok varlıklardan gereksinim tooreturn olabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-869">However, in some scenarios you may have a requirement tooreturn many entities from hello same partition or even from many partitions.</span></span>  

<span data-ttu-id="dee89-870">Her zaman tam gibi senaryolarda hello uygulamanızın performansını test etmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-870">You should always fully test hello performance of your application in such scenarios.</span></span>  

<span data-ttu-id="dee89-871">Bir sorgu hello tablo hizmeti en çok 1.000 varlıkları aynı anda döndürebilir ve en fazla beş saniyede için yürütür.</span><span class="sxs-lookup"><span data-stu-id="dee89-871">A query against hello table service may return a maximum of 1,000 entities at one time and may execute for a maximum of five seconds.</span></span> <span data-ttu-id="dee89-872">Merhaba sonuç kümesi 1. 000'den fazla varlıklar içeriyorsa, hello sorgu beş saniye içinde tamamlanmadı veya hello sorgu hello bölüm sınır kestiği, hello tablo hizmeti verir. devamlılık belirteci tooenable hello istemci uygulaması toorequest hello varlıkları sonraki kümesi.</span><span class="sxs-lookup"><span data-stu-id="dee89-872">If hello result set contains more than 1,000 entities, if hello query did not complete within five seconds, or if hello query crosses hello partition boundary, hello Table service returns a continuation token tooenable hello client application toorequest hello next set of entities.</span></span> <span data-ttu-id="dee89-873">İş devamlılığı nasıl belirteçleri hakkında daha fazla bilgi için bkz: [sorgu zaman aşımı ve sayfa numaralandırma](http://msdn.microsoft.com/library/azure/dd135718.aspx).</span><span class="sxs-lookup"><span data-stu-id="dee89-873">For more information about how continuation tokens work, see [Query Timeout and Pagination](http://msdn.microsoft.com/library/azure/dd135718.aspx).</span></span>  

<span data-ttu-id="dee89-874">Merhaba depolama istemci kitaplığı kullanıyorsanız, tablo hizmeti hello varlıklar döndürüyor gibi otomatik olarak devamlılık belirteçleri sizin için işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-874">If you are using hello Storage Client Library, it can automatically handle continuation tokens for you as it returns entities from hello Table service.</span></span> <span data-ttu-id="dee89-875">Merhaba tablo hizmeti bunları bir yanıt döndürürse hello hello depolama istemci kitaplığı kullanılarak otomatik olarak aşağıdaki C# kod örneği devamlılık belirteçleri işler:</span><span class="sxs-lookup"><span data-stu-id="dee89-875">hello following C# code sample using hello Storage Client Library automatically handles continuation tokens if hello table service returns them in a response:</span></span>  

```csharp
string filter = TableQuery.GenerateFilterCondition(
        "PartitionKey", QueryComparisons.Equal, "Sales");
TableQuery<EmployeeEntity> employeeQuery =
        new TableQuery<EmployeeEntity>().Where(filter);

var employees = employeeTable.ExecuteQuery(employeeQuery);
foreach (var emp in employees)
{
        ...
}  
```

<span data-ttu-id="dee89-876">C# kod aşağıdaki hello devamlılık belirteçleri açıkça işler:</span><span class="sxs-lookup"><span data-stu-id="dee89-876">hello following C# code handles continuation tokens explicitly:</span></span>  

```csharp
string filter = TableQuery.GenerateFilterCondition(
        "PartitionKey", QueryComparisons.Equal, "Sales");
TableQuery<EmployeeEntity> employeeQuery =
        new TableQuery<EmployeeEntity>().Where(filter);

TableContinuationToken continuationToken = null;

do
{
        var employees = employeeTable.ExecuteQuerySegmented(
        employeeQuery, continuationToken);
    foreach (var emp in employees)
    {
    ...
    }
    continuationToken = employees.ContinuationToken;
} while (continuationToken != null);  
```

<span data-ttu-id="dee89-877">Devamlılık belirteçleri açıkça kullanarak uygulamanızı hello sonraki segment veri zaman alır kontrol edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-877">By using continuation tokens explicitly, you can control when your application retrieves hello next segment of data.</span></span> <span data-ttu-id="dee89-878">İstemci uygulamanız bir tabloda depolanan hello varlıklar aracılığıyla kullanıcılar toopage etkinleştirirse, bir kullanıcı değil, uygulamanızın yalnızca bir devamlılık belirteci tooretrieve hello sonraki kullanırsınız şekilde hello sorgu tarafından alınan tüm hello varlıklar aracılığıyla toopage Örneğin, karar verebilirsiniz Merhaba kullanıcı hello geçerli kesimindeki tüm hello varlıklar sayfalama bittiğinde kesimi.</span><span class="sxs-lookup"><span data-stu-id="dee89-878">For example, if your client application enables users toopage through hello entities stored in a table, a user may decide not toopage through all hello entities retrieved by hello query so your application would only use a continuation token tooretrieve hello next segment when hello user had finished paging through all hello entities in hello current segment.</span></span> <span data-ttu-id="dee89-879">Bu yaklaşımın birkaç avantaj vardır:</span><span class="sxs-lookup"><span data-stu-id="dee89-879">This approach has several benefits:</span></span>  

* <span data-ttu-id="dee89-880">Merhaba tablo hizmeti gelen veri tooretrieve toolimit hello miktarını ve hello ağ üzerinden taşıması sağlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-880">It enables you toolimit hello amount of data tooretrieve from hello Table service and that you move over hello network.</span></span>  
* <span data-ttu-id="dee89-881">Bu, tooperform zaman uyumsuz g/ç .NET içinde sağlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-881">It enables you tooperform asynchronous IO in .NET.</span></span>  
* <span data-ttu-id="dee89-882">Bir uygulama kilitlenme hello olayda devam edebilmek için tooserialize hello devamlılık belirteci toopersistent depolama sağlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-882">It enables you tooserialize hello continuation token toopersistent storage so you can continue in hello event of an application crash.</span></span>  

> [!NOTE]
> <span data-ttu-id="dee89-883">Daha az olabilir ancak bir devamlılık belirteci 1.000 varlık içeren bir kesimi genellikle döndürür.</span><span class="sxs-lookup"><span data-stu-id="dee89-883">A continuation token typically returns a segment containing 1,000 entities, although it may be fewer.</span></span> <span data-ttu-id="dee89-884">Bir sorgunun döndürdüğü kullanarak girişleri hello sayısı sınırı, aynı zamanda hello böyledir **ele** arama ölçütlerinizle eşleşen tooreturn hello ilk n varlıklar: hello tablo hizmeti n varlıklar taneden içeren bir segment döndürebilir devamlılık belirteci tooenable ile tooretrieve hello kalan varlıklar.</span><span class="sxs-lookup"><span data-stu-id="dee89-884">This is also hello case if you limit hello number of entries a query returns by using **Take** tooreturn hello first n entities that match your lookup criteria: hello table service may return a segment containing fewer than n entities along with a continuation token tooenable you tooretrieve hello remaining entities.</span></span>  
> 
> 

<span data-ttu-id="dee89-885">Merhaba aşağıdaki C# kod toomodify hello varlıkların sayısı bir kesim içinde nasıl döndürülen gösterir:</span><span class="sxs-lookup"><span data-stu-id="dee89-885">hello following C# code shows how toomodify hello number of entities returned inside a segment:</span></span>  

```csharp
employeeQuery.TakeCount = 50;  
```

#### <a name="server-side-projection"></a><span data-ttu-id="dee89-886">Sunucu tarafı projeksiyonu</span><span class="sxs-lookup"><span data-stu-id="dee89-886">Server-side projection</span></span>
<span data-ttu-id="dee89-887">Tek bir varlık too255 özelliklerini sahip ve too1 MB boyutunda olabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-887">A single entity can have up too255 properties and be up too1 MB in size.</span></span> <span data-ttu-id="dee89-888">Sorgu hello tablo ve varlıkları almak yaptığınızda, tüm hello özellikleri gerekli değildir ve veri gereksiz yere aktarılmasını önlemek (toohelp azaltmak gecikme süresi ve maliyet).</span><span class="sxs-lookup"><span data-stu-id="dee89-888">When you query hello table and retrieve entities, you may not need all hello properties and can avoid transferring data unnecessarily (toohelp reduce latency and cost).</span></span> <span data-ttu-id="dee89-889">Gereksinim sunucu tarafı projeksiyon tootransfer yalnızca hello özellikleri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-889">You can use server-side projection tootransfer just hello properties you need.</span></span> <span data-ttu-id="dee89-890">Merhaba aşağıdaki alır yalnızca hello örnektir **e-posta** özelliği (ile birlikte **PartitionKey**, **RowKey**, **zaman damgası**ve  **ETag**) hello sorgu tarafından seçilen hello gelen.</span><span class="sxs-lookup"><span data-stu-id="dee89-890">hello following example is retrieves just hello **Email** property (along with **PartitionKey**, **RowKey**, **Timestamp**, and **ETag**) from hello entities selected by hello query.</span></span>  

```csharp
string filter = TableQuery.GenerateFilterCondition(
        "PartitionKey", QueryComparisons.Equal, "Sales");
List<string> columns = new List<string>() { "Email" };
TableQuery<EmployeeEntity> employeeQuery =
        new TableQuery<EmployeeEntity>().Where(filter).Select(columns);

var entities = employeeTable.ExecuteQuery(employeeQuery);
foreach (var e in entities)
{
        Console.WriteLine("RowKey: {0}, EmployeeEmail: {1}", e.RowKey, e.Email);
}  
```

<span data-ttu-id="dee89-891">Nasıl hello fark **RowKey** değeri, hello özellikleri tooretrieve listesinde eklenmemiş olsa da kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-891">Notice how hello **RowKey** value is available even though it was not included in hello list of properties tooretrieve.</span></span>  

### <a name="modifying-entities"></a><span data-ttu-id="dee89-892">Varlıkları değiştirme</span><span class="sxs-lookup"><span data-stu-id="dee89-892">Modifying entities</span></span>
<span data-ttu-id="dee89-893">Merhaba depolama istemci kitaplığı, varlıklarınızı hello tablo hizmetinde ekleme, silme ve güncelleştirme varlıkları tarafından depolanan toomodify sağlar.</span><span class="sxs-lookup"><span data-stu-id="dee89-893">hello Storage Client Library enables you toomodify your entities stored in hello table service by inserting, deleting, and updating entities.</span></span> <span data-ttu-id="dee89-894">Birden çok INSERT, update ve birlikte tooreduce hello gidiş dönüş sayısı gerekli ve çözümünüzü hello performansını silme işlemleri EGTs toobatch kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-894">You can use EGTs toobatch multiple insert, update, and delete operations together tooreduce hello number of round trips required and improve hello performance of your solution.</span></span>  

<span data-ttu-id="dee89-895">Merhaba depolama istemci kitaplığı bir EGT genellikle yürüttüğünde oluşturulan özel durumları hello toplu toofail neden hello varlık hello dizini içerdiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="dee89-895">Note that exceptions thrown when hello Storage Client Library executes an EGT typically include hello index of hello entity that caused hello batch toofail.</span></span> <span data-ttu-id="dee89-896">EGTs kullanan kodu ayıklarken bu yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-896">This is helpful when you are debugging code that uses EGTs.</span></span>  

<span data-ttu-id="dee89-897">İstemci uygulamanızı eşzamanlılık ve güncelleştirme işlemlerinin nasıl işlediğini tasarımınızı nasıl etkileyeceğini de dikkate almalısınız.</span><span class="sxs-lookup"><span data-stu-id="dee89-897">You should also consider how your design affects how your client application handles concurrency and update operations.</span></span>  

#### <a name="managing-concurrency"></a><span data-ttu-id="dee89-898">Eşzamanlılık yönetme</span><span class="sxs-lookup"><span data-stu-id="dee89-898">Managing concurrency</span></span>
<span data-ttu-id="dee89-899">Merhaba tablo hizmeti varsayılan olarak, iyimser eşzamanlılık denetler için tek tek varlıkların hello düzeyinde uygulayan **Ekle**, **birleştirme**, ve **silmek** işlemleri Bu denetimler hizmet toobypass istemci tooforce hello tablo için bu mümkün olsa da.</span><span class="sxs-lookup"><span data-stu-id="dee89-899">By default, hello table service implements optimistic concurrency checks at hello level of individual entities for **Insert**, **Merge**, and **Delete** operations, although it is possible for a client tooforce hello table service toobypass these checks.</span></span> <span data-ttu-id="dee89-900">Merhaba tablo hizmeti eşzamanlılık nasıl yönettiği hakkında daha fazla bilgi için bkz: [yönetme eşzamanlılık Microsoft Azure depolama alanında](../storage/common/storage-concurrency.md).</span><span class="sxs-lookup"><span data-stu-id="dee89-900">For more information about how hello table service manages concurrency, see  [Managing Concurrency in Microsoft Azure Storage](../storage/common/storage-concurrency.md).</span></span>  

#### <a name="merge-or-replace"></a><span data-ttu-id="dee89-901">Birleştirme ya da değiştirme</span><span class="sxs-lookup"><span data-stu-id="dee89-901">Merge or replace</span></span>
<span data-ttu-id="dee89-902">Merhaba **Değiştir** hello yöntemi **TableOperation** sınıfı her zaman tam varlık hello tablo hizmeti hello yerini alır.</span><span class="sxs-lookup"><span data-stu-id="dee89-902">hello **Replace** method of hello **TableOperation** class always replaces hello complete entity in hello Table service.</span></span> <span data-ttu-id="dee89-903">Bu özellik depolanan hello varlık mevcut olduğunda, bir özellik hello istekte içermiyorsa, hello isteği hello özelliğinden varlık depolanan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="dee89-903">If you do not include a property in hello request when that property exists in hello stored entity, hello request removes that property from hello stored entity.</span></span> <span data-ttu-id="dee89-904">Tooremove bir özellikten açıkça saklı varlık istemediğiniz sürece hello istekte her özellik eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-904">Unless you want tooremove a property explicitly from a stored entity, you must include every property in hello request.</span></span>  

<span data-ttu-id="dee89-905">Merhaba kullanabilirsiniz **birleştirme** hello yöntemi **TableOperation** sınıfı tooreduce hello tooupdate istediğinizde bir varlık toohello tablo hizmeti gönderme veri miktarı.</span><span class="sxs-lookup"><span data-stu-id="dee89-905">You can use hello **Merge** method of hello **TableOperation** class tooreduce hello amount of data that you send toohello Table service when you want tooupdate an entity.</span></span> <span data-ttu-id="dee89-906">Merhaba **birleştirme** yöntemi hello isteğinde hello varlıktan özelliği değerlerle depolanan hello varlıktaki tüm özelliklerini değiştirir, ancak olduğu gibi bırakır hello herhangi özelliklerinde saklanan hello istekte dahil edilmeyen varlık.</span><span class="sxs-lookup"><span data-stu-id="dee89-906">hello **Merge** method replaces any properties in hello stored entity with property values from hello entity included in hello request, but leaves intact any properties in hello stored entity that are not included in hello request.</span></span> <span data-ttu-id="dee89-907">Büyük varlıklar varsa ve yalnızca küçük bir istek özelliklerinde çeşitli tooupdate gerekir, bu yararlı olur.</span><span class="sxs-lookup"><span data-stu-id="dee89-907">This is useful if you have large entities and only need tooupdate a small number of properties in a request.</span></span>  

> [!NOTE]
> <span data-ttu-id="dee89-908">Merhaba **Değiştir** ve **birleştirme** yöntemler başarısız hello varlık mevcut değilse.</span><span class="sxs-lookup"><span data-stu-id="dee89-908">hello **Replace** and **Merge** methods fail if hello entity does not exist.</span></span> <span data-ttu-id="dee89-909">Alternatif olarak, hello kullanabilirsiniz **Yerleştir veya Değiştir** ve **InsertOrMerge** yoksa, yeni varlık oluşturma yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-909">As an alternative, you can use hello **InsertOrReplace** and **InsertOrMerge** methods that create a new entity if it doesn't exist.</span></span>  
> 
> 

### <a name="working-with-heterogeneous-entity-types"></a><span data-ttu-id="dee89-910">Heterojen varlık türleri ile çalışma</span><span class="sxs-lookup"><span data-stu-id="dee89-910">Working with heterogeneous entity types</span></span>
<span data-ttu-id="dee89-911">Merhaba tablo hizmeti olan bir *şema daha az* tasarımınızda büyük esneklik sağlayan birden çok tür varlıklarının tek bir tabloyu depolayabilir anlamına gelir tablo deposu.</span><span class="sxs-lookup"><span data-stu-id="dee89-911">hello Table service is a *schema-less* table store that means that a single table can store entities of multiple types providing great flexibility in your design.</span></span> <span data-ttu-id="dee89-912">Merhaba aşağıdaki örnekte çalışan ve departman varlıkları depolayan bir tablo gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="dee89-912">hello following example illustrates a table storing both employee and department entities:</span></span>  

<table>
<tr>
<th><span data-ttu-id="dee89-913">PartitionKey</span><span class="sxs-lookup"><span data-stu-id="dee89-913">PartitionKey</span></span></th>
<th><span data-ttu-id="dee89-914">RowKey</span><span class="sxs-lookup"><span data-stu-id="dee89-914">RowKey</span></span></th>
<th><span data-ttu-id="dee89-915">zaman damgası</span><span class="sxs-lookup"><span data-stu-id="dee89-915">Timestamp</span></span></th>
<th></th>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-916">FirstName</span><span class="sxs-lookup"><span data-stu-id="dee89-916">FirstName</span></span></th>
<th><span data-ttu-id="dee89-917">Soyadı</span><span class="sxs-lookup"><span data-stu-id="dee89-917">LastName</span></span></th>
<th><span data-ttu-id="dee89-918">Yaş</span><span class="sxs-lookup"><span data-stu-id="dee89-918">Age</span></span></th>
<th><span data-ttu-id="dee89-919">E-posta</span><span class="sxs-lookup"><span data-stu-id="dee89-919">Email</span></span></th>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</table>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-920">FirstName</span><span class="sxs-lookup"><span data-stu-id="dee89-920">FirstName</span></span></th>
<th><span data-ttu-id="dee89-921">Soyadı</span><span class="sxs-lookup"><span data-stu-id="dee89-921">LastName</span></span></th>
<th><span data-ttu-id="dee89-922">Yaş</span><span class="sxs-lookup"><span data-stu-id="dee89-922">Age</span></span></th>
<th><span data-ttu-id="dee89-923">E-posta</span><span class="sxs-lookup"><span data-stu-id="dee89-923">Email</span></span></th>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</table>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-924">departmentName</span><span class="sxs-lookup"><span data-stu-id="dee89-924">DepartmentName</span></span></th>
<th><span data-ttu-id="dee89-925">EmployeeCount</span><span class="sxs-lookup"><span data-stu-id="dee89-925">EmployeeCount</span></span></th>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</table>
</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-926">FirstName</span><span class="sxs-lookup"><span data-stu-id="dee89-926">FirstName</span></span></th>
<th><span data-ttu-id="dee89-927">Soyadı</span><span class="sxs-lookup"><span data-stu-id="dee89-927">LastName</span></span></th>
<th><span data-ttu-id="dee89-928">Yaş</span><span class="sxs-lookup"><span data-stu-id="dee89-928">Age</span></span></th>
<th><span data-ttu-id="dee89-929">E-posta</span><span class="sxs-lookup"><span data-stu-id="dee89-929">Email</span></span></th>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</table>
</td>
</tr>
</table>

<span data-ttu-id="dee89-930">Her varlığın hala olmalıdır Not **PartitionKey**, **RowKey**, ve **zaman damgası** değerleri, ancak herhangi bir özellikler kümesi olabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-930">Note that each entity must still have **PartitionKey**, **RowKey**, and **Timestamp** values, but may have any set of properties.</span></span> <span data-ttu-id="dee89-931">Ayrıca, bir şey yok tooindicate hello bu bilgileri bir yerde toostore seçmediğiniz sürece bir varlığın türü.</span><span class="sxs-lookup"><span data-stu-id="dee89-931">Furthermore, there is nothing tooindicate hello type of an entity unless you choose toostore that information somewhere.</span></span> <span data-ttu-id="dee89-932">Merhaba varlık türünü tanımlamak için iki seçenek vardır:</span><span class="sxs-lookup"><span data-stu-id="dee89-932">There are two options for identifying hello entity type:</span></span>  

* <span data-ttu-id="dee89-933">Merhaba varlık türü toohello başına **RowKey** (veya büyük olasılıkla hello **PartitionKey**).</span><span class="sxs-lookup"><span data-stu-id="dee89-933">Prepend hello entity type toohello **RowKey** (or possibly hello **PartitionKey**).</span></span> <span data-ttu-id="dee89-934">Örneğin, **EMPLOYEE_000123** veya **DEPARTMENT_SALES** olarak **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-934">For example, **EMPLOYEE_000123** or **DEPARTMENT_SALES** as **RowKey** values.</span></span>  
* <span data-ttu-id="dee89-935">Merhaba aşağıdaki tabloda gösterildiği gibi bir ayrı özellik toorecord hello varlık türü kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-935">Use a separate property toorecord hello entity type as shown in hello table below.</span></span>  

<table>
<tr>
<th><span data-ttu-id="dee89-936">PartitionKey</span><span class="sxs-lookup"><span data-stu-id="dee89-936">PartitionKey</span></span></th>
<th><span data-ttu-id="dee89-937">RowKey</span><span class="sxs-lookup"><span data-stu-id="dee89-937">RowKey</span></span></th>
<th><span data-ttu-id="dee89-938">zaman damgası</span><span class="sxs-lookup"><span data-stu-id="dee89-938">Timestamp</span></span></th>
<th></th>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-939">EntityType</span><span class="sxs-lookup"><span data-stu-id="dee89-939">EntityType</span></span></th>
<th><span data-ttu-id="dee89-940">FirstName</span><span class="sxs-lookup"><span data-stu-id="dee89-940">FirstName</span></span></th>
<th><span data-ttu-id="dee89-941">Soyadı</span><span class="sxs-lookup"><span data-stu-id="dee89-941">LastName</span></span></th>
<th><span data-ttu-id="dee89-942">Yaş</span><span class="sxs-lookup"><span data-stu-id="dee89-942">Age</span></span></th>
<th><span data-ttu-id="dee89-943">E-posta</span><span class="sxs-lookup"><span data-stu-id="dee89-943">Email</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="dee89-944">Çalışan</span><span class="sxs-lookup"><span data-stu-id="dee89-944">Employee</span></span></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</table>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-945">EntityType</span><span class="sxs-lookup"><span data-stu-id="dee89-945">EntityType</span></span></th>
<th><span data-ttu-id="dee89-946">FirstName</span><span class="sxs-lookup"><span data-stu-id="dee89-946">FirstName</span></span></th>
<th><span data-ttu-id="dee89-947">Soyadı</span><span class="sxs-lookup"><span data-stu-id="dee89-947">LastName</span></span></th>
<th><span data-ttu-id="dee89-948">Yaş</span><span class="sxs-lookup"><span data-stu-id="dee89-948">Age</span></span></th>
<th><span data-ttu-id="dee89-949">E-posta</span><span class="sxs-lookup"><span data-stu-id="dee89-949">Email</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="dee89-950">Çalışan</span><span class="sxs-lookup"><span data-stu-id="dee89-950">Employee</span></span></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</table>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-951">EntityType</span><span class="sxs-lookup"><span data-stu-id="dee89-951">EntityType</span></span></th>
<th><span data-ttu-id="dee89-952">departmentName</span><span class="sxs-lookup"><span data-stu-id="dee89-952">DepartmentName</span></span></th>
<th><span data-ttu-id="dee89-953">EmployeeCount</span><span class="sxs-lookup"><span data-stu-id="dee89-953">EmployeeCount</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="dee89-954">Bölüm</span><span class="sxs-lookup"><span data-stu-id="dee89-954">Department</span></span></td>
<td></td>
<td></td>
</tr>
</table>
</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>
<table>
<tr>
<th><span data-ttu-id="dee89-955">EntityType</span><span class="sxs-lookup"><span data-stu-id="dee89-955">EntityType</span></span></th>
<th><span data-ttu-id="dee89-956">FirstName</span><span class="sxs-lookup"><span data-stu-id="dee89-956">FirstName</span></span></th>
<th><span data-ttu-id="dee89-957">Soyadı</span><span class="sxs-lookup"><span data-stu-id="dee89-957">LastName</span></span></th>
<th><span data-ttu-id="dee89-958">Yaş</span><span class="sxs-lookup"><span data-stu-id="dee89-958">Age</span></span></th>
<th><span data-ttu-id="dee89-959">E-posta</span><span class="sxs-lookup"><span data-stu-id="dee89-959">Email</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="dee89-960">Çalışan</span><span class="sxs-lookup"><span data-stu-id="dee89-960">Employee</span></span></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</table>
</td>
</tr>
</table>

<span data-ttu-id="dee89-961">Merhaba varlık türü toohello eklenmesini hello ilk seçenek **RowKey**, iki varlık farklı türlerde hello olabilir olasılığı varsa aynı anahtar değerini yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-961">hello first option, prepending hello entity type toohello **RowKey**, is useful if there is a possibility that two entities of different types might have hello same key value.</span></span> <span data-ttu-id="dee89-962">Ayrıca, aynı birlikte hello bölümünde yazın hello varlıklarının gruplandırır.</span><span class="sxs-lookup"><span data-stu-id="dee89-962">It also groups entities of hello same type together in hello partition.</span></span>  

<span data-ttu-id="dee89-963">Merhaba Bu bölümde açıklanan teknikleri olan özellikle ilgili toohello tartışma [devralma ilişkileri](#inheritance-relationships) hello bölümünde bu kılavuzun önceki bölümlerinde [ilişkileri modelleme](#modelling-relationships).</span><span class="sxs-lookup"><span data-stu-id="dee89-963">hello techniques discussed in this section are especially relevant toohello discussion [Inheritance relationships](#inheritance-relationships) earlier in this guide in hello section [Modelling relationships](#modelling-relationships).</span></span>  

> [!NOTE]
> <span data-ttu-id="dee89-964">Merhaba varlık türü değeri tooenable istemci uygulamaları tooevolve POCO nesneleri bir sürüm numarası dahil etmeyi düşünün ve farklı sürümleri ile çalışması gerekir.</span><span class="sxs-lookup"><span data-stu-id="dee89-964">You should consider including a version number in hello entity type value tooenable client applications tooevolve POCO objects and work with different versions.</span></span>  
> 
> 

<span data-ttu-id="dee89-965">Merhaba Bu bölüm geri kalanı hello depolama istemci kitaplığı içindeki hello içindeki birden çok varlık türleriyle aynı çalışma kolaylaştırmak hello özelliklerinden bazıları açıklanmaktadır tablo.</span><span class="sxs-lookup"><span data-stu-id="dee89-965">hello remainder of this section describes some of hello features in hello Storage Client Library that facilitate working with multiple entity types in hello same table.</span></span>  

#### <a name="retrieving-heterogeneous-entity-types"></a><span data-ttu-id="dee89-966">Heterojen varlık türleri alınıyor</span><span class="sxs-lookup"><span data-stu-id="dee89-966">Retrieving heterogeneous entity types</span></span>
<span data-ttu-id="dee89-967">Merhaba depolama istemci kitaplığı kullanıyorsanız, birden çok varlık türleri ile çalışmak için üç seçeneğiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="dee89-967">If you are using hello Storage Client Library, you have three options for working with multiple entity types.</span></span>  

<span data-ttu-id="dee89-968">Belirli bir ile depolanan hello varlığın hello türü biliyorsanız **RowKey** ve **PartitionKey** hello önceki iki örneklerde gösterildiği gibi hello varlık aldığınızda hello varlık türünü belirtebilirsiniz ardından değerleri türündeki varlıklar almak **EmployeeEntity**: [hello depolama istemci kitaplığı kullanılarak noktası sorgusu yürütme](#executing-a-point-query-using-the-storage-client-library) ve [LINQkullanarakbirdençokvarlıkalma](#retrieving-multiple-entities-using-linq).</span><span class="sxs-lookup"><span data-stu-id="dee89-968">If you know hello type of hello entity stored with a specific **RowKey** and **PartitionKey** values, then you can specify hello entity type when you retrieve hello entity as shown in hello previous two examples that retrieve entities of type **EmployeeEntity**: [Executing a point query using hello Storage Client Library](#executing-a-point-query-using-the-storage-client-library) and [Retrieving multiple entities using LINQ](#retrieving-multiple-entities-using-linq).</span></span>  

<span data-ttu-id="dee89-969">Merhaba ikinci seçenektir toouse hello **DynamicTableEntity** türü (bir özellik paketi) somut bir POCO varlık türü yerine (Bu seçenek gerek tooserialize olduğundan performansı da hello varlık çok seri durumdan. NET türleri için).</span><span class="sxs-lookup"><span data-stu-id="dee89-969">hello second option is toouse hello **DynamicTableEntity** type (a property bag) instead of a concrete POCO entity type (this option may also improve performance because there is no need tooserialize and deserialize hello entity too.NET types).</span></span> <span data-ttu-id="dee89-970">C# kodu potansiyel olarak aşağıdaki hello farklı türlerde birden çok varlık hello tablosundan alır, ancak tüm varlıklar olarak döndürür **DynamicTableEntity** örnekleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-970">hello following C# code potentially retrieves multiple entities of different types from hello table, but returns all entities as **DynamicTableEntity** instances.</span></span> <span data-ttu-id="dee89-971">Daha sonra hello kullanır **EntityType** özelliği toodetermine hello her varlık türü:</span><span class="sxs-lookup"><span data-stu-id="dee89-971">It then uses hello **EntityType** property toodetermine hello type of each entity:</span></span>  

```csharp
string filter = TableQuery.CombineFilters(
    TableQuery.GenerateFilterCondition("PartitionKey",
    QueryComparisons.Equal, "Sales"),
    TableOperators.And,
    TableQuery.CombineFilters(
    TableQuery.GenerateFilterCondition("RowKey",
                    QueryComparisons.GreaterThanOrEqual, "B"),
        TableOperators.And,
        TableQuery.GenerateFilterCondition("RowKey",
        QueryComparisons.LessThan, "F")
    )
);
TableQuery<DynamicTableEntity> entityQuery =
    new TableQuery<DynamicTableEntity>().Where(filter);
var employees = employeeTable.ExecuteQuery(entityQuery);

IEnumerable<DynamicTableEntity> entities = employeeTable.ExecuteQuery(entityQuery);
foreach (var e in entities)
{
EntityProperty entityTypeProperty;
if (e.Properties.TryGetValue("EntityType", out entityTypeProperty))
{
    if (entityTypeProperty.StringValue == "Employee")
    {
        // Use entityTypeProperty, RowKey, PartitionKey, Etag, and Timestamp
        }
    }
}  
```

<span data-ttu-id="dee89-972">Bu tooretrieve hello kullanmaları gereken diğer özellikleri Not **TryGetValue** hello yöntemi **özellikleri** hello özelliğinin **DynamicTableEntity** sınıfı.</span><span class="sxs-lookup"><span data-stu-id="dee89-972">Note that tooretrieve other properties you must use hello **TryGetValue** method on hello **Properties** property of hello **DynamicTableEntity** class.</span></span>  

<span data-ttu-id="dee89-973">Hello kullanarak toocombine üçüncü seçenek olan **DynamicTableEntity** türü ve bir **Varlıkçözümleyicisi** örneği.</span><span class="sxs-lookup"><span data-stu-id="dee89-973">A third option is toocombine using hello **DynamicTableEntity** type and an **EntityResolver** instance.</span></span> <span data-ttu-id="dee89-974">Bu tooresolve toomultiple POCO hello türlerinde sağlar aynı sorgu.</span><span class="sxs-lookup"><span data-stu-id="dee89-974">This enables you tooresolve toomultiple POCO types in hello same query.</span></span> <span data-ttu-id="dee89-975">Bu örnekte, hello **Varlıkçözümleyicisi** temsilci hello kullanarak **EntityType** özelliği toodistinguish hello iki sorgunun döndürdüğü hello varlık türleri arasında.</span><span class="sxs-lookup"><span data-stu-id="dee89-975">In this example, hello **EntityResolver** delegate is using hello **EntityType** property toodistinguish between hello two types of entity that hello query returns.</span></span> <span data-ttu-id="dee89-976">Merhaba **gidermek** yöntemi kullanan hello **çözümleyici** temsilci tooresolve **DynamicTableEntity** çok örnekleri**TableEntity** örnekleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-976">hello **Resolve** method uses hello **resolver** delegate tooresolve **DynamicTableEntity** instances too**TableEntity** instances.</span></span>  

```csharp
EntityResolver<TableEntity> resolver = (pk, rk, ts, props, etag) =>
{

        TableEntity resolvedEntity = null;
        if (props["EntityType"].StringValue == "Department")
        {
        resolvedEntity = new DepartmentEntity();
        }
        else if (props["EntityType"].StringValue == "Employee")
        {
        resolvedEntity = new EmployeeEntity();
        }
        else throw new ArgumentException("Unrecognized entity", "props");

        resolvedEntity.PartitionKey = pk;
        resolvedEntity.RowKey = rk;
        resolvedEntity.Timestamp = ts;
        resolvedEntity.ETag = etag;
        resolvedEntity.ReadEntity(props, null);
        return resolvedEntity;
};

string filter = TableQuery.GenerateFilterCondition(
        "PartitionKey", QueryComparisons.Equal, "Sales");
TableQuery<DynamicTableEntity> entityQuery =
        new TableQuery<DynamicTableEntity>().Where(filter);

var entities = employeeTable.ExecuteQuery(entityQuery, resolver);
foreach (var e in entities)
{
        if (e is DepartmentEntity)
        {
    ...
        }
        if (e is EmployeeEntity)
        {
    ...
        }
}  
```

#### <a name="modifying-heterogeneous-entity-types"></a><span data-ttu-id="dee89-977">Heterojen varlık türlerini değiştirme</span><span class="sxs-lookup"><span data-stu-id="dee89-977">Modifying heterogeneous entity types</span></span>
<span data-ttu-id="dee89-978">Bir varlık toodelete tooknow hello türü ve size, eklediğinizde her zaman bir varlığın hello türü gerekmez.</span><span class="sxs-lookup"><span data-stu-id="dee89-978">You do not need tooknow hello type of an entity toodelete it, and you always know hello type of an entity when you insert it.</span></span> <span data-ttu-id="dee89-979">Ancak, kullanabileceğiniz **DynamicTableEntity** tooupdate bir varlık türünü bilerek ve bir POCO varlık sınıfı kullanarak olmadan yazın.</span><span class="sxs-lookup"><span data-stu-id="dee89-979">However, you can use **DynamicTableEntity** type tooupdate an entity without knowing its type and without using a POCO entity class.</span></span> <span data-ttu-id="dee89-980">Merhaba aşağıdaki kod örneği tek bir varlık alır ve denetler hello **EmployeeCount** özellik var güncelleştirmeden önce.</span><span class="sxs-lookup"><span data-stu-id="dee89-980">hello following code sample retrieves a single entity, and checks hello **EmployeeCount** property exists before updating it.</span></span>  

```csharp
TableResult result =
        employeeTable.Execute(TableOperation.Retrieve(partitionKey, rowKey));
DynamicTableEntity department = (DynamicTableEntity)result.Result;

EntityProperty countProperty;

if (!department.Properties.TryGetValue("EmployeeCount", out countProperty))
{
        throw new
        InvalidOperationException("Invalid entity, EmployeeCount property not found.");
}
countProperty.Int32Value += 1;
employeeTable.Execute(TableOperation.Merge(department));  
```

### <a name="controlling-access-with-shared-access-signatures"></a><span data-ttu-id="dee89-981">Paylaşılan erişim imzaları ile erişimi denetleme</span><span class="sxs-lookup"><span data-stu-id="dee89-981">Controlling access with Shared Access Signatures</span></span>
<span data-ttu-id="dee89-982">Paylaşılan erişim imzası (SAS) belirteçleri tooenable istemci uygulamaları toomodify (ve kullanabileceğiniz sorgu) tablo varlıkları hello gerek tooauthenticate hello tablo hizmeti ile doğrudan olmadan doğrudan.</span><span class="sxs-lookup"><span data-stu-id="dee89-982">You can use Shared Access Signature (SAS) tokens tooenable client applications toomodify (and query) table entities directly without hello need tooauthenticate directly with hello table service.</span></span> <span data-ttu-id="dee89-983">Genellikle, üç ana faydası toousing SAS uygulamanızda vardır:</span><span class="sxs-lookup"><span data-stu-id="dee89-983">Typically, there are three main benefits toousing SAS in your application:</span></span>  

* <span data-ttu-id="dee89-984">Toodistribute gerekmez depolama alanınızı (örneğin, bir mobil cihaz) anahtar tooan güvenli platform sipariş tooallow o aygıtı tooaccess hesap ve hello tablo hizmeti varlıklarda değiştirin.</span><span class="sxs-lookup"><span data-stu-id="dee89-984">You do not need toodistribute your storage account key tooan insecure platform (such as a mobile device) in order tooallow that device tooaccess and modify entities in hello Table service.</span></span>  
* <span data-ttu-id="dee89-985">Hello iş bazıları bu web boşaltabilir ve çalışan rolleri varlıklar tooclient aygıtlarınızı örneğin son kullanıcı bilgisayarlar ve mobil cihazları yönetme de gerçekleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dee89-985">You can offload some of hello work that web and worker roles perform in managing your entities tooclient devices such as end-user computers and mobile devices.</span></span>  
* <span data-ttu-id="dee89-986">Bir kısıtlanmış atayabilir ve izinleri tooa istemci (örneğin, salt okunur erişime izin verme toospecific kaynakları) kümesini zaman sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="dee89-986">You can assign a constrained and time limited set of permissions tooa client (such as allowing read-only access toospecific resources).</span></span>  

<span data-ttu-id="dee89-987">SAS belirteci hello tablo hizmeti ile kullanma hakkında daha fazla bilgi için bkz: [kullanarak paylaşılan erişim imzaları (SAS)](../storage/common/storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="dee89-987">For more information about using SAS tokens with hello Table service, see [Using Shared Access Signatures (SAS)](../storage/common/storage-dotnet-shared-access-signature-part-1.md).</span></span>  

<span data-ttu-id="dee89-988">Ancak, yine bir istemci uygulama toohello varlıkları hello tablo hizmetinde vermek hello SAS belirteci oluşturmanız gerekir: tooyour depolama hesabı anahtarlarını güvenli erişim sahip bir ortamda yapmalısınız.</span><span class="sxs-lookup"><span data-stu-id="dee89-988">However, you must still generate hello SAS tokens that grant a client application toohello entities in hello table service: you should do this in an environment that has secure access tooyour storage account keys.</span></span> <span data-ttu-id="dee89-989">Genellikle, SAS belirteçler ve bunları tooyour varlıklar erişmesi toohello istemci uygulamaları ileten bir web veya çalışan rolü toogenerate hello kullanın.</span><span class="sxs-lookup"><span data-stu-id="dee89-989">Typically, you use a web or worker role toogenerate hello SAS tokens and deliver them toohello client applications that need access tooyour entities.</span></span> <span data-ttu-id="dee89-990">Olduğundan hala bir ek yük oluşturma ve SAS belirteçleri tooclients teslim etmek, yüksek hacimli senaryolarda özellikle bu ek yükü en iyi nasıl tooreduce göz önünde bulundurmalısınız.</span><span class="sxs-lookup"><span data-stu-id="dee89-990">Because there is still an overhead involved in generating and delivering SAS tokens tooclients, you should consider how best tooreduce this overhead, especially in high-volume scenarios.</span></span>  

<span data-ttu-id="dee89-991">Bu, olası toogenerate verir tooa alt tabloda hello varlıkların erişim bir SAS belirteci olur.</span><span class="sxs-lookup"><span data-stu-id="dee89-991">It is possible toogenerate a SAS token that grants access tooa subset of hello entities in a table.</span></span> <span data-ttu-id="dee89-992">Varsayılan olarak, tüm tablo için bir SAS belirteci oluşturur, ancak aynı zamanda bu hello SAS belirteci grant erişim tooeither bir dizi olası toospecify olan **PartitionKey** değerleri veya bir dizi **PartitionKey** ve  **RowKey** değerleri.</span><span class="sxs-lookup"><span data-stu-id="dee89-992">By default, you create a SAS token for an entire table, but it is also possible toospecify that hello SAS token grant access tooeither a range of **PartitionKey** values, or a range of **PartitionKey** and **RowKey** values.</span></span> <span data-ttu-id="dee89-993">Her kullanıcının SAS belirteci yalnızca erişim veren şekilde toogenerate sisteminizin bireysel kullanıcılar için SAS belirteci seçebilirsiniz tootheir kendi hello varlıklarda tablo hizmeti.</span><span class="sxs-lookup"><span data-stu-id="dee89-993">You might choose toogenerate SAS tokens for individual users of your system such that each user's SAS token only allows them access tootheir own entities in hello table service.</span></span>  

### <a name="asynchronous-and-parallel-operations"></a><span data-ttu-id="dee89-994">Zaman uyumsuz ve paralel işlemleri</span><span class="sxs-lookup"><span data-stu-id="dee89-994">Asynchronous and parallel operations</span></span>
<span data-ttu-id="dee89-995">İsteklerinizi birden çok bölüm arasında yayılmak sağlanan zaman uyumsuz veya paralel sorguları kullanarak verimlilik ve istemci yanıt hızını artırabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-995">Provided you are spreading your requests across multiple partitions, you can improve throughput and client responsiveness by using asynchronous or parallel queries.</span></span>
<span data-ttu-id="dee89-996">Örneğin, tablolarınızı paralel erişme iki veya daha fazla çalışan rolü örneklerine sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-996">For example, you might have two or more worker role instances accessing your tables in parallel.</span></span> <span data-ttu-id="dee89-997">Ayrı ayrı çalışan rolleri bölümler belirli kümeleri için sorumlu olan veya yalnızca sahip birden çok çalışan rolü örnekleri, her mümkün tooaccess tüm bir tabloda bölümler hello.</span><span class="sxs-lookup"><span data-stu-id="dee89-997">You could have individual worker roles responsible for particular sets of partitions, or simply have multiple worker role instances, each able tooaccess all hello partitions in a table.</span></span>  

<span data-ttu-id="dee89-998">Bir istemci örneği içinde depolama işlemlerini zaman uyumsuz olarak yürüterek üretilen işi artırabilir.</span><span class="sxs-lookup"><span data-stu-id="dee89-998">Within a client instance, you can improve throughput by executing storage operations asynchronously.</span></span> <span data-ttu-id="dee89-999">Merhaba depolama istemci kitaplığı kolay toowrite zaman uyumsuz sorgular ve değişiklikleri yapar.</span><span class="sxs-lookup"><span data-stu-id="dee89-999">hello Storage Client Library makes it easy toowrite asynchronous queries and modifications.</span></span> <span data-ttu-id="dee89-1000">Örneğin, C# kod aşağıdaki hello gösterildiği gibi tüm hello varlıkları bir bölüme alır hello zaman uyumlu yöntemi ile başlayabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="dee89-1000">For example, you might start with hello synchronous method that retrieves all hello entities in a partition as shown in hello following C# code:</span></span>  

```csharp
private static void ManyEntitiesQuery(CloudTable employeeTable, string department)
{
        string filter = TableQuery.GenerateFilterCondition(
        "PartitionKey", QueryComparisons.Equal, department);
        TableQuery<EmployeeEntity> employeeQuery =
        new TableQuery<EmployeeEntity>().Where(filter);

        TableContinuationToken continuationToken = null;

        do
        {
        var employees = employeeTable.ExecuteQuerySegmented(
                employeeQuery, continuationToken);
        foreach (var emp in employees)
    {
        ...
    }
        continuationToken = employees.ContinuationToken;
        } while (continuationToken != null);
}  
```

<span data-ttu-id="dee89-1001">Zaman uyumsuz şekilde hello sorgu çalıştığında bu kodu kolayca değiştirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="dee89-1001">You can easily modify this code so that hello query runs asynchronously as follows:</span></span>  

```csharp
private static async Task ManyEntitiesQueryAsync(CloudTable employeeTable, string department)
{
        string filter = TableQuery.GenerateFilterCondition(
        "PartitionKey", QueryComparisons.Equal, department);
        TableQuery<EmployeeEntity> employeeQuery =
        new TableQuery<EmployeeEntity>().Where(filter);
        TableContinuationToken continuationToken = null;

        do
        {
        var employees = await employeeTable.ExecuteQuerySegmentedAsync(
                employeeQuery, continuationToken);
        foreach (var emp in employees)
        {
            ...
        }
        continuationToken = employees.ContinuationToken;
            } while (continuationToken != null);
}  
```

<span data-ttu-id="dee89-1002">Zaman uyumsuz Bu örnekte, hello zaman uyumlu sürümünden hello aşağıdaki değişiklikler görebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="dee89-1002">In this asynchronous example, you can see hello following changes from hello synchronous version:</span></span>  

* <span data-ttu-id="dee89-1003">Merhaba yöntemi imza şimdi hello içeren **zaman uyumsuz** değiştiricisini ve döndürür bir **görev** örneği.</span><span class="sxs-lookup"><span data-stu-id="dee89-1003">hello method signature now includes hello **async** modifier and returns a **Task** instance.</span></span>  
* <span data-ttu-id="dee89-1004">Arama hello yerine **ExecuteSegmented** yöntemi tooretrieve sonuçları, hello yöntemi şimdi çağrıları hello **ExecuteSegmentedAsync** yöntemi ve kullandığı hello **await** değiştiricisi zaman uyumsuz olarak tooretrieve sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-1004">Instead of calling hello **ExecuteSegmented** method tooretrieve results, hello method now calls hello **ExecuteSegmentedAsync** method and uses hello **await** modifier tooretrieve results asynchronously.</span></span>  

<span data-ttu-id="dee89-1005">Merhaba istemci uygulaması, bu yöntem birden çok kez çağırabilir (Merhaba farklı değerlere sahip **departmanı** parametresi), ve her sorgu ayrı bir iş parçacığı üzerinde çalışır.</span><span class="sxs-lookup"><span data-stu-id="dee89-1005">hello client application can call this method multiple times (with different values for hello **department** parameter), and each query will run on a separate thread.</span></span>  

<span data-ttu-id="dee89-1006">Merhaba hiçbir zaman uyumsuz sürümü olduğuna dikkat edin **yürütme** hello yönteminde **TableQuery** çünkü sınıf hello **IEnumerable** arabirimi zaman uyumsuz desteklemiyor sabit listesi.</span><span class="sxs-lookup"><span data-stu-id="dee89-1006">Note that there is no asynchronous version of hello **Execute** method in hello **TableQuery** class because hello **IEnumerable** interface does not support asynchronous enumeration.</span></span>  

<span data-ttu-id="dee89-1007">Ekle, Güncelleştir ve varlıkları zaman uyumsuz olarak silin.</span><span class="sxs-lookup"><span data-stu-id="dee89-1007">You can also insert, update, and delete entities asynchronously.</span></span> <span data-ttu-id="dee89-1008">Aşağıdaki C# örneğine hello basit, zaman uyumlu yöntemi tooinsert gösterir veya bir çalışan varlığı değiştirme:</span><span class="sxs-lookup"><span data-stu-id="dee89-1008">hello following C# example shows a simple, synchronous method tooinsert or replace an employee entity:</span></span>  

```csharp
private static void SimpleEmployeeUpsert(CloudTable employeeTable,
        EmployeeEntity employee)
{
        TableResult result = employeeTable
        .Execute(TableOperation.InsertOrReplace(employee));
        Console.WriteLine("HTTP Status: {0}", result.HttpStatusCode);
}  
```

<span data-ttu-id="dee89-1009">Merhaba güncelleştirme aşağıdaki gibi zaman uyumsuz çalışır kolayca bu kodu değiştirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="dee89-1009">You can easily modify this code so that hello update runs asynchronously as follows:</span></span>  

```csharp
private static async Task SimpleEmployeeUpsertAsync(CloudTable employeeTable,
        EmployeeEntity employee)
{
        TableResult result = await employeeTable
        .ExecuteAsync(TableOperation.InsertOrReplace(employee));
        Console.WriteLine("HTTP Status: {0}", result.HttpStatusCode);
}  
```

<span data-ttu-id="dee89-1010">Zaman uyumsuz Bu örnekte, hello zaman uyumlu sürümünden hello aşağıdaki değişiklikler görebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="dee89-1010">In this asynchronous example, you can see hello following changes from hello synchronous version:</span></span>  

* <span data-ttu-id="dee89-1011">Merhaba yöntemi imza şimdi hello içeren **zaman uyumsuz** değiştiricisini ve döndürür bir **görev** örneği.</span><span class="sxs-lookup"><span data-stu-id="dee89-1011">hello method signature now includes hello **async** modifier and returns a **Task** instance.</span></span>  
* <span data-ttu-id="dee89-1012">Arama hello yerine **yürütme** yöntemi tooupdate hello varlık, hello yöntemi şimdi çağrıları hello **ExecuteAsync** yöntemi ve kullandığı hello **await** değiştiricisi tooretrieve zaman uyumsuz olarak sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="dee89-1012">Instead of calling hello **Execute** method tooupdate hello entity, hello method now calls hello **ExecuteAsync** method and uses hello **await** modifier tooretrieve results asynchronously.</span></span>  

<span data-ttu-id="dee89-1013">Merhaba istemci uygulaması bunun gibi birden çok zaman uyumsuz yöntemleri çağırabilir ve her yöntem çağırma ayrı bir iş parçacığı üzerinde çalışır.</span><span class="sxs-lookup"><span data-stu-id="dee89-1013">hello client application can call multiple asynchronous methods like this one, and each method invocation will run on a separate thread.</span></span>  

### <a name="credits"></a><span data-ttu-id="dee89-1014">KREDİLERİ</span><span class="sxs-lookup"><span data-stu-id="dee89-1014">Credits</span></span>
<span data-ttu-id="dee89-1015">Merhaba Katkıları için Azure ekibi üyeleri aşağıdaki toothank hello isteriz: Dominic Betts, Jason Hogg, Jean Ghanem, Jai Haridas, Jeff Irwin, Vamshidhar Kommineni, Vinay Shah ve Serdar Ozler yanı sıra Microsoft DX gelen zel Hollander.</span><span class="sxs-lookup"><span data-stu-id="dee89-1015">We would like toothank hello following members of hello Azure team for their contributions: Dominic Betts, Jason Hogg, Jean Ghanem, Jai Haridas, Jeff Irwin, Vamshidhar Kommineni, Vinay Shah and Serdar Ozler as well as  Tom Hollander from Microsoft DX.</span></span> 

<span data-ttu-id="dee89-1016">Ayrıca Microsoft MVP ait değerli görüşlerini gözden geçirme döngüsü sırasında aşağıdaki toothank hello isteriz: Igor Papirov ve Edward Bakker.</span><span class="sxs-lookup"><span data-stu-id="dee89-1016">We would also like toothank hello following Microsoft MVP's for their valuable feedback during review cycles: Igor Papirov and Edward Bakker.</span></span>

[1]: ./media/storage-table-design-guide/storage-table-design-IMAGE01.png
[2]: ./media/storage-table-design-guide/storage-table-design-IMAGE02.png
[3]: ./media/storage-table-design-guide/storage-table-design-IMAGE03.png
[4]: ./media/storage-table-design-guide/storage-table-design-IMAGE04.png
[5]: ./media/storage-table-design-guide/storage-table-design-IMAGE05.png
[6]: ./media/storage-table-design-guide/storage-table-design-IMAGE06.png
[7]: ./media/storage-table-design-guide/storage-table-design-IMAGE07.png
[8]: ./media/storage-table-design-guide/storage-table-design-IMAGE08.png
[9]: ./media/storage-table-design-guide/storage-table-design-IMAGE09.png
[10]: ./media/storage-table-design-guide/storage-table-design-IMAGE10.png
[11]: ./media/storage-table-design-guide/storage-table-design-IMAGE11.png
[12]: ./media/storage-table-design-guide/storage-table-design-IMAGE12.png
[13]: ./media/storage-table-design-guide/storage-table-design-IMAGE13.png
[14]: ./media/storage-table-design-guide/storage-table-design-IMAGE14.png
[15]: ./media/storage-table-design-guide/storage-table-design-IMAGE15.png
[16]: ./media/storage-table-design-guide/storage-table-design-IMAGE16.png
[17]: ./media/storage-table-design-guide/storage-table-design-IMAGE17.png
[18]: ./media/storage-table-design-guide/storage-table-design-IMAGE18.png
[19]: ./media/storage-table-design-guide/storage-table-design-IMAGE19.png
[20]: ./media/storage-table-design-guide/storage-table-design-IMAGE20.png
[21]: ./media/storage-table-design-guide/storage-table-design-IMAGE21.png
[22]: ./media/storage-table-design-guide/storage-table-design-IMAGE22.png
[23]: ./media/storage-table-design-guide/storage-table-design-IMAGE23.png
[24]: ./media/storage-table-design-guide/storage-table-design-IMAGE24.png
[25]: ./media/storage-table-design-guide/storage-table-design-IMAGE25.png
[26]: ./media/storage-table-design-guide/storage-table-design-IMAGE26.png
[27]: ./media/storage-table-design-guide/storage-table-design-IMAGE27.png
[28]: ./media/storage-table-design-guide/storage-table-design-IMAGE28.png
[29]: ./media/storage-table-design-guide/storage-table-design-IMAGE29.png

