---
title: "aaaUse işlem yoğunluklu toplu olan Azure VM'ler | Microsoft Docs"
description: "Azure Batch havuzlarında nasıl tootake avantajı RDMA özellikli GPU etkinleştirilmiş veya VM boyutları"
services: batch
documentationcenter: 
author: dlepow
manager: timlt
editor: 
ms.assetid: 
ms.service: batch
ms.workload: big-compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/27/2017
ms.author: danlep
ms.openlocfilehash: 6a462a5f2a44ddcec8bf4e5c200d444cac8fafe6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="use-rdma-capable-or-gpu-enabled-instances-in-batch-pools"></a><span data-ttu-id="2b156-103">Batch havuzları, RDMA özellikli GPU etkinleştirilmiş veya örnekleri kullanın</span><span class="sxs-lookup"><span data-stu-id="2b156-103">Use RDMA-capable or GPU-enabled instances in Batch pools</span></span>

<span data-ttu-id="2b156-104">toorun belirli toplu işlerin büyük ölçekli hesaplama için tasarlanmış Azure VM boyutlarını tootake avantajlarından isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2b156-104">toorun certain Batch jobs, you might want tootake advantage of Azure VM sizes designed for large-scale computation.</span></span> <span data-ttu-id="2b156-105">Örneğin, toorun çok örnekli [MPI iş yükleri](batch-mpi.md), A8, A9, seçebilir veya bir ağ sahip H-serisi boyutları arabirim uzaktan doğrudan bellek erişimi (RDMA için).</span><span class="sxs-lookup"><span data-stu-id="2b156-105">For example, toorun multi-instance [MPI workloads](batch-mpi.md), you can choose A8, A9, or H-series sizes that have a network interface for Remote Direct Memory Access (RDMA).</span></span> <span data-ttu-id="2b156-106">Bu boyutlar MPI uygulamaları hızlandırabilir düğümler arası iletişim için tooan InfiniBand ağına bağlayın.</span><span class="sxs-lookup"><span data-stu-id="2b156-106">These sizes connect tooan InfiniBand network for inter-node communication, which can accelerate MPI applications.</span></span> <span data-ttu-id="2b156-107">Veya CUDA uygulamalar için NVIDIA Tesla grafik işlem birimi (GPU) kartları dahil N-serisi boyutları seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2b156-107">Or for CUDA applications, you can choose N-series sizes that include NVIDIA Tesla graphics processing unit (GPU) cards.</span></span>

<span data-ttu-id="2b156-108">Bu makale Azure Batch havuzlarında özel boyutları bazıları yönergeler ve örnekler toouse sağlar.</span><span class="sxs-lookup"><span data-stu-id="2b156-108">This article provides guidance and examples toouse some of Azure's specialized sizes in Batch pools.</span></span> <span data-ttu-id="2b156-109">Belirtimlerin ve arka plan için bkz:</span><span class="sxs-lookup"><span data-stu-id="2b156-109">For specs and background, see:</span></span>

* <span data-ttu-id="2b156-110">Yüksek performanslı işlem VM boyutları ([Linux](../virtual-machines/linux/sizes-hpc.md), [Windows](../virtual-machines/windows/sizes-hpc.md))</span><span class="sxs-lookup"><span data-stu-id="2b156-110">High performance compute VM sizes ([Linux](../virtual-machines/linux/sizes-hpc.md), [Windows](../virtual-machines/windows/sizes-hpc.md))</span></span> 

* <span data-ttu-id="2b156-111">GPU etkin VM boyutları ([Linux](../virtual-machines/linux/sizes-gpu.md), [Windows](../virtual-machines/windows/sizes-gpu.md))</span><span class="sxs-lookup"><span data-stu-id="2b156-111">GPU-enabled VM sizes ([Linux](../virtual-machines/linux/sizes-gpu.md), [Windows](../virtual-machines/windows/sizes-gpu.md))</span></span> 


## <a name="subscription-and-account-limits"></a><span data-ttu-id="2b156-112">Aboneliği ve hesabı sınırları</span><span class="sxs-lookup"><span data-stu-id="2b156-112">Subscription and account limits</span></span>

* <span data-ttu-id="2b156-113">**Kotalar** -bir veya daha fazla Azure kotaları hello numarası veya türü sınırlayabilir düğümlerinin tooa Batch havuzu ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2b156-113">**Quotas** - One or more Azure quotas may limit hello number or type of nodes you can add tooa Batch pool.</span></span> <span data-ttu-id="2b156-114">RDMA özellikli GPU özellikli seçtiğinizde sınırlı büyük olasılıkla toobe veya diğer çok çekirdekli VM boyutları var.</span><span class="sxs-lookup"><span data-stu-id="2b156-114">You are more likely toobe limited when you choose RDMA-capable, GPU-enabled, or other multicore VM sizes.</span></span> <span data-ttu-id="2b156-115">Oluşturduğunuz toplu işlem hesabı Hello türüne bağlı olarak, toohello hesabının kendisi veya tooyour abonelik hello kotaları uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2b156-115">Depending on hello type of Batch account you created, hello quotas could apply toohello account itself or tooyour subscription.</span></span>

    * <span data-ttu-id="2b156-116">Hello Batch hesabı oluşturduysanız **Batch hizmeti** yapılandırması tarafından hello sınırlıdır [toplu işlem hesabı başına ayrılmış çekirdek kotası](batch-quota-limit.md#resource-quotas).</span><span class="sxs-lookup"><span data-stu-id="2b156-116">If you created your Batch account in hello **Batch service** configuration, you are limited by hello [dedicated cores quota per Batch account](batch-quota-limit.md#resource-quotas).</span></span> <span data-ttu-id="2b156-117">Varsayılan olarak, bu kota 20 çekirdek ' dir.</span><span class="sxs-lookup"><span data-stu-id="2b156-117">By default, this quota is 20 cores.</span></span> <span data-ttu-id="2b156-118">Ayrı bir kota çok uygulanır[düşük öncelikli sanal makineleri](batch-low-pri-vms.md), bunları kullanın.</span><span class="sxs-lookup"><span data-stu-id="2b156-118">A separate quota applies too[low-priority VMs](batch-low-pri-vms.md), if you use them.</span></span> 

    * <span data-ttu-id="2b156-119">Hello hello hesabı oluşturduysanız **kullanıcı aboneliği** yapılandırma, aboneliğinizi hello bölge başına VM çekirdek sayısını sınırlar.</span><span class="sxs-lookup"><span data-stu-id="2b156-119">If you created hello account in hello **User subscription** configuration, your subscription limits hello number of VM cores per region.</span></span> <span data-ttu-id="2b156-120">Bkz: [Azure aboneliği ve hizmet sınırları, kotaları ve kısıtlamaları](../azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="2b156-120">See [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span> <span data-ttu-id="2b156-121">Aboneliğinizi HPC ve GPU örnekleri dahil olmak üzere bir bölgesel kota toocertain VM boyutları için de geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="2b156-121">Your subscription also applies a regional quota toocertain VM sizes, including HPC and GPU instances.</span></span> <span data-ttu-id="2b156-122">Merhaba kullanıcı abonelik yapılandırmasında toohello toplu işlem hesabı hiçbir ek kotalar uygulanır.</span><span class="sxs-lookup"><span data-stu-id="2b156-122">In hello user subscription configuration, no additional quotas apply toohello Batch account.</span></span> 

  <span data-ttu-id="2b156-123">Özelleştirilmiş bir VM boyutu toplu işlemde kullanırken bir veya daha fazla kotaları tooincrease gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="2b156-123">You might need tooincrease one or more quotas when using a specialized VM size in Batch.</span></span> <span data-ttu-id="2b156-124">toorequest kota artışı, açık bir [çevrimiçi müşteri destek isteği](../azure-supportability/how-to-create-azure-support-request.md) herhangi bir ücret alınmaz.</span><span class="sxs-lookup"><span data-stu-id="2b156-124">toorequest a quota increase, open an [online customer support request](../azure-supportability/how-to-create-azure-support-request.md) at no charge.</span></span>

* <span data-ttu-id="2b156-125">**Bölge kullanılabilirliği** - işlem yoğunluklu VM'ler olabilir kullanılabilir, Batch hesabınızı oluşturduğunuz hello bölgelerde.</span><span class="sxs-lookup"><span data-stu-id="2b156-125">**Region availability** - Compute-intensive VMs might not be available in hello regions where you create your Batch accounts.</span></span> <span data-ttu-id="2b156-126">bir boyut kullanılabilir olduğunu toocheck bkz [bölgeye göre ürünleri](https://azure.microsoft.com/regions/services/).</span><span class="sxs-lookup"><span data-stu-id="2b156-126">toocheck that a size is available, see [Products available by region](https://azure.microsoft.com/regions/services/).</span></span>


## <a name="dependencies"></a><span data-ttu-id="2b156-127">Bağımlılıklar</span><span class="sxs-lookup"><span data-stu-id="2b156-127">Dependencies</span></span>

<span data-ttu-id="2b156-128">Merhaba RDMA ve işlem yoğunluklu boyutları GPU özelliklerini yalnızca belirli işletim sistemlerinde desteklenir.</span><span class="sxs-lookup"><span data-stu-id="2b156-128">hello RDMA and GPU capabilities of compute-intensive sizes are supported only in certain operating systems.</span></span> <span data-ttu-id="2b156-129">İşletim sistemine bağlı olarak ek sürücü veya diğer yazılım yapılandırın veya tooinstall ihtiyacınız olabilir.</span><span class="sxs-lookup"><span data-stu-id="2b156-129">Depending on your operating system, you might need tooinstall or configure additional driver or other software.</span></span> <span data-ttu-id="2b156-130">Aşağıdaki tablolar hello Bu bağımlılıklar özetler.</span><span class="sxs-lookup"><span data-stu-id="2b156-130">hello following tables summarize these dependencies.</span></span> <span data-ttu-id="2b156-131">Ayrıntılar için bağlantılı makalelerine bakın.</span><span class="sxs-lookup"><span data-stu-id="2b156-131">See linked articles for details.</span></span> <span data-ttu-id="2b156-132">Seçenekler tooconfigure Batch havuzları için bu makalenin sonraki bölümlerinde bkz.</span><span class="sxs-lookup"><span data-stu-id="2b156-132">For options tooconfigure Batch pools, see later in this article.</span></span>


### <a name="linux-pools---virtual-machine-configuration"></a><span data-ttu-id="2b156-133">Linux havuzları - sanal makine yapılandırması</span><span class="sxs-lookup"><span data-stu-id="2b156-133">Linux pools - Virtual machine configuration</span></span>

| <span data-ttu-id="2b156-134">Boyut</span><span class="sxs-lookup"><span data-stu-id="2b156-134">Size</span></span> | <span data-ttu-id="2b156-135">Özellik</span><span class="sxs-lookup"><span data-stu-id="2b156-135">Capability</span></span> | <span data-ttu-id="2b156-136">İşletim sistemleri</span><span class="sxs-lookup"><span data-stu-id="2b156-136">Operating systems</span></span> | <span data-ttu-id="2b156-137">Gerekli yazılım</span><span class="sxs-lookup"><span data-stu-id="2b156-137">Required software</span></span> | <span data-ttu-id="2b156-138">Havuzu ayarları</span><span class="sxs-lookup"><span data-stu-id="2b156-138">Pool settings</span></span> |
| -------- | -------- | ----- |  -------- | ----- |
| [<span data-ttu-id="2b156-139">H16r, H16mr, A8, A9</span><span class="sxs-lookup"><span data-stu-id="2b156-139">H16r, H16mr, A8, A9</span></span>](../virtual-machines/linux/sizes-hpc.md#rdma-capable-instances) | <span data-ttu-id="2b156-140">RDMA</span><span class="sxs-lookup"><span data-stu-id="2b156-140">RDMA</span></span> | <span data-ttu-id="2b156-141">SUSE Linux Enterprise Server 12 HPC veya</span><span class="sxs-lookup"><span data-stu-id="2b156-141">SUSE Linux Enterprise Server 12 HPC or</span></span><br/><span data-ttu-id="2b156-142">CentOS tabanlı HPC</span><span class="sxs-lookup"><span data-stu-id="2b156-142">CentOS-based HPC</span></span><br/><span data-ttu-id="2b156-143">(Azure Market)</span><span class="sxs-lookup"><span data-stu-id="2b156-143">(Azure Marketplace)</span></span> | <span data-ttu-id="2b156-144">Intel MPI 5</span><span class="sxs-lookup"><span data-stu-id="2b156-144">Intel MPI 5</span></span> | <span data-ttu-id="2b156-145">Düğümler arası iletişimi etkinleştirmek, eşzamanlı görev yürütme devre dışı bırakma</span><span class="sxs-lookup"><span data-stu-id="2b156-145">Enable inter-node communication, disable concurrent task execution</span></span> |
| [<span data-ttu-id="2b156-146">NC serisi *</span><span class="sxs-lookup"><span data-stu-id="2b156-146">NC series*</span></span>](../virtual-machines/linux/n-series-driver-setup.md#install-cuda-drivers-for-nc-vms) | <span data-ttu-id="2b156-147">NVIDIA Tesla K80 GPU</span><span class="sxs-lookup"><span data-stu-id="2b156-147">NVIDIA Tesla K80 GPU</span></span> | <span data-ttu-id="2b156-148">Ubuntu 16.04 LTS.</span><span class="sxs-lookup"><span data-stu-id="2b156-148">Ubuntu 16.04 LTS.</span></span><br/><span data-ttu-id="2b156-149">Red Hat Enterprise Linux 7.3, veya</span><span class="sxs-lookup"><span data-stu-id="2b156-149">Red Hat Enterprise Linux 7.3, or</span></span><br/><span data-ttu-id="2b156-150">CentOS tabanlı 7.3</span><span class="sxs-lookup"><span data-stu-id="2b156-150">CentOS-based 7.3</span></span><br/><span data-ttu-id="2b156-151">(Azure Market)</span><span class="sxs-lookup"><span data-stu-id="2b156-151">(Azure Marketplace)</span></span> | <span data-ttu-id="2b156-152">NVIDIA CUDA Araç Seti 8.0 sürücüleri</span><span class="sxs-lookup"><span data-stu-id="2b156-152">NVIDIA CUDA Toolkit 8.0 drivers</span></span> | <span data-ttu-id="2b156-153">Yok</span><span class="sxs-lookup"><span data-stu-id="2b156-153">N/A</span></span> | 
| [<span data-ttu-id="2b156-154">NV serisi</span><span class="sxs-lookup"><span data-stu-id="2b156-154">NV series</span></span>](../virtual-machines/linux/n-series-driver-setup.md#install-grid-drivers-for-nv-vms) | <span data-ttu-id="2b156-155">NVIDIA Tesla M60 GPU</span><span class="sxs-lookup"><span data-stu-id="2b156-155">NVIDIA Tesla M60 GPU</span></span> | <span data-ttu-id="2b156-156">Ubuntu 16.04 LTS</span><span class="sxs-lookup"><span data-stu-id="2b156-156">Ubuntu 16.04 LTS</span></span><br/><span data-ttu-id="2b156-157">Red Hat Enterprise Linux 7.3</span><span class="sxs-lookup"><span data-stu-id="2b156-157">Red Hat Enterprise Linux 7.3</span></span><br/><span data-ttu-id="2b156-158">CentOS tabanlı 7.3</span><span class="sxs-lookup"><span data-stu-id="2b156-158">CentOS-based 7.3</span></span><br/><span data-ttu-id="2b156-159">(Azure Market)</span><span class="sxs-lookup"><span data-stu-id="2b156-159">(Azure Marketplace)</span></span> | <span data-ttu-id="2b156-160">NVIDIA Kılavuz 4.3 sürücüleri</span><span class="sxs-lookup"><span data-stu-id="2b156-160">NVIDIA GRID 4.3 drivers</span></span> | <span data-ttu-id="2b156-161">Yok</span><span class="sxs-lookup"><span data-stu-id="2b156-161">N/A</span></span> |

<span data-ttu-id="2b156-162">* RDMA bağlantısı NC24r vm'lerde CentOS tabanlı 7.3 HPC Intel MPI ile desteklenir.</span><span class="sxs-lookup"><span data-stu-id="2b156-162">*RDMA connectivity on NC24r VMs is supported on CentOS-based 7.3 HPC with Intel MPI.</span></span>



### <a name="windows-pools---virtual-machine-configuration"></a><span data-ttu-id="2b156-163">Windows havuzları - sanal makine yapılandırması</span><span class="sxs-lookup"><span data-stu-id="2b156-163">Windows pools - Virtual machine configuration</span></span>

| <span data-ttu-id="2b156-164">Boyut</span><span class="sxs-lookup"><span data-stu-id="2b156-164">Size</span></span> | <span data-ttu-id="2b156-165">Özellik</span><span class="sxs-lookup"><span data-stu-id="2b156-165">Capability</span></span> | <span data-ttu-id="2b156-166">İşletim sistemleri</span><span class="sxs-lookup"><span data-stu-id="2b156-166">Operating systems</span></span> | <span data-ttu-id="2b156-167">Gerekli yazılım</span><span class="sxs-lookup"><span data-stu-id="2b156-167">Required software</span></span> | <span data-ttu-id="2b156-168">Havuzu ayarları</span><span class="sxs-lookup"><span data-stu-id="2b156-168">Pool settings</span></span> |
| -------- | ------ | -------- | -------- | ----- |
| [<span data-ttu-id="2b156-169">H16r, H16mr, A8, A9</span><span class="sxs-lookup"><span data-stu-id="2b156-169">H16r, H16mr, A8, A9</span></span>](../virtual-machines/windows/sizes-hpc.md#rdma-capable-instances) | <span data-ttu-id="2b156-170">RDMA</span><span class="sxs-lookup"><span data-stu-id="2b156-170">RDMA</span></span> | <span data-ttu-id="2b156-171">Windows Server 2012 R2 veya</span><span class="sxs-lookup"><span data-stu-id="2b156-171">Windows Server 2012 R2 or</span></span><br/><span data-ttu-id="2b156-172">Windows Server 2012 (Azure Market)</span><span class="sxs-lookup"><span data-stu-id="2b156-172">Windows Server 2012 (Azure Marketplace)</span></span> | <span data-ttu-id="2b156-173">Microsoft MPI 2012 R2 veya sonraki bir sürümü veya</span><span class="sxs-lookup"><span data-stu-id="2b156-173">Microsoft MPI 2012 R2 or later, or</span></span><br/> <span data-ttu-id="2b156-174">Intel MPI 5</span><span class="sxs-lookup"><span data-stu-id="2b156-174">Intel MPI 5</span></span><br/><br/><span data-ttu-id="2b156-175">HpcVMDrivers Azure VM uzantısı</span><span class="sxs-lookup"><span data-stu-id="2b156-175">HpcVMDrivers Azure VM extension</span></span> | <span data-ttu-id="2b156-176">Düğümler arası iletişimi etkinleştirmek, eşzamanlı görev yürütme devre dışı bırakma</span><span class="sxs-lookup"><span data-stu-id="2b156-176">Enable inter-node communication, disable concurrent task execution</span></span> |
| [<span data-ttu-id="2b156-177">NC serisi *</span><span class="sxs-lookup"><span data-stu-id="2b156-177">NC series*</span></span>](../virtual-machines/windows/n-series-driver-setup.md) | <span data-ttu-id="2b156-178">NVIDIA Tesla K80 GPU</span><span class="sxs-lookup"><span data-stu-id="2b156-178">NVIDIA Tesla K80 GPU</span></span> | <span data-ttu-id="2b156-179">Windows Server 2016 veya</span><span class="sxs-lookup"><span data-stu-id="2b156-179">Windows Server 2016 or</span></span> <br/><span data-ttu-id="2b156-180">Windows Server 2012 R2 (Azure Market)</span><span class="sxs-lookup"><span data-stu-id="2b156-180">Windows Server 2012 R2 (Azure Marketplace)</span></span> | <span data-ttu-id="2b156-181">NVIDIA Tesla sürücüleri veya CUDA Araç Seti 8.0 sürücülerini</span><span class="sxs-lookup"><span data-stu-id="2b156-181">NVIDIA Tesla drivers or CUDA Toolkit 8.0 drivers</span></span>| <span data-ttu-id="2b156-182">Yok</span><span class="sxs-lookup"><span data-stu-id="2b156-182">N/A</span></span> | 
| [<span data-ttu-id="2b156-183">NV serisi</span><span class="sxs-lookup"><span data-stu-id="2b156-183">NV series</span></span>](../virtual-machines/windows/n-series-driver-setup.md) | <span data-ttu-id="2b156-184">NVIDIA Tesla M60 GPU</span><span class="sxs-lookup"><span data-stu-id="2b156-184">NVIDIA Tesla M60 GPU</span></span> | <span data-ttu-id="2b156-185">Windows Server 2016 veya</span><span class="sxs-lookup"><span data-stu-id="2b156-185">Windows Server 2016 or</span></span><br/><span data-ttu-id="2b156-186">Windows Server 2012 R2 (Azure Market)</span><span class="sxs-lookup"><span data-stu-id="2b156-186">Windows Server 2012 R2 (Azure Marketplace)</span></span> | <span data-ttu-id="2b156-187">NVIDIA Kılavuz 4.3 sürücüleri</span><span class="sxs-lookup"><span data-stu-id="2b156-187">NVIDIA GRID 4.3 drivers</span></span> | <span data-ttu-id="2b156-188">Yok</span><span class="sxs-lookup"><span data-stu-id="2b156-188">N/A</span></span> |

<span data-ttu-id="2b156-189">* RDMA bağlantısı NC24r vm'lerde HpcVMDrivers uzantısı ve Microsoft MPI veya Intel MPI ile Windows Server 2012 R2'de desteklenir.</span><span class="sxs-lookup"><span data-stu-id="2b156-189">*RDMA connectivity on NC24r VMs is supported on Windows Server 2012 R2 with HpcVMDrivers extension and Microsoft MPI or Intel MPI.</span></span>

### <a name="windows-pools---cloud-services-configuration"></a><span data-ttu-id="2b156-190">Windows havuzları - Cloud services yapılandırması</span><span class="sxs-lookup"><span data-stu-id="2b156-190">Windows pools - Cloud services configuration</span></span>

> [!NOTE]
> <span data-ttu-id="2b156-191">N-serisi boyutları hello cloud services yapılandırması ile Batch havuzlarında desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="2b156-191">N-series sizes are not supported in Batch pools with hello cloud services configuration.</span></span>
>

| <span data-ttu-id="2b156-192">Boyut</span><span class="sxs-lookup"><span data-stu-id="2b156-192">Size</span></span> | <span data-ttu-id="2b156-193">Özellik</span><span class="sxs-lookup"><span data-stu-id="2b156-193">Capability</span></span> | <span data-ttu-id="2b156-194">İşletim sistemleri</span><span class="sxs-lookup"><span data-stu-id="2b156-194">Operating systems</span></span> | <span data-ttu-id="2b156-195">Gerekli yazılım</span><span class="sxs-lookup"><span data-stu-id="2b156-195">Required software</span></span> | <span data-ttu-id="2b156-196">Havuzu ayarları</span><span class="sxs-lookup"><span data-stu-id="2b156-196">Pool settings</span></span> |
| -------- | ------- | -------- | -------- | ----- |
| [<span data-ttu-id="2b156-197">H16r, H16mr, A8, A9</span><span class="sxs-lookup"><span data-stu-id="2b156-197">H16r, H16mr, A8, A9</span></span>](../virtual-machines/windows/sizes-hpc.md#rdma-capable-instances) | <span data-ttu-id="2b156-198">RDMA</span><span class="sxs-lookup"><span data-stu-id="2b156-198">RDMA</span></span> | <span data-ttu-id="2b156-199">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="2b156-199">Windows Server 2012 R2,</span></span><br/><span data-ttu-id="2b156-200">Windows Server 2012 veya</span><span class="sxs-lookup"><span data-stu-id="2b156-200">Windows Server 2012, or</span></span><br/><span data-ttu-id="2b156-201">Windows Server 2008 R2 (konuk işletim sistemi ailesi)</span><span class="sxs-lookup"><span data-stu-id="2b156-201">Windows Server 2008 R2 (Guest OS family)</span></span> | <span data-ttu-id="2b156-202">Microsoft MPI 2012 R2 veya sonraki bir sürümü veya</span><span class="sxs-lookup"><span data-stu-id="2b156-202">Microsoft MPI 2012 R2 or later, or</span></span><br/><span data-ttu-id="2b156-203">Intel MPI 5</span><span class="sxs-lookup"><span data-stu-id="2b156-203">Intel MPI 5</span></span><br/><br/><span data-ttu-id="2b156-204">HpcVMDrivers Azure VM uzantısı</span><span class="sxs-lookup"><span data-stu-id="2b156-204">HpcVMDrivers Azure VM extension</span></span> | <span data-ttu-id="2b156-205">Düğümler arası iletişimi etkinleştirmek,</span><span class="sxs-lookup"><span data-stu-id="2b156-205">Enable inter-node communication,</span></span><br/> <span data-ttu-id="2b156-206">eşzamanlı görev yürütme devre dışı bırak</span><span class="sxs-lookup"><span data-stu-id="2b156-206">disable concurrent task execution</span></span> |





## <a name="pool-configuration-options"></a><span data-ttu-id="2b156-207">Havuz yapılandırma seçenekleri</span><span class="sxs-lookup"><span data-stu-id="2b156-207">Pool configuration options</span></span>

<span data-ttu-id="2b156-208">tooconfigure Batch havuzu, hello Batch API'lerini ve araçları için özelleştirilmiş bir VM boyutu birkaç seçenekleri tooinstall gerekli yazılım veya sürücüler dahil olmak üzere, sağlayın:</span><span class="sxs-lookup"><span data-stu-id="2b156-208">tooconfigure a specialized VM size for your Batch pool, hello Batch APIs and tools provide several options tooinstall required software or drivers, including:</span></span>

* <span data-ttu-id="2b156-209">[Başlangıç görevi](batch-api-basics.md#start-task) -kaynak dosya tooan hello Azure depolama hesabında farklı bir yükleme paketi karşıya hello toplu işlem hesabı ile aynı bölgeye.</span><span class="sxs-lookup"><span data-stu-id="2b156-209">[Start task](batch-api-basics.md#start-task) - Upload an installation package as a resource file tooan Azure storage account in hello same region as hello Batch account.</span></span> <span data-ttu-id="2b156-210">Hello havuzu başlatıldığında başlangıç görevi komut satırı tooinstall hello kaynak dosyası sessizce oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2b156-210">Create a start task command line tooinstall hello resource file silently when hello pool starts.</span></span> <span data-ttu-id="2b156-211">Daha fazla bilgi için bkz: Merhaba [REST API belgeleri](/rest/api/batchservice/add-a-pool-to-an-account#bk_starttask).</span><span class="sxs-lookup"><span data-stu-id="2b156-211">For more information, see hello [REST API documentation](/rest/api/batchservice/add-a-pool-to-an-account#bk_starttask).</span></span>

  > [!NOTE] 
  > <span data-ttu-id="2b156-212">Merhaba başlangıç görevi yükseltilmiş (Yönetici) izinleriyle çalıştırılmalıdır ve başarı için beklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="2b156-212">hello start task must run with elevated (admin) permissions, and it must wait for success.</span></span>
  >

* <span data-ttu-id="2b156-213">[Uygulama paketi](batch-application-packages.md) - sıkıştırılmış yükleme paketini tooyour toplu işlem hesabı ekleyin ve bir paket başvuru hello havuzunda yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="2b156-213">[Application package](batch-application-packages.md) - Add a zipped installation package tooyour Batch account, and configure a package reference in hello pool.</span></span> <span data-ttu-id="2b156-214">Bu ayar hello paket hello havuzundaki tüm düğümlerde unzips ve yükler.</span><span class="sxs-lookup"><span data-stu-id="2b156-214">This setting uploads and unzips hello package on all nodes in hello pool.</span></span> <span data-ttu-id="2b156-215">Hello paket bir yükleyici ise, tüm havuzu düğümler üzerinde bir başlangıç görevi komut satırı toosilently yükleme hello uygulaması oluşturursunuz.</span><span class="sxs-lookup"><span data-stu-id="2b156-215">If hello package is an installer, create a start task command line toosilently install hello app on all pool nodes.</span></span> <span data-ttu-id="2b156-216">İsteğe bağlı olarak, bir görev bir düğüm üzerinde zamanlanmış toorun olduğunda hello paketini yükleyin.</span><span class="sxs-lookup"><span data-stu-id="2b156-216">Optionally, install hello package when a task is scheduled toorun on a node.</span></span>

* <span data-ttu-id="2b156-217">[Özel havuzu görüntü](batch-api-basics.md#pool) - özel Windows oluşturma veya sürücüleri, yazılım veya diğer ayarları içeren bir Linux VM görüntüsü gerekli Merhaba VM boyutu.</span><span class="sxs-lookup"><span data-stu-id="2b156-217">[Custom pool image](batch-api-basics.md#pool) - Create a custom Windows or Linux VM image that contains drivers, software, or other settings required for hello VM size.</span></span> <span data-ttu-id="2b156-218">Batch hesabınıza hello kullanıcı abonelik Yapılandırması'nda oluşturulan hello özel görüntü toplu havuzunuz için belirtin.</span><span class="sxs-lookup"><span data-stu-id="2b156-218">If you created your Batch account in hello user subscription configuration, specify hello custom image for your Batch pool.</span></span> <span data-ttu-id="2b156-219">(Özel görüntüleri hello toplu hizmet yapılandırmasında hesaplarındaki desteklenmez.) Özel resimler yalnızca hello sanal makine yapılandırması havuzları ile kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="2b156-219">(Custom images are not supported in accounts in hello Batch service configuration.) Custom images can only be used with pools in hello virtual machine configuration.</span></span>

  > [!IMPORTANT]
  > <span data-ttu-id="2b156-220">Batch havuzlarında yönetilen diskleri veya Premium depolama ile oluşturulan özel bir görüntü şu anda kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="2b156-220">In Batch pools, you can't currently use a custom image created with managed disks or with Premium storage.</span></span>
  >



* <span data-ttu-id="2b156-221">[Toplu Shipyard](https://github.com/Azure/batch-shipyard) otomatik olarak hello GPU ve RDMA toowork saydam Azure batch kapsayıcılı iş yükleri ile yapılandırır.</span><span class="sxs-lookup"><span data-stu-id="2b156-221">[Batch Shipyard](https://github.com/Azure/batch-shipyard) automatically configures hello GPU and RDMA toowork transparently with containerized workloads on Azure Batch.</span></span> <span data-ttu-id="2b156-222">Toplu Shipyard tamamen yapılandırma dosyaları ile yönetilir.</span><span class="sxs-lookup"><span data-stu-id="2b156-222">Batch Shipyard is entirely driven with configuration files.</span></span> <span data-ttu-id="2b156-223">GPU ve RDMA iş yükleri gibi hello sağlayan birçok örnek tarif yapılandırmaları kullanılabilir vardır [CNTK GPU tarif](https://github.com/Azure/batch-shipyard/tree/master/recipes/CNTK-GPU-OpenMPI) N-serisi vm'lerde GPU sürücüleri önceden yapılandırır ve Microsoft Bilişsel Araç Seti yazılım Docker görüntü olarak yükler.</span><span class="sxs-lookup"><span data-stu-id="2b156-223">There are many sample recipe configurations available that enable GPU and RDMA workloads such as hello [CNTK GPU Recipe](https://github.com/Azure/batch-shipyard/tree/master/recipes/CNTK-GPU-OpenMPI)  which preconfigures GPU drivers on N-series VMs and loads Microsoft Cognitive Toolkit software as a Docker image.</span></span>


## <a name="example-microsoft-mpi-on-an-a8-vm-pool"></a><span data-ttu-id="2b156-224">Örnek: Microsoft MPI A8 VM havuzunda</span><span class="sxs-lookup"><span data-stu-id="2b156-224">Example: Microsoft MPI on an A8 VM pool</span></span>

<span data-ttu-id="2b156-225">toorun Windows MPI uygulamaları Azure A8 düğümlerinin havuzunda tooinstall desteklenen MPI uygulanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="2b156-225">toorun Windows MPI applications on a pool of Azure A8 nodes, you need tooinstall a supported MPI implementation.</span></span> <span data-ttu-id="2b156-226">Örnek adımları tooinstall işte [Microsoft MPI](https://msdn.microsoft.com/library/bb524831(v=vs.85).aspx) Windows havuz Batch uygulama paketini kullanarak.</span><span class="sxs-lookup"><span data-stu-id="2b156-226">Here are sample steps tooinstall [Microsoft MPI](https://msdn.microsoft.com/library/bb524831(v=vs.85).aspx) on a Windows pool using a Batch application package.</span></span>

1. <span data-ttu-id="2b156-227">Merhaba karşıdan [Kurulum paketini](http://go.microsoft.com/FWLink/p/?LinkID=389556) (MSMpiSetup.exe) Microsoft MPI en son sürümünü hello için.</span><span class="sxs-lookup"><span data-stu-id="2b156-227">Download hello [setup package](http://go.microsoft.com/FWLink/p/?LinkID=389556) (MSMpiSetup.exe) for hello latest version of Microsoft MPI.</span></span>
2. <span data-ttu-id="2b156-228">Merhaba paketi zip dosyası oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2b156-228">Create a zip file of hello package.</span></span>
3. <span data-ttu-id="2b156-229">Merhaba paket tooyour toplu işlem hesabı karşıya yükleyin.</span><span class="sxs-lookup"><span data-stu-id="2b156-229">Upload hello package tooyour Batch account.</span></span> <span data-ttu-id="2b156-230">Merhaba adımları için bkz [uygulama paketleri](batch-application-packages.md) Kılavuzu.</span><span class="sxs-lookup"><span data-stu-id="2b156-230">For steps, see hello [application packages](batch-application-packages.md) guidance.</span></span> <span data-ttu-id="2b156-231">Bir uygulama kimliği gibi belirtin *MSMPI*ve sürüm gibi *8.1*.</span><span class="sxs-lookup"><span data-stu-id="2b156-231">Specify an application id such as *MSMPI*, and a version such as *8.1*.</span></span> 
4. <span data-ttu-id="2b156-232">Merhaba Batch API'leri veya Azure portal kullanarak, düğümleri ve ölçek istenen hello numarasıyla hello bulut Hizmetleri Yapılandırması'nda bir havuzu oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2b156-232">Using hello Batch APIs or Azure portal, create a pool in hello cloud services configuration with hello desired number of nodes and scale.</span></span> <span data-ttu-id="2b156-233">Merhaba aşağıdaki tabloda örnek ayarları tooset MPI oluşturan bir başlangıç görevi kullanarak katılımsız modda gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="2b156-233">hello following table shows sample settings tooset up MPI in unattended mode using a start task:</span></span>

| <span data-ttu-id="2b156-234">Ayar</span><span class="sxs-lookup"><span data-stu-id="2b156-234">Setting</span></span> | <span data-ttu-id="2b156-235">Değer</span><span class="sxs-lookup"><span data-stu-id="2b156-235">Value</span></span> |
| ---- | ----- | 
| <span data-ttu-id="2b156-236">**Görüntü türü**</span><span class="sxs-lookup"><span data-stu-id="2b156-236">**Image Type**</span></span> | <span data-ttu-id="2b156-237">Cloud Services</span><span class="sxs-lookup"><span data-stu-id="2b156-237">Cloud Services</span></span> |
| <span data-ttu-id="2b156-238">**İşletim sistemi ailesi**</span><span class="sxs-lookup"><span data-stu-id="2b156-238">**OS family**</span></span> | <span data-ttu-id="2b156-239">Windows Server 2012 R2 (işletim sistemi ailesi 4)</span><span class="sxs-lookup"><span data-stu-id="2b156-239">Windows Server 2012 R2 (OS family 4)</span></span> |
| <span data-ttu-id="2b156-240">**Düğüm boyutu**</span><span class="sxs-lookup"><span data-stu-id="2b156-240">**Node size**</span></span> | <span data-ttu-id="2b156-241">A8 standart</span><span class="sxs-lookup"><span data-stu-id="2b156-241">A8 Standard</span></span> |
| <span data-ttu-id="2b156-242">**Düğümler arası iletişim etkinleştirildi**</span><span class="sxs-lookup"><span data-stu-id="2b156-242">**Internode communication enabled**</span></span> | <span data-ttu-id="2b156-243">True</span><span class="sxs-lookup"><span data-stu-id="2b156-243">True</span></span> |
| <span data-ttu-id="2b156-244">**Düğüm başına en fazla görev**</span><span class="sxs-lookup"><span data-stu-id="2b156-244">**Max tasks per node**</span></span> | <span data-ttu-id="2b156-245">1</span><span class="sxs-lookup"><span data-stu-id="2b156-245">1</span></span> |
| <span data-ttu-id="2b156-246">**Uygulama paketi başvuruları**</span><span class="sxs-lookup"><span data-stu-id="2b156-246">**Application package references**</span></span> | <span data-ttu-id="2b156-247">MSMPI</span><span class="sxs-lookup"><span data-stu-id="2b156-247">MSMPI</span></span> |
| <span data-ttu-id="2b156-248">**Etkin başlangıç görevi**</span><span class="sxs-lookup"><span data-stu-id="2b156-248">**Start task enabled**</span></span> | <span data-ttu-id="2b156-249">True</span><span class="sxs-lookup"><span data-stu-id="2b156-249">True</span></span><br><span data-ttu-id="2b156-250">**Komut satırı** - `"cmd /c %AZ_BATCH_APP_PACKAGE_MSMPI#8.1%\\MSMpiSetup.exe -unattend -force"`</span><span class="sxs-lookup"><span data-stu-id="2b156-250">**Command line** - `"cmd /c %AZ_BATCH_APP_PACKAGE_MSMPI#8.1%\\MSMpiSetup.exe -unattend -force"`</span></span><br/><span data-ttu-id="2b156-251">**Kullanıcı Kimliği** -havuzu autouser, yönetici</span><span class="sxs-lookup"><span data-stu-id="2b156-251">**User identity** - Pool autouser, admin</span></span><br/><span data-ttu-id="2b156-252">**Başarı için bekleyin** - True</span><span class="sxs-lookup"><span data-stu-id="2b156-252">**Wait for success** - True</span></span>

## <a name="example-nvidia-tesla-drivers-on-nc-vm-pool"></a><span data-ttu-id="2b156-253">Örnek: NVIDIA Tesla sürücüleri NC VM havuzu</span><span class="sxs-lookup"><span data-stu-id="2b156-253">Example: NVIDIA Tesla drivers on NC VM pool</span></span>

<span data-ttu-id="2b156-254">toorun CUDA uygulamaları Linux NC düğümlerinin havuzunda tooinstall CUDA Araç Seti 8.0 hello düğümlerde gerekir.</span><span class="sxs-lookup"><span data-stu-id="2b156-254">toorun CUDA applications on a pool of Linux NC nodes, you need tooinstall CUDA Toolkit 8.0 on hello nodes.</span></span> <span data-ttu-id="2b156-255">Merhaba Araç Seti hello gerekli NVIDIA Tesla GPU sürücüleri yükler.</span><span class="sxs-lookup"><span data-stu-id="2b156-255">hello Toolkit installs hello necessary NVIDIA Tesla GPU drivers.</span></span> <span data-ttu-id="2b156-256">Örnek adımları toodeploy hello GPU sürücüleri ile özel bir Ubuntu 16.04 LTS görüntü şunlardır:</span><span class="sxs-lookup"><span data-stu-id="2b156-256">Here are sample steps toodeploy a custom Ubuntu 16.04 LTS image with hello GPU drivers:</span></span>

1. <span data-ttu-id="2b156-257">Bir Azure NC6 Ubuntu 16.04 LTS çalıştıran VM dağıtın.</span><span class="sxs-lookup"><span data-stu-id="2b156-257">Deploy an Azure NC6 VM running Ubuntu 16.04 LTS.</span></span> <span data-ttu-id="2b156-258">Örneğin, hello VM hello BİZE Güney merkez bölgede oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2b156-258">For example, create hello VM in hello US South Central region.</span></span> <span data-ttu-id="2b156-259">Standart depolama ile Merhaba VM oluşturduğunuzdan emin olun ve *olmadan* yönetilen diskler.</span><span class="sxs-lookup"><span data-stu-id="2b156-259">Make sure that you create hello VM with standard storage, and *without* managed disks.</span></span>
2. <span data-ttu-id="2b156-260">Merhaba adımları tooconnect toohello VM izleyin ve [CUDA sürücülerini yüklemek](../virtual-machines/linux/n-series-driver-setup.md#install-cuda-drivers-for-nc-vms).</span><span class="sxs-lookup"><span data-stu-id="2b156-260">Follow hello steps tooconnect toohello VM and [install CUDA drivers](../virtual-machines/linux/n-series-driver-setup.md#install-cuda-drivers-for-nc-vms).</span></span>
3. <span data-ttu-id="2b156-261">Merhaba Linux Aracısı yetkisini kaldırma ve ardından hello Azure CLI 1.0 komutları kullanarak Linux VM görüntüsünü yakalayın.</span><span class="sxs-lookup"><span data-stu-id="2b156-261">Deprovision hello Linux agent, and then capture Linux VM image using hello Azure CLI 1.0 commands.</span></span> <span data-ttu-id="2b156-262">Adımlar için bkz: [Azure üzerinde çalışan Linux sanal makine yakalama](../virtual-machines/linux/capture-image-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="2b156-262">For steps, see [Capture a Linux virtual machine running on Azure](../virtual-machines/linux/capture-image-nodejs.md).</span></span> <span data-ttu-id="2b156-263">Merhaba görüntü URI not edin.</span><span class="sxs-lookup"><span data-stu-id="2b156-263">Make a note of hello image URI.</span></span>
  > [!IMPORTANT]
  > <span data-ttu-id="2b156-264">Azure CLI 2.0 komutları toocapture hello görüntüsü için Azure Batch kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="2b156-264">Do not use Azure CLI 2.0 commands toocapture hello image for Azure Batch.</span></span> <span data-ttu-id="2b156-265">Şu anda hello CLI 2.0 komutlar, yalnızca yönetilen diskleri kullanılarak oluşturulan sanal makineleri yakalayın.</span><span class="sxs-lookup"><span data-stu-id="2b156-265">Currently hello CLI 2.0 commands only capture VMs created using managed disks.</span></span>
  >
4. <span data-ttu-id="2b156-266">NC sanal makineleri destekleyen bir bölgede hello kullanıcı aboneliği yapılandırması ile bir toplu işlem hesabı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2b156-266">Create a Batch account, with hello user subscription configuration, in a region that supports NC VMs.</span></span>
5. <span data-ttu-id="2b156-267">Merhaba özel görüntü kullanarak havuz oluşturma ve düğümler ve ölçek sayısı ile Merhaba istenen Hello Batch API'leri veya Azure portal kullanarak.</span><span class="sxs-lookup"><span data-stu-id="2b156-267">Using hello Batch APIs or Azure portal, create a pool using hello custom image and with hello desired number of nodes and scale.</span></span> <span data-ttu-id="2b156-268">Merhaba aşağıdaki tabloda hello görüntüsü için örnek havuzu ayarları gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="2b156-268">hello following table shows sample pool settings for hello image:</span></span>

| <span data-ttu-id="2b156-269">Ayar</span><span class="sxs-lookup"><span data-stu-id="2b156-269">Setting</span></span> | <span data-ttu-id="2b156-270">Değer</span><span class="sxs-lookup"><span data-stu-id="2b156-270">Value</span></span> |
| ---- | ---- |
| <span data-ttu-id="2b156-271">**Görüntü türü**</span><span class="sxs-lookup"><span data-stu-id="2b156-271">**Image Type**</span></span> | <span data-ttu-id="2b156-272">Özel görüntü</span><span class="sxs-lookup"><span data-stu-id="2b156-272">Custom Image</span></span> |
| <span data-ttu-id="2b156-273">**Özel görüntü**</span><span class="sxs-lookup"><span data-stu-id="2b156-273">**Custom Image**</span></span> | <span data-ttu-id="2b156-274">Görüntü hello formunun URI`https://yourstorageaccountdisks.blob.core.windows.net/system/Microsoft.Compute/Images/vhds/MyVHDNamePrefix-osDisk.xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.vhd`</span><span class="sxs-lookup"><span data-stu-id="2b156-274">Image URI of hello form `https://yourstorageaccountdisks.blob.core.windows.net/system/Microsoft.Compute/Images/vhds/MyVHDNamePrefix-osDisk.xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.vhd`</span></span> |
| <span data-ttu-id="2b156-275">**Düğüm Aracısı SKU**</span><span class="sxs-lookup"><span data-stu-id="2b156-275">**Node agent SKU**</span></span> | <span data-ttu-id="2b156-276">Batch.node.ubuntu 16.04</span><span class="sxs-lookup"><span data-stu-id="2b156-276">batch.node.ubuntu 16.04</span></span> |
| <span data-ttu-id="2b156-277">**Düğüm boyutu**</span><span class="sxs-lookup"><span data-stu-id="2b156-277">**Node size**</span></span> | <span data-ttu-id="2b156-278">NC6 standart</span><span class="sxs-lookup"><span data-stu-id="2b156-278">NC6 Standard</span></span> |



## <a name="next-steps"></a><span data-ttu-id="2b156-279">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="2b156-279">Next steps</span></span>

* <span data-ttu-id="2b156-280">bir Azure Batch havuzunda toorun MPI işlerini bkz hello [Windows](batch-mpi.md) veya [Linux](https://blogs.technet.microsoft.com/windowshpc/2016/07/20/introducing-mpi-support-for-linux-on-azure-batch/) örnekler.</span><span class="sxs-lookup"><span data-stu-id="2b156-280">toorun MPI jobs on an Azure Batch pool, see hello [Windows](batch-mpi.md) or [Linux](https://blogs.technet.microsoft.com/windowshpc/2016/07/20/introducing-mpi-support-for-linux-on-azure-batch/) examples.</span></span>

* <span data-ttu-id="2b156-281">Merhaba GPU iş yükleri batch örnekler için bkz [toplu Shipyard](https://github.com/Azure/batch-shipyard/) tarif.</span><span class="sxs-lookup"><span data-stu-id="2b156-281">For examples of GPU workloads on Batch, see hello [Batch Shipyard](https://github.com/Azure/batch-shipyard/) recipes.</span></span>
