---
title: "işlem düğümlerini Azure Batch havuzunda aaaAutomatically ölçeklendirme | Microsoft Docs"
description: "Etkin bir bulut havuzu toodynamically üzerinde otomatik ölçeklendirmeyi hello hello havuzdaki işlem düğümleri sayısını ayarlayın."
services: batch
documentationcenter: 
author: tamram
manager: timlt
editor: tysonn
ms.assetid: c624cdfc-c5f2-4d13-a7d7-ae080833b779
ms.service: batch
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: multiple
ms.date: 06/20/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: b6d1e0c5d8e0e56e15a4d3588150f2466a689f19
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-automatic-scaling-formula-for-scaling-compute-nodes-in-a-batch-pool"></a><span data-ttu-id="ae77b-103">Bir Batch havuzunda işlem düğümlerini ölçeklendirme bir otomatik ölçeklendirme formülü oluşturma</span><span class="sxs-lookup"><span data-stu-id="ae77b-103">Create an automatic scaling formula for scaling compute nodes in a Batch pool</span></span>

<span data-ttu-id="ae77b-104">Azure Batch havuzları tanımladığınız parametrelere göre otomatik olarak ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-104">Azure Batch can automatically scale pools based on parameters that you define.</span></span> <span data-ttu-id="ae77b-105">Otomatik ölçeklendirme, toplu işlem düğümleri tooa havuzu görev taleplerini artış dinamik olarak ekler. ve bunlar azaldıkça işlem düğümleri kaldırır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-105">With automatic scaling, Batch dynamically adds nodes tooa pool as task demands increase, and removes compute nodes as they decrease.</span></span> <span data-ttu-id="ae77b-106">Merhaba toplu uygulamanız tarafından kullanılan işlem düğümü sayısını otomatik olarak ayarlayarak, zaman ve para tasarrufu yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-106">You can save both time and money by automatically adjusting hello number of compute nodes used by your Batch application.</span></span> 

<span data-ttu-id="ae77b-107">Otomatik bir işlem düğümleri havuzu üzerinde ile ilişkilendirerek ölçeklendirmeyi etkinleştirmek bir *otomatik ölçeklendirme formülü* tanımladığınız.</span><span class="sxs-lookup"><span data-stu-id="ae77b-107">You enable automatic scaling on a pool of compute nodes by associating with it an *autoscale formula* that you define.</span></span> <span data-ttu-id="ae77b-108">Merhaba Batch hizmeti İş yükünüzün hello otomatik ölçeklendirme formülü toodetermine hello gerekli tooexecute olan işlem düğümü sayısını kullanır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-108">hello Batch service uses hello autoscale formula toodetermine hello number of compute nodes that are needed tooexecute your workload.</span></span> <span data-ttu-id="ae77b-109">İşlem düğümleri, ayrılmış düğümleri olabilir veya [düşük öncelikli düğümleri](batch-low-pri-vms.md).</span><span class="sxs-lookup"><span data-stu-id="ae77b-109">Compute nodes may be dedicated nodes or [low-priority nodes](batch-low-pri-vms.md).</span></span> <span data-ttu-id="ae77b-110">Toplu düzenli aralıklarla toplanan tooservice ölçüm verilerini yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-110">Batch responds tooservice metrics data that is collected periodically.</span></span> <span data-ttu-id="ae77b-111">Bu ölçümleri verileri kullanarak, Batch hello formülünüzü ve yapılandırılabilir aralıklarla dayalı hello havuzdaki işlem düğümleri sayısını ayarlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-111">Using this metrics data, Batch adjusts hello number of compute nodes in hello pool based on your formula and at a configurable interval.</span></span>

<span data-ttu-id="ae77b-112">Bir havuzu oluştururken veya var olan bir havuzu üzerinde otomatik ölçeklendirmeyi etkinleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-112">You can enable automatic scaling either when a pool is created, or on an existing pool.</span></span> <span data-ttu-id="ae77b-113">Varolan bir formülün otomatik ölçeklendirmeyi için yapılandırılan bir havuz üzerinde de değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-113">You can also change an existing formula on a pool that is configured for autoscaling.</span></span> <span data-ttu-id="ae77b-114">Toplu otomatik ölçeklendirme, toopools ve toomonitor hello durumu atamadan önce formüller çalıştıran tooevaluate sağlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-114">Batch enables you tooevaluate your formulas before assigning them toopools and toomonitor hello status of automatic scaling runs.</span></span>

<span data-ttu-id="ae77b-115">Bu makalede hello ele değişkenleri, işleçler, işlemleri ve işlevleri dahil olmak üzere, otomatik ölçeklendirme formüller yapmak çeşitli varlıklar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-115">This article discusses hello various entities that make up your autoscale formulas, including variables, operators, operations, and functions.</span></span> <span data-ttu-id="ae77b-116">Aşağıdakiler ele nasıl tooobtain çeşitli kaynak ve görev ölçümleri yığın içindeki işlem.</span><span class="sxs-lookup"><span data-stu-id="ae77b-116">We discuss how tooobtain various compute resource and task metrics within Batch.</span></span> <span data-ttu-id="ae77b-117">Kaynak kullanımı ve görev durumu, havuzun düğüm sayısı temelinde bu ölçümleri tooadjust kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-117">You can use these metrics tooadjust your pool's node count based on resource usage and task status.</span></span> <span data-ttu-id="ae77b-118">Batch REST ve .NET API'lerini nasıl tooconstruct bir formül ve her ikisini de kullanarak bir havuz üzerinde ölçeklendirme otomatik etkinleştir hello sonra açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-118">We then describe how tooconstruct a formula and enable automatic scaling on a pool by using both hello Batch REST and .NET APIs.</span></span> <span data-ttu-id="ae77b-119">Son olarak, biz birkaç örnek formüllerle sonlandırın.</span><span class="sxs-lookup"><span data-stu-id="ae77b-119">Finally, we finish up with a few example formulas.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ae77b-120">Bir toplu işlem hesabı oluşturduğunuzda, hello belirtebilirsiniz [hesabı Yapılandırması](batch-api-basics.md#account), havuzları bir toplu işlem hizmeti aboneliği (Merhaba varsayılan) ya da kullanıcı aboneliğinizi ayrılan belirler.</span><span class="sxs-lookup"><span data-stu-id="ae77b-120">When you create a Batch account, you can specify hello [account configuration](batch-api-basics.md#account), which determines whether pools are allocated in a Batch service subscription (hello default), or in your user subscription.</span></span> <span data-ttu-id="ae77b-121">Merhaba varsayılan toplu hizmet yapılandırması, toplu işlem hesabı oluşturduysanız, hesabınızı işleme için kullanılan çekirdek sınırlı tooa sayısı sayısıdır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-121">If you created your Batch account with hello default Batch Service configuration, then your account is limited tooa maximum number of cores that can be used for processing.</span></span> <span data-ttu-id="ae77b-122">Merhaba Batch hizmeti işlem düğümlerini yalnızca toothat çekirdek sınırına ölçeklendirir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-122">hello Batch service scales compute nodes only up toothat core limit.</span></span> <span data-ttu-id="ae77b-123">Bu nedenle, Batch hizmeti hello hello otomatik ölçeklendirme formülü tarafından belirtilen işlem düğüm sayısını ulaşabilir değil.</span><span class="sxs-lookup"><span data-stu-id="ae77b-123">For this reason, hello Batch service may not reach hello target number of compute nodes specified by an autoscale formula.</span></span> <span data-ttu-id="ae77b-124">Bkz: [hello Azure Batch hizmeti için kotalar ve sınırlar](batch-quota-limit.md) görüntüleme ve hesap kotalarını artırma hakkında bilgi.</span><span class="sxs-lookup"><span data-stu-id="ae77b-124">See [Quotas and limits for hello Azure Batch service](batch-quota-limit.md) for information on viewing and increasing your account quotas.</span></span>
>
><span data-ttu-id="ae77b-125">Hesabınızı hello kullanıcı aboneliği yapılandırmayla oluşturduysanız, hesabınızı hello hello abonelik için çekirdek kota paylaşır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-125">If you created your account with hello User Subscription configuration, then your account shares in hello core quota for hello subscription.</span></span> <span data-ttu-id="ae77b-126">Daha fazla bilgi için [Azure aboneliği ve hizmet limitleri, kotalar ve kısıtlamalar](../azure-subscription-service-limits.md) sayfasındaki [Sanal Makine limitleri](../azure-subscription-service-limits.md#virtual-machines-limits) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="ae77b-126">For more information, see [Virtual Machines limits](../azure-subscription-service-limits.md#virtual-machines-limits) in [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span>
>
>

## <a name="automatic-scaling-formulas"></a><span data-ttu-id="ae77b-127">Otomatik ölçeklendirme formüller</span><span class="sxs-lookup"><span data-stu-id="ae77b-127">Automatic scaling formulas</span></span>
<span data-ttu-id="ae77b-128">Otomatik ölçeklendirme formülü bir veya daha fazla deyimleri içeren tanımladığınız bir dize değeridir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-128">An automatic scaling formula is a string value that you define that contains one or more statements.</span></span> <span data-ttu-id="ae77b-129">Merhaba otomatik ölçeklendirme formülü tooa havuzunun atanan [autoScaleFormula] [ rest_autoscaleformula] öğesi (Batch REST) ya da [CloudPool.AutoScaleFormula] [ net_cloudpool_autoscaleformula] özelliğini (Batch .NET).</span><span class="sxs-lookup"><span data-stu-id="ae77b-129">hello autoscale formula is assigned tooa pool's [autoScaleFormula][rest_autoscaleformula] element (Batch REST) or [CloudPool.AutoScaleFormula][net_cloudpool_autoscaleformula] property (Batch .NET).</span></span> <span data-ttu-id="ae77b-130">Merhaba Batch hizmeti işlem düğümleri formül toodetermine hello hedef sayısı hello havuzunda hello sonraki işleme aralığını kullanır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-130">hello Batch service uses your formula toodetermine hello target number of compute nodes in hello pool for hello next interval of processing.</span></span> <span data-ttu-id="ae77b-131">Merhaba formül dizesi 8 KB'yi aşamaz, noktalı virgülle ayrılır ve satır sonları ve açıklamalar içerebilen too100 deyimleri içerebilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-131">hello formula string cannot exceed 8 KB, can include up too100 statements that are separated by semicolons, and can include line breaks and comments.</span></span>

<span data-ttu-id="ae77b-132">Otomatik ölçeklendirme formüllerini bir toplu otomatik ölçeklendirme "language" düşünebilirsiniz</span><span class="sxs-lookup"><span data-stu-id="ae77b-132">You can think of automatic scaling formulas as a Batch autoscale "language."</span></span> <span data-ttu-id="ae77b-133">Formül deyimleri hem hizmet tanımlı değişkenleri (Merhaba Batch hizmeti tarafından tanımlanan) hem de kullanıcı tarafından tanımlanan değişkenleri (tanımladığınız) içerebilir serbest biçimli ifadelerini.</span><span class="sxs-lookup"><span data-stu-id="ae77b-133">Formula statements are free-formed expressions that can include both service-defined variables (variables defined by hello Batch service) and user-defined variables (variables that you define).</span></span> <span data-ttu-id="ae77b-134">Yerleşik türler, işleçler ve işlevleri kullanarak bu değerleri üzerinde çeşitli işlemler yapabilirler.</span><span class="sxs-lookup"><span data-stu-id="ae77b-134">They can perform various operations on these values by using built-in types, operators, and functions.</span></span> <span data-ttu-id="ae77b-135">Örneğin, bir deyim form aşağıdaki hello alabilir:</span><span class="sxs-lookup"><span data-stu-id="ae77b-135">For example, a statement might take hello following form:</span></span>

```
$myNewVariable = function($ServiceDefinedVariable, $myCustomVariable);
```

<span data-ttu-id="ae77b-136">Formülleri genellikle önceki deyimlerinde elde edilen değerleri işlemleri birden çok ifade içerir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-136">Formulas generally contain multiple statements that perform operations on values that are obtained in previous statements.</span></span> <span data-ttu-id="ae77b-137">Örneğin, biz için bir değer edinip `variable1`, tooa işlevi toopopulate geçirmek `variable2`:</span><span class="sxs-lookup"><span data-stu-id="ae77b-137">For example, first we obtain a value for `variable1`, then pass it tooa function toopopulate `variable2`:</span></span>

```
$variable1 = function1($ServiceDefinedVariable);
$variable2 = function2($OtherServiceDefinedVariable, $variable1);
```

<span data-ttu-id="ae77b-138">Bu ifadeler, otomatik ölçeklendirme formülü tooarrive işlem düğümlerinin hedef numaralı dahil edin.</span><span class="sxs-lookup"><span data-stu-id="ae77b-138">Include these statements in your autoscale formula tooarrive at a target number of compute nodes.</span></span> <span data-ttu-id="ae77b-139">Ayrılmış düğümleri ve düşük öncelikli düğümleri kendi hedef ayarları olması, böylece her düğüm türü için bir hedef tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-139">Dedicated nodes and low-priority nodes each have their own target settings, so that you can define a target for each type of node.</span></span> <span data-ttu-id="ae77b-140">Otomatik ölçeklendirme formülü bir hedef değer ayrılmış düğümleri, düşük öncelikli düğümler için bir hedef değer veya her ikisi de dahil edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-140">An autoscale formula can include a target value for dedicated nodes, a target value for low-priority nodes, or both.</span></span>

<span data-ttu-id="ae77b-141">Merhaba hedef düğüm sayısı daha yüksek, düşük veya hello geçerli türü hello havuzdaki düğüm sayısını aynı hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-141">hello target number of nodes may be higher, lower, or hello same as hello current number of nodes of that type in hello pool.</span></span> <span data-ttu-id="ae77b-142">Toplu işlem belirli bir aralıkla bir havuzun otomatik ölçeklendirme formülü değerlendirir (bkz [otomatik aralıklarla ölçeklendirme](#automatic-scaling-interval)).</span><span class="sxs-lookup"><span data-stu-id="ae77b-142">Batch evaluates a pool's autoscale formula at a specific interval (see [automatic scaling intervals](#automatic-scaling-interval)).</span></span> <span data-ttu-id="ae77b-143">Toplu hello değerlendirme sırasında otomatik ölçeklendirme formülü belirtir hello havuz toohello sayısı düğümünde her tür hello hedef sayısını ayarlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-143">Batch adjusts hello target number of each type of node in hello pool toohello number that your autoscale formula specifies at hello time of evaluation.</span></span>

### <a name="sample-autoscale-formula"></a><span data-ttu-id="ae77b-144">Örnek otomatik ölçeklendirme formülü</span><span class="sxs-lookup"><span data-stu-id="ae77b-144">Sample autoscale formula</span></span>

<span data-ttu-id="ae77b-145">Çoğu senaryo için ayarlanan toowork olabilir bir otomatik ölçeklendirme formülü bir örneği burada verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-145">Here is an example of an autoscale formula that can be adjusted toowork for most scenarios.</span></span> <span data-ttu-id="ae77b-146">Merhaba değişkenleri `startingNumberOfVMs` ve `maxNumberofVMs` hello örnek formül ayarlanmış tooyour gereksinimleri olabilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-146">hello variables `startingNumberOfVMs` and `maxNumberofVMs` in hello example formula can be adjusted tooyour needs.</span></span> <span data-ttu-id="ae77b-147">Bu formülü ayrılmış düğümleri ölçeklendirir ancak değiştirilmiş tooapply tooscale düşük öncelikli düğümleri de olabilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-147">This formula scales dedicated nodes, but can be modified tooapply tooscale low-priority nodes as well.</span></span> 

```
startingNumberOfVMs = 1;
maxNumberofVMs = 25;
pendingTaskSamplePercent = $PendingTasks.GetSamplePercent(180 * TimeInterval_Second);
pendingTaskSamples = pendingTaskSamplePercent < 70 ? startingNumberOfVMs : avg($PendingTasks.GetSample(180 * TimeInterval_Second));
$TargetDedicatedNodes=min(maxNumberofVMs, pendingTaskSamples);
```

<span data-ttu-id="ae77b-148">Bu otomatik ölçeklendirme formülü ile Merhaba havuzu başlangıçta tek bir VM ile oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-148">With this autoscale formula, hello pool is initially created with a single VM.</span></span> <span data-ttu-id="ae77b-149">Merhaba `$PendingTasks` ölçüm çalışan ya da kuyruğa alınmış görevlerin hello sayısını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-149">hello `$PendingTasks` metric defines hello number of tasks that are running or queued.</span></span> <span data-ttu-id="ae77b-150">Merhaba formül hello ortalama sayısı Bekleyen Görevler hello Son 180 saniye bulur ve ayarlar hello `$TargetDedicatedNodes` değişkeni buna göre.</span><span class="sxs-lookup"><span data-stu-id="ae77b-150">hello formula finds hello average number of pending tasks in hello last 180 seconds and sets hello `$TargetDedicatedNodes` variable accordingly.</span></span> <span data-ttu-id="ae77b-151">Merhaba formülü ayrılmış düğümlerin hedef sayısını hello hiçbir zaman 25 VM'ler aştığını sağlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-151">hello formula ensures that hello target number of dedicated nodes never exceeds 25 VMs.</span></span> <span data-ttu-id="ae77b-152">Yeni görevler gönderildiği gibi hello havuzu otomatik olarak artar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-152">As new tasks are submitted, hello pool automatically grows.</span></span> <span data-ttu-id="ae77b-153">Görevleri tam olarak boş bir birer birer VM'ler olur ve hello otomatik ölçeklendirme formülü hello havuzu küçültür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-153">As tasks complete, VMs become free one by one and hello autoscaling formula shrinks hello pool.</span></span>

## <a name="variables"></a><span data-ttu-id="ae77b-154">Değişkenler</span><span class="sxs-lookup"><span data-stu-id="ae77b-154">Variables</span></span>
<span data-ttu-id="ae77b-155">Her ikisi de kullanabilirsiniz **hizmet tanımlı** ve **kullanıcı tanımlı** otomatik ölçeklendirme formüller değişkenleri.</span><span class="sxs-lookup"><span data-stu-id="ae77b-155">You can use both **service-defined** and **user-defined** variables in your autoscale formulas.</span></span> <span data-ttu-id="ae77b-156">Merhaba hizmet tanımlı değişkenler toohello Batch hizmeti oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-156">hello service-defined variables are built in toohello Batch service.</span></span> <span data-ttu-id="ae77b-157">Bazı hizmet tanımlı değişkenler okuma-yazma ve bazı salt okunurdur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-157">Some service-defined variables are read-write, and some are read-only.</span></span> <span data-ttu-id="ae77b-158">Kullanıcı tarafından tanımlanan tanımlarsınız değişkenleri değişkenlerdir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-158">User-defined variables are variables that you define.</span></span> <span data-ttu-id="ae77b-159">Merhaba önceki bölümde gösterilen hello örnek formülünde `$TargetDedicatedNodes` ve `$PendingTasks` hizmet tanımlı değişkenlerdir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-159">In hello example formula shown in hello previous section, `$TargetDedicatedNodes` and `$PendingTasks` are service-defined variables.</span></span> <span data-ttu-id="ae77b-160">Değişkenleri `startingNumberOfVMs` ve `maxNumberofVMs` kullanıcı tanımlı değişkenlerdir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-160">Variables `startingNumberOfVMs` and `maxNumberofVMs` are user-defined variables.</span></span>

> [!NOTE]
> <span data-ttu-id="ae77b-161">Hizmet tarafından tanımlanan değişkenler her zaman bir dolar işareti ($) öncesinde olur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-161">Service-defined variables are always preceded by a dollar sign ($).</span></span> <span data-ttu-id="ae77b-162">Kullanıcı tanımlı değişkenleri hello dolar işareti isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-162">For user-defined variables, hello dollar sign is optional.</span></span>
>
>

<span data-ttu-id="ae77b-163">Aşağıdaki tablolar hello hem de okuma-yazma ve Batch hizmeti tarafından tanımlanan salt okunur değişkenler hello gösterir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-163">hello following tables show both read-write and read-only variables that are defined by hello Batch service.</span></span>

<span data-ttu-id="ae77b-164">Alın ve hello değişkenlerin değerleri, bu hizmet tarafından tanımlanan bir havuzda toomanage hello işlem düğümü sayısını ayarlayın:</span><span class="sxs-lookup"><span data-stu-id="ae77b-164">You can get and set hello values of these service-defined variables toomanage hello number of compute nodes in a pool:</span></span>

| <span data-ttu-id="ae77b-165">Okuma-yazma hizmet tanımlı değişkenler</span><span class="sxs-lookup"><span data-stu-id="ae77b-165">Read-write service-defined variables</span></span> | <span data-ttu-id="ae77b-166">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ae77b-166">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ae77b-167">$TargetDedicatedNodes</span><span class="sxs-lookup"><span data-stu-id="ae77b-167">$TargetDedicatedNodes</span></span> |<span data-ttu-id="ae77b-168">işlem düğümleri hello havuzu için Hello hedef sayısını ayrılmış.</span><span class="sxs-lookup"><span data-stu-id="ae77b-168">hello target number of dedicated compute nodes for hello pool.</span></span> <span data-ttu-id="ae77b-169">bir havuzu her zaman hello istenen düğüm sayısını elde edebilirsiniz değil çünkü hello ayrılmış düğüm sayısı hedef olarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-169">hello number of dedicated nodes is specified as a target because a pool may not always achieve hello desired number of nodes.</span></span> <span data-ttu-id="ae77b-170">Örneğin, ayrılmış düğümlerin hedef sayısını hello değiştirilirse otomatik ölçeklendirme değerlendirme hello önce tarafından havuzu hello ilk hedef ulaştı sonra hello havuzu hello hedef ulaşabilir değil.</span><span class="sxs-lookup"><span data-stu-id="ae77b-170">For example, if hello target number of dedicated nodes is modified by an autoscale evaluation before hello pool has reached hello initial target, then hello pool may not reach hello target.</span></span> <br /><br /> <span data-ttu-id="ae77b-171">Toplu işlem hesabı düğümü veya çekirdek kotası Hello hedef aşarsa, bir havuzda hello Batch hizmeti yapılandırması ile oluşturulan bir hesap hedefine elde.</span><span class="sxs-lookup"><span data-stu-id="ae77b-171">A pool in an account created with hello Batch Service configuration may not achieve its target if hello target exceeds a Batch account node or core quota.</span></span> <span data-ttu-id="ae77b-172">Merhaba hedef hello paylaşılan çekirdek kotası hello abonelik için aşarsa hello kullanıcı aboneliği yapılandırması ile oluşturulan bir hesap havuzunda hedefine elde.</span><span class="sxs-lookup"><span data-stu-id="ae77b-172">A pool in an account created with hello User Subscription configuration may not achieve its target if hello target exceeds hello shared core quota for hello subscription.</span></span>|
| <span data-ttu-id="ae77b-173">$TargetLowPriorityNodes</span><span class="sxs-lookup"><span data-stu-id="ae77b-173">$TargetLowPriorityNodes</span></span> |<span data-ttu-id="ae77b-174">düşük öncelikli Hello hedef sayısını işlem düğümlerini hello havuzu için.</span><span class="sxs-lookup"><span data-stu-id="ae77b-174">hello target number of low-priority compute nodes for hello pool.</span></span> <span data-ttu-id="ae77b-175">bir havuzu her zaman hello istenen düğüm sayısını elde edebilirsiniz değil çünkü hello düşük öncelikli düğüm sayısı hedef olarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-175">hello number of low-priority nodes is specified as a target because a pool may not always achieve hello desired number of nodes.</span></span> <span data-ttu-id="ae77b-176">Örneğin, düşük öncelikli düğümlerin hedef sayısını hello değiştirilirse otomatik ölçeklendirme değerlendirme hello önce tarafından havuzu hello ilk hedef ulaştı sonra hello havuzu hello hedef ulaşabilir değil.</span><span class="sxs-lookup"><span data-stu-id="ae77b-176">For example, if hello target number of low-priority nodes is modified by an autoscale evaluation before hello pool has reached hello initial target, then hello pool may not reach hello target.</span></span> <span data-ttu-id="ae77b-177">Toplu işlem hesabı düğümü veya çekirdek kotası Hello hedef aşarsa, bir havuzu de hedefine elde.</span><span class="sxs-lookup"><span data-stu-id="ae77b-177">A pool may also not achieve its target if hello target exceeds a Batch account node or core quota.</span></span> <br /><br /> <span data-ttu-id="ae77b-178">Düşük öncelikli işlem düğümleri hakkında daha fazla bilgi için bkz: [toplu işlemi (Önizleme) ile düşük öncelikli sanal makineleri kullanmak](batch-low-pri-vms.md).</span><span class="sxs-lookup"><span data-stu-id="ae77b-178">For more information on low-priority compute nodes, see [Use low-priority VMs with Batch (Preview)](batch-low-pri-vms.md).</span></span> |
| <span data-ttu-id="ae77b-179">$NodeDeallocationOption</span><span class="sxs-lookup"><span data-stu-id="ae77b-179">$NodeDeallocationOption</span></span> |<span data-ttu-id="ae77b-180">işlem düğümü havuzdan kaldırıldığında oluşan hello eylem.</span><span class="sxs-lookup"><span data-stu-id="ae77b-180">hello action that occurs when compute nodes are removed from a pool.</span></span> <span data-ttu-id="ae77b-181">Olası değerler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="ae77b-181">Possible values are:</span></span><ul><li><span data-ttu-id="ae77b-182">**requeue**--görevleri hemen sonlandırır ve böylece bunlar yeniden bunları geri hello işi sıraya koyar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-182">**requeue**--Terminates tasks immediately and puts them back on hello job queue so that they are rescheduled.</span></span><li><span data-ttu-id="ae77b-183">**sonlandırma**--görevleri hemen sonlandırır ve hello iş kuyruktan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-183">**terminate**--Terminates tasks immediately and removes them from hello job queue.</span></span><li><span data-ttu-id="ae77b-184">**net_offline_option**--çalışmakta olan görevleri toofinish ve ardından hello düğümü hello havuzundan kaldırır bekler.</span><span class="sxs-lookup"><span data-stu-id="ae77b-184">**taskcompletion**--Waits for currently running tasks toofinish and then removes hello node from hello pool.</span></span><li><span data-ttu-id="ae77b-185">**retaineddata**--hello yerel görev korunur üzerindeki tüm verileri hello düğümü toobe bekler Temizlenen hello düğümü hello havuzundan kaldırmadan önce.</span><span class="sxs-lookup"><span data-stu-id="ae77b-185">**retaineddata**--Waits for all hello local task-retained data on hello node toobe cleaned up before removing hello node from hello pool.</span></span></ul> |

<span data-ttu-id="ae77b-186">Merhaba Batch hizmeti ölçümleri temel alan bu hizmet tarafından tanımlanan değişkenler toomake ayarlamalar hello değeri elde edebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="ae77b-186">You can get hello value of these service-defined variables toomake adjustments that are based on metrics from hello Batch service:</span></span>

| <span data-ttu-id="ae77b-187">Salt okunur hizmet tanımlı değişkenler</span><span class="sxs-lookup"><span data-stu-id="ae77b-187">Read-only service-defined variables</span></span> | <span data-ttu-id="ae77b-188">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ae77b-188">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ae77b-189">$CPUPercent</span><span class="sxs-lookup"><span data-stu-id="ae77b-189">$CPUPercent</span></span> |<span data-ttu-id="ae77b-190">Merhaba ortalama CPU kullanımı yüzdesi.</span><span class="sxs-lookup"><span data-stu-id="ae77b-190">hello average percentage of CPU usage.</span></span> |
| <span data-ttu-id="ae77b-191">$WallClockSeconds</span><span class="sxs-lookup"><span data-stu-id="ae77b-191">$WallClockSeconds</span></span> |<span data-ttu-id="ae77b-192">Merhaba tüketilen saniye sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-192">hello number of seconds consumed.</span></span> |
| <span data-ttu-id="ae77b-193">$MemoryBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-193">$MemoryBytes</span></span> |<span data-ttu-id="ae77b-194">kullanılan megabayt cinsinden ortalama sayısı Hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-194">hello average number of megabytes used.</span></span> |
| <span data-ttu-id="ae77b-195">$DiskBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-195">$DiskBytes</span></span> |<span data-ttu-id="ae77b-196">Merhaba ortalama hello yerel diskler üzerinde kullanılan gigabayt sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-196">hello average number of gigabytes used on hello local disks.</span></span> |
| <span data-ttu-id="ae77b-197">$DiskReadBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-197">$DiskReadBytes</span></span> |<span data-ttu-id="ae77b-198">Merhaba okunan bayt sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-198">hello number of bytes read.</span></span> |
| <span data-ttu-id="ae77b-199">$DiskWriteBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-199">$DiskWriteBytes</span></span> |<span data-ttu-id="ae77b-200">Merhaba yazılan bayt sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-200">hello number of bytes written.</span></span> |
| <span data-ttu-id="ae77b-201">$DiskReadOps</span><span class="sxs-lookup"><span data-stu-id="ae77b-201">$DiskReadOps</span></span> |<span data-ttu-id="ae77b-202">disk okuma işlemleri Merhaba sayımını gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-202">hello count of read disk operations performed.</span></span> |
| <span data-ttu-id="ae77b-203">$DiskWriteOps</span><span class="sxs-lookup"><span data-stu-id="ae77b-203">$DiskWriteOps</span></span> |<span data-ttu-id="ae77b-204">Merhaba gerçekleştirilen yazma disk işlemlerinin sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-204">hello count of write disk operations performed.</span></span> |
| <span data-ttu-id="ae77b-205">$NetworkInBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-205">$NetworkInBytes</span></span> |<span data-ttu-id="ae77b-206">Merhaba gelen bayt sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-206">hello number of inbound bytes.</span></span> |
| <span data-ttu-id="ae77b-207">$NetworkOutBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-207">$NetworkOutBytes</span></span> |<span data-ttu-id="ae77b-208">Merhaba Giden bayt sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-208">hello number of outbound bytes.</span></span> |
| <span data-ttu-id="ae77b-209">$SampleNodeCount</span><span class="sxs-lookup"><span data-stu-id="ae77b-209">$SampleNodeCount</span></span> |<span data-ttu-id="ae77b-210">işlem düğümleri Hello sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-210">hello count of compute nodes.</span></span> |
| <span data-ttu-id="ae77b-211">$ActiveTasks</span><span class="sxs-lookup"><span data-stu-id="ae77b-211">$ActiveTasks</span></span> |<span data-ttu-id="ae77b-212">hazır tooexecute ancak değil henüz yürütülen görevler Hello sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-212">hello number of tasks that are ready tooexecute but are not yet executing.</span></span> <span data-ttu-id="ae77b-213">Merhaba $ActiveTasks sayısı hello etkin durumda olan ve bağımlılıklarını memnun tüm görevleri içerir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-213">hello $ActiveTasks count includes all tasks that are in hello active state and whose dependencies have been satisfied.</span></span> <span data-ttu-id="ae77b-214">Merhaba etkin durumda olan ancak bağımlılıklarını değil uyduğunuzdan herhangi bir görevi hello $ActiveTasks sayısını hariç tutulur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-214">Any tasks that are in hello active state but whose dependencies have not been satisfied are excluded from hello $ActiveTasks count.</span></span>|
| <span data-ttu-id="ae77b-215">$RunningTasks</span><span class="sxs-lookup"><span data-stu-id="ae77b-215">$RunningTasks</span></span> |<span data-ttu-id="ae77b-216">Merhaba sayıda görev çalışır durumda.</span><span class="sxs-lookup"><span data-stu-id="ae77b-216">hello number of tasks in a running state.</span></span> |
| <span data-ttu-id="ae77b-217">$PendingTasks</span><span class="sxs-lookup"><span data-stu-id="ae77b-217">$PendingTasks</span></span> |<span data-ttu-id="ae77b-218">$ActiveTasks ve $RunningTasks toplamı Hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-218">hello sum of $ActiveTasks and $RunningTasks.</span></span> |
| <span data-ttu-id="ae77b-219">$SucceededTasks</span><span class="sxs-lookup"><span data-stu-id="ae77b-219">$SucceededTasks</span></span> |<span data-ttu-id="ae77b-220">Merhaba sayıda görev başarıyla tamamlandı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-220">hello number of tasks that finished successfully.</span></span> |
| <span data-ttu-id="ae77b-221">$FailedTasks</span><span class="sxs-lookup"><span data-stu-id="ae77b-221">$FailedTasks</span></span> |<span data-ttu-id="ae77b-222">başarısız görevleri Hello sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-222">hello number of tasks that failed.</span></span> |
| <span data-ttu-id="ae77b-223">$CurrentDedicatedNodes</span><span class="sxs-lookup"><span data-stu-id="ae77b-223">$CurrentDedicatedNodes</span></span> |<span data-ttu-id="ae77b-224">işlem düğümleri Hello geçerli sayısı ayrılmış.</span><span class="sxs-lookup"><span data-stu-id="ae77b-224">hello current number of dedicated compute nodes.</span></span> |
| <span data-ttu-id="ae77b-225">$CurrentLowPriorityNodes</span><span class="sxs-lookup"><span data-stu-id="ae77b-225">$CurrentLowPriorityNodes</span></span> |<span data-ttu-id="ae77b-226">düşük öncelikli geçerli sayısı Hello işlem düğümleri, biterse tüm düğümleri de dahil olmak üzere.</span><span class="sxs-lookup"><span data-stu-id="ae77b-226">hello current number of low-priority compute nodes, including any nodes that have been pre-empted.</span></span> |
| <span data-ttu-id="ae77b-227">$PreemptedNodeCount</span><span class="sxs-lookup"><span data-stu-id="ae77b-227">$PreemptedNodeCount</span></span> | <span data-ttu-id="ae77b-228">Merhaba hello havuzdaki biterse durumda düğüm sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-228">hello number of nodes in hello pool that are in a pre-empted state.</span></span> |

> [!TIP]
> <span data-ttu-id="ae77b-229">Merhaba hello önceki tabloda gösterilen salt okunur, hizmet tarafından tanımlanan değişkenlerdir *nesneleri* tooaccess veri her ile ilgili çeşitli yöntemler sağlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-229">hello read-only, service-defined variables that are shown in hello previous table are *objects* that provide various methods tooaccess data associated with each.</span></span> <span data-ttu-id="ae77b-230">Daha fazla bilgi için bkz: [örnek verileri elde](#getsampledata) bu makalenin ilerisinde yer.</span><span class="sxs-lookup"><span data-stu-id="ae77b-230">For more information, see [Obtain sample data](#getsampledata) later in this article.</span></span>
>
>

## <a name="types"></a><span data-ttu-id="ae77b-231">Türler</span><span class="sxs-lookup"><span data-stu-id="ae77b-231">Types</span></span>
<span data-ttu-id="ae77b-232">Bu tür bir formüle desteklenir:</span><span class="sxs-lookup"><span data-stu-id="ae77b-232">These types are supported in a formula:</span></span>

* <span data-ttu-id="ae77b-233">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-233">double</span></span>
* <span data-ttu-id="ae77b-234">doubleVec</span><span class="sxs-lookup"><span data-stu-id="ae77b-234">doubleVec</span></span>
* <span data-ttu-id="ae77b-235">doubleVecList</span><span class="sxs-lookup"><span data-stu-id="ae77b-235">doubleVecList</span></span>
* <span data-ttu-id="ae77b-236">Dize</span><span class="sxs-lookup"><span data-stu-id="ae77b-236">string</span></span>
* <span data-ttu-id="ae77b-237">zaman damgası--zaman damgası üyeleri aşağıdaki hello içeren bileşik bir yapıdır:</span><span class="sxs-lookup"><span data-stu-id="ae77b-237">timestamp--timestamp is a compound structure that contains hello following members:</span></span>

  * <span data-ttu-id="ae77b-238">Yıl</span><span class="sxs-lookup"><span data-stu-id="ae77b-238">year</span></span>
  * <span data-ttu-id="ae77b-239">Ay (1-12)</span><span class="sxs-lookup"><span data-stu-id="ae77b-239">month (1-12)</span></span>
  * <span data-ttu-id="ae77b-240">gün (1-31)</span><span class="sxs-lookup"><span data-stu-id="ae77b-240">day (1-31)</span></span>
  * <span data-ttu-id="ae77b-241">Haftanın günü (Merhaba biçiminde numarası; Örneğin, Pazartesi günü için 1)</span><span class="sxs-lookup"><span data-stu-id="ae77b-241">weekday (in hello format of number; for example, 1 for Monday)</span></span>
  * <span data-ttu-id="ae77b-242">saat (24 saatlik sayı biçiminde; Örneğin, 13 13'te anlamına gelir)</span><span class="sxs-lookup"><span data-stu-id="ae77b-242">hour (in 24-hour number format; for example, 13 means 1 PM)</span></span>
  * <span data-ttu-id="ae77b-243">dakika (00-59)</span><span class="sxs-lookup"><span data-stu-id="ae77b-243">minute (00-59)</span></span>
  * <span data-ttu-id="ae77b-244">İkinci (00-59)</span><span class="sxs-lookup"><span data-stu-id="ae77b-244">second (00-59)</span></span>
* <span data-ttu-id="ae77b-245">TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-245">timeinterval</span></span>

  * <span data-ttu-id="ae77b-246">TimeInterval_Zero</span><span class="sxs-lookup"><span data-stu-id="ae77b-246">TimeInterval_Zero</span></span>
  * <span data-ttu-id="ae77b-247">TimeInterval_100ns</span><span class="sxs-lookup"><span data-stu-id="ae77b-247">TimeInterval_100ns</span></span>
  * <span data-ttu-id="ae77b-248">TimeInterval_Microsecond</span><span class="sxs-lookup"><span data-stu-id="ae77b-248">TimeInterval_Microsecond</span></span>
  * <span data-ttu-id="ae77b-249">TimeInterval_Millisecond</span><span class="sxs-lookup"><span data-stu-id="ae77b-249">TimeInterval_Millisecond</span></span>
  * <span data-ttu-id="ae77b-250">TimeInterval_Second</span><span class="sxs-lookup"><span data-stu-id="ae77b-250">TimeInterval_Second</span></span>
  * <span data-ttu-id="ae77b-251">TimeInterval_Minute</span><span class="sxs-lookup"><span data-stu-id="ae77b-251">TimeInterval_Minute</span></span>
  * <span data-ttu-id="ae77b-252">TimeInterval_Hour</span><span class="sxs-lookup"><span data-stu-id="ae77b-252">TimeInterval_Hour</span></span>
  * <span data-ttu-id="ae77b-253">TimeInterval_Day</span><span class="sxs-lookup"><span data-stu-id="ae77b-253">TimeInterval_Day</span></span>
  * <span data-ttu-id="ae77b-254">TimeInterval_Week</span><span class="sxs-lookup"><span data-stu-id="ae77b-254">TimeInterval_Week</span></span>
  * <span data-ttu-id="ae77b-255">TimeInterval_Year</span><span class="sxs-lookup"><span data-stu-id="ae77b-255">TimeInterval_Year</span></span>

## <a name="operations"></a><span data-ttu-id="ae77b-256">İşlemler</span><span class="sxs-lookup"><span data-stu-id="ae77b-256">Operations</span></span>
<span data-ttu-id="ae77b-257">Bu işlemler hello önceki bölümde listelenen hello türleri üzerinde izin verilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-257">These operations are allowed on hello types that are listed in hello previous section.</span></span>

| <span data-ttu-id="ae77b-258">İşlem</span><span class="sxs-lookup"><span data-stu-id="ae77b-258">Operation</span></span> | <span data-ttu-id="ae77b-259">Desteklenen işleçleri</span><span class="sxs-lookup"><span data-stu-id="ae77b-259">Supported operators</span></span> | <span data-ttu-id="ae77b-260">Sonuç türü</span><span class="sxs-lookup"><span data-stu-id="ae77b-260">Result type</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ae77b-261">çift *işleci* çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-261">double *operator* double</span></span> |<span data-ttu-id="ae77b-262">+, -, *, /</span><span class="sxs-lookup"><span data-stu-id="ae77b-262">+, -, *, /</span></span> |<span data-ttu-id="ae77b-263">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-263">double</span></span> |
| <span data-ttu-id="ae77b-264">çift *işleci* TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-264">double *operator* timeinterval</span></span> |* |<span data-ttu-id="ae77b-265">TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-265">timeinterval</span></span> |
| <span data-ttu-id="ae77b-266">doubleVec *işleci* çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-266">doubleVec *operator* double</span></span> |<span data-ttu-id="ae77b-267">+, -, *, /</span><span class="sxs-lookup"><span data-stu-id="ae77b-267">+, -, *, /</span></span> |<span data-ttu-id="ae77b-268">doubleVec</span><span class="sxs-lookup"><span data-stu-id="ae77b-268">doubleVec</span></span> |
| <span data-ttu-id="ae77b-269">doubleVec *işleci* doubleVec</span><span class="sxs-lookup"><span data-stu-id="ae77b-269">doubleVec *operator* doubleVec</span></span> |<span data-ttu-id="ae77b-270">+, -, *, /</span><span class="sxs-lookup"><span data-stu-id="ae77b-270">+, -, *, /</span></span> |<span data-ttu-id="ae77b-271">doubleVec</span><span class="sxs-lookup"><span data-stu-id="ae77b-271">doubleVec</span></span> |
| <span data-ttu-id="ae77b-272">TimeInterval *işleci* çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-272">timeinterval *operator* double</span></span> |<span data-ttu-id="ae77b-273">*, /</span><span class="sxs-lookup"><span data-stu-id="ae77b-273">*, /</span></span> |<span data-ttu-id="ae77b-274">TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-274">timeinterval</span></span> |
| <span data-ttu-id="ae77b-275">TimeInterval *işleci* TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-275">timeinterval *operator* timeinterval</span></span> |<span data-ttu-id="ae77b-276">+, -</span><span class="sxs-lookup"><span data-stu-id="ae77b-276">+, -</span></span> |<span data-ttu-id="ae77b-277">TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-277">timeinterval</span></span> |
| <span data-ttu-id="ae77b-278">TimeInterval *işleci* zaman damgası</span><span class="sxs-lookup"><span data-stu-id="ae77b-278">timeinterval *operator* timestamp</span></span> |+ |<span data-ttu-id="ae77b-279">timestamp</span><span class="sxs-lookup"><span data-stu-id="ae77b-279">timestamp</span></span> |
| <span data-ttu-id="ae77b-280">zaman damgası *işleci* TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-280">timestamp *operator* timeinterval</span></span> |+ |<span data-ttu-id="ae77b-281">timestamp</span><span class="sxs-lookup"><span data-stu-id="ae77b-281">timestamp</span></span> |
| <span data-ttu-id="ae77b-282">zaman damgası *işleci* zaman damgası</span><span class="sxs-lookup"><span data-stu-id="ae77b-282">timestamp *operator* timestamp</span></span> |- |<span data-ttu-id="ae77b-283">TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-283">timeinterval</span></span> |
| <span data-ttu-id="ae77b-284">*İşleç*çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-284">*operator*double</span></span> |<span data-ttu-id="ae77b-285">-, !</span><span class="sxs-lookup"><span data-stu-id="ae77b-285">-, !</span></span> |<span data-ttu-id="ae77b-286">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-286">double</span></span> |
| <span data-ttu-id="ae77b-287">*İşleç*TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-287">*operator*timeinterval</span></span> |- |<span data-ttu-id="ae77b-288">TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-288">timeinterval</span></span> |
| <span data-ttu-id="ae77b-289">çift *işleci* çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-289">double *operator* double</span></span> |<span data-ttu-id="ae77b-290"><, <=, ==, >=, >, !=</span><span class="sxs-lookup"><span data-stu-id="ae77b-290"><, <=, ==, >=, >, !=</span></span> |<span data-ttu-id="ae77b-291">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-291">double</span></span> |
| <span data-ttu-id="ae77b-292">dize *işleci* dize</span><span class="sxs-lookup"><span data-stu-id="ae77b-292">string *operator* string</span></span> |<span data-ttu-id="ae77b-293"><, <=, ==, >=, >, !=</span><span class="sxs-lookup"><span data-stu-id="ae77b-293"><, <=, ==, >=, >, !=</span></span> |<span data-ttu-id="ae77b-294">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-294">double</span></span> |
| <span data-ttu-id="ae77b-295">zaman damgası *işleci* zaman damgası</span><span class="sxs-lookup"><span data-stu-id="ae77b-295">timestamp *operator* timestamp</span></span> |<span data-ttu-id="ae77b-296"><, <=, ==, >=, >, !=</span><span class="sxs-lookup"><span data-stu-id="ae77b-296"><, <=, ==, >=, >, !=</span></span> |<span data-ttu-id="ae77b-297">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-297">double</span></span> |
| <span data-ttu-id="ae77b-298">TimeInterval *işleci* TimeInterval</span><span class="sxs-lookup"><span data-stu-id="ae77b-298">timeinterval *operator* timeinterval</span></span> |<span data-ttu-id="ae77b-299"><, <=, ==, >=, >, !=</span><span class="sxs-lookup"><span data-stu-id="ae77b-299"><, <=, ==, >=, >, !=</span></span> |<span data-ttu-id="ae77b-300">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-300">double</span></span> |
| <span data-ttu-id="ae77b-301">çift *işleci* çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-301">double *operator* double</span></span> |<span data-ttu-id="ae77b-302">&&, &#124;&#124;</span><span class="sxs-lookup"><span data-stu-id="ae77b-302">&&, &#124;&#124;</span></span> |<span data-ttu-id="ae77b-303">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-303">double</span></span> |

<span data-ttu-id="ae77b-304">Bir çift Üçlü operatör ile sınarken (`double ? statement1 : statement2`), sıfır olmayan olan **true**, ve sıfır **false**.</span><span class="sxs-lookup"><span data-stu-id="ae77b-304">When testing a double with a ternary operator (`double ? statement1 : statement2`), nonzero is **true**, and zero is **false**.</span></span>

## <a name="functions"></a><span data-ttu-id="ae77b-305">İşlevler</span><span class="sxs-lookup"><span data-stu-id="ae77b-305">Functions</span></span>
<span data-ttu-id="ae77b-306">Bu önceden tanımlanmış **işlevleri** otomatik ölçeklendirme formülü tanımlamakta toouse için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-306">These predefined **functions** are available for you toouse in defining an automatic scaling formula.</span></span>

| <span data-ttu-id="ae77b-307">İşlevi</span><span class="sxs-lookup"><span data-stu-id="ae77b-307">Function</span></span> | <span data-ttu-id="ae77b-308">Dönüş türü</span><span class="sxs-lookup"><span data-stu-id="ae77b-308">Return type</span></span> | <span data-ttu-id="ae77b-309">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ae77b-309">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ae77b-310">AVG(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-310">avg(doubleVecList)</span></span> |<span data-ttu-id="ae77b-311">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-311">double</span></span> |<span data-ttu-id="ae77b-312">Ortalama değer hello doubleVecList tüm değerleri döndürür hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-312">Returns hello average value for all values in hello doubleVecList.</span></span> |
| <span data-ttu-id="ae77b-313">Len(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-313">len(doubleVecList)</span></span> |<span data-ttu-id="ae77b-314">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-314">double</span></span> |<span data-ttu-id="ae77b-315">Merhaba doubleVecList oluşturulan hello vektör uzunluğunu döndürür hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-315">Returns hello length of hello vector that is created from hello doubleVecList.</span></span> |
| <span data-ttu-id="ae77b-316">LG(double)</span><span class="sxs-lookup"><span data-stu-id="ae77b-316">lg(double)</span></span> |<span data-ttu-id="ae77b-317">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-317">double</span></span> |<span data-ttu-id="ae77b-318">Merhaba günlük hello temel 2 Çift döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-318">Returns hello log base 2 of hello double.</span></span> |
| <span data-ttu-id="ae77b-319">LG(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-319">lg(doubleVecList)</span></span> |<span data-ttu-id="ae77b-320">doubleVec</span><span class="sxs-lookup"><span data-stu-id="ae77b-320">doubleVec</span></span> |<span data-ttu-id="ae77b-321">Merhaba component-wise günlük hello doubleVecList temel 2 döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-321">Returns hello component-wise log base 2 of hello doubleVecList.</span></span> <span data-ttu-id="ae77b-322">Bir vec(double) açıkça hello parametresi için geçirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-322">A vec(double) must be explicitly passed for hello parameter.</span></span> <span data-ttu-id="ae77b-323">Aksi takdirde hello çift lg(double) sürümü varsayılır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-323">Otherwise, hello double lg(double) version is assumed.</span></span> |
| <span data-ttu-id="ae77b-324">ln(double)</span><span class="sxs-lookup"><span data-stu-id="ae77b-324">ln(double)</span></span> |<span data-ttu-id="ae77b-325">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-325">double</span></span> |<span data-ttu-id="ae77b-326">Döndürür hello çift doğal günlüğünü hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-326">Returns hello natural log of hello double.</span></span> |
| <span data-ttu-id="ae77b-327">ln(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-327">ln(doubleVecList)</span></span> |<span data-ttu-id="ae77b-328">doubleVec</span><span class="sxs-lookup"><span data-stu-id="ae77b-328">doubleVec</span></span> |<span data-ttu-id="ae77b-329">Merhaba component-wise günlük hello doubleVecList temel 2 döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-329">Returns hello component-wise log base 2 of hello doubleVecList.</span></span> <span data-ttu-id="ae77b-330">Bir vec(double) açıkça hello parametresi için geçirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-330">A vec(double) must be explicitly passed for hello parameter.</span></span> <span data-ttu-id="ae77b-331">Aksi takdirde hello çift lg(double) sürümü varsayılır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-331">Otherwise, hello double lg(double) version is assumed.</span></span> |
| <span data-ttu-id="ae77b-332">log(double)</span><span class="sxs-lookup"><span data-stu-id="ae77b-332">log(double)</span></span> |<span data-ttu-id="ae77b-333">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-333">double</span></span> |<span data-ttu-id="ae77b-334">Merhaba günlük hello temel 10 çift döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-334">Returns hello log base 10 of hello double.</span></span> |
| <span data-ttu-id="ae77b-335">log(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-335">log(doubleVecList)</span></span> |<span data-ttu-id="ae77b-336">doubleVec</span><span class="sxs-lookup"><span data-stu-id="ae77b-336">doubleVec</span></span> |<span data-ttu-id="ae77b-337">Merhaba component-wise günlük hello doubleVecList temel 10 döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-337">Returns hello component-wise log base 10 of hello doubleVecList.</span></span> <span data-ttu-id="ae77b-338">Bir vec(double) açıkça hello tek çift parametresi için geçirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-338">A vec(double) must be explicitly passed for hello single double parameter.</span></span> <span data-ttu-id="ae77b-339">Aksi takdirde hello çift log(double) sürümü varsayılır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-339">Otherwise, hello double log(double) version is assumed.</span></span> |
| <span data-ttu-id="ae77b-340">max(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-340">max(doubleVecList)</span></span> |<span data-ttu-id="ae77b-341">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-341">double</span></span> |<span data-ttu-id="ae77b-342">Merhaba doubleVecList en büyük değeri döndürür hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-342">Returns hello maximum value in hello doubleVecList.</span></span> |
| <span data-ttu-id="ae77b-343">Min(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-343">min(doubleVecList)</span></span> |<span data-ttu-id="ae77b-344">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-344">double</span></span> |<span data-ttu-id="ae77b-345">Döndürür hello doubleVecList en küçük değerin hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-345">Returns hello minimum value in hello doubleVecList.</span></span> |
| <span data-ttu-id="ae77b-346">Norm(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-346">norm(doubleVecList)</span></span> |<span data-ttu-id="ae77b-347">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-347">double</span></span> |<span data-ttu-id="ae77b-348">Döndürür hello doubleVecList oluşturulan hello vektör, iki norm hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-348">Returns hello two-norm of hello vector that is created from hello doubleVecList.</span></span> |
| <span data-ttu-id="ae77b-349">Yüzdelik (doubleVec v, çift p)</span><span class="sxs-lookup"><span data-stu-id="ae77b-349">percentile(doubleVec v, double p)</span></span> |<span data-ttu-id="ae77b-350">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-350">double</span></span> |<span data-ttu-id="ae77b-351">Döndürür hello vektör v yüzdebirlik öğesinin hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-351">Returns hello percentile element of hello vector v.</span></span> |
| <span data-ttu-id="ae77b-352">rand()</span><span class="sxs-lookup"><span data-stu-id="ae77b-352">rand()</span></span> |<span data-ttu-id="ae77b-353">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-353">double</span></span> |<span data-ttu-id="ae77b-354">0,0 ile 1,0 arasında rastgele bir değeri döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-354">Returns a random value between 0.0 and 1.0.</span></span> |
| <span data-ttu-id="ae77b-355">Range(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-355">range(doubleVecList)</span></span> |<span data-ttu-id="ae77b-356">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-356">double</span></span> |<span data-ttu-id="ae77b-357">Merhaba minimum ve maksimum değerleri arasındaki Hello fark hello doubleVecList döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-357">Returns hello difference between hello min and max values in hello doubleVecList.</span></span> |
| <span data-ttu-id="ae77b-358">Std(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-358">std(doubleVecList)</span></span> |<span data-ttu-id="ae77b-359">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-359">double</span></span> |<span data-ttu-id="ae77b-360">Merhaba doubleVecList hello değerleri örnek standart sapmasını döndürür hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-360">Returns hello sample standard deviation of hello values in hello doubleVecList.</span></span> |
| <span data-ttu-id="ae77b-361">Stop()</span><span class="sxs-lookup"><span data-stu-id="ae77b-361">stop()</span></span> | |<span data-ttu-id="ae77b-362">Merhaba otomatik ölçeklendirmeyi ifadesi değerlendirmesi durdurur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-362">Stops evaluation of hello autoscaling expression.</span></span> |
| <span data-ttu-id="ae77b-363">SUM(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="ae77b-363">sum(doubleVecList)</span></span> |<span data-ttu-id="ae77b-364">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-364">double</span></span> |<span data-ttu-id="ae77b-365">Merhaba doubleVecList hello bileşenlerinin tümünü toplamını döndürür hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-365">Returns hello sum of all hello components of hello doubleVecList.</span></span> |
| <span data-ttu-id="ae77b-366">saat (dateTime dize = "")</span><span class="sxs-lookup"><span data-stu-id="ae77b-366">time(string dateTime="")</span></span> |<span data-ttu-id="ae77b-367">timestamp</span><span class="sxs-lookup"><span data-stu-id="ae77b-367">timestamp</span></span> |<span data-ttu-id="ae77b-368">Hiçbir parametre geçirilir ya da onu aktarılırsa zaman damgası hello dateTime dizesinin hello hello hello zaman damgası geçerli saati döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-368">Returns hello time stamp of hello current time if no parameters are passed, or hello time stamp of hello dateTime string if it is passed.</span></span> <span data-ttu-id="ae77b-369">Desteklenen tarih/saat biçimleri W3C DTF ve RFC 1123 olacaktır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-369">Supported dateTime formats are W3C-DTF and RFC 1123.</span></span> |
| <span data-ttu-id="ae77b-370">VAL (doubleVec v, çift i)</span><span class="sxs-lookup"><span data-stu-id="ae77b-370">val(doubleVec v, double i)</span></span> |<span data-ttu-id="ae77b-371">Çift</span><span class="sxs-lookup"><span data-stu-id="ae77b-371">double</span></span> |<span data-ttu-id="ae77b-372">Konumda i vektör v, başlangıç dizini sıfır ile Merhaba öğeyi Hello değerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-372">Returns hello value of hello element that is at location i in vector v, with a starting index of zero.</span></span> |

<span data-ttu-id="ae77b-373">Bazı hello önceki tabloda açıklanan hello işlevleri listesini bağımsız değişken olarak kabul edebilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-373">Some of hello functions that are described in hello previous table can accept a list as an argument.</span></span> <span data-ttu-id="ae77b-374">Merhaba virgülle ayrılmış listesi olduğu herhangi bir bileşimini *çift* ve *doubleVec*.</span><span class="sxs-lookup"><span data-stu-id="ae77b-374">hello comma-separated list is any combination of *double* and *doubleVec*.</span></span> <span data-ttu-id="ae77b-375">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="ae77b-375">For example:</span></span>

`doubleVecList := ( (double | doubleVec)+(, (double | doubleVec) )* )?`

<span data-ttu-id="ae77b-376">Merhaba *doubleVecList* değerdir dönüştürülmüş tooa tek *doubleVec* değerlendirme önce.</span><span class="sxs-lookup"><span data-stu-id="ae77b-376">hello *doubleVecList* value is converted tooa single *doubleVec* before evaluation.</span></span> <span data-ttu-id="ae77b-377">Örneğin, varsa `v = [1,2,3]`, ardından çağırma `avg(v)` eşdeğer toocalling olan `avg(1,2,3)`.</span><span class="sxs-lookup"><span data-stu-id="ae77b-377">For example, if `v = [1,2,3]`, then calling `avg(v)` is equivalent toocalling `avg(1,2,3)`.</span></span> <span data-ttu-id="ae77b-378">Çağırma `avg(v, 7)` eşdeğer toocalling olan `avg(1,2,3,7)`.</span><span class="sxs-lookup"><span data-stu-id="ae77b-378">Calling `avg(v, 7)` is equivalent toocalling `avg(1,2,3,7)`.</span></span>

## <span data-ttu-id="ae77b-379"><a name="getsampledata"></a>Örnek verileri alma</span><span class="sxs-lookup"><span data-stu-id="ae77b-379"><a name="getsampledata"></a>Obtain sample data</span></span>
<span data-ttu-id="ae77b-380">Otomatik ölçeklendirme formüller hello Batch hizmeti tarafından sağlanan ölçüm verilerini (örnekler) hareket.</span><span class="sxs-lookup"><span data-stu-id="ae77b-380">Autoscale formulas act on metrics data (samples) that is provided by hello Batch service.</span></span> <span data-ttu-id="ae77b-381">Bir formülü büyüyor veya hello hizmetinden alır hello değerlere göre havuz boyutu küçültür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-381">A formula grows or shrinks pool size based on hello values that it obtains from hello service.</span></span> <span data-ttu-id="ae77b-382">açıklandığı gibi hello hizmet tanımlı değişkenler daha önce bu nesneyle ilişkili tooaccess verileri çeşitli yöntemler sağlayan nesneleridir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-382">hello service-defined variables that were described previously are objects that provide various methods tooaccess data that is associated with that object.</span></span> <span data-ttu-id="ae77b-383">Örneğin, hello aşağıdaki ifade bir istek tooget hello CPU kullanımı son beş dakika gösterir:</span><span class="sxs-lookup"><span data-stu-id="ae77b-383">For example, hello following expression shows a request tooget hello last five minutes of CPU usage:</span></span>

```
$CPUPercent.GetSample(TimeInterval_Minute * 5)
```

| <span data-ttu-id="ae77b-384">Yöntem</span><span class="sxs-lookup"><span data-stu-id="ae77b-384">Method</span></span> | <span data-ttu-id="ae77b-385">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ae77b-385">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ae77b-386">GetSample()</span><span class="sxs-lookup"><span data-stu-id="ae77b-386">GetSample()</span></span> |<span data-ttu-id="ae77b-387">Merhaba `GetSample()` yöntemi vektör verilerini örnekleri döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-387">hello `GetSample()` method returns a vector of data samples.</span></span><br/><br/><span data-ttu-id="ae77b-388">Ölçüm verilerini 30 saniyede bir örnektir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-388">A sample is 30 seconds worth of metrics data.</span></span> <span data-ttu-id="ae77b-389">Diğer bir deyişle, örnekleri her 30 saniyede elde edilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-389">In other words, samples are obtained every 30 seconds.</span></span> <span data-ttu-id="ae77b-390">Ancak aşağıda belirtildiği gibi bir örnek ne zaman kullanılacağını ve kullanılabilir tooa formülü olduğunda arasında bir gecikme yoktur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-390">But as noted below, there is a delay between when a sample is collected and when it is available tooa formula.</span></span> <span data-ttu-id="ae77b-391">Bu nedenle, belirli bir süre için tüm örnekleri bir formüle değerlendirme için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-391">As such, not all samples for a given time period may be available for evaluation by a formula.</span></span><ul><li>`doubleVec GetSample(double count)`<br/><span data-ttu-id="ae77b-392">Toplanan hello en son örnekleri gelen örnekleri tooobtain Hello sayısını belirtir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-392">Specifies hello number of samples tooobtain from hello most recent samples that were collected.</span></span><br/><br/><span data-ttu-id="ae77b-393">`GetSample(1)`Merhaba son kullanılabilir örneği döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-393">`GetSample(1)` returns hello last available sample.</span></span> <span data-ttu-id="ae77b-394">Ölçümleri ister için `$CPUPercent`, imkansız tooknow olduğundan ancak, bu kullanılmamalıdır *zaman* hello örnek toplanmıştır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-394">For metrics like `$CPUPercent`, however, this should not be used because it is impossible tooknow *when* hello sample was collected.</span></span> <span data-ttu-id="ae77b-395">Son olabilir ya da sistem sorunları nedeniyle daha eski olabilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-395">It might be recent, or, because of system issues, it might be much older.</span></span> <span data-ttu-id="ae77b-396">Böyle durumlarda toouse aşağıda gösterildiği gibi bir zaman aralığı içinde daha iyidir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-396">It is better in such cases toouse a time interval as shown below.</span></span><li>`doubleVec GetSample((timestamp or timeinterval) startTime [, double samplePercent])`<br/><span data-ttu-id="ae77b-397">Örnek verileri toplamak için bir zaman çerçevesi belirtir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-397">Specifies a time frame for gathering sample data.</span></span> <span data-ttu-id="ae77b-398">İsteğe bağlı olarak, bu da zaman çerçevesi hello bulunmalıdır örnekleri hello yüzdesi istenen belirtir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-398">Optionally, it also specifies hello percentage of samples that must be available in hello requested time frame.</span></span><br/><br/><span data-ttu-id="ae77b-399">`$CPUPercent.GetSample(TimeInterval_Minute * 10)`20 örnekleri hello son 10 dakika için tüm örnekleri hello CPUPercent geçmişinde mevcut olup olmadığını döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-399">`$CPUPercent.GetSample(TimeInterval_Minute * 10)` would return 20 samples if all samples for hello last 10 minutes are present in hello CPUPercent history.</span></span> <span data-ttu-id="ae77b-400">Merhaba son dakika geçmişi kullanılabilir değilse, ancak yalnızca 18 örnekleri döndürülür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-400">If hello last minute of history was not available, however, only 18 samples would be returned.</span></span> <span data-ttu-id="ae77b-401">Bu durumda:</span><span class="sxs-lookup"><span data-stu-id="ae77b-401">In this case:</span></span><br/><br/><span data-ttu-id="ae77b-402">`$CPUPercent.GetSample(TimeInterval_Minute * 10, 95)`Merhaba örnekler yüzde 90'ından yalnızca kullanılabilir olmadığından başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-402">`$CPUPercent.GetSample(TimeInterval_Minute * 10, 95)` would fail because only 90 percent of hello samples are available.</span></span><br/><br/><span data-ttu-id="ae77b-403">`$CPUPercent.GetSample(TimeInterval_Minute * 10, 80)`başarılı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-403">`$CPUPercent.GetSample(TimeInterval_Minute * 10, 80)` would succeed.</span></span><li>`doubleVec GetSample((timestamp or timeinterval) startTime, (timestamp or timeinterval) endTime [, double samplePercent])`<br/><span data-ttu-id="ae77b-404">Başlangıç zamanı ve bitiş saati ile veri toplama için bir zaman çerçevesi belirtir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-404">Specifies a time frame for gathering data, with both a start time and an end time.</span></span><br/><br/><span data-ttu-id="ae77b-405">Yukarıda belirtildiği gibi bir örnek ne zaman kullanılacağını ve kullanılabilir tooa formülü olduğunda arasında bir gecikme olur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-405">As mentioned above, there is a delay between when a sample is collected and when it is available tooa formula.</span></span> <span data-ttu-id="ae77b-406">Merhaba kullanırken bu gecikme göz önünde bulundurun `GetSample` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ae77b-406">Consider this delay when you use hello `GetSample` method.</span></span> <span data-ttu-id="ae77b-407">Bkz: `GetSamplePercent` aşağıda.</span><span class="sxs-lookup"><span data-stu-id="ae77b-407">See `GetSamplePercent` below.</span></span> |
| <span data-ttu-id="ae77b-408">GetSamplePeriod()</span><span class="sxs-lookup"><span data-stu-id="ae77b-408">GetSamplePeriod()</span></span> |<span data-ttu-id="ae77b-409">Bir geçmiş örnek veri kümesinde gerçekleştirilen örnekleri Hello dönemi döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-409">Returns hello period of samples that were taken in a historical sample data set.</span></span> |
| <span data-ttu-id="ae77b-410">Count() işlevi</span><span class="sxs-lookup"><span data-stu-id="ae77b-410">Count()</span></span> |<span data-ttu-id="ae77b-411">Örnek hello ölçüm geçmişinde toplam sayısını döndürür hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-411">Returns hello total number of samples in hello metric history.</span></span> |
| <span data-ttu-id="ae77b-412">HistoryBeginTime()</span><span class="sxs-lookup"><span data-stu-id="ae77b-412">HistoryBeginTime()</span></span> |<span data-ttu-id="ae77b-413">Merhaba eski kullanılabilir veri örneği hello ölçümü için zaman damgasını döndürür hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-413">Returns hello time stamp of hello oldest available data sample for hello metric.</span></span> |
| <span data-ttu-id="ae77b-414">GetSamplePercent()</span><span class="sxs-lookup"><span data-stu-id="ae77b-414">GetSamplePercent()</span></span> |<span data-ttu-id="ae77b-415">Belirli bir zaman aralığı için kullanılabilen örnekleri yüzdesini döndürür hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-415">Returns hello percentage of samples that are available for a given time interval.</span></span> <span data-ttu-id="ae77b-416">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="ae77b-416">For example:</span></span><br/><br/>`doubleVec GetSamplePercent( (timestamp or timeinterval) startTime [, (timestamp or timeinterval) endTime] )`<br/><br/><span data-ttu-id="ae77b-417">Çünkü hello `GetSample` yöntem başarısız döndürülen örnekleri hello yüzdesi hello küçükse `samplePercent` belirtilen hello kullanabilirsiniz `GetSamplePercent` yöntemi toocheck ilk.</span><span class="sxs-lookup"><span data-stu-id="ae77b-417">Because hello `GetSample` method fails if hello percentage of samples returned is less than hello `samplePercent` specified, you can use hello `GetSamplePercent` method toocheck first.</span></span> <span data-ttu-id="ae77b-418">Ardından, yetersiz örnekleri hello otomatik ölçeklendirme değerlendirme durdurma olmadan yoksa alternatif bir eylem gerçekleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-418">Then you can perform an alternate action if insufficient samples are present, without halting hello automatic scaling evaluation.</span></span> |

### <a name="samples-sample-percentage-and-hello-getsample-method"></a><span data-ttu-id="ae77b-419">Örnekleri, örnek yüzdesi ve hello *GetSample()* yöntemi</span><span class="sxs-lookup"><span data-stu-id="ae77b-419">Samples, sample percentage, and hello *GetSample()* method</span></span>
<span data-ttu-id="ae77b-420">otomatik ölçeklendirme formülü Hello temel işlevleri tooobtain görev ve kaynak ölçüm verilerinin ve verilere dayanan havuz boyutunu Ayarla.</span><span class="sxs-lookup"><span data-stu-id="ae77b-420">hello core operation of an autoscale formula is tooobtain task and resource metric data and then adjust pool size based on that data.</span></span> <span data-ttu-id="ae77b-421">Bu nedenle, önemli toohave otomatik ölçeklendirme formüller (örnekler) ölçüm verileri ile nasıl etkileşim NET bir anlayış olur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-421">As such, it is important toohave a clear understanding of how autoscale formulas interact with metrics data (samples).</span></span>

<span data-ttu-id="ae77b-422">**Örnekler**</span><span class="sxs-lookup"><span data-stu-id="ae77b-422">**Samples**</span></span>

<span data-ttu-id="ae77b-423">Merhaba Batch hizmeti düzenli aralıklarla görev ve kaynak ölçümleri örneklerini alır ve bunları kullanılabilir tooyour otomatik ölçeklendirme formüller sunar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-423">hello Batch service periodically takes samples of task and resource metrics and makes them available tooyour autoscale formulas.</span></span> <span data-ttu-id="ae77b-424">Bu örnekler, her 30 saniyede hello Batch hizmeti tarafından kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-424">These samples are recorded every 30 seconds by hello Batch service.</span></span> <span data-ttu-id="ae77b-425">Ancak, genellikle bir gecikme olur ve bunlar çok kullanılabilir hale getirilir (ve tarafından okunur olduğunda) olduğunda bu örnekleri kaydedilmiş arasında otomatik ölçeklendirme formüller.</span><span class="sxs-lookup"><span data-stu-id="ae77b-425">However, there is typically a delay between when those samples were recorded and when they are made available too(and can be read by) your autoscale formulas.</span></span> <span data-ttu-id="ae77b-426">Ayrıca, ağ ve diğer altyapı sorunlar gibi toovarious Etkenler örnekleri için belirli bir aralık kaydedilmemiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-426">Additionally, due toovarious factors such as network or other infrastructure issues, samples may not be recorded for a particular interval.</span></span>

<span data-ttu-id="ae77b-427">**Örnek yüzdesi**</span><span class="sxs-lookup"><span data-stu-id="ae77b-427">**Sample percentage**</span></span>

<span data-ttu-id="ae77b-428">Zaman `samplePercent` toohello geçirilen `GetSample()` yöntemi veya hello `GetSamplePercent()` yöntemi çağrıldığında, _yüzde_ hello toplam olası hello Batch hizmeti tarafından kaydedilen örnek sayısı arasında tooa karşılaştırma başvuruyor ve kullanılabilir tooyour otomatik ölçeklendirme formülü olan örnek Hello sayısı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-428">When `samplePercent` is passed toohello `GetSample()` method or hello `GetSamplePercent()` method is called, _percent_ refers tooa comparison between hello total possible number of samples that are recorded by hello Batch service and hello number of samples that are available tooyour autoscale formula.</span></span>

<span data-ttu-id="ae77b-429">Örneğin 10 dakikalık timespan bakalım.</span><span class="sxs-lookup"><span data-stu-id="ae77b-429">Let's look at a 10-minute timespan as an example.</span></span> <span data-ttu-id="ae77b-430">Örnekleri her 30 saniyede 10 dakikalık timespan içinde kayıtlı olduğundan, hello toplam sayısı toplu işi tarafından kaydedilen örnekleri 20 örnekleri (dakika başına 2) olacaktır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-430">Because samples are recorded every 30 seconds within a 10-minute timespan, hello maximum total number of samples that are recorded by Batch would be 20 samples (2 per minute).</span></span> <span data-ttu-id="ae77b-431">Ancak, toohello yapısında gecikme hello raporlama mekanizması ve Azure içindeki diğer sorunlar, olabilir yalnızca okumak için kullanılabilir tooyour otomatik ölçeklendirme formülü olan 15 örnekleri.</span><span class="sxs-lookup"><span data-stu-id="ae77b-431">However, due toohello inherent latency of hello reporting mechanism and other issues within Azure, there may be only 15 samples that are available tooyour autoscale formula for reading.</span></span> <span data-ttu-id="ae77b-432">Bu nedenle, örneğin, söz konusu 10 dakikalık dönem için yalnızca %75 hello toplam kaydedilen örnekleri sayısının kullanılabilir tooyour formül olabilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-432">So, for example, for that 10-minute period, only 75% of hello total number of samples recorded may be available tooyour formula.</span></span>

<span data-ttu-id="ae77b-433">**GetSample() ve örnek aralıkları**</span><span class="sxs-lookup"><span data-stu-id="ae77b-433">**GetSample() and sample ranges**</span></span>

<span data-ttu-id="ae77b-434">Devam eden toobe büyüyen ve havuzlarınızı küçültme, otomatik ölçeklendirme formülüdür &mdash; düğüm ekleme veya düğümleri kaldırma.</span><span class="sxs-lookup"><span data-stu-id="ae77b-434">Your autoscale formulas are going toobe growing and shrinking your pools &mdash; adding nodes or removing nodes.</span></span> <span data-ttu-id="ae77b-435">Düğümleri para maliyet olduğundan, formüller yeterli verilerine dayalı analiz akıllı bir yöntem kullanın tooensure istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-435">Because nodes cost you money, you want tooensure that your formulas use an intelligent method of analysis that is based on sufficient data.</span></span> <span data-ttu-id="ae77b-436">Bu nedenle, eğilim türü çözümlemesi formüllerde kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-436">Therefore, we recommend that you use a trending-type analysis in your formulas.</span></span> <span data-ttu-id="ae77b-437">Bu tür büyür ve toplanan örnekleri bir aralığı tabanlı havuzlarınızı küçültür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-437">This type grows and shrinks your pools based on a range of collected samples.</span></span>

<span data-ttu-id="ae77b-438">Bu nedenle, toodo kullanmak `GetSample(interval look-back start, interval look-back end)` tooreturn vektör örnekleri:</span><span class="sxs-lookup"><span data-stu-id="ae77b-438">toodo so, use `GetSample(interval look-back start, interval look-back end)` tooreturn a vector of samples:</span></span>

```
$runningTasksSample = $RunningTasks.GetSample(1 * TimeInterval_Minute, 6 * TimeInterval_Minute);
```

<span data-ttu-id="ae77b-439">Satırın yukarısında Hello toplu işi tarafından değerlendirildiğinde değerlerin vektör olarak örnekleri bir dizi döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-439">When hello above line is evaluated by Batch, it returns a range of samples as a vector of values.</span></span> <span data-ttu-id="ae77b-440">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="ae77b-440">For example:</span></span>

```
$runningTasksSample=[1,1,1,1,1,1,1,1,1,1];
```

<span data-ttu-id="ae77b-441">Hello vektör örnekleri derledik sonra gibi İşlevler ardından kullanabilirsiniz `min()`, `max()`, ve `avg()` hello tooderive anlamlı değerleri aralığı toplanır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-441">Once you've collected hello vector of samples, you can then use functions like `min()`, `max()`, and `avg()` tooderive meaningful values from hello collected range.</span></span>

<span data-ttu-id="ae77b-442">Belirli bir örnek yüzdeden küçük belirli bir süre için kullanılabilir durumdaysa, ek güvenlik için bir formül değerlendirme toofail zorlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-442">For additional security, you can force a formula evaluation toofail if less than a certain sample percentage is available for a particular time period.</span></span> <span data-ttu-id="ae77b-443">Formül Değerlendirme toofail zorla zaman hello örnekleri yüzdesi belirtilen hello formülü değerlendirmesi kullanılabilir değilse toplu toocease daha fazla isteyin.</span><span class="sxs-lookup"><span data-stu-id="ae77b-443">When you force a formula evaluation toofail, you instruct Batch toocease further evaluation of hello formula if hello specified percentage of samples is not available.</span></span> <span data-ttu-id="ae77b-444">Bu durumda, hiçbir değişiklik toohello havuz boyutu yapılır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-444">In this case, no change is made toohello pool size.</span></span> <span data-ttu-id="ae77b-445">toospecify örnekler hello değerlendirme toosucceed için gerekli bir yüzdesini belirtin, bu, üçüncü parametre çok hello gibi`GetSample()`.</span><span class="sxs-lookup"><span data-stu-id="ae77b-445">toospecify a required percentage of samples for hello evaluation toosucceed, specify it as hello third parameter too`GetSample()`.</span></span> <span data-ttu-id="ae77b-446">Burada, örnekler yüzde 75'ini gereksinimi belirtilir:</span><span class="sxs-lookup"><span data-stu-id="ae77b-446">Here, a requirement of 75 percent of samples is specified:</span></span>

```
$runningTasksSample = $RunningTasks.GetSample(60 * TimeInterval_Second, 120 * TimeInterval_Second, 75);
```

<span data-ttu-id="ae77b-447">Örnek kullanılabilirlik bir gecikme olabilir çünkü, tooalways bir dakikadan daha eski bir arka plan görünüm başlangıç saatine sahip bir zaman aralığı belirtin önemlidir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-447">Because there may be a delay in sample availability, it is important tooalways specify a time range with a look-back start time that is older than one minute.</span></span> <span data-ttu-id="ae77b-448">Merhaba sistemi aracılığıyla örnekleri toopropagate şekilde örnekleri için hello aralığında yaklaşık bir dakika sürer `(0 * TimeInterval_Second, 60 * TimeInterval_Second)` kullanılamayabilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-448">It takes approximately one minute for samples toopropagate through hello system, so samples in hello range `(0 * TimeInterval_Second, 60 * TimeInterval_Second)` may not be available.</span></span> <span data-ttu-id="ae77b-449">Merhaba yüzdesi parametresinin tekrar kullanabilirsiniz `GetSample()` tooforce belirli örnek yüzdesi gereksinimi.</span><span class="sxs-lookup"><span data-stu-id="ae77b-449">Again, you can use hello percentage parameter of `GetSample()` tooforce a particular sample percentage requirement.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ae77b-450">Biz **tavsiye** , **bağlı olan kaçının *yalnızca* üzerinde `GetSample(1)` , otomatik ölçeklendirme formüllerde**.</span><span class="sxs-lookup"><span data-stu-id="ae77b-450">We **strongly recommend** that you **avoid relying *only* on `GetSample(1)` in your autoscale formulas**.</span></span> <span data-ttu-id="ae77b-451">Bunun nedeni, `GetSample(1)` temelde diyor toohello Batch hizmeti, "Beni hello sahip olduğunuz son örnekten verin Hayır önemli alınan ne kadar zaman önce."</span><span class="sxs-lookup"><span data-stu-id="ae77b-451">This is because `GetSample(1)` essentially says toohello Batch service, "Give me hello last sample you have, no matter how long ago you retrieved it."</span></span> <span data-ttu-id="ae77b-452">Yalnızca tek bir örnek olduğundan ve eski bir örnek olabilir olduğundan, son görev veya kaynak durumunu hello daha büyük resmi temsilcisi olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-452">Since it is only a single sample, and it may be an older sample, it may not be representative of hello larger picture of recent task or resource state.</span></span> <span data-ttu-id="ae77b-453">Kullanırsanız `GetSample(1)`, daha büyük bir deyim bir parçası olduğundan emin olun ve formülünüzü güvenen veri noktası hello değil.</span><span class="sxs-lookup"><span data-stu-id="ae77b-453">If you do use `GetSample(1)`, make sure that it's part of a larger statement and not hello only data point that your formula relies on.</span></span>
>
>

## <a name="metrics"></a><span data-ttu-id="ae77b-454">Ölçümler</span><span class="sxs-lookup"><span data-stu-id="ae77b-454">Metrics</span></span>
<span data-ttu-id="ae77b-455">Bir formülü tanımlarken, hem kaynak hem de görev ölçümleri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-455">You can use both resource and task metrics when you're defining a formula.</span></span> <span data-ttu-id="ae77b-456">Merhaba almak ve değerlendirmek hello ölçümleri verilerine dayalı hello havuzundaki ayrılmış düğümlerin hedef sayısını ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="ae77b-456">You adjust hello target number of dedicated nodes in hello pool based on hello metrics data that you obtain and evaluate.</span></span> <span data-ttu-id="ae77b-457">Merhaba bkz [değişkenleri](#variables) bölümünde yukarıda her ölçümü hakkında daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="ae77b-457">See hello [Variables](#variables) section above for more information on each metric.</span></span>

<table>
  <tr>
    <th><span data-ttu-id="ae77b-458">Ölçüm</span><span class="sxs-lookup"><span data-stu-id="ae77b-458">Metric</span></span></th>
    <th><span data-ttu-id="ae77b-459">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ae77b-459">Description</span></span></th>
  </tr>
  <tr>
    <td><span data-ttu-id="ae77b-460"><b>Kaynak</b></span><span class="sxs-lookup"><span data-stu-id="ae77b-460"><b>Resource</b></span></span></td>
    <td><p><span data-ttu-id="ae77b-461">Kaynak ölçümleri hello CPU, hello bant genişliği, işlem düğümleri hello bellek kullanımını dayalıdır ve düğüm sayısını hello.</span><span class="sxs-lookup"><span data-stu-id="ae77b-461">Resource metrics are based on hello CPU, hello bandwidth, hello memory usage of compute nodes, and hello number of nodes.</span></span></p>
        <p> <span data-ttu-id="ae77b-462">Bu hizmet tarafından tanımlanan değişkenler, düğüm sayısına göre ayarlamaları yapmak için yararlıdır:</span><span class="sxs-lookup"><span data-stu-id="ae77b-462">These service-defined variables are useful for making adjustments based on node count:</span></span></p>
    <p><ul>
            <li><span data-ttu-id="ae77b-463">$TargetDedicatedNodes</span><span class="sxs-lookup"><span data-stu-id="ae77b-463">$TargetDedicatedNodes</span></span></li>
            <li><span data-ttu-id="ae77b-464">$TargetLowPriorityNodes</span><span class="sxs-lookup"><span data-stu-id="ae77b-464">$TargetLowPriorityNodes</span></span></li>
            <li><span data-ttu-id="ae77b-465">$CurrentDedicatedNodes</span><span class="sxs-lookup"><span data-stu-id="ae77b-465">$CurrentDedicatedNodes</span></span></li>
            <li><span data-ttu-id="ae77b-466">$CurrentLowPriorityNodes</span><span class="sxs-lookup"><span data-stu-id="ae77b-466">$CurrentLowPriorityNodes</span></span></li>
            <li><span data-ttu-id="ae77b-467">$preemptedNodeCount</span><span class="sxs-lookup"><span data-stu-id="ae77b-467">$preemptedNodeCount</span></span></li>
            <li><span data-ttu-id="ae77b-468">$SampleNodeCount</span><span class="sxs-lookup"><span data-stu-id="ae77b-468">$SampleNodeCount</span></span></li>
    </ul></p>
    <p><span data-ttu-id="ae77b-469">Bu hizmet tarafından tanımlanan değişkenler, düğüm kaynak kullanımına bağlı ayarlamaları yapmak için yararlıdır:</span><span class="sxs-lookup"><span data-stu-id="ae77b-469">These service-defined variables are useful for making adjustments based on node resource usage:</span></span></p>
    <p><ul>
      <li><span data-ttu-id="ae77b-470">$CPUPercent</span><span class="sxs-lookup"><span data-stu-id="ae77b-470">$CPUPercent</span></span></li>
      <li><span data-ttu-id="ae77b-471">$WallClockSeconds</span><span class="sxs-lookup"><span data-stu-id="ae77b-471">$WallClockSeconds</span></span></li>
      <li><span data-ttu-id="ae77b-472">$MemoryBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-472">$MemoryBytes</span></span></li>
      <li><span data-ttu-id="ae77b-473">$DiskBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-473">$DiskBytes</span></span></li>
      <li><span data-ttu-id="ae77b-474">$DiskReadBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-474">$DiskReadBytes</span></span></li>
      <li><span data-ttu-id="ae77b-475">$DiskWriteBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-475">$DiskWriteBytes</span></span></li>
      <li><span data-ttu-id="ae77b-476">$DiskReadOps</span><span class="sxs-lookup"><span data-stu-id="ae77b-476">$DiskReadOps</span></span></li>
      <li><span data-ttu-id="ae77b-477">$DiskWriteOps</span><span class="sxs-lookup"><span data-stu-id="ae77b-477">$DiskWriteOps</span></span></li>
      <li><span data-ttu-id="ae77b-478">$NetworkInBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-478">$NetworkInBytes</span></span></li>
      <li><span data-ttu-id="ae77b-479">$NetworkOutBytes</span><span class="sxs-lookup"><span data-stu-id="ae77b-479">$NetworkOutBytes</span></span></li></ul></p>
  </tr>
  <tr>
    <td><span data-ttu-id="ae77b-480"><b>Görev</b></span><span class="sxs-lookup"><span data-stu-id="ae77b-480"><b>Task</b></span></span></td>
    <td><p><span data-ttu-id="ae77b-481">Görev ölçümleri hello durumunun etkin gibi görevler, temel ve tamamlandı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-481">Task metrics are based on hello status of tasks, such as Active, Pending, and Completed.</span></span> <span data-ttu-id="ae77b-482">Merhaba aşağıdaki hizmet tanımlı değişkenler görev ölçümleri temel havuz boyutu ayarlamaları yapmak için yararlıdır:</span><span class="sxs-lookup"><span data-stu-id="ae77b-482">hello following service-defined variables are useful for making pool-size adjustments based on task metrics:</span></span></p>
    <p><ul>
      <li><span data-ttu-id="ae77b-483">$ActiveTasks</span><span class="sxs-lookup"><span data-stu-id="ae77b-483">$ActiveTasks</span></span></li>
      <li><span data-ttu-id="ae77b-484">$RunningTasks</span><span class="sxs-lookup"><span data-stu-id="ae77b-484">$RunningTasks</span></span></li>
      <li><span data-ttu-id="ae77b-485">$PendingTasks</span><span class="sxs-lookup"><span data-stu-id="ae77b-485">$PendingTasks</span></span></li>
      <li><span data-ttu-id="ae77b-486">$SucceededTasks</span><span class="sxs-lookup"><span data-stu-id="ae77b-486">$SucceededTasks</span></span></li>
            <li><span data-ttu-id="ae77b-487">$FailedTasks</span><span class="sxs-lookup"><span data-stu-id="ae77b-487">$FailedTasks</span></span></li></ul></p>
        </td>
  </tr>
</table>

## <a name="write-an-autoscale-formula"></a><span data-ttu-id="ae77b-488">Otomatik ölçeklendirme formülü yazma</span><span class="sxs-lookup"><span data-stu-id="ae77b-488">Write an autoscale formula</span></span>
<span data-ttu-id="ae77b-489">Otomatik ölçeklendirme formülü bileşenleri yukarıda hello kullan deyimleri oluşturan tarafından yapı sonra bu ifadeleri tam bir formüle birleştirin.</span><span class="sxs-lookup"><span data-stu-id="ae77b-489">You build an autoscale formula by forming statements that use hello above components, then combine those statements into a complete formula.</span></span> <span data-ttu-id="ae77b-490">Bu bölümde, bazı gerçek ölçeklendirme kararları gerçekleştirebileceğiniz bir örnek otomatik ölçeklendirme formülü oluşturun.</span><span class="sxs-lookup"><span data-stu-id="ae77b-490">In this section, we create an example autoscale formula that can perform some real-world scaling decisions.</span></span>

<span data-ttu-id="ae77b-491">İlk olarak, şirketinizdeki bizim yeni otomatik ölçeklendirme formülü için hello gereksinimleri tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="ae77b-491">First, let's define hello requirements for our new autoscale formula.</span></span> <span data-ttu-id="ae77b-492">Merhaba formülü gerekir:</span><span class="sxs-lookup"><span data-stu-id="ae77b-492">hello formula should:</span></span>

1. <span data-ttu-id="ae77b-493">CPU kullanımı yüksekse, adanmış bir işlem düğümleri havuzunda hello hedef sayısını artırın.</span><span class="sxs-lookup"><span data-stu-id="ae77b-493">Increase hello target number of dedicated compute nodes in a pool if CPU usage is high.</span></span>
2. <span data-ttu-id="ae77b-494">CPU kullanımı düşük olduğunda hello hedef adanmış bir işlem düğümleri havuzunda sayısını azaltın.</span><span class="sxs-lookup"><span data-stu-id="ae77b-494">Decrease hello target number of dedicated compute nodes in a pool when CPU usage is low.</span></span>
3. <span data-ttu-id="ae77b-495">Her zaman ayrılmış düğümleri too400 hello sayısını sınırlayın.</span><span class="sxs-lookup"><span data-stu-id="ae77b-495">Always restrict hello maximum number of dedicated nodes too400.</span></span>

<span data-ttu-id="ae77b-496">tooincrease hello yüksek CPU kullanımı sırasında düğüm sayısını tanımlayan bir kullanıcı tanımlı değişken doldurur hello deyimi (`$totalDedicatedNodes`) hello geçerli düğümlerin hedef sayısını ayrılmış, ancak yalnızca 110 yüzdesi ise bir değer ile en düşük ortalama CPU kullanımını hello Son 10 dakika sırasında Hello yüzde 70'idi.</span><span class="sxs-lookup"><span data-stu-id="ae77b-496">tooincrease hello number of nodes during high CPU usage, define hello statement that populates a user-defined variable (`$totalDedicatedNodes`) with a value that is 110 percent of hello current target number of dedicated nodes, but only if hello minimum average CPU usage during hello last 10 minutes was above 70 percent.</span></span> <span data-ttu-id="ae77b-497">Aksi takdirde hello değeri hello geçerli ayrılmış düğüm sayısı için kullanın.</span><span class="sxs-lookup"><span data-stu-id="ae77b-497">Otherwise, use hello value for hello current number of dedicated nodes.</span></span>

```
$totalDedicatedNodes =
    (min($CPUPercent.GetSample(TimeInterval_Minute * 10)) > 0.7) ?
    ($CurrentDedicatedNodes * 1.1) : $CurrentDedicatedNodes;
```

<span data-ttu-id="ae77b-498">çok*azaltmak* ayrılmış düğüm sayısını düşük CPU kullanımı sırasında Merhaba, bizim formül kümeleri hello sonraki deyiminde aynı hello `$totalDedicatedNodes` hello geçerli düğümlerin hedef sayısını ayrılmış Merhaba, değişken too90 yüzdesi ortalama CPU kullanımı Hello son 60 dakika altında yüzde 20 oluştu.</span><span class="sxs-lookup"><span data-stu-id="ae77b-498">too*decrease* hello number of dedicated nodes during low CPU usage, hello next statement in our formula sets hello same `$totalDedicatedNodes` variable too90 percent of hello current target number of dedicated nodes if hello average CPU usage in hello past 60 minutes was under 20 percent.</span></span> <span data-ttu-id="ae77b-499">Aksi takdirde hello geçerli değerini kullanın `$totalDedicatedNodes` biz yukarıdaki hello ifade doldurulmuş.</span><span class="sxs-lookup"><span data-stu-id="ae77b-499">Otherwise, use hello current value of `$totalDedicatedNodes` that we populated in hello statement above.</span></span>

```
$totalDedicatedNodes =
    (avg($CPUPercent.GetSample(TimeInterval_Minute * 60)) < 0.2) ?
    ($CurrentDedicatedNodes * 0.9) : $totalDedicatedNodes;
```

<span data-ttu-id="ae77b-500">Şimdi adanmış bir işlem düğümleri tooa en fazla 400 hello hedef sayısı sınırı:</span><span class="sxs-lookup"><span data-stu-id="ae77b-500">Now limit hello target number of dedicated compute nodes tooa maximum of 400:</span></span>

```
$TargetDedicatedNodes = min(400, $totalDedicatedNodes)
```

<span data-ttu-id="ae77b-501">Merhaba tam formülü şöyledir:</span><span class="sxs-lookup"><span data-stu-id="ae77b-501">Here's hello complete formula:</span></span>

```
$totalDedicatedNodes =
    (min($CPUPercent.GetSample(TimeInterval_Minute * 10)) > 0.7) ?
    ($CurrentDedicatedNodes * 1.1) : $CurrentDedicatedNodes;
$totalDedicatedNodes =
    (avg($CPUPercent.GetSample(TimeInterval_Minute * 60)) < 0.2) ?
    ($CurrentDedicatedNodes * 0.9) : $totalDedicatedNodes;
$TargetDedicatedNodes = min(400, $totalDedicatedNodes)
```

## <a name="create-an-autoscale-enabled-pool-with-net"></a><span data-ttu-id="ae77b-502">.NET ile birlikte otomatik ölçeklendirme özellikli bir havuz oluşturma</span><span class="sxs-lookup"><span data-stu-id="ae77b-502">Create an autoscale-enabled pool with .NET</span></span>

<span data-ttu-id="ae77b-503">toocreate .NET içinde etkin otomatik ölçeklendirmeyi havuzuyla şu adımları izleyin:</span><span class="sxs-lookup"><span data-stu-id="ae77b-503">toocreate a pool with autoscaling enabled in .NET, follow these steps:</span></span>

1. <span data-ttu-id="ae77b-504">Merhaba havuzuyla oluşturma [BatchClient.PoolOperations.CreatePool](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.createpool).</span><span class="sxs-lookup"><span data-stu-id="ae77b-504">Create hello pool with [BatchClient.PoolOperations.CreatePool](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.createpool).</span></span>
2. <span data-ttu-id="ae77b-505">Set hello [CloudPool.AutoScaleEnabled](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleenabled) özelliği çok`true`.</span><span class="sxs-lookup"><span data-stu-id="ae77b-505">Set hello [CloudPool.AutoScaleEnabled](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleenabled) property too`true`.</span></span>
3. <span data-ttu-id="ae77b-506">Set hello [CloudPool.AutoScaleFormula](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleformula) otomatik ölçeklendirme formülü özelliğiyle.</span><span class="sxs-lookup"><span data-stu-id="ae77b-506">Set hello [CloudPool.AutoScaleFormula](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleformula) property with your autoscale formula.</span></span>
4. <span data-ttu-id="ae77b-507">(İsteğe bağlı) Set hello [CloudPool.AutoScaleEvaluationInterval](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleevaluationinterval) özelliği (varsayılan değer 15 dakika).</span><span class="sxs-lookup"><span data-stu-id="ae77b-507">(Optional) Set hello [CloudPool.AutoScaleEvaluationInterval](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleevaluationinterval) property (default is 15 minutes).</span></span>
5. <span data-ttu-id="ae77b-508">Merhaba havuzuyla yürütme [CloudPool.Commit](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.commit) veya [CommitAsync](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.commitasync).</span><span class="sxs-lookup"><span data-stu-id="ae77b-508">Commit hello pool with [CloudPool.Commit](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.commit) or [CommitAsync](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.commitasync).</span></span>

<span data-ttu-id="ae77b-509">Merhaba aşağıdaki kod parçacığını bir otomatik ölçeklendirme özellikli havuzu .NET içinde oluşturur.</span><span class="sxs-lookup"><span data-stu-id="ae77b-509">hello following code snippet creates an autoscale-enabled pool in .NET.</span></span> <span data-ttu-id="ae77b-510">Hello havuzun otomatik ölçeklendirme formülü ayrılmış düğümleri too5 Pazartesi günleri ve her bir hello haftanın gününü 1 hello hedef sayısını ayarlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-510">hello pool's autoscale formula sets hello target number of dedicated nodes too5 on Mondays, and 1 on every other day of hello week.</span></span> <span data-ttu-id="ae77b-511">Merhaba [otomatik ölçeklendirme aralığı](#automatic-scaling-interval) olan too30 dakika ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="ae77b-511">hello [automatic scaling interval](#automatic-scaling-interval) is set too30 minutes.</span></span> <span data-ttu-id="ae77b-512">Bu ve diğer C# kod parçacıkları bu makalede, hello `myBatchClient` hello düzgün başlatılmadı örneğidir [BatchClient] [ net_batchclient] sınıfı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-512">In this and hello other C# snippets in this article, `myBatchClient` is a properly initialized instance of hello [BatchClient][net_batchclient] class.</span></span>

```csharp
CloudPool pool = myBatchClient.PoolOperations.CreatePool(
                    poolId: "mypool",
                    virtualMachineSize: "small", // single-core, 1.75 GB memory, 225 GB disk
                    cloudServiceConfiguration: new CloudServiceConfiguration(osFamily: "5"));    
pool.AutoScaleEnabled = true;
pool.AutoScaleFormula = "$TargetDedicatedNodes = (time().weekday == 1 ? 5:1);";
pool.AutoScaleEvaluationInterval = TimeSpan.FromMinutes(30);
await pool.CommitAsync();
```

> [!IMPORTANT]
> <span data-ttu-id="ae77b-513">Otomatik ölçeklendirme özellikli bir havuz oluşturduğunuzda, hello belirtmeyin _targetDedicatedComputeNodes_ parametresi veya hello _targetLowPriorityComputeNodes_ hello parametresini çağrı çok **CreatePool**.</span><span class="sxs-lookup"><span data-stu-id="ae77b-513">When you create an autoscale-enabled pool, do not specify hello _targetDedicatedComputeNodes_ parameter or hello _targetLowPriorityComputeNodes_ parameter on hello call too**CreatePool**.</span></span> <span data-ttu-id="ae77b-514">Bunun yerine, hello belirtin **AutoScaleEnabled** ve **AutoScaleFormula** hello havuzu özellikleri.</span><span class="sxs-lookup"><span data-stu-id="ae77b-514">Instead, specify hello **AutoScaleEnabled** and **AutoScaleFormula** properties on hello pool.</span></span> <span data-ttu-id="ae77b-515">Bu özelliklerin değerlerini Hello hello hedef her düğüm türünün sayısını belirler.</span><span class="sxs-lookup"><span data-stu-id="ae77b-515">hello values for these properties determine hello target number of each type of node.</span></span> <span data-ttu-id="ae77b-516">Toomanually otomatik ölçeklendirme özellikli bir havuz Ayrıca, yeniden boyutlandırma (örneğin, [BatchClient.PoolOperations.ResizePoolAsync][net_poolops_resizepoolasync]), ilk **devre dışı** üzerinde otomatik ölçeklendirme Havuz Merhaba, sonra yeniden boyutlandırın.</span><span class="sxs-lookup"><span data-stu-id="ae77b-516">Also, toomanually resize an autoscale-enabled pool (for example, with [BatchClient.PoolOperations.ResizePoolAsync][net_poolops_resizepoolasync]), first **disable** automatic scaling on hello pool, then resize it.</span></span>
>
>

<span data-ttu-id="ae77b-517">Ayrıca tooBatch .NET hello başka birini kullanabilirsiniz [Batch SDK'ları](batch-apis-tools.md#azure-accounts-for-batch-development), [Batch REST](https://docs.microsoft.com/rest/api/batchservice/), [Batch PowerShell cmdlet'leri](batch-powershell-cmdlets-get-started.md)ve hello [toplu CLI](batch-cli-get-started.md)tooconfigure otomatik ölçeklendirmeyi.</span><span class="sxs-lookup"><span data-stu-id="ae77b-517">In addition tooBatch .NET, you can use any of hello other [Batch SDKs](batch-apis-tools.md#azure-accounts-for-batch-development), [Batch REST](https://docs.microsoft.com/rest/api/batchservice/), [Batch PowerShell cmdlets](batch-powershell-cmdlets-get-started.md), and hello [Batch CLI](batch-cli-get-started.md) tooconfigure autoscaling.</span></span>


### <a name="automatic-scaling-interval"></a><span data-ttu-id="ae77b-518">Otomatik ölçeklendirme aralığı</span><span class="sxs-lookup"><span data-stu-id="ae77b-518">Automatic scaling interval</span></span>
<span data-ttu-id="ae77b-519">Varsayılan olarak, hello Batch hizmeti bir havuzun boyutu tooits 15 dakikada bir otomatik ölçeklendirme formülü göre ayarlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-519">By default, hello Batch service adjusts a pool's size according tooits autoscale formula every 15 minutes.</span></span> <span data-ttu-id="ae77b-520">Aşağıdaki havuzu özelliklere hello kullanarak bu aralığı yapılandırılabilir:</span><span class="sxs-lookup"><span data-stu-id="ae77b-520">This interval is configurable by using hello following pool properties:</span></span>

* <span data-ttu-id="ae77b-521">[CloudPool.AutoScaleEvaluationInterval] [ net_cloudpool_autoscaleevalinterval] (Batch .NET)</span><span class="sxs-lookup"><span data-stu-id="ae77b-521">[CloudPool.AutoScaleEvaluationInterval][net_cloudpool_autoscaleevalinterval] (Batch .NET)</span></span>
* <span data-ttu-id="ae77b-522">[autoScaleEvaluationInterval] [ rest_autoscaleinterval] (REST API'si)</span><span class="sxs-lookup"><span data-stu-id="ae77b-522">[autoScaleEvaluationInterval][rest_autoscaleinterval] (REST API)</span></span>

<span data-ttu-id="ae77b-523">Hello minimum aralık beş dakikadır ve en fazla hello 168 saattir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-523">hello minimum interval is five minutes, and hello maximum is 168 hours.</span></span> <span data-ttu-id="ae77b-524">Bu aralığın dışında kalan bir aralık belirtilirse, hello Batch hizmeti hatalı istek (400) bir hata döndürür.</span><span class="sxs-lookup"><span data-stu-id="ae77b-524">If an interval outside this range is specified, hello Batch service returns a Bad Request (400) error.</span></span>

> [!NOTE]
> <span data-ttu-id="ae77b-525">Otomatik ölçeklendirmeyi şu anda hedeflenen toorespond toochanges değerinden bir dakika içinde değil, ancak yerine olduğu hedeflenen tooadjust hello boyutu havuzunuzun kademeli olarak bir iş yükünü çalıştırmak gibi.</span><span class="sxs-lookup"><span data-stu-id="ae77b-525">Autoscaling is not currently intended toorespond toochanges in less than a minute, but rather is intended tooadjust hello size of your pool gradually as you run a workload.</span></span>
>
>

## <a name="enable-autoscaling-on-an-existing-pool"></a><span data-ttu-id="ae77b-526">Var olan bir havuzu üzerinde otomatik ölçeklendirmeyi etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="ae77b-526">Enable autoscaling on an existing pool</span></span>

<span data-ttu-id="ae77b-527">Her Batch SDK'sı bir şekilde tooenable otomatik ölçeklendirmeyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-527">Each Batch SDK provides a way tooenable autoscaling.</span></span> <span data-ttu-id="ae77b-528">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="ae77b-528">For example:</span></span>

* <span data-ttu-id="ae77b-529">[BatchClient.PoolOperations.EnableAutoScaleAsync] [ net_enableautoscaleasync] (Batch .NET)</span><span class="sxs-lookup"><span data-stu-id="ae77b-529">[BatchClient.PoolOperations.EnableAutoScaleAsync][net_enableautoscaleasync] (Batch .NET)</span></span>
* <span data-ttu-id="ae77b-530">[Otomatik bir havuz üzerinde ölçeklendirmeyi etkinleştirmek] [ rest_enableautoscale] (REST API'si)</span><span class="sxs-lookup"><span data-stu-id="ae77b-530">[Enable automatic scaling on a pool][rest_enableautoscale] (REST API)</span></span>

<span data-ttu-id="ae77b-531">Var olan bir havuzu üzerinde otomatik ölçeklendirmeyi etkinleştirdiğinizde, aşağıdaki noktaları göz önünde hello tutun:</span><span class="sxs-lookup"><span data-stu-id="ae77b-531">When you enable autoscaling on an existing pool, keep in mind hello following points:</span></span>

* <span data-ttu-id="ae77b-532">Merhaba isteği tooenable otomatik ölçeklendirmeyi kesilirken otomatik ölçeklendirmeyi şu anda hello havuzunda devre dışıysa, hello isteği gönderdiğinizde, geçerli otomatik ölçeklendirme formülü belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-532">If automatic scaling is currently disabled on hello pool when you issue hello request tooenable autoscaling, you must specify a valid autoscale formula when you issue hello request.</span></span> <span data-ttu-id="ae77b-533">İsteğe bağlı olarak, otomatik ölçeklendirme deneme aralığı belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-533">You can optionally specify an autoscale evaluation interval.</span></span> <span data-ttu-id="ae77b-534">Bir aralık belirtmezseniz hello varsayılan değer 15 dakika kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-534">If you do not specify an interval, hello default value of 15 minutes is used.</span></span>
* <span data-ttu-id="ae77b-535">Otomatik ölçeklendirme hello havuzunda etkinse, otomatik ölçeklendirme formülü, bir deneme aralığı ya da her ikisini de belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-535">If autoscale is currently enabled on hello pool, you can specify an autoscale formula, an evaluation interval, or both.</span></span> <span data-ttu-id="ae77b-536">Bu özelliklerden en az birini belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-536">You must specify at least one of these properties.</span></span>

  * <span data-ttu-id="ae77b-537">Yeni bir otomatik ölçeklendirme değerlendirme aralığı belirtirseniz, hello varolan değerlendirme zamanlamasını durdurulur ve yeni bir zamanlama başlatılır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-537">If you specify a new autoscale evaluation interval, then hello existing evaluation schedule is stopped and a new schedule is started.</span></span> <span data-ttu-id="ae77b-538">Merhaba yeni zamanlamanın başlangıç zamanı hangi hello isteği tooenable otomatik ölçeklendirmeyi verilmiş hello saattir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-538">hello new schedule's start time is hello time at which hello request tooenable autoscaling was issued.</span></span>
  * <span data-ttu-id="ae77b-539">Her iki hello otomatik ölçeklendirme formülü veya değerlendirme aralığını atlarsanız, hello Batch hizmeti toouse hello geçerli değeri bu ayarı devam eder.</span><span class="sxs-lookup"><span data-stu-id="ae77b-539">If you omit either hello autoscale formula or evaluation interval, hello Batch service continues toouse hello current value of that setting.</span></span>

> [!NOTE]
> <span data-ttu-id="ae77b-540">Merhaba değerlerini belirtilmişse *targetDedicatedComputeNodes* veya *targetLowPriorityComputeNodes* hello parametrelerinin **CreatePool** hello oluşturduğunuzda yöntemi otomatik ölçeklendirme formülü hello değerlendirildiğinde havuzu .NET veya başka bir dilde daha sonra bu değerler karşılaştırılabilir parametrelerinde hello yoksayılır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-540">If you specified values for hello *targetDedicatedComputeNodes* or *targetLowPriorityComputeNodes* parameters of hello **CreatePool** method when you created hello pool in .NET, or for hello comparable parameters in another language, then those values are ignored when hello automatic scaling formula is evaluated.</span></span>
>
>

<span data-ttu-id="ae77b-541">Bu C# kod parçacığını hello kullanan [Batch .NET] [ net_api] kitaplığı tooenable otomatik ölçeklendirmeyi var olan bir havuzu üzerinde:</span><span class="sxs-lookup"><span data-stu-id="ae77b-541">This C# code snippet uses hello [Batch .NET][net_api] library tooenable autoscaling on an existing pool:</span></span>

```csharp
// Define hello autoscaling formula. This formula sets hello target number of nodes
// too5 on Mondays, and 1 on every other day of hello week
string myAutoScaleFormula = "$TargetDedicatedNodes = (time().weekday == 1 ? 5:1);";

// Set hello autoscale formula on hello existing pool
await myBatchClient.PoolOperations.EnableAutoScaleAsync(
    "myexistingpool",
    autoscaleFormula: myAutoScaleFormula);
```

### <a name="update-an-autoscale-formula"></a><span data-ttu-id="ae77b-542">Otomatik ölçeklendirme formülü güncelleştir</span><span class="sxs-lookup"><span data-stu-id="ae77b-542">Update an autoscale formula</span></span>

<span data-ttu-id="ae77b-543">Mevcut bir otomatik ölçeklendirme özellikli havuz hello yeni formül'yla yeniden çağrı hello işlemi tooenable otomatik ölçeklendirmeyi tooupdate hello formül.</span><span class="sxs-lookup"><span data-stu-id="ae77b-543">tooupdate hello formula on an existing autoscale-enabled pool, call hello operation tooenable autoscaling again with hello new formula.</span></span> <span data-ttu-id="ae77b-544">Örneğin, otomatik ölçeklendirmeyi zaten etkinleştirilmişse `myexistingpool` .NET koddan hello yürütüldüğünde, otomatik ölçeklendirme formülü hello içeriğiyle değiştirilir `myNewFormula`.</span><span class="sxs-lookup"><span data-stu-id="ae77b-544">For example, if autoscaling is already enabled on `myexistingpool` when hello following .NET code is executed, its autoscale formula is replaced with hello contents of `myNewFormula`.</span></span>

```csharp
await myBatchClient.PoolOperations.EnableAutoScaleAsync(
    "myexistingpool",
    autoscaleFormula: myNewFormula);
```

### <a name="update-hello-autoscale-interval"></a><span data-ttu-id="ae77b-545">Güncelleştirme hello otomatik ölçeklendirme aralığı</span><span class="sxs-lookup"><span data-stu-id="ae77b-545">Update hello autoscale interval</span></span>

<span data-ttu-id="ae77b-546">tooupdate hello otomatik ölçeklendirme değerlendirme aralığı mevcut bir otomatik ölçeklendirme özellikli havuz başlangıç yeni aralığı'yla yeniden çağrı hello işlemi tooenable otomatik ölçeklendirmeyi.</span><span class="sxs-lookup"><span data-stu-id="ae77b-546">tooupdate hello autoscale evaluation interval of an existing autoscale-enabled pool, call hello operation tooenable autoscaling again with hello new interval.</span></span> <span data-ttu-id="ae77b-547">Örneğin, tooset hello otomatik ölçeklendirme değerlendirme aralığı too60 dakika otomatik ölçeklendirme özellikli .NET içinde zaten bir havuz için:</span><span class="sxs-lookup"><span data-stu-id="ae77b-547">For example, tooset hello autoscale evaluation interval too60 minutes for a pool that's already autoscale-enabled in .NET:</span></span>

```csharp
await myBatchClient.PoolOperations.EnableAutoScaleAsync(
    "myexistingpool",
    autoscaleEvaluationInterval: TimeSpan.FromMinutes(60));
```

## <a name="evaluate-an-autoscale-formula"></a><span data-ttu-id="ae77b-548">Otomatik ölçeklendirme Formülü Değerlendir</span><span class="sxs-lookup"><span data-stu-id="ae77b-548">Evaluate an autoscale formula</span></span>

<span data-ttu-id="ae77b-549">Bir formülü tooa havuzu uygulamadan önce değerlendirebilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-549">You can evaluate a formula before applying it tooa pool.</span></span> <span data-ttu-id="ae77b-550">Bu şekilde, hello formülü üretime koymadan önce deyimleri nasıl değerlendirmek hello formül toosee test edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-550">In this way, you can test hello formula toosee how its statements evaluate before you put hello formula into production.</span></span>

<span data-ttu-id="ae77b-551">otomatik ölçeklendirme formülü tooevaluate, önce geçerli bir formül ile Merhaba havuzunda otomatik ölçeklendirmeyi etkinleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-551">tooevaluate an autoscale formula, you must first enable autoscaling on hello pool with a valid formula.</span></span> <span data-ttu-id="ae77b-552">tootest bir formül otomatik ölçeklendirmeyi henüz yok havuzunda etkin, kullanım hello tek satır formülü `$TargetDedicatedNodes = 0` ilk etkinleştirdiğinizde otomatik ölçeklendirmeyi.</span><span class="sxs-lookup"><span data-stu-id="ae77b-552">tootest a formula on a pool that doesn't yet have autoscaling enabled, use hello one-line formula `$TargetDedicatedNodes = 0` when you first enable autoscaling.</span></span> <span data-ttu-id="ae77b-553">Ardından, tootest istediğiniz tooevaluate hello formülü aşağıdaki hello birini kullanın:</span><span class="sxs-lookup"><span data-stu-id="ae77b-553">Then, use one of hello following tooevaluate hello formula you want tootest:</span></span>

* <span data-ttu-id="ae77b-554">[BatchClient.PoolOperations.EvaluateAutoScale](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.evaluateautoscale) veya [EvaluateAutoScaleAsync](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.evaluateautoscaleasync)</span><span class="sxs-lookup"><span data-stu-id="ae77b-554">[BatchClient.PoolOperations.EvaluateAutoScale](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.evaluateautoscale) or [EvaluateAutoScaleAsync](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.evaluateautoscaleasync)</span></span>

    <span data-ttu-id="ae77b-555">Bu Batch .NET yöntemleri hello kimliği var olan bir havuzu ve hello otomatik ölçeklendirme formülü tooevaluate içeren bir dize gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-555">These Batch .NET methods require hello ID of an existing pool and a string containing hello autoscale formula tooevaluate.</span></span>

* [<span data-ttu-id="ae77b-556">Otomatik ölçeklendirme Formülü Değerlendir</span><span class="sxs-lookup"><span data-stu-id="ae77b-556">Evaluate an automatic scaling formula</span></span>](https://docs.microsoft.com/rest/api/batchservice/evaluate-an-automatic-scaling-formula)

    <span data-ttu-id="ae77b-557">Bu REST API isteği hello URI hello Havuz kimliği belirtin ve hello hello otomatik ölçeklendirme formülü *autoScaleFormula* hello istek gövdesi öğesidir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-557">In this REST API request, specify hello pool ID in hello URI, and hello autoscale formula in hello *autoScaleFormula* element of hello request body.</span></span> <span data-ttu-id="ae77b-558">Merhaba yanıt hello işleminin ilgili toohello formülü olabilecek hata bilgilerini içerir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-558">hello response of hello operation contains any error information that might be related toohello formula.</span></span>

<span data-ttu-id="ae77b-559">Bu [Batch .NET] [ net_api] kod parçacığında, biz otomatik ölçeklendirme formülü değerlendirin.</span><span class="sxs-lookup"><span data-stu-id="ae77b-559">In this [Batch .NET][net_api] code snippet, we evaluate an autoscale formula.</span></span> <span data-ttu-id="ae77b-560">Merhaba havuzu etkin otomatik ölçeklendirmeyi yoksa, biz öncelikle etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="ae77b-560">If hello pool does not have autoscaling enabled, we enable it first.</span></span>

```csharp
// First obtain a reference tooan existing pool
CloudPool pool = await batchClient.PoolOperations.GetPoolAsync("myExistingPool");

// If autoscaling isn't already enabled on hello pool, enable it.
// You can't evaluate an autoscale formula on non-autoscale-enabled pool.
if (pool.AutoScaleEnabled == false)
{
    // We need a valid autoscale formula tooenable autoscaling on the
    // pool. This formula is valid, but won't resize hello pool:
    await pool.EnableAutoScaleAsync(
        autoscaleFormula: "$TargetDedicatedNodes = {pool.CurrentDedicatedNodes};",
        autoscaleEvaluationInterval: TimeSpan.FromMinutes(5));

    // Batch limits EnableAutoScaleAsync calls tooonce every 30 seconds.
    // Because we want tooapply our new autoscale formula below if it
    // evaluates successfully, and we *just* enabled autoscaling on
    // this pool, we pause here tooensure we pass that threshold.
    Thread.Sleep(TimeSpan.FromSeconds(31));

    // Refresh hello properties of hello pool so that we've got the
    // latest value for AutoScaleEnabled
    await pool.RefreshAsync();
}

// We must ensure that autoscaling is enabled on hello pool prior to
// evaluating a formula
if (pool.AutoScaleEnabled == true)
{
    // hello formula tooevaluate - adjusts target number of nodes based on
    // day of week and time of day
    string myFormula = @"
        $curTime = time();
        $workHours = $curTime.hour >= 8 && $curTime.hour < 18;
        $isWeekday = $curTime.weekday >= 1 && $curTime.weekday <= 5;
        $isWorkingWeekdayHour = $workHours && $isWeekday;
        $TargetDedicatedNodes = $isWorkingWeekdayHour ? 20:10;
    ";

    // Perform hello autoscale formula evaluation. Note that this code does not
    // actually apply hello formula toohello pool.
    AutoScaleRun eval =
        await batchClient.PoolOperations.EvaluateAutoScaleAsync(pool.Id, myFormula);

    if (eval.Error == null)
    {
        // Evaluation success - print hello results of hello AutoScaleRun.
        // This will display hello values of each variable as evaluated by the
        // autoscale formula.
        Console.WriteLine("AutoScaleRun.Results: " +
            eval.Results.Replace("$", "\n    $"));

        // Apply hello formula toohello pool since it evaluated successfully
        await batchClient.PoolOperations.EnableAutoScaleAsync(pool.Id, myFormula);
    }
    else
    {
        // Evaluation failed, output hello message associated with hello error
        Console.WriteLine("AutoScaleRun.Error.Message: " +
            eval.Error.Message);
    }
}
```

<span data-ttu-id="ae77b-561">Bu kod parçacığında gösterildiği hello formülü başarılı değerlendirmesi için benzer sonuçlar üretir:</span><span class="sxs-lookup"><span data-stu-id="ae77b-561">Successful evaluation of hello formula shown in this code snippet produces results similar to:</span></span>

```
AutoScaleRun.Results:
    $TargetDedicatedNodes=10;
    $NodeDeallocationOption=requeue;
    $curTime=2016-10-13T19:18:47.805Z;
    $isWeekday=1;
    $isWorkingWeekdayHour=0;
    $workHours=0
```

## <a name="get-information-about-autoscale-runs"></a><span data-ttu-id="ae77b-562">Otomatik ölçeklendirme çalışmaları hakkında bilgi edinin</span><span class="sxs-lookup"><span data-stu-id="ae77b-562">Get information about autoscale runs</span></span>

<span data-ttu-id="ae77b-563">Formül olarak gerçekleştirme tooensure düzenli aralıklarla toplu havuzunuzun üzerinde gerçekleştirir hello otomatik ölçeklendirmeyi çalıştırır hello sonuçlarını denetlemenizi öneririz bekleniyordu.</span><span class="sxs-lookup"><span data-stu-id="ae77b-563">tooensure that your formula is performing as expected, we recommend that you periodically check hello results of hello autoscaling runs that Batch performs on your pool.</span></span> <span data-ttu-id="ae77b-564">toodo bu nedenle, Al (veya yenileme) bir başvuru toohello havuzu ve hello çalıştırmak, son otomatik ölçeklendirme özelliklerini inceleyin.</span><span class="sxs-lookup"><span data-stu-id="ae77b-564">toodo so, get (or refresh) a reference toohello pool, and examine hello properties of its last autoscale run.</span></span>

<span data-ttu-id="ae77b-565">Batch .NET içinde hello [CloudPool.AutoScaleRun](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscalerun) özelliği hello son otomatik hello havuzu üzerinde gerçekleştirilen çalışır ölçeklendirme hakkında bilgi sağlayan çeşitli özellikler vardır:</span><span class="sxs-lookup"><span data-stu-id="ae77b-565">In Batch .NET, hello [CloudPool.AutoScaleRun](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscalerun) property has several properties that provide information about hello latest automatic scaling run performed on hello pool:</span></span>

* [<span data-ttu-id="ae77b-566">AutoScaleRun.Timestamp</span><span class="sxs-lookup"><span data-stu-id="ae77b-566">AutoScaleRun.Timestamp</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.autoscalerun.timestamp)
* [<span data-ttu-id="ae77b-567">AutoScaleRun.Results</span><span class="sxs-lookup"><span data-stu-id="ae77b-567">AutoScaleRun.Results</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.autoscalerun.results)
* [<span data-ttu-id="ae77b-568">AutoScaleRun.Error</span><span class="sxs-lookup"><span data-stu-id="ae77b-568">AutoScaleRun.Error</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.autoscalerun.error)

<span data-ttu-id="ae77b-569">Hello REST API, hello [bir havuzu hakkında bilgi alma](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-pool) isteği hello son otomatik hello çalıştırın ölçeklendirme içerir hello havuzu hakkındaki bilgileri döndürür [autoScaleRun](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-pool#bk_autrun) özelliği.</span><span class="sxs-lookup"><span data-stu-id="ae77b-569">In hello REST API, hello [Get information about a pool](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-pool) request returns information about hello pool, which includes hello latest automatic scaling run information in hello [autoScaleRun](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-pool#bk_autrun) property.</span></span>

<span data-ttu-id="ae77b-570">Merhaba aşağıdaki C# kod parçacığını kullanan hello Batch .NET kitaplığı tooprint havuzu üzerinde çalışır hello son otomatik ölçeklendirmeyi bilgilerini _myPool_:</span><span class="sxs-lookup"><span data-stu-id="ae77b-570">hello following C# code snippet uses hello Batch .NET library tooprint information about hello last autoscaling run on pool _myPool_:</span></span>

```csharp
await Cloud pool = myBatchClient.PoolOperations.GetPoolAsync("myPool");
Console.WriteLine("Last execution: " + pool.AutoScaleRun.Timestamp);
Console.WriteLine("Result:" + pool.AutoScaleRun.Results.Replace("$", "\n  $"));
Console.WriteLine("Error: " + pool.AutoScaleRun.Error);
```

<span data-ttu-id="ae77b-571">Önceki kod parçacığında hello örnek çıktı:</span><span class="sxs-lookup"><span data-stu-id="ae77b-571">Sample output of hello preceding snippet:</span></span>

```
Last execution: 10/14/2016 18:36:43
Result:
  $TargetDedicatedNodes=10;
  $NodeDeallocationOption=requeue;
  $curTime=2016-10-14T18:36:43.282Z;
  $isWeekday=1;
  $isWorkingWeekdayHour=0;
  $workHours=0
Error:
```

## <a name="example-autoscale-formulas"></a><span data-ttu-id="ae77b-572">Örnek otomatik ölçeklendirme formüller</span><span class="sxs-lookup"><span data-stu-id="ae77b-572">Example autoscale formulas</span></span>
<span data-ttu-id="ae77b-573">Bir havuzda işlem kaynakları, farklı şekillerde tooadjust hello miktarını gösteren birkaç formüller bakalım.</span><span class="sxs-lookup"><span data-stu-id="ae77b-573">Let's look at a few formulas that show different ways tooadjust hello amount of compute resources in a pool.</span></span>

### <a name="example-1-time-based-adjustment"></a><span data-ttu-id="ae77b-574">Örnek 1: Zamana dayalı ayarlama</span><span class="sxs-lookup"><span data-stu-id="ae77b-574">Example 1: Time-based adjustment</span></span>
<span data-ttu-id="ae77b-575">Merhaba hello haftanın gününü ve günün saatini göre tooadjust hello havuz boyutu istediğinizi varsayalım.</span><span class="sxs-lookup"><span data-stu-id="ae77b-575">Suppose you want tooadjust hello pool size based on hello day of hello week and time of day.</span></span> <span data-ttu-id="ae77b-576">Bu örnek nasıl hello düğümlerin azaltın veya tooincrease hello sayısı buna göre havuz gösterir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-576">This example shows how tooincrease or decrease hello number of nodes in hello pool accordingly.</span></span>

<span data-ttu-id="ae77b-577">Merhaba formülü hello önce geçerli saati alır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-577">hello formula first obtains hello current time.</span></span> <span data-ttu-id="ae77b-578">Haftanın günü (1-5) ise ve çalışma saatleri içinde (too6 8: 00 PM), hello hedef havuz boyutu, too20 düğümleri ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-578">If it's a weekday (1-5) and within working hours (8 AM too6 PM), hello target pool size is set too20 nodes.</span></span> <span data-ttu-id="ae77b-579">Aksi takdirde too10 düğümleri ayarladı.</span><span class="sxs-lookup"><span data-stu-id="ae77b-579">Otherwise, it's set too10 nodes.</span></span>

```
$curTime = time();
$workHours = $curTime.hour >= 8 && $curTime.hour < 18;
$isWeekday = $curTime.weekday >= 1 && $curTime.weekday <= 5;
$isWorkingWeekdayHour = $workHours && $isWeekday;
$TargetDedicatedNodes = $isWorkingWeekdayHour ? 20:10;
```

### <a name="example-2-task-based-adjustment"></a><span data-ttu-id="ae77b-580">Örnek 2: Görev tabanlı ayarlama</span><span class="sxs-lookup"><span data-stu-id="ae77b-580">Example 2: Task-based adjustment</span></span>
<span data-ttu-id="ae77b-581">Bu örnekte, hello havuz boyutu hello sırasındaki görevleri hello sayısına göre ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-581">In this example, hello pool size is adjusted based on hello number of tasks in hello queue.</span></span> <span data-ttu-id="ae77b-582">Hem açıklamaları hem de satır sonu formül dizelerde kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-582">Both comments and line breaks are acceptable in formula strings.</span></span>

```csharp
// Get pending tasks for hello past 15 minutes.
$samples = $ActiveTasks.GetSamplePercent(TimeInterval_Minute * 15);
// If we have fewer than 70 percent data points, we use hello last sample point,
// otherwise we use hello maximum of last sample point and hello history average.
$tasks = $samples < 70 ? max(0,$ActiveTasks.GetSample(1)) : max( $ActiveTasks.GetSample(1), avg($ActiveTasks.GetSample(TimeInterval_Minute * 15)));
// If number of pending tasks is not 0, set targetVM toopending tasks, otherwise
// half of current dedicated.
$targetVMs = $tasks > 0? $tasks:max(0, $TargetDedicatedNodes/2);
// hello pool size is capped at 20, if target VM value is more than that, set it
// too20. This value should be adjusted according tooyour use case.
$TargetDedicatedNodes = max(0, min($targetVMs, 20));
// Set node deallocation mode - keep nodes active only until tasks finish
$NodeDeallocationOption = taskcompletion;
```

### <a name="example-3-accounting-for-parallel-tasks"></a><span data-ttu-id="ae77b-583">Örnek 3: Paralel Görevler için hesap oluşturma</span><span class="sxs-lookup"><span data-stu-id="ae77b-583">Example 3: Accounting for parallel tasks</span></span>
<span data-ttu-id="ae77b-584">Bu örnek hello havuz boyutu hello görevleri sayısına göre ayarlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-584">This example adjusts hello pool size based on hello number of tasks.</span></span> <span data-ttu-id="ae77b-585">Bu formülü ayrıca hesap hello alır [MaxTasksPerComputeNode] [ net_maxtasks] hello havuzu için ayarlanan değeri.</span><span class="sxs-lookup"><span data-stu-id="ae77b-585">This formula also takes into account hello [MaxTasksPerComputeNode][net_maxtasks] value that has been set for hello pool.</span></span> <span data-ttu-id="ae77b-586">Bu yaklaşım durumlarda faydalıdır nerede [paralel görev yürütme](batch-parallel-node-tasks.md) havuzunuzun üzerinde etkin.</span><span class="sxs-lookup"><span data-stu-id="ae77b-586">This approach is useful in situations where [parallel task execution](batch-parallel-node-tasks.md) has been enabled on your pool.</span></span>

```csharp
// Determine whether 70 percent of hello samples have been recorded in hello past
// 15 minutes; if not, use last sample
$samples = $ActiveTasks.GetSamplePercent(TimeInterval_Minute * 15);
$tasks = $samples < 70 ? max(0,$ActiveTasks.GetSample(1)) : max( $ActiveTasks.GetSample(1),avg($ActiveTasks.GetSample(TimeInterval_Minute * 15)));
// Set hello number of nodes tooadd tooone-fourth hello number of active tasks (the
// MaxTasksPerComputeNode property on this pool is set too4, adjust this number
// for your use case)
$cores = $TargetDedicatedNodes * 4;
$extraVMs = (($tasks - $cores) + 3) / 4;
$targetVMs = ($TargetDedicatedNodes + $extraVMs);
// Attempt toogrow hello number of compute nodes toomatch hello number of active
// tasks, with a maximum of 3
$TargetDedicatedNodes = max(0,min($targetVMs,3));
// Keep hello nodes active until hello tasks finish
$NodeDeallocationOption = taskcompletion;
```

### <a name="example-4-setting-an-initial-pool-size"></a><span data-ttu-id="ae77b-587">Örnek 4: ilk havuz boyutu ayarlama</span><span class="sxs-lookup"><span data-stu-id="ae77b-587">Example 4: Setting an initial pool size</span></span>
<span data-ttu-id="ae77b-588">C# kod parçacığını ayarlar bir otomatik ölçeklendirme formülü olan gösterir havuz boyutu tooa hello Bu örnek ilk bir süre için düğüm sayısı belirtildi.</span><span class="sxs-lookup"><span data-stu-id="ae77b-588">This example shows a C# code snippet with an autoscale formula that sets hello pool size tooa specified number of nodes for an initial time period.</span></span> <span data-ttu-id="ae77b-589">Merhaba havuz boyutu hello çalışan sayısına göre ayarlar ve hello ilk sonra süre etkin görevleri geçtikten.</span><span class="sxs-lookup"><span data-stu-id="ae77b-589">Then it adjusts hello pool size based on hello number of running and active tasks after hello initial time period has elapsed.</span></span>

<span data-ttu-id="ae77b-590">Aşağıdaki kod parçacığını hello formülde Hello:</span><span class="sxs-lookup"><span data-stu-id="ae77b-590">hello formula in hello following code snippet:</span></span>

* <span data-ttu-id="ae77b-591">Merhaba ilk havuz boyutu toofour düğümleri ayarlar.</span><span class="sxs-lookup"><span data-stu-id="ae77b-591">Sets hello initial pool size toofour nodes.</span></span>
* <span data-ttu-id="ae77b-592">Merhaba havuz boyutu hello içinde ilk 10 dakika hello havuzunun yaşam döngüsünün ayarlanmaz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-592">Does not adjust hello pool size within hello first 10 minutes of hello pool's lifecycle.</span></span>
* <span data-ttu-id="ae77b-593">Merhaba en fazla değer 10 dakika sonra edinir hello çalışan sayısı ve etkin son 60 dakika içinde hello görevler.</span><span class="sxs-lookup"><span data-stu-id="ae77b-593">After 10 minutes, obtains hello max value of hello number of running and active tasks within hello past 60 minutes.</span></span>
  * <span data-ttu-id="ae77b-594">Her iki değerler 0 (hiçbir görev çalışan ya da hello etkin son 60 dakika gösteren) ise hello havuz boyutu too0 ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="ae77b-594">If both values are 0 (indicating that no tasks were running or active in hello last 60 minutes), hello pool size is set too0.</span></span>
  * <span data-ttu-id="ae77b-595">İki değer sıfırdan büyük olması durumunda değişiklik yapılmaz.</span><span class="sxs-lookup"><span data-stu-id="ae77b-595">If either value is greater than zero, no change is made.</span></span>

```csharp
string now = DateTime.UtcNow.ToString("r");
string formula = string.Format(@"
    $TargetDedicatedNodes = {1};
    lifespan         = time() - time(""{0}"");
    span             = TimeInterval_Minute * 60;
    startup          = TimeInterval_Minute * 10;
    ratio            = 50;

    $TargetDedicatedNodes = (lifespan > startup ? (max($RunningTasks.GetSample(span, ratio), $ActiveTasks.GetSample(span, ratio)) == 0 ? 0 : $TargetDedicatedNodes) : {1});
    ", now, 4);
```

## <a name="next-steps"></a><span data-ttu-id="ae77b-596">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="ae77b-596">Next steps</span></span>
* <span data-ttu-id="ae77b-597">[Eşzamanlı düğüm görevleri ile Azure toplu işlem kaynak kullanımını en üst düzeye](batch-parallel-node-tasks.md) nasıl birden fazla görev aynı anda havuzunuzdaki hello işlem düğümlerinde yürütebilirsiniz hakkında ayrıntılar içerir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-597">[Maximize Azure Batch compute resource usage with concurrent node tasks](batch-parallel-node-tasks.md) contains details about how you can execute multiple tasks simultaneously on hello compute nodes in your pool.</span></span> <span data-ttu-id="ae77b-598">Ayrıca tooautoscaling, bu özellik toolower iş süresi paradan tasarruf bazı iş yükleri için yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="ae77b-598">In addition tooautoscaling, this feature may help toolower job duration for some workloads, saving you money.</span></span>
* <span data-ttu-id="ae77b-599">Başka bir verimlilik güçlendirici toplu uygulama sorgularınızı hello en iyi yolu Batch hizmetindeki hello emin olun.</span><span class="sxs-lookup"><span data-stu-id="ae77b-599">For another efficiency booster, ensure that your Batch application queries hello Batch service in hello most optimal way.</span></span> <span data-ttu-id="ae77b-600">Bkz: [hello Azure Batch hizmetinin verimli bir şekilde sorgu](batch-efficient-list-queries.md) toolearn toolimit hello nasıl hello hatta binlerce hello durumunu sorguladığınızda yayılan veri miktarını işlem düğümleri veya görevler.</span><span class="sxs-lookup"><span data-stu-id="ae77b-600">See [Query hello Azure Batch service efficiently](batch-efficient-list-queries.md) toolearn how toolimit hello amount of data that crosses hello wire when you query hello status of potentially thousands of compute nodes or tasks.</span></span>

[net_api]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch
[net_batchclient]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.batchclient
[net_cloudpool_autoscaleformula]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleformula
[net_cloudpool_autoscaleevalinterval]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleevaluationinterval
[net_enableautoscaleasync]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.enableautoscaleasync
[net_maxtasks]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.maxtaskspercomputenode
[net_poolops_resizepoolasync]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.resizepoolasync

[rest_api]: https://docs.microsoft.com/rest/api/batchservice/
[rest_autoscaleformula]: https://docs.microsoft.com/rest/api/batchservice/enable-automatic-scaling-on-a-pool
[rest_autoscaleinterval]: https://docs.microsoft.com/rest/api/batchservice/enable-automatic-scaling-on-a-pool
[rest_enableautoscale]: https://docs.microsoft.com/rest/api/batchservice/enable-automatic-scaling-on-a-pool
