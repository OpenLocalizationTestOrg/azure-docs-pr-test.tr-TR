---
title: "Azure Batch havuzları özel görüntülerden sağlama | Microsoft Docs"
description: "Özel görüntü havuzundan sağlamak için işlem yazılım ve uygulamanız için gereksinim duyduğunuz verileri içeren düğümlerini toplu oluşturabilirsiniz. Özel resimler toplu iş yüklerini çalıştırmak için işlem düğümleri yapılandırmak için etkili bir yoludur."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/07/2017
ms.author: tamram
ms.openlocfilehash: 3d655766b4f2a5efb0c8c29ffa81a89f84b3e17c
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/29/2017
---
# <a name="use-a-custom-image-to-create-a-pool-of-virtual-machines"></a><span data-ttu-id="424a2-104">Sanal makinelerin bir havuz oluşturmak için özel bir görüntü kullanın</span><span class="sxs-lookup"><span data-stu-id="424a2-104">Use a custom image to create a pool of virtual machines</span></span>

<span data-ttu-id="424a2-105">Azure Batch sanal makinelerin bir havuz oluşturduğunuzda, havuzundaki her işlem düğümü için işletim sistemi sağlayan bir sanal makine (VM) görüntüsü belirtin.</span><span class="sxs-lookup"><span data-stu-id="424a2-105">When you create a pool of virtual machines in Azure Batch, you specify a virtual machine (VM) image that provides the operating system for each compute node in the pool.</span></span> <span data-ttu-id="424a2-106">Azure Market görüntü veya hazırladığınız özel bir VHD görüntüsü sağlayarak, sanal makinelerin bir havuz oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="424a2-106">You can create a pool of virtual machines either by using an Azure Marketplace image, or by providing a custom VHD image that you have prepared.</span></span> <span data-ttu-id="424a2-107">Özel görüntü sağladığınızda, her işlem düğümü sağlanan zaman işletim sisteminin nasıl yapılandırıldığına üzerinde kontrol sahibidir.</span><span class="sxs-lookup"><span data-stu-id="424a2-107">When you provide a custom image, you have control over how the operating system is configured at the time that each compute node is provisioned.</span></span> <span data-ttu-id="424a2-108">Özel görüntünüzü de uygulamalar ve sağlandığından hemen işlem düğümü üzerinde kullanılabilir olan başvuru verileri içerir.</span><span class="sxs-lookup"><span data-stu-id="424a2-108">Your custom image can also include applications and reference data that are available on the compute node as soon as it is provisioned.</span></span>

<span data-ttu-id="424a2-109">Özel görüntü kullanarak havuza ait alınırken zaman kazandırır, toplu iş yükünü çalıştırmaya hazır işlem düğümleri.</span><span class="sxs-lookup"><span data-stu-id="424a2-109">Using a custom image can save you time in getting your pool's compute nodes ready to run your Batch workload.</span></span> <span data-ttu-id="424a2-110">Her zaman Azure Market görüntü kullanır ve bunu sağlandıktan sonra her işlem düğümünde yazılım yüklerseniz olsa da, bu yaklaşım özel görüntü kullanmaktan daha az verimli olabilir.</span><span class="sxs-lookup"><span data-stu-id="424a2-110">While you can always use an Azure Marketplace image and install software on each compute node after it has been provisioned, this approach may be less efficient than using a custom image.</span></span> 

<span data-ttu-id="424a2-111">Gerek senaryonuz için yapılandırılan özel bir görüntü kullanmak için bazı nedenler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="424a2-111">Some reasons to use a custom image that is configured for your scenario include needing to:</span></span>

- <span data-ttu-id="424a2-112">**İşletim sistemi (OS) yapılandırma** işletim sisteminin özel bir yapılandırma özel görüntü üzerinde gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="424a2-112">**Configure the operating system (OS)** Any special configuration of the operating system can be performed on the custom image.</span></span> 
- <span data-ttu-id="424a2-113">**Büyük uygulamalar yükleyin.**</span><span class="sxs-lookup"><span data-stu-id="424a2-113">**Install large applications.**</span></span> <span data-ttu-id="424a2-114">Özel bir görüntüde uygulamaları yükleme, sağlandıktan sonra her işlem düğümünde yüklemeden daha daha verimli olur.</span><span class="sxs-lookup"><span data-stu-id="424a2-114">Installing applications on a custom image is more efficient than installing them on each compute node after it is provisioned.</span></span>
- <span data-ttu-id="424a2-115">**Önemli miktarda veri kopyalayın.**</span><span class="sxs-lookup"><span data-stu-id="424a2-115">**Copy significant amounts of data.**</span></span> <span data-ttu-id="424a2-116">Özel görüntü verileri kopyaladıysanız, yalnızca bir kez yerine zaman ve bant genişliği tasarrufu her işlem düğümü kopyalanacak gerekir.</span><span class="sxs-lookup"><span data-stu-id="424a2-116">If the data is copied to the custom image, it only needs to be copied once, rather than to each compute node, saving time and bandwidth.</span></span>
- <span data-ttu-id="424a2-117">**VM Kurulum işlemi sırasında yeniden başlatın.**</span><span class="sxs-lookup"><span data-stu-id="424a2-117">**Reboot the VM during the setup process.**</span></span> <span data-ttu-id="424a2-118">Özellikle işlem düğümlerinin sayısını varsa VM yeniden başlatıldığı zaman alan bir işlem olabilir.</span><span class="sxs-lookup"><span data-stu-id="424a2-118">Rebooting the VM can be a time-consuming process, especially if you have a number of compute nodes.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="424a2-119">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="424a2-119">Prerequisites</span></span>

- <span data-ttu-id="424a2-120">**Kullanıcı abonelik havuzu ayırma modu kullanılarak oluşturulmuş bir Batch hesabı.**</span><span class="sxs-lookup"><span data-stu-id="424a2-120">**A Batch account created with the User Subscription pool allocation mode.**</span></span> <span data-ttu-id="424a2-121">Sanal makine havuzları sağlamak için özel bir görüntü kullanmak için sahip bir kullanıcı abonelik toplu işlem hesabınızı oluşturmak [havuzu ayırma modu](batch-api-basics.md#pool-allocation-mode).</span><span class="sxs-lookup"><span data-stu-id="424a2-121">To use a custom image to provision Virtual Machine pools, create your Batch account with the User Subscription [pool allocation mode](batch-api-basics.md#pool-allocation-mode).</span></span> <span data-ttu-id="424a2-122">Bu modu kullandığınızda Batch havuzları, hesabın bulunduğu aboneliğe ayrılır.</span><span class="sxs-lookup"><span data-stu-id="424a2-122">With this mode, Batch pools are allocated into the subscription where the account resides.</span></span> <span data-ttu-id="424a2-123">Bkz: [hesap](batch-api-basics.md#account) bölümüne [geliştirme büyük ölçekli paralel işlem çözümleri yığın](batch-api-basics.md) toplu işlem hesabı oluşturduğunuzda, Havuz ayırma modunu ayarlama hakkında daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="424a2-123">See the [Account](batch-api-basics.md#account) section in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md) for information on setting the pool allocation mode when you create a Batch account.</span></span>

- <span data-ttu-id="424a2-124">**Bir Azure Depolama hesabı.**</span><span class="sxs-lookup"><span data-stu-id="424a2-124">**An Azure Storage account.**</span></span> <span data-ttu-id="424a2-125">Özel görüntü kullanarak sanal makineleri havuzu oluşturmak için bir standart, genel amaçlı Azure depolama hesabı aynı abonelikte ve bölgede gerekir.</span><span class="sxs-lookup"><span data-stu-id="424a2-125">To create a pool of virtual machines using a custom image, you need a standard, general-purpose Azure Storage account in the same subscription and region.</span></span> <span data-ttu-id="424a2-126">Bir Azure sanal makineden özel görüntü oluşturursanız, burada VM'ın işletim sistemi diski bulunur ve ayrı bir depolama hesabı oluşturmanız gerekmez depolama hesabına görüntü kopyalayacak.</span><span class="sxs-lookup"><span data-stu-id="424a2-126">If you create a custom image from an Azure VM, then you will copy the image to the storage account where the VM's OS disk resides, and you won't need to create a separate storage account.</span></span> 
    
## <a name="prepare-a-custom-image"></a><span data-ttu-id="424a2-127">Özel görüntü hazırlama</span><span class="sxs-lookup"><span data-stu-id="424a2-127">Prepare a custom image</span></span>

<span data-ttu-id="424a2-128">Özel görüntü Batch ile kullanmak üzere hazırlamak için Linux veya Windows varolan bir yüklemesini generalize gerekir.</span><span class="sxs-lookup"><span data-stu-id="424a2-128">To prepare a custom image for use with Batch, you must generalize an existing installation of Linux or Windows.</span></span> <span data-ttu-id="424a2-129">Bir işletim sistemi yüklemesi genelleme makine özgü bilgileri kaldırır.</span><span class="sxs-lookup"><span data-stu-id="424a2-129">Generalizing an operating system installation removes machine-specific information.</span></span> <span data-ttu-id="424a2-130">Diğer bilgisayarlar veya sanal makineleri yüklü bir görüntü sonucudur.</span><span class="sxs-lookup"><span data-stu-id="424a2-130">The result is an image that can be installed on other computers or VMs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="424a2-131">Batch şu anda desteklemiyor Azure kullanarak yönetilen bir havuz sağlamak için görüntüler.</span><span class="sxs-lookup"><span data-stu-id="424a2-131">Batch does not currently support using Azure managed images to provision a pool.</span></span> <span data-ttu-id="424a2-132">Bir havuz sağlamak için kullandığınız özel görüntüyü Azure depolama alanında depolanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="424a2-132">The custom image you use to provision a pool must be stored in Azure Storage.</span></span> 
>
> <span data-ttu-id="424a2-133">Özel görüntünüzü hazırlık yaparken, aşağıdaki noktaları göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="424a2-133">When preparing your custom image, keep in mind the following points:</span></span>
> - <span data-ttu-id="424a2-134">Batch havuzlarını sağlamak için kullandığınız temel işletim sistemi görüntüsünün, özel betik uzantıları gibi önceden yüklenmiş Azure uzantılarına sahip olmadığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="424a2-134">Ensure that the base OS image you use to provision your Batch pools does not have any pre-installed Azure extensions, such as the Custom Script extension.</span></span> <span data-ttu-id="424a2-135">Görüntü önceden yüklenmiş bir uzantı içeriyorsa Azure, VM dağıtımı sırasında sorunla karşılaşabilir.</span><span class="sxs-lookup"><span data-stu-id="424a2-135">If the image contains a pre-installed extension, Azure may encounter problems deploying the VM.</span></span>
> - <span data-ttu-id="424a2-136">Batch düğüm aracısı varsayılan geçici sürücüyü beklediğinden, sağladığınız temel işletim sistemi görüntüsünün varsayılan geçici sürücüyü kullandığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="424a2-136">Ensure that the base OS image you provide uses the default temp drive, as the Batch node agent currently expects the default temp drive.</span></span>
>
>

<span data-ttu-id="424a2-137">Özel görüntü var olan tüm hazırlanan Windows veya Linux görüntüsü kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="424a2-137">You can use any existing prepared Windows or Linux image as a custom image.</span></span> <span data-ttu-id="424a2-138">Yerel görüntü kullanmak isterseniz, örneğin, sonra görüntüyü aynı abonelik ve toplu işlem hesabı kullanarak olarak bölgesi olan bir Azure depolama hesabı için karşıya yükleme [AzCopy](../storage/storage-use-azcopy.md) veya başka bir karşıya yükleme aracı.</span><span class="sxs-lookup"><span data-stu-id="424a2-138">For example, if you wish to use a local image, then upload the image to an Azure Storage account that is in the same subscription and region as your Batch account using [AzCopy](../storage/storage-use-azcopy.md) or another upload tool.</span></span>

<span data-ttu-id="424a2-139">Ayrıca, özel bir görüntü yeni veya var olan bir Azure VM'den hazırlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="424a2-139">You can also prepare a custom image from a new or existing Azure VM.</span></span> <span data-ttu-id="424a2-140">Yeni bir VM oluşturuyorsanız, bir Azure Market görüntüsü için özel görüntünüzü temel görüntü kullanın ve sonra özelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="424a2-140">If you are creating a new VM, you can use an Azure Marketplace image as the base image for your custom image and then customize it.</span></span> <span data-ttu-id="424a2-141">Temel görüntü özelleştirmek için bir Azure VM oluşturma ve uygulamaları veya veri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="424a2-141">To customize the base image, create an Azure VM and add your applications or data to it.</span></span> <span data-ttu-id="424a2-142">Ardından, özel görüntü sunmak ve Azure depolamasına kaydetmek için VM genelleştirin.</span><span class="sxs-lookup"><span data-stu-id="424a2-142">Then generalize the VM to serve as your custom image and save it to Azure Storage.</span></span> 

<span data-ttu-id="424a2-143">Özel görüntü bir Azure sanal makineden hazırlamak için aşağıdaki adımları izleyin:</span><span class="sxs-lookup"><span data-stu-id="424a2-143">To prepare a custom image from an Azure VM, follow these steps:</span></span>

1. <span data-ttu-id="424a2-144">Oluşturma bir **yönetilmeyen** Azure Market görüntüsünden Azure VM.</span><span class="sxs-lookup"><span data-stu-id="424a2-144">Create an **unmanaged** Azure VM from an Azure Marketplace image.</span></span> <span data-ttu-id="424a2-145">Azure Market her ikisi için görüntüleri içeren [Windows](../virtual-machines/windows/quick-create-portal.md) ve [Linux](../virtual-machines/linux/quick-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="424a2-145">Azure Marketplace includes images for both [Windows](../virtual-machines/windows/quick-create-portal.md) and [Linux](../virtual-machines/linux/quick-create-portal.md).</span></span>
    
    <span data-ttu-id="424a2-146">3. adım VM oluşturma işleminin üzerinde seçtiğinizden emin olun **Hayır** için **Depolama: yönetilen diskleri kullanmak** seçeneği.</span><span class="sxs-lookup"><span data-stu-id="424a2-146">On step 3 of the VM creation process, make sure that you select **No** for **Storage: Use Managed Disks** option.</span></span> <span data-ttu-id="424a2-147">Ayrıca bu depolama hesabı da Azure özel görüntünüzü kaydedeceği olarak sanal makinenin işletim sistemi diski, depolama hesabı adını not edin:</span><span class="sxs-lookup"><span data-stu-id="424a2-147">Also take note of the storage account name for the VM's OS disk, as this storage account is also where Azure will save your custom image:</span></span>

    ![Yönetilmeyen bir VM oluşturun ve depolama hesabı adını not edin](media/batch-custom-images/vm-create-storage.png)
 
2. <span data-ttu-id="424a2-149">VM oluşturma işlemi tamamlayın ve Azure tarafından ayrılan bekleyin.</span><span class="sxs-lookup"><span data-stu-id="424a2-149">Complete the process of creating your VM, and wait for it to be allocated by Azure.</span></span> <span data-ttu-id="424a2-150">Azure portalında çalışır durumda bir VM gösteren bir resim şöyledir:</span><span class="sxs-lookup"><span data-stu-id="424a2-150">Here's an image that shows a VM in the Azure portal in the running state:</span></span>

    ![Market görüntüsünden bir VM oluşturma](media/batch-custom-images/vm-status-running.png)

3. <span data-ttu-id="424a2-152">VM çalışmaya başladıktan sonra hatta (Windows için) RDP veya SSH (için Linux) aracılığıyla bağlayın.</span><span class="sxs-lookup"><span data-stu-id="424a2-152">Once the VM is running, connect to it via RDP (for Windows) or SSH (for Linux).</span></span> <span data-ttu-id="424a2-153">Gerekli yazılımları yüklemek veya istenen verileri kopyalayın ve VM genelleştirin.</span><span class="sxs-lookup"><span data-stu-id="424a2-153">Install any necessary software or copy desired data, and then generalize the VM.</span></span> <span data-ttu-id="424a2-154">Bölümünde açıklanan adımları [VM Generalize](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span><span class="sxs-lookup"><span data-stu-id="424a2-154">Follow the steps described in [Generalize the VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span></span> 
   
4. <span data-ttu-id="424a2-155">Adımlarını izleyin [Azure PowerShell oturum](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span><span class="sxs-lookup"><span data-stu-id="424a2-155">Follow the steps to [Log in to Azure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span></span> <span data-ttu-id="424a2-156">Azure PowerShell'i yüklemek için bkz: [Azure PowerShell genel bakış](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span><span class="sxs-lookup"><span data-stu-id="424a2-156">To install Azure PowerShell, see [Overview of Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span></span> 

5. <span data-ttu-id="424a2-157">Ardından, adımları [VM serbest bırakma ve durumu genelleştirilmiş kümesine](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span><span class="sxs-lookup"><span data-stu-id="424a2-157">Next, follow the steps to [Deallocate the VM and set the state to generalized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span></span> 

    <span data-ttu-id="424a2-158">Azure portalında VM serbest dikkat edin:</span><span class="sxs-lookup"><span data-stu-id="424a2-158">In the Azure portal, notice that the VM is deallocated:</span></span>

    ![VM serbest emin olun](media/batch-custom-images/vm-status-deallocated.png)

6.  <span data-ttu-id="424a2-160">Oluşturun ve Azure Storage kullanarak VM görüntüsü kaydedin [Kaydet AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="424a2-160">Create and save the VM image to Azure Storage using the [Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet.</span></span> <span data-ttu-id="424a2-161">Bölümünde açıklanan yönergeleri izleyin [görüntü oluşturma](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span><span class="sxs-lookup"><span data-stu-id="424a2-161">Follow the instructions described in [Create the image](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span></span>
    
    <span data-ttu-id="424a2-162">VM görüntüsü VM oluşturulduğunda, bu yordamın 1. adımında gösterildiği gibi oluşturulan Azure Storage hesabına kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="424a2-162">The VM image is saved to the Azure Storage account created when the VM was created, as shown in step 1 of this procedure.</span></span> <span data-ttu-id="424a2-163">Kaydet-AzureRmVMImage cmdlet'i görüntüye kaydeder **sistem** bu depolama hesabı kapsayıcısında.</span><span class="sxs-lookup"><span data-stu-id="424a2-163">the Save-AzureRmVMImage cmdlet saves the image to the **system** container in that storage account.</span></span> <span data-ttu-id="424a2-164">`-DestinationContainername` Parametre adları bir sanal dizin içinde **sistem** kapsayıcı.</span><span class="sxs-lookup"><span data-stu-id="424a2-164">The `-DestinationContainername` parameter names a virtual directory within the **system** container.</span></span> <span data-ttu-id="424a2-165">`-VHDNamePrefix` Parametresi, blob adı için bir önek belirtir.</span><span class="sxs-lookup"><span data-stu-id="424a2-165">The `-VHDNamePrefix` parameter specifies a prefix for the blob name.</span></span> <span data-ttu-id="424a2-166">Bu ön ek blob adı bir tire ile birlikte eklenir.</span><span class="sxs-lookup"><span data-stu-id="424a2-166">This prefix is prepended to the blob name with a hyphen.</span></span> 

    <span data-ttu-id="424a2-167">Örneğin, kaydetme AzureRmVMImage aşağıdaki parametrelerle çağırın varsayın:</span><span class="sxs-lookup"><span data-stu-id="424a2-167">For example, suppose you call Save-AzureRmVMImage with the following parameters:</span></span>  

        Save-AzureRmVMImage -ResourceGroupName sample-resource-group -Name vm-custom-image -DestinationContainerName batchimages -VHDNamePrefix custom -Path C:\Temp\Images\vm-custom-image.json

    <span data-ttu-id="424a2-168">Elde edilen görüntü burada gösterilen blob adı ve konumu kaydedilir:</span><span class="sxs-lookup"><span data-stu-id="424a2-168">The resulting image is saved to the location and blob name shown here:</span></span>

    ![Sistem kapsayıcısında kaydedilmiş VHD konumu](media/batch-custom-images/vhd-in-vm-storage-account.png)

    > [!NOTE]
    > <span data-ttu-id="424a2-170">Bir Azure yönetilmeyen VM birkaç depolama hesapları farklı amaçlar için oluşturur.</span><span class="sxs-lookup"><span data-stu-id="424a2-170">An Azure unmanaged VM creates several storage accounts for different purposes.</span></span> <span data-ttu-id="424a2-171">VM oluşturulduğunda işletim sistemi diski için depolama kapsayıcısı adını not etmediniz, ilişkili depolama hesabı Bul içeren **sistem** kapsayıcı.</span><span class="sxs-lookup"><span data-stu-id="424a2-171">If you did not note the name of the storage container for the OS disk when the VM was created, then find the associated storage account that contains the **system** container.</span></span> <span data-ttu-id="424a2-172">Gezinmek **sistem** için belirttiğiniz değerleri kullanarak özel görüntü bulmak için kapsayıcı **Kaydet AzureRmVMImage** komutu.</span><span class="sxs-lookup"><span data-stu-id="424a2-172">Navigate through the **system** container to find the custom image using the values you specified for the **Save-AzureRmVMImage** command.</span></span>

## <a name="create-a-pool-from-a-custom-image-in-the-portal"></a><span data-ttu-id="424a2-173">Bir havuzu Portalı'nda özel bir görüntü oluşturun</span><span class="sxs-lookup"><span data-stu-id="424a2-173">Create a pool from a custom image in the portal</span></span>

<span data-ttu-id="424a2-174">Özel görüntünüzü kaydettikten sonra konumunu bilmeniz, bu görüntüden Batch havuzu oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="424a2-174">Once you have saved your custom image and you know its location, you can create a Batch pool from that image.</span></span> <span data-ttu-id="424a2-175">Azure portalından bir havuzu oluşturmak için aşağıdaki adımları izleyin:</span><span class="sxs-lookup"><span data-stu-id="424a2-175">Follow these steps to create a pool from the Azure portal:</span></span>

1. <span data-ttu-id="424a2-176">Azure portalında Batch hesabınıza gidin.</span><span class="sxs-lookup"><span data-stu-id="424a2-176">Navigate to your Batch account in the Azure portal.</span></span> <span data-ttu-id="424a2-177">Bu hesap, özel görüntü içeren depolama hesabıyla aynı abonelikte ve bölgede olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="424a2-177">This account must be in the same subscription and region as the storage account containing the custom image.</span></span> 
2. <span data-ttu-id="424a2-178">İçinde **ayarları** penceresinde soldaki select **havuzları** menü öğesi.</span><span class="sxs-lookup"><span data-stu-id="424a2-178">In the **Settings** window on the left, select the **Pools** menu item.</span></span>
3. <span data-ttu-id="424a2-179">İçinde **havuzları** penceresinde, seçin **Ekle** komutu.</span><span class="sxs-lookup"><span data-stu-id="424a2-179">In the **Pools** window, select the **Add** command.</span></span>
4. <span data-ttu-id="424a2-180">Üzerinde **havuzu Ekle** penceresinde, seçin **özel görüntü (Linux/Windows)** gelen **görüntü türü** açılır.</span><span class="sxs-lookup"><span data-stu-id="424a2-180">On the **Add Pool** window, select **Custom Image (Linux/Windows)** from the **Image Type** dropdown.</span></span> <span data-ttu-id="424a2-181">Portalda **Özel Görüntü** seçici görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="424a2-181">The portal displays the **Custom Image** picker.</span></span> <span data-ttu-id="424a2-182">Özel görüntünüzü bulunduğu depolama hesabınıza gidin ve istenen VHD kapsayıcıyı seçin.</span><span class="sxs-lookup"><span data-stu-id="424a2-182">Navigate to the storage account where your custom image is located, and select the desired VHD from the container.</span></span> 
5. <span data-ttu-id="424a2-183">Doğru seçin **teklif/yayımcı/Sku** özel VHD için.</span><span class="sxs-lookup"><span data-stu-id="424a2-183">Select the correct **Publisher/Offer/Sku** for your custom VHD.</span></span>
6. <span data-ttu-id="424a2-184">Gerekli ayarları dahil olmak üzere, kalan belirtin **düğüm boyutu**, **ayrılmış düğümleri hedef**, ve **düşük öncelik düğümleri**, yanı sıra tüm isteğe bağlı ayarlar istenen.</span><span class="sxs-lookup"><span data-stu-id="424a2-184">Specify the remaining required settings, including the **Node size**, **Target dedicated nodes**, and **Low priority nodes**, as well as any desired optional settings.</span></span>

    <span data-ttu-id="424a2-185">Örneğin, bir Microsoft Windows Server Datacenter 2016 özel görüntü **havuzu Ekle** penceresi, aşağıda gösterildiği gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="424a2-185">For example, for a Microsoft Windows Server Datacenter 2016 custom image, the **Add Pool** window appears as shown here:</span></span>

    ![Özel Windows görüntüsünü havuzu ekleme](media/batch-custom-images/add-pool-custom-image.png)
  
<span data-ttu-id="424a2-187">Var olan bir havuzu özel bir görüntüde dayalı olup olmadığını denetlemek için bkz: **işletim sistemi** kaynak Özet bölümündeki özellik **havuzu** penceresi.</span><span class="sxs-lookup"><span data-stu-id="424a2-187">To check whether an existing pool is based on a custom image, see the **Operating System** property in the resource summary section of the **Pool** window.</span></span> <span data-ttu-id="424a2-188">Havuzu özel bir görüntüsünden oluşturulduysa ayarlanır **özel VM görüntüsü**.</span><span class="sxs-lookup"><span data-stu-id="424a2-188">If the pool was created from a custom image, it is set to **Custom VM Image**.</span></span>

<span data-ttu-id="424a2-189">Bir havuzuyla ilişkili tüm özel VHD'leri havuzun üzerinde görüntülenen **özellikleri** penceresi.</span><span class="sxs-lookup"><span data-stu-id="424a2-189">All custom VHDs associated with a pool are displayed on the pool's **Properties** window.</span></span>
 
## <a name="next-steps"></a><span data-ttu-id="424a2-190">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="424a2-190">Next steps</span></span>

- <span data-ttu-id="424a2-191">Toplu ayrıntılı bir bakış için bkz: [geliştirme büyük ölçekli paralel işlem çözümleri yığın](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="424a2-191">For an in-depth overview of Batch, see [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>
- <span data-ttu-id="424a2-192">Batch hesabı oluşturma hakkında daha fazla bilgi için bkz: [Azure portalıyla Batch hesabı oluşturma](batch-account-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="424a2-192">For information about creating a Batch account, see [Create a Batch account with the Azure portal](batch-account-create-portal.md).</span></span>