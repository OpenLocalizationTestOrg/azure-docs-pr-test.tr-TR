---
title: "Sayım tarafından bir işin ilerleme durumunu - Azure Batch görevleri aaaMonitor | Microsoft Docs"
description: "Merhaba işinin ilerlemesini hello görev sayar alma işlemi toocount görevler için bir işi çağırarak izleyin. Etkin, çalışan ve tamamlanan görevler ve başarılı veya başarısız olduğunu görevler tarafından sayımı elde edebilirsiniz."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/02/2017
ms.author: tamram
ms.openlocfilehash: 03957d8a3d678bf44587f3bc7f988a76885c2af0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="count-tasks-by-state-toomonitor-a-jobs-progress-preview"></a><span data-ttu-id="f0051-104">Görevler tarafından durumu toomonitor bir işin ilerleme durumunu (Önizleme) sayısı</span><span class="sxs-lookup"><span data-stu-id="f0051-104">Count tasks by state toomonitor a job's progress (Preview)</span></span>

<span data-ttu-id="f0051-105">Görevleri çalışan azure Batch işinin bir verimli şekilde toomonitor hello ilerlemesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="f0051-105">Azure Batch provides an efficient way toomonitor hello progress of a job as it runs its tasks.</span></span> <span data-ttu-id="f0051-106">Merhaba çağırabilirsiniz [alma görev sayar] [ rest_get_task_counts] işlemi toofind bir etkin, çalışıyor veya tamamlanmış durumda kaç görevlerdir ve kaç tane sahip başarılı veya başarısız oldu.</span><span class="sxs-lookup"><span data-stu-id="f0051-106">You can call hello [Get Task Counts][rest_get_task_counts] operation toofind out how many tasks are in an active, running, or completed state, and how many have succeeded or failed.</span></span> <span data-ttu-id="f0051-107">Her durumda görevleri Hello sayısı sayım tarafından daha kolay hello işin ilerleme tooa kullanıcı görüntüleyebilir, ya da beklenmeyen gecikmeler veya hello iş etkileyebilecek hataları algılar.</span><span class="sxs-lookup"><span data-stu-id="f0051-107">By counting hello number of tasks in each state, you can more easily display hello job's progress tooa user, or detect unexpected delays or failures that may affect hello job.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f0051-108">Merhaba görev sayar alma işlemi şu anda önizlemede değil ve henüz Azure kamu, Azure Çin ve Azure Almanya kullanılabilir değil.</span><span class="sxs-lookup"><span data-stu-id="f0051-108">hello Get Task Counts operation is currently in preview, and is not yet available in Azure Government, Azure China, and Azure Germany.</span></span> 
>
>

## <a name="how-tasks-are-counted"></a><span data-ttu-id="f0051-109">Görevlerin nasıl sayılır</span><span class="sxs-lookup"><span data-stu-id="f0051-109">How tasks are counted</span></span>

<span data-ttu-id="f0051-110">Merhaba görev sayar alma işlemi aşağıdaki gibi görevleri durumuna göre sayar:</span><span class="sxs-lookup"><span data-stu-id="f0051-110">hello Get Task Counts operation counts tasks by state, as follows:</span></span>

- <span data-ttu-id="f0051-111">Bir görev olarak sayılır **etkin** zaman, sıraya alınan ve mümkün toorun olmakla birlikte, şu anda tooa işlem düğümü atanmadı.</span><span class="sxs-lookup"><span data-stu-id="f0051-111">A task is counted as **active** when it is queued and able toorun, but is not currently assigned tooa compute node.</span></span> <span data-ttu-id="f0051-112">Bir görev olarak da sayılır **etkin** henüz tamamlanmadı üst göreve bağımlı olması durumunda.</span><span class="sxs-lookup"><span data-stu-id="f0051-112">A task is also counted as **active** if it is dependent on a parent task that has not yet completed.</span></span> <span data-ttu-id="f0051-113">Görev bağımlılıkları ile ilgili daha fazla bilgi için bkz: [görev bağımlılıkları diğer görevlere bağlı toorun görevler oluşturma](batch-task-dependencies.md).</span><span class="sxs-lookup"><span data-stu-id="f0051-113">For more information on task dependencies, see [Create task dependencies toorun tasks that depend on other tasks](batch-task-dependencies.md).</span></span> 
- <span data-ttu-id="f0051-114">Bir görev olarak sayılır **çalıştıran** zaman tooa işlem düğümü atanmış, ancak henüz tamamlanmadı.</span><span class="sxs-lookup"><span data-stu-id="f0051-114">A task is counted as **running** when it has been assigned tooa compute node, but has not yet completed.</span></span> <span data-ttu-id="f0051-115">Bir görev olarak sayılır **çalıştıran** durumuna olduğunda ya da `preparing` veya `running`, hello tarafından belirtildiği şekilde [bir görev hakkında bilgi alma] [ rest_get_task] işlemi.</span><span class="sxs-lookup"><span data-stu-id="f0051-115">A task is counted as **running** when its state is either `preparing` or `running`, as indicated by hello [Get information about a task][rest_get_task] operation.</span></span>
- <span data-ttu-id="f0051-116">Bir görev olarak sayılır **tamamlandı** olduğu zaman artık uygun toorun.</span><span class="sxs-lookup"><span data-stu-id="f0051-116">A task is counted as **completed** when it is no longer eligible toorun.</span></span> <span data-ttu-id="f0051-117">Bir görev olarak sayılan **tamamlandı** sahip genellikle başarıyla tamamlandı ya da veya başarısız sona erdi ve ayrıca, yeniden deneme sınırını aştı.</span><span class="sxs-lookup"><span data-stu-id="f0051-117">A task counted as **completed** has typically either finished successfully, or has finished unsuccessfully and has also exhausted its retry limit.</span></span> 

<span data-ttu-id="f0051-118">Merhaba görev sayar alma işlemi de kaç görevlerin başarılı veya başarısız olduğunu bildirir.</span><span class="sxs-lookup"><span data-stu-id="f0051-118">hello Get Task Counts operation also reports how many tasks have succeeded or failed.</span></span> <span data-ttu-id="f0051-119">Toplu göreve başarılı olup hello kontrol ederek belirler **sonuç** hello [executionInfo] [https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task#executionInfo] özelliği Özellik:</span><span class="sxs-lookup"><span data-stu-id="f0051-119">Batch determines whether a task has succeeded or failed by checking hello **result** property of hello [executionInfo][https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task#executionInfo] property:</span></span>

    - <span data-ttu-id="f0051-120">Bir görev olarak sayılır **başarılı** görev yürütme hello sonuç ise `success`.</span><span class="sxs-lookup"><span data-stu-id="f0051-120">A task is counted as **succeeded** if hello result of task execution is `success`.</span></span>
    - <span data-ttu-id="f0051-121">Bir görev olarak sayılır **başarısız** görev yürütme hello sonuç ise `failure`.</span><span class="sxs-lookup"><span data-stu-id="f0051-121">A task is counted as **failed** if hello result of task execution is `failure`.</span></span>

<span data-ttu-id="f0051-122">Görev durumları hakkında daha fazla bilgi için bkz: [bir görev hakkında bilgi alma][rest_get_task].</span><span class="sxs-lookup"><span data-stu-id="f0051-122">For more information about task states, see [Get information about a task][rest_get_task].</span></span>

<span data-ttu-id="f0051-123">Merhaba aşağıdaki .NET kod örneği nasıl tooretrieve görev durumuna göre sayar gösterir:</span><span class="sxs-lookup"><span data-stu-id="f0051-123">hello following .NET code sample shows how tooretrieve task counts by state:</span></span> 

```csharp
var taskCounts = await batchClient.JobOperations.GetTaskCountsAsync("job-1");

Console.WriteLine("Task count in active state: {0}", taskCounts.Active);
Console.WriteLine("Task count in preparing or running state: {0}", taskCounts.Running);
Console.WriteLine("Task count in completed state: {0}", taskCounts.Completed);
Console.WriteLine("Succeeded task count: {0}", taskCounts.Succeeded);
Console.WriteLine("Failed task count: {0}", taskCounts.Failed);
Console.WriteLine("ValidationStatus: {0}", taskCounts.ValidationStatus);
```

> [!NOTE]
> <span data-ttu-id="f0051-124">REST için benzer bir desen ve tooget görev için bir işi sayar diğer desteklenen dilleri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f0051-124">You can use a similar pattern for REST and other supported languages tooget task counts for a job.</span></span> 
> 
> 

## <a name="consistency-checking-for-task-counts"></a><span data-ttu-id="f0051-125">Tutarlılık denetimini görev sayılarını</span><span class="sxs-lookup"><span data-stu-id="f0051-125">Consistency checking for task counts</span></span>

<span data-ttu-id="f0051-126">Merhaba Batch hizmeti, birden çok zaman uyumsuz bir Dağıtılmış Sistem parçalarını veri toplamayı tarafından görev sayıları toplar.</span><span class="sxs-lookup"><span data-stu-id="f0051-126">hello Batch service aggregates task counts by gathering data from multiple parts of an asynchronous distributed system.</span></span> <span data-ttu-id="f0051-127">sayıları görev tooensure doğru hello sistem birden çok bileşenden karşı tutarlılık denetimleri gerçekleştirerek durumu sayısına yönelik toplu ek doğrulama sağlar.</span><span class="sxs-lookup"><span data-stu-id="f0051-127">tooensure that task counts are correct, Batch provides additional validation for state counts by performing consistency checks against multiple components of hello system.</span></span> <span data-ttu-id="f0051-128">Vardır sürece daha azını 200.000 görevleri hello işinde toplu bu tutarlılık denetimleri gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="f0051-128">Batch performs these consistency checks as long as there are fewer than 200,000 tasks in hello job.</span></span> <span data-ttu-id="f0051-129">Merhaba tutarlılık hataları bulur hello olası olayda, toplu hello işleminin sonucu hello hello tutarlılık denetimi sonuçlarına dayalı hello alma görevlerini sayar düzeltir.</span><span class="sxs-lookup"><span data-stu-id="f0051-129">In hello unlikely event that hello consistency check finds errors, Batch corrects hello result of hello Get Tasks Counts operation based on hello results of hello consistency check.</span></span> <span data-ttu-id="f0051-130">Merhaba tutarlılık denetimi hello görev sayar alma işlemi üzerinde kullanan müşteriler kendi çözüm için ihtiyaç duydukları hello doğru bilgileri almak bir ek ölçü tooensure olur.</span><span class="sxs-lookup"><span data-stu-id="f0051-130">hello consistency check is an extra measure tooensure that customers who rely on hello Get Task Counts operation get hello right information they need for their solution.</span></span>

<span data-ttu-id="f0051-131">Merhaba **validationStatus** hello yanıt özelliği, toplu hello tutarlılık denetimi gerçekleştirip gerçekleştirmediğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="f0051-131">hello **validationStatus** property in hello response indicates whether Batch has performed hello consistency check.</span></span> <span data-ttu-id="f0051-132">Toplu mümkün toocheck durumu sayıları hello gerçek durumları hello sistemde tutulan karşı ayarlanmadı, ardından hello **validationStatus** özelliği olarak ayarlanmış çok`unvalidated`.</span><span class="sxs-lookup"><span data-stu-id="f0051-132">If Batch has not been able toocheck state counts against hello actual states held in hello system, then hello **validationStatus** property is set too`unvalidated`.</span></span> <span data-ttu-id="f0051-133">Performans nedenleriyle toplu gerçekleştirmez hello iş içeriyorsa hello tutarlılık denetimi birden çok 200.000 görevler, bunu hello **validationStatus** özelliği ayarlanmış olabilir çok`unvalidated` bu durumda.</span><span class="sxs-lookup"><span data-stu-id="f0051-133">For performance reasons, Batch will not perform hello consistency check if hello job includes more than 200,000 tasks, so hello **validationStatus** property may be set too`unvalidated` in this case.</span></span> <span data-ttu-id="f0051-134">Çok sınırlı veri kaybı son derece düşüktür ancak hello görev sayısı bu durumda, mutlaka yanlış değildir.</span><span class="sxs-lookup"><span data-stu-id="f0051-134">However, hello task count is not necessarily wrong in this case, as even a very limited data loss is highly unlikely.</span></span> 

<span data-ttu-id="f0051-135">Bir görev durumu değiştiğinde hello toplama ardışık hello değişiklik birkaç saniye içinde işler.</span><span class="sxs-lookup"><span data-stu-id="f0051-135">When a task changes state, hello aggregation pipeline processes hello change within few seconds.</span></span> <span data-ttu-id="f0051-136">Hello görev sayar alma işlemi, bu süre içinde güncelleştirilmiş hello görev sayıları yansıtır.</span><span class="sxs-lookup"><span data-stu-id="f0051-136">hello Get Task Counts operation reflects hello updated task counts within that period.</span></span> <span data-ttu-id="f0051-137">Görev durumundaki bir değişikliği Hello toplama ardışık isabetsizliği varsa, ancak sonra değişiklik olmadığını hello sonraki doğrulama geçişini kadar kayıtlı.</span><span class="sxs-lookup"><span data-stu-id="f0051-137">However, if hello aggregation pipeline misses a change in a task state, then that change is not registered until hello next validation pass.</span></span> <span data-ttu-id="f0051-138">Bu süre boyunca görev sayıları toohello eksik olay biraz yanlış olabilir, ancak hello sonraki doğrulama geçişte düzeltilir.</span><span class="sxs-lookup"><span data-stu-id="f0051-138">During this time, task counts may be slightly inaccurate due toohello missed event, but they are corrected on hello next validation pass.</span></span>

## <a name="best-practices-for-counting-a-jobs-tasks"></a><span data-ttu-id="f0051-139">Bir iş görevlerinin saymak için en iyi uygulamalar</span><span class="sxs-lookup"><span data-stu-id="f0051-139">Best practices for counting a job's tasks</span></span>

<span data-ttu-id="f0051-140">Merhaba görev sayar alma işlemi çağırmadan hello en verimli şekilde tooreturn durumuna göre bir iş görevlerinin temel sayısını olur.</span><span class="sxs-lookup"><span data-stu-id="f0051-140">Calling hello Get Task Counts operation is hello most efficient way tooreturn a basic count of a job's tasks by state.</span></span> <span data-ttu-id="f0051-141">Batch hizmeti sürümü 2017 06 01.5.1 kullanıyorsanız, yazma veya, kod toouse alma görev sayar güncelleştirme öneririz.</span><span class="sxs-lookup"><span data-stu-id="f0051-141">If you are using Batch service version 2017-06-01.5.1, we recommend writing or updating your code toouse Get Task Counts.</span></span>

<span data-ttu-id="f0051-142">Merhaba görev sayar alma işlemi 2017 06 01.5.1'den önceki toplu işlem hizmeti sürümlerinde kullanılabilir değildir.</span><span class="sxs-lookup"><span data-stu-id="f0051-142">hello Get Task Counts operation is not available in Batch service versions earlier than 2017-06-01.5.1.</span></span> <span data-ttu-id="f0051-143">Merhaba hizmeti daha eski bir sürümü kullanıyorsanız, ardından bir liste sorgu toocount görevleri bir işi kullanın.</span><span class="sxs-lookup"><span data-stu-id="f0051-143">If you are using an older version of hello service, then use a list query toocount tasks in a job instead.</span></span> <span data-ttu-id="f0051-144">Daha fazla bilgi için bkz: [oluşturma sorguları toolist Batch kaynaklarını verimli bir şekilde](batch-efficient-list-queries.md).</span><span class="sxs-lookup"><span data-stu-id="f0051-144">For more information, see [Create queries toolist Batch resources efficiently](batch-efficient-list-queries.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="f0051-145">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="f0051-145">Next steps</span></span>

* <span data-ttu-id="f0051-146">Merhaba bkz [Batch özelliklerine genel bakış](batch-api-basics.md) toolearn Batch hizmeti kavramları ve özellikler hakkında daha fazla bilgi.</span><span class="sxs-lookup"><span data-stu-id="f0051-146">See hello [Batch feature overview](batch-api-basics.md) toolearn more about Batch service concepts and features.</span></span> <span data-ttu-id="f0051-147">Merhaba makale havuzlar, işlem düğümleri, işler ve görevler gibi birincil Batch kaynaklarını hello açıklanır ve hello hizmetin özelliklerine genel bakış sağlar.</span><span class="sxs-lookup"><span data-stu-id="f0051-147">hello article discusses hello primary Batch resources such as pools, compute nodes, jobs, and tasks, and provides an overview of hello service's features.</span></span>
* <span data-ttu-id="f0051-148">Hello kullanarak Batch özellikli bir uygulama geliştirme hello temellerini öğrenin [Batch .NET istemci kitaplığını](batch-dotnet-get-started.md) veya [Python](batch-python-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="f0051-148">Learn hello basics of developing a Batch-enabled application using hello [Batch .NET client library](batch-dotnet-get-started.md) or [Python](batch-python-tutorial.md).</span></span> <span data-ttu-id="f0051-149">Bu Tanıtım makaleler hello Batch hizmeti tooexecute kullanan çalışan bir uygulama birden çok işlem düğümlerinde iş yükü Kılavuzu.</span><span class="sxs-lookup"><span data-stu-id="f0051-149">These introductory articles guide you through a working application that uses hello Batch service tooexecute a workload on multiple compute nodes.</span></span>


[rest_get_task_counts]: https://docs.microsoft.com/rest/api/batchservice/get-the-task-counts-for-a-job
[rest_get_task]: https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task
[rest_list_tasks]: https://docs.microsoft.com/rest/api/batchservice/list-the-tasks-associated-with-a-job
