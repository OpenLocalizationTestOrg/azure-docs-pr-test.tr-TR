---
title: "aaaAzure Traffic Manager - trafik yönlendirme yöntemleri | Microsoft Docs"
description: "Bu trafik Yöneticisi tarafından kullanılan hello farklı trafik yönlendirme yöntemleri anlamanıza yardımcı makaleler"
services: traffic-manager
documentationcenter: 
author: KumudD
manager: timlt
editor: 
ms.assetid: db1efbf6-6762-4c7a-ac99-675d4eeb54d0
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/13/2017
ms.author: kumud
ms.openlocfilehash: b3eeca63ab5f2b9cd4a3a6b6a8fd3e40059e32b5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="traffic-manager-routing-methods"></a><span data-ttu-id="55fa6-103">Traffic Manager yönlendirme yöntemleri</span><span class="sxs-lookup"><span data-stu-id="55fa6-103">Traffic Manager routing methods</span></span>

<span data-ttu-id="55fa6-104">Azure Traffic Manager destekler dört trafik yönlendirme yöntemleri toodetermine nasıl tooroute ağ trafiği toohello çeşitli hizmet uç noktaları.</span><span class="sxs-lookup"><span data-stu-id="55fa6-104">Azure Traffic Manager supports four traffic-routing methods toodetermine how tooroute network traffic toohello various service endpoints.</span></span> <span data-ttu-id="55fa6-105">Trafik Yöneticisi aldığı hello trafik yönlendirme yöntemini tooeach DNS sorgusunu uygular.</span><span class="sxs-lookup"><span data-stu-id="55fa6-105">Traffic Manager applies hello traffic-routing method tooeach DNS query it receives.</span></span> <span data-ttu-id="55fa6-106">Merhaba DNS yanıtında hangi uç noktaya Hello trafik yönlendirme yöntemini belirler.</span><span class="sxs-lookup"><span data-stu-id="55fa6-106">hello traffic-routing method determines which endpoint returned in hello DNS response.</span></span>

<span data-ttu-id="55fa6-107">Trafik Yöneticisi'nde dört trafik yönlendirme yöntemleri vardır:</span><span class="sxs-lookup"><span data-stu-id="55fa6-107">There are four traffic routing methods available in Traffic Manager:</span></span>

* <span data-ttu-id="55fa6-108">**[Öncelik](#priority):** seçin **öncelik** zaman toouse birincil hizmet uç noktası için tüm trafiği isterseniz ve hello birincil veya hello yedekleme uç noktaların kullanılamaz durumda yedeklemeler sağlar.</span><span class="sxs-lookup"><span data-stu-id="55fa6-108">**[Priority](#priority):** Select **Priority** when you want toouse a primary service endpoint for all traffic, and provide backups in case hello primary or hello backup endpoints are unavailable.</span></span>
* <span data-ttu-id="55fa6-109">**[Weighted](#weighted):** seçin **Weighted** toodistribute trafiği bir uç nokta kümesi boyunca ya da eşit istediğinizde ya da tanımladığınız according tooweights.</span><span class="sxs-lookup"><span data-stu-id="55fa6-109">**[Weighted](#weighted):** Select **Weighted** when you want toodistribute traffic across a set of endpoints, either evenly or according tooweights, which you define.</span></span>
* <span data-ttu-id="55fa6-110">**[Performans](#performance):** seçin **performans** ne zaman farklı coğrafi konumlarda uç noktaları varsa ve son kullanıcıların toouse hello "en yakın" uç nokta hello en düşük ağ gecikmesini bakımından istiyorsanız.</span><span class="sxs-lookup"><span data-stu-id="55fa6-110">**[Performance](#performance):** Select **Performance** when you have endpoints in different geographic locations and you want end users toouse hello "closest" endpoint in terms of hello lowest network latency.</span></span>
* <span data-ttu-id="55fa6-111">**[Coğrafi](#geographic):** seçin **coğrafi** kullanıcıların hangi coğrafi konum temelinde yönlendirilmiş toospecific uç noktaları (Azure, dış veya iç içe); böylece kendi DNS sorgusu kaynaklandığı.</span><span class="sxs-lookup"><span data-stu-id="55fa6-111">**[Geographic](#geographic):** Select **Geographic** so that users are directed toospecific endpoints (Azure, External, or Nested) based on which geographic location their DNS query originates from.</span></span> <span data-ttu-id="55fa6-112">Bu, bir kullanıcının coğrafi bölge bilerek ve bunları oturum tabanlı yönlendirme önemli olduğu trafik Yöneticisi müşteriler tooenable senaryolar güçlendirir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-112">This empowers Traffic Manager customers tooenable scenarios where knowing a user’s geographic region and routing them based on that is important.</span></span> <span data-ttu-id="55fa6-113">Örnek veri egemenliği gerektirir, içerik & kullanıcı deneyiminin yerelleştirme uymaktan ve farklı bölgelerdeki trafiğini ölçme verilebilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-113">Examples include complying with data sovereignty mandates, localization of content & user experience and measuring traffic from different regions.</span></span>

<span data-ttu-id="55fa6-114">Tüm trafik Yöneticisi Profil uç noktası durumu ve otomatik uç nokta yük devretme izlemeyi içerir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-114">All Traffic Manager profiles include monitoring of endpoint health and automatic endpoint failover.</span></span> <span data-ttu-id="55fa6-115">Daha fazla bilgi için bkz: [trafik Yöneticisi uç noktası izleme](traffic-manager-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="55fa6-115">For more information, see [Traffic Manager Endpoint Monitoring](traffic-manager-monitoring.md).</span></span> <span data-ttu-id="55fa6-116">Tek bir Traffic Manager profilini yalnızca bir trafik yönlendirme yöntemini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="55fa6-116">A single Traffic Manager profile can use only one traffic routing method.</span></span> <span data-ttu-id="55fa6-117">Profiliniz için herhangi bir zamanda farklı trafik yönlendirme yöntemini seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="55fa6-117">You can select a different traffic routing method for your profile at any time.</span></span> <span data-ttu-id="55fa6-118">Bir dakika içinde değişiklikler uygulanır ve kapalı kalma süresi olmadan oluşur.</span><span class="sxs-lookup"><span data-stu-id="55fa6-118">Changes are applied within one minute, and no downtime is incurred.</span></span> <span data-ttu-id="55fa6-119">Trafik yönlendirme yöntemleri, iç içe trafik Yöneticisi profilleri kullanılarak birleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-119">Traffic-routing methods can be combined by using nested Traffic Manager profiles.</span></span> <span data-ttu-id="55fa6-120">İç içe geçme daha büyük ve karmaşık uygulamaları hello ihtiyaçlarını karşılayan karmaşık ve esnek trafik yönlendirme yapılandırmaları sağlar.</span><span class="sxs-lookup"><span data-stu-id="55fa6-120">Nesting enables sophisticated and flexible traffic-routing configurations that meet hello needs of larger, complex applications.</span></span> <span data-ttu-id="55fa6-121">Daha fazla bilgi için bkz: [iç içe trafik Yöneticisi profillerine](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="55fa6-121">For more information, see [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>

## <span data-ttu-id="55fa6-122"><a name = "priority"></a>Öncelik trafik yönlendirme yöntemi</span><span class="sxs-lookup"><span data-stu-id="55fa6-122"><a name = "priority"></a>Priority traffic-routing method</span></span>

<span data-ttu-id="55fa6-123">Genellikle bir kuruluşun kendi birincil hizmet arıza durumunda bir veya daha fazla yedekleme hizmetleri dağıtarak hizmetlerinin tooprovide güvenilirliği istemektedir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-123">Often an organization wants tooprovide reliability for its services by deploying one or more backup services in case their primary service goes down.</span></span> <span data-ttu-id="55fa6-124">Merhaba 'Priority' trafik yönlendirme yöntemini sağlayan Azure müşterilerin tooeasily Bu yük devretme desen uygulamak.</span><span class="sxs-lookup"><span data-stu-id="55fa6-124">hello 'Priority' traffic-routing method allows Azure customers tooeasily implement this failover pattern.</span></span>

![Azure trafik Yöneticisi 'Priority' trafik yönlendirme yöntemi][1]

<span data-ttu-id="55fa6-126">Merhaba trafik Yöneticisi profili hizmet uç noktaları öncelikli listesi içerir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-126">hello Traffic Manager profile contains a prioritized list of service endpoints.</span></span> <span data-ttu-id="55fa6-127">Varsayılan olarak, tüm trafik toohello birincil (en yüksek öncelik) uç trafik Yöneticisi gönderir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-127">By default, Traffic Manager sends all traffic toohello primary (highest-priority) endpoint.</span></span> <span data-ttu-id="55fa6-128">Merhaba birincil uç noktası kullanılabilir durumda değilse, trafik Yöneticisi yollar trafiği toohello ikinci uç nokta hello.</span><span class="sxs-lookup"><span data-stu-id="55fa6-128">If hello primary endpoint is not available, Traffic Manager routes hello traffic toohello second endpoint.</span></span> <span data-ttu-id="55fa6-129">Her iki hello birincil ve ikincil uç noktaları mevcut değilse hello trafiği toohello gider üçüncü, vb..</span><span class="sxs-lookup"><span data-stu-id="55fa6-129">If both hello primary and secondary endpoints are not available, hello traffic goes toohello third, and so on.</span></span> <span data-ttu-id="55fa6-130">(Etkin veya devre dışı) yapılandırılmış hello durumuna göre hello uç noktasının kullanılabilirliğini ve devam eden uç nokta izleme hello.</span><span class="sxs-lookup"><span data-stu-id="55fa6-130">Availability of hello endpoint is based on hello configured status (enabled or disabled) and hello ongoing endpoint monitoring.</span></span>

### <a name="configuring-endpoints"></a><span data-ttu-id="55fa6-131">Uç noktalarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="55fa6-131">Configuring endpoints</span></span>

<span data-ttu-id="55fa6-132">Azure Resource Manager ile Merhaba 'priority' özelliği için her bir uç nokta kullanılarak açıkça hello uç nokta önceliği yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="55fa6-132">With Azure Resource Manager, you configure hello endpoint priority explicitly using hello 'priority' property for each endpoint.</span></span> <span data-ttu-id="55fa6-133">Bu özellik, 1 ile 1000 arasında bir değerdir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-133">This property is a value between 1 and 1000.</span></span> <span data-ttu-id="55fa6-134">Daha düşük değerler daha yüksek önceliği temsil eder.</span><span class="sxs-lookup"><span data-stu-id="55fa6-134">Lower values represent a higher priority.</span></span> <span data-ttu-id="55fa6-135">Uç noktaları öncelik değerleri paylaşamaz.</span><span class="sxs-lookup"><span data-stu-id="55fa6-135">Endpoints cannot share priority values.</span></span> <span data-ttu-id="55fa6-136">Merhaba özelliğinin ayarlanması isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-136">Setting hello property is optional.</span></span> <span data-ttu-id="55fa6-137">Atlanmış hello uç nokta sırasına göre varsayılan öncelik kullanılır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-137">When omitted, a default priority based on hello endpoint order is used.</span></span>

##<span data-ttu-id="55fa6-138"><a name = "weighted"></a>Ağırlıklı trafik yönlendirme yöntemi</span><span class="sxs-lookup"><span data-stu-id="55fa6-138"><a name = "weighted"></a>Weighted traffic-routing method</span></span>
<span data-ttu-id="55fa6-139">Merhaba 'Weighted' trafik yönlendirme yöntemini verir toodistribute trafiği eşit veya toouse önceden tanımlanmış ağırlığı.</span><span class="sxs-lookup"><span data-stu-id="55fa6-139">hello 'Weighted' traffic-routing method allows you toodistribute traffic evenly or toouse a pre-defined weighting.</span></span>

![Azure trafik Yöneticisi 'Ağırlıklı' trafik yönlendirme yöntemi][2]

<span data-ttu-id="55fa6-141">Merhaba ağırlıklı trafik yönlendirme yöntemini, bir ağırlık tooeach uç noktası hello trafik Yöneticisi profili yapılandırması atayın.</span><span class="sxs-lookup"><span data-stu-id="55fa6-141">In hello Weighted traffic-routing method, you assign a weight tooeach endpoint in hello Traffic Manager profile configuration.</span></span> <span data-ttu-id="55fa6-142">Merhaba ağırlığı 1 too1000 arasında bir tamsayıdır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-142">hello weight is an integer from 1 too1000.</span></span> <span data-ttu-id="55fa6-143">Bu parametre isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-143">This parameter is optional.</span></span> <span data-ttu-id="55fa6-144">Belirtilmezse, trafiği yöneticileri varsayılan ağırlık '1' olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-144">If omitted, Traffic Managers uses a default weight of '1'.</span></span>

<span data-ttu-id="55fa6-145">Alınan her DNS sorgusu için trafik Yöneticisi kullanılabilir uç nokta rastgele seçer.</span><span class="sxs-lookup"><span data-stu-id="55fa6-145">For each DNS query received, Traffic Manager randomly chooses an available endpoint.</span></span> <span data-ttu-id="55fa6-146">bir uç noktasını hello olasılığını tooall kullanılabilir uç noktaları atanan hello ağırlıklarını temel alır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-146">hello probability of choosing an endpoint is based on hello weights assigned tooall available endpoints.</span></span> <span data-ttu-id="55fa6-147">Hello kullanarak aynı bir bile trafik dağılımı tüm uç noktaları sonuçlarında arasında ağırlık.</span><span class="sxs-lookup"><span data-stu-id="55fa6-147">Using hello same weight across all endpoints results in an even traffic distribution.</span></span> <span data-ttu-id="55fa6-148">Daha yüksek veya düşük ağırlıkları üzerinde belirli uç noktalarını kullanarak fazla veya az sık hello DNS yanıtları döndürülen bu uç noktaları toobe neden olur.</span><span class="sxs-lookup"><span data-stu-id="55fa6-148">Using higher or lower weights on specific endpoints causes those endpoints toobe returned more or less frequently in hello DNS responses.</span></span>

<span data-ttu-id="55fa6-149">Ağırlıklı hello yöntemi bazı yararlı senaryolarına olanak sağlar:</span><span class="sxs-lookup"><span data-stu-id="55fa6-149">hello weighted method enables some useful scenarios:</span></span>

* <span data-ttu-id="55fa6-150">Aşamalı uygulama yükseltme: trafiği tooroute tooa yeni uç nokta yüzdesi ayırmak ve hello trafiği saati too100% aşamalı olarak artırmak.</span><span class="sxs-lookup"><span data-stu-id="55fa6-150">Gradual application upgrade: Allocate a percentage of traffic tooroute tooa new endpoint, and gradually increase hello traffic over time too100%.</span></span>
* <span data-ttu-id="55fa6-151">Uygulama geçiş tooAzure: hem Azure hem de dış uç noktalar ile bir profili oluşturun.</span><span class="sxs-lookup"><span data-stu-id="55fa6-151">Application migration tooAzure: Create a profile with both Azure and external endpoints.</span></span> <span data-ttu-id="55fa6-152">Merhaba ağırlık hello uç noktaları tooprefer hello yeni uç nokta olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="55fa6-152">Adjust hello weight of hello endpoints tooprefer hello new endpoints.</span></span>
* <span data-ttu-id="55fa6-153">Ek kapasite için bulut emniyeti: bir Traffic Manager profilini koyarak bir şirket içi dağıtım hello buluta hızlı bir şekilde genişletin.</span><span class="sxs-lookup"><span data-stu-id="55fa6-153">Cloud-bursting for additional capacity: Quickly expand an on-premises deployment into hello cloud by putting it behind a Traffic Manager profile.</span></span> <span data-ttu-id="55fa6-154">Merhaba bulut ek kapasite gerektiğinde, ekleyin veya daha fazla uç noktaları etkinleştirin ve hangi trafik bölümünü tooeach endpoint gider belirtin.</span><span class="sxs-lookup"><span data-stu-id="55fa6-154">When you need extra capacity in hello cloud, you can add or enable more endpoints and specify what portion of traffic goes tooeach endpoint.</span></span>

<span data-ttu-id="55fa6-155">Merhaba Resource Manager Azure portal ağırlıklı trafik yönlendirme hello yapılandırmasını destekler.</span><span class="sxs-lookup"><span data-stu-id="55fa6-155">hello Resource Manager Azure portal supports hello configuration of weighted traffic routing.</span></span>  <span data-ttu-id="55fa6-156">Azure PowerShell'i, CLI ve hello REST API sürümleri hello Resource Manager kullanarak ağırlıkları yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="55fa6-156">You can configure weights using hello Resource Manager versions of Azure PowerShell, CLI, and hello REST APIs.</span></span>

<span data-ttu-id="55fa6-157">DNS yanıtları istemciler tarafından önbelleğe alınır ve istemcilerin hello hello yinelemeli DNS sunucuları tarafından tooresolve DNS adlarını kullanın önemli toounderstand olur.</span><span class="sxs-lookup"><span data-stu-id="55fa6-157">It is important toounderstand that DNS responses are cached by clients and by hello recursive DNS servers that hello clients use tooresolve DNS names.</span></span> <span data-ttu-id="55fa6-158">Bu önbelleğe alma ağırlıklı trafiği dağıtımları üzerinde bir etkisi olabilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-158">This caching can have an impact on weighted traffic distributions.</span></span> <span data-ttu-id="55fa6-159">Merhaba sayıda istemci ve yinelemeli DNS sunucuları büyük olduğunda trafik dağılımı beklendiği gibi çalışır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-159">When hello number of clients and recursive DNS servers is large, traffic distribution works as expected.</span></span> <span data-ttu-id="55fa6-160">İstemcileri veya yinelemeli DNS sunucuları Hello sayısı az olduğunda ancak, önbelleğe alma önemli ölçüde hello trafik dağılımı eğme.</span><span class="sxs-lookup"><span data-stu-id="55fa6-160">However, when hello number of clients or recursive DNS servers is small, caching can significantly skew hello traffic distribution.</span></span>

<span data-ttu-id="55fa6-161">Ortak kullanım durumları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="55fa6-161">Common use cases include:</span></span>

* <span data-ttu-id="55fa6-162">Geliştirme ve test ortamları</span><span class="sxs-lookup"><span data-stu-id="55fa6-162">Development and testing environments</span></span>
* <span data-ttu-id="55fa6-163">Uygulama uygulama iletişimleri</span><span class="sxs-lookup"><span data-stu-id="55fa6-163">Application-to-application communications</span></span>
* <span data-ttu-id="55fa6-164">Uygulamalar bir dar kullanıcı ortak bir yinelemeli DNS altyapısı (örneğin, bir proxy üzerinden bağlanma şirket çalışanlarının) paylaşan temel yönelik</span><span class="sxs-lookup"><span data-stu-id="55fa6-164">Applications aimed at a narrow user-base that share a common recursive DNS infrastructure (for example, employees of company connecting through a proxy)</span></span>

<span data-ttu-id="55fa6-165">Bu DNS önbelleğe alma etkileri ortak tooall DNS tabanlı trafik yönlendirme, yalnızca Azure Traffic Manager sistemleridir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-165">These DNS caching effects are common tooall DNS-based traffic routing systems, not just Azure Traffic Manager.</span></span> <span data-ttu-id="55fa6-166">Bazı durumlarda, açıkça hello DNS önbelleği temizleme geçici bir çözüm sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-166">In some cases, explicitly clearing hello DNS cache may provide a workaround.</span></span> <span data-ttu-id="55fa6-167">Diğer durumlarda, alternatif bir trafik yönlendirme yöntemi daha uygun olabilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-167">In other cases, an alternative traffic-routing method may be more appropriate.</span></span>

## <span data-ttu-id="55fa6-168"><a name = "performance"></a>Performans trafik yönlendirme yöntemi</span><span class="sxs-lookup"><span data-stu-id="55fa6-168"><a name = "performance"></a>Performance traffic-routing method</span></span>

<span data-ttu-id="55fa6-169">İki veya daha fazla konumlarda uç noktaları Merhaba Dünya çapında dağıtma hello uygulamalarının yanıtlama hızını birçok 'en yakın' tooyou olan Yönlendirme trafiği toohello konuma göre artırabilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-169">Deploying endpoints in two or more locations across hello globe can improve hello responsiveness of many applications by routing traffic toohello location that is 'closest' tooyou.</span></span> <span data-ttu-id="55fa6-170">Merhaba 'Performans' trafik yönlendirme yöntemini bu yeteneği sağlar.</span><span class="sxs-lookup"><span data-stu-id="55fa6-170">hello 'Performance' traffic-routing method provides this capability.</span></span>

![Azure trafik Yöneticisi 'Performans' trafik yönlendirme yöntemi][3]

<span data-ttu-id="55fa6-172">Merhaba 'en yakın' bitiş noktası tarafından coğrafi uzaklığı ölçülen mutlaka yakın değil.</span><span class="sxs-lookup"><span data-stu-id="55fa6-172">hello 'closest' endpoint is not necessarily closest as measured by geographic distance.</span></span> <span data-ttu-id="55fa6-173">Bunun yerine, ağ gecikmesi ölçerek hello en yakın endpoint hello 'Performans' trafik yönlendirme yöntemini belirler.</span><span class="sxs-lookup"><span data-stu-id="55fa6-173">Instead, hello 'Performance' traffic-routing method determines hello closest endpoint by measuring network latency.</span></span> <span data-ttu-id="55fa6-174">Trafik Yöneticisi Internet gecikme tablosu bir tootrack hello gidiş dönüş süresi IP adresi aralıkları ve her Azure veri merkezi arasında tutar.</span><span class="sxs-lookup"><span data-stu-id="55fa6-174">Traffic Manager maintains an Internet Latency Table tootrack hello round-trip time between IP address ranges and each Azure datacenter.</span></span>

<span data-ttu-id="55fa6-175">Trafik Yöneticisi hello gelen DNS istekte hello Internet gecikme tablosu hello kaynak IP adresi arar.</span><span class="sxs-lookup"><span data-stu-id="55fa6-175">Traffic Manager looks up hello source IP address of hello incoming DNS request in hello Internet Latency Table.</span></span> <span data-ttu-id="55fa6-176">Trafik Yöneticisi kullanılabilir uç nokta hello hello IP adres aralığı için en düşük gecikme süresine sahiptir ve ardından bu uç hello DNS yanıtı döndürür Azure veri merkezi içinde seçer.</span><span class="sxs-lookup"><span data-stu-id="55fa6-176">Traffic Manager chooses an available endpoint in hello Azure datacenter that has hello lowest latency for that IP address range, then returns that endpoint in hello DNS response.</span></span>

<span data-ttu-id="55fa6-177">İçinde anlatıldığı gibi [nasıl trafik Yöneticisi çalışır](traffic-manager-overview.md#how-traffic-manager-works), trafik Yöneticisi DNS sorgularını doğrudan istemcilerden almaz.</span><span class="sxs-lookup"><span data-stu-id="55fa6-177">As explained in [How Traffic Manager Works](traffic-manager-overview.md#how-traffic-manager-works), Traffic Manager does not receive DNS queries directly from clients.</span></span> <span data-ttu-id="55fa6-178">Bunun yerine, DNS sorgularını hello istemcileri yapılandırılmış toouse olduğunu hello yinelemeli DNS hizmetinden gelen.</span><span class="sxs-lookup"><span data-stu-id="55fa6-178">Rather, DNS queries come from hello recursive DNS service that hello clients are configured toouse.</span></span> <span data-ttu-id="55fa6-179">Bu nedenle, hello IP adresi kullanılan toodetermine hello 'en yakın' uç noktası hello istemcinin IP adresi değil ancak hello yinelemeli DNS hizmeti başlangıç IP adresi olacak.</span><span class="sxs-lookup"><span data-stu-id="55fa6-179">Therefore, hello IP address used toodetermine hello 'closest' endpoint is not hello client's IP address, but it is hello IP address of hello recursive DNS service.</span></span> <span data-ttu-id="55fa6-180">Uygulamada, hello istemci için iyi bir proxy bu IP adresidir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-180">In practice, this IP address is a good proxy for hello client.</span></span>


<span data-ttu-id="55fa6-181">Trafik güncelleştirmeleri Internet gecikme tablosu tooaccount değişiklikleri hello Yöneticisi düzenli olarak genel Internet ve yeni Azure bölgeleri hello.</span><span class="sxs-lookup"><span data-stu-id="55fa6-181">Traffic Manager regularly updates hello Internet Latency Table tooaccount for changes in hello global Internet and new Azure regions.</span></span> <span data-ttu-id="55fa6-182">Ancak, uygulama performansı göre yük gerçek zamanlı Çeşitlemeler Internet hello arasında değişir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-182">However, application performance varies based on real-time variations in load across hello Internet.</span></span> <span data-ttu-id="55fa6-183">Performans trafik yönlendirme verilen hizmet uç noktası üzerindeki yük izlemez.</span><span class="sxs-lookup"><span data-stu-id="55fa6-183">Performance traffic-routing does not monitor load on a given service endpoint.</span></span> <span data-ttu-id="55fa6-184">Bir uç nokta kullanılamaz duruma gelirse, ancak, trafik Yöneticisi, DNS sorgu yanıtlarında içermeyecek.</span><span class="sxs-lookup"><span data-stu-id="55fa6-184">However, if an endpoint becomes unavailable, Traffic Manager does not include it in DNS query responses.</span></span>


<span data-ttu-id="55fa6-185">Noktaları toonote:</span><span class="sxs-lookup"><span data-stu-id="55fa6-185">Points toonote:</span></span>

* <span data-ttu-id="55fa6-186">Profilinizi içinde birden fazla uç noktası içeriyorsa, Traffic Manager trafik hello bu bölgede kullanılabilir uç noktaları arasında dağıtır sonra aynı Azure bölgesinde hello.</span><span class="sxs-lookup"><span data-stu-id="55fa6-186">If your profile contains multiple endpoints in hello same Azure region, then Traffic Manager distributes traffic evenly across hello available endpoints in that region.</span></span> <span data-ttu-id="55fa6-187">Bir bölge içinde farklı trafik dağılımı tercih ederseniz, kullanabileceğiniz [iç içe trafik Yöneticisi profillerine](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="55fa6-187">If you prefer a different traffic distribution within a region, you can use [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>
* <span data-ttu-id="55fa6-188">Tüm hello en yakın uç noktalarını etkin olduğunda Azure bölgesi düzeyi düşürülmüş, Traffic Manager trafik toohello uç noktaları hello sonraki en yakın Azure bölgesinde taşır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-188">If all enabled endpoints in hello closest Azure region are degraded, Traffic Manager moves traffic toohello endpoints in hello next closest Azure region.</span></span> <span data-ttu-id="55fa6-189">Toodefine tercih edilen yük devretme sırası istiyorsanız kullanın [iç içe trafik Yöneticisi profillerine](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="55fa6-189">If you want toodefine a preferred failover sequence, use [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>
* <span data-ttu-id="55fa6-190">Merhaba performans trafik yönlendirme yöntemini dış uç noktalar veya iç içe geçmiş uç noktaları ile kullanırken bu uç toospecify hello konumunu gerekir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-190">When using hello Performance traffic routing method with external endpoints or nested endpoints, you need toospecify hello location of those endpoints.</span></span> <span data-ttu-id="55fa6-191">Hello Azure bölgesi en yakın tooyour dağıtımı seçin.</span><span class="sxs-lookup"><span data-stu-id="55fa6-191">Choose hello Azure region closest tooyour deployment.</span></span> <span data-ttu-id="55fa6-192">Konumların hello Internet gecikme tablosu tarafından desteklenen hello değerlerdir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-192">Those locations are hello values supported by hello Internet Latency Table.</span></span>
* <span data-ttu-id="55fa6-193">Merhaba uç noktası seçtiği hello belirleyici algoritmasıdır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-193">hello algorithm that chooses hello endpoint is deterministic.</span></span> <span data-ttu-id="55fa6-194">DNS sorgularından aynı istemci hello yönlendirilmiş toohello yinelenen aynı uç noktası.</span><span class="sxs-lookup"><span data-stu-id="55fa6-194">Repeated DNS queries from hello same client are directed toohello same endpoint.</span></span> <span data-ttu-id="55fa6-195">Genellikle, istemcilerin seyahat halindeyken farklı yinelemeli DNS sunucusu kullanın.</span><span class="sxs-lookup"><span data-stu-id="55fa6-195">Typically, clients use different recursive DNS servers when traveling.</span></span> <span data-ttu-id="55fa6-196">Merhaba istemci yönlendirilmiş tooa farklı uç noktası olabilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-196">hello client may be routed tooa different endpoint.</span></span> <span data-ttu-id="55fa6-197">Yönlendirme güncelleştirmeleri toohello Internet gecikme tablosu tarafından etkilenebilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-197">Routing can also be affected by updates toohello Internet Latency Table.</span></span> <span data-ttu-id="55fa6-198">Bu nedenle, hello trafik yönlendirme yöntemini garanti etmez bir istemci her zaman olduğunu performans toohello yönlendirilen aynı uç noktası.</span><span class="sxs-lookup"><span data-stu-id="55fa6-198">Therefore, hello Performance traffic-routing method does not guarantee that a client is always routed toohello same endpoint.</span></span>
* <span data-ttu-id="55fa6-199">Merhaba Internet gecikme tablosu değiştiğinde bazı istemciler yönlendirilmiş tooa farklı uç noktası olduğunu fark edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="55fa6-199">When hello Internet Latency Table changes, you may notice that some clients are directed tooa different endpoint.</span></span> <span data-ttu-id="55fa6-200">Bu yönlendirme değişiklik geçerli gecikme verilere göre daha doğru olur.</span><span class="sxs-lookup"><span data-stu-id="55fa6-200">This routing change is more accurate based on current latency data.</span></span> <span data-ttu-id="55fa6-201">Bu temel toomaintain hello doğruluğunu performans trafik yönlendirme Internet sürekli dönüşmesi hello olarak güncelleştirmelerdir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-201">These updates are essential toomaintain hello accuracy of Performance traffic-routing as hello Internet continually evolves.</span></span>

## <span data-ttu-id="55fa6-202"><a name = "geographic"></a>Coğrafi trafik yönlendirme yöntemi</span><span class="sxs-lookup"><span data-stu-id="55fa6-202"><a name = "geographic"></a>Geographic traffic-routing method</span></span>

<span data-ttu-id="55fa6-203">Trafik Yöneticisi profilleri, böylece kullanıcılar toospecific uç noktaları (Azure, dış veya iç içe) hangi coğrafi konum kendi DNS sorgusu temelinde yönlendirilir yönlendirme yöntemini Geographic kaynaklandığı yapılandırılmış toouse hello olabilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-203">Traffic Manager profiles can be configured toouse hello Geographic routing method so that users are directed toospecific endpoints (Azure, External or Nested) based on which geographic location their DNS query originates from.</span></span> <span data-ttu-id="55fa6-204">Bu, bir kullanıcının coğrafi bölge bilerek ve bunları oturum tabanlı yönlendirme önemli olduğu trafik Yöneticisi müşteriler tooenable senaryolar güçlendirir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-204">This empowers Traffic Manager customers tooenable scenarios where knowing a user’s geographic region and routing them based on that is important.</span></span> <span data-ttu-id="55fa6-205">Örnek veri egemenliği gerektirir, içerik & kullanıcı deneyiminin yerelleştirme uymaktan ve farklı bölgelerdeki trafiğini ölçme verilebilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-205">Examples include complying with data sovereignty mandates, localization of content & user experience and measuring traffic from different regions.</span></span>
<span data-ttu-id="55fa6-206">Bir profili coğrafi yönlendirme için yapılandırıldığında, her bitiş profili toohave atanan coğrafi bölgeler tooit kümesi gerektiğini ilişkili.</span><span class="sxs-lookup"><span data-stu-id="55fa6-206">When a profile is configured for geographic routing, each endpoint associated with that profile needs toohave a set of geographic regions assigned tooit.</span></span> <span data-ttu-id="55fa6-207">Coğrafi bir bölgenin ayrıntı düzeyi aşağıdaki düzeylerde olabilir</span><span class="sxs-lookup"><span data-stu-id="55fa6-207">A geographic region can be at following levels of granularity</span></span> 
- <span data-ttu-id="55fa6-208">Dünya – herhangi bir bölgeyi</span><span class="sxs-lookup"><span data-stu-id="55fa6-208">World– any region</span></span>
- <span data-ttu-id="55fa6-209">Bölgesel gruplandırma – Örneğin, Afrika, Orta Doğu, Avustralya/Pasifik vs.</span><span class="sxs-lookup"><span data-stu-id="55fa6-209">Regional Grouping – for example, Africa, Middle East, Australia/Pacific etc.</span></span> 
- <span data-ttu-id="55fa6-210">Ülke/bölge – Örneğin, İrlanda, Peru, Hong Kong ÖİB vs.</span><span class="sxs-lookup"><span data-stu-id="55fa6-210">Country/Region – for example, Ireland, Peru, Hong Kong SAR etc.</span></span> 
- <span data-ttu-id="55fa6-211">Bölge – Örneğin, ABD California, Avustralya-Queensland, Kanada Alberta vb. (Not: Bu ayrıntı düzeyi yalnızca durumları için desteklenen / il Avustralya, Kanada, İngiltere ve ABD).</span><span class="sxs-lookup"><span data-stu-id="55fa6-211">State/Province – for example, USA-California, Australia-Queensland, Canada-Alberta etc. (note: this granularity level is supported only for states / provinces in Australia, Canada, UK, and USA).</span></span>

<span data-ttu-id="55fa6-212">Bir bölge veya bölge kümesi tooan uç noktası atandığında, bu bölgeler gelen tüm isteklerin yönlendirilmiş yalnızca toothat uç noktası alır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-212">When a region or a set of regions is assigned tooan endpoint, any requests from those regions gets routed only toothat endpoint.</span></span> <span data-ttu-id="55fa6-213">Trafik Yöneticisi gelen bir kullanıcı sorgulama – genellikle bu hello IP hello sorgu hello kullanıcı adına yapılması hello yerel DNS Çözümleyicisi adresidir hello DNS sorgu toodetermine hello bölge hello kaynak IP adresini kullanır.</span><span class="sxs-lookup"><span data-stu-id="55fa6-213">Traffic Manager uses hello source IP address of hello DNS query toodetermine hello region from which a user is querying from – usually this is hello IP address of hello local DNS resolver doing hello query on behalf of hello user.</span></span>  

![Azure trafik Yöneticisi 'Coğrafi' trafik yönlendirme yöntemi](./media/traffic-manager-routing-methods/geographic.png)

<span data-ttu-id="55fa6-215">Trafik Yöneticisi hello DNS sorgusu hello kaynak IP adresi bilgilerini okur ve veritabanından kaynaklanan hangi coğrafi bölge karar verir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-215">Traffic Manager reads hello source IP address of hello DNS query and decides which geographic region it is originating from.</span></span> <span data-ttu-id="55fa6-216">Bu eşlenen coğrafi bölge tooit sahip bir uç nokta ise ardından toosee arar.</span><span class="sxs-lookup"><span data-stu-id="55fa6-216">It then looks toosee if there is an endpoint that has this geographic region mapped tooit.</span></span> <span data-ttu-id="55fa6-217">Bu arama hello düşük ayrıntı düzeyinde (burada, desteklenir, aksi takdirde hello ülke/bölge düzeyinde bölge) başlar ve tüm hello yolu olan toohello yüksek düzey girer **World**.</span><span class="sxs-lookup"><span data-stu-id="55fa6-217">This lookup starts at hello lowest granularity level (State/Province where it is supported, else at hello Country/Region level) and goes all hello way up toohello highest level, which is **World**.</span></span> <span data-ttu-id="55fa6-218">Bu geçişi kullanarak hello uç nokta tooreturn hello sorgu yanıt olarak tasarlanmış Hello ilk eşleşme bulunamadı.</span><span class="sxs-lookup"><span data-stu-id="55fa6-218">hello first match found using this traversal is designated as hello endpoint tooreturn in hello query response.</span></span> <span data-ttu-id="55fa6-219">Bir uç nokta, alt profilindeki bir iç içe türü uç noktasıyla eşleşen döndürüldüğünde, kendi yönlendirme yöntemini esas alarak.</span><span class="sxs-lookup"><span data-stu-id="55fa6-219">When matching with a Nested type endpoint, an endpoint within that child profile is returned, based on its routing method.</span></span> <span data-ttu-id="55fa6-220">Başlangıç noktaları aşağıdaki geçerli toothis davranışı şunlardır:</span><span class="sxs-lookup"><span data-stu-id="55fa6-220">hello following points are applicable toothis behavior:</span></span>

- <span data-ttu-id="55fa6-221">Merhaba yönlendirme türü coğrafi yönlendirme olduğunda coğrafi bir bölgenin bir Traffic Manager profilini yalnızca eşlenen tooone uç olabilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-221">A geographic region can be mapped only tooone endpoint in a Traffic Manager profile when hello routing type is Geographic Routing.</span></span> <span data-ttu-id="55fa6-222">Bu kullanıcıları yönlendirme belirleyici ve müşteriler anlaşılır coğrafi sınırları gerektiren senaryolar etkinleştirebilirsiniz sağlar.</span><span class="sxs-lookup"><span data-stu-id="55fa6-222">This ensures that routing of users is deterministic, and customers can enable scenarios that require unambiguous geographic boundaries.</span></span>
- <span data-ttu-id="55fa6-223">Bir kullanıcının bölge altında iki farklı uç noktalar coğrafi eşleme geliyorsa, trafik Yöneticisi hello en düşük ayrıntı hello uç noktası seçer ve bu bölge toohello yönlendirme isteklerinden diğer uç nokta dikkate almaz.</span><span class="sxs-lookup"><span data-stu-id="55fa6-223">If a user’s region comes under two different endpoints’ geographic mapping, Traffic Manager selects hello endpoint with hello lowest granularity and does not consider routing requests from that region toohello other endpoint.</span></span> <span data-ttu-id="55fa6-224">Örneğin, coğrafi yönlendirme türü profili iki uç noktaları - bitiş noktası 1 ve Endpoint2 göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="55fa6-224">For example, consider a Geographic Routing type profile with two endpoints - Endpoint1 and Endpoint2.</span></span> <span data-ttu-id="55fa6-225">Bitiş noktası 1 yapılandırılmış İrlanda ve Endpoint2 tooreceive trafiği yapılandırılmış Avrupa tooreceive trafiği.</span><span class="sxs-lookup"><span data-stu-id="55fa6-225">Endpoint1 is configured tooreceive traffic from Ireland and Endpoint2 is configured tooreceive traffic from Europe.</span></span> <span data-ttu-id="55fa6-226">İrlanda'dan bir isteğin kaynaklandığı, her zaman yönlendirilmiş tooEndpoint1 olur.</span><span class="sxs-lookup"><span data-stu-id="55fa6-226">If a request originates from Ireland, it is always routed tooEndpoint1.</span></span>
- <span data-ttu-id="55fa6-227">Bir bölge eşlenen yalnızca tooone uç nokta olabileceği için trafik Yöneticisi bunu hello endpoint sağlıklı olup olmamasına bakılmaksızın döndürür.</span><span class="sxs-lookup"><span data-stu-id="55fa6-227">Since a region can be mapped only tooone endpoint, Traffic Manager returns it regardless of whether hello endpoint is healthy or not.</span></span>

    >[!IMPORTANT]
    ><span data-ttu-id="55fa6-228">Merhaba coğrafi yönlendirme yöntemini kullanan müşteriler, her içinde en az iki uç nokta içeren alt profilleri sahip hello iç içe türü uç noktaları ilişkilendirme önerilir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-228">It is strongly recommended that customers using hello geographic routing method associate it with hello Nested type endpoints that has child profiles containing at least two endpoints within each.</span></span>
- <span data-ttu-id="55fa6-229">Bir uç nokta eşleşme bulundu ve bu uç hello olup olmadığını **durduruldu** durumunda, trafik Yöneticisi NODATA yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-229">If an endpoint match is found and that endpoint is in hello **Stopped** state, Traffic Manager returns a NODATA response.</span></span> <span data-ttu-id="55fa6-230">Bu durumda, başka bir arama yapılır yukarıya hello coğrafi bölge hiyerarşisinde.</span><span class="sxs-lookup"><span data-stu-id="55fa6-230">In this case, no further lookups is made higher up in hello geographic region hierarchy.</span></span> <span data-ttu-id="55fa6-231">Bu davranış da Hello alt profili hello olduğunda iç içe geçmiş uç nokta türleri için geçerli olur. **durduruldu** veya **devre dışı** durumu.</span><span class="sxs-lookup"><span data-stu-id="55fa6-231">This behavior is also applicable for nested endpoint types when hello child profile is in hello **Stopped** or **Disabled** state.</span></span>
- <span data-ttu-id="55fa6-232">Bir uç nokta görüntülerse bir **devre dışı** durumu, işlem eşleştirme hello bölgede eklenmeyecek.</span><span class="sxs-lookup"><span data-stu-id="55fa6-232">If an endpoint displays a **Disabled** status, it won’t be included in hello region matching process.</span></span> <span data-ttu-id="55fa6-233">Bu davranış da Hello endpoint hello olduğunda iç içe geçmiş uç nokta türleri için geçerli olur. **devre dışı** durumu.</span><span class="sxs-lookup"><span data-stu-id="55fa6-233">This behavior is also applicable for nested endpoint types when hello endpoint is in hello **Disabled** state.</span></span>
- <span data-ttu-id="55fa6-234">Bir sorgu, bu profilde eşleme olan coğrafi bölgedeki geliyorsa, trafik Yöneticisi NODATA yanıtı döndürür.</span><span class="sxs-lookup"><span data-stu-id="55fa6-234">If a query is coming from a geographic region that has no mapping in that profile, Traffic Manager returns a NODATA response.</span></span> <span data-ttu-id="55fa6-235">Bu nedenle, müşterilerin ideal türünde, iç içe hello bölgesiyle hello alt profilinde en az iki uç nokta bir uç nokta ile coğrafi yönlendirme kullandığı önerilir **World** tooit atanmış.</span><span class="sxs-lookup"><span data-stu-id="55fa6-235">Therefore, it is strongly recommended that customers use geographic routing with one endpoint, ideally of type Nested with at least two endpoints within hello child profile, with hello region **World** assigned tooit.</span></span> <span data-ttu-id="55fa6-236">Bu, aynı zamanda tooa bölge eşlemediğinden herhangi bir IP adresi işlenmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="55fa6-236">This also ensures that any IP addresses that do not map tooa region are handled.</span></span>

<span data-ttu-id="55fa6-237">İçinde anlatıldığı gibi [nasıl trafik Yöneticisi çalışır](traffic-manager-how-traffic-manager-works.md), trafik Yöneticisi DNS sorgularını doğrudan istemcilerden almaz.</span><span class="sxs-lookup"><span data-stu-id="55fa6-237">As explained in [How Traffic Manager Works](traffic-manager-how-traffic-manager-works.md), Traffic Manager does not receive DNS queries directly from clients.</span></span> <span data-ttu-id="55fa6-238">Bunun yerine, DNS sorgularını hello istemcileri yapılandırılmış toouse olduğunu hello yinelemeli DNS hizmetinden gelen.</span><span class="sxs-lookup"><span data-stu-id="55fa6-238">Rather, DNS queries come from hello recursive DNS service that hello clients are configured toouse.</span></span> <span data-ttu-id="55fa6-239">Bu nedenle, başlangıç IP adresi kullanılan toodetermine hello bölge istemcinin IP adresi Merhaba, ancak bunu hello yinelemeli DNS hizmeti başlangıç IP adresi değil.</span><span class="sxs-lookup"><span data-stu-id="55fa6-239">Therefore, hello IP address used toodetermine hello region is not hello client's IP address, but it is hello IP address of hello recursive DNS service.</span></span> <span data-ttu-id="55fa6-240">Uygulamada, hello istemci için iyi bir proxy bu IP adresidir.</span><span class="sxs-lookup"><span data-stu-id="55fa6-240">In practice, this IP address is a good proxy for hello client.</span></span>


## <a name="next-steps"></a><span data-ttu-id="55fa6-241">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="55fa6-241">Next steps</span></span>

<span data-ttu-id="55fa6-242">Bilgi nasıl kullanarak toodevelop yüksek kullanılabilirlik uygulamaları [trafik Yöneticisi uç nokta izleme](traffic-manager-monitoring.md)</span><span class="sxs-lookup"><span data-stu-id="55fa6-242">Learn how toodevelop high-availability applications using [Traffic Manager endpoint monitoring](traffic-manager-monitoring.md)</span></span>

<span data-ttu-id="55fa6-243">Nasıl çok öğrenin[trafik Yöneticisi profili oluştur](traffic-manager-create-profile.md)</span><span class="sxs-lookup"><span data-stu-id="55fa6-243">Learn how too[create a Traffic Manager profile](traffic-manager-create-profile.md)</span></span>

<!--Image references-->
[1]: ./media/traffic-manager-routing-methods/priority.png
[2]: ./media/traffic-manager-routing-methods/weighted.png
[3]: ./media/traffic-manager-routing-methods/performance.png



