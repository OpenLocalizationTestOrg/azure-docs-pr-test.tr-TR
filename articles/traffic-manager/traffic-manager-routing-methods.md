---
title: "Azure Traffic Manager - trafik yönlendirme yöntemleri | Microsoft Docs"
description: "Bu trafik Yöneticisi tarafından kullanılan farklı trafik yönlendirme yöntemleri anlamanıza yardımcı makaleler"
services: traffic-manager
documentationcenter: 
author: KumudD
manager: timlt
editor: 
ms.assetid: db1efbf6-6762-4c7a-ac99-675d4eeb54d0
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/13/2017
ms.author: kumud
ms.openlocfilehash: fe776e24a4f78b389c6096694055b38befa3c419
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/03/2017
---
# <a name="traffic-manager-routing-methods"></a><span data-ttu-id="456f4-103">Traffic Manager yönlendirme yöntemleri</span><span class="sxs-lookup"><span data-stu-id="456f4-103">Traffic Manager routing methods</span></span>

<span data-ttu-id="456f4-104">Azure Traffic Manager çeşitli hizmet uç noktaları için ağ trafiğini yönlendirmek nasıl belirlemek için dört trafik yönlendirme yöntemleri destekler.</span><span class="sxs-lookup"><span data-stu-id="456f4-104">Azure Traffic Manager supports four traffic-routing methods to determine how to route network traffic to the various service endpoints.</span></span> <span data-ttu-id="456f4-105">Traffic Manager trafik yönlendirme yöntemini aldığı her DNS sorgusu için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="456f4-105">Traffic Manager applies the traffic-routing method to each DNS query it receives.</span></span> <span data-ttu-id="456f4-106">Hangi uç noktaya DNS yanıtında trafik yönlendirme yöntemini belirler.</span><span class="sxs-lookup"><span data-stu-id="456f4-106">The traffic-routing method determines which endpoint returned in the DNS response.</span></span>

<span data-ttu-id="456f4-107">Trafik Yöneticisi'nde dört trafik yönlendirme yöntemleri vardır:</span><span class="sxs-lookup"><span data-stu-id="456f4-107">There are four traffic routing methods available in Traffic Manager:</span></span>

* <span data-ttu-id="456f4-108">**[Öncelik](#priority):** seçin **öncelik** zaman tüm trafiği için birincil hizmet uç noktası ve birincil durumda yedeklemeler sağlamak isteyen veya yedekleme uç noktaları kullanılamıyor.</span><span class="sxs-lookup"><span data-stu-id="456f4-108">**[Priority](#priority):** Select **Priority** when you want to use a primary service endpoint for all traffic, and provide backups in case the primary or the backup endpoints are unavailable.</span></span>
* <span data-ttu-id="456f4-109">**[Weighted](#weighted):** seçin **Weighted** eşit ya da, ağırlıklara göre trafiği bir uç nokta kümesi boyunca dağıtmak istediğinizde, tanımlamanızı.</span><span class="sxs-lookup"><span data-stu-id="456f4-109">**[Weighted](#weighted):** Select **Weighted** when you want to distribute traffic across a set of endpoints, either evenly or according to weights, which you define.</span></span>
* <span data-ttu-id="456f4-110">**[Performans](#performance):** seçin **performans** ne zaman farklı coğrafi konumlarda uç noktaları varsa ve son kullanıcıların en düşük ağ gecikmesini bakımından "en yakın" uç nokta kullanmak istiyor.</span><span class="sxs-lookup"><span data-stu-id="456f4-110">**[Performance](#performance):** Select **Performance** when you have endpoints in different geographic locations and you want end users to use the "closest" endpoint in terms of the lowest network latency.</span></span>
* <span data-ttu-id="456f4-111">**[Coğrafi](#geographic):** seçin **coğrafi** böylece kullanıcılar hangi coğrafi konum temelinde belirli Uç noktalara (Azure, dış veya iç içe) yönelik DNS sorgularını kaynaklandığı.</span><span class="sxs-lookup"><span data-stu-id="456f4-111">**[Geographic](#geographic):** Select **Geographic** so that users are directed to specific endpoints (Azure, External, or Nested) based on which geographic location their DNS query originates from.</span></span> <span data-ttu-id="456f4-112">Bu, bir kullanıcının coğrafi bölge bilerek ve bunları oturum tabanlı yönlendirme önemli olduğu senaryoları etkinleştirmek için trafik Yöneticisi müşteriler güçlendirir.</span><span class="sxs-lookup"><span data-stu-id="456f4-112">This empowers Traffic Manager customers to enable scenarios where knowing a user’s geographic region and routing them based on that is important.</span></span> <span data-ttu-id="456f4-113">Örnek veri egemenliği gerektirir, içerik & kullanıcı deneyiminin yerelleştirme uymaktan ve farklı bölgelerdeki trafiğini ölçme verilebilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-113">Examples include complying with data sovereignty mandates, localization of content & user experience and measuring traffic from different regions.</span></span>

<span data-ttu-id="456f4-114">Tüm trafik Yöneticisi Profil uç noktası durumu ve otomatik uç nokta yük devretme izlemeyi içerir.</span><span class="sxs-lookup"><span data-stu-id="456f4-114">All Traffic Manager profiles include monitoring of endpoint health and automatic endpoint failover.</span></span> <span data-ttu-id="456f4-115">Daha fazla bilgi için bkz: [trafik Yöneticisi uç noktası izleme](traffic-manager-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="456f4-115">For more information, see [Traffic Manager Endpoint Monitoring](traffic-manager-monitoring.md).</span></span> <span data-ttu-id="456f4-116">Tek bir Traffic Manager profilini yalnızca bir trafik yönlendirme yöntemini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="456f4-116">A single Traffic Manager profile can use only one traffic routing method.</span></span> <span data-ttu-id="456f4-117">Profiliniz için herhangi bir zamanda farklı trafik yönlendirme yöntemini seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="456f4-117">You can select a different traffic routing method for your profile at any time.</span></span> <span data-ttu-id="456f4-118">Bir dakika içinde değişiklikler uygulanır ve kapalı kalma süresi olmadan oluşur.</span><span class="sxs-lookup"><span data-stu-id="456f4-118">Changes are applied within one minute, and no downtime is incurred.</span></span> <span data-ttu-id="456f4-119">Trafik yönlendirme yöntemleri, iç içe trafik Yöneticisi profilleri kullanılarak birleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-119">Traffic-routing methods can be combined by using nested Traffic Manager profiles.</span></span> <span data-ttu-id="456f4-120">İç içe geçme daha büyük ve karmaşık uygulamaların gereksinimlerini karşılayan karmaşık ve esnek trafik yönlendirme yapılandırmaları sağlar.</span><span class="sxs-lookup"><span data-stu-id="456f4-120">Nesting enables sophisticated and flexible traffic-routing configurations that meet the needs of larger, complex applications.</span></span> <span data-ttu-id="456f4-121">Daha fazla bilgi için bkz: [iç içe trafik Yöneticisi profillerine](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="456f4-121">For more information, see [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>

## <span data-ttu-id="456f4-122"><a name = "priority"></a>Öncelik trafik yönlendirme yöntemi</span><span class="sxs-lookup"><span data-stu-id="456f4-122"><a name = "priority"></a>Priority traffic-routing method</span></span>

<span data-ttu-id="456f4-123">Genellikle bir kuruluşun kendi birincil hizmet arıza durumunda bir veya daha fazla yedekleme hizmetleri dağıtarak güvenilirlik için hizmetlerini sağlamak istiyor.</span><span class="sxs-lookup"><span data-stu-id="456f4-123">Often an organization wants to provide reliability for its services by deploying one or more backup services in case their primary service goes down.</span></span> <span data-ttu-id="456f4-124">Trafik yönlendirme 'Priority' yöntemi, kolayca bu yük devretme desen uygulamak Azure müşterilerin olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="456f4-124">The 'Priority' traffic-routing method allows Azure customers to easily implement this failover pattern.</span></span>

![Azure trafik Yöneticisi 'Priority' trafik yönlendirme yöntemi][1]

<span data-ttu-id="456f4-126">Trafik Yöneticisi profili hizmet uç noktaları öncelikli listesi içerir.</span><span class="sxs-lookup"><span data-stu-id="456f4-126">The Traffic Manager profile contains a prioritized list of service endpoints.</span></span> <span data-ttu-id="456f4-127">Varsayılan olarak, trafik Yöneticisi tüm trafiği birincil (en yüksek öncelik) uç noktasına gönderir.</span><span class="sxs-lookup"><span data-stu-id="456f4-127">By default, Traffic Manager sends all traffic to the primary (highest-priority) endpoint.</span></span> <span data-ttu-id="456f4-128">Birincil uç noktası kullanılabilir durumda değilse, Traffic Manager trafik ikinci uç noktasına yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="456f4-128">If the primary endpoint is not available, Traffic Manager routes the traffic to the second endpoint.</span></span> <span data-ttu-id="456f4-129">Birincil ve ikincil uç kullanılabilir değilse, üçüncü ve benzeri için trafiği gider.</span><span class="sxs-lookup"><span data-stu-id="456f4-129">If both the primary and secondary endpoints are not available, the traffic goes to the third, and so on.</span></span> <span data-ttu-id="456f4-130">Uç nokta kullanılabilirliğini yapılandırılan durumu (etkin veya devre dışı) ve devam eden uç nokta izleme dayanır.</span><span class="sxs-lookup"><span data-stu-id="456f4-130">Availability of the endpoint is based on the configured status (enabled or disabled) and the ongoing endpoint monitoring.</span></span>

### <a name="configuring-endpoints"></a><span data-ttu-id="456f4-131">Uç noktalarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="456f4-131">Configuring endpoints</span></span>

<span data-ttu-id="456f4-132">Azure Resource Manager ile açıkça her uç noktası için 'priority' özelliğini kullanarak uç nokta önceliği yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="456f4-132">With Azure Resource Manager, you configure the endpoint priority explicitly using the 'priority' property for each endpoint.</span></span> <span data-ttu-id="456f4-133">Bu özellik, 1 ile 1000 arasında bir değerdir.</span><span class="sxs-lookup"><span data-stu-id="456f4-133">This property is a value between 1 and 1000.</span></span> <span data-ttu-id="456f4-134">Daha düşük değerler daha yüksek önceliği temsil eder.</span><span class="sxs-lookup"><span data-stu-id="456f4-134">Lower values represent a higher priority.</span></span> <span data-ttu-id="456f4-135">Uç noktaları öncelik değerleri paylaşamaz.</span><span class="sxs-lookup"><span data-stu-id="456f4-135">Endpoints cannot share priority values.</span></span> <span data-ttu-id="456f4-136">Özelliği isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="456f4-136">Setting the property is optional.</span></span> <span data-ttu-id="456f4-137">Atlanmış, uç nokta sıraya göre bir varsayılan öncelik kullanılır.</span><span class="sxs-lookup"><span data-stu-id="456f4-137">When omitted, a default priority based on the endpoint order is used.</span></span>

##<span data-ttu-id="456f4-138"><a name = "weighted"></a>Ağırlıklı trafik yönlendirme yöntemi</span><span class="sxs-lookup"><span data-stu-id="456f4-138"><a name = "weighted"></a>Weighted traffic-routing method</span></span>
<span data-ttu-id="456f4-139">'Ağırlıklı' trafik yönlendirme yöntemini trafiği eşit olarak dağıtmanızı veya önceden tanımlanmış ağırlığı kullanılacak sağlar.</span><span class="sxs-lookup"><span data-stu-id="456f4-139">The 'Weighted' traffic-routing method allows you to distribute traffic evenly or to use a pre-defined weighting.</span></span>

![Azure trafik Yöneticisi 'Ağırlıklı' trafik yönlendirme yöntemi][2]

<span data-ttu-id="456f4-141">Ağırlıklı trafik yönlendirme yöntemini, her uç nokta Traffic Manager profili yapılandırması için bir ağırlık atayın.</span><span class="sxs-lookup"><span data-stu-id="456f4-141">In the Weighted traffic-routing method, you assign a weight to each endpoint in the Traffic Manager profile configuration.</span></span> <span data-ttu-id="456f4-142">Ağırlık 1000 ile 1 arasında bir tamsayı değil.</span><span class="sxs-lookup"><span data-stu-id="456f4-142">The weight is an integer from 1 to 1000.</span></span> <span data-ttu-id="456f4-143">Bu parametre isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="456f4-143">This parameter is optional.</span></span> <span data-ttu-id="456f4-144">Belirtilmezse, trafiği yöneticileri varsayılan ağırlık '1' olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="456f4-144">If omitted, Traffic Managers uses a default weight of '1'.</span></span>

<span data-ttu-id="456f4-145">Alınan her DNS sorgusu için trafik Yöneticisi kullanılabilir uç nokta rastgele seçer.</span><span class="sxs-lookup"><span data-stu-id="456f4-145">For each DNS query received, Traffic Manager randomly chooses an available endpoint.</span></span> <span data-ttu-id="456f4-146">Bir uç noktasını olasılığını tüm kullanılabilir uç noktaları için atanan ağırlığı temel alır.</span><span class="sxs-lookup"><span data-stu-id="456f4-146">The probability of choosing an endpoint is based on the weights assigned to all available endpoints.</span></span> <span data-ttu-id="456f4-147">Hatta trafik dağılımı tüm uç noktaları sonuçlarında arasında aynı ağırlıkta kullanma.</span><span class="sxs-lookup"><span data-stu-id="456f4-147">Using the same weight across all endpoints results in an even traffic distribution.</span></span> <span data-ttu-id="456f4-148">Daha yüksek veya düşük ağırlıkları üzerinde belirli uç noktalarını kullanarak DNS yanıtları fazla veya az sık döndürülecek Bu uç neden olur.</span><span class="sxs-lookup"><span data-stu-id="456f4-148">Using higher or lower weights on specific endpoints causes those endpoints to be returned more or less frequently in the DNS responses.</span></span>

<span data-ttu-id="456f4-149">Ağırlıklı yöntemi bazı yararlı senaryolarına olanak sağlar:</span><span class="sxs-lookup"><span data-stu-id="456f4-149">The weighted method enables some useful scenarios:</span></span>

* <span data-ttu-id="456f4-150">Aşamalı uygulama yükseltme: yeni bir bitiş noktasına yönlendirmek için trafiği yüzdesi ayırmak ve trafiği için % 100 zaman içinde aşamalı olarak artırmak.</span><span class="sxs-lookup"><span data-stu-id="456f4-150">Gradual application upgrade: Allocate a percentage of traffic to route to a new endpoint, and gradually increase the traffic over time to 100%.</span></span>
* <span data-ttu-id="456f4-151">Azure uygulama geçiş: hem Azure hem de dış uç noktalar ile bir profili oluşturun.</span><span class="sxs-lookup"><span data-stu-id="456f4-151">Application migration to Azure: Create a profile with both Azure and external endpoints.</span></span> <span data-ttu-id="456f4-152">Yeni uç nokta tercih uç ağırlığını ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="456f4-152">Adjust the weight of the endpoints to prefer the new endpoints.</span></span>
* <span data-ttu-id="456f4-153">Ek kapasite için bulut emniyeti: hızlı bir şekilde buluta bir şirket içi dağıtıma bir Traffic Manager profilini koyarak genişletin.</span><span class="sxs-lookup"><span data-stu-id="456f4-153">Cloud-bursting for additional capacity: Quickly expand an on-premises deployment into the cloud by putting it behind a Traffic Manager profile.</span></span> <span data-ttu-id="456f4-154">Bulut ek kapasite gerektiğinde, ekleyin veya daha fazla uç noktaları etkinleştirin ve hangi trafik bölümünü her uç noktasına gider belirtin.</span><span class="sxs-lookup"><span data-stu-id="456f4-154">When you need extra capacity in the cloud, you can add or enable more endpoints and specify what portion of traffic goes to each endpoint.</span></span>

<span data-ttu-id="456f4-155">Resource Manager Azure portal ağırlıklı trafik yönlendirme yapılandırmasını destekler.</span><span class="sxs-lookup"><span data-stu-id="456f4-155">The Resource Manager Azure portal supports the configuration of weighted traffic routing.</span></span>  <span data-ttu-id="456f4-156">Azure PowerShell'i, CLI ve REST API'leri Resource Manager sürümleri kullanma ağırlıkları yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="456f4-156">You can configure weights using the Resource Manager versions of Azure PowerShell, CLI, and the REST APIs.</span></span>

<span data-ttu-id="456f4-157">DNS yanıtları, DNS adlarını çözümlemek için istemcilerin kullandığı yinelemeli DNS sunucuları ve istemcileri tarafından önbelleğe alınan anlamak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="456f4-157">It is important to understand that DNS responses are cached by clients and by the recursive DNS servers that the clients use to resolve DNS names.</span></span> <span data-ttu-id="456f4-158">Bu önbelleğe alma ağırlıklı trafiği dağıtımları üzerinde bir etkisi olabilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-158">This caching can have an impact on weighted traffic distributions.</span></span> <span data-ttu-id="456f4-159">İstemcilerin ve yinelemeli DNS sunucularının sayısı büyük olduğunda trafik dağılımı beklendiği gibi çalışır.</span><span class="sxs-lookup"><span data-stu-id="456f4-159">When the number of clients and recursive DNS servers is large, traffic distribution works as expected.</span></span> <span data-ttu-id="456f4-160">İstemcileri veya yinelemeli DNS sunucularının sayısı az olduğunda, ancak, önbelleğe alma önemli ölçüde trafik dağılımı eğme.</span><span class="sxs-lookup"><span data-stu-id="456f4-160">However, when the number of clients or recursive DNS servers is small, caching can significantly skew the traffic distribution.</span></span>

<span data-ttu-id="456f4-161">Ortak kullanım durumları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="456f4-161">Common use cases include:</span></span>

* <span data-ttu-id="456f4-162">Geliştirme ve test ortamları</span><span class="sxs-lookup"><span data-stu-id="456f4-162">Development and testing environments</span></span>
* <span data-ttu-id="456f4-163">Uygulama uygulama iletişimleri</span><span class="sxs-lookup"><span data-stu-id="456f4-163">Application-to-application communications</span></span>
* <span data-ttu-id="456f4-164">Uygulamalar bir dar kullanıcı ortak bir yinelemeli DNS altyapısı (örneğin, bir proxy üzerinden bağlanma şirket çalışanlarının) paylaşan temel yönelik</span><span class="sxs-lookup"><span data-stu-id="456f4-164">Applications aimed at a narrow user-base that share a common recursive DNS infrastructure (for example, employees of company connecting through a proxy)</span></span>

<span data-ttu-id="456f4-165">Bu DNS önbelleğe alma etkileri tüm DNS tabanlı trafik yönlendirme sistemler için yalnızca Azure Traffic Manager yaygındır.</span><span class="sxs-lookup"><span data-stu-id="456f4-165">These DNS caching effects are common to all DNS-based traffic routing systems, not just Azure Traffic Manager.</span></span> <span data-ttu-id="456f4-166">Bazı durumlarda, açıkça DNS önbelleğini temizlemek geçici bir çözüm sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-166">In some cases, explicitly clearing the DNS cache may provide a workaround.</span></span> <span data-ttu-id="456f4-167">Diğer durumlarda, alternatif bir trafik yönlendirme yöntemi daha uygun olabilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-167">In other cases, an alternative traffic-routing method may be more appropriate.</span></span>

## <span data-ttu-id="456f4-168"><a name = "performance"></a>Performans trafik yönlendirme yöntemi</span><span class="sxs-lookup"><span data-stu-id="456f4-168"><a name = "performance"></a>Performance traffic-routing method</span></span>

<span data-ttu-id="456f4-169">Dünya çapında uç noktaları iki veya daha fazla konumlarda dağıtma ' size en yakın ' konumuna yönlendirme trafiğini tarafından birçok uygulamalarının yanıtlama hızını artırabilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-169">Deploying endpoints in two or more locations across the globe can improve the responsiveness of many applications by routing traffic to the location that is 'closest' to you.</span></span> <span data-ttu-id="456f4-170">Trafik yönlendirme 'Performans' yöntemi, bu yeteneği sağlar.</span><span class="sxs-lookup"><span data-stu-id="456f4-170">The 'Performance' traffic-routing method provides this capability.</span></span>

![Azure trafik Yöneticisi 'Performans' trafik yönlendirme yöntemi][3]

<span data-ttu-id="456f4-172">'En yakın' bitiş noktası tarafından coğrafi uzaklığı ölçülen mutlaka yakın değil.</span><span class="sxs-lookup"><span data-stu-id="456f4-172">The 'closest' endpoint is not necessarily closest as measured by geographic distance.</span></span> <span data-ttu-id="456f4-173">Bunun yerine, ağ gecikmesi ölçerek en yakın uç noktası 'Performans' trafik yönlendirme yöntemini belirler.</span><span class="sxs-lookup"><span data-stu-id="456f4-173">Instead, the 'Performance' traffic-routing method determines the closest endpoint by measuring network latency.</span></span> <span data-ttu-id="456f4-174">Trafik Yöneticisi IP adresi aralıkları ve her Azure veri merkezi gidiş dönüş süresi izlemek için bir Internet gecikme tablosu tutar.</span><span class="sxs-lookup"><span data-stu-id="456f4-174">Traffic Manager maintains an Internet Latency Table to track the round-trip time between IP address ranges and each Azure datacenter.</span></span>

<span data-ttu-id="456f4-175">Trafik Yöneticisi Internet gecikme tablosundaki gelen DNS isteğin kaynak IP adresi arar.</span><span class="sxs-lookup"><span data-stu-id="456f4-175">Traffic Manager looks up the source IP address of the incoming DNS request in the Internet Latency Table.</span></span> <span data-ttu-id="456f4-176">Trafik Yöneticisi kullanılabilir uç nokta IP adres aralığı için en düşük gecikme süresine sahiptir ve ardından bu uç DNS yanıtında döndürür Azure veri merkezinde seçer.</span><span class="sxs-lookup"><span data-stu-id="456f4-176">Traffic Manager chooses an available endpoint in the Azure datacenter that has the lowest latency for that IP address range, then returns that endpoint in the DNS response.</span></span>

<span data-ttu-id="456f4-177">İçinde anlatıldığı gibi [nasıl trafik Yöneticisi çalışır](traffic-manager-overview.md#how-traffic-manager-works), trafik Yöneticisi DNS sorgularını doğrudan istemcilerden almaz.</span><span class="sxs-lookup"><span data-stu-id="456f4-177">As explained in [How Traffic Manager Works](traffic-manager-overview.md#how-traffic-manager-works), Traffic Manager does not receive DNS queries directly from clients.</span></span> <span data-ttu-id="456f4-178">Bunun yerine, DNS sorgularını, istemcilerin kullanmak üzere yapılandırılmış özyinelemeli DNS hizmetinden gelir.</span><span class="sxs-lookup"><span data-stu-id="456f4-178">Rather, DNS queries come from the recursive DNS service that the clients are configured to use.</span></span> <span data-ttu-id="456f4-179">Bu nedenle, IP adresi 'en yakın' uç noktası istemcinin IP adresi değil, ancak yinelemeli DNS hizmeti IP adresidir belirlemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="456f4-179">Therefore, the IP address used to determine the 'closest' endpoint is not the client's IP address, but it is the IP address of the recursive DNS service.</span></span> <span data-ttu-id="456f4-180">Uygulamada, istemci için iyi bir proxy bu IP adresidir.</span><span class="sxs-lookup"><span data-stu-id="456f4-180">In practice, this IP address is a good proxy for the client.</span></span>


<span data-ttu-id="456f4-181">Trafik Yöneticisi genel Internet'e ve yeni Azure bölgeleri değişiklikleri hesaba Internet gecikme tablosu düzenli olarak güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="456f4-181">Traffic Manager regularly updates the Internet Latency Table to account for changes in the global Internet and new Azure regions.</span></span> <span data-ttu-id="456f4-182">Ancak, uygulama performansı göre yük gerçek zamanlı Çeşitlemeler Internet üzerinden değişir.</span><span class="sxs-lookup"><span data-stu-id="456f4-182">However, application performance varies based on real-time variations in load across the Internet.</span></span> <span data-ttu-id="456f4-183">Performans trafik yönlendirme verilen hizmet uç noktası üzerindeki yük izlemez.</span><span class="sxs-lookup"><span data-stu-id="456f4-183">Performance traffic-routing does not monitor load on a given service endpoint.</span></span> <span data-ttu-id="456f4-184">Bir uç nokta kullanılamaz duruma gelirse, ancak, trafik Yöneticisi, DNS sorgu yanıtlarında içermeyecek.</span><span class="sxs-lookup"><span data-stu-id="456f4-184">However, if an endpoint becomes unavailable, Traffic Manager does not include it in DNS query responses.</span></span>


<span data-ttu-id="456f4-185">Dikkat edilecek noktalar:</span><span class="sxs-lookup"><span data-stu-id="456f4-185">Points to note:</span></span>

* <span data-ttu-id="456f4-186">Profilinizi aynı Azure bölgesinde birden fazla uç noktası içeriyorsa, sonra Traffic Manager trafik eşit bu bölgede kullanılabilir uç noktaları arasında dağıtır.</span><span class="sxs-lookup"><span data-stu-id="456f4-186">If your profile contains multiple endpoints in the same Azure region, then Traffic Manager distributes traffic evenly across the available endpoints in that region.</span></span> <span data-ttu-id="456f4-187">Bir bölge içinde farklı trafik dağılımı tercih ederseniz, kullanabileceğiniz [iç içe trafik Yöneticisi profillerine](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="456f4-187">If you prefer a different traffic distribution within a region, you can use [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>
* <span data-ttu-id="456f4-188">En yakın Azure bölgesi etkinleştirilmiş tüm uç noktaları düşürülmüş, trafik Yöneticisi uç noktalarına sonraki en yakın Azure bölgesinde trafik taşınır.</span><span class="sxs-lookup"><span data-stu-id="456f4-188">If all enabled endpoints in the closest Azure region are degraded, Traffic Manager moves traffic to the endpoints in the next closest Azure region.</span></span> <span data-ttu-id="456f4-189">Tercih edilen yük devretme sırası tanımlamak istiyorsanız, kullanmak [iç içe trafik Yöneticisi profillerine](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="456f4-189">If you want to define a preferred failover sequence, use [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>
* <span data-ttu-id="456f4-190">Performans trafik yönlendirme yöntemini dış uç noktalar veya iç içe geçmiş uç noktaları ile kullanırken bu uç konumunu belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="456f4-190">When using the Performance traffic routing method with external endpoints or nested endpoints, you need to specify the location of those endpoints.</span></span> <span data-ttu-id="456f4-191">Dağıtımınız için en yakın Azure bölgesi seçin.</span><span class="sxs-lookup"><span data-stu-id="456f4-191">Choose the Azure region closest to your deployment.</span></span> <span data-ttu-id="456f4-192">Konumların Internet gecikme tablo tarafından desteklenmeyen değerlerdir.</span><span class="sxs-lookup"><span data-stu-id="456f4-192">Those locations are the values supported by the Internet Latency Table.</span></span>
* <span data-ttu-id="456f4-193">Uç nokta seçtiği belirleyici algoritmasıdır.</span><span class="sxs-lookup"><span data-stu-id="456f4-193">The algorithm that chooses the endpoint is deterministic.</span></span> <span data-ttu-id="456f4-194">Yinelenen DNS sorgularını aynı istemciden aynı bitiş noktasına yönlendirilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="456f4-194">Repeated DNS queries from the same client are directed to the same endpoint.</span></span> <span data-ttu-id="456f4-195">Genellikle, istemcilerin seyahat halindeyken farklı yinelemeli DNS sunucusu kullanın.</span><span class="sxs-lookup"><span data-stu-id="456f4-195">Typically, clients use different recursive DNS servers when traveling.</span></span> <span data-ttu-id="456f4-196">İstemci farklı bir bitiş noktasına yönlendirilebilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-196">The client may be routed to a different endpoint.</span></span> <span data-ttu-id="456f4-197">Yönlendirme ayrıca Internet gecikme tabloya yapılan güncelleştirmeler tarafından etkilenebilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-197">Routing can also be affected by updates to the Internet Latency Table.</span></span> <span data-ttu-id="456f4-198">Bu nedenle, performans trafik yönlendirme yöntemini bir istemci her zaman aynı uç noktasına yönlendirilir garanti etmez.</span><span class="sxs-lookup"><span data-stu-id="456f4-198">Therefore, the Performance traffic-routing method does not guarantee that a client is always routed to the same endpoint.</span></span>
* <span data-ttu-id="456f4-199">Internet gecikme tablosu değiştiğinde bazı istemciler farklı bir bitiş noktasına yönlendirilirsiniz fark edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="456f4-199">When the Internet Latency Table changes, you may notice that some clients are directed to a different endpoint.</span></span> <span data-ttu-id="456f4-200">Bu yönlendirme değişiklik geçerli gecikme verilere göre daha doğru olur.</span><span class="sxs-lookup"><span data-stu-id="456f4-200">This routing change is more accurate based on current latency data.</span></span> <span data-ttu-id="456f4-201">Bu güncelleştirmeler doğruluğu performans trafik yönlendirme, Internet sürekli geliştikçe korumak için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="456f4-201">These updates are essential to maintain the accuracy of Performance traffic-routing as the Internet continually evolves.</span></span>

## <span data-ttu-id="456f4-202"><a name = "geographic"></a>Coğrafi trafik yönlendirme yöntemi</span><span class="sxs-lookup"><span data-stu-id="456f4-202"><a name = "geographic"></a>Geographic traffic-routing method</span></span>

<span data-ttu-id="456f4-203">Trafik Yöneticisi profilleri, böylece kullanıcılar kendi DNS sorgusu kaynaklandığı hangi coğrafi konumuna dayalı belirli Uç noktalara (Azure, dış veya iç içe) yönlendirilir coğrafi yönlendirme yöntemini kullanmak üzere yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-203">Traffic Manager profiles can be configured to use the Geographic routing method so that users are directed to specific endpoints (Azure, External or Nested) based on which geographic location their DNS query originates from.</span></span> <span data-ttu-id="456f4-204">Bu, bir kullanıcının coğrafi bölge bilerek ve bunları oturum tabanlı yönlendirme önemli olduğu senaryoları etkinleştirmek için trafik Yöneticisi müşteriler güçlendirir.</span><span class="sxs-lookup"><span data-stu-id="456f4-204">This empowers Traffic Manager customers to enable scenarios where knowing a user’s geographic region and routing them based on that is important.</span></span> <span data-ttu-id="456f4-205">Örnek veri egemenliği gerektirir, içerik & kullanıcı deneyiminin yerelleştirme uymaktan ve farklı bölgelerdeki trafiğini ölçme verilebilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-205">Examples include complying with data sovereignty mandates, localization of content & user experience and measuring traffic from different regions.</span></span>
<span data-ttu-id="456f4-206">Bir profili coğrafi yönlendirme için yapılandırıldığında, her bitiş profili atanmış coğrafi bölgeler kümesine sahip olması gerektiğini ilişkili.</span><span class="sxs-lookup"><span data-stu-id="456f4-206">When a profile is configured for geographic routing, each endpoint associated with that profile needs to have a set of geographic regions assigned to it.</span></span> <span data-ttu-id="456f4-207">Coğrafi bir bölgenin ayrıntı düzeyi aşağıdaki düzeylerde olabilir</span><span class="sxs-lookup"><span data-stu-id="456f4-207">A geographic region can be at following levels of granularity</span></span> 
- <span data-ttu-id="456f4-208">Dünya – herhangi bir bölgeyi</span><span class="sxs-lookup"><span data-stu-id="456f4-208">World– any region</span></span>
- <span data-ttu-id="456f4-209">Bölgesel gruplandırma – Örneğin, Afrika, Orta Doğu, Avustralya/Pasifik vs.</span><span class="sxs-lookup"><span data-stu-id="456f4-209">Regional Grouping – for example, Africa, Middle East, Australia/Pacific etc.</span></span> 
- <span data-ttu-id="456f4-210">Ülke/bölge – Örneğin, İrlanda, Peru, Hong Kong ÖİB vs.</span><span class="sxs-lookup"><span data-stu-id="456f4-210">Country/Region – for example, Ireland, Peru, Hong Kong SAR etc.</span></span> 
- <span data-ttu-id="456f4-211">Bölge – Örneğin, ABD California, Avustralya-Queensland, Kanada Alberta vb. (Not: Bu ayrıntı düzeyi yalnızca durumları için desteklenen / il Avustralya, Kanada, İngiltere ve ABD).</span><span class="sxs-lookup"><span data-stu-id="456f4-211">State/Province – for example, USA-California, Australia-Queensland, Canada-Alberta etc. (note: this granularity level is supported only for states / provinces in Australia, Canada, UK, and USA).</span></span>

<span data-ttu-id="456f4-212">Bir bölge veya bölge kümesi bir bitiş noktasına atandığında, bu bölgeler gelen tüm isteklerin yönlendirilmiş yalnızca bu uç noktasına.</span><span class="sxs-lookup"><span data-stu-id="456f4-212">When a region or a set of regions is assigned to an endpoint, any requests from those regions gets routed only to that endpoint.</span></span> <span data-ttu-id="456f4-213">Trafik Yöneticisi DNS sorgusu kaynak IP adresi gelen bir kullanıcı sorgulama – genellikle bu kullanıcı adına sorgu yapılması yerel DNS Çözümleyicisi IP adresini adıdır bölgeyi belirlemek için kullanır.</span><span class="sxs-lookup"><span data-stu-id="456f4-213">Traffic Manager uses the source IP address of the DNS query to determine the region from which a user is querying from – usually this is the IP address of the local DNS resolver doing the query on behalf of the user.</span></span>  

![Azure trafik Yöneticisi 'Coğrafi' trafik yönlendirme yöntemi](./media/traffic-manager-routing-methods/geographic.png)

<span data-ttu-id="456f4-215">Trafik Yöneticisi DNS sorgusu kaynak IP adresi bilgilerini okur ve veritabanından kaynaklanan hangi coğrafi bölge karar verir.</span><span class="sxs-lookup"><span data-stu-id="456f4-215">Traffic Manager reads the source IP address of the DNS query and decides which geographic region it is originating from.</span></span> <span data-ttu-id="456f4-216">Ardından bu coğrafi bölgede eşlenmiş sahip bir uç noktası olup olmadığını görmek için görünüyor.</span><span class="sxs-lookup"><span data-stu-id="456f4-216">It then looks to see if there is an endpoint that has this geographic region mapped to it.</span></span> <span data-ttu-id="456f4-217">Bu arama en düşük ayrıntı düzeyinde (burada, desteklenir, başka ülke/bölge düzeyinde bölge) başlatır ve olan tüm en yüksek düzeye kadar girer **World**.</span><span class="sxs-lookup"><span data-stu-id="456f4-217">This lookup starts at the lowest granularity level (State/Province where it is supported, else at the Country/Region level) and goes all the way up to the highest level, which is **World**.</span></span> <span data-ttu-id="456f4-218">Bu geçişi kullanarak uç noktası olarak sorgu yanıtında dönmek için atanan ilk eşleşme.</span><span class="sxs-lookup"><span data-stu-id="456f4-218">The first match found using this traversal is designated as the endpoint to return in the query response.</span></span> <span data-ttu-id="456f4-219">Bir uç nokta, alt profilindeki bir iç içe türü uç noktasıyla eşleşen döndürüldüğünde, kendi yönlendirme yöntemini esas alarak.</span><span class="sxs-lookup"><span data-stu-id="456f4-219">When matching with a Nested type endpoint, an endpoint within that child profile is returned, based on its routing method.</span></span> <span data-ttu-id="456f4-220">Aşağıdaki hususları için bu davranış geçerlidir:</span><span class="sxs-lookup"><span data-stu-id="456f4-220">The following points are applicable to this behavior:</span></span>

- <span data-ttu-id="456f4-221">Yönlendirme türü coğrafi yönlendirme olduğunda bir coğrafi bölge yalnızca trafik Yöneticisi profili, bir uç nokta eşlenebilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-221">A geographic region can be mapped only to one endpoint in a Traffic Manager profile when the routing type is Geographic Routing.</span></span> <span data-ttu-id="456f4-222">Bu kullanıcıları yönlendirme belirleyici ve müşteriler anlaşılır coğrafi sınırları gerektiren senaryolar etkinleştirebilirsiniz sağlar.</span><span class="sxs-lookup"><span data-stu-id="456f4-222">This ensures that routing of users is deterministic, and customers can enable scenarios that require unambiguous geographic boundaries.</span></span>
- <span data-ttu-id="456f4-223">Kullanıcının bölge altında iki farklı uç noktalar coğrafi eşleme geliyorsa, trafik Yöneticisi uç noktası en düşük ayrıntı düzeyi içeren seçer ve diğer uç nokta bu bölge yönlendirme isteklerini dikkate almaz.</span><span class="sxs-lookup"><span data-stu-id="456f4-223">If a user’s region comes under two different endpoints’ geographic mapping, Traffic Manager selects the endpoint with the lowest granularity and does not consider routing requests from that region to the other endpoint.</span></span> <span data-ttu-id="456f4-224">Örneğin, coğrafi yönlendirme türü profili iki uç noktaları - bitiş noktası 1 ve Endpoint2 göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="456f4-224">For example, consider a Geographic Routing type profile with two endpoints - Endpoint1 and Endpoint2.</span></span> <span data-ttu-id="456f4-225">Bitiş noktası 1 İrlanda'dan trafiği almak için yapılandırılır ve Endpoint2 Avrupa trafiği almak için yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="456f4-225">Endpoint1 is configured to receive traffic from Ireland and Endpoint2 is configured to receive traffic from Europe.</span></span> <span data-ttu-id="456f4-226">Bir istek İrlanda'dan kaynaklanıyorsa bitiş noktası 1 için her zaman yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-226">If a request originates from Ireland, it is always routed to Endpoint1.</span></span>
- <span data-ttu-id="456f4-227">Yalnızca bir uç nokta eşlenebilir. bir bölge olduğundan, trafik Yöneticisi, uç nokta sağlıklı olup olmamasına bakılmaksızın döndürür.</span><span class="sxs-lookup"><span data-stu-id="456f4-227">Since a region can be mapped only to one endpoint, Traffic Manager returns it regardless of whether the endpoint is healthy or not.</span></span>

    >[!IMPORTANT]
    ><span data-ttu-id="456f4-228">Coğrafi yönlendirme yöntemini kullanan müşteriler, her içinde en az iki uç nokta içeren alt profili bulunan iç içe türü uç noktaları ile ilişkilendirme önerilir.</span><span class="sxs-lookup"><span data-stu-id="456f4-228">It is strongly recommended that customers using the geographic routing method associate it with the Nested type endpoints that has child profiles containing at least two endpoints within each.</span></span>
- <span data-ttu-id="456f4-229">Bir uç nokta eşleşme bulundu ve bu uç bulunduğu **durduruldu** durumunda, trafik Yöneticisi NODATA yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="456f4-229">If an endpoint match is found and that endpoint is in the **Stopped** state, Traffic Manager returns a NODATA response.</span></span> <span data-ttu-id="456f4-230">Bu durumda, başka bir arama yapılır yukarıya coğrafi bölge hiyerarşi içinde.</span><span class="sxs-lookup"><span data-stu-id="456f4-230">In this case, no further lookups is made higher up in the geographic region hierarchy.</span></span> <span data-ttu-id="456f4-231">Alt profili olduğunda bu davranış da iç içe geçmiş uç nokta türleri için geçerli **durduruldu** veya **devre dışı** durumu.</span><span class="sxs-lookup"><span data-stu-id="456f4-231">This behavior is also applicable for nested endpoint types when the child profile is in the **Stopped** or **Disabled** state.</span></span>
- <span data-ttu-id="456f4-232">Bir uç nokta görüntülerse bir **devre dışı** durumu, işlem eşleştirme bölgede eklenmeyecek.</span><span class="sxs-lookup"><span data-stu-id="456f4-232">If an endpoint displays a **Disabled** status, it won’t be included in the region matching process.</span></span> <span data-ttu-id="456f4-233">Uç nokta olduğunda bu davranış da iç içe geçmiş uç nokta türleri için geçerli **devre dışı** durumu.</span><span class="sxs-lookup"><span data-stu-id="456f4-233">This behavior is also applicable for nested endpoint types when the endpoint is in the **Disabled** state.</span></span>
- <span data-ttu-id="456f4-234">Bir sorgu, bu profilde eşleme olan coğrafi bölgedeki geliyorsa, trafik Yöneticisi NODATA yanıtı döndürür.</span><span class="sxs-lookup"><span data-stu-id="456f4-234">If a query is coming from a geographic region that has no mapping in that profile, Traffic Manager returns a NODATA response.</span></span> <span data-ttu-id="456f4-235">Bu nedenle, müşterilerin ideal türünde, iç içe alt profiliyle bölge içinde en az iki uç nokta bir uç nokta ile coğrafi yönlendirme kullandığı önerilir **World** atanmış.</span><span class="sxs-lookup"><span data-stu-id="456f4-235">Therefore, it is strongly recommended that customers use geographic routing with one endpoint, ideally of type Nested with at least two endpoints within the child profile, with the region **World** assigned to it.</span></span> <span data-ttu-id="456f4-236">Bu, aynı zamanda bir bölgeye eşlemediğinden herhangi bir IP adresi işlenmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="456f4-236">This also ensures that any IP addresses that do not map to a region are handled.</span></span>

<span data-ttu-id="456f4-237">İçinde anlatıldığı gibi [nasıl trafik Yöneticisi çalışır](traffic-manager-how-traffic-manager-works.md), trafik Yöneticisi DNS sorgularını doğrudan istemcilerden almaz.</span><span class="sxs-lookup"><span data-stu-id="456f4-237">As explained in [How Traffic Manager Works](traffic-manager-how-traffic-manager-works.md), Traffic Manager does not receive DNS queries directly from clients.</span></span> <span data-ttu-id="456f4-238">Bunun yerine, DNS sorgularını, istemcilerin kullanmak üzere yapılandırılmış özyinelemeli DNS hizmetinden gelir.</span><span class="sxs-lookup"><span data-stu-id="456f4-238">Rather, DNS queries come from the recursive DNS service that the clients are configured to use.</span></span> <span data-ttu-id="456f4-239">Bu nedenle, IP adresi bölge istemcinin IP adresi değil, ancak yinelemeli DNS hizmeti IP adresidir belirlemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="456f4-239">Therefore, the IP address used to determine the region is not the client's IP address, but it is the IP address of the recursive DNS service.</span></span> <span data-ttu-id="456f4-240">Uygulamada, istemci için iyi bir proxy bu IP adresidir.</span><span class="sxs-lookup"><span data-stu-id="456f4-240">In practice, this IP address is a good proxy for the client.</span></span>


## <a name="next-steps"></a><span data-ttu-id="456f4-241">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="456f4-241">Next steps</span></span>

<span data-ttu-id="456f4-242">Kullanarak yüksek kullanılabilirlik uygulamaları geliştirmeyi öğrenin [trafik Yöneticisi uç nokta izleme](traffic-manager-monitoring.md)</span><span class="sxs-lookup"><span data-stu-id="456f4-242">Learn how to develop high-availability applications using [Traffic Manager endpoint monitoring](traffic-manager-monitoring.md)</span></span>

<span data-ttu-id="456f4-243">Bilgi edinmek için nasıl [bir Traffic Manager profili oluşturma](traffic-manager-create-profile.md)</span><span class="sxs-lookup"><span data-stu-id="456f4-243">Learn how to [create a Traffic Manager profile](traffic-manager-create-profile.md)</span></span>

<!--Image references-->
[1]: ./media/traffic-manager-routing-methods/priority.png
[2]: ./media/traffic-manager-routing-methods/weighted.png
[3]: ./media/traffic-manager-routing-methods/performance.png



