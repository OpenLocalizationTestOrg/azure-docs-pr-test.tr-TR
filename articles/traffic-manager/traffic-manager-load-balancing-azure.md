---
title: "Azure'da Yük Dengeleme hizmetlerini kullanarak | Microsoft Docs"
description: "Bu öğretici Azure yük dengeleyici Portföy kullanarak bir senaryo oluşturulacağını gösterir: trafik Yöneticisi, uygulama ağ geçidi ve yük dengeleyici."
services: traffic-manager
documentationcenter: 
author: liumichelle
manager: vitinnan
editor: 
ms.assetid: f89be3be-a16f-4d47-bcae-db2ab72ade17
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 10/27/2016
ms.author: limichel
ms.openlocfilehash: ae9bd30b76786f94f0d836a39137da696fdb94a2
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="using-load-balancing-services-in-azure"></a><span data-ttu-id="5fcef-103">Azure'da Yük Dengeleme Hizmetleri kullanma</span><span class="sxs-lookup"><span data-stu-id="5fcef-103">Using load-balancing services in Azure</span></span>

## <a name="introduction"></a><span data-ttu-id="5fcef-104">Giriş</span><span class="sxs-lookup"><span data-stu-id="5fcef-104">Introduction</span></span>

<span data-ttu-id="5fcef-105">Microsoft Azure, birden çok ağ trafiğini nasıl dağıtıldığını yönetmek için hizmetleri ve Yük Dengeleme sağlar.</span><span class="sxs-lookup"><span data-stu-id="5fcef-105">Microsoft Azure provides multiple services for managing how network traffic is distributed and load balanced.</span></span> <span data-ttu-id="5fcef-106">Bu hizmetler ayrı ayrı kullanın veya en iyi çözümü oluşturmak için gereksinimlerinize bağlı olarak, kendi yöntemleri birleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5fcef-106">You can use these services individually or combine their methods, depending on your needs, to build the optimal solution.</span></span>

<span data-ttu-id="5fcef-107">Bu öğretici, biz ilk müşteri kullanım örneği tanımlayın ve Yük Dengeleme aşağıdaki Azure Portföy kullanarak nasıl, daha sağlam hale getirilebilir ve kullanıcı görebilirsiniz: trafik Yöneticisi, uygulama ağ geçidi ve yük dengeleyici.</span><span class="sxs-lookup"><span data-stu-id="5fcef-107">In this tutorial, we first define a customer use case and see how it can be made more robust and performant by using the following Azure load-balancing portfolio: Traffic Manager, Application Gateway, and Load Balancer.</span></span> <span data-ttu-id="5fcef-108">Coğrafi olarak yedekli, trafiği vm'lere dağıtır ve yardımcı olan bir dağıtım oluşturmak için adım adım yönergeler istekleri farklı türlerini yönetmek ardından sağlayın.</span><span class="sxs-lookup"><span data-stu-id="5fcef-108">We then provide step-by-step instructions for creating a deployment that is geographically redundant, distributes traffic to VMs, and helps you manage different types of requests.</span></span>

<span data-ttu-id="5fcef-109">Kavramsal bir düzeyde, bu hizmetlerin her birini Yük Dengeleme hiyerarşideki farklı bir rol oynar.</span><span class="sxs-lookup"><span data-stu-id="5fcef-109">At a conceptual level, each of these services plays a distinct role in the load-balancing hierarchy.</span></span>

* <span data-ttu-id="5fcef-110">**Trafik Yöneticisi** Genel DNS Yük Dengeleme sağlar.</span><span class="sxs-lookup"><span data-stu-id="5fcef-110">**Traffic Manager** provides global DNS load balancing.</span></span> <span data-ttu-id="5fcef-111">Gelen DNS isteklerinin görünür ve müşteri seçilmiş yönlendirme ilkesi uygun olarak sağlıklı bir uç nokta ile yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-111">It looks at incoming DNS requests and responds with a healthy endpoint, in accordance with the routing policy the customer has selected.</span></span> <span data-ttu-id="5fcef-112">Yönlendirme yöntemleri için Seçenekler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="5fcef-112">Options for routing methods are:</span></span>
  * <span data-ttu-id="5fcef-113">İstek gecikme süresi açısından en yakın endpoint göndermek için Yönlendirme performans.</span><span class="sxs-lookup"><span data-stu-id="5fcef-113">Performance routing to send the requestor to the closest endpoint in terms of latency.</span></span>
  * <span data-ttu-id="5fcef-114">Diğer uç noktalar olarak yedekleme ile bir uç nokta için tüm trafiği yönlendirmek için yönlendirme önceliği.</span><span class="sxs-lookup"><span data-stu-id="5fcef-114">Priority routing to direct all traffic to an endpoint, with other endpoints as backup.</span></span>
  * <span data-ttu-id="5fcef-115">Ağırlıklı yönlendirme, her uç noktasına atanan ağırlığı göre trafiği dağıtan hepsini.</span><span class="sxs-lookup"><span data-stu-id="5fcef-115">Weighted round-robin routing, which distributes traffic based on the weighting that is assigned to each endpoint.</span></span>

  <span data-ttu-id="5fcef-116">İstemci, doğrudan bu uç noktasına bağlanır.</span><span class="sxs-lookup"><span data-stu-id="5fcef-116">The client connects directly to that endpoint.</span></span> <span data-ttu-id="5fcef-117">Bir uç nokta sağlıksız olduğunu ve başka bir iyi örneğine istemcileri yeniden yönlendiren azure trafik Yöneticisi algılar.</span><span class="sxs-lookup"><span data-stu-id="5fcef-117">Azure Traffic Manager detects when an endpoint is unhealthy and then redirects the clients to another healthy instance.</span></span> <span data-ttu-id="5fcef-118">Başvurmak [Azure Traffic Manager belgeleri](traffic-manager-overview.md) hizmeti hakkında daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-118">Refer to [Azure Traffic Manager documentation](traffic-manager-overview.md) to learn more about the service.</span></span>
* <span data-ttu-id="5fcef-119">**Uygulama ağ geçidi** çeşitli katman 7 Yük Dengeleme özellikleri, uygulamanız için sunumu bir hizmet olarak uygulama teslim denetleyicisi (ADC) sağlar.</span><span class="sxs-lookup"><span data-stu-id="5fcef-119">**Application Gateway** provides application delivery controller (ADC) as a service, offering various Layer 7 load-balancing capabilities for your application.</span></span> <span data-ttu-id="5fcef-120">Uygulama ağ geçidi için CPU-yoğun SSL sonlandırma boşaltarak web grubu verimliliği en iyi duruma getirme yapmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="5fcef-120">It allows customers to optimize web farm productivity by offloading CPU-intensive SSL termination to the application gateway.</span></span> <span data-ttu-id="5fcef-121">Diğer katman 7 Yönlendirme yetenekleri hepsini dağıtımını gelen trafiği, tanımlama bilgisi tabanlı oturum benzeşimi, URL yolu tabanlı Yönlendirme ve tek bir uygulama ağ geçidi arkasında birden çok Web sitesini barındırmak yeteneğini içerir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-121">Other Layer 7 routing capabilities include round-robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and the ability to host multiple websites behind a single application gateway.</span></span> <span data-ttu-id="5fcef-122">Uygulama ağ geçidi, bir Internet'e dönük ağ geçidi, bir yalnızca iç ağ geçidi veya her ikisinin birleşimini yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-122">Application Gateway can be configured as an Internet-facing gateway, an internal-only gateway, or a combination of both.</span></span> <span data-ttu-id="5fcef-123">Tam Azure uygulama ağ geçidi yönetilen, ölçeklenebilir ve yüksek oranda kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-123">Application Gateway is fully Azure managed, scalable, and highly available.</span></span> <span data-ttu-id="5fcef-124">Daha iyi yönetilebilirlik için zengin tanılama ve günlüğe kaydetme özellikleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="5fcef-124">It provides a rich set of diagnostics and logging capabilities for better manageability.</span></span>
* <span data-ttu-id="5fcef-125">**Yük Dengeleyici** yüksek performans, düşük gecikme süreli katman 4 Yük Dengeleme için Hizmetleri tüm UDP ve TCP protokollerini sağlayan Azure SDN yığın ayrılmaz bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="5fcef-125">**Load Balancer** is an integral part of the Azure SDN stack, providing high-performance, low-latency Layer 4 load-balancing services for all UDP and TCP protocols.</span></span> <span data-ttu-id="5fcef-126">Gelen ve giden bağlantılara yönetir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-126">It manages inbound and outbound connections.</span></span> <span data-ttu-id="5fcef-127">Genel ve iç yük dengeli uç noktalarını yapılandırma ve hizmet kullanılabilirliği yönetmek için TCP ve HTTP sistem durumu yoklama seçeneklerini kullanarak arka uç havuzu hedeflere gelen bağlantıları eşlemek için kurallar tanımlar.</span><span class="sxs-lookup"><span data-stu-id="5fcef-127">You can configure public and internal load-balanced endpoints and define rules to map inbound connections to back-end pool destinations by using TCP and HTTP health-probing options to manage service availability.</span></span>

## <a name="scenario"></a><span data-ttu-id="5fcef-128">Senaryo</span><span class="sxs-lookup"><span data-stu-id="5fcef-128">Scenario</span></span>

<span data-ttu-id="5fcef-129">Bu örnek senaryoda, içeriği iki tür hizmet veren basit bir Web sitesi kullanırız: görüntüleri ve dinamik olarak oluşturulan Web sayfaları.</span><span class="sxs-lookup"><span data-stu-id="5fcef-129">In this example scenario, we use a simple website that serves two types of content: images and dynamically rendered webpages.</span></span> <span data-ttu-id="5fcef-130">Web sitesi coğrafi olarak yedekli olmalıdır ve en yakın (en düşük gecikme süresi), kullanıcılardan kullanılmalıdır bunları konuma.</span><span class="sxs-lookup"><span data-stu-id="5fcef-130">The website must be geographically redundant, and it should serve its users from the closest (lowest latency) location to them.</span></span> <span data-ttu-id="5fcef-131">Uygulama geliştiricisi, karar vermiştir düzeni/görüntüleri/eşleşen herhangi bir URL * web grubu geri kalanından farklı olan VM'ler ayrılmış havuzundan sunulur.</span><span class="sxs-lookup"><span data-stu-id="5fcef-131">The application developer has decided that any URLs that match the pattern /images/* are served from a dedicated pool of VMs that are different from the rest of the web farm.</span></span>

<span data-ttu-id="5fcef-132">Ayrıca, dinamik içerik sunan varsayılan VM havuzu yüksek oranda kullanılabilirlik kümesi üzerinde barındırılan bir arka uç veritabanı konuşun gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="5fcef-132">Additionally, the default VM pool serving the dynamic content needs to talk to a back-end database that is hosted on a high-availability cluster.</span></span> <span data-ttu-id="5fcef-133">Tüm dağıtım Azure Resource Manager aracılığıyla ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5fcef-133">The entire deployment is set up through Azure Resource Manager.</span></span>

<span data-ttu-id="5fcef-134">Trafik Yöneticisi, uygulama ağ geçidi ve yük dengeleyici kullanılarak bu tasarım hedeflerinize ulaşmak bu Web sitesi sağlar:</span><span class="sxs-lookup"><span data-stu-id="5fcef-134">Using Traffic Manager, Application Gateway, and Load Balancer allows this website to achieve these design goals:</span></span>

* <span data-ttu-id="5fcef-135">**Birden çok coğrafi artıklık**: tek bir bölge devre dışı kalırsa, Traffic Manager trafik sorunsuz bir şekilde en yakın bölgeyi müdahalesi olmadan uygulama sahibinden yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-135">**Multi-geo redundancy**: If one region goes down, Traffic Manager routes traffic seamlessly to the closest region without any intervention from the application owner.</span></span>
* <span data-ttu-id="5fcef-136">**Gecikme süresi sınırlı**: olmadığından trafik Yöneticisi otomatik olarak en yakın bölgeyi müşteriye yönlendirir, Web sayfası içeriği isterken daha düşük gecikme süresi müşteri deneyimleri.</span><span class="sxs-lookup"><span data-stu-id="5fcef-136">**Reduced latency**: Because Traffic Manager automatically directs the customer to the closest region, the customer experiences lower latency when requesting the webpage contents.</span></span>
* <span data-ttu-id="5fcef-137">**Bağımsız ölçeklenebilirlik**: web uygulaması iş yükü içerik türüne göre ayrılmış olduğundan, uygulama sahibi isteği iş yükleri birbirinden bağımsız ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5fcef-137">**Independent scalability**: Because the web application workload is separated by type of content, the application owner can scale the request workloads independent of each other.</span></span> <span data-ttu-id="5fcef-138">Uygulama ağ geçidi trafik, belirtilen kuralları ve uygulama sağlığını göre doğru havuzlarına yönlendirilir sağlar.</span><span class="sxs-lookup"><span data-stu-id="5fcef-138">Application Gateway ensures that the traffic is routed to the right pools based on the specified rules and the health of the application.</span></span>
* <span data-ttu-id="5fcef-139">**İç Yük Dengeleme**: çünkü yük dengeleyici önünde yüksek oranda kullanılabilirlik kümesi, yalnızca etkin ve Sağlıklı uç nokta için bir veritabanı uygulamanın kullanımına sunulur.</span><span class="sxs-lookup"><span data-stu-id="5fcef-139">**Internal load balancing**: Because Load Balancer is in front of the high-availability cluster, only the active and healthy endpoint for a database is exposed to the application.</span></span> <span data-ttu-id="5fcef-140">Ayrıca, bir veritabanı yöneticisi, ön uç uygulamasını bağımsız küme üzerinde etkin ve etkin olmayan çoğaltmaları dağıtarak iş yükünü iyileştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5fcef-140">Additionally, a database administrator can optimize the workload by distributing active and passive replicas across the cluster independent of the front-end application.</span></span> <span data-ttu-id="5fcef-141">Yük Dengeleyici bağlantıları için yüksek oranda kullanılabilirlik kümesi sunar ve yalnızca iyi veritabanları bağlantı isteklerini almak sağlar.</span><span class="sxs-lookup"><span data-stu-id="5fcef-141">Load Balancer delivers connections to the high-availability cluster and ensures that only healthy databases receive connection requests.</span></span>

<span data-ttu-id="5fcef-142">Aşağıdaki diyagramda, bu senaryo mimarisi gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="5fcef-142">The following diagram shows the architecture of this scenario:</span></span>

![Yük Dengeleme diyagramı mimarisi](./media/traffic-manager-load-balancing-azure/scenario-diagram.png)

> [!NOTE]
> <span data-ttu-id="5fcef-144">Bu örnek yalnızca Azure sunar Yük Dengeleme Hizmetleri birçok olası yapılandırmaları biridir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-144">This example is only one of many possible configurations of the load-balancing services that Azure offers.</span></span> <span data-ttu-id="5fcef-145">Trafik Yöneticisi, uygulama ağ geçidi ve yük dengeleyici karışabilir ve Yük Dengeleme gereksinimlerinizi en iyi karşılayacak eşleşti.</span><span class="sxs-lookup"><span data-stu-id="5fcef-145">Traffic Manager, Application Gateway, and Load Balancer can be mixed and matched to best suit your load-balancing needs.</span></span> <span data-ttu-id="5fcef-146">Örneğin, SSL boşaltma veya katman 7 işlem gerekli değil, uygulama ağ geçidi yerine yük dengeleyici kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-146">For example, if SSL offload or Layer 7 processing is not necessary, Load Balancer can be used in place of Application Gateway.</span></span>

## <a name="setting-up-the-load-balancing-stack"></a><span data-ttu-id="5fcef-147">Yük Dengeleme yığını ayarlama</span><span class="sxs-lookup"><span data-stu-id="5fcef-147">Setting up the load-balancing stack</span></span>

### <a name="step-1-create-a-traffic-manager-profile"></a><span data-ttu-id="5fcef-148">1. adım: bir Traffic Manager profilini oluşturma</span><span class="sxs-lookup"><span data-stu-id="5fcef-148">Step 1: Create a Traffic Manager profile</span></span>

1. <span data-ttu-id="5fcef-149">Azure portalında tıklatın **yeni**ve ardından "Trafik Yöneticisi profili." Market arayın</span><span class="sxs-lookup"><span data-stu-id="5fcef-149">In the Azure portal, click **New**, and then search the marketplace for "Traffic Manager profile."</span></span>
2. <span data-ttu-id="5fcef-150">Üzerinde **oluşturma trafik Yöneticisi profili** dikey penceresinde, aşağıdaki temel bilgileri girin:</span><span class="sxs-lookup"><span data-stu-id="5fcef-150">On the **Create Traffic Manager profile** blade, enter the following basic information:</span></span>

  * <span data-ttu-id="5fcef-151">**Ad**: Traffic Manager profilinize bir DNS ön ek adı verin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-151">**Name**: Give your Traffic Manager profile a DNS prefix name.</span></span>
  * <span data-ttu-id="5fcef-152">**Yönlendirme yöntemi**: trafik yönlendirme yöntemini ilkesini seçin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-152">**Routing method**: Select the traffic-routing method policy.</span></span> <span data-ttu-id="5fcef-153">Yöntemleri hakkında daha fazla bilgi için bkz: [hakkında Traffic Manager trafik yönlendirme yöntemleri](traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="5fcef-153">For more information about the methods, see [About Traffic Manager traffic routing methods](traffic-manager-routing-methods.md).</span></span>
  * <span data-ttu-id="5fcef-154">**Abonelik**: Profil içeriyorsa aboneliği seçin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-154">**Subscription**: Select the subscription that contains the profile.</span></span>
  * <span data-ttu-id="5fcef-155">**Kaynak grubu**: profili içeren kaynak grubunu seçin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-155">**Resource group**: Select the resource group that contains the profile.</span></span> <span data-ttu-id="5fcef-156">Yeni veya var olan kaynak grubu olabilir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-156">It can be a new or existing resource group.</span></span>
  * <span data-ttu-id="5fcef-157">**Kaynak grubu konumu**: trafik Yöneticisi hizmeti, genel ve bir konuma bağlı değil.</span><span class="sxs-lookup"><span data-stu-id="5fcef-157">**Resource group location**: Traffic Manager service is global and not bound to a location.</span></span> <span data-ttu-id="5fcef-158">Ancak, trafik Yöneticisi profili ile ilişkilendirilen meta verilerin bulunduğu bir bölge grubu belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-158">However, you must specify a region for the group where the metadata associated with the Traffic Manager profile resides.</span></span> <span data-ttu-id="5fcef-159">Bu konum profil çalışma zamanı kullanılabilirliğini bir etkisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="5fcef-159">This location has no impact on the runtime availability of the profile.</span></span>

3. <span data-ttu-id="5fcef-160">Tıklatın **oluşturma** trafik Yöneticisi profili oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-160">Click **Create** to generate the Traffic Manager profile.</span></span>

  !["Trafik Yöneticisi oluşturma" dikey penceresi](./media/traffic-manager-load-balancing-azure/s1-create-tm-blade.png)

### <a name="step-2-create-the-application-gateways"></a><span data-ttu-id="5fcef-162">2. adım: uygulama ağ geçidi oluşturma</span><span class="sxs-lookup"><span data-stu-id="5fcef-162">Step 2: Create the application gateways</span></span>

1. <span data-ttu-id="5fcef-163">Sol bölmede, Azure portal'ı tıklatın **yeni** > **ağ** > **uygulama ağ geçidi**.</span><span class="sxs-lookup"><span data-stu-id="5fcef-163">In the Azure portal, in the left pane, click **New** > **Networking** > **Application Gateway**.</span></span>
2. <span data-ttu-id="5fcef-164">Uygulama ağ geçidi hakkında aşağıdaki temel bilgileri girin:</span><span class="sxs-lookup"><span data-stu-id="5fcef-164">Enter the following basic information about the application gateway:</span></span>

  * <span data-ttu-id="5fcef-165">**Ad**: uygulama ağ geçidi adı.</span><span class="sxs-lookup"><span data-stu-id="5fcef-165">**Name**: The name of the application gateway.</span></span>
  * <span data-ttu-id="5fcef-166">**SKU boyutunu**: uygulama ağ geçidinin boyutunu, küçük, Orta veya büyük kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-166">**SKU size**: The size of the application gateway, available as Small, Medium, or Large.</span></span>
  * <span data-ttu-id="5fcef-167">**Örnek sayısını**: örnek sayısı, 2 ile 10 arasında bir değer.</span><span class="sxs-lookup"><span data-stu-id="5fcef-167">**Instance count**: The number of instances, a value from 2 through 10.</span></span>
  * <span data-ttu-id="5fcef-168">**Kaynak grubu**: uygulama ağ geçidi tutan kaynak grubu.</span><span class="sxs-lookup"><span data-stu-id="5fcef-168">**Resource group**: The resource group that holds the application gateway.</span></span> <span data-ttu-id="5fcef-169">Varolan bir kaynak grubu veya yeni bir tane olabilir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-169">It can be an existing resource group or a new one.</span></span>
  * <span data-ttu-id="5fcef-170">**Konum**: kaynak grubu ile aynı konumda olan uygulama ağ geçidi için bölge.</span><span class="sxs-lookup"><span data-stu-id="5fcef-170">**Location**: The region for the application gateway, which is the same location as the resource group.</span></span> <span data-ttu-id="5fcef-171">Sanal ağ ve genel IP ağ geçidi ile aynı konumda olması gerektiğinden önemli bir konumdur.</span><span class="sxs-lookup"><span data-stu-id="5fcef-171">The location is important, because the virtual network and public IP must be in the same location as the gateway.</span></span>
3. <span data-ttu-id="5fcef-172">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="5fcef-172">Click **OK**.</span></span>
4. <span data-ttu-id="5fcef-173">Sanal ağ, alt ağ, ön uç IP ve uygulama ağ geçidi için dinleyici yapılandırmalarını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="5fcef-173">Define the virtual network, subnet, front-end IP, and listener configurations for the application gateway.</span></span> <span data-ttu-id="5fcef-174">Bu senaryoda, ön uç IP adresidir **ortak**, onu bir uç nokta trafik Yöneticisi profiline daha sonra eklenmesine izin veren.</span><span class="sxs-lookup"><span data-stu-id="5fcef-174">In this scenario, the front-end IP address is **Public**, which allows it to be added as an endpoint to the Traffic Manager profile later on.</span></span>
5. <span data-ttu-id="5fcef-175">Dinleyici aşağıdaki seçeneklerden birini yapılandırın:</span><span class="sxs-lookup"><span data-stu-id="5fcef-175">Configure the listener with one of the following options:</span></span>
    * <span data-ttu-id="5fcef-176">HTTP kullanırsanız yapılandırmak için hiçbir şey yoktur.</span><span class="sxs-lookup"><span data-stu-id="5fcef-176">If you use HTTP, there is nothing to configure.</span></span> <span data-ttu-id="5fcef-177">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="5fcef-177">Click **OK**.</span></span>
    * <span data-ttu-id="5fcef-178">Daha fazla HTTPS kullanırsanız, bu yapılandırma gereklidir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-178">If you use HTTPS, further configuration is required.</span></span> <span data-ttu-id="5fcef-179">Başvurmak [bir uygulama ağ geçidi oluşturma](../application-gateway/application-gateway-create-gateway-portal.md)başlayarak adım 9.</span><span class="sxs-lookup"><span data-stu-id="5fcef-179">Refer to [Create an application gateway](../application-gateway/application-gateway-create-gateway-portal.md), starting at step 9.</span></span> <span data-ttu-id="5fcef-180">Yapılandırmayı tamamladıktan sonra tıklatın **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="5fcef-180">When you have completed the configuration, click **OK**.</span></span>

#### <a name="configure-url-routing-for-application-gateways"></a><span data-ttu-id="5fcef-181">Uygulama ağ geçitleri için URL yönlendirmeyi yapılandırma</span><span class="sxs-lookup"><span data-stu-id="5fcef-181">Configure URL routing for application gateways</span></span>

<span data-ttu-id="5fcef-182">Bir arka uç havuzu seçtiğinizde, yol tabanlı bir kuralla yapılandırılmış bir uygulama ağ geçidi istek URL'si hepsini dağıtım yanı sıra bir yolu desenini alır.</span><span class="sxs-lookup"><span data-stu-id="5fcef-182">When you choose a back-end pool, an application gateway that's configured with a path-based rule takes a path pattern of the request URL in addition to round-robin distribution.</span></span> <span data-ttu-id="5fcef-183">Bu senaryoda, herhangi bir URL'ye yönlendirmek için bir yol tabanlı kural ekliyoruz "/images/\*" görüntü sunucu havuzuna.</span><span class="sxs-lookup"><span data-stu-id="5fcef-183">In this scenario, we are adding a path-based rule to direct any URL with "/images/\*" to the image server pool.</span></span> <span data-ttu-id="5fcef-184">URL yapılandırma hakkında daha fazla bilgi için yol tabanlı bir uygulama ağ geçidi için yönlendirme başvurmak için [bir uygulama ağ geçidi için bir yol tabanlı kural oluşturma](../application-gateway/application-gateway-create-url-route-portal.md).</span><span class="sxs-lookup"><span data-stu-id="5fcef-184">For more information about configuring URL path-based routing for an application gateway, refer to [Create a path-based rule for an application gateway](../application-gateway/application-gateway-create-url-route-portal.md).</span></span>

![Uygulama ağ geçidi web katmanı diyagramı](./media/traffic-manager-load-balancing-azure/web-tier-diagram.png)

1. <span data-ttu-id="5fcef-186">Önceki bölümde oluşturduğunuz uygulama ağ geçidi örneği, kaynak grubundan gidin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-186">From your resource group, go to the instance of the application gateway that you created in the preceding section.</span></span>
2. <span data-ttu-id="5fcef-187">Altında **ayarları**seçin **arka uç havuzları**ve ardından **Ekle** web katmanı arka uç havuzları ile ilişkilendirmek istediğiniz sanal makineleri eklemek için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-187">Under **Settings**, select **Backend pools**, and then select **Add** to add the VMs that you want to associate with the web-tier back-end pools.</span></span>
3. <span data-ttu-id="5fcef-188">Üzerinde **arka uç havuzu ekleme** dikey penceresinde, arka uç havuzunun adı ve Havuzda bulunan makinelerin tüm IP adreslerini girin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-188">On the **Add backend pool** blade, enter the name of the back-end pool and all the IP addresses of the machines that reside in the pool.</span></span> <span data-ttu-id="5fcef-189">Bu senaryoda, biz sanal makinelerin iki arka uç sunucu havuzu bağlanırsınız.</span><span class="sxs-lookup"><span data-stu-id="5fcef-189">In this scenario, we are connecting two back-end server pools of virtual machines.</span></span>

  ![Uygulama ağ geçidi "arka uç havuzu Ekle" dikey](./media/traffic-manager-load-balancing-azure/s2-appgw-add-bepool.png)

4. <span data-ttu-id="5fcef-191">Altında **ayarları** uygulama ağ geçidi için seçin **kuralları**ve ardından **yol temelli** bir kural eklemek için düğmesi.</span><span class="sxs-lookup"><span data-stu-id="5fcef-191">Under **Settings** of the application gateway, select **Rules**, and then click the **Path based** button to add a rule.</span></span>

  ![Uygulama ağ geçidi kuralları "Yoluna bağlı" düğmesi](./media/traffic-manager-load-balancing-azure/s2-appgw-add-pathrule.png)

5. <span data-ttu-id="5fcef-193">Üzerinde **yol tabanlı Kuralı Ekle** dikey penceresinde, aşağıdaki bilgileri sağlayarak kuralını yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="5fcef-193">On the **Add path-based rule** blade, configure the rule by providing the following information.</span></span>

   <span data-ttu-id="5fcef-194">Temel ayarlar:</span><span class="sxs-lookup"><span data-stu-id="5fcef-194">Basic settings:</span></span>

   + <span data-ttu-id="5fcef-195">**Ad**: Portalı'nda erişilebilir olan kural kolay adı.</span><span class="sxs-lookup"><span data-stu-id="5fcef-195">**Name**: The friendly name of the rule that is accessible in the portal.</span></span>
   + <span data-ttu-id="5fcef-196">**Dinleyici**: kural için kullanılan dinleyicisi.</span><span class="sxs-lookup"><span data-stu-id="5fcef-196">**Listener**: The listener that is used for the rule.</span></span>
   + <span data-ttu-id="5fcef-197">**Varsayılan arka uç havuzu**: varsayılan kuralı ile kullanılacak arka uç havuzu.</span><span class="sxs-lookup"><span data-stu-id="5fcef-197">**Default backend pool**: The back-end pool to be used with the default rule.</span></span>
   + <span data-ttu-id="5fcef-198">**Varsayılan HTTP ayarları**: varsayılan kuralı ile kullanılacak HTTP ayarları.</span><span class="sxs-lookup"><span data-stu-id="5fcef-198">**Default HTTP settings**: The HTTP settings to be used with the default rule.</span></span>

   <span data-ttu-id="5fcef-199">Yol tabanlı kurallar:</span><span class="sxs-lookup"><span data-stu-id="5fcef-199">Path-based rules:</span></span>

   + <span data-ttu-id="5fcef-200">**Ad**: yol tabanlı kural kolay adı.</span><span class="sxs-lookup"><span data-stu-id="5fcef-200">**Name**: The friendly name of the path-based rule.</span></span>
   + <span data-ttu-id="5fcef-201">**Yollar**: trafiği iletmek için kullanılan yol kuralı.</span><span class="sxs-lookup"><span data-stu-id="5fcef-201">**Paths**: The path rule that is used for forwarding traffic.</span></span>
   + <span data-ttu-id="5fcef-202">**Arka uç havuzu**: Bu kural ile kullanılacak arka uç havuzu.</span><span class="sxs-lookup"><span data-stu-id="5fcef-202">**Backend Pool**: The back-end pool to be used with this rule.</span></span>
   + <span data-ttu-id="5fcef-203">**HTTP ayarı**: Bu kural ile kullanılacak HTTP ayarları.</span><span class="sxs-lookup"><span data-stu-id="5fcef-203">**HTTP Setting**: The HTTP settings to be used with this rule.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="5fcef-204">Yollar: Geçerli yolları başlamalıdır "/".</span><span class="sxs-lookup"><span data-stu-id="5fcef-204">Paths: Valid paths must start with "/".</span></span> <span data-ttu-id="5fcef-205">Joker karakter "\*" yalnızca sonunda izin verilir.</span><span class="sxs-lookup"><span data-stu-id="5fcef-205">The wildcard "\*" is allowed only at the end.</span></span> <span data-ttu-id="5fcef-206">Geçerli örnekler /xyz, /xyz\*, veya /xyz/\*.</span><span class="sxs-lookup"><span data-stu-id="5fcef-206">Valid examples are /xyz, /xyz\*, or /xyz/\*.</span></span>

   ![Uygulama ağ geçidi "Yol tabanlı Kuralı Ekle" dikey penceresi](./media/traffic-manager-load-balancing-azure/s2-appgw-pathrule-blade.png)

### <a name="step-3-add-application-gateways-to-the-traffic-manager-endpoints"></a><span data-ttu-id="5fcef-208">3. adım: uygulama ağ geçitleri trafik Yöneticisi uç noktaları ekleme</span><span class="sxs-lookup"><span data-stu-id="5fcef-208">Step 3: Add application gateways to the Traffic Manager endpoints</span></span>

<span data-ttu-id="5fcef-209">Bu senaryoda, farklı bölgelerde bulunur (önceki adımlarda yapılandırılmış gibi) uygulama ağ geçitleri trafik Yöneticisi bağlı.</span><span class="sxs-lookup"><span data-stu-id="5fcef-209">In this scenario, Traffic Manager is connected to application gateways (as configured in the preceding steps) that reside in different regions.</span></span> <span data-ttu-id="5fcef-210">Uygulama ağ geçitleri yapılandırılır, sonraki adım bunları Traffic Manager profilinize bağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="5fcef-210">Now that the application gateways are configured, the next step is to connect them to your Traffic Manager profile.</span></span>

1. <span data-ttu-id="5fcef-211">Traffic Manager profilinizin açın.</span><span class="sxs-lookup"><span data-stu-id="5fcef-211">Open your Traffic Manager profile.</span></span> <span data-ttu-id="5fcef-212">Bunu yapmak için kaynak grubu veya trafik Yöneticisi profilinin adını arayın Ara **tüm kaynakları**.</span><span class="sxs-lookup"><span data-stu-id="5fcef-212">To do so, look in your resource group or search for the name of the Traffic Manager profile from **All Resources**.</span></span>
2. <span data-ttu-id="5fcef-213">Sol bölmede seçin **uç noktaları**ve ardından **Ekle** bir uç noktası eklemek için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-213">In the left pane, select **Endpoints**, and then click **Add** to add an endpoint.</span></span>

  ![Trafik Yöneticisi uç noktaları "Ekle" düğmesi](./media/traffic-manager-load-balancing-azure/s3-tm-add-endpoint.png)

3. <span data-ttu-id="5fcef-215">Üzerinde **uç nokta ekleme** dikey penceresinde, aşağıdaki bilgileri girerek bir uç nokta oluşturun:</span><span class="sxs-lookup"><span data-stu-id="5fcef-215">On the **Add endpoint** blade, create an endpoint by entering the following information:</span></span>

  * <span data-ttu-id="5fcef-216">**Tür**: Yük Dengeleme uç türünü seçin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-216">**Type**: Select the type of endpoint to load-balance.</span></span> <span data-ttu-id="5fcef-217">Bu senaryoda seçin **Azure uç noktası** biz önceden yapılandırılmış uygulama ağ geçidi örnekleri bağlandığınız için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-217">In this scenario, select **Azure endpoint** because we are connecting it to the application gateway instances that were configured previously.</span></span>
  * <span data-ttu-id="5fcef-218">**Ad**: uç nokta adını girin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-218">**Name**: Enter the name of the endpoint.</span></span>
  * <span data-ttu-id="5fcef-219">**Hedef kaynak türünün**: seçin **genel IP adresi** ve ardından, **hedef kaynak**, daha önce yapılandırılan uygulama ağ geçidinin genel IP adresi seçin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-219">**Target resource type**: Select **Public IP address** and then, under **Target resource**, select the public IP of the application gateway that was configured previously.</span></span>

   ![Trafik Yöneticisi "uç nokta Ekle" dikey](./media/traffic-manager-load-balancing-azure/s3-tm-add-endpoint-blade.png)

4. <span data-ttu-id="5fcef-221">Traffic Manager profilinizin DNS ile erişerek kurulumunuzu sınayabilirsiniz artık (Bu örnekte: TrafficManagerScenario.trafficmanager.net).</span><span class="sxs-lookup"><span data-stu-id="5fcef-221">Now you can test your setup by accessing it with the DNS of your Traffic Manager profile (in this example: TrafficManagerScenario.trafficmanager.net).</span></span> <span data-ttu-id="5fcef-222">İsteği yeniden gönderin, ortaya çıkarmak veya VM'ler ve farklı bölgelerde oluşturulan web sunucuları aşağı Getir ve kurulumunuzu test etmek için trafik Yöneticisi profili ayarlarını değiştirin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-222">You can resend requests, bring up or bring down VMs and web servers that were created in different regions, and change the Traffic Manager profile settings to test your setup.</span></span>

### <a name="step-4-create-a-load-balancer"></a><span data-ttu-id="5fcef-223">4. adım: bir yük dengeleyici oluşturma</span><span class="sxs-lookup"><span data-stu-id="5fcef-223">Step 4: Create a load balancer</span></span>

<span data-ttu-id="5fcef-224">Bu senaryoda, yük dengeleyici web katmanı bağlantılarından veritabanlarına yüksek oranda kullanılabilirlik kümesi içinde dağıtır.</span><span class="sxs-lookup"><span data-stu-id="5fcef-224">In this scenario, Load Balancer distributes connections from the web tier to the databases within a high-availability cluster.</span></span>

<span data-ttu-id="5fcef-225">Yüksek kullanılabilirlik veritabanı Kümenizin SQL Server AlwaysOn kullanıyorsanız başvurmak [bir veya daha fazla her zaman üzerinde kullanılabilirlik grubu dinleyicileri yapılandırma](../virtual-machines/windows/sql/virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md) adım adım yönergeler için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-225">If your high-availability database cluster is using SQL Server AlwaysOn, refer to [Configure one or more Always On Availability Group Listeners](../virtual-machines/windows/sql/virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md) for step-by-step instructions.</span></span>

<span data-ttu-id="5fcef-226">Bir iç yük dengeleyici yapılandırma hakkında daha fazla bilgi için bkz: [Azure portalında bir iç yük dengeleyici oluşturma](../load-balancer/load-balancer-get-started-ilb-arm-portal.md).</span><span class="sxs-lookup"><span data-stu-id="5fcef-226">For more information about configuring an internal load balancer, see [Create an Internal load balancer in the Azure portal](../load-balancer/load-balancer-get-started-ilb-arm-portal.md).</span></span>

1. <span data-ttu-id="5fcef-227">Sol bölmede, Azure portal'ı tıklatın **yeni** > **ağ** > **yük dengeleyici**.</span><span class="sxs-lookup"><span data-stu-id="5fcef-227">In the Azure portal, in the left pane, click **New** > **Networking** > **Load balancer**.</span></span>
2. <span data-ttu-id="5fcef-228">Üzerinde **oluşturma yük dengeleyici** dikey penceresinde, yük dengeleyici için bir ad seçin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-228">On the **Create load balancer** blade, choose a name for your load balancer.</span></span>
3. <span data-ttu-id="5fcef-229">Ayarlama **türü** için **iç**, uygun sanal ağ ve alt ağ yük dengeleyici bulunması için seçin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-229">Set the **Type** to **Internal**, and choose the appropriate virtual network and subnet for the load balancer to reside in.</span></span>
4. <span data-ttu-id="5fcef-230">Altında **IP adresi ataması**, şunlardan birini seçin **dinamik** veya **statik**.</span><span class="sxs-lookup"><span data-stu-id="5fcef-230">Under **IP address assignment**, select either **Dynamic** or **Static**.</span></span>
5. <span data-ttu-id="5fcef-231">Altında **kaynak grubu**, yük dengeleyici için kaynak grubunu seçin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-231">Under **Resource group**, choose the resource group for the load balancer.</span></span>
6. <span data-ttu-id="5fcef-232">Altında **konumu**, yük dengeleyici için uygun bir bölge seçin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-232">Under **Location**, choose the appropriate region for the load balancer.</span></span>
7. <span data-ttu-id="5fcef-233">Tıklatın **oluşturma** yük dengeleyici oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-233">Click **Create** to generate the load balancer.</span></span>

#### <a name="connect-a-back-end-database-tier-to-the-load-balancer"></a><span data-ttu-id="5fcef-234">Yük Dengeleyici arka uç veritabanı katmanı Bağlan</span><span class="sxs-lookup"><span data-stu-id="5fcef-234">Connect a back-end database tier to the load balancer</span></span>

1. <span data-ttu-id="5fcef-235">Kaynak grubundan önceki adımlarda oluşturulan yük dengeleyici bulunamıyor.</span><span class="sxs-lookup"><span data-stu-id="5fcef-235">From your resource group, find the load balancer that was created in the previous steps.</span></span>
2. <span data-ttu-id="5fcef-236">Altında **ayarları**, tıklatın **arka uç havuzları**ve ardından **Ekle** bir arka uç havuzu ekleme.</span><span class="sxs-lookup"><span data-stu-id="5fcef-236">Under **Settings**, click **Backend pools**, and then click **Add** to add a back-end pool.</span></span>

  ![Yük Dengeleyici "arka uç havuzu Ekle" dikey](./media/traffic-manager-load-balancing-azure/s4-ilb-add-bepool.png)

3. <span data-ttu-id="5fcef-238">Üzerinde **arka uç havuzu ekleme** dikey penceresinde, arka uç havuzunun adını girin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-238">On the **Add backend pool** blade, enter the name of the back-end pool.</span></span>
4. <span data-ttu-id="5fcef-239">Makineleri tek tek veya kullanılabilirlik kümesi arka uç havuzuna ekleyin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-239">Add either individual machines or an availability set to the back-end pool.</span></span>

#### <a name="configure-a-probe"></a><span data-ttu-id="5fcef-240">Bir araştırma yapılandırmanız</span><span class="sxs-lookup"><span data-stu-id="5fcef-240">Configure a probe</span></span>

1. <span data-ttu-id="5fcef-241">İçinde yük dengeleyici altındaki **ayarları**seçin **yoklamaları**ve ardından **Ekle** bir araştırma eklemek için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-241">In your load balancer, under **Settings**, select **Probes**, and then click **Add** to add a probe.</span></span>

 ![Yük Dengeleyici "Ekle araştırma" dikey penceresi](./media/traffic-manager-load-balancing-azure/s4-ilb-add-probe.png)

2. <span data-ttu-id="5fcef-243">Üzerinde **Ekle araştırma** dikey penceresinde, araştırma için bir ad girin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-243">On the **Add probe** blade, enter the name for the probe.</span></span>
3. <span data-ttu-id="5fcef-244">Seçin **Protokolü** araştırma için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-244">Select the **Protocol** for the probe.</span></span> <span data-ttu-id="5fcef-245">Bir veritabanı için bir HTTP araştırmasını yerine bir TCP araştırması isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5fcef-245">For a database, you might want a TCP probe rather than an HTTP probe.</span></span> <span data-ttu-id="5fcef-246">Yük Dengeleyici araştırmalar hakkında daha fazla bilgi için bkz [anlayın yük dengeleyici araştırmalar](../load-balancer/load-balancer-custom-probe-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5fcef-246">To learn more about load-balancer probes, refer to [Understand load balancer probes](../load-balancer/load-balancer-custom-probe-overview.md).</span></span>
4. <span data-ttu-id="5fcef-247">Girin **bağlantı noktası** veritabanınızın araştırma erişmek için kullanılacak.</span><span class="sxs-lookup"><span data-stu-id="5fcef-247">Enter the **Port** of your database to be used for accessing the probe.</span></span>
5. <span data-ttu-id="5fcef-248">Altında **aralığı**, sık sık uygulama araştırma nasıl belirtin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-248">Under **Interval**, specify how frequently to probe the application.</span></span>
6. <span data-ttu-id="5fcef-249">Altında **sağlıksız durum eşiği**, ortaya çıkması gereken sürekli araştırma hataları sağlıksız olarak kabul edilmesi arka uç VM sayısını belirtin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-249">Under **Unhealthy threshold**, specify the number of continuous probe failures that must occur for the back-end VM to be considered unhealthy.</span></span>
7. <span data-ttu-id="5fcef-250">Tıklatın **Tamam** araştırma oluşturulamadı.</span><span class="sxs-lookup"><span data-stu-id="5fcef-250">Click **OK** to create the probe.</span></span>

#### <a name="configure-the-load-balancing-rules"></a><span data-ttu-id="5fcef-251">Yük Dengeleme kurallarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="5fcef-251">Configure the load-balancing rules</span></span>

1. <span data-ttu-id="5fcef-252">Altında **ayarları** , yük dengeleyici seçin **Yük Dengeleme kuralları**ve ardından **Ekle** bir kural oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-252">Under **Settings** of your load balancer, select **Load balancing rules**, and then click **Add** to create a rule.</span></span>
2. <span data-ttu-id="5fcef-253">Üzerinde **Ekle Yük Dengeleme kuralını** dikey penceresinde girin **adı** Yük Dengeleme kuralı için.</span><span class="sxs-lookup"><span data-stu-id="5fcef-253">On the **Add load balancing rule** blade, enter the **Name** for the load-balancing rule.</span></span>
3. <span data-ttu-id="5fcef-254">Seçin **ön uç IP adresi** yük dengeleyicinin **Protokolü**, ve **bağlantı noktası**.</span><span class="sxs-lookup"><span data-stu-id="5fcef-254">Choose the **Frontend IP Address** of the load balancer, **Protocol**, and **Port**.</span></span>
4. <span data-ttu-id="5fcef-255">Altında **arka uç bağlantı noktası**, arka uç havuzunda kullanılacak bağlantı noktasını belirtin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-255">Under **Backend port**, specify the port to be used in the back-end pool.</span></span>
5. <span data-ttu-id="5fcef-256">Seçin **arka uç havuzu** ve **araştırma** kural uygulamak için önceki adımlarda oluşturulmuş.</span><span class="sxs-lookup"><span data-stu-id="5fcef-256">Select the **Backend pool** and the **Probe** that were created in the previous steps to apply the rule to.</span></span>
6. <span data-ttu-id="5fcef-257">Altında **oturum kalıcılığını**, nasıl kalıcı hale getirmek için oturumları istediğinizi seçin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-257">Under **Session persistence**, choose how you want the sessions to persist.</span></span>
7. <span data-ttu-id="5fcef-258">Altında **boş durma zaman aşımlarını**, boşta kalma zaman aşımından önce dakika sayısını belirtin.</span><span class="sxs-lookup"><span data-stu-id="5fcef-258">Under **Idle timeouts**, specify the number of minutes before an idle timeout.</span></span>
8. <span data-ttu-id="5fcef-259">Altında **kayan IP**, şunlardan birini seçin **devre dışı** veya **etkin**.</span><span class="sxs-lookup"><span data-stu-id="5fcef-259">Under **Floating IP**, select either **Disabled** or **Enabled**.</span></span>
9. <span data-ttu-id="5fcef-260">Kuralı oluşturmak için **Tamam**'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="5fcef-260">Click **OK** to create the rule.</span></span>

### <a name="step-5-connect-web-tier-vms-to-the-load-balancer"></a><span data-ttu-id="5fcef-261">5. adım: web katmanı VM'ler yük dengeleyiciye bağlanın.</span><span class="sxs-lookup"><span data-stu-id="5fcef-261">Step 5: Connect web-tier VMs to the load balancer</span></span>

<span data-ttu-id="5fcef-262">Şimdi biz web katmanı Vm'leriniz için herhangi bir veritabanı bağlantısı üzerinde çalışan uygulamalar, IP adresi ve yük dengeleyici ön uç bağlantı noktasını yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="5fcef-262">Now we configure the IP address and load-balancer front-end port in the applications that are running on your web-tier VMs for any database connections.</span></span> <span data-ttu-id="5fcef-263">Bu yapılandırma, bu Vm'lerde çalışan uygulamaları özgüdür.</span><span class="sxs-lookup"><span data-stu-id="5fcef-263">This configuration is specific to the applications that run on these VMs.</span></span> <span data-ttu-id="5fcef-264">Hedef IP adresi ve bağlantı noktası yapılandırmak için uygulama belgelerine başvurun.</span><span class="sxs-lookup"><span data-stu-id="5fcef-264">To configure the destination IP address and port, refer to the application documentation.</span></span> <span data-ttu-id="5fcef-265">Azure portalında ön uç IP adresini bulmak için ön uç IP havuzuna geçin **yük dengeleyici ayarları** dikey.</span><span class="sxs-lookup"><span data-stu-id="5fcef-265">To find the IP address of the front end, in the Azure portal, go to the front-end IP pool on the **Load balancer settings** blade.</span></span>

![Yük Dengeleyici "Ön uç IP havuzu" Gezinti Bölmesi](./media/traffic-manager-load-balancing-azure/s5-ilb-frontend-ippool.png)

## <a name="next-steps"></a><span data-ttu-id="5fcef-267">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="5fcef-267">Next steps</span></span>

* [<span data-ttu-id="5fcef-268">Trafik Yöneticisi'nin genel bakış</span><span class="sxs-lookup"><span data-stu-id="5fcef-268">Overview of Traffic Manager</span></span>](traffic-manager-overview.md)
* [<span data-ttu-id="5fcef-269">Uygulama ağ geçidi'ne genel bakış</span><span class="sxs-lookup"><span data-stu-id="5fcef-269">Application Gateway overview</span></span>](../application-gateway/application-gateway-introduction.md)
* [<span data-ttu-id="5fcef-270">Azure Load Balancer’a genel bakış</span><span class="sxs-lookup"><span data-stu-id="5fcef-270">Azure Load Balancer overview</span></span>](../load-balancer/load-balancer-overview.md)
