---
title: "Azure trafik Yöneticisi uç nokta izleme | Microsoft Docs"
description: "Bu makalede nasıl trafik Yöneticisi uç nokta izleme ve otomatik uç nokta yük devretme yüksek kullanılabilirlik uygulamaları dağıtmak Azure müşterilere yardımcı olmak için kullandığı anlamanıza yardımcı olabilir"
services: traffic-manager
documentationcenter: 
author: kumudd
manager: timlt
editor: 
ms.assetid: fff25ac3-d13a-4af9-8916-7c72e3d64bc7
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/22/2017
ms.author: kumud
ms.openlocfilehash: 5ce000814f2f5899a7338fdefb39c4873c006b1d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="traffic-manager-endpoint-monitoring"></a><span data-ttu-id="0398d-103">Trafik Yöneticisi uç nokta izleme</span><span class="sxs-lookup"><span data-stu-id="0398d-103">Traffic Manager endpoint monitoring</span></span>

<span data-ttu-id="0398d-104">Azure Traffic Manager yerleşik uç nokta izleme ve otomatik uç nokta yük devretme içerir.</span><span class="sxs-lookup"><span data-stu-id="0398d-104">Azure Traffic Manager includes built-in endpoint monitoring and automatic endpoint failover.</span></span> <span data-ttu-id="0398d-105">Bu özellik Azure bölgesi hatalar dahil olmak üzere son nokta hatalarına karşı dayanıklı yüksek kullanılabilirlik uygulamaları sunmanıza yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="0398d-105">This feature helps you deliver high-availability applications that are resilient to endpoint failure, including Azure region failures.</span></span>

## <a name="configure-endpoint-monitoring"></a><span data-ttu-id="0398d-106">Uç nokta izlemeyi yapılandırma</span><span class="sxs-lookup"><span data-stu-id="0398d-106">Configure endpoint monitoring</span></span>

<span data-ttu-id="0398d-107">Uç noktası izleme yapılandırmak için aşağıdaki ayarları Traffic Manager profilinize belirtmeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="0398d-107">To configure endpoint monitoring, you must specify the following settings on your Traffic Manager profile:</span></span>

* <span data-ttu-id="0398d-108">**Protokol**.</span><span class="sxs-lookup"><span data-stu-id="0398d-108">**Protocol**.</span></span> <span data-ttu-id="0398d-109">HTTP, HTTPS veya TCP protokol olarak trafik Yöneticisi uç noktanızı yoklama zaman, sistem durumunu denetlemek için kullandığını seçin.</span><span class="sxs-lookup"><span data-stu-id="0398d-109">Choose HTTP, HTTPS, or TCP as the protocol that Traffic Manager uses when probing your endpoint to check its health.</span></span> <span data-ttu-id="0398d-110">HTTPS izleme, SSL sertifikası geçerli--olup, yalnızca sertifika bulunduğunu denetler doğrulamaz.</span><span class="sxs-lookup"><span data-stu-id="0398d-110">HTTPS monitoring does not verify whether your SSL certificate is valid--it only checks that the certificate is present.</span></span>
* <span data-ttu-id="0398d-111">**Bağlantı noktası**.</span><span class="sxs-lookup"><span data-stu-id="0398d-111">**Port**.</span></span> <span data-ttu-id="0398d-112">İstek için kullanılan bağlantı noktası seçin.</span><span class="sxs-lookup"><span data-stu-id="0398d-112">Choose the port used for the request.</span></span>
* <span data-ttu-id="0398d-113">**Yol**.</span><span class="sxs-lookup"><span data-stu-id="0398d-113">**Path**.</span></span> <span data-ttu-id="0398d-114">Bu yapılandırma ayarının hangi yolunu belirtmek için gerekli bir ayardır yalnızca HTTP ve HTTPS protokolleri için geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="0398d-114">This configuration setting is valid only for the HTTP and HTTPS protocols, for which specifying the path setting is required.</span></span> <span data-ttu-id="0398d-115">Bu ayar için bir hata Protokolü sonuçlarında izleme TCP sağlama.</span><span class="sxs-lookup"><span data-stu-id="0398d-115">Providing this setting for the TCP monitoring protocol results in an error.</span></span> <span data-ttu-id="0398d-116">TCP protokolü için göreli yol ve Web sayfası veya izleme eriştiğinde dosyanın adını verin.</span><span class="sxs-lookup"><span data-stu-id="0398d-116">For TCP protocol, give the relative path and the name of the webpage or the file that the monitoring accesses.</span></span> <span data-ttu-id="0398d-117">Eğik çizgi (/), göreli yolu geçerli bir giriştir.</span><span class="sxs-lookup"><span data-stu-id="0398d-117">A forward slash (/) is a valid entry for the relative path.</span></span> <span data-ttu-id="0398d-118">Bu değer dosyasının kök dizininde (varsayılan) olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="0398d-118">This value implies that the file is in the root directory (default).</span></span>
* <span data-ttu-id="0398d-119">**Yoklama aralığı**.</span><span class="sxs-lookup"><span data-stu-id="0398d-119">**Probing Interval**.</span></span> <span data-ttu-id="0398d-120">Bu değer, ne sıklıkta bir uç nokta Traffic Manager yoklama aracısından sistem durumu denetlenme belirtir.</span><span class="sxs-lookup"><span data-stu-id="0398d-120">This value specifies how often an endpoint is checked for its health from a Traffic Manager probing agent.</span></span> <span data-ttu-id="0398d-121">Burada iki değerleri belirtebilirsiniz: 30 (normal yoklama) saniye ile 10 saniye (Hızlı Yoklama).</span><span class="sxs-lookup"><span data-stu-id="0398d-121">You can specify two values here: 30 seconds (normal probing) and 10 seconds (fast probing).</span></span> <span data-ttu-id="0398d-122">Hiçbir değer verdiyse, profil 30 saniye varsayılan değerini ayarlar.</span><span class="sxs-lookup"><span data-stu-id="0398d-122">If no values are provided, the profile sets to a default value of 30 seconds.</span></span> <span data-ttu-id="0398d-123">Ziyaret [trafik Yöneticisi fiyatlandırma](https://azure.microsoft.com/pricing/details/traffic-manager) Hızlı Yoklama fiyatlandırma hakkında daha fazla bilgi için sayfa.</span><span class="sxs-lookup"><span data-stu-id="0398d-123">Visit the [Traffic Manager Pricing](https://azure.microsoft.com/pricing/details/traffic-manager) page to learn more about fast probing pricing.</span></span>
* <span data-ttu-id="0398d-124">**Hatalarının sayısı izin**.</span><span class="sxs-lookup"><span data-stu-id="0398d-124">**Tolerated Number of Failures**.</span></span> <span data-ttu-id="0398d-125">Bu değer, o uç noktası sağlıksız olarak işaretleme önce bir trafik Yöneticisi yoklama Aracısı göstereceği kaç hataları belirtir.</span><span class="sxs-lookup"><span data-stu-id="0398d-125">This value specifies how many failures a Traffic Manager probing agent tolerates before marking that endpoint as unhealthy.</span></span> <span data-ttu-id="0398d-126">Değeri 0 ile 9 arasında değişebilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-126">Its value can range between 0 and 9.</span></span> <span data-ttu-id="0398d-127">Bir değeri 0 anlamına gelir, bu uç sorunlu olarak tek bir izleme hata neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-127">A value of 0 means a single monitoring failure can cause that endpoint to be marked as unhealthy.</span></span> <span data-ttu-id="0398d-128">Herhangi bir değer belirtilirse, varsayılan değer 3'ün kullanır.</span><span class="sxs-lookup"><span data-stu-id="0398d-128">If no value is specified, it uses the default value of 3.</span></span>
* <span data-ttu-id="0398d-129">**Zaman aşımı izleme**.</span><span class="sxs-lookup"><span data-stu-id="0398d-129">**Monitoring Timeout**.</span></span> <span data-ttu-id="0398d-130">Bu özellik, bir sistem durumu denetimi araştırma uç noktasına gönderilirken bir hata denetleme trafik Yöneticisi yoklama Aracısı olduğunu düşünmeden önce beklemesi gereken süre miktarını belirtir.</span><span class="sxs-lookup"><span data-stu-id="0398d-130">This property specifies the amount of time the Traffic Manager probing agent should wait before considering that check a failure when a health check probe is sent to the endpoint.</span></span> <span data-ttu-id="0398d-131">Yoklama aralığı 30 saniye olarak ayarlarsanız, zaman aşımı değeri 5 ile 10 saniye arasında ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0398d-131">If the Probing Interval is set to 30 seconds, then you can set the Timeout value between 5 and 10 seconds.</span></span> <span data-ttu-id="0398d-132">Herhangi bir değer belirtilirse, varsayılan değer 10 saniye olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="0398d-132">If no value is specified, it uses a default value of 10 seconds.</span></span> <span data-ttu-id="0398d-133">Yoklama aralığı 10 saniye olarak ayarlarsanız, zaman aşımı değeri 5-9 saniye arasında bir değer ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0398d-133">If the Probing Interval is set to 10 seconds, then you can set the Timeout value between 5 and 9 seconds.</span></span> <span data-ttu-id="0398d-134">Hiçbir zaman aşımı değeri belirtilirse, varsayılan değer 9 saniye olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="0398d-134">If no Timeout value is specified, it uses a default value of 9 seconds.</span></span>

![Trafik Yöneticisi uç nokta izleme](./media/traffic-manager-monitoring/endpoint-monitoring-settings.png)

<span data-ttu-id="0398d-136">**Şekil 1: Trafik Yöneticisi uç nokta izleme**</span><span class="sxs-lookup"><span data-stu-id="0398d-136">**Figure 1:  Traffic Manager endpoint monitoring**</span></span>

## <a name="how-endpoint-monitoring-works"></a><span data-ttu-id="0398d-137">Uç nokta izleme nasıl çalışır</span><span class="sxs-lookup"><span data-stu-id="0398d-137">How endpoint monitoring works</span></span>

<span data-ttu-id="0398d-138">İzleme Protokolü HTTP veya HTTPS ayarlanırsa, trafik Yöneticisi Araştırma Aracı protokolü, bağlantı noktası ve göreli yol verilen kullanarak uç noktaya bir GET isteği yapar.</span><span class="sxs-lookup"><span data-stu-id="0398d-138">If the monitoring protocol is set as HTTP or HTTPS, the Traffic Manager probing agent makes a GET request to the endpoint using the protocol, port, and relative path given.</span></span> <span data-ttu-id="0398d-139">200 Tamam yanıt geri alır, bu uç sağlıklı olarak değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-139">If it gets back a 200-OK response, then that endpoint is considered healthy.</span></span> <span data-ttu-id="0398d-140">Yanıt farklı bir değer ise veya, sonra aracıyı yeniden çalışır (Bu ayar 0 ise hiçbir yeniden dener yapılır), numarası hataları izin ayarına göre yoklama trafik Yöneticisi belirtilen zaman aşımı süresi içinde yanıt alınmazsa.</span><span class="sxs-lookup"><span data-stu-id="0398d-140">If the response is a different value, or, if no response is received within the timeout period specified, then the Traffic Manager probing agent re-attempts according to the Tolerated Number of Failures setting (no re-attempts are done if this setting is 0).</span></span> <span data-ttu-id="0398d-141">Ardışık sayısı izin numarası, hataları ayarından daha yüksek ise, bu uç sorunlu olarak işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="0398d-141">If the number of consecutive failures is higher than the Tolerated Number of Failures setting, then that endpoint is marked as unhealthy.</span></span> 

<span data-ttu-id="0398d-142">Trafik Yöneticisi Araştırma Aracı izleme protokol TCP ise, belirtilen bağlantı noktası kullanarak bir TCP bağlantısı isteği başlatır.</span><span class="sxs-lookup"><span data-stu-id="0398d-142">If the monitoring protocol is TCP, the Traffic Manager probing agent initiates a TCP connection request using the port specified.</span></span> <span data-ttu-id="0398d-143">Uç nokta bağlantı kurmak için bir yanıt istek için yanıt verirse, bu sistem durumu denetimi başarılı işaretlenmiş ve trafik Yöneticisi yoklama Aracısı TCP bağlantısı sıfırlar.</span><span class="sxs-lookup"><span data-stu-id="0398d-143">If the endpoint responds to the request with a response to establish the connection, that health check is marked as a success and the Traffic Manager probing agent resets the TCP connection.</span></span> <span data-ttu-id="0398d-144">Yanıt farklı bir değer ise veya zaman aşımı süresi içinde yanıt alınmazsa belirtilmezse, aracı yeniden çalışır (Bu ayar 0 hiçbir yeniden çalışır hale getirilir), numarası hataları izin ayarına göre yoklama trafik Yöneticisi.</span><span class="sxs-lookup"><span data-stu-id="0398d-144">If the response is a different value, or if no response is received within the timeout period specified, the Traffic Manager probing agent re-attempts according to the Tolerated Number of Failures setting (no re-attempts are made if this setting is 0).</span></span> <span data-ttu-id="0398d-145">Ardışık sayısı izin numarası, hataları ayarından daha yüksek ise, bu uç sağlıksız olarak işaretlenmiş.</span><span class="sxs-lookup"><span data-stu-id="0398d-145">If the number of consecutive failures is higher than the Tolerated Number of Failures setting, then that endpoint is marked unhealthy.</span></span>

<span data-ttu-id="0398d-146">Tüm durumlarda trafik Yöneticisi birden çok konumlardan araştırmaları ve her bölge içinde ardışık hatası belirleme olur.</span><span class="sxs-lookup"><span data-stu-id="0398d-146">In all cases, Traffic Manager probes from multiple locations and the consecutive failure determination happens within each region.</span></span> <span data-ttu-id="0398d-147">Bu aynı zamanda uç noktaları sistem durumu araştırmalarının trafik Yöneticisi'nden yoklama aralığı için kullanılan ayarından daha yüksek bir sıklıkta almadığı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="0398d-147">This also means that endpoints are receiving health probes from Traffic Manager with a higher frequency than the setting used for Probing Interval.</span></span>

>[!NOTE]
><span data-ttu-id="0398d-148">HTTP veya HTTPS protokolü izleme için yaygın bir uç nokta tarafında, uygulamanızda - Örneğin, /health.aspx özel bir sayfa uygulamak için uygulamadır.</span><span class="sxs-lookup"><span data-stu-id="0398d-148">For HTTP or HTTPS monitoring protocol, a common practice on the endpoint side is to implement a custom page within your application - for example, /health.aspx.</span></span> <span data-ttu-id="0398d-149">Bu yolu, izleme için kullanarak, uygulamaya özgü denetimleri, performans sayaçları denetleme veya veritabanı kullanılabilirlik doğrulama gibi gerçekleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0398d-149">Using this path for monitoring, you can perform application-specific checks, such as checking performance counters or verifying database availability.</span></span> <span data-ttu-id="0398d-150">Bu özel denetimler bağlı olarak, uygun bir HTTP durum kodu sayfasını döndürür.</span><span class="sxs-lookup"><span data-stu-id="0398d-150">Based on these custom checks, the page returns an appropriate HTTP status code.</span></span>

<span data-ttu-id="0398d-151">Trafik Yöneticisi profili içindeki tüm uç noktaları izleme ayarlarını paylaşır.</span><span class="sxs-lookup"><span data-stu-id="0398d-151">All endpoints in a Traffic Manager profile share monitoring settings.</span></span> <span data-ttu-id="0398d-152">Farklı uç noktalar için farklı izleme ayarları kullanmanız gerekiyorsa, oluşturabileceğiniz [iç içe trafik Yöneticisi profillerine](traffic-manager-nested-profiles.md#example-5-per-endpoint-monitoring-settings).</span><span class="sxs-lookup"><span data-stu-id="0398d-152">If you need to use different monitoring settings for different endpoints, you can create [nested Traffic Manager profiles](traffic-manager-nested-profiles.md#example-5-per-endpoint-monitoring-settings).</span></span>

## <a name="endpoint-and-profile-status"></a><span data-ttu-id="0398d-153">Uç nokta ve profil durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-153">Endpoint and profile status</span></span>

<span data-ttu-id="0398d-154">Etkinleştirme ve trafik Yöneticisi profillerinizi ve uç noktaları devre dışı bırakabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0398d-154">You can enable and disable Traffic Manager profiles and endpoints.</span></span> <span data-ttu-id="0398d-155">Ancak, bir sonuç trafik Yöneticisi'nin ayarlarını ve işlemleri otomatik olarak bir uç nokta durumu değişikliği de oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-155">However, a change in endpoint status also might occur as a result of Traffic Manager automated settings and processes.</span></span>

### <a name="endpoint-status"></a><span data-ttu-id="0398d-156">Uç nokta durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-156">Endpoint status</span></span>

<span data-ttu-id="0398d-157">Etkinleştirmek veya belirli bir uç noktası devre dışı bırakabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0398d-157">You can enable or disable a specific endpoint.</span></span> <span data-ttu-id="0398d-158">Hala sağlıklı olabilir, temel alınan hizmet etkilenmez.</span><span class="sxs-lookup"><span data-stu-id="0398d-158">The underlying service, which might still be healthy, is unaffected.</span></span> <span data-ttu-id="0398d-159">Uç nokta durumu değiştirme trafik Yöneticisi Profil uç kullanılabilirliğini denetler.</span><span class="sxs-lookup"><span data-stu-id="0398d-159">Changing the endpoint status controls the availability of the endpoint in the Traffic Manager profile.</span></span> <span data-ttu-id="0398d-160">Bir uç nokta durumu devre dışı bırakıldığında, trafik Yöneticisi, sistem durumunu denetlemez ve uç nokta bir DNS yanıtına dahil edilmez.</span><span class="sxs-lookup"><span data-stu-id="0398d-160">When an endpoint status is disabled, Traffic Manager does not check its health and the endpoint is not included in a DNS response.</span></span>

### <a name="profile-status"></a><span data-ttu-id="0398d-161">Profil durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-161">Profile status</span></span>

<span data-ttu-id="0398d-162">Profil durumu ayarı kullanarak, etkinleştirebilir veya belirli bir profili devre dışı bırakın.</span><span class="sxs-lookup"><span data-stu-id="0398d-162">Using the profile status setting, you can enable or disable a specific profile.</span></span> <span data-ttu-id="0398d-163">Uç nokta durumu tek bir uç nokta etkiler, profil durumu tüm uç noktalar dahil tüm profil etkiler.</span><span class="sxs-lookup"><span data-stu-id="0398d-163">While endpoint status affects a single endpoint, profile status affects the entire profile, including all endpoints.</span></span> <span data-ttu-id="0398d-164">Bir profili devre dışı bıraktığınızda, uç noktaları için sistem durumu denetlenmez ve uç nokta bir DNS yanıtına dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-164">When you disable a profile, the endpoints are not checked for health and no endpoints are included in a DNS response.</span></span> <span data-ttu-id="0398d-165">Bir [NXDOMAIN](https://tools.ietf.org/html/rfc2308) yanıt kodu için DNS sorgusu döndürülür.</span><span class="sxs-lookup"><span data-stu-id="0398d-165">An [NXDOMAIN](https://tools.ietf.org/html/rfc2308) response code is returned for the DNS query.</span></span>

### <a name="endpoint-monitor-status"></a><span data-ttu-id="0398d-166">Uç nokta izleme durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-166">Endpoint monitor status</span></span>

<span data-ttu-id="0398d-167">Uç nokta izleme durumu uç noktasının durumu gösteren bir trafik Yöneticisi tarafından oluşturulan bir değerdir.</span><span class="sxs-lookup"><span data-stu-id="0398d-167">Endpoint monitor status is a Traffic Manager-generated value that shows the status of the endpoint.</span></span> <span data-ttu-id="0398d-168">Bu ayarı el ile değiştirilemiyor.</span><span class="sxs-lookup"><span data-stu-id="0398d-168">You cannot change this setting manually.</span></span> <span data-ttu-id="0398d-169">Uç nokta izleme durumu, uç nokta izleme sonuçlarını ve yapılandırılmış uç noktası durumu birleşimidir.</span><span class="sxs-lookup"><span data-stu-id="0398d-169">The endpoint monitor status is a combination of the results of endpoint monitoring and the configured endpoint status.</span></span> <span data-ttu-id="0398d-170">Uç nokta izleme durumu olası değerler aşağıdaki tabloda gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="0398d-170">The possible values of endpoint monitor status are shown in the following table:</span></span>

| <span data-ttu-id="0398d-171">Profil durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-171">Profile status</span></span> | <span data-ttu-id="0398d-172">Uç nokta durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-172">Endpoint status</span></span> | <span data-ttu-id="0398d-173">Uç nokta izleme durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-173">Endpoint monitor status</span></span> | <span data-ttu-id="0398d-174">Notlar</span><span class="sxs-lookup"><span data-stu-id="0398d-174">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="0398d-175">Devre dışı</span><span class="sxs-lookup"><span data-stu-id="0398d-175">Disabled</span></span> |<span data-ttu-id="0398d-176">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-176">Enabled</span></span> |<span data-ttu-id="0398d-177">Etkin olmayan</span><span class="sxs-lookup"><span data-stu-id="0398d-177">Inactive</span></span> |<span data-ttu-id="0398d-178">Profili devre dışı bırakıldı.</span><span class="sxs-lookup"><span data-stu-id="0398d-178">The profile has been disabled.</span></span> <span data-ttu-id="0398d-179">Uç nokta durumu etkindir ancak profil durumu (devre dışı) önceliklidir.</span><span class="sxs-lookup"><span data-stu-id="0398d-179">Although the endpoint status is Enabled, the profile status (Disabled) takes precedence.</span></span> <span data-ttu-id="0398d-180">Devre dışı profilleri uç noktalarını izlenmeyen.</span><span class="sxs-lookup"><span data-stu-id="0398d-180">Endpoints in disabled profiles are not monitored.</span></span> <span data-ttu-id="0398d-181">Bir NXDOMAIN yanıt kodu için DNS sorgusu döndürülür.</span><span class="sxs-lookup"><span data-stu-id="0398d-181">An NXDOMAIN response code is returned for the DNS query.</span></span> |
| <span data-ttu-id="0398d-182">&lt;tüm&gt;</span><span class="sxs-lookup"><span data-stu-id="0398d-182">&lt;any&gt;</span></span> |<span data-ttu-id="0398d-183">Devre dışı</span><span class="sxs-lookup"><span data-stu-id="0398d-183">Disabled</span></span> |<span data-ttu-id="0398d-184">Devre dışı</span><span class="sxs-lookup"><span data-stu-id="0398d-184">Disabled</span></span> |<span data-ttu-id="0398d-185">Uç noktası devre dışı bırakıldı.</span><span class="sxs-lookup"><span data-stu-id="0398d-185">The endpoint has been disabled.</span></span> <span data-ttu-id="0398d-186">Devre dışı uç noktaları izlenmeyen.</span><span class="sxs-lookup"><span data-stu-id="0398d-186">Disabled endpoints are not monitored.</span></span> <span data-ttu-id="0398d-187">Uç nokta DNS yanıtları bulunmaz, bu nedenle, trafiği almaz.</span><span class="sxs-lookup"><span data-stu-id="0398d-187">The endpoint is not included in DNS responses, therefore, it does not receive traffic.</span></span> |
| <span data-ttu-id="0398d-188">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-188">Enabled</span></span> |<span data-ttu-id="0398d-189">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-189">Enabled</span></span> |<span data-ttu-id="0398d-190">Çevrimiçi</span><span class="sxs-lookup"><span data-stu-id="0398d-190">Online</span></span> |<span data-ttu-id="0398d-191">Uç nokta izlenir ve sağlıklı durumda.</span><span class="sxs-lookup"><span data-stu-id="0398d-191">The endpoint is monitored and is healthy.</span></span> <span data-ttu-id="0398d-192">DNS yanıtları bulunur ve trafik alabilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-192">It is included in DNS responses and can receive traffic.</span></span> |
| <span data-ttu-id="0398d-193">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-193">Enabled</span></span> |<span data-ttu-id="0398d-194">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-194">Enabled</span></span> |<span data-ttu-id="0398d-195">Düşürülmüş</span><span class="sxs-lookup"><span data-stu-id="0398d-195">Degraded</span></span> |<span data-ttu-id="0398d-196">Uç nokta izleme sistem durumu denetimi başarısız oluyor.</span><span class="sxs-lookup"><span data-stu-id="0398d-196">Endpoint monitoring health checks are failing.</span></span> <span data-ttu-id="0398d-197">Uç nokta DNS yanıtları bulunmaz ve trafik almaz.</span><span class="sxs-lookup"><span data-stu-id="0398d-197">The endpoint is not included in DNS responses and does not receive traffic.</span></span> <br><span data-ttu-id="0398d-198">Bu istisna tüm uç noktaları bozulduğunu varsa, bu durumda bunların tümünün sorgu yanıtta döndürülen kabul edilir olduğunu).</span><span class="sxs-lookup"><span data-stu-id="0398d-198">An exception to this is if all endpoints are degraded, in which case all of them are considered to be returned in the query response).</span></span></br>|
| <span data-ttu-id="0398d-199">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-199">Enabled</span></span> |<span data-ttu-id="0398d-200">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-200">Enabled</span></span> |<span data-ttu-id="0398d-201">CheckingEndpoint</span><span class="sxs-lookup"><span data-stu-id="0398d-201">CheckingEndpoint</span></span> |<span data-ttu-id="0398d-202">Uç nokta izlenen, ancak ilk araştırmasını sonuçlarını henüz alınamadı.</span><span class="sxs-lookup"><span data-stu-id="0398d-202">The endpoint is monitored, but the results of the first probe have not been received yet.</span></span> <span data-ttu-id="0398d-203">CheckingEndpoint genellikle ekleyerek veya bir uç nokta profilinde etkinleştirme hemen sonra oluşan geçici bir durumdur.</span><span class="sxs-lookup"><span data-stu-id="0398d-203">CheckingEndpoint is a temporary state that usually occurs immediately after adding or enabling an endpoint in the profile.</span></span> <span data-ttu-id="0398d-204">Bu durumdaki bir uç nokta DNS yanıtları bulunur ve trafik alabilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-204">An endpoint in this state is included in DNS responses and can receive traffic.</span></span> |
| <span data-ttu-id="0398d-205">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-205">Enabled</span></span> |<span data-ttu-id="0398d-206">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-206">Enabled</span></span> |<span data-ttu-id="0398d-207">Durduruldu</span><span class="sxs-lookup"><span data-stu-id="0398d-207">Stopped</span></span> |<span data-ttu-id="0398d-208">Uç noktalarını için bulut hizmeti veya web uygulamasının çalışmıyor.</span><span class="sxs-lookup"><span data-stu-id="0398d-208">The cloud service or web app that the endpoint points to is not running.</span></span> <span data-ttu-id="0398d-209">Bulut hizmeti veya web uygulaması ayarlarını kontrol edin.</span><span class="sxs-lookup"><span data-stu-id="0398d-209">Check the cloud service or web app settings.</span></span> <span data-ttu-id="0398d-210">Bu, iç içe geçmiş tür uç noktasını uç nokta ise ve alt profili devre dışı bırakılmış veya etkin değil de oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-210">This can also happen if the endpoint is of type nested endpoint and the child profile is disabled or is inactive.</span></span> <br><span data-ttu-id="0398d-211">Bir uç nokta durduruldu durumu olan izlenmiyor.</span><span class="sxs-lookup"><span data-stu-id="0398d-211">An endpoint with a Stopped status is not monitored.</span></span> <span data-ttu-id="0398d-212">DNS yanıtları bulunmaz ve trafik almaz.</span><span class="sxs-lookup"><span data-stu-id="0398d-212">It is not included in DNS responses and does not receive traffic.</span></span> <span data-ttu-id="0398d-213">Bu istisna tüm uç noktaları bozulduğunu varsa, bu durumda bunların tümünün sorgu yanıtında döndürülecek olarak kabul edilir ' dir.</span><span class="sxs-lookup"><span data-stu-id="0398d-213">An exception to this is if all endpoints are degraded, in which case all of them will be considered to be returned in the query response.</span></span></br>|

<span data-ttu-id="0398d-214">Uç nokta izleme durumu iç içe geçmiş uç noktaları için nasıl hesaplandığını hakkında daha fazla bilgi için bkz [iç içe trafik Yöneticisi profillerine](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="0398d-214">For details about how endpoint monitor status is calculated for nested endpoints, see [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>

### <a name="profile-monitor-status"></a><span data-ttu-id="0398d-215">Profil İzleyici durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-215">Profile monitor status</span></span>

<span data-ttu-id="0398d-216">Profil İzleyici durumu, yapılandırılmış profil durumu ve tüm uç noktalar için uç nokta İzleyici durum değerleri birleşimidir.</span><span class="sxs-lookup"><span data-stu-id="0398d-216">The profile monitor status is a combination of the configured profile status and the endpoint monitor status values for all endpoints.</span></span> <span data-ttu-id="0398d-217">Olası değerler aşağıdaki tabloda açıklanmıştır:</span><span class="sxs-lookup"><span data-stu-id="0398d-217">The possible values are described in the following table:</span></span>

| <span data-ttu-id="0398d-218">(Yapılandırıldığı gibi) profil durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-218">Profile status (as configured)</span></span> | <span data-ttu-id="0398d-219">Uç nokta izleme durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-219">Endpoint monitor status</span></span> | <span data-ttu-id="0398d-220">Profil İzleyici durumu</span><span class="sxs-lookup"><span data-stu-id="0398d-220">Profile monitor status</span></span> | <span data-ttu-id="0398d-221">Notlar</span><span class="sxs-lookup"><span data-stu-id="0398d-221">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="0398d-222">Devre dışı</span><span class="sxs-lookup"><span data-stu-id="0398d-222">Disabled</span></span> |<span data-ttu-id="0398d-223">&lt;tüm&gt; veya bir profille tanımlanmış uç nokta yok.</span><span class="sxs-lookup"><span data-stu-id="0398d-223">&lt;any&gt; or a profile with no defined endpoints.</span></span> |<span data-ttu-id="0398d-224">Devre dışı</span><span class="sxs-lookup"><span data-stu-id="0398d-224">Disabled</span></span> |<span data-ttu-id="0398d-225">Profili devre dışı bırakıldı.</span><span class="sxs-lookup"><span data-stu-id="0398d-225">The profile has been disabled.</span></span> |
| <span data-ttu-id="0398d-226">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-226">Enabled</span></span> |<span data-ttu-id="0398d-227">En az bir uç nokta düşürülür.</span><span class="sxs-lookup"><span data-stu-id="0398d-227">The status of at least one endpoint is Degraded.</span></span> |<span data-ttu-id="0398d-228">Düşürülmüş</span><span class="sxs-lookup"><span data-stu-id="0398d-228">Degraded</span></span> |<span data-ttu-id="0398d-229">Hangi uç noktaları daha fazla ilgilenilmesi belirlemek için tek bitiş noktası durum değerleri gözden geçirin.</span><span class="sxs-lookup"><span data-stu-id="0398d-229">Review the individual endpoint status values to determine which endpoints require further attention.</span></span> |
| <span data-ttu-id="0398d-230">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-230">Enabled</span></span> |<span data-ttu-id="0398d-231">En az bir uç nokta durumu çevrimiçi olur.</span><span class="sxs-lookup"><span data-stu-id="0398d-231">The status of at least one endpoint is Online.</span></span> <span data-ttu-id="0398d-232">Uç nokta yok Degraded durumuna sahip.</span><span class="sxs-lookup"><span data-stu-id="0398d-232">No endpoints have a Degraded status.</span></span> |<span data-ttu-id="0398d-233">Çevrimiçi</span><span class="sxs-lookup"><span data-stu-id="0398d-233">Online</span></span> |<span data-ttu-id="0398d-234">Hizmet trafiği kabul ediyor.</span><span class="sxs-lookup"><span data-stu-id="0398d-234">The service is accepting traffic.</span></span> <span data-ttu-id="0398d-235">Başka bir eylem gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="0398d-235">No further action is required.</span></span> |
| <span data-ttu-id="0398d-236">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-236">Enabled</span></span> |<span data-ttu-id="0398d-237">En az bir uç nokta CheckingEndpoint durumudur.</span><span class="sxs-lookup"><span data-stu-id="0398d-237">The status of at least one endpoint is CheckingEndpoint.</span></span> <span data-ttu-id="0398d-238">Çevrimiçi veya Degraded durumunu hiçbir noktalarıdır.</span><span class="sxs-lookup"><span data-stu-id="0398d-238">No endpoints are in Online or Degraded status.</span></span> |<span data-ttu-id="0398d-239">CheckingEndpoints</span><span class="sxs-lookup"><span data-stu-id="0398d-239">CheckingEndpoints</span></span> |<span data-ttu-id="0398d-240">Bu geçiş durumu oluşturduysanız veya etkin bir profili oluşur.</span><span class="sxs-lookup"><span data-stu-id="0398d-240">This transition state occurs when a profile if created or enabled.</span></span> <span data-ttu-id="0398d-241">Uç nokta durumu ilk kez olup olmadığı denetleniyor.</span><span class="sxs-lookup"><span data-stu-id="0398d-241">The endpoint health is being checked for the first time.</span></span> |
| <span data-ttu-id="0398d-242">Etkin</span><span class="sxs-lookup"><span data-stu-id="0398d-242">Enabled</span></span> |<span data-ttu-id="0398d-243">Profildeki tüm uç noktaları durumları devre dışı veya durdurulmuş olan veya hiç tanımlanmış uç nokta profiline sahip.</span><span class="sxs-lookup"><span data-stu-id="0398d-243">The statuses of all endpoints in the profile are either Disabled or Stopped, or the profile has no defined endpoints.</span></span> |<span data-ttu-id="0398d-244">Etkin olmayan</span><span class="sxs-lookup"><span data-stu-id="0398d-244">Inactive</span></span> |<span data-ttu-id="0398d-245">Uç nokta yok etkindir, ancak profil hala etkin.</span><span class="sxs-lookup"><span data-stu-id="0398d-245">No endpoints are active, but the profile is still Enabled.</span></span> |

## <a name="endpoint-failover-and-recovery"></a><span data-ttu-id="0398d-246">Uç nokta yük devretme ve kurtarma</span><span class="sxs-lookup"><span data-stu-id="0398d-246">Endpoint failover and recovery</span></span>

<span data-ttu-id="0398d-247">Trafik Yöneticisi düzenli aralıklarla sağlıksız uç noktalar dahil tüm uç durumunu denetler.</span><span class="sxs-lookup"><span data-stu-id="0398d-247">Traffic Manager periodically checks the health of every endpoint, including unhealthy endpoints.</span></span> <span data-ttu-id="0398d-248">Trafik Yöneticisi bir uç nokta iyi olur ve geri dönüş getirir algılar.</span><span class="sxs-lookup"><span data-stu-id="0398d-248">Traffic Manager detects when an endpoint becomes healthy and brings it back into rotation.</span></span>

<span data-ttu-id="0398d-249">Aşağıdaki olaylardan biri gerçekleştiğinde bir uç nokta sağlam değil:</span><span class="sxs-lookup"><span data-stu-id="0398d-249">An endpoint is unhealthy when any of the following events occur:</span></span>
- <span data-ttu-id="0398d-250">İzleme Protokolü, HTTP veya HTTPS ise:</span><span class="sxs-lookup"><span data-stu-id="0398d-250">If the monitoring protocol is HTTP or HTTPS:</span></span>
    - <span data-ttu-id="0398d-251">(Farklı 2xx kodu veya bir 301/302 yeniden yönlendirme dahil) 200 olmayan yanıt aldı.</span><span class="sxs-lookup"><span data-stu-id="0398d-251">A non-200 response is received (including a different 2xx code, or a 301/302 redirect).</span></span>
- <span data-ttu-id="0398d-252">İzleme protokol TCP olduğunda:</span><span class="sxs-lookup"><span data-stu-id="0398d-252">If the monitoring protocol is TCP:</span></span> 
    - <span data-ttu-id="0398d-253">Bağlantı kurma girişiminde trafik Yöneticisi tarafından gönderilen eşitleme isteğine yanıt olarak ACK veya Eşitlemeye ACK dışındaki bir yanıt aldı.</span><span class="sxs-lookup"><span data-stu-id="0398d-253">A response other than ACK or SYN-ACK is received in response to the SYNC request sent by Traffic Manager to attempt a connection establishment.</span></span>
- <span data-ttu-id="0398d-254">Zaman aşımı.</span><span class="sxs-lookup"><span data-stu-id="0398d-254">Timeout.</span></span> 
- <span data-ttu-id="0398d-255">Erişilebilir olmaması uç kaynaklanan herhangi diğer bağlantı sorunu.</span><span class="sxs-lookup"><span data-stu-id="0398d-255">Any other connection issue resulting in the endpoint being not reachable.</span></span>

<span data-ttu-id="0398d-256">Sorun giderme başarısız denetimleri hakkında daha fazla bilgi için bkz: [sorun giderme düşürülmüş durumu Azure Traffic Manager üzerindeki](traffic-manager-troubleshooting-degraded.md).</span><span class="sxs-lookup"><span data-stu-id="0398d-256">For more information about troubleshooting failed checks, see [Troubleshooting Degraded status on Azure Traffic Manager](traffic-manager-troubleshooting-degraded.md).</span></span> 

<span data-ttu-id="0398d-257">Şekil 2'deki aşağıdaki zaman çizelgesi aşağıdaki ayarlara sahip trafik Yöneticisi uç noktası izleme işlemini ayrıntılı bir açıklaması olup: olan HTTP protokolü izleme, yoklama aralığı 30 saniye, toleranslı sayısı olan 3, zaman aşımı değeri 10 saniye, DNS TTL ise 30 saniyedir.</span><span class="sxs-lookup"><span data-stu-id="0398d-257">The following timeline in Figure 2 is a detailed description of the monitoring process of Traffic Manager endpoint that has the following settings: monitoring protocol is HTTP, probing interval is 30 seconds, number of tolerated failures is 3, timeout value is 10 seconds, and DNS TTL is 30 seconds.</span></span>

![Trafik Yöneticisi uç nokta yük devretme ve yeniden çalışma dizisi](./media/traffic-manager-monitoring/timeline.png)

<span data-ttu-id="0398d-259">**Şekil 2: Yük devretme ve kurtarma trafik Yöneticisi uç noktası sırası**</span><span class="sxs-lookup"><span data-stu-id="0398d-259">**Figure 2:  Traffic manager endpoint failover and recovery sequence**</span></span>

1. <span data-ttu-id="0398d-260">**ALMA**.</span><span class="sxs-lookup"><span data-stu-id="0398d-260">**GET**.</span></span> <span data-ttu-id="0398d-261">Her uç noktası için sistem izleme trafik Yöneticisi İzleme ayarlarında belirtilen yol bir GET isteği gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="0398d-261">For each endpoint, the Traffic Manager monitoring system performs a GET request on the path specified in the monitoring settings.</span></span>
2. <span data-ttu-id="0398d-262">**200 TAMAM**.</span><span class="sxs-lookup"><span data-stu-id="0398d-262">**200 OK**.</span></span> <span data-ttu-id="0398d-263">İzleme sistemi, 10 saniye içinde döndürülecek HTTP 200 Tamam iletisine bekliyor.</span><span class="sxs-lookup"><span data-stu-id="0398d-263">The monitoring system expects an HTTP 200 OK message to be returned within 10 seconds.</span></span> <span data-ttu-id="0398d-264">Bu yanıt aldığında, hizmet kullanılabilir olduğunu algılar.</span><span class="sxs-lookup"><span data-stu-id="0398d-264">When it receives this response, it recognizes that the service is available.</span></span>
3. <span data-ttu-id="0398d-265">**Denetimler arasındaki 30 saniye**.</span><span class="sxs-lookup"><span data-stu-id="0398d-265">**30 seconds between checks**.</span></span> <span data-ttu-id="0398d-266">Uç noktası sistem durumu denetimi, her 30 saniyede yinelenir.</span><span class="sxs-lookup"><span data-stu-id="0398d-266">The endpoint health check is repeated every 30 seconds.</span></span>
4. <span data-ttu-id="0398d-267">**Hizmet kullanılamıyor**.</span><span class="sxs-lookup"><span data-stu-id="0398d-267">**Service unavailable**.</span></span> <span data-ttu-id="0398d-268">Hizmet kullanılamaz duruma gelir.</span><span class="sxs-lookup"><span data-stu-id="0398d-268">The service becomes unavailable.</span></span> <span data-ttu-id="0398d-269">Trafik Yöneticisi kadar sonraki sistem durumu denetimi bilmez.</span><span class="sxs-lookup"><span data-stu-id="0398d-269">Traffic Manager will not know until the next health check.</span></span>
5. <span data-ttu-id="0398d-270">**İzleme yolu erişmeyi denediği**.</span><span class="sxs-lookup"><span data-stu-id="0398d-270">**Attempts to access the monitoring path**.</span></span> <span data-ttu-id="0398d-271">İzleme sistemi, bir GET isteği yapar, ancak 10 saniye zaman aşımı süresi içinde bir yanıt almaz (Alternatif olarak, 200 yanıt alınması).</span><span class="sxs-lookup"><span data-stu-id="0398d-271">The monitoring system performs a GET request, but does not receive a response within the timeout period of 10 seconds (alternatively, a non-200 response may be received).</span></span> <span data-ttu-id="0398d-272">30 saniyelik aralıklarda üç kez daha, daha sonra çalışır.</span><span class="sxs-lookup"><span data-stu-id="0398d-272">It then tries three more times, at 30-second intervals.</span></span> <span data-ttu-id="0398d-273">Bir deneme başarılı olursa, deneme sayısı sıfırlanır.</span><span class="sxs-lookup"><span data-stu-id="0398d-273">If one of the tries is successful, then the number of tries is reset.</span></span>
6. <span data-ttu-id="0398d-274">**Durumunu ayarlamak için Degraded**.</span><span class="sxs-lookup"><span data-stu-id="0398d-274">**Status set to Degraded**.</span></span> <span data-ttu-id="0398d-275">Dördüncü ardışık hatasından sonra izleme sistemi kullanılamaz uç nokta durumu Degraded işaretler.</span><span class="sxs-lookup"><span data-stu-id="0398d-275">After a fourth consecutive failure, the monitoring system marks the unavailable endpoint status as Degraded.</span></span>
7. <span data-ttu-id="0398d-276">**Trafik diğer Uç noktalara yönlendirilmesiyle**.</span><span class="sxs-lookup"><span data-stu-id="0398d-276">**Traffic is diverted to other endpoints**.</span></span> <span data-ttu-id="0398d-277">Trafik Yöneticisi DNS ad sunucularını güncelleştirilir ve trafik Yöneticisi uç noktası artık DNS sorgularına yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="0398d-277">The Traffic Manager DNS name servers are updated and Traffic Manager no longer returns the endpoint in response to DNS queries.</span></span> <span data-ttu-id="0398d-278">Yeni bağlantıları için kullanılabilir diğer uç noktaları yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-278">New connections are directed to other, available endpoints.</span></span> <span data-ttu-id="0398d-279">Ancak, bu bitiş noktası içeren önceki DNS yanıtları hala yinelemeli DNS sunucuları ve DNS istemcileri tarafından önbelleğe alınmış olabilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-279">However, previous DNS responses that include this endpoint may still be cached by recursive DNS servers and DNS clients.</span></span> <span data-ttu-id="0398d-280">İstemcileri DNS Önbellek süresi doluncaya kadar uç nokta kullanmaya devam edin.</span><span class="sxs-lookup"><span data-stu-id="0398d-280">Clients continue to use the endpoint until the DNS cache expires.</span></span> <span data-ttu-id="0398d-281">DNS Önbellek süresi gibi istemciler yeni DNS sorgularını olun ve farklı uç noktalar için yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-281">As the DNS cache expires, clients make new DNS queries and are directed to different endpoints.</span></span> <span data-ttu-id="0398d-282">Önbellek süresi trafik Yöneticisi profili, örneğin, 30 saniye TTL ayarında tarafından denetlenir.</span><span class="sxs-lookup"><span data-stu-id="0398d-282">The cache duration is controlled by the TTL setting in the Traffic Manager profile, for example, 30 seconds.</span></span>
8. <span data-ttu-id="0398d-283">**Sistem durumu denetler devam**.</span><span class="sxs-lookup"><span data-stu-id="0398d-283">**Health checks continue**.</span></span> <span data-ttu-id="0398d-284">Trafik Yöneticisi uç noktası durumunu Degraded durum sahipken denetlemeye devam eder.</span><span class="sxs-lookup"><span data-stu-id="0398d-284">Traffic Manager continues to check the health of the endpoint while it has a Degraded status.</span></span> <span data-ttu-id="0398d-285">Trafik Yöneticisi uç noktası için sistem durumu geri döndüğünde algılar.</span><span class="sxs-lookup"><span data-stu-id="0398d-285">Traffic Manager detects when the endpoint returns to health.</span></span>
9. <span data-ttu-id="0398d-286">**Hizmet gelen tekrar çevrimiçi**.</span><span class="sxs-lookup"><span data-stu-id="0398d-286">**Service comes back online**.</span></span> <span data-ttu-id="0398d-287">Hizmet kullanılabilir hale gelir.</span><span class="sxs-lookup"><span data-stu-id="0398d-287">The service becomes available.</span></span> <span data-ttu-id="0398d-288">Uç nokta izleme sistemi, sonraki sistem durumu denetimi gerçekleştirir kadar Degraded durumunu trafik Yöneticisi'nde korur.</span><span class="sxs-lookup"><span data-stu-id="0398d-288">The endpoint retains its Degraded status in Traffic Manager until the monitoring system performs its next health check.</span></span>
10. <span data-ttu-id="0398d-289">**Hizmet sürdürür trafiği**.</span><span class="sxs-lookup"><span data-stu-id="0398d-289">**Traffic to service resumes**.</span></span> <span data-ttu-id="0398d-290">Trafik Yöneticisi bir GET isteği gönderir ve 200 Tamam durumu yanıtı alır.</span><span class="sxs-lookup"><span data-stu-id="0398d-290">Traffic Manager sends a GET request and receives a 200 OK status response.</span></span> <span data-ttu-id="0398d-291">Hizmet bir sağlık durumuna geri döndü.</span><span class="sxs-lookup"><span data-stu-id="0398d-291">The service has returned to a healthy state.</span></span> <span data-ttu-id="0398d-292">Trafik Yöneticisi ad sunucuları güncelleştirilir ve hizmetin DNS adı DNS yanıtları çıkışı el başlar.</span><span class="sxs-lookup"><span data-stu-id="0398d-292">The Traffic Manager name servers are updated, and they begin to hand out the service's DNS name in DNS responses.</span></span> <span data-ttu-id="0398d-293">Trafik uç noktasına diğer uç noktaları süresinin dolmasını ve varolan bağlantılar diğer uç noktalar olarak sonlandırıldı bu iade önbelleğe alınmış DNS yanıtlarını olarak döndürür.</span><span class="sxs-lookup"><span data-stu-id="0398d-293">Traffic returns to the endpoint as cached DNS responses that return other endpoints expire, and as existing connections to other endpoints are terminated.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0398d-294">Trafik Yöneticisi DNS düzeyinde çalıştığı için herhangi bir uç nokta var olan bağlantılara etkilemek olamaz.</span><span class="sxs-lookup"><span data-stu-id="0398d-294">Because Traffic Manager works at the DNS level, it cannot influence existing connections to any endpoint.</span></span> <span data-ttu-id="0398d-295">Trafik Yöneticisi uç noktaları (veya değiştirilen profili ayarları, yük devretme veya yeniden çalışma sırasında) arasındaki trafiği yönlendirir, kullanılabilir uç noktaları için yeni bağlantı yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="0398d-295">When it directs traffic between endpoints (either by changed profile settings, or during failover or failback), Traffic Manager directs new connections to available endpoints.</span></span> <span data-ttu-id="0398d-296">Ancak, diğer uç noktaları Bu oturumlar durduruluncaya kadar mevcut bağlantıları üzerinden trafiği almaya devam edebilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-296">However, other endpoints might continue to receive traffic via existing connections until those sessions are terminated.</span></span> <span data-ttu-id="0398d-297">Varolan bağlantılarından boşaltmak trafiği etkinleştirmek için uygulamaları her bitiş noktası ile kullanılan bir oturum süresi sınırlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="0398d-297">To enable traffic to drain from existing connections, applications should limit the session duration used with each endpoint.</span></span>

## <a name="traffic-routing-methods"></a><span data-ttu-id="0398d-298">Trafik yönlendirme yöntemleri</span><span class="sxs-lookup"><span data-stu-id="0398d-298">Traffic-routing methods</span></span>

<span data-ttu-id="0398d-299">Bir uç nokta Degraded durumunda olduğunda DNS sorgularına yanıt artık döndürülür.</span><span class="sxs-lookup"><span data-stu-id="0398d-299">When an endpoint has a Degraded status, it is no longer returned in response to DNS queries.</span></span> <span data-ttu-id="0398d-300">Bunun yerine, alternatif bir uç nokta seçilen döndürülen ve.</span><span class="sxs-lookup"><span data-stu-id="0398d-300">Instead, an alternative endpoint is chosen and returned.</span></span> <span data-ttu-id="0398d-301">Alternatif uç nokta nasıl seçilir profilinde yapılandırılan trafik yönlendirme yöntemini belirler.</span><span class="sxs-lookup"><span data-stu-id="0398d-301">The traffic-routing method configured in the profile determines how the alternative endpoint is chosen.</span></span>

* <span data-ttu-id="0398d-302">**Öncelik**.</span><span class="sxs-lookup"><span data-stu-id="0398d-302">**Priority**.</span></span> <span data-ttu-id="0398d-303">Uç noktaları öncelikli listesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0398d-303">Endpoints form a prioritized list.</span></span> <span data-ttu-id="0398d-304">Listedeki ilk kullanılabilir uç nokta her zaman döndürülür.</span><span class="sxs-lookup"><span data-stu-id="0398d-304">The first available endpoint on the list is always returned.</span></span> <span data-ttu-id="0398d-305">Bir uç nokta durumu düzeyi, bir sonraki kullanılabilir uç nokta döndürülür.</span><span class="sxs-lookup"><span data-stu-id="0398d-305">If an endpoint status is Degraded, then the next available endpoint is returned.</span></span>
* <span data-ttu-id="0398d-306">**Ağırlıklı**.</span><span class="sxs-lookup"><span data-stu-id="0398d-306">**Weighted**.</span></span> <span data-ttu-id="0398d-307">Herhangi bir kullanılabilir uç nokta rastgele atanan ağırlıkları ve kullanılabilir bir uç ağırlıkları göre seçilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-307">Any available endpoint is chosen at random based on their assigned weights and the weights of the other available endpoints.</span></span>
* <span data-ttu-id="0398d-308">**Performans**.</span><span class="sxs-lookup"><span data-stu-id="0398d-308">**Performance**.</span></span> <span data-ttu-id="0398d-309">Bitiş noktası son kullanıcı için en yakın döndürülür.</span><span class="sxs-lookup"><span data-stu-id="0398d-309">The endpoint closest to the end user is returned.</span></span> <span data-ttu-id="0398d-310">Bu uç kullanılamıyorsa, bir uç nokta tüm diğer kullanılabilir uç noktalarından rastgele seçilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-310">If that endpoint is unavailable, an endpoint is randomly chosen from all the other available endpoints.</span></span> <span data-ttu-id="0398d-311">Rastgele bir uç noktasını sonraki en yakın endpoint aşırı yüklü olduğunda oluşabilecek basamaklı bir hata önler.</span><span class="sxs-lookup"><span data-stu-id="0398d-311">Choosing a random endpoint avoids a cascading failure that can occur when the next-closest endpoint becomes overloaded.</span></span> <span data-ttu-id="0398d-312">Kullanarak performans trafik yönlendirme için diğer yük devretme planlarını yapılandırabilirsiniz [iç içe trafik Yöneticisi profillerine](traffic-manager-nested-profiles.md#example-4-controlling-performance-traffic-routing-between-multiple-endpoints-in-the-same-region).</span><span class="sxs-lookup"><span data-stu-id="0398d-312">You can configure alternative failover plans for performance traffic-routing by using [nested Traffic Manager profiles](traffic-manager-nested-profiles.md#example-4-controlling-performance-traffic-routing-between-multiple-endpoints-in-the-same-region).</span></span>
* <span data-ttu-id="0398d-313">**Coğrafi**.</span><span class="sxs-lookup"><span data-stu-id="0398d-313">**Geographic**.</span></span> <span data-ttu-id="0398d-314">Sorgu isteği temel alarak coğrafi konum hizmet eşlenmiş uç noktası IP'ın döndürülür.</span><span class="sxs-lookup"><span data-stu-id="0398d-314">The endpoint mapped to serve the geographic location based on the query request IP’s is returned.</span></span> <span data-ttu-id="0398d-315">Bu uç kullanılamıyorsa, coğrafi konum yalnızca bir uç nokta profilde eşlenebilir olduğundan başka bir uç noktası, yük devretme için seçilmez (daha fazla ayrıntı bulunan [SSS](traffic-manager-FAQs.md#traffic-manager-geographic-traffic-routing-method)).</span><span class="sxs-lookup"><span data-stu-id="0398d-315">If that endpoint is unavailable, another endpoint will not be selected to failover to, since a geographic location can be mapped only to one endpoint in a profile (more details are in the [FAQ](traffic-manager-FAQs.md#traffic-manager-geographic-traffic-routing-method)).</span></span> <span data-ttu-id="0398d-316">Coğrafi yönlendirme kullanırken en iyi uygulama, iç içe trafik Yöneticisi profilleri ile birden fazla uç profil uç noktalar olarak kullanmak üzere müşteriler öneririz.</span><span class="sxs-lookup"><span data-stu-id="0398d-316">As a best practice, when using geographic routing, we recommend customers to use nested Traffic Manager profiles with more than one endpoint as the endpoints of the profile.</span></span>

<span data-ttu-id="0398d-317">Daha fazla bilgi için bkz: [Traffic Manager trafik yönlendirme yöntemleri](traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="0398d-317">For more information, see [Traffic Manager traffic-routing methods](traffic-manager-routing-methods.md).</span></span>

> [!NOTE]
> <span data-ttu-id="0398d-318">Tüm uygun uç noktaları düşürülmüş durumuna sahip normal trafik yönlendirme davranışını bir özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="0398d-318">One exception to normal traffic-routing behavior occurs when all eligible endpoints have a degraded status.</span></span> <span data-ttu-id="0398d-319">"En iyi çaba" denemesi trafik Yöneticisi yapar ve *tüm Degraded durum uç noktaları gerçekte bir çevrimiçi olarak durumdaysa yanıt*.</span><span class="sxs-lookup"><span data-stu-id="0398d-319">Traffic Manager makes a "best effort" attempt and *responds as if all the Degraded status endpoints actually are in an online state*.</span></span> <span data-ttu-id="0398d-320">Bu davranış herhangi bir uç nokta DNS yanıtında değil döndürülecek olabilecek alternatif için tercih edilir.</span><span class="sxs-lookup"><span data-stu-id="0398d-320">This behavior is preferable to the alternative, which would be to not return any endpoint in the DNS response.</span></span> <span data-ttu-id="0398d-321">Devre dışı veya durdurulmuş uç noktaları izlenmez, bu nedenle, bunlar trafiği için uygun olarak kabul edilmez.</span><span class="sxs-lookup"><span data-stu-id="0398d-321">Disabled or Stopped endpoints are not monitored, therefore, they are not considered eligible for traffic.</span></span>
>
> <span data-ttu-id="0398d-322">Bu durum genellikle göre hizmet hatalı yapılandırılması gibi nedeniyle oluşur:</span><span class="sxs-lookup"><span data-stu-id="0398d-322">This condition is commonly caused by improper configuration of the service, such as:</span></span>
>
> * <span data-ttu-id="0398d-323">Trafik Yöneticisi sistem engelleyen bir erişim denetim listesi [ACL] denetler.</span><span class="sxs-lookup"><span data-stu-id="0398d-323">An access control list [ACL] blocking the Traffic Manager health checks.</span></span>
> * <span data-ttu-id="0398d-324">İzleme bağlantı noktası veya trafik Yöneticisi profili protokolünde hatalı bir yapılandırma.</span><span class="sxs-lookup"><span data-stu-id="0398d-324">An improper configuration of the monitoring port or protocol in the Traffic manager profile.</span></span>
>
> <span data-ttu-id="0398d-325">Bu davranış sonucu Traffic Manager sistem durumu denetimlerinin doğru yapılandırılmamışsa, bu trafik Yöneticisi olarak ancak Yönlendirme trafiği görünür olan *olan* düzgün çalışmıyor.</span><span class="sxs-lookup"><span data-stu-id="0398d-325">The consequence of this behavior is that if Traffic Manager health checks are not configured correctly, it might appear from the traffic routing as though Traffic Manager *is* working properly.</span></span> <span data-ttu-id="0398d-326">Ancak, bu durumda, uç nokta yük devretme genel uygulama kullanılabilirliği etkiler meydana olamaz.</span><span class="sxs-lookup"><span data-stu-id="0398d-326">However, in this case, endpoint failover cannot happen which affects overall application availability.</span></span> <span data-ttu-id="0398d-327">Profil Degraded durumu çevrimiçi bir durumu gösterir denetlemek önemlidir.</span><span class="sxs-lookup"><span data-stu-id="0398d-327">It is important to check that the profile shows an Online status, not a Degraded status.</span></span> <span data-ttu-id="0398d-328">Çevrimiçi durumu Traffic Manager sistem durumu denetimlerinin beklendiği gibi çalıştığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="0398d-328">An Online status indicates that the Traffic Manager health checks are working as expected.</span></span>

<span data-ttu-id="0398d-329">Sorun giderme hakkında daha fazla bilgi için sistem durumu denetimi başarısız oldu bkz [sorun giderme düşürülmüş durumu Azure Traffic Manager üzerindeki](traffic-manager-troubleshooting-degraded.md).</span><span class="sxs-lookup"><span data-stu-id="0398d-329">For more information about troubleshooting failed health checks, see [Troubleshooting Degraded status on Azure Traffic Manager](traffic-manager-troubleshooting-degraded.md).</span></span>



## <a name="next-steps"></a><span data-ttu-id="0398d-330">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="0398d-330">Next steps</span></span>

<span data-ttu-id="0398d-331">Bilgi [trafik Yöneticisi nasıl çalışır?](traffic-manager-how-traffic-manager-works.md)</span><span class="sxs-lookup"><span data-stu-id="0398d-331">Learn [how Traffic Manager works](traffic-manager-how-traffic-manager-works.md)</span></span>

<span data-ttu-id="0398d-332">Daha fazla bilgi edinmek [trafik yönlendirme yöntemleri](traffic-manager-routing-methods.md) Traffic Manager tarafından desteklenen</span><span class="sxs-lookup"><span data-stu-id="0398d-332">Learn more about the [traffic-routing methods](traffic-manager-routing-methods.md) supported by Traffic Manager</span></span>

<span data-ttu-id="0398d-333">Bilgi edinmek için nasıl [bir Traffic Manager profili oluşturma](traffic-manager-manage-profiles.md)</span><span class="sxs-lookup"><span data-stu-id="0398d-333">Learn how to [create a Traffic Manager profile](traffic-manager-manage-profiles.md)</span></span>

<span data-ttu-id="0398d-334">[Degraded durumu sorun giderme](traffic-manager-troubleshooting-degraded.md) trafik Yöneticisi uç noktada</span><span class="sxs-lookup"><span data-stu-id="0398d-334">[Troubleshoot Degraded status](traffic-manager-troubleshooting-degraded.md) on a Traffic Manager endpoint</span></span>
