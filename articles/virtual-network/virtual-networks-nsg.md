---
title: "azure'da aaaNetwork güvenlik grupları | Microsoft Docs"
description: "Tooisolate ve denetim trafiğinin nasıl gerçekleştiğini ağ güvenlik gruplarını kullanarak Azure'da hello dağıtılmış Güvenlik Duvarı'nı kullanarak sanal ağlarınıza içinde öğrenin."
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: tysonn
ms.assetid: 20e850fc-6456-4b5f-9a3f-a8379b052bc9
ms.service: virtual-network
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/11/2016
ms.author: jdial
ms.openlocfilehash: 3528ce833dab17977327c3c9ae0e78316e5e6a05
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="filter-network-traffic-with-network-security-groups"></a><span data-ttu-id="6051b-103">Ağ güvenlik grupları ile ağ trafiğini filtreleme</span><span class="sxs-lookup"><span data-stu-id="6051b-103">Filter network traffic with network security groups</span></span>

<span data-ttu-id="6051b-104">Bir ağ güvenlik grubu (NSG) izin veren veya reddeden ağ trafiği tooresources tooAzure sanal ağ (VNet) bağlı güvenlik kurallarının bir listesini içerir.</span><span class="sxs-lookup"><span data-stu-id="6051b-104">A network security group (NSG) contains a list of security rules that allow or deny network traffic tooresources connected tooAzure Virtual Networks (VNet).</span></span> <span data-ttu-id="6051b-105">Nsg'ler ilişkili toosubnets, tek tek sanal makineleri (Klasik) olabilir veya tek tek ağ arabirimleri (NIC) tooVMs (Resource Manager) bağlı.</span><span class="sxs-lookup"><span data-stu-id="6051b-105">NSGs can be associated toosubnets, individual VMs (classic), or individual network interfaces (NIC) attached tooVMs (Resource Manager).</span></span> <span data-ttu-id="6051b-106">Bir NSG'yi ilişkili tooa alt olduğunda hello kuralları tooall kaynaklara bağlı toohello alt uygulayın.</span><span class="sxs-lookup"><span data-stu-id="6051b-106">When an NSG is associated tooa subnet, hello rules apply tooall resources connected toohello subnet.</span></span> <span data-ttu-id="6051b-107">Trafik daha da bir NSG tooa VM veya NIC ilişkilendirerek kısıtlanabilir</span><span class="sxs-lookup"><span data-stu-id="6051b-107">Traffic can further be restricted by also associating an NSG tooa VM or NIC.</span></span>

> [!NOTE]
> <span data-ttu-id="6051b-108">Azure’da kaynak oluşturmak ve bunlarla çalışmak için iki farklı dağıtım modeli vardır:  [Resource Manager ve klasik](../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="6051b-108">Azure has two different deployment models for creating and working with resources:  [Resource Manager and classic](../resource-manager-deployment-model.md).</span></span> <span data-ttu-id="6051b-109">Bu makalede, her iki modeli kullanarak yer almaktadır, ancak Microsoft, en yeni dağıtımların hello Resource Manager modelini kullanmasını önerir.</span><span class="sxs-lookup"><span data-stu-id="6051b-109">This article covers using both models, but Microsoft recommends that most new deployments use hello Resource Manager model.</span></span>

## <a name="nsg-resource"></a><span data-ttu-id="6051b-110">NSG kaynağı</span><span class="sxs-lookup"><span data-stu-id="6051b-110">NSG resource</span></span>
<span data-ttu-id="6051b-111">Nsg'ler aşağıdaki özelliklere hello içerir:</span><span class="sxs-lookup"><span data-stu-id="6051b-111">NSGs contain hello following properties:</span></span>

| <span data-ttu-id="6051b-112">Özellik</span><span class="sxs-lookup"><span data-stu-id="6051b-112">Property</span></span> | <span data-ttu-id="6051b-113">Açıklama</span><span class="sxs-lookup"><span data-stu-id="6051b-113">Description</span></span> | <span data-ttu-id="6051b-114">Kısıtlamalar</span><span class="sxs-lookup"><span data-stu-id="6051b-114">Constraints</span></span> | <span data-ttu-id="6051b-115">Dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="6051b-115">Considerations</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="6051b-116">Ad</span><span class="sxs-lookup"><span data-stu-id="6051b-116">Name</span></span> |<span data-ttu-id="6051b-117">Merhaba NSG için ad</span><span class="sxs-lookup"><span data-stu-id="6051b-117">Name for hello NSG</span></span> |<span data-ttu-id="6051b-118">Merhaba bölge içinde benzersiz olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6051b-118">Must be unique within hello region.</span></span><br/><span data-ttu-id="6051b-119">Harf, sayı, alt çizgi, nokta ve kısa çizgi içerebilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-119">Can contain letters, numbers, underscores, periods, and hyphens.</span></span><br/><span data-ttu-id="6051b-120">Bir harf veya sayı ile başlamalıdır.</span><span class="sxs-lookup"><span data-stu-id="6051b-120">Must start with a letter or number.</span></span><br/><span data-ttu-id="6051b-121">Bir harf, sayı veya alt çizgi ile bitmelidir.</span><span class="sxs-lookup"><span data-stu-id="6051b-121">Must end with a letter, number, or underscore.</span></span><br/><span data-ttu-id="6051b-122">80 karakterden uzun olamaz.</span><span class="sxs-lookup"><span data-stu-id="6051b-122">Cannot exceed 80 characters.</span></span> |<span data-ttu-id="6051b-123">Birden fazla Nsg toocreate gerekebileceği kolay tooidentify hello işlevi nsg'lerinizin kolaylaştıran bir adlandırma kuralınızın bulunduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="6051b-123">Since you may need toocreate several NSGs, make sure you have a naming convention that makes it easy tooidentify hello function of your NSGs.</span></span> |
| <span data-ttu-id="6051b-124">Bölge</span><span class="sxs-lookup"><span data-stu-id="6051b-124">Region</span></span> |<span data-ttu-id="6051b-125">Azure [bölge](https://azure.microsoft.com/regions) burada hello NSG oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="6051b-125">Azure [region](https://azure.microsoft.com/regions) where hello NSG is created.</span></span> |<span data-ttu-id="6051b-126">Nsg'ler yalnızca ilişkili tooresources hello içinde olması hello NSG aynı bölgede.</span><span class="sxs-lookup"><span data-stu-id="6051b-126">NSGs can only be associated tooresources within hello same region as hello NSG.</span></span> |<span data-ttu-id="6051b-127">kaç adet Nsg'ye hakkında toolearn bölge başına olabilir okuma hello [Azure sınırlar](../azure-subscription-service-limits.md#virtual-networking-limits-classic) makalesi.</span><span class="sxs-lookup"><span data-stu-id="6051b-127">toolearn about how many NSGs you can have per region, read hello [Azure limits](../azure-subscription-service-limits.md#virtual-networking-limits-classic) article.</span></span>|
| <span data-ttu-id="6051b-128">Kaynak grubu</span><span class="sxs-lookup"><span data-stu-id="6051b-128">Resource group</span></span> |<span data-ttu-id="6051b-129">Merhaba [kaynak grubu](../azure-resource-manager/resource-group-overview.md#resource-groups) hello NSG bulunmaktadır.</span><span class="sxs-lookup"><span data-stu-id="6051b-129">hello [resource group](../azure-resource-manager/resource-group-overview.md#resource-groups) hello NSG exists in.</span></span> |<span data-ttu-id="6051b-130">Bir NSG bir kaynak grubunda var ancak hello kaynak hello parçası olduğu sürece, herhangi bir kaynak grubunda ilişkili tooresources olabilir hello NSG olduğu Azure bölgesinin.</span><span class="sxs-lookup"><span data-stu-id="6051b-130">Although an NSG exists in a resource group, it can be associated tooresources in any resource group, as long as hello resource is part of hello same Azure region as hello NSG.</span></span> |<span data-ttu-id="6051b-131">Kaynak grupları birden çok kaynak birlikte bir dağıtım birimi olarak kullanılan toomanage yok.</span><span class="sxs-lookup"><span data-stu-id="6051b-131">Resource groups are used toomanage multiple resources together, as a deployment unit.</span></span><br/><span data-ttu-id="6051b-132">Merhaba NSG'yi ilişkili olduğu kaynaklarla gruplandırmayı değerlendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6051b-132">You may consider grouping hello NSG with resources it is associated to.</span></span> |
| <span data-ttu-id="6051b-133">Kurallar</span><span class="sxs-lookup"><span data-stu-id="6051b-133">Rules</span></span> |<span data-ttu-id="6051b-134">Hangi trafiklere izin verildiğini veya reddedildiğini tanımlayan gelen veya giden kuralları.</span><span class="sxs-lookup"><span data-stu-id="6051b-134">Inbound or outbound rules that define what traffic is allowed or denied.</span></span> | |<span data-ttu-id="6051b-135">Merhaba bkz [NSG kuralları](#Nsg-rules) bu makalenin.</span><span class="sxs-lookup"><span data-stu-id="6051b-135">See hello [NSG rules](#Nsg-rules) section of this article.</span></span> |

> [!NOTE]
> <span data-ttu-id="6051b-136">Uç nokta tabanlı ACL'ler ve ağ güvenlik grupları desteklenmez aynı VM örneğinde hello.</span><span class="sxs-lookup"><span data-stu-id="6051b-136">Endpoint-based ACLs and network security groups are not supported on hello same VM instance.</span></span> <span data-ttu-id="6051b-137">Toouse bir NSG'yi istediğiniz ve bir uç nokta ACL'si zaten kullanıyor, ilk hello uç nokta ACL'sini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="6051b-137">If you want toouse an NSG and have an endpoint ACL already in place, first remove hello endpoint ACL.</span></span> <span data-ttu-id="6051b-138">nasıl tooremove bir ACL okuma toolearn hello [yönetme erişim denetim listeleri (ACL'ler) PowerShell kullanarak uç noktalar için](virtual-networks-acl-powershell.md) makalesi.</span><span class="sxs-lookup"><span data-stu-id="6051b-138">toolearn how tooremove an ACL, read hello [Managing Access Control Lists (ACLs) for Endpoints by using PowerShell](virtual-networks-acl-powershell.md) article.</span></span>
> 

### <a name="nsg-rules"></a><span data-ttu-id="6051b-139">NSG kuralları</span><span class="sxs-lookup"><span data-stu-id="6051b-139">NSG rules</span></span>
<span data-ttu-id="6051b-140">NSG kuralları aşağıdaki özelliklere hello içerir:</span><span class="sxs-lookup"><span data-stu-id="6051b-140">NSG rules contain hello following properties:</span></span>

| <span data-ttu-id="6051b-141">Özellik</span><span class="sxs-lookup"><span data-stu-id="6051b-141">Property</span></span> | <span data-ttu-id="6051b-142">Açıklama</span><span class="sxs-lookup"><span data-stu-id="6051b-142">Description</span></span> | <span data-ttu-id="6051b-143">Kısıtlamalar</span><span class="sxs-lookup"><span data-stu-id="6051b-143">Constraints</span></span> | <span data-ttu-id="6051b-144">Dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="6051b-144">Considerations</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="6051b-145">**Ad**</span><span class="sxs-lookup"><span data-stu-id="6051b-145">**Name**</span></span> |<span data-ttu-id="6051b-146">Merhaba kural adı.</span><span class="sxs-lookup"><span data-stu-id="6051b-146">Name for hello rule.</span></span> |<span data-ttu-id="6051b-147">Merhaba bölge içinde benzersiz olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6051b-147">Must be unique within hello region.</span></span><br/><span data-ttu-id="6051b-148">Harf, sayı, alt çizgi, nokta ve kısa çizgi içerebilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-148">Can contain letters, numbers, underscores, periods, and hyphens.</span></span><br/><span data-ttu-id="6051b-149">Bir harf veya sayı ile başlamalıdır.</span><span class="sxs-lookup"><span data-stu-id="6051b-149">Must start with a letter or number.</span></span><br/><span data-ttu-id="6051b-150">Bir harf, sayı veya alt çizgi ile bitmelidir.</span><span class="sxs-lookup"><span data-stu-id="6051b-150">Must end with a letter, number, or underscore.</span></span><br/><span data-ttu-id="6051b-151">80 karakterden uzun olamaz.</span><span class="sxs-lookup"><span data-stu-id="6051b-151">Cannot exceed 80 characters.</span></span> |<span data-ttu-id="6051b-152">Bir NSG içinde çeşitli kurallara sahip olabilir, bu nedenle tooidentify hello işlevini sağlayan bir adlandırma kuralını uyguladığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="6051b-152">You may have several rules within an NSG, so make sure you follow a naming convention that allows you tooidentify hello function of your rule.</span></span> |
| <span data-ttu-id="6051b-153">**Protokol**</span><span class="sxs-lookup"><span data-stu-id="6051b-153">**Protocol**</span></span> |<span data-ttu-id="6051b-154">Protokol toomatch hello kuralı için.</span><span class="sxs-lookup"><span data-stu-id="6051b-154">Protocol toomatch for hello rule.</span></span> |<span data-ttu-id="6051b-155">TCP, UDP veya *</span><span class="sxs-lookup"><span data-stu-id="6051b-155">TCP, UDP, or *</span></span> |<span data-ttu-id="6051b-156">Kullanarak * ICMP (yalnızca Doğu-Batı trafiği) bir protokolünü içeren gibi olarak UDP ve TCP yanı sıra ve hello ihtiyacınız olan kuralların sayısını azaltabilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-156">Using * as a protocol includes ICMP (East-West traffic only), as well as UDP and TCP, and may reduce hello number of rules you need.</span></span><br/><span data-ttu-id="6051b-157">AT aynı Merhaba, kullanarak istediğiniz zaman * kullanmanız önerilir böylece çok geniş bir yaklaşım olabilir * yalnızca gerekli olduğunda.</span><span class="sxs-lookup"><span data-stu-id="6051b-157">At hello same time, using * might be too broad an approach, so it's recommended that you use * only when necessary.</span></span> |
| <span data-ttu-id="6051b-158">**Kaynak bağlantı noktası aralığı**</span><span class="sxs-lookup"><span data-stu-id="6051b-158">**Source port range**</span></span> |<span data-ttu-id="6051b-159">Kaynak bağlantı noktası aralığı toomatch hello kuralı için.</span><span class="sxs-lookup"><span data-stu-id="6051b-159">Source port range toomatch for hello rule.</span></span> |<span data-ttu-id="6051b-160">Tek bir bağlantı noktası numarasından 1 too65535, bağlantı noktası aralığı (örneğin: 1-65535), veya * (tüm bağlantı noktaları için).</span><span class="sxs-lookup"><span data-stu-id="6051b-160">Single port number from 1 too65535, port range (example: 1-65535), or * (for all ports).</span></span> |<span data-ttu-id="6051b-161">Kaynak bağlantı noktaları kısa ömürlü olabilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-161">Source ports could be ephemeral.</span></span> <span data-ttu-id="6051b-162">İstemci programınız belirli bir bağlantı noktasını kullanmadığı sürece, çoğu durum için * kullanın.</span><span class="sxs-lookup"><span data-stu-id="6051b-162">Unless your client program is using a specific port, use * in most cases.</span></span><br/><span data-ttu-id="6051b-163">Olası tooavoid hello gerektiği kadar birden çok kural için toouse bağlantı noktası aralıkları deneyin.</span><span class="sxs-lookup"><span data-stu-id="6051b-163">Try toouse port ranges as much as possible tooavoid hello need for multiple rules.</span></span><br/><span data-ttu-id="6051b-164">Birden çok bağlantı noktası veya bağlantı noktası aralığı virgülle birleştirilemez.</span><span class="sxs-lookup"><span data-stu-id="6051b-164">Multiple ports or port ranges cannot be grouped by a comma.</span></span> |
| <span data-ttu-id="6051b-165">**Hedef bağlantı noktası aralığı**</span><span class="sxs-lookup"><span data-stu-id="6051b-165">**Destination port range**</span></span> |<span data-ttu-id="6051b-166">Hedef bağlantı noktası aralığı toomatch hello kuralı için.</span><span class="sxs-lookup"><span data-stu-id="6051b-166">Destination port range toomatch for hello rule.</span></span> |<span data-ttu-id="6051b-167">Tek bir bağlantı noktası numarasından 1 too65535, bağlantı noktası aralığı (örneğin: 1-65535), veya \* (için tüm bağlantı noktaları).</span><span class="sxs-lookup"><span data-stu-id="6051b-167">Single port number from 1 too65535, port range (example: 1-65535), or \* (for all ports).</span></span> |<span data-ttu-id="6051b-168">Olası tooavoid hello gerektiği kadar birden çok kural için toouse bağlantı noktası aralıkları deneyin.</span><span class="sxs-lookup"><span data-stu-id="6051b-168">Try toouse port ranges as much as possible tooavoid hello need for multiple rules.</span></span><br/><span data-ttu-id="6051b-169">Birden çok bağlantı noktası veya bağlantı noktası aralığı virgülle birleştirilemez.</span><span class="sxs-lookup"><span data-stu-id="6051b-169">Multiple ports or port ranges cannot be grouped by a comma.</span></span> |
| <span data-ttu-id="6051b-170">**Kaynak adres ön eki**</span><span class="sxs-lookup"><span data-stu-id="6051b-170">**Source address prefix**</span></span> |<span data-ttu-id="6051b-171">Kaynak adres ön eki veya etiketi toomatch hello kuralı için.</span><span class="sxs-lookup"><span data-stu-id="6051b-171">Source address prefix or tag toomatch for hello rule.</span></span> |<span data-ttu-id="6051b-172">tek IP adresi (örnek: 10.10.10.10), IP alt ağı (örnek: 192.168.1.0/24), [varsayılan etiket](#default-tags) veya * (tüm adresler için).</span><span class="sxs-lookup"><span data-stu-id="6051b-172">Single IP address (example: 10.10.10.10), IP subnet (example: 192.168.1.0/24), [default tag](#default-tags), or * (for all addresses).</span></span> |<span data-ttu-id="6051b-173">Aralıklar, varsayılan etiketler kullanmayı düşünün ve * tooreduce hello kural sayısı.</span><span class="sxs-lookup"><span data-stu-id="6051b-173">Consider using ranges, default tags, and * tooreduce hello number of rules.</span></span> |
| <span data-ttu-id="6051b-174">**Hedef adres ön eki**</span><span class="sxs-lookup"><span data-stu-id="6051b-174">**Destination address prefix**</span></span> |<span data-ttu-id="6051b-175">Hedef adres ön eki veya etiketi toomatch hello kuralı için.</span><span class="sxs-lookup"><span data-stu-id="6051b-175">Destination address prefix or tag toomatch for hello rule.</span></span> | <span data-ttu-id="6051b-176">tek IP adresi (örnek: 10.10.10.10), IP alt ağı (örnek: 192.168.1.0/24), [varsayılan etiket](#default-tags) veya * (tüm adresler için).</span><span class="sxs-lookup"><span data-stu-id="6051b-176">Single IP address (example: 10.10.10.10), IP subnet (example: 192.168.1.0/24), [default tag](#default-tags), or * (for all addresses).</span></span> |<span data-ttu-id="6051b-177">Aralıklar, varsayılan etiketler kullanmayı düşünün ve * tooreduce hello kural sayısı.</span><span class="sxs-lookup"><span data-stu-id="6051b-177">Consider using ranges, default tags, and * tooreduce hello number of rules.</span></span> |
| <span data-ttu-id="6051b-178">**Yön**</span><span class="sxs-lookup"><span data-stu-id="6051b-178">**Direction**</span></span> |<span data-ttu-id="6051b-179">Merhaba kuralı için trafiği toomatch yönü.</span><span class="sxs-lookup"><span data-stu-id="6051b-179">Direction of traffic toomatch for hello rule.</span></span> |<span data-ttu-id="6051b-180">Gelen veya giden.</span><span class="sxs-lookup"><span data-stu-id="6051b-180">Inbound or outbound.</span></span> |<span data-ttu-id="6051b-181">Gelen veya giden kuralları, yöne bağlı olarak ayrı ayrı işlenir.</span><span class="sxs-lookup"><span data-stu-id="6051b-181">Inbound and outbound rules are processed separately, based on direction.</span></span> |
| <span data-ttu-id="6051b-182">**Öncelik**</span><span class="sxs-lookup"><span data-stu-id="6051b-182">**Priority**</span></span> |<span data-ttu-id="6051b-183">Kuralları hello öncelik sırasına göre denetlenir.</span><span class="sxs-lookup"><span data-stu-id="6051b-183">Rules are checked in hello order of priority.</span></span> <span data-ttu-id="6051b-184">Bir kural uygulandığı zaman eşleştirme için başka hiçbir kural test edilmez.</span><span class="sxs-lookup"><span data-stu-id="6051b-184">Once a rule applies, no more rules are tested for matching.</span></span> | <span data-ttu-id="6051b-185">100 ile 4096 arasında bir sayı.</span><span class="sxs-lookup"><span data-stu-id="6051b-185">Number between 100 and 4096.</span></span> | <span data-ttu-id="6051b-186">Hello gelecekte oluşturacağınız yeni kurallar için her kural tooleave alanı için 100 ile öncelikleri lü adımlarla atlayarak kuralları oluşturmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="6051b-186">Consider creating rules jumping priorities by 100 for each rule tooleave space for new rules you might create in hello future.</span></span> |
| <span data-ttu-id="6051b-187">**Erişim**</span><span class="sxs-lookup"><span data-stu-id="6051b-187">**Access**</span></span> |<span data-ttu-id="6051b-188">Merhaba kuralın eşleşmesi durumunda erişim tooapply türü.</span><span class="sxs-lookup"><span data-stu-id="6051b-188">Type of access tooapply if hello rule matches.</span></span> | <span data-ttu-id="6051b-189">İzin ver veya reddet.</span><span class="sxs-lookup"><span data-stu-id="6051b-189">Allow or deny.</span></span> | <span data-ttu-id="6051b-190">Bir paket için bir izin verme kuralı bulunmazsa, hello paketin bırakılacağını göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="6051b-190">Keep in mind that if an allow rule is not found for a packet, hello packet is dropped.</span></span> |

<span data-ttu-id="6051b-191">NSG'ler iki kural kümesi içerir: Gelen ve giden.</span><span class="sxs-lookup"><span data-stu-id="6051b-191">NSGs contain two sets of rules: Inbound and outbound.</span></span> <span data-ttu-id="6051b-192">bir kural için Hello öncelik her küme içinde benzersiz olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6051b-192">hello priority for a rule must be unique within each set.</span></span> 

![NSG kuralının işlenmesi](./media/virtual-network-nsg-overview/figure3.png) 

<span data-ttu-id="6051b-194">Merhaba önceki resimde NSG kuralların nasıl işlendiği gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="6051b-194">hello previous picture shows how NSG rules are processed.</span></span>

### <a name="default-tags"></a><span data-ttu-id="6051b-195">Varsayılan Etiketler</span><span class="sxs-lookup"><span data-stu-id="6051b-195">Default Tags</span></span>
<span data-ttu-id="6051b-196">Varsayılan, sistem tarafından sağlanan tanımlayıcıları tooaddress IP adreslerinin bir kategori etiketleridir.</span><span class="sxs-lookup"><span data-stu-id="6051b-196">Default tags are system-provided identifiers tooaddress a category of IP addresses.</span></span> <span data-ttu-id="6051b-197">Hello varsayılan etiketleri kullanabilirsiniz **kaynak adres ön eki** ve **hedef adres ön eki** herhangi bir kural özelliklerini.</span><span class="sxs-lookup"><span data-stu-id="6051b-197">You can use default tags in hello **source address prefix** and **destination address prefix** properties of any rule.</span></span> <span data-ttu-id="6051b-198">Kullanabileceğiniz üç varsayılan etiket vardır:</span><span class="sxs-lookup"><span data-stu-id="6051b-198">There are three default tags you can use:</span></span>

* <span data-ttu-id="6051b-199">**VirtualNetwork** (Resource Manager) (**vırtual_network** classic için): hello sanal ağ adresi alanını (Azure'da tanımlanan CIDR aralıkları) bu etiketi içeren, tüm bağlı şirket içi adres alanlarını ve bağlı Azure sanal ağlar (yerel ağlar).</span><span class="sxs-lookup"><span data-stu-id="6051b-199">**VirtualNetwork** (Resource Manager) (**VIRTUAL_NETWORK** for classic): This tag includes hello virtual network address space (CIDR ranges defined in Azure), all connected on-premises address spaces, and connected Azure VNets (local networks).</span></span>
* <span data-ttu-id="6051b-200">**AzureLoadBalancer** (Resource Manager) (Klasik için **AZURE_LOADBALANCER**): Bu etiket Azure altyapı infrastructure yük dengeleyicisini belirtir.</span><span class="sxs-lookup"><span data-stu-id="6051b-200">**AzureLoadBalancer** (Resource Manager) (**AZURE_LOADBALANCER** for classic): This tag denotes Azure’s infrastructure load balancer.</span></span> <span data-ttu-id="6051b-201">Merhaba etiketi burada Azure'nın sistem durumu araştırmalarının Azure veri merkezi kaynağı tooan çevirir.</span><span class="sxs-lookup"><span data-stu-id="6051b-201">hello tag translates tooan Azure datacenter IP where Azure’s health probes originate.</span></span>
* <span data-ttu-id="6051b-202">**Internet** (Resource Manager) (**Internet** classic için): Bu etiket hello sanal ağ dışında ve genel Internet ile ulaşılabilen hello IP adresi alanını belirtir.</span><span class="sxs-lookup"><span data-stu-id="6051b-202">**Internet** (Resource Manager) (**INTERNET** for classic): This tag denotes hello IP address space that is outside hello virtual network and reachable by public Internet.</span></span> <span data-ttu-id="6051b-203">Merhaba aralık içerir hello [Azure ait genel IP alanı](https://www.microsoft.com/download/details.aspx?id=41653).</span><span class="sxs-lookup"><span data-stu-id="6051b-203">hello range includes hello [Azure owned public IP space](https://www.microsoft.com/download/details.aspx?id=41653).</span></span>

### <a name="default-rules"></a><span data-ttu-id="6051b-204">Varsayılan kurallar</span><span class="sxs-lookup"><span data-stu-id="6051b-204">Default rules</span></span>
<span data-ttu-id="6051b-205">Tüm NSG'ler bir varsayılan kurallar kümesini içerir.</span><span class="sxs-lookup"><span data-stu-id="6051b-205">All NSGs contain a set of default rules.</span></span> <span data-ttu-id="6051b-206">Merhaba varsayılan kurallar silinemez ancak hello en düşük öncelik atandığı için oluşturduğunuz hello kurallarıyla kılınabilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-206">hello default rules cannot be deleted, but because they are assigned hello lowest priority, they can be overridden by hello rules that you create.</span></span> 

<span data-ttu-id="6051b-207">Merhaba varsayılan kuralları ve trafik şu şekilde izin vermeyecek izin ver:</span><span class="sxs-lookup"><span data-stu-id="6051b-207">hello default rules allow and disallow traffic as follows:</span></span>
- <span data-ttu-id="6051b-208">**Sanal ağ:** Kaynağı bir sanal ağ olan ve bir sanal ağda biten trafiğe hem gelen hem de giden yönlerde izin verilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-208">**Virtual network:** Traffic originating and ending in a virtual network is allowed both in inbound and outbound directions.</span></span>
- <span data-ttu-id="6051b-209">**Internet:** Giden trafiğe izin verilir, ancak gelen trafik engellenir.</span><span class="sxs-lookup"><span data-stu-id="6051b-209">**Internet:** Outbound traffic is allowed, but inbound traffic is blocked.</span></span>
- <span data-ttu-id="6051b-210">**Yük Dengeleyici:** izin Azure'nın yük dengeleyici tooprobe hello durumunu VM'ler ve rol örnekleri.</span><span class="sxs-lookup"><span data-stu-id="6051b-210">**Load balancer:** Allow Azure’s load balancer tooprobe hello health of your VMs and role instances.</span></span> <span data-ttu-id="6051b-211">Yük dengeli bir küme kullanmıyorsanız bu kuralı geçersiz kılabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6051b-211">If you are not using a load balanced set you can override this rule.</span></span>

<span data-ttu-id="6051b-212">**Gelen trafik için varsayılan kurallar**</span><span class="sxs-lookup"><span data-stu-id="6051b-212">**Inbound default rules**</span></span>

| <span data-ttu-id="6051b-213">Ad</span><span class="sxs-lookup"><span data-stu-id="6051b-213">Name</span></span> | <span data-ttu-id="6051b-214">Öncelik</span><span class="sxs-lookup"><span data-stu-id="6051b-214">Priority</span></span> | <span data-ttu-id="6051b-215">Kaynak IP</span><span class="sxs-lookup"><span data-stu-id="6051b-215">Source IP</span></span> | <span data-ttu-id="6051b-216">Kaynak Bağlantı Noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-216">Source Port</span></span> | <span data-ttu-id="6051b-217">Hedef IP</span><span class="sxs-lookup"><span data-stu-id="6051b-217">Destination IP</span></span> | <span data-ttu-id="6051b-218">Hedef Bağlantı Noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-218">Destination Port</span></span> | <span data-ttu-id="6051b-219">Protokol</span><span class="sxs-lookup"><span data-stu-id="6051b-219">Protocol</span></span> | <span data-ttu-id="6051b-220">Access</span><span class="sxs-lookup"><span data-stu-id="6051b-220">Access</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="6051b-221">AllowVNetInBound</span><span class="sxs-lookup"><span data-stu-id="6051b-221">AllowVNetInBound</span></span> |<span data-ttu-id="6051b-222">65000</span><span class="sxs-lookup"><span data-stu-id="6051b-222">65000</span></span> | <span data-ttu-id="6051b-223">VirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="6051b-223">VirtualNetwork</span></span> | * | <span data-ttu-id="6051b-224">VirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="6051b-224">VirtualNetwork</span></span> | * | * | <span data-ttu-id="6051b-225">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-225">Allow</span></span> |
| <span data-ttu-id="6051b-226">AllowAzureLoadBalancerInBound</span><span class="sxs-lookup"><span data-stu-id="6051b-226">AllowAzureLoadBalancerInBound</span></span> | <span data-ttu-id="6051b-227">65001</span><span class="sxs-lookup"><span data-stu-id="6051b-227">65001</span></span> | <span data-ttu-id="6051b-228">AzureLoadBalancer</span><span class="sxs-lookup"><span data-stu-id="6051b-228">AzureLoadBalancer</span></span> | * | * | * | * | <span data-ttu-id="6051b-229">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-229">Allow</span></span> |
| <span data-ttu-id="6051b-230">DenyAllInBound</span><span class="sxs-lookup"><span data-stu-id="6051b-230">DenyAllInBound</span></span> |<span data-ttu-id="6051b-231">65500</span><span class="sxs-lookup"><span data-stu-id="6051b-231">65500</span></span> | * | * | * | * | * | <span data-ttu-id="6051b-232">Reddet</span><span class="sxs-lookup"><span data-stu-id="6051b-232">Deny</span></span> |

<span data-ttu-id="6051b-233">**Giden trafik için varsayılan kurallar**</span><span class="sxs-lookup"><span data-stu-id="6051b-233">**Outbound default rules**</span></span>

| <span data-ttu-id="6051b-234">Ad</span><span class="sxs-lookup"><span data-stu-id="6051b-234">Name</span></span> | <span data-ttu-id="6051b-235">Öncelik</span><span class="sxs-lookup"><span data-stu-id="6051b-235">Priority</span></span> | <span data-ttu-id="6051b-236">Kaynak IP</span><span class="sxs-lookup"><span data-stu-id="6051b-236">Source IP</span></span> | <span data-ttu-id="6051b-237">Kaynak Bağlantı Noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-237">Source Port</span></span> | <span data-ttu-id="6051b-238">Hedef IP</span><span class="sxs-lookup"><span data-stu-id="6051b-238">Destination IP</span></span> | <span data-ttu-id="6051b-239">Hedef Bağlantı Noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-239">Destination Port</span></span> | <span data-ttu-id="6051b-240">Protokol</span><span class="sxs-lookup"><span data-stu-id="6051b-240">Protocol</span></span> | <span data-ttu-id="6051b-241">Access</span><span class="sxs-lookup"><span data-stu-id="6051b-241">Access</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="6051b-242">AllowVnetOutBound</span><span class="sxs-lookup"><span data-stu-id="6051b-242">AllowVnetOutBound</span></span> | <span data-ttu-id="6051b-243">65000</span><span class="sxs-lookup"><span data-stu-id="6051b-243">65000</span></span> | <span data-ttu-id="6051b-244">VirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="6051b-244">VirtualNetwork</span></span> | * | <span data-ttu-id="6051b-245">VirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="6051b-245">VirtualNetwork</span></span> | * | * | <span data-ttu-id="6051b-246">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-246">Allow</span></span> |
| <span data-ttu-id="6051b-247">AllowInternetOutBound</span><span class="sxs-lookup"><span data-stu-id="6051b-247">AllowInternetOutBound</span></span> | <span data-ttu-id="6051b-248">65001</span><span class="sxs-lookup"><span data-stu-id="6051b-248">65001</span></span> | * | * | <span data-ttu-id="6051b-249">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-249">Internet</span></span> | * | * | <span data-ttu-id="6051b-250">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-250">Allow</span></span> |
| <span data-ttu-id="6051b-251">DenyAllOutBound</span><span class="sxs-lookup"><span data-stu-id="6051b-251">DenyAllOutBound</span></span> | <span data-ttu-id="6051b-252">65500</span><span class="sxs-lookup"><span data-stu-id="6051b-252">65500</span></span> | * | * | * | * | * | <span data-ttu-id="6051b-253">Reddet</span><span class="sxs-lookup"><span data-stu-id="6051b-253">Deny</span></span> |

## <a name="associating-nsgs"></a><span data-ttu-id="6051b-254">NSG'leri ilişkilendirme</span><span class="sxs-lookup"><span data-stu-id="6051b-254">Associating NSGs</span></span>
<span data-ttu-id="6051b-255">Bir NSG tooVMs, NIC'lerle ve alt ağlar, aşağıdaki gibi kullandığınız hello dağıtım modeline bağlı olarak ilişkilendirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="6051b-255">You can associate an NSG tooVMs, NICs, and subnets, depending on hello deployment model you are using, as follows:</span></span>

* <span data-ttu-id="6051b-256">**VM (yalnızca klasik):** güvenlik kuralları uygulanır tooall trafiği hello VM /.</span><span class="sxs-lookup"><span data-stu-id="6051b-256">**VM (classic only):** Security rules are applied tooall traffic to/from hello VM.</span></span> 
* <span data-ttu-id="6051b-257">**NIC (yalnızca Resource Manager):** güvenlik kuralları uygulanır tooall/hello NIC hello NSG trafiğidir için ilişkili.</span><span class="sxs-lookup"><span data-stu-id="6051b-257">**NIC (Resource Manager only):** Security rules are applied tooall traffic to/from hello NIC hello NSG is associated to.</span></span> <span data-ttu-id="6051b-258">Multi-NIC VM ile farklı uygulama (veya aynı hello) NSG tooeach NIC ayrı ayrı.</span><span class="sxs-lookup"><span data-stu-id="6051b-258">In a multi-NIC VM, you can apply different (or hello same) NSG tooeach NIC individually.</span></span> 
* <span data-ttu-id="6051b-259">**Alt ağ (Resource Manager ve klasik):** güvenlik kuralları uygulanır tooany trafiği/herhangi bir kaynağa bağlı toohello VNet.</span><span class="sxs-lookup"><span data-stu-id="6051b-259">**Subnet (Resource Manager and classic):** Security rules are applied tooany traffic to/from any resources connected toohello VNet.</span></span>

<span data-ttu-id="6051b-260">Farklı Nsg'leri tooa VM (veya hello dağıtım modeline bağlı olarak NIC) ilişkilendirin ve NIC'nin veya VM'nin bağlı olduğu alt ağ hello.</span><span class="sxs-lookup"><span data-stu-id="6051b-260">You can associate different NSGs tooa VM (or NIC, depending on hello deployment model) and hello subnet that a NIC or VM is connected to.</span></span> <span data-ttu-id="6051b-261">Uygulanan toohello trafiği, sipariş Merhaba, her nsg'deki öncelik tarafından takip güvenlik kuralları:</span><span class="sxs-lookup"><span data-stu-id="6051b-261">Security rules are applied toohello traffic, by priority, in each NSG, in hello following order:</span></span>

- <span data-ttu-id="6051b-262">**Gelen trafik**</span><span class="sxs-lookup"><span data-stu-id="6051b-262">**Inbound traffic**</span></span>

  1. <span data-ttu-id="6051b-263">**NSG uygulanır toosubnet:** NSG bir alt ağ bir eşleşen kuralı toodeny trafiği varsa, hello paket bırakılır.</span><span class="sxs-lookup"><span data-stu-id="6051b-263">**NSG applied toosubnet:** If a subnet NSG has a matching rule toodeny traffic, hello packet is dropped.</span></span>

  2. <span data-ttu-id="6051b-264">**NSG uygulanan tooNIC** (Resource Manager) veya VM (Klasik): varsa VM\NIC NSG trafiği engellediği bir eşleşen kuralı sahipse, paketleri NSG bir alt ağ trafiğe izin veren bir eşleşen kuralı olsa bile VM\NIC, hello atlanıyor.</span><span class="sxs-lookup"><span data-stu-id="6051b-264">**NSG applied tooNIC** (Resource Manager) or VM (classic): If VM\NIC NSG has a matching rule that denies traffic, packets are dropped at hello VM\NIC, even if a subnet NSG has a matching rule that allows traffic.</span></span>

- <span data-ttu-id="6051b-265">**Giden trafik**</span><span class="sxs-lookup"><span data-stu-id="6051b-265">**Outbound traffic**</span></span>

  1. <span data-ttu-id="6051b-266">**NSG uygulanan tooNIC** (Resource Manager) veya VM (Klasik): VM\NIC NSG trafiği engellediği eşleşen bir kuralı varsa, paket bırakılır.</span><span class="sxs-lookup"><span data-stu-id="6051b-266">**NSG applied tooNIC** (Resource Manager) or VM (classic): If a VM\NIC NSG has a matching rule that denies traffic, packets are dropped.</span></span>

  2. <span data-ttu-id="6051b-267">**NSG uygulanır toosubnet:** NSG bir alt ağ trafiğini engellediği eşleşen bir kuralı varsa, trafiğe izin veren bir eşleşen kuralı VM\NIC NSG olsa bile, paketler, bırakılır.</span><span class="sxs-lookup"><span data-stu-id="6051b-267">**NSG applied toosubnet:** If a subnet NSG has a matching rule that denies traffic, packets are dropped, even if a VM\NIC NSG has a matching rule that allows traffic.</span></span>

> [!NOTE]
> <span data-ttu-id="6051b-268">Yalnızca bir tek NSG tooa alt ağı, VM veya NIC ilişkilendirebilirsiniz rağmen; ilişkilendirmek istediğiniz kadar çok kaynak aynı NSG tooas hello.</span><span class="sxs-lookup"><span data-stu-id="6051b-268">Although you can only associate a single NSG tooa subnet, VM, or NIC; you can associate hello same NSG tooas many resources as you want.</span></span>
>

## <a name="implementation"></a><span data-ttu-id="6051b-269">Uygulama</span><span class="sxs-lookup"><span data-stu-id="6051b-269">Implementation</span></span>
<span data-ttu-id="6051b-270">Merhaba Resource Manager veya araçları aşağıdaki hello kullanarak Klasik dağıtım modellerinde Nsg'leri uygulayabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="6051b-270">You can implement NSGs in hello Resource Manager or classic deployment models using hello following tools:</span></span>

| <span data-ttu-id="6051b-271">Dağıtım aracı</span><span class="sxs-lookup"><span data-stu-id="6051b-271">Deployment tool</span></span> | <span data-ttu-id="6051b-272">Klasik</span><span class="sxs-lookup"><span data-stu-id="6051b-272">Classic</span></span> | <span data-ttu-id="6051b-273">Resource Manager</span><span class="sxs-lookup"><span data-stu-id="6051b-273">Resource Manager</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6051b-274">Azure portalına</span><span class="sxs-lookup"><span data-stu-id="6051b-274">Azure portal</span></span>   | <span data-ttu-id="6051b-275">Evet</span><span class="sxs-lookup"><span data-stu-id="6051b-275">Yes</span></span> | [<span data-ttu-id="6051b-276">Evet</span><span class="sxs-lookup"><span data-stu-id="6051b-276">Yes</span></span>](virtual-networks-create-nsg-arm-pportal.md) |
| <span data-ttu-id="6051b-277">PowerShell</span><span class="sxs-lookup"><span data-stu-id="6051b-277">PowerShell</span></span>     | [<span data-ttu-id="6051b-278">Evet</span><span class="sxs-lookup"><span data-stu-id="6051b-278">Yes</span></span>](virtual-networks-create-nsg-classic-ps.md) | [<span data-ttu-id="6051b-279">Evet</span><span class="sxs-lookup"><span data-stu-id="6051b-279">Yes</span></span>](virtual-networks-create-nsg-arm-ps.md) |
| <span data-ttu-id="6051b-280">Azure CLI **V1**</span><span class="sxs-lookup"><span data-stu-id="6051b-280">Azure CLI **V1**</span></span>   | [<span data-ttu-id="6051b-281">Evet</span><span class="sxs-lookup"><span data-stu-id="6051b-281">Yes</span></span>](virtual-networks-create-nsg-classic-cli.md) | [<span data-ttu-id="6051b-282">Evet</span><span class="sxs-lookup"><span data-stu-id="6051b-282">Yes</span></span>](virtual-networks-create-nsg-cli-nodejs.md) |
| <span data-ttu-id="6051b-283">Azure CLI **V2**</span><span class="sxs-lookup"><span data-stu-id="6051b-283">Azure CLI **V2**</span></span>   | <span data-ttu-id="6051b-284">Hayır</span><span class="sxs-lookup"><span data-stu-id="6051b-284">No</span></span> | [<span data-ttu-id="6051b-285">Evet</span><span class="sxs-lookup"><span data-stu-id="6051b-285">Yes</span></span>](virtual-networks-create-nsg-arm-cli.md) |
| <span data-ttu-id="6051b-286">Azure Resource Manager şablonu</span><span class="sxs-lookup"><span data-stu-id="6051b-286">Azure Resource Manager template</span></span>   | <span data-ttu-id="6051b-287">Hayır</span><span class="sxs-lookup"><span data-stu-id="6051b-287">No</span></span>  | [<span data-ttu-id="6051b-288">Evet</span><span class="sxs-lookup"><span data-stu-id="6051b-288">Yes</span></span>](virtual-networks-create-nsg-arm-template.md) |

## <a name="planning"></a><span data-ttu-id="6051b-289">Planlama</span><span class="sxs-lookup"><span data-stu-id="6051b-289">Planning</span></span>
<span data-ttu-id="6051b-290">Nsg'leri uygulamadan önce aşağıdaki soruları tooanswer hello gerekir:</span><span class="sxs-lookup"><span data-stu-id="6051b-290">Before implementing NSGs, you need tooanswer hello following questions:</span></span>

1. <span data-ttu-id="6051b-291">Hangi tür kaynaklara gelen toofilter trafiği tooor istiyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="6051b-291">What types of resources do you want toofilter traffic tooor from?</span></span> <span data-ttu-id="6051b-292">Ağ arabirimleri (Resource Manager), VM’ler (klasik), Cloud Services, Uygulama Hizmeti Ortamları ve VM Ölçek Kümeleri gibi kaynakları bağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6051b-292">You can connect resources such as NICs (Resource Manager), VMs (classic), Cloud Services, Application Service Environments, and VM Scale Sets.</span></span> 
2. <span data-ttu-id="6051b-293">Toofilter trafiğe çift varolan vnet'lerdeki bağlı toosubnets hello kaynakları misiniz?</span><span class="sxs-lookup"><span data-stu-id="6051b-293">Are hello resources you want toofilter traffic to/from connected toosubnets in existing VNets?</span></span>

<span data-ttu-id="6051b-294">Hello Azure ağ güvenliği planlaması hakkında daha fazla bilgi için okuma [bulut Hizmetleri ve ağ güvenliği](../best-practices-network-security.md) makalesi.</span><span class="sxs-lookup"><span data-stu-id="6051b-294">For more information on planning for network security in Azure, read hello [Cloud services and network security](../best-practices-network-security.md) article.</span></span> 

## <a name="design-considerations"></a><span data-ttu-id="6051b-295">Tasarım konusunda dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="6051b-295">Design considerations</span></span>
<span data-ttu-id="6051b-296">Merhaba toohello sorulara hello yanıtlar öğrendikten sonra [planlama](#Planning) bölümünde, Nsg'lerinizi tanımlamadan önce bölümleri aşağıdaki hello gözden geçirin:</span><span class="sxs-lookup"><span data-stu-id="6051b-296">Once you know hello answers toohello questions in hello [Planning](#Planning) section, review hello following sections before defining your NSGs:</span></span>

### <a name="limits"></a><span data-ttu-id="6051b-297">Sınırlar</span><span class="sxs-lookup"><span data-stu-id="6051b-297">Limits</span></span>
<span data-ttu-id="6051b-298">Toohello sayısını bir abonelikte olabilir ve NSG başına kural sayısı sınırlamaları vardır.</span><span class="sxs-lookup"><span data-stu-id="6051b-298">There are limits toohello number of NSGs you can have in a subscription and number of rules per NSG.</span></span> <span data-ttu-id="6051b-299">Merhaba okuma hello sınırları hakkında daha fazla toolearn [Azure sınırlar](../azure-subscription-service-limits.md#networking-limits) makalesi.</span><span class="sxs-lookup"><span data-stu-id="6051b-299">toolearn more about hello limits, read hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article.</span></span>

### <a name="vnet-and-subnet-design"></a><span data-ttu-id="6051b-300">Sanal ağ ve alt ağ tasarımı</span><span class="sxs-lookup"><span data-stu-id="6051b-300">VNet and subnet design</span></span>
<span data-ttu-id="6051b-301">Nsg'ler uygulanan toosubnets olabileceği için hello sayısını kaynaklarınızı alt ağa göre gruplandırma ve Nsg'ler toosubnets uygulayarak en aza indirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6051b-301">Since NSGs can be applied toosubnets, you can minimize hello number of NSGs by grouping your resources by subnet, and applying NSGs toosubnets.</span></span>  <span data-ttu-id="6051b-302">Tooapply Nsg'ler toosubnets karar verirseniz, var olan sanal ağlarınızın ve alt ağlarınızın Nsg'ler göz önünde tanımlanmış olduğunu fark edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6051b-302">If you decide tooapply NSGs toosubnets, you may find that existing VNets and subnets you have were not defined with NSGs in mind.</span></span> <span data-ttu-id="6051b-303">NSG tasarımınızı toodefine yeni sanal ağlar ve alt ağları toosupport ihtiyacınız ve yeni kaynaklar tooyour yeni alt dağıtın.</span><span class="sxs-lookup"><span data-stu-id="6051b-303">You may need toodefine new VNets and subnets toosupport your NSG design and deploy your new resources tooyour new subnets.</span></span> <span data-ttu-id="6051b-304">Ardından, kaynakları toohello yeni alt ağlar varolan bir geçiş stratejisi toomove tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6051b-304">You could then define a migration strategy toomove existing resources toohello new subnets.</span></span> 

### <a name="special-rules"></a><span data-ttu-id="6051b-305">Özel kurallar</span><span class="sxs-lookup"><span data-stu-id="6051b-305">Special rules</span></span>
<span data-ttu-id="6051b-306">Kuralları aşağıdaki hello tarafından izin verilen trafiği engellerseniz altyapınız temel Azure Hizmetleri ile iletişim kuramıyor:</span><span class="sxs-lookup"><span data-stu-id="6051b-306">If you block traffic allowed by hello following rules, your infrastructure can't communicate with essential Azure services:</span></span>

* <span data-ttu-id="6051b-307">**Merhaba ana bilgisayar düğümünün sanal IP'si:** temel altyapı hizmetleri gibi DHCP, DNS ve sistem durumu izleme hello sanallaştırılmış ana bilgisayar üzerinden IP adresi 168.63.129.16 sağlanır.</span><span class="sxs-lookup"><span data-stu-id="6051b-307">**Virtual IP of hello host node:** Basic infrastructure services such as DHCP, DNS, and health monitoring are provided through hello virtualized host IP address 168.63.129.16.</span></span> <span data-ttu-id="6051b-308">Bu genel IP adresi tooMicrosoft aittir ve tüm bölgelerde bu amaç için kullanılan hello yalnızca sanallaştırılmış IP adresidir.</span><span class="sxs-lookup"><span data-stu-id="6051b-308">This public IP address belongs tooMicrosoft and is hello only virtualized IP address used in all regions for this purpose.</span></span> <span data-ttu-id="6051b-309">Bu IP adresi hello VM barındırma toohello fiziksel IP adresi hello sunucu makinesinin (ana bilgisayar düğümü) eşler.</span><span class="sxs-lookup"><span data-stu-id="6051b-309">This IP address maps toohello physical IP address of hello server machine (host node) hosting hello VM.</span></span> <span data-ttu-id="6051b-310">Hello DHCP geçiş, hello DNS özyinelemeli çözümleyici ve hello araştırma kaynağı hello için yük dengeleyici durum araştırması ve hello makine durumu araştırması hello ana bilgisayar düğümü çalışır.</span><span class="sxs-lookup"><span data-stu-id="6051b-310">hello host node acts as hello DHCP relay, hello DNS recursive resolver, and hello probe source for hello load balancer health probe and hello machine health probe.</span></span> <span data-ttu-id="6051b-311">İletişim toothis IP adresi saldırının değil.</span><span class="sxs-lookup"><span data-stu-id="6051b-311">Communication toothis IP address is not an attack.</span></span>
* <span data-ttu-id="6051b-312">**Lisanslama (Anahtar Yönetimi Hizmeti):** VM’lerde çalışan Windows görüntülerinin lisanslanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6051b-312">**Licensing (Key Management Service):** Windows images running in VMs must be licensed.</span></span> <span data-ttu-id="6051b-313">tooensure lisans isteği sorgularını işleyen anahtar yönetimi hizmeti ana bilgisayar sunucuları toohello gönderilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-313">tooensure licensing, a request is sent toohello Key Management Service host servers that handle such queries.</span></span> <span data-ttu-id="6051b-314">Merhaba istek bağlantı noktası 1688 üzerinden giden yapılır.</span><span class="sxs-lookup"><span data-stu-id="6051b-314">hello request is made outbound through port 1688.</span></span>

### <a name="icmp-traffic"></a><span data-ttu-id="6051b-315">ICMP trafiği</span><span class="sxs-lookup"><span data-stu-id="6051b-315">ICMP traffic</span></span>
<span data-ttu-id="6051b-316">Merhaba geçerli NSG kuralları yalnızca protokolleri izin *TCP* veya *UDP*.</span><span class="sxs-lookup"><span data-stu-id="6051b-316">hello current NSG rules only allow for protocols *TCP* or *UDP*.</span></span> <span data-ttu-id="6051b-317">*ICMP* için belirli bir etiket bulunmaz.</span><span class="sxs-lookup"><span data-stu-id="6051b-317">There is not a specific tag for *ICMP*.</span></span> <span data-ttu-id="6051b-318">Ancak, ICMP trafiği sanal ağ içinde herhangi bir bağlantı noktası ve protokol hello VNet içinde gelen trafiği tooand izin veren hello AllowVNetInBound varsayılan kuralı izin verilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-318">However, ICMP traffic is allowed within a VNet by hello AllowVNetInBound default rule, that allows traffic tooand from any port and protocol within hello VNet.</span></span>

### <a name="subnets"></a><span data-ttu-id="6051b-319">Alt ağlar</span><span class="sxs-lookup"><span data-stu-id="6051b-319">Subnets</span></span>
* <span data-ttu-id="6051b-320">Merhaba yükünüzün gerektirdiği katmanların sayısını göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="6051b-320">Consider hello number of tiers your workload requires.</span></span> <span data-ttu-id="6051b-321">Her katman bir NSG uygulanır toohello alt ağ ile bir alt ağ kullanılarak yalıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-321">Each tier can be isolated by using a subnet, with an NSG applied toohello subnet.</span></span> 
* <span data-ttu-id="6051b-322">Bir VPN ağ geçidi veya expressroute bağlantı hattı için bir alt ağ tooimplement ihtiyacınız varsa, yapmanız **değil** bir NSG toothat alt uygulayın.</span><span class="sxs-lookup"><span data-stu-id="6051b-322">If you need tooimplement a subnet for a VPN gateway, or ExpressRoute circuit, do **not** apply an NSG toothat subnet.</span></span> <span data-ttu-id="6051b-323">Aksi halde sanal ağlar arası veya şirket içi ve dışı karma bağlantılar çalışmayabilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-323">If you do so, cross-VNet or cross-premises connectivity may fail.</span></span> 
* <span data-ttu-id="6051b-324">Tooimplement ağ sanal gereç (NVA) gerekiyorsa, hello NVA tooits kendi alt bağlanmak ve kullanıcı tanımlı yolları (UDR) tooand NVA hello oluşturun.</span><span class="sxs-lookup"><span data-stu-id="6051b-324">If you need tooimplement a network virtual appliance (NVA), connect hello NVA tooits own subnet and create user-defined routes (UDR) tooand from hello NVA.</span></span> <span data-ttu-id="6051b-325">Alt ağ düzeyinde NSG toofilter trafiği ve bu alt ağ dışındaki bir uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6051b-325">You can implement a subnet level NSG toofilter traffic in and out of this subnet.</span></span> <span data-ttu-id="6051b-326">Merhaba okuma Udr'ler hakkında daha fazla toolearn [kullanıcı tanımlı yollar](virtual-networks-udr-overview.md) makalesi.</span><span class="sxs-lookup"><span data-stu-id="6051b-326">toolearn more about UDRs, read hello [User-defined routes](virtual-networks-udr-overview.md) article.</span></span>

### <a name="load-balancers"></a><span data-ttu-id="6051b-327">Yük dengeleyiciler</span><span class="sxs-lookup"><span data-stu-id="6051b-327">Load balancers</span></span>
* <span data-ttu-id="6051b-328">Merhaba Yük Dengeleme ve ağ adresi çevirisi (NAT) kuralları her iş yüklerinizi tarafından kullanılan her yük dengeleyici için göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="6051b-328">Consider hello load balancing and network address translation (NAT) rules for each load balancer used by each of your workloads.</span></span> <span data-ttu-id="6051b-329">NAT, NIC'ler (Resource Manager) veya VM'ler/bulut Hizmetleri rol örnekleri (Klasik) içeren ilişkili tooa arka uç havuzu kurallardır.</span><span class="sxs-lookup"><span data-stu-id="6051b-329">NAT rules are bound tooa back-end pool that contains NICs (Resource Manager) or VMs/Cloud Services role instances (classic).</span></span> <span data-ttu-id="6051b-330">Merhaba yük dengeleyicilerde uygulanan hello kurallar yoluyla eşlenen yalnızca trafiğe izin her arka uç havuzu için bir NSG oluşturmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="6051b-330">Consider creating an NSG for each back-end pool, allowing only traffic mapped through hello rules implemented in hello load balancers.</span></span> <span data-ttu-id="6051b-331">Her bir arka uç havuzu için bir NSG oluşturma toohello arka uç havuzu (yerine doğrudan hello yük dengeleyici aracılığıyla), gelen trafiğin de filtrelenmesini olduğunu güvence altına alır.</span><span class="sxs-lookup"><span data-stu-id="6051b-331">Creating an NSG for each back-end pool guarantees that traffic coming toohello back-end pool directly (rather than through hello load balancer), is also filtered.</span></span>
* <span data-ttu-id="6051b-332">Klasik dağıtımlarda, bir yük dengeleyici tooports Vm'lerinizdeki veya rol örnekleri bağlantı noktalarına eşleyen uç noktalar oluşturursunuz.</span><span class="sxs-lookup"><span data-stu-id="6051b-332">In classic deployments, you create endpoints that map ports on a load balancer tooports on your VMs or role instances.</span></span> <span data-ttu-id="6051b-333">Resource Manager ile genel kullanıma yönelik bireysel yük dengeleyicinizi de oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6051b-333">You can also create your own individual public-facing load balancer through Resource Manager.</span></span> <span data-ttu-id="6051b-334">gelen trafik için Hello hedef bağlantı hello gerçek bağlantı noktası hello VM veya rol örneğine, olmayan bir yük dengeleyici tarafından kullanıma sunulan hello bağlantı noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="6051b-334">hello destination port for incoming traffic is hello actual port in hello VM or role instance, not hello port exposed by a load balancer.</span></span> <span data-ttu-id="6051b-335">Merhaba kaynak bağlantı noktası ve adresi VM üzerinde bir bağlantı noktası ve adresi olduğunu hello bağlantı toohello için hello Internet'teki Uzak bilgisayar, değil hello bağlantı noktası ve hello yük dengeleyici tarafından kullanıma sunulan hello.</span><span class="sxs-lookup"><span data-stu-id="6051b-335">hello source port and address for hello connection toohello VM is a port and address on hello remote computer in hello Internet, not hello port and address exposed by hello load balancer.</span></span>
* <span data-ttu-id="6051b-336">Bir iç yük dengeleyici (ILB) gelen Nsg'ler toofilter trafik oluşturduğunuzda, uygulanan hello kaynak bağlantı noktasının ve adres aralığı olan bilgisayar, hello yük dengeleyici kaynaklanan hello.</span><span class="sxs-lookup"><span data-stu-id="6051b-336">When you create NSGs toofilter traffic coming through an internal load balancer (ILB), hello source port and address range applied are  from hello originating computer, not hello load balancer.</span></span> <span data-ttu-id="6051b-337">Merhaba hedef bağlantı noktasının ve adres aralığı bilgilerdir hello hedef bilgisayarın, hello yük dengeleyici.</span><span class="sxs-lookup"><span data-stu-id="6051b-337">hello destination port and address range are those of hello destination computer, not hello load balancer.</span></span>

### <a name="other"></a><span data-ttu-id="6051b-338">Diğer</span><span class="sxs-lookup"><span data-stu-id="6051b-338">Other</span></span>
* <span data-ttu-id="6051b-339">Uç nokta tabanlı erişim denetimi listeleri (ACL) ve Nsg'ler hello üzerinde desteklenmiyor aynı VM örneği.</span><span class="sxs-lookup"><span data-stu-id="6051b-339">Endpoint-based access control lists (ACL) and NSGs are not supported on hello same VM instance.</span></span> <span data-ttu-id="6051b-340">Toouse bir NSG'yi istediğiniz ve bir uç nokta ACL'si zaten kullanıyor, ilk hello uç nokta ACL'sini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="6051b-340">If you want toouse an NSG and have an endpoint ACL already in place, first remove hello endpoint ACL.</span></span> <span data-ttu-id="6051b-341">Hakkında bilgi için uç nokta ACL, bir tooremove bkz hello [uç nokta ACL'lerini yönetme](virtual-networks-acl-powershell.md) makalesi.</span><span class="sxs-lookup"><span data-stu-id="6051b-341">For information about how tooremove an endpoint ACL, see hello [Manage endpoint ACLs](virtual-networks-acl-powershell.md) article.</span></span>
* <span data-ttu-id="6051b-342">Kaynak Yöneticisi'nde, bir NIC başına temelinde birden çok NIC tooenable Yönetimi (uzaktan erişim) ile ilişkili NSG tooa NIC VM'ler için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6051b-342">In Resource Manager, you can use an NSG associated tooa NIC for VMs with multiple NICs tooenable management (remote access) on a per NIC basis.</span></span> <span data-ttu-id="6051b-343">Benzersiz Nsg'ler tooeach NIC ilişkilendirme NIC'ler arasında trafik türlerini ayrımı sağlar.</span><span class="sxs-lookup"><span data-stu-id="6051b-343">Associating unique NSGs tooeach NIC enables separation of traffic types across NICs.</span></span>
* <span data-ttu-id="6051b-344">Diğer sanal ağlardan gelen trafik filtreleme, yük Dengeleyiciler, benzer toohello kullanımı, hello uzak bilgisayar, değil hello ağ geçidi hello sanal ağlara bağlanma hello kaynak adres aralığını kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="6051b-344">Similar toohello use of load balancers, when filtering traffic from other VNets, you must use hello source address range of hello remote computer, not hello gateway connecting hello VNets.</span></span>
* <span data-ttu-id="6051b-345">Çoğu Azure hizmeti bağlı tooVNets olamaz.</span><span class="sxs-lookup"><span data-stu-id="6051b-345">Many Azure services cannot be connected tooVNets.</span></span> <span data-ttu-id="6051b-346">Bir Azure kaynağı bağlı tooa VNet değilse, bir NSG toofilter trafiği toohello kaynağı kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="6051b-346">If an Azure resource is not connected tooa VNet, you cannot use an NSG toofilter traffic toohello resource.</span></span>  <span data-ttu-id="6051b-347">Merhaba hizmet bağlı tooa VNet olabilir olup olmadığını hello Hizmetleri hello belgelerini okuyun toodetermine kullanın.</span><span class="sxs-lookup"><span data-stu-id="6051b-347">Read hello documentation for hello services you use toodetermine whether hello service can be connected tooa VNet.</span></span>

## <a name="sample-deployment"></a><span data-ttu-id="6051b-348">Örnek dağıtımı</span><span class="sxs-lookup"><span data-stu-id="6051b-348">Sample deployment</span></span>
<span data-ttu-id="6051b-349">Bu makalede, hello bilgilerinin tooillustrate Merhaba uygulaması resim aşağıdaki hello gösterilen iki katmanı uygulaması için yaygın bir senaryo göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="6051b-349">tooillustrate hello application of hello information in this article, consider a common scenario of a two tier application shown in hello following picture:</span></span>

![NSG'ler](./media/virtual-network-nsg-overview/figure1.png)

<span data-ttu-id="6051b-351">Merhaba diyagramda gösterildiği gibi hello *Web1* ve *Web2* VM'ler olan bağlı toohello *ön uç* alt ağı ve hello *DB1* ve *DB2* VM'ler olan bağlı toohello *arka uç* alt ağ.</span><span class="sxs-lookup"><span data-stu-id="6051b-351">As shown in hello diagram, hello *Web1* and *Web2* VMs are connected toohello *FrontEnd* subnet, and hello *DB1* and *DB2* VMs are connected toohello *BackEnd* subnet.</span></span>  <span data-ttu-id="6051b-352">Her iki alt ağ hello parçası olan *TestVNet* VNet.</span><span class="sxs-lookup"><span data-stu-id="6051b-352">Both subnets are part of hello *TestVNet* VNet.</span></span> <span data-ttu-id="6051b-353">Merhaba uygulama bileşenleri her bir Azure VM bağlı tooa VNet içinde çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="6051b-353">hello application components each run within an Azure VM connected tooa VNet.</span></span> <span data-ttu-id="6051b-354">Merhaba senaryonun gereksinimlerine hello vardır:</span><span class="sxs-lookup"><span data-stu-id="6051b-354">hello scenario has hello following requirements:</span></span>

1. <span data-ttu-id="6051b-355">Merhaba WEB ve veritabanı sunucuları arasındaki trafiğin ayrılması.</span><span class="sxs-lookup"><span data-stu-id="6051b-355">Separation of traffic between hello WEB and DB servers.</span></span>
2. <span data-ttu-id="6051b-356">Yükü Dengeleme kuralları iletme trafiğini hello yük dengeleyici tooall web sunucularından bağlantı noktası 80 üzerinde.</span><span class="sxs-lookup"><span data-stu-id="6051b-356">Load balancing rules forward traffic from hello load balancer tooall web servers on port 80.</span></span>
3. <span data-ttu-id="6051b-357">Merhaba yük dengeleyici hello WEB1 VM üzerinde tooport 3389 numaralı bağlantı noktası 50001 üzerinde gelen dengeleyicisi NAT kuralları iletme trafik yükleyin.</span><span class="sxs-lookup"><span data-stu-id="6051b-357">Load balancer NAT rules forward traffic coming into hello load balancer on port 50001 tooport 3389 on hello WEB1 VM.</span></span>
4. <span data-ttu-id="6051b-358">Hiçbir erişim toohello hello Internet, 2 ve 3 gereksinimleri dışında ön uç veya arka uç Vm'lerden.</span><span class="sxs-lookup"><span data-stu-id="6051b-358">No access toohello front-end or back-end VMs from hello Internet, except requirements 2 and 3.</span></span>
5. <span data-ttu-id="6051b-359">Hiçbir giden Internet erişimi hello WEB veya DB sunucularından.</span><span class="sxs-lookup"><span data-stu-id="6051b-359">No outbound Internet access from hello WEB or DB servers.</span></span>
6. <span data-ttu-id="6051b-360">Merhaba ön uç alt ağından erişim tooport 3389 herhangi bir web sunucusunun verilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-360">Access from hello FrontEnd subnet is allowed tooport 3389 of any web server.</span></span>
7. <span data-ttu-id="6051b-361">Merhaba ön uç alt ağından erişim tooport 3389 herhangi bir DB sunucusunun verilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-361">Access from hello FrontEnd subnet is allowed tooport 3389 of any DB server.</span></span>
8. <span data-ttu-id="6051b-362">Merhaba ön uç alt ağından erişim tooport 1433 tüm DB sunucuların verilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-362">Access from hello FrontEnd subnet is allowed tooport 1433 of all DB servers.</span></span>
9. <span data-ttu-id="6051b-363">DB sunucularındaki farklı ağ arabirimlerinde yönetim trafiğinin (3389 numaralı bağlantı noktası) ve veritabanı trafiğinin (1433) ayrılması.</span><span class="sxs-lookup"><span data-stu-id="6051b-363">Separation of management traffic (port 3389) and database traffic (1433) on different NICs in DB servers.</span></span>

<span data-ttu-id="6051b-364">1-6 (dışında gereksinimlerini 3 ve 4) tüm yalıtılmış toosubnet alanları gereksinimleridir.</span><span class="sxs-lookup"><span data-stu-id="6051b-364">Requirements 1-6 (except requirements 3 and 4) are all confined toosubnet spaces.</span></span> <span data-ttu-id="6051b-365">Merhaba aşağıdaki Nsg'ler hello önceki gerekli Nsg'ler hello sayısını en aza indirerek gereksinimleri:</span><span class="sxs-lookup"><span data-stu-id="6051b-365">hello following NSGs meet hello previous requirements, while minimizing hello number of NSGs required:</span></span>

### <a name="frontend"></a><span data-ttu-id="6051b-366">FrontEnd</span><span class="sxs-lookup"><span data-stu-id="6051b-366">FrontEnd</span></span>
<span data-ttu-id="6051b-367">**Gelen kuralları**</span><span class="sxs-lookup"><span data-stu-id="6051b-367">**Inbound rules**</span></span>

| <span data-ttu-id="6051b-368">Kural</span><span class="sxs-lookup"><span data-stu-id="6051b-368">Rule</span></span> | <span data-ttu-id="6051b-369">Access</span><span class="sxs-lookup"><span data-stu-id="6051b-369">Access</span></span> | <span data-ttu-id="6051b-370">Öncelik</span><span class="sxs-lookup"><span data-stu-id="6051b-370">Priority</span></span> | <span data-ttu-id="6051b-371">Kaynak adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-371">Source address range</span></span> | <span data-ttu-id="6051b-372">Kaynak bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-372">Source port</span></span> | <span data-ttu-id="6051b-373">Hedef adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-373">Destination address range</span></span> | <span data-ttu-id="6051b-374">Hedef bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-374">Destination port</span></span> | <span data-ttu-id="6051b-375">Protokol</span><span class="sxs-lookup"><span data-stu-id="6051b-375">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="6051b-376">Allow-Inbound-HTTP-Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-376">Allow-Inbound-HTTP-Internet</span></span> | <span data-ttu-id="6051b-377">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-377">Allow</span></span> | <span data-ttu-id="6051b-378">100</span><span class="sxs-lookup"><span data-stu-id="6051b-378">100</span></span> | <span data-ttu-id="6051b-379">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-379">Internet</span></span> | * | * | <span data-ttu-id="6051b-380">80</span><span class="sxs-lookup"><span data-stu-id="6051b-380">80</span></span> | <span data-ttu-id="6051b-381">TCP</span><span class="sxs-lookup"><span data-stu-id="6051b-381">TCP</span></span> |
| <span data-ttu-id="6051b-382">Allow-Inbound-RDP-Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-382">Allow-Inbound-RDP-Internet</span></span> | <span data-ttu-id="6051b-383">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-383">Allow</span></span> | <span data-ttu-id="6051b-384">200</span><span class="sxs-lookup"><span data-stu-id="6051b-384">200</span></span> | <span data-ttu-id="6051b-385">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-385">Internet</span></span> | * | * | <span data-ttu-id="6051b-386">3389</span><span class="sxs-lookup"><span data-stu-id="6051b-386">3389</span></span> | <span data-ttu-id="6051b-387">TCP</span><span class="sxs-lookup"><span data-stu-id="6051b-387">TCP</span></span> |
| <span data-ttu-id="6051b-388">Deny-Inbound-All</span><span class="sxs-lookup"><span data-stu-id="6051b-388">Deny-Inbound-All</span></span> | <span data-ttu-id="6051b-389">Reddet</span><span class="sxs-lookup"><span data-stu-id="6051b-389">Deny</span></span> | <span data-ttu-id="6051b-390">300</span><span class="sxs-lookup"><span data-stu-id="6051b-390">300</span></span> | <span data-ttu-id="6051b-391">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-391">Internet</span></span> | * | * | * | <span data-ttu-id="6051b-392">TCP</span><span class="sxs-lookup"><span data-stu-id="6051b-392">TCP</span></span> |

<span data-ttu-id="6051b-393">**Giden kuralları**</span><span class="sxs-lookup"><span data-stu-id="6051b-393">**Outbound rules**</span></span>

| <span data-ttu-id="6051b-394">Kural</span><span class="sxs-lookup"><span data-stu-id="6051b-394">Rule</span></span> | <span data-ttu-id="6051b-395">Access</span><span class="sxs-lookup"><span data-stu-id="6051b-395">Access</span></span> | <span data-ttu-id="6051b-396">Öncelik</span><span class="sxs-lookup"><span data-stu-id="6051b-396">Priority</span></span> | <span data-ttu-id="6051b-397">Kaynak adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-397">Source address range</span></span> | <span data-ttu-id="6051b-398">Kaynak bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-398">Source port</span></span> | <span data-ttu-id="6051b-399">Hedef adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-399">Destination address range</span></span> | <span data-ttu-id="6051b-400">Hedef bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-400">Destination port</span></span> | <span data-ttu-id="6051b-401">Protokol</span><span class="sxs-lookup"><span data-stu-id="6051b-401">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="6051b-402">Deny-Internet-All</span><span class="sxs-lookup"><span data-stu-id="6051b-402">Deny-Internet-All</span></span> |<span data-ttu-id="6051b-403">Reddet</span><span class="sxs-lookup"><span data-stu-id="6051b-403">Deny</span></span> |<span data-ttu-id="6051b-404">100</span><span class="sxs-lookup"><span data-stu-id="6051b-404">100</span></span> | * | * | <span data-ttu-id="6051b-405">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-405">Internet</span></span> | * | * |

### <a name="backend"></a><span data-ttu-id="6051b-406">BackEnd</span><span class="sxs-lookup"><span data-stu-id="6051b-406">BackEnd</span></span>
<span data-ttu-id="6051b-407">**Gelen kuralları**</span><span class="sxs-lookup"><span data-stu-id="6051b-407">**Inbound rules**</span></span>

| <span data-ttu-id="6051b-408">Kural</span><span class="sxs-lookup"><span data-stu-id="6051b-408">Rule</span></span> | <span data-ttu-id="6051b-409">Access</span><span class="sxs-lookup"><span data-stu-id="6051b-409">Access</span></span> | <span data-ttu-id="6051b-410">Öncelik</span><span class="sxs-lookup"><span data-stu-id="6051b-410">Priority</span></span> | <span data-ttu-id="6051b-411">Kaynak adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-411">Source address range</span></span> | <span data-ttu-id="6051b-412">Kaynak bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-412">Source port</span></span> | <span data-ttu-id="6051b-413">Hedef adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-413">Destination address range</span></span> | <span data-ttu-id="6051b-414">Hedef bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-414">Destination port</span></span> | <span data-ttu-id="6051b-415">Protokol</span><span class="sxs-lookup"><span data-stu-id="6051b-415">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="6051b-416">Deny-Internet-All</span><span class="sxs-lookup"><span data-stu-id="6051b-416">Deny-Internet-All</span></span> | <span data-ttu-id="6051b-417">Reddet</span><span class="sxs-lookup"><span data-stu-id="6051b-417">Deny</span></span> | <span data-ttu-id="6051b-418">100</span><span class="sxs-lookup"><span data-stu-id="6051b-418">100</span></span> | <span data-ttu-id="6051b-419">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-419">Internet</span></span> | * | * | * | * |

<span data-ttu-id="6051b-420">**Giden kuralları**</span><span class="sxs-lookup"><span data-stu-id="6051b-420">**Outbound rules**</span></span>

| <span data-ttu-id="6051b-421">Kural</span><span class="sxs-lookup"><span data-stu-id="6051b-421">Rule</span></span> | <span data-ttu-id="6051b-422">Access</span><span class="sxs-lookup"><span data-stu-id="6051b-422">Access</span></span> | <span data-ttu-id="6051b-423">Öncelik</span><span class="sxs-lookup"><span data-stu-id="6051b-423">Priority</span></span> | <span data-ttu-id="6051b-424">Kaynak adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-424">Source address range</span></span> | <span data-ttu-id="6051b-425">Kaynak bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-425">Source port</span></span> | <span data-ttu-id="6051b-426">Hedef adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-426">Destination address range</span></span> | <span data-ttu-id="6051b-427">Hedef bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-427">Destination port</span></span> | <span data-ttu-id="6051b-428">Protokol</span><span class="sxs-lookup"><span data-stu-id="6051b-428">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="6051b-429">Deny-Internet-All</span><span class="sxs-lookup"><span data-stu-id="6051b-429">Deny-Internet-All</span></span> | <span data-ttu-id="6051b-430">Reddet</span><span class="sxs-lookup"><span data-stu-id="6051b-430">Deny</span></span> | <span data-ttu-id="6051b-431">100</span><span class="sxs-lookup"><span data-stu-id="6051b-431">100</span></span> | * | * | <span data-ttu-id="6051b-432">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-432">Internet</span></span> | * | * |

<span data-ttu-id="6051b-433">Aşağıdaki Nsg'ler oluşturulur ve sanal makineleri aşağıdaki hello tooNICs ilişkili hello:</span><span class="sxs-lookup"><span data-stu-id="6051b-433">hello following NSGs are created and associated tooNICs in hello following VMs:</span></span>

### <a name="web1"></a><span data-ttu-id="6051b-434">WEB1</span><span class="sxs-lookup"><span data-stu-id="6051b-434">WEB1</span></span>
<span data-ttu-id="6051b-435">**Gelen kuralları**</span><span class="sxs-lookup"><span data-stu-id="6051b-435">**Inbound rules**</span></span>

| <span data-ttu-id="6051b-436">Kural</span><span class="sxs-lookup"><span data-stu-id="6051b-436">Rule</span></span> | <span data-ttu-id="6051b-437">Access</span><span class="sxs-lookup"><span data-stu-id="6051b-437">Access</span></span> | <span data-ttu-id="6051b-438">Öncelik</span><span class="sxs-lookup"><span data-stu-id="6051b-438">Priority</span></span> | <span data-ttu-id="6051b-439">Kaynak adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-439">Source address range</span></span> | <span data-ttu-id="6051b-440">Kaynak bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-440">Source port</span></span> | <span data-ttu-id="6051b-441">Hedef adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-441">Destination address range</span></span> | <span data-ttu-id="6051b-442">Hedef bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-442">Destination port</span></span> | <span data-ttu-id="6051b-443">Protokol</span><span class="sxs-lookup"><span data-stu-id="6051b-443">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="6051b-444">Allow-Inbound-RDP-Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-444">Allow-Inbound-RDP-Internet</span></span> | <span data-ttu-id="6051b-445">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-445">Allow</span></span> | <span data-ttu-id="6051b-446">100</span><span class="sxs-lookup"><span data-stu-id="6051b-446">100</span></span> | <span data-ttu-id="6051b-447">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-447">Internet</span></span> | * | * | <span data-ttu-id="6051b-448">3389</span><span class="sxs-lookup"><span data-stu-id="6051b-448">3389</span></span> | <span data-ttu-id="6051b-449">TCP</span><span class="sxs-lookup"><span data-stu-id="6051b-449">TCP</span></span> |
| <span data-ttu-id="6051b-450">Allow-Inbound-HTTP-Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-450">Allow-Inbound-HTTP-Internet</span></span> | <span data-ttu-id="6051b-451">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-451">Allow</span></span> | <span data-ttu-id="6051b-452">200</span><span class="sxs-lookup"><span data-stu-id="6051b-452">200</span></span> | <span data-ttu-id="6051b-453">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-453">Internet</span></span> | * | * | <span data-ttu-id="6051b-454">80</span><span class="sxs-lookup"><span data-stu-id="6051b-454">80</span></span> | <span data-ttu-id="6051b-455">TCP</span><span class="sxs-lookup"><span data-stu-id="6051b-455">TCP</span></span> |

> [!NOTE]
> <span data-ttu-id="6051b-456">Merhaba kaynak adres aralığı hello önceki kuralları için **Internet**, hello yük dengeleyici sanal IP adresini hello değil.</span><span class="sxs-lookup"><span data-stu-id="6051b-456">hello source address range for hello previous rules is **Internet**, not hello virtual IP address of for hello load balancer.</span></span> <span data-ttu-id="6051b-457">Merhaba kaynak bağlantı noktası * 500001.</span><span class="sxs-lookup"><span data-stu-id="6051b-457">hello source port is *, not 500001.</span></span> <span data-ttu-id="6051b-458">Yük Dengeleyiciler için NAT kuralları olan değil hello NSG güvenlik kuralları ile aynı.</span><span class="sxs-lookup"><span data-stu-id="6051b-458">NAT rules for load balancers are not hello same as NSG security rules.</span></span> <span data-ttu-id="6051b-459">NSG güvenlik kuralları her zaman ilgili toohello orijinal kaynağı ve son hedefi trafik **değil** hello yük dengeleyici hello iki arasında.</span><span class="sxs-lookup"><span data-stu-id="6051b-459">NSG security rules are always related toohello original source and final destination of traffic, **not** hello load balancer between hello two.</span></span> 
> 
> 

### <a name="web2"></a><span data-ttu-id="6051b-460">WEB2</span><span class="sxs-lookup"><span data-stu-id="6051b-460">WEB2</span></span>
<span data-ttu-id="6051b-461">**Gelen kuralları**</span><span class="sxs-lookup"><span data-stu-id="6051b-461">**Inbound rules**</span></span>

| <span data-ttu-id="6051b-462">Kural</span><span class="sxs-lookup"><span data-stu-id="6051b-462">Rule</span></span> | <span data-ttu-id="6051b-463">Access</span><span class="sxs-lookup"><span data-stu-id="6051b-463">Access</span></span> | <span data-ttu-id="6051b-464">Öncelik</span><span class="sxs-lookup"><span data-stu-id="6051b-464">Priority</span></span> | <span data-ttu-id="6051b-465">Kaynak adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-465">Source address range</span></span> | <span data-ttu-id="6051b-466">Kaynak bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-466">Source port</span></span> | <span data-ttu-id="6051b-467">Hedef adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-467">Destination address range</span></span> | <span data-ttu-id="6051b-468">Hedef bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-468">Destination port</span></span> | <span data-ttu-id="6051b-469">Protokol</span><span class="sxs-lookup"><span data-stu-id="6051b-469">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="6051b-470">Deny-Inbound-RDP-Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-470">Deny-Inbound-RDP-Internet</span></span> | <span data-ttu-id="6051b-471">Reddet</span><span class="sxs-lookup"><span data-stu-id="6051b-471">Deny</span></span> | <span data-ttu-id="6051b-472">100</span><span class="sxs-lookup"><span data-stu-id="6051b-472">100</span></span> | <span data-ttu-id="6051b-473">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-473">Internet</span></span> | * | * | <span data-ttu-id="6051b-474">3389</span><span class="sxs-lookup"><span data-stu-id="6051b-474">3389</span></span> | <span data-ttu-id="6051b-475">TCP</span><span class="sxs-lookup"><span data-stu-id="6051b-475">TCP</span></span> |
| <span data-ttu-id="6051b-476">Allow-Inbound-HTTP-Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-476">Allow-Inbound-HTTP-Internet</span></span> | <span data-ttu-id="6051b-477">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-477">Allow</span></span> | <span data-ttu-id="6051b-478">200</span><span class="sxs-lookup"><span data-stu-id="6051b-478">200</span></span> | <span data-ttu-id="6051b-479">Internet</span><span class="sxs-lookup"><span data-stu-id="6051b-479">Internet</span></span> | * | * | <span data-ttu-id="6051b-480">80</span><span class="sxs-lookup"><span data-stu-id="6051b-480">80</span></span> | <span data-ttu-id="6051b-481">TCP</span><span class="sxs-lookup"><span data-stu-id="6051b-481">TCP</span></span> |

### <a name="db-servers-management-nic"></a><span data-ttu-id="6051b-482">DB sunucuları (Yönetim ağ arabirimi)</span><span class="sxs-lookup"><span data-stu-id="6051b-482">DB servers (Management NIC)</span></span>
<span data-ttu-id="6051b-483">**Gelen kuralları**</span><span class="sxs-lookup"><span data-stu-id="6051b-483">**Inbound rules**</span></span>

| <span data-ttu-id="6051b-484">Kural</span><span class="sxs-lookup"><span data-stu-id="6051b-484">Rule</span></span> | <span data-ttu-id="6051b-485">Access</span><span class="sxs-lookup"><span data-stu-id="6051b-485">Access</span></span> | <span data-ttu-id="6051b-486">Öncelik</span><span class="sxs-lookup"><span data-stu-id="6051b-486">Priority</span></span> | <span data-ttu-id="6051b-487">Kaynak adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-487">Source address range</span></span> | <span data-ttu-id="6051b-488">Kaynak bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-488">Source port</span></span> | <span data-ttu-id="6051b-489">Hedef adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-489">Destination address range</span></span> | <span data-ttu-id="6051b-490">Hedef bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-490">Destination port</span></span> | <span data-ttu-id="6051b-491">Protokol</span><span class="sxs-lookup"><span data-stu-id="6051b-491">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="6051b-492">Allow-Inbound-RDP-Front-end</span><span class="sxs-lookup"><span data-stu-id="6051b-492">Allow-Inbound-RDP-Front-end</span></span> | <span data-ttu-id="6051b-493">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-493">Allow</span></span> | <span data-ttu-id="6051b-494">100</span><span class="sxs-lookup"><span data-stu-id="6051b-494">100</span></span> | <span data-ttu-id="6051b-495">192.168.1.0/24</span><span class="sxs-lookup"><span data-stu-id="6051b-495">192.168.1.0/24</span></span> | * | * | <span data-ttu-id="6051b-496">3389</span><span class="sxs-lookup"><span data-stu-id="6051b-496">3389</span></span> | <span data-ttu-id="6051b-497">TCP</span><span class="sxs-lookup"><span data-stu-id="6051b-497">TCP</span></span> |

### <a name="db-servers-database-traffic-nic"></a><span data-ttu-id="6051b-498">DB sunucuları (Veritabanı trafiği ağ arabirimi)</span><span class="sxs-lookup"><span data-stu-id="6051b-498">DB servers (Database traffic NIC)</span></span>
<span data-ttu-id="6051b-499">**Gelen kuralları**</span><span class="sxs-lookup"><span data-stu-id="6051b-499">**Inbound rules**</span></span>

| <span data-ttu-id="6051b-500">Kural</span><span class="sxs-lookup"><span data-stu-id="6051b-500">Rule</span></span> | <span data-ttu-id="6051b-501">Access</span><span class="sxs-lookup"><span data-stu-id="6051b-501">Access</span></span> | <span data-ttu-id="6051b-502">Öncelik</span><span class="sxs-lookup"><span data-stu-id="6051b-502">Priority</span></span> | <span data-ttu-id="6051b-503">Kaynak adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-503">Source address range</span></span> | <span data-ttu-id="6051b-504">Kaynak bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-504">Source port</span></span> | <span data-ttu-id="6051b-505">Hedef adres aralığı</span><span class="sxs-lookup"><span data-stu-id="6051b-505">Destination address range</span></span> | <span data-ttu-id="6051b-506">Hedef bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="6051b-506">Destination port</span></span> | <span data-ttu-id="6051b-507">Protokol</span><span class="sxs-lookup"><span data-stu-id="6051b-507">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="6051b-508">Allow-Inbound-SQL-Front-end</span><span class="sxs-lookup"><span data-stu-id="6051b-508">Allow-Inbound-SQL-Front-end</span></span> | <span data-ttu-id="6051b-509">İzin Ver</span><span class="sxs-lookup"><span data-stu-id="6051b-509">Allow</span></span> | <span data-ttu-id="6051b-510">100</span><span class="sxs-lookup"><span data-stu-id="6051b-510">100</span></span> | <span data-ttu-id="6051b-511">192.168.1.0/24</span><span class="sxs-lookup"><span data-stu-id="6051b-511">192.168.1.0/24</span></span> | * | * | <span data-ttu-id="6051b-512">1433</span><span class="sxs-lookup"><span data-stu-id="6051b-512">1433</span></span> | <span data-ttu-id="6051b-513">TCP</span><span class="sxs-lookup"><span data-stu-id="6051b-513">TCP</span></span> |

<span data-ttu-id="6051b-514">Merhaba Nsg'ler bazıları ilişkili tooindividual NIC'ler olduğundan, hello Resource Manager aracılığıyla dağıtılan kaynaklar için kurallardır.</span><span class="sxs-lookup"><span data-stu-id="6051b-514">Since some of hello NSGs are associated tooindividual NICs, hello rules are for resources deployed through Resource Manager.</span></span> <span data-ttu-id="6051b-515">Nasıl ilişkilendirildiklerine bağlı olarak, kurallar alt ağ ve ağ arabirimi için birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="6051b-515">Rules are combined for subnet and NIC, depending on how they are associated.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="6051b-516">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="6051b-516">Next steps</span></span>
* <span data-ttu-id="6051b-517">[NSG Dağıtma (Resource Manager)](virtual-networks-create-nsg-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="6051b-517">[Deploy NSGs (Resource Manager)](virtual-networks-create-nsg-arm-pportal.md).</span></span>
* <span data-ttu-id="6051b-518">[NSG Dağıtma (klasik)](virtual-networks-create-nsg-classic-ps.md).</span><span class="sxs-lookup"><span data-stu-id="6051b-518">[Deploy NSGs (classic)](virtual-networks-create-nsg-classic-ps.md).</span></span>
* <span data-ttu-id="6051b-519">[NSG günlüklerini yönetin](virtual-network-nsg-manage-log.md).</span><span class="sxs-lookup"><span data-stu-id="6051b-519">[Manage NSG logs](virtual-network-nsg-manage-log.md).</span></span>
* <span data-ttu-id="6051b-520">[NSG’ler ile ilgili sorun giderme] (virtual-network-nsg-troubleshoot-portal.md)</span><span class="sxs-lookup"><span data-stu-id="6051b-520">[Troubleshoot NSGs] (virtual-network-nsg-troubleshoot-portal.md)</span></span>
