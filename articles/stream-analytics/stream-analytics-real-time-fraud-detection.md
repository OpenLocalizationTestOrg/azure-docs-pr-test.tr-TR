# <a name="get-started-using-azure-stream-analytics-real-time-fraud-detection"></a><span data-ttu-id="f1e76-101">Azure Stream Analytics'i kullanmaya başlama: Gerçek zamanlı sahtekarlık algılama</span><span class="sxs-lookup"><span data-stu-id="f1e76-101">Get started using Azure Stream Analytics: Real-time fraud detection</span></span>

<span data-ttu-id="f1e76-102">Bu öğretici nasıl bir uçtan uca çizimi sağlar toouse Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="f1e76-102">This tutorial provides an end-to-end illustration of how toouse Azure Stream Analytics.</span></span> <span data-ttu-id="f1e76-103">Aşağıdakileri nasıl yapacağınızı öğrenirsiniz:</span><span class="sxs-lookup"><span data-stu-id="f1e76-103">You learn how to:</span></span> 

* <span data-ttu-id="f1e76-104">Getir olayları Azure Event Hubs bir örneğine akış.</span><span class="sxs-lookup"><span data-stu-id="f1e76-104">Bring streaming events into an instance of Azure Event Hubs.</span></span> <span data-ttu-id="f1e76-105">Bu öğreticide, cep telefonu meta veri kayıtlarını akışı benzetim sağladığımız bir uygulaması kullanacaksınız.</span><span class="sxs-lookup"><span data-stu-id="f1e76-105">In this tutorial, you'll use an app that we provide that simulates a stream of mobile-phone metadata records.</span></span>

* <span data-ttu-id="f1e76-106">Bilgi toplama veya desenlerini bakarak SQL benzeri Stream Analytics sorgu tootransform veri yazma.</span><span class="sxs-lookup"><span data-stu-id="f1e76-106">Write SQL-like Stream Analytics queries tootransform data, aggregating information or looking for patterns.</span></span> <span data-ttu-id="f1e76-107">Nasıl toouse sorgu tooexamine gelen akış hello ve sahte olabilir çağrıları için Ara görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-107">You will see how toouse a query tooexamine hello incoming stream and look for calls that might be fraudulent.</span></span>

* <span data-ttu-id="f1e76-108">İlgili ek bilgileri analiz hello sonuçları tooan çıkış havuzu (Depolama) gönderin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-108">Send hello results tooan output sink (storage) that you can analyze for additional insights.</span></span> <span data-ttu-id="f1e76-109">Bu durumda, hello şüpheli çağrısı veri tooAzure Blob Depolama göndereceğiz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-109">In this case, you'll send hello suspicious call data tooAzure Blob storage.</span></span>

<span data-ttu-id="f1e76-110">Bu öğreticide, telefon araması verilerine dayalı gerçek zamanlı sahtekarlık algılama hello örneği kullanın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-110">In  this tutorial, we use hello example of real-time fraud detection based on phone-call data.</span></span> <span data-ttu-id="f1e76-111">Ancak biz göstermeye hello teknik sahtekarlık algılama, kredi kartı sahtekarlık veya kimlik hırsızlığı gibi diğer türleri için de uygundur.</span><span class="sxs-lookup"><span data-stu-id="f1e76-111">But hello technique we illustrate is also suited for other types of fraud detection, such as credit card fraud or identity theft.</span></span> 

## <a name="scenario-telecommunications-and-sim-fraud-detection-in-real-time"></a><span data-ttu-id="f1e76-112">Senaryo: Gerçek zamanlı telekomünikasyon ve SIM sahtekarlık algılama</span><span class="sxs-lookup"><span data-stu-id="f1e76-112">Scenario: Telecommunications and SIM fraud detection in real time</span></span>

<span data-ttu-id="f1e76-113">Telekomünikasyon şirket, fazla miktarda verinin gelen çağrıları için sahiptir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-113">A telecommunications company has a large volume of data for incoming calls.</span></span> <span data-ttu-id="f1e76-114">Merhaba şirket, böylece müşteriler bildir veya hizmet için belirli sayıda kapatın toodetect sahte gerçek zamanlı olarak çağırır ister.</span><span class="sxs-lookup"><span data-stu-id="f1e76-114">hello company wants toodetect fraudulent calls in real time so that they can notify customers or shut down service for a specific number.</span></span> <span data-ttu-id="f1e76-115">SIM sahtekarlık bir tür içerir hello gelen birden çok çağrıları hello geçici aynı kimliğe aynı zaman ancak coğrafi olarak farklı konumlarda.</span><span class="sxs-lookup"><span data-stu-id="f1e76-115">One type of SIM fraud involves multiple calls from hello same identity around hello same time but in geographically different locations.</span></span> <span data-ttu-id="f1e76-116">toodetect sahtekarlık, bu tür hello şirket gereksinimlerini tooexamine gelen telefon kaydeder ve belirli kalıpları aramak — bu durumda, hello yapılan aramalar için aynı anda farklı ülkelerde.</span><span class="sxs-lookup"><span data-stu-id="f1e76-116">toodetect this type of fraud, hello company needs tooexamine incoming phone records and look for specific patterns—in this case, for calls made around hello same time in different countries.</span></span> <span data-ttu-id="f1e76-117">Bu kategoriye herhangi bir telefon kayıt toostorage sonraki çözümleme için yazılmıştır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-117">Any phone records that fall into this category are written toostorage for subsequent analysis.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="f1e76-118">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="f1e76-118">Prerequisites</span></span>

<span data-ttu-id="f1e76-119">Bu öğreticide, örnek telefon araması meta verilerini oluşturur bir istemci uygulaması kullanarak, telefon araması veri benzetimi.</span><span class="sxs-lookup"><span data-stu-id="f1e76-119">In this tutorial, you'll simulate phone-call data by using a client app that generates sample phone call metadata.</span></span> <span data-ttu-id="f1e76-120">Bazı uygulama hello hello kayıtları sahte çağrıları görünümlü üretir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-120">Some of hello records that hello app produces look like fraudulent calls.</span></span> 

<span data-ttu-id="f1e76-121">Başlamadan önce hello aşağıdaki sahip olduğunuzdan emin olun:</span><span class="sxs-lookup"><span data-stu-id="f1e76-121">Before you start, make sure you have hello following:</span></span>

* <span data-ttu-id="f1e76-122">Bir Azure hesabı.</span><span class="sxs-lookup"><span data-stu-id="f1e76-122">An Azure account.</span></span>
* <span data-ttu-id="f1e76-123">Merhaba çağırma olayı Oluşturucu uygulama.</span><span class="sxs-lookup"><span data-stu-id="f1e76-123">hello call-event generator app.</span></span> <span data-ttu-id="f1e76-124">Bu hello indirerek elde [TelcoGenerator.zip dosya](http://download.microsoft.com/download/8/B/D/8BD50991-8D54-4F59-AB83-3354B69C8A7E/TelcoGenerator.zip) hello Microsoft Download Center gelen.</span><span class="sxs-lookup"><span data-stu-id="f1e76-124">You can get this by downloading hello [TelcoGenerator.zip file](http://download.microsoft.com/download/8/B/D/8BD50991-8D54-4F59-AB83-3354B69C8A7E/TelcoGenerator.zip) from hello Microsoft Download Center.</span></span> <span data-ttu-id="f1e76-125">Bu paket, bilgisayarınızdaki bir klasöre ayıklayın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-125">Unzip this package into a folder on your computer.</span></span> <span data-ttu-id="f1e76-126">Toosee hello kaynak kod ve çalışma hello uygulamada bir hata ayıklayıcısı isterseniz, hello uygulama kaynak kodundan alabilirsiniz [GitHub](https://aka.ms/azure-stream-analytics-telcogenerator).</span><span class="sxs-lookup"><span data-stu-id="f1e76-126">If you want toosee hello source code and run hello app in a debugger, you can get hello app source code from [GitHub](https://aka.ms/azure-stream-analytics-telcogenerator).</span></span> 

    >[!NOTE]
    ><span data-ttu-id="f1e76-127">Windows hello yüklediğiniz .zip dosyasını engelleyebilir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-127">Windows might block hello downloaded .zip file.</span></span> <span data-ttu-id="f1e76-128">Unzip olamaz, hello dosyasını sağ tıklatın ve seçin **özellikleri**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-128">If you can't unzip it, right-click hello file and select **Properties**.</span></span> <span data-ttu-id="f1e76-129">Merhaba görürseniz, "Bu dosya başka bir bilgisayardan gelen ve olması engellenen toohelp korumak bu bilgisayar" iletisi, select hello **Engellemeyi Kaldır** seçeneğini ve ardından **Uygula**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-129">If you see hello "This file came from another computer and might be blocked toohelp protect this computer" message, select hello **Unblock** option and then click **Apply**.</span></span>

<span data-ttu-id="f1e76-130">Merhaba akış analizi işi tooexamine hello sonuçlarını istiyorsanız, Azure Blob Storage kapsayıcısının hello içeriğini görüntülemek için ayrıca bir aracı gerekir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-130">If you want tooexamine hello results of hello Streaming Analytics job, you also need a tool for viewing hello contents of a Azure Blob Storage container.</span></span> <span data-ttu-id="f1e76-131">Visual Studio kullanırsanız, kullanabileceğiniz [Visual Studio için Azure Araçları](https://docs.microsoft.com/en-us/azure/vs-azure-tools-storage-resources-server-explorer-browse-manage) veya [Visual Studio Cloud Explorer](https://docs.microsoft.com/en-us/azure/vs-azure-tools-resources-managing-with-cloud-explorer).</span><span class="sxs-lookup"><span data-stu-id="f1e76-131">If you use Visual Studio, you can use [Azure Tools for Visual Studio](https://docs.microsoft.com/en-us/azure/vs-azure-tools-storage-resources-server-explorer-browse-manage) or [Visual Studio Cloud Explorer](https://docs.microsoft.com/en-us/azure/vs-azure-tools-resources-managing-with-cloud-explorer).</span></span> <span data-ttu-id="f1e76-132">Alternatif olarak, tek başına araçlarla yükleyebilirsiniz [Azure Storage Gezgini](http://storageexplorer.com/) veya [Azure Gezgini](http://www.cerebrata.com/products/azure-explorer/introduction).</span><span class="sxs-lookup"><span data-stu-id="f1e76-132">Alternatively, you can install standalone tools like [Azure Storage Explorer](http://storageexplorer.com/) or [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span></span> 

## <a name="create-an-azure-event-hubs-tooingest-events"></a><span data-ttu-id="f1e76-133">Azure olay hub'ları tooingest olaylar oluşturma</span><span class="sxs-lookup"><span data-stu-id="f1e76-133">Create an Azure event hubs tooingest events</span></span>

<span data-ttu-id="f1e76-134">tooanalyze bir veri akışı, *alma* Azure içine.</span><span class="sxs-lookup"><span data-stu-id="f1e76-134">tooanalyze a data stream, you *ingest* it into Azure.</span></span> <span data-ttu-id="f1e76-135">Tipik bir şekilde tooingest toouse verilerdir [Azure Event Hubs](../event-hubs/event-hubs-what-is-event-hubs.md), olanak sağlayan, saniye başına milyonlarca olayı alma ve sonra işlem ve hello olay bilgileri depolar.</span><span class="sxs-lookup"><span data-stu-id="f1e76-135">A typical way tooingest data is toouse [Azure Event Hubs](../event-hubs/event-hubs-what-is-event-hubs.md), which lets you ingest millions of events per second and then process and store hello event information.</span></span> <span data-ttu-id="f1e76-136">Bu öğretici için bir olay hub'ı oluşturabilir ve ardından hello çağırma olayı Oluşturucu uygulama gönderme çağrısı veri toothat olay hub'ı sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-136">For this tutorial, you create an event hub and then have hello call-event generator app send call data toothat event hub.</span></span> <span data-ttu-id="f1e76-137">Event hubs hakkında daha fazla bilgi için bkz: Merhaba [Azure Service Bus belgelerine](https://docs.microsoft.com/en-us/azure/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="f1e76-137">For more about event hubs, see hello [Azure Service Bus documentation](https://docs.microsoft.com/en-us/azure/service-bus/).</span></span>

>[!NOTE]
><span data-ttu-id="f1e76-138">Bu yordamı daha ayrıntılı bir sürümü için bkz: [bir olay hub'ları ad alanı oluşturma ve bir olay hub'ı kullanarak Azure portalında hello](../event-hubs/event-hubs-create.md).</span><span class="sxs-lookup"><span data-stu-id="f1e76-138">For a more detailed version of this procedure, see [Create an Event Hubs namespace and an event hub using hello Azure portal](../event-hubs/event-hubs-create.md).</span></span> 

### <a name="create-a-namespace-and-event-hub"></a><span data-ttu-id="f1e76-139">Bir ad alanı ve olay hub'ı Oluştur</span><span class="sxs-lookup"><span data-stu-id="f1e76-139">Create a namespace and event hub</span></span>
<span data-ttu-id="f1e76-140">Bu yordam, önce bir olay hub'ad alanı oluşturun ve ardından bir olay hub'ı toothat namepsace ekleyin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-140">In this procedure, you first create an event hub namespace, and then you add an event hub toothat namepsace.</span></span> <span data-ttu-id="f1e76-141">Olay hub'ı ad alanları kullanılır toologically grubunun ilişkili olay bus örnekleri.</span><span class="sxs-lookup"><span data-stu-id="f1e76-141">Event hub namespaces are used toologically group related event bus instances.</span></span> 

1. <span data-ttu-id="f1e76-142">Azure portal hello oturum ve'ı tıklatın **yeni** > **nesnelerin interneti** > **olay hub'ı**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-142">Log  into hello Azure portal and click **New** > **Internet of Things** > **Event Hub**.</span></span> 

2. <span data-ttu-id="f1e76-143">Merhaba, **ad alanı oluşturma** dikey penceresinde gibi bir ad alanı adı girin `<yourname>-eh-ns-demo`.</span><span class="sxs-lookup"><span data-stu-id="f1e76-143">In hello **Create namespace** blade, enter a namespace name such as `<yourname>-eh-ns-demo`.</span></span> <span data-ttu-id="f1e76-144">Merhaba ad alanı için herhangi bir ad kullanabilirsiniz, ancak hello adı geçerli bir URL olmalıdır ve Azure arasında benzersiz olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-144">You can use any name for hello namespace, but hello name must be valid for a URL and it must be unique across Azure.</span></span> 
    
3. <span data-ttu-id="f1e76-145">Bir aboneliği seçin ve oluşturmak veya bir kaynak grubu seçin ve ardından **oluşturma**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-145">Select a subscription and create or choose a resource group , then click **Create**.</span></span> 

    ![Bir olay hub'ad alanı oluşturma](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-namespace-new-portal.png)
 
4. <span data-ttu-id="f1e76-147">Merhaba ad alanı dağıtmayı bitirdiğinde hello olay hub'ad alanı, Azure kaynak listesinde bulun.</span><span class="sxs-lookup"><span data-stu-id="f1e76-147">When hello namespace has finished deploying, find hello event hub namespace in your list of Azure resources.</span></span> 

5. <span data-ttu-id="f1e76-148">Merhaba yeni ad alanına tıklayın ve hello ad alanı dikey penceresinde tıklayın  **+ &nbsp;olay hub'ı**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-148">Click hello new namespace, and in hello namespace blade, click **+&nbsp;Event Hub**.</span></span> 

    ![<span data-ttu-id="f1e76-149">Yeni bir olay hub'ı oluşturmak için hello Event Hub'ı Ekle düğmesi</span><span class="sxs-lookup"><span data-stu-id="f1e76-149">hello Add Event Hub button for creating a new event hub</span></span> ](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-button-new-portal.png)    
 
6. <span data-ttu-id="f1e76-150">Ad hello yeni olay hub'ı `sa-eh-frauddetection-demo`.</span><span class="sxs-lookup"><span data-stu-id="f1e76-150">Name hello new event hub `sa-eh-frauddetection-demo`.</span></span> <span data-ttu-id="f1e76-151">Farklı bir ad kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-151">You can use a different name.</span></span> <span data-ttu-id="f1e76-152">Bunu yaparsanız, hello adı daha sonra gerektiğinden, not edin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-152">If you do, make a note of it, because you need hello name later.</span></span> <span data-ttu-id="f1e76-153">Tooset diğer seçenekleri hello olay hub'ı şimdi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="f1e76-153">You don't need tooset any other options for hello event hub right now.</span></span>

    ![Yeni bir olay hub'ı oluşturmak için dikey penceresi](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-new-portal.png)
    
 
7. <span data-ttu-id="f1e76-155">**Oluştur**'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-155">Click **Create**.</span></span>
### <a name="grant-access-toohello-event-hub-and-get-a-connection-string"></a><span data-ttu-id="f1e76-156">Toohello event hub'ı erişim vermek ve bir bağlantı dizesi alma</span><span class="sxs-lookup"><span data-stu-id="f1e76-156">Grant access toohello event hub and get a connection string</span></span>

<span data-ttu-id="f1e76-157">Bir işlem tooan event hub'ı veri göndermeden önce hello olay hub'ı, uygun erişim veren bir ilke olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-157">Before a process can send data tooan event hub, hello event hub must have a policy that allows appropriate access.</span></span> <span data-ttu-id="f1e76-158">Merhaba erişim ilkesi yetkilendirme bilgilerini içeren bir bağlantı dizesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="f1e76-158">hello access policy produces a connection string that includes authorization information.</span></span>

1.  <span data-ttu-id="f1e76-159">Merhaba olay ad alanı dikey penceresinde tıklayın **olay hub'ları** ve ardından yeni olay hub'ınızı hello adına tıklayın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-159">In hello event namespace blade, click **Event Hubs** and then click hello name of your new event hub.</span></span>

2.  <span data-ttu-id="f1e76-160">Merhaba olay hub dikey penceresinde tıklayın **paylaşılan erişim ilkeleri** ve ardından  **+ &nbsp;Ekle**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-160">In hello event hub blade, click **Shared access policies** and then click **+&nbsp;Add**.</span></span>

    >[!NOTE]
    ><span data-ttu-id="f1e76-161">Merhaba olay hub değil hello olay hub'ı ad çalıştığınız emin olun.</span><span class="sxs-lookup"><span data-stu-id="f1e76-161">Make sure you're working with hello event hub, not hello event hub namespace.</span></span>

3.  <span data-ttu-id="f1e76-162">Adlı ilke Ekle `sa-policy-manage-demo` ve **talep**seçin **Yönet**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-162">Add a policy named `sa-policy-manage-demo` and for **Claim**, select **Manage**.</span></span>

    ![Yeni bir olay hub'ı erişim ilkesi oluşturmak için dikey penceresi](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-shared-access-policy-manage-new-portal.png)
 
4.  <span data-ttu-id="f1e76-164">**Oluştur**'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-164">Click **Create**.</span></span>

5.  <span data-ttu-id="f1e76-165">Hello İlkesi dağıtıldıktan sonra paylaşılan erişim ilkeleri hello listesinde tıklayın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-165">After hello policy has been deployed, click it in hello list of shared access policies.</span></span>

6.  <span data-ttu-id="f1e76-166">Etiketli Bul hello kutusunu **bağlantı dize birincil anahtarı** ve hello Kopyala düğmesine bir sonraki toohello bağlantı dizesi'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-166">Find hello box labeled **CONNECTION STRING-PRIMARY KEY** and click hello copy button next toohello connection string.</span></span> 
    
    ![Merhaba erişim ilkesinden Hello birincil bağlantı dizesi anahtarını kopyalama](./media/stream-analytics-real-time-fraud-detection/stream-analytics-shared-access-policy-copy-connection-string-new-portal.png)
 
7.  <span data-ttu-id="f1e76-168">Merhaba bağlantı dizesi, bir metin düzenleyicisine yapıştırın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-168">Paste hello connection string into a text editor.</span></span> <span data-ttu-id="f1e76-169">Bazı küçük düzenlemeler tooit yaptıktan sonra hello için sonraki bölümde, bu bağlantı dizesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-169">You need this connection string for hello next section, after you make some small edits tooit.</span></span>

    <span data-ttu-id="f1e76-170">Merhaba bağlantı dizesi şu şekildedir:</span><span class="sxs-lookup"><span data-stu-id="f1e76-170">hello connection string looks like this:</span></span>

        Endpoint=sb://YOURNAME-eh-ns-demo.servicebus.windows.net/;SharedAccessKeyName=sa-policy-manage-demo;SharedAccessKey=Gw2NFZwU1Di+rxA2T+6hJYAtFExKRXaC2oSQa0ZsPkI=;EntityPath=sa-eh-frauddetection-demo

    <span data-ttu-id="f1e76-171">Merhaba bağlantı dizesi noktalı virgülle ayırarak, birden çok anahtar-değer çiftleri içerdiğine dikkat edin: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey`, ve `EntityPath`.</span><span class="sxs-lookup"><span data-stu-id="f1e76-171">Notice that hello connection string contains multiple key-value pairs, separated with semicolons: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey`, and `EntityPath`.</span></span>  

## <a name="configure-and-start-hello-event-generator-application"></a><span data-ttu-id="f1e76-172">Yapılandırma ve hello olay Oluşturucu uygulamasını başlatın</span><span class="sxs-lookup"><span data-stu-id="f1e76-172">Configure and start hello event generator application</span></span>

<span data-ttu-id="f1e76-173">Merhaba TelcoGenerator uygulama başlamadan önce yeni oluşturduğunuz çağrısı kayıtları toohello olay hub'ı göndereceğiz böylece, yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-173">Before you start hello TelcoGenerator app, you configure it so that it will send call records toohello event hub you just created.</span></span>

### <a name="configure-hello-telcogeneratorapp"></a><span data-ttu-id="f1e76-174">Merhaba TelcoGeneratorapp yapılandırın</span><span class="sxs-lookup"><span data-stu-id="f1e76-174">Configure hello TelcoGeneratorapp</span></span>

1.  <span data-ttu-id="f1e76-175">Merhaba bağlantı dizesi kopyaladığınız hello Düzenleyicisi'nde hello Not `EntityPath` değer ve Kaldır'ı hello `EntityPath` (unutmayın yakalanması tooremove hello noktalı virgül) çifti.</span><span class="sxs-lookup"><span data-stu-id="f1e76-175">In hello editor where you copied hello connection string, make a note of hello `EntityPath` value, and then remove hello `EntityPath` pair (don't forget tooremove hello semicolon that precedes it).</span></span> 

2.  <span data-ttu-id="f1e76-176">Burada, hello TelcoGenerator.zip dosyasının sıkıştırması açılmış hello klasöründe hello telcodatagen.exe.config dosyasına bir düzenleyicide açın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-176">In hello folder where you unzipped hello TelcoGenerator.zip file, open hello telcodatagen.exe.config file in an editor.</span></span> <span data-ttu-id="f1e76-177">(Birden fazla .config dosyası, bu nedenle hello sağa bir açık olduğundan emin olun.)</span><span class="sxs-lookup"><span data-stu-id="f1e76-177">(There is more than one .config file, so be sure that you open hello right one.)</span></span>

3.  <span data-ttu-id="f1e76-178">Merhaba, `<appSettings>` öğesi, bunu yapın:</span><span class="sxs-lookup"><span data-stu-id="f1e76-178">In hello `<appSettings>` element, do this:</span></span>

    * <span data-ttu-id="f1e76-179">Merhaba hello değerini ayarlamak `EventHubName` anahtar toohello olay hub'ı adı (diğer bir deyişle, hello varlık yolu toohello değeri).</span><span class="sxs-lookup"><span data-stu-id="f1e76-179">Set hello value of hello `EventHubName` key toohello event hub name (that is, toohello value of hello entity path).</span></span>
    * <span data-ttu-id="f1e76-180">Merhaba hello değerini ayarlamak `Microsoft.ServiceBus.ConnectionString` anahtar toohello bağlantı dizesi.</span><span class="sxs-lookup"><span data-stu-id="f1e76-180">Set hello value of hello `Microsoft.ServiceBus.ConnectionString` key toohello connection string.</span></span> 

    <span data-ttu-id="f1e76-181">Merhaba `<appSettings>` bölümü aşağıdaki örneğine hello gibi görünür.</span><span class="sxs-lookup"><span data-stu-id="f1e76-181">hello `<appSettings>` section will look like hello following example.</span></span> <span data-ttu-id="f1e76-182">(Daha anlaşılır olması, biz hello satıra gibi ve bazı karakterler hello yetkilendirme belirtecinden kaldırıldı.)</span><span class="sxs-lookup"><span data-stu-id="f1e76-182">(For clarity, we wrapped hello lines and removed some characters from hello authorization token.)</span></span>

    ![Merhaba, olay hub adını ve bağlantı dizesini gösteren TelcoGenerator uygulama yapılandırma dosyası](./media/stream-analytics-real-time-fraud-detection/stream-analytics-telcogenerator-config-file-app-settings.png)
 
4.  <span data-ttu-id="f1e76-184">Merhaba dosyasını kaydedin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-184">Save hello file.</span></span> 

### <a name="start-hello-app"></a><span data-ttu-id="f1e76-185">Merhaba uygulamayı başlatın</span><span class="sxs-lookup"><span data-stu-id="f1e76-185">Start hello app</span></span>
1.  <span data-ttu-id="f1e76-186">Bir komut penceresi açın ve hello TelcoGenerator uygulama sıkıştırması açılmış olduğu toohello klasörü değiştirin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-186">Open a command window and change toohello folder where hello TelcoGenerator app is unzipped.</span></span>
2.  <span data-ttu-id="f1e76-187">Merhaba aşağıdaki komutu girin:</span><span class="sxs-lookup"><span data-stu-id="f1e76-187">Enter hello following command:</span></span>

        telcodatagen.exe 1000 .2 2

    <span data-ttu-id="f1e76-188">Merhaba Parametreler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="f1e76-188">hello parameters are:</span></span> 

    * <span data-ttu-id="f1e76-189">Saat başına CDR sayısı.</span><span class="sxs-lookup"><span data-stu-id="f1e76-189">Number of CDRs per hour.</span></span> 
    * <span data-ttu-id="f1e76-190">SIM kart sahtekarlık olasılık: Sıklıkla, tüm çağrıları yüzdesi olarak bu hello uygulama sahte bir çağrı benzetimini yapmak.</span><span class="sxs-lookup"><span data-stu-id="f1e76-190">SIM Card Fraud Probability: How often, as a percentage of all calls, that hello app should simulate a fraudulent call.</span></span> <span data-ttu-id="f1e76-191">Başlangıç değeri 2'dir yaklaşık %20 hello çağrısı kayıtların sahte görüneceğini anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-191">hello value .2 means that about 20% of hello call records will look fraudulent.</span></span>
    * <span data-ttu-id="f1e76-192">Saat cinsinden süre.</span><span class="sxs-lookup"><span data-stu-id="f1e76-192">Duration in hours.</span></span> <span data-ttu-id="f1e76-193">Uygulama hello saat Hello sayısını çalıştırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-193">hello number of hours that hello app should run.</span></span> <span data-ttu-id="f1e76-194">Ayrıca, hello uygulama hello komut satırında Ctrl + C tuşlarına basarak istediğiniz zaman durdurabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-194">You can also stop hello app any time by pressing Ctrl+C at hello command line.</span></span>

    <span data-ttu-id="f1e76-195">Birkaç saniye sonra bunları toohello olay hub'ı gönderir olarak telefon araması kayıtları Merhaba ekranında görüntüleme hello uygulaması başlatır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-195">After a few seconds, hello app starts displaying phone call records on hello screen as it sends them toohello event hub.</span></span>

<span data-ttu-id="f1e76-196">Bu gerçek zamanlı sahtekarlık algılama uygulamada kullanarak hello anahtar alanları bazıları hello aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="f1e76-196">Some of hello key fields that you will be using in this real-time fraud detection application are hello following:</span></span>

|<span data-ttu-id="f1e76-197">**Kayıt**</span><span class="sxs-lookup"><span data-stu-id="f1e76-197">**Record**</span></span>|<span data-ttu-id="f1e76-198">**Tanımı**</span><span class="sxs-lookup"><span data-stu-id="f1e76-198">**Definition**</span></span>|
|----------|--------------|
|`CallrecTime`|<span data-ttu-id="f1e76-199">Merhaba zaman damgası hello çağrısı için başlangıç saati.</span><span class="sxs-lookup"><span data-stu-id="f1e76-199">hello timestamp for hello call start time.</span></span> |
|`SwitchNum`|<span data-ttu-id="f1e76-200">Merhaba telefon anahtar tooconnect hello çağrısı kullanılır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-200">hello telephone switch used tooconnect hello call.</span></span> <span data-ttu-id="f1e76-201">Bu örnekte, kaynağı (ABD, Çin, İngiltere, Almanya veya Avustralya) hello ülke temsil eden dizeleri hello anahtarlar şunlardır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-201">For this example, hello switches are strings that represent hello country of origin (US, China, UK, Germany, or Australia).</span></span> |
|`CallingNum`|<span data-ttu-id="f1e76-202">Merhaba çağıran Hello telefon numarası.</span><span class="sxs-lookup"><span data-stu-id="f1e76-202">hello phone number of hello caller.</span></span> |
|`CallingIMSI`|<span data-ttu-id="f1e76-203">Merhaba uluslararası mobil abone kimliği (IMSI).</span><span class="sxs-lookup"><span data-stu-id="f1e76-203">hello International Mobile Subscriber Identity (IMSI).</span></span> <span data-ttu-id="f1e76-204">Merhaba çağıran benzersiz tanıtıcısı hello budur.</span><span class="sxs-lookup"><span data-stu-id="f1e76-204">This is hello Unique identifier of hello caller.</span></span> |
|`CalledNum`|<span data-ttu-id="f1e76-205">Merhaba çağrı alıcı Hello telefon numarası.</span><span class="sxs-lookup"><span data-stu-id="f1e76-205">hello phone number of hello call recipient.</span></span> |
|`CalledIMSI`|<span data-ttu-id="f1e76-206">Uluslararası mobil abone kimliği (IMSI).</span><span class="sxs-lookup"><span data-stu-id="f1e76-206">International Mobile Subscriber Identity (IMSI).</span></span> <span data-ttu-id="f1e76-207">Bu hello çağrısı alıcısının hello benzersiz tanımlayıcısı değil.</span><span class="sxs-lookup"><span data-stu-id="f1e76-207">This is hello unique identifier of hello call recipient.</span></span> |


## <a name="create-a-stream-analytics-job-toomanage-streaming-data"></a><span data-ttu-id="f1e76-208">Veri akış Stream Analytics işi toomanage oluşturma</span><span class="sxs-lookup"><span data-stu-id="f1e76-208">Create a Stream Analytics job toomanage streaming data</span></span>

<span data-ttu-id="f1e76-209">Çağrı olayların bir akışa sahip olduğunuza göre bir akış analizi işi ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-209">Now that you have a stream of call events, you can set up a Stream Analytics job.</span></span> <span data-ttu-id="f1e76-210">Merhaba iş ayarladığınız hello olay hub'dan verileri okur.</span><span class="sxs-lookup"><span data-stu-id="f1e76-210">hello job will read data from hello event hub that you set up.</span></span> 

### <a name="create-hello-job"></a><span data-ttu-id="f1e76-211">Merhaba işi oluşturma</span><span class="sxs-lookup"><span data-stu-id="f1e76-211">Create hello job</span></span> 

1. <span data-ttu-id="f1e76-212">Hello Azure portal'ı tıklatın **yeni** > **nesnelerin interneti** > **Stream Analytics işi**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-212">In hello Azure portal, click **New** > **Internet of Things** > **Stream Analytics job**.</span></span>

2. <span data-ttu-id="f1e76-213">Ad hello iş `sa_frauddetection_job_demo`, abonelik, kaynak grubunu ve konumu belirtin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-213">Name hello job `sa_frauddetection_job_demo`, specify a subscription, resource group, and location.</span></span>

    <span data-ttu-id="f1e76-214">Bir fikir tooplace hello iş ve hello event hub'ında hello olan en iyi performans ve bunu için aynı bölge bölgeler arasında tootransfer veri ödemeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="f1e76-214">It's a good idea tooplace hello job and hello event hub in hello same region for best performance and so that you don't pay tootransfer data between regions.</span></span>

    ![Yeni Stream Analytics işi oluşturma](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sa-job-new-portal.png)

3. <span data-ttu-id="f1e76-216">**Oluştur**'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-216">Click **Create**.</span></span>

    <span data-ttu-id="f1e76-217">Merhaba iş oluşturulur ve hello portal iş ayrıntılarını görüntüler.</span><span class="sxs-lookup"><span data-stu-id="f1e76-217">hello job is created and hello portal displays job details.</span></span> <span data-ttu-id="f1e76-218">Henüz hiçbir şey ancak çalıştığı — bunu başlamadan önce tooconfigure hello iş sahip.</span><span class="sxs-lookup"><span data-stu-id="f1e76-218">Nothing is running yet, though—you have tooconfigure hello job before it can be started.</span></span>

### <a name="configure-job-input"></a><span data-ttu-id="f1e76-219">İş Girişi yapılandırın</span><span class="sxs-lookup"><span data-stu-id="f1e76-219">Configure job input</span></span>

1. <span data-ttu-id="f1e76-220">Merhaba Pano veya hello **tüm kaynakları** dikey bulun ve seçin hello `sa_frauddetection_job_demo` Stream Analytics işi.</span><span class="sxs-lookup"><span data-stu-id="f1e76-220">In hello dashboard or hello **All resources** blade, find and select hello `sa_frauddetection_job_demo` Stream Analytics job.</span></span> 
2. <span data-ttu-id="f1e76-221">Merhaba, **iş topoloji** hello Stream Analytics iş dikey penceresi, bölümüne tıklatın hello **giriş** kutusu.</span><span class="sxs-lookup"><span data-stu-id="f1e76-221">In hello **Job Topology** section of hello Stream Analytics job blade, click hello **Input** box.</span></span>

    ![Giriş kutusuna hello akış analizi işi dikey topoloji altında](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-input-box-new-portal.png)
 
3. <span data-ttu-id="f1e76-223">Tıklatın  **+ &nbsp;Ekle** ve ardından hello dikey şu değerlerle doldurun:</span><span class="sxs-lookup"><span data-stu-id="f1e76-223">Click **+&nbsp;Add** and then fill out hello blade with these values:</span></span>

    * <span data-ttu-id="f1e76-224">**Giriş diğer adı**: hello adını kullan `CallStream`.</span><span class="sxs-lookup"><span data-stu-id="f1e76-224">**Input alias**: Use hello name `CallStream`.</span></span> <span data-ttu-id="f1e76-225">Farklı bir ad kullanırsanız, daha sonra ihtiyacınız olacak çünkü bunu not edin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-225">If you use a different name, make a note of it because you'll need it later.</span></span>
    * <span data-ttu-id="f1e76-226">**Kaynak türünü**: seçin **veri akışı**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-226">**Source type**: Select **Data stream**.</span></span> <span data-ttu-id="f1e76-227">(**Başvuru verileri** Bu öğreticide kullanmayacaksa toostatic arama verileri ifade eder.)</span><span class="sxs-lookup"><span data-stu-id="f1e76-227">(**Reference data** refers toostatic lookup data, which you won't use in this tutorial.)</span></span>
    * <span data-ttu-id="f1e76-228">**Kaynak**: seçin **olay hub'ı**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-228">**Source**: Select **Event hub**.</span></span>
    * <span data-ttu-id="f1e76-229">**Alma seçeneği**: seçin **geçerli aboneliğe ilişkin kullanım olay hub'ı**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-229">**Import option**: Select **Use event hub from current subscription**.</span></span> 
    * <span data-ttu-id="f1e76-230">**Hizmet veri yolu ad alanı**: daha önce oluşturduğunuz hello olay hub'ad alanı seçin (`<yourname>-eh-ns-demo`).</span><span class="sxs-lookup"><span data-stu-id="f1e76-230">**Service bus namespace**: Select hello event hub namespace that you created earlier (`<yourname>-eh-ns-demo`).</span></span>
    * <span data-ttu-id="f1e76-231">**Olay hub'ı**: daha önce oluşturduğunuz Select hello olay hub'ı (`sa-eh-frauddetection-demo`).</span><span class="sxs-lookup"><span data-stu-id="f1e76-231">**Event hub**: Select hello event hub that you created earlier (`sa-eh-frauddetection-demo`).</span></span>
    * <span data-ttu-id="f1e76-232">**Olay hub'ı ilke adı**: daha önce oluşturduğunuz hello erişim ilkesi seçin (`sa-policy-manage-demo`).</span><span class="sxs-lookup"><span data-stu-id="f1e76-232">**Event hub policy name**: Select hello access policy that you created earlier (`sa-policy-manage-demo`).</span></span>

    ![Akış analizi işi için yeni giriş oluşturma](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sa-input-new-portal.png)

4. <span data-ttu-id="f1e76-234">**Oluştur**'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-234">Click **Create**.</span></span>

## <a name="create-queries-tootransform-real-time-data"></a><span data-ttu-id="f1e76-235">Tootransform gerçek zamanlı verileri sorgular oluşturma</span><span class="sxs-lookup"><span data-stu-id="f1e76-235">Create queries tootransform real-time data</span></span>

<span data-ttu-id="f1e76-236">Bu noktada, gelen bir veri akışı tooread ayarlamak akış analizi işi var.</span><span class="sxs-lookup"><span data-stu-id="f1e76-236">At this point, you have a Stream Analytics job set up tooread an incoming data stream.</span></span> <span data-ttu-id="f1e76-237">Merhaba sonraki toocreate hello verileri gerçek zamanlı analiz dönüştürme adımdır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-237">hello next step is toocreate a transformation that analyzes hello data in real time.</span></span> <span data-ttu-id="f1e76-238">Bunun için bir sorgu oluşturarak.</span><span class="sxs-lookup"><span data-stu-id="f1e76-238">You do this by creating a query.</span></span> <span data-ttu-id="f1e76-239">Akış analizi dönüştürmeleri için gerçek zamanlı işleme açıklayan bir basit ve bildirim temelli sorgu modelini destekler.</span><span class="sxs-lookup"><span data-stu-id="f1e76-239">Stream Analytics supports a simple, declarative query model that describes transformations for real-time processing.</span></span> <span data-ttu-id="f1e76-240">Merhaba sorguları bazı uzantılar belirli toostream analytics sahip SQL benzeri bir dil kullanın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-240">hello queries use a SQL-like language that has some extensions specific toostream analytics.</span></span> 

<span data-ttu-id="f1e76-241">Çok basit bir sorgu yalnızca tüm hello gelen verileri okuyabilir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-241">A very simple query might simply read all hello incoming data.</span></span> <span data-ttu-id="f1e76-242">Ancak, genellikle özel veriler için veya hello verilerdeki ilişkileri arayın sorgular oluşturun.</span><span class="sxs-lookup"><span data-stu-id="f1e76-242">However, you often create queries that look for specific data or for relationships in hello data.</span></span> <span data-ttu-id="f1e76-243">Merhaba öğreticinin bu bölümünde oluşturun ve birkaç sorgu toolearn çözümleme için bir giriş akışı dönüştürebilirsiniz birkaç şekilde sınayın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-243">In this section of hello tutorial, you will create and test several queries toolearn a few ways in which you can transform an input stream for analysis.</span></span> 

<span data-ttu-id="f1e76-244">Burada oluşturduğunuz hello sorgular yalnızca hello dönüştürülen veriler toohello ekranı görüntüler.</span><span class="sxs-lookup"><span data-stu-id="f1e76-244">hello queries you create here will just display hello transformed data toohello screen.</span></span> <span data-ttu-id="f1e76-245">Sonraki bölümde, çıkış havuzu ve hello dönüştürülen veriler toothat havuz Yazar bir sorgu yapılandıracaksınız.</span><span class="sxs-lookup"><span data-stu-id="f1e76-245">In a later section, you'll configure an output sink and a query that writes hello transformed data toothat sink.</span></span>

<span data-ttu-id="f1e76-246">toolearn hello dili hakkında daha fazla bilgi görmek hello [Azure Stream Analytics sorgu dili başvurusu](https://msdn.microsoft.com/library/dn834998.aspx).</span><span class="sxs-lookup"><span data-stu-id="f1e76-246">toolearn more about hello language, see hello [Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/dn834998.aspx).</span></span>

### <a name="get-sample-data-for-testing-queries"></a><span data-ttu-id="f1e76-247">Sorguları test etmek için örnek veri al</span><span class="sxs-lookup"><span data-stu-id="f1e76-247">Get sample data for testing queries</span></span>

<span data-ttu-id="f1e76-248">Merhaba TelcoGenerator uygulama çağrısı kayıtları toohello olay hub'ı gönderme ve Stream Analytics iş hello olay hub'dan yapılandırılmış tooread.</span><span class="sxs-lookup"><span data-stu-id="f1e76-248">hello TelcoGenerator app is sending call records toohello event hub, and your Stream Analytics job is configured tooread from hello event hub.</span></span> <span data-ttu-id="f1e76-249">Bir sorgu tootest hello iş toomake doğru okuma emin kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-249">You can use a query tootest hello job toomake sure that it's reading correctly.</span></span> <span data-ttu-id="f1e76-250">çok hello Azure konsolunda bir sorguyu sınamak, örnek verileri gerekir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-250">too test a query in hello Azure console, you need sample data.</span></span> <span data-ttu-id="f1e76-251">Bu kılavuzda hello event hub'ına gelen hello akıştan örnek verileri ayıklamak.</span><span class="sxs-lookup"><span data-stu-id="f1e76-251">For this walkthrough, you'll extract sample data from hello stream that's coming into hello event hub.</span></span>

1. <span data-ttu-id="f1e76-252">Bu hello TelcoGenerator uygulaması çalıştıran ve çağrı kayıtları oluşturan emin olun.</span><span class="sxs-lookup"><span data-stu-id="f1e76-252">Make sure that hello TelcoGenerator app is running and producing call records.</span></span>
2. <span data-ttu-id="f1e76-253">Hello Portalı'nda toohello akış analizi işi dikey penceresine dönün.</span><span class="sxs-lookup"><span data-stu-id="f1e76-253">In hello portal, return toohello Streaming Analytics job blade.</span></span> <span data-ttu-id="f1e76-254">(Merhaba dikey kapattıysanız, arama `sa_frauddetection_job_demo` hello içinde **tüm kaynakları** dikey.)</span><span class="sxs-lookup"><span data-stu-id="f1e76-254">(If you closed hello blade, search for `sa_frauddetection_job_demo` in hello **All resources** blade.)</span></span>
3. <span data-ttu-id="f1e76-255">Merhaba tıklatın **sorgu** kutusu.</span><span class="sxs-lookup"><span data-stu-id="f1e76-255">Click hello **Query** box.</span></span> <span data-ttu-id="f1e76-256">Azure hello girişleri listeler ve toohello çıktı gönderilmiş gibi hello proje için yapılandırılmış ve olanak sağlayan bir sorgu oluşturmanıza olanak tanır çıkışları hello Giriş akışı Dönüştür.</span><span class="sxs-lookup"><span data-stu-id="f1e76-256">Azure lists hello inputs and outputs that are configured for hello job, and lets you create a query that lets you transform hello input stream as it is sent toohello output.</span></span>
4. <span data-ttu-id="f1e76-257">Merhaba, **sorgu** dikey penceresinde hello nokta sonraki toohello tıklatın `CallStream` girin ve ardından **örnek giriş verilerinden**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-257">In hello **Query** blade, click hello dots next toohello `CallStream` input and then select **Sample data from input**.</span></span>

    ![Menü seçeneklerini toouse için örnek veri hello akış analizi işi girişi, verilerle"Seçili örnek Giriş"](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sample-data-from-input.png)

    <span data-ttu-id="f1e76-259">Bu akış ne kadar süreyle tooread hello girişi bakımından tanımlanmış ne kadar örnek veri tooget belirtmenize olanak sağlar. bir dikey pencere açılır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-259">This opens a blade that lets you specify how much sample data tooget, defined in terms of how long tooread hello input stream.</span></span>

5. <span data-ttu-id="f1e76-260">Ayarlama **dakika** too3 ve ardından **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-260">Set **Minutes** too3 and then click **OK**.</span></span> 
    
    !["3 Seçili dakika ile" Merhaba Giriş akışı örnekleme seçenekleri.](./media/stream-analytics-real-time-fraud-detection/stream-analytics-input-create-sample-data.png)

    <span data-ttu-id="f1e76-262">Azure hello Giriş akışı verilerden 3 dakika eşitleyeceğini örnekleri ve hello örnek verileri hazır olduğunda size bildirir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-262">Azure samples 3 minutes' worth of data from hello input stream and notifies you when hello sample data is ready.</span></span> <span data-ttu-id="f1e76-263">(Bu kısa biraz uzun sürebilir.)</span><span class="sxs-lookup"><span data-stu-id="f1e76-263">(This takes a short while.)</span></span> 

<span data-ttu-id="f1e76-264">Merhaba örnek verileri geçici olarak depolanır ve açmak hello sorgu penceresi açıkken kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-264">hello sample data is stored temporarily and is available while you have hello query window open.</span></span> <span data-ttu-id="f1e76-265">Merhaba sorgu penceresini kapattığınızda, hello örnek veriler atılır ve yeni bir örnek veri kümesi toocreate sahip olacaksınız.</span><span class="sxs-lookup"><span data-stu-id="f1e76-265">If you close hello query window, hello sample data is discarded, and you'll have toocreate a new set of sample data.</span></span> 

<span data-ttu-id="f1e76-266">Alternatif olarak, örnek veriler olan bir .json dosyası alabilirsiniz [github'dan](https://github.com/Azure/azure-stream-analytics/blob/master/Sample%20Data/telco.json)ve ardından bu .json dosyası toouse hello için örnek veri olarak karşıya yükleme `CallStream` giriş.</span><span class="sxs-lookup"><span data-stu-id="f1e76-266">As an alternative, you can get a .json file that has sample data in it [from GitHub](https://github.com/Azure/azure-stream-analytics/blob/master/Sample%20Data/telco.json), and then upload that .json file toouse as sample data for hello `CallStream` input .</span></span> 

### <a name="test-using-a-pass-through-query"></a><span data-ttu-id="f1e76-267">Bir doğrudan geçirilen sorgu kullanmadan test edin</span><span class="sxs-lookup"><span data-stu-id="f1e76-267">Test using a pass-through query</span></span>

<span data-ttu-id="f1e76-268">Her olay tooarchive istiyorsanız, tüm hello alanları hello olayın hello yükte doğrudan sorgu tooread kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-268">If you want tooarchive every event, you can use a pass-through query tooread all hello fields in hello payload of hello event.</span></span>

1. <span data-ttu-id="f1e76-269">Merhaba sorgu penceresinde, bu sorguyu girin:</span><span class="sxs-lookup"><span data-stu-id="f1e76-269">In hello query window, enter this query:</span></span>

        SELECT 
            *
        FROM 
            CallStream

    >[!NOTE]
    ><span data-ttu-id="f1e76-270">İle SQL gibi anahtar sözcükler büyük küçük harfe duyarlı değildir ve boşluk önemli değildir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-270">As with SQL, keywords are not case sensitive, and whitespace is not significant.</span></span>

    <span data-ttu-id="f1e76-271">Bu sorguda `CallStream` olan hello alias hello giriş oluşturduğunuzda belirttiğiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-271">In this query, `CallStream` is hello alias that you specified when you created hello input.</span></span> <span data-ttu-id="f1e76-272">Farklı bir diğer ad kullandıysanız, bunun yerine bu adı kullanın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-272">If you used a different alias, use that name instead.</span></span>

2. <span data-ttu-id="f1e76-273">Tıklatın **Test**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-273">Click **Test**.</span></span>

    <span data-ttu-id="f1e76-274">Merhaba Stream Analytics işi hello örnek verileri karşı hello sorgusu çalıştırır ve hello çıktı hello penceresinin hello altında görüntüler.</span><span class="sxs-lookup"><span data-stu-id="f1e76-274">hello Stream Analytics job runs hello query against hello sample data and displays hello output at hello bottom of hello window.</span></span> <span data-ttu-id="f1e76-275">Bu hello olay hub'ı ve hello akış analizi işi düzgün yapılandırılmış olduğunu bildirir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-275">This tells you that hello event hub and hello Streaming Analytics job are configured correctly.</span></span> <span data-ttu-id="f1e76-276">(Belirtildiği gibi daha sonra çıkış havuzu bu hello oluşturacağınız veri için sorgu yazabilirsiniz.)</span><span class="sxs-lookup"><span data-stu-id="f1e76-276">(As noted, later you'll create an output sink that hello query can write data to.)</span></span>

    ![Stream Analytics işi çıkış, oluşturulan 73 kaydı gösteriliyor](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output.png)

    <span data-ttu-id="f1e76-278">Merhaba tam kayıt sayısı, gördüğünüz kaç kayıt 3 dakika örneğinizi yakalanan bağlı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-278">hello exact number of records you see will depend on how many records were captured in your 3-minute sample.</span></span>
 
### <a name="reduce-hello-number-of-fields-using-a-column-projection"></a><span data-ttu-id="f1e76-279">Bir sütun projeksiyonu kullanarak alanları Hello sayısını azaltın</span><span class="sxs-lookup"><span data-stu-id="f1e76-279">Reduce hello number of fields using a column projection</span></span>

<span data-ttu-id="f1e76-280">Çoğu durumda, çözümleme hello Giriş akışı tüm hello sütunlarından gerekmez.</span><span class="sxs-lookup"><span data-stu-id="f1e76-280">In many cases, your analysis doesn't need all hello columns from hello input stream.</span></span> <span data-ttu-id="f1e76-281">Daha küçük bir dizi alanları daha hello doğrudan sorgusunda döndürülen bir sorgu tooproject kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-281">You can use a query tooproject a smaller set of returned fields than in hello pass-through query.</span></span>

1. <span data-ttu-id="f1e76-282">Merhaba Kod Düzenleyicisi toohello aşağıdaki Hello sorguyu değiştirin:</span><span class="sxs-lookup"><span data-stu-id="f1e76-282">Change hello query in hello code editor toohello following:</span></span>

        SELECT CallRecTime, SwitchNum, CallingIMSI, CallingNum, CalledNum 
        FROM 
            CallStream

2. <span data-ttu-id="f1e76-283">Tıklatın **Test** yeniden.</span><span class="sxs-lookup"><span data-stu-id="f1e76-283">Click **Test** again.</span></span> 

    ![Stream Analytics işi çıkış oluşturulan 25 kayıtları gösteren projeksiyon için](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-projection.png)
 
### <a name="count-incoming-calls-by-region-tumbling-window-with-aggregation"></a><span data-ttu-id="f1e76-285">Count gelen bölgeye göre çağırır: atlayan pencere toplama ile</span><span class="sxs-lookup"><span data-stu-id="f1e76-285">Count incoming calls by region: Tumbling window with aggregation</span></span>

<span data-ttu-id="f1e76-286">Toocount hello gelen başına çağrı sayısı bölge istediğinizi varsayalım.</span><span class="sxs-lookup"><span data-stu-id="f1e76-286">Suppose you want toocount hello number of incoming calls per region.</span></span> <span data-ttu-id="f1e76-287">Sayımı gibi toplama işlevleri tooperform istediğinizde (Merhaba veri akışı kendisini etkili bir şekilde sonsuz olduğundan) akış veri toosegment hello akış zamana bağlı birimlerine ihtiyacınız var.</span><span class="sxs-lookup"><span data-stu-id="f1e76-287">In streaming data, when you want tooperform aggregate functions like counting, you need toosegment hello stream into temporal units (since hello data stream itself is effectively endless).</span></span> <span data-ttu-id="f1e76-288">Akış analizi kullanarak bunu [pencere işlevi](stream-analytics-window-functions.md).</span><span class="sxs-lookup"><span data-stu-id="f1e76-288">You do this using a Streaming Analytics [window function](stream-analytics-window-functions.md).</span></span> <span data-ttu-id="f1e76-289">Bir birim olarak söz konusu pencereyi içindeki hello verileri sonra çalışabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-289">You can then work with hello data inside that window as a unit.</span></span>

<span data-ttu-id="f1e76-290">Bu dönüştürme için bir dizi çakışmadığından zamana bağlı windows istediğiniz — her pencere, gruplandırabilirsiniz veri ve toplama ayrık kümesine sahip.</span><span class="sxs-lookup"><span data-stu-id="f1e76-290">For this transformation, you want a sequence of temporal windows that don't overlap—each window will have a discrete set of data that you can group and aggregate.</span></span> <span data-ttu-id="f1e76-291">Bu pencere başvurulan tooas türünde bir *atlayan pencere* .</span><span class="sxs-lookup"><span data-stu-id="f1e76-291">This type of window is referred tooas a *Tumbling window* .</span></span> <span data-ttu-id="f1e76-292">Merhaba atlayan pencere içinde göre gruplandırılmış hello gelen çağrıların sayısını alabilir `SwitchNum`, burada hello aramanın hello ülke temsil eder.</span><span class="sxs-lookup"><span data-stu-id="f1e76-292">Within hello Tumbling window, you can get a count of hello incoming calls grouped by `SwitchNum`, which represents hello country where hello call originated.</span></span> 

1. <span data-ttu-id="f1e76-293">Merhaba Kod Düzenleyicisi toohello aşağıdaki Hello sorguyu değiştirin:</span><span class="sxs-lookup"><span data-stu-id="f1e76-293">Change hello query in hello code editor toohello following:</span></span>

        SELECT 
            System.Timestamp as WindowEnd, SwitchNum, COUNT(*) as CallCount 
        FROM
            CallStream TIMESTAMP BY CallRecTime 
        GROUP BY TUMBLINGWINDOW(s, 5), SwitchNum

    <span data-ttu-id="f1e76-294">Bu sorgu hello kullanır `Timestamp By` hello anahtar sözcük `FROM` hello hangi zaman damgası alanında giriş akışı toouse toodefine hello atlayan pencere yan tümcesi toospecify.</span><span class="sxs-lookup"><span data-stu-id="f1e76-294">This query uses hello `Timestamp By` keyword in hello `FROM` clause toospecify which timestamp field in hello input stream toouse toodefine hello Tumbling window.</span></span> <span data-ttu-id="f1e76-295">Merhaba penceresinde hello veri kesimler halinde hello tarafından bu durumda, böler `CallRecTime` her bir kayıttaki alan.</span><span class="sxs-lookup"><span data-stu-id="f1e76-295">In this case, hello window divides hello data into segments by hello `CallRecTime` field in each record.</span></span> <span data-ttu-id="f1e76-296">(Hiçbir alan belirtilmezse, her olay hello olay hub'ına ulaştığında hello zaman hello Pencereleme işlemi kullanır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-296">(If no field is specified, hello windowing operation uses hello time that each event arrives at hello event hub.</span></span> <span data-ttu-id="f1e76-297">"Geliş saati Vs uygulama saati" bölümüne bakın [Stream Analytics sorgu dili başvurusu](https://msdn.microsoft.com/library/azure/dn834998.aspx).</span><span class="sxs-lookup"><span data-stu-id="f1e76-297">See "Arrival Time Vs Application Time" in [Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx).</span></span> 

    <span data-ttu-id="f1e76-298">Merhaba projeksiyon içeren `System.Timestamp`, her penceresinde hello sonunun zaman damgası döndürür.</span><span class="sxs-lookup"><span data-stu-id="f1e76-298">hello projection includes `System.Timestamp`, which returns a timestamp for hello end of each window.</span></span> 

    <span data-ttu-id="f1e76-299">toouse atlayan pencere istediğiniz toospecify kullandığınız hello [TUMBLINGWINDOW](https://msdn.microsoft.com/library/dn835055.aspx) hello işlevinde `GROUP BY `yan tümcesi.</span><span class="sxs-lookup"><span data-stu-id="f1e76-299">toospecify that you want toouse a Tumbling window, you use hello [TUMBLINGWINDOW](https://msdn.microsoft.com/library/dn835055.aspx) function in hello `GROUP BY `clause.</span></span> <span data-ttu-id="f1e76-300">Merhaba işlevinde bir zaman birimi (herhangi bir yere milisaniyeye tooa günde bir) ve pencere boyutunu (kaç birimleri) belirtin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-300">In hello function, you specify a time unit (anywhere from a microsecond tooa day) and a window size (how many units).</span></span> <span data-ttu-id="f1e76-301">Bu örnekte, nedenle ülkeye göre bir sayısı için her 5 saniyede eşitleyeceğini çağrılarının karşılaşırsınız hello atlayan pencere 5 saniyelik aralıklarına oluşur.</span><span class="sxs-lookup"><span data-stu-id="f1e76-301">In this example, hello Tumbling window consists of 5-second intervals, so you will get a count by country for every 5 seconds' worth of calls.</span></span>

2. <span data-ttu-id="f1e76-302">Tıklatın **Test** yeniden.</span><span class="sxs-lookup"><span data-stu-id="f1e76-302">Click **Test** again.</span></span> <span data-ttu-id="f1e76-303">Bu hello zaman damgaları altında Hello sonuçlarında fark **WindowEnd** 5 saniyelik artışlarla şunlardır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-303">In hello results, notice that hello timestamps under **WindowEnd** are in 5-second increments.</span></span>

    ![Stream Analytics işi çıkış oluşturulan 13 kayıtları gösteren toplama için](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-aggregation.png)
 
### <a name="detect-sim-fraud-using-a-self-join"></a><span data-ttu-id="f1e76-305">Kendi kendine birleşim kullanarak SIM sahtekarlık algılama</span><span class="sxs-lookup"><span data-stu-id="f1e76-305">Detect SIM fraud using a self-join</span></span>

<span data-ttu-id="f1e76-306">Bu örnekte, biz sahte kullanım hello aynı kaynaklanan toobe çağrıları düşünebilirsiniz kullanıcı ancak birbirleriyle 5 saniye içinde farklı konumlarda.</span><span class="sxs-lookup"><span data-stu-id="f1e76-306">For this example, we can consider fraudulent usage toobe calls that originate from hello same user but in different locations within 5 seconds of one another.</span></span> <span data-ttu-id="f1e76-307">Örneğin, hello aynı kullanıcı yasal çağrısından hello ABD ve Avustralya'da hello adresindeki yapamaz aynı anda.</span><span class="sxs-lookup"><span data-stu-id="f1e76-307">For example, hello same user can't legitimately make a call from hello US and Australia at hello same time.</span></span> 

<span data-ttu-id="f1e76-308">toocheck bu durumlarda, veri toojoin hello akış tooitself hello üzerinde temel akış hello kendi kendine birleşim kullanabileceğiniz `CallRecTime` değeri.</span><span class="sxs-lookup"><span data-stu-id="f1e76-308">toocheck for these cases, you can use a self-join of hello streaming data toojoin hello stream tooitself based on hello `CallRecTime` value.</span></span> <span data-ttu-id="f1e76-309">Çağrı hello burada kaydeder için sonra bakabilir `CallingIMSI` değeri (sayı kaynaklanan hello) aynı hello olduğu, ancak hello `SwitchNum` değeri (kaynağı ülke) olan değil hello aynı.</span><span class="sxs-lookup"><span data-stu-id="f1e76-309">You can then look for call records where hello `CallingIMSI` value (hello originating number) is hello same, but hello `SwitchNum` value (country of origin) is not hello same.</span></span>

<span data-ttu-id="f1e76-310">Veri akış ile bir birleşim kullandığınızda hello birleştirme satırları eşleşen ne kadar hello bazı sınırlamalar zamanında ayrılabilir sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-310">When you use a join with streaming data, hello join must provide some limits on how far hello matching rows can be separated in time.</span></span> <span data-ttu-id="f1e76-311">(Daha önce belirtildiği gibi veri akış hello etkili bir şekilde sınırsızdır.) Merhaba ilişki Hello zaman sınırları içinde hello belirtilen `ON` hello kullanarak hello JOIN yan tümcesinde `DATEDIFF` işlevi.</span><span class="sxs-lookup"><span data-stu-id="f1e76-311">(As noted earlier, hello streaming data is effectively endless.) hello time bounds for hello relationship are specified inside hello `ON` clause of hello join, using hello `DATEDIFF` function .</span></span> <span data-ttu-id="f1e76-312">Bu durumda, hello birleşim bir çağrı veri 5 saniye aralığını temel alır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-312">In this case, hello join is based on a 5-second interval of call data .</span></span>

1. <span data-ttu-id="f1e76-313">Merhaba Kod Düzenleyicisi toohello aşağıdaki Hello sorguyu değiştirin:</span><span class="sxs-lookup"><span data-stu-id="f1e76-313">Change hello query in hello code editor toohello following:</span></span> 

        SELECT  System.Timestamp as Time, 
            CS1.CallingIMSI, 
            CS1.CallingNum as CallingNum1, 
            CS2.CallingNum as CallingNum2, 
            CS1.SwitchNum as Switch1, 
            CS2.SwitchNum as Switch2 
        FROM CallStream CS1 TIMESTAMP BY CallRecTime 
            JOIN CallStream CS2 TIMESTAMP BY CallRecTime 
            ON CS1.CallingIMSI = CS2.CallingIMSI 
            AND DATEDIFF(ss, CS1, CS2) BETWEEN 1 AND 5 
        WHERE CS1.SwitchNum != CS2.SwitchNum

    <span data-ttu-id="f1e76-314">Bu sorgu hello dışında herhangi bir SQL birleşimin gibidir `DATEDIFF` hello birleştirme işlevi.</span><span class="sxs-lookup"><span data-stu-id="f1e76-314">This query is like any SQL join except for hello `DATEDIFF` function in hello join.</span></span> <span data-ttu-id="f1e76-315">Bu bir sürümüdür `DATEDIFF` belirli tooStreaming Analytics olan ve hello görünmelidir `ON...BETWEEN` yan tümcesi.</span><span class="sxs-lookup"><span data-stu-id="f1e76-315">This is a version of `DATEDIFF` that's specific tooStreaming Analytics, and it must appear in hello `ON...BETWEEN` clause.</span></span> <span data-ttu-id="f1e76-316">Merhaba zaman birimi (Bu örnekte saniye) ve hello diğer adlar hello iki kaynakları hello birleştirme için parametreleridir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-316">hello parameters are a time unit (seconds in this example) and hello aliases of hello two sources for hello join.</span></span> <span data-ttu-id="f1e76-317">(Bu farklıdır standart SQL hello `DATEDIFF` işlevi.)</span><span class="sxs-lookup"><span data-stu-id="f1e76-317">(This is different from hello standard SQL `DATEDIFF` function.)</span></span> 

    <span data-ttu-id="f1e76-318">Merhaba `WHERE` yan tümcesi içeren hello sahte çağrısı bayrakları hello koşul: hello kaynak anahtarları olan değil hello aynı.</span><span class="sxs-lookup"><span data-stu-id="f1e76-318">hello `WHERE` clause includes hello condition that flags hello fraudulent call: hello originating switches are not hello same.</span></span> 

2. <span data-ttu-id="f1e76-319">Tıklatın **Test** yeniden.</span><span class="sxs-lookup"><span data-stu-id="f1e76-319">Click **Test** again.</span></span> 

    ![Stream Analytics işi çıkış oluşturulan kendi kendine birleşim, gösterme 6 kayıtlar için](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-self-join.png)

3. <span data-ttu-id="f1e76-321">**Kaydet** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-321">Click **Save**.</span></span> <span data-ttu-id="f1e76-322">Bu hello kendi kendine birleşim sorgu hello akış analizi işi bir parçası olarak kaydeder.</span><span class="sxs-lookup"><span data-stu-id="f1e76-322">This saves hello self-join query as part of hello Streaming Analytics job.</span></span> <span data-ttu-id="f1e76-323">(Merhaba örnek verileri kaydetmez.)</span><span class="sxs-lookup"><span data-stu-id="f1e76-323">(It doesn't save hello sample data.)</span></span>

    ![Akış analizi işi Kaydet](./media/stream-analytics-real-time-fraud-detection/stream-analytics-query-editor-save-button-new-portal.png)

## <a name="create-an-output-sink-toostore-transformed-data"></a><span data-ttu-id="f1e76-325">Bir çıkış havuzu toostore dönüştürülmüş verileri oluşturma</span><span class="sxs-lookup"><span data-stu-id="f1e76-325">Create an output sink toostore transformed data</span></span>

<span data-ttu-id="f1e76-326">Bir olay akışı, bir olay hub'ı giriş tooingest olayları ve sorgu tooperform dönüştürme hello akış üzerinden tanımladığınız.</span><span class="sxs-lookup"><span data-stu-id="f1e76-326">You've defined an event stream, an event hub input tooingest events, and a query tooperform a transformation over hello stream.</span></span> <span data-ttu-id="f1e76-327">Merhaba son adımdır toodefine hello işi için çıkış havuzu — diğer bir deyişle, bir yere toowrite hello akışa dönüştürüldüğünde.</span><span class="sxs-lookup"><span data-stu-id="f1e76-327">hello last step is toodefine an output sink for hello job—that is, a place toowrite hello transformed stream to.</span></span> 

<span data-ttu-id="f1e76-328">Birçok kaynakları çıkış havuzlarını kullanabilirsiniz — bir SQL Server veritabanı, tablo depolama, Data Lake storage, Power BI ve hatta başka bir olay hub'ı.</span><span class="sxs-lookup"><span data-stu-id="f1e76-328">You can use many resources as output sinks—a SQL Server database, table storage, Data Lake storage, Power BI, and even another event hub.</span></span> <span data-ttu-id="f1e76-329">Bu öğretici için hello akış tooAzure yapılandırılmamış verileri düzenler beri sonraki çözümleme için olay bilgilerini toplamak için tipik bir seçimdir Blob Storage yazacaksınız.</span><span class="sxs-lookup"><span data-stu-id="f1e76-329">For this tutorial, you'll write hello stream tooAzure Blob Storage, which is a typical choice for collecting event information for later analysis, since it accommodates unstructured data .</span></span>

<span data-ttu-id="f1e76-330">Blob depolama hesabınız varsa, kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-330">If you have an existing blob storage account, you can use that.</span></span> <span data-ttu-id="f1e76-331">Bu öğretici için nasıl toocreate yeni bir depolama hesabı yalnızca Bu öğretici için göstereceğiz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-331">For this tutorial, we'll show you how toocreate a new storage account just for this tutorial.</span></span>

### <a name="create-an-azure-blob-storage-account"></a><span data-ttu-id="f1e76-332">Bir Azure Blob Storage hesabı oluşturma</span><span class="sxs-lookup"><span data-stu-id="f1e76-332">Create an Azure Blob Storage account</span></span>

1. <span data-ttu-id="f1e76-333">Hello Azure portal, toohello akış analizi işi dikey penceresine dönün.</span><span class="sxs-lookup"><span data-stu-id="f1e76-333">In hello Azure portal, return toohello Streaming Analytics job blade.</span></span> <span data-ttu-id="f1e76-334">(Merhaba dikey kapattıysanız, arama `sa_frauddetection_job_demo` hello içinde **tüm kaynakları** dikey.)</span><span class="sxs-lookup"><span data-stu-id="f1e76-334">(If you closed hello blade, search for `sa_frauddetection_job_demo` in hello **All resources** blade.)</span></span>
2. <span data-ttu-id="f1e76-335">Merhaba, **iş topoloji** bölümünde, hello tıklatın **çıkış** kutusu.</span><span class="sxs-lookup"><span data-stu-id="f1e76-335">In hello **Job Topology** section, click hello **Output** box.</span></span> 
3. <span data-ttu-id="f1e76-336">Merhaba, **çıkışları** dikey penceresinde tıklatın  **+ &nbsp;Ekle** ve ardından hello dikey şu değerlerle doldurun:</span><span class="sxs-lookup"><span data-stu-id="f1e76-336">In hello **Outputs** blade, click **+&nbsp;Add** and then fill out hello blade with these values:</span></span>

    * <span data-ttu-id="f1e76-337">**Çıkış diğer adları**: hello adını kullan `CallStream-FraudulentCalls`.</span><span class="sxs-lookup"><span data-stu-id="f1e76-337">**Output alias**: Use hello name `CallStream-FraudulentCalls`.</span></span> 
    * <span data-ttu-id="f1e76-338">**Havuz**: seçin **Blob storage**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-338">**Sink**: Select **Blob storage**.</span></span>
    * <span data-ttu-id="f1e76-339">**İçe aktarma seçenekleri**: seçin **blob storage'ı geçerli aboneliğe ilişkin kullanma**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-339">**Import options**: Select **Use blob storage from current subscription**.</span></span>
    * <span data-ttu-id="f1e76-340">**Depolama hesabı**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-340">**Storage account**.</span></span> <span data-ttu-id="f1e76-341">Seçin **yeni depolama hesabı oluşturun.**</span><span class="sxs-lookup"><span data-stu-id="f1e76-341">Select **Create new storage account.**</span></span>
    * <span data-ttu-id="f1e76-342">**Depolama hesabı** (ikinci kutusu).</span><span class="sxs-lookup"><span data-stu-id="f1e76-342">**Storage account** (second box).</span></span> <span data-ttu-id="f1e76-343">Girin `YOURNAMEsademo`, burada `YOURNAME` adınızı veya başka bir benzersiz bir dize.</span><span class="sxs-lookup"><span data-stu-id="f1e76-343">Enter `YOURNAMEsademo`, where `YOURNAME` is your name or another unique string.</span></span> <span data-ttu-id="f1e76-344">Merhaba adı yalnızca küçük harfler ve sayılar kullanabilirsiniz ve Azure arasında benzersiz olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-344">hello name can use only lowercase letters and numbers, and it must be unique across Azure.</span></span> 
    * <span data-ttu-id="f1e76-345">**Kapsayıcı**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-345">**Container**.</span></span> <span data-ttu-id="f1e76-346">Girin `sa-fraudulentcalls-demo`.</span><span class="sxs-lookup"><span data-stu-id="f1e76-346">Enter `sa-fraudulentcalls-demo`.</span></span>
    <span data-ttu-id="f1e76-347">Merhaba depolama hesabı adı ve kapsayıcı adı kullanılan birlikte tooprovide bu gibi hello blob depolama için bir URI şunlardır:</span><span class="sxs-lookup"><span data-stu-id="f1e76-347">hello storage account name and container name are used together tooprovide a URI for hello blob storage, like this:</span></span> 

    `http://yournamesademo.blob.core.windows.net/sa-fraudulentcalls-demo/...`
    
    ![Stream Analytics işi için "Yeni çıkış" dikey](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-output-blob-storage-new-console.png)
    
4. <span data-ttu-id="f1e76-349">**Oluştur**'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-349">Click **Create**.</span></span> 

    <span data-ttu-id="f1e76-350">Azure hello depolama hesabı oluşturur ve bir anahtarı otomatik olarak oluşturur.</span><span class="sxs-lookup"><span data-stu-id="f1e76-350">Azure creates hello storage account and generates a key automatically.</span></span> 

5. <span data-ttu-id="f1e76-351">Kapat hello **çıkışları** dikey.</span><span class="sxs-lookup"><span data-stu-id="f1e76-351">Close hello **Outputs** blade.</span></span> 

## <a name="start-hello-streaming-analytics-job"></a><span data-ttu-id="f1e76-352">Merhaba akış analizi işi Başlat</span><span class="sxs-lookup"><span data-stu-id="f1e76-352">Start hello Streaming Analytics job</span></span>

<span data-ttu-id="f1e76-353">Merhaba iş artık yapılandırılmıştır.</span><span class="sxs-lookup"><span data-stu-id="f1e76-353">hello job is now configured.</span></span> <span data-ttu-id="f1e76-354">Bir giriş (Merhaba olay hub), bir dönüştürme (Merhaba sorgu toolook sahte aramalar için) ve bir çıkış (blob depolama) belirlediniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-354">You've specified an input (hello event hub), a transformation (hello query toolook for fraudulent calls), and an output (blob storage).</span></span> <span data-ttu-id="f1e76-355">Şimdi hello işi başlatabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-355">You can now start hello job.</span></span> 

1. <span data-ttu-id="f1e76-356">Merhaba TelcoGenerator uygulama çalıştığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="f1e76-356">Make sure hello TelcoGenerator app is running.</span></span>

2. <span data-ttu-id="f1e76-357">Merhaba iş dikey penceresinde tıklayın **Başlat**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-357">In hello job blade, click **Start**.</span></span>

    ![Merhaba Stream Analytics işi Başlat](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-start-output.png)

3. <span data-ttu-id="f1e76-359">Merhaba, **başlangıç işi** dikey penceresinde, iş çıktısı başlangıç saati, select **şimdi**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-359">In hello **Start job** blade, for Job output start time, select **Now**.</span></span> 

4. <span data-ttu-id="f1e76-360">Tıklatın **Başlat**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-360">Click **Start**.</span></span> 

    ![Dikey penceresinde hello Stream Analytics işi "işlemini Başlat"](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-start-job-blade.png)

    <span data-ttu-id="f1e76-362">Azure sizi uyarır hello iş başlatıldı ve hello iş dikey penceresinde hello durumu olarak görüntülendiğinde **çalıştıran**.</span><span class="sxs-lookup"><span data-stu-id="f1e76-362">Azure notifies you when hello job has started, and in hello job blade, hello status is displayed as **Running**.</span></span>

    ![Stream Analytics iş durumu, "Çalışır" gösterme](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-running-status.png)
    

## <a name="examine-hello-transformed-data"></a><span data-ttu-id="f1e76-364">Dönüştürülen hello veri inceleyin</span><span class="sxs-lookup"><span data-stu-id="f1e76-364">Examine hello transformed data</span></span>

<span data-ttu-id="f1e76-365">Artık tam bir akış analizi işi var.</span><span class="sxs-lookup"><span data-stu-id="f1e76-365">You now have a complete Streaming Analytics job.</span></span> <span data-ttu-id="f1e76-366">Hello iş telefon araması meta veri akışı inceleyerek, gerçek zamanlı sahte telefon aramaları için arama ve bu sahte çağrıları toostorage hakkında bilgi yazma.</span><span class="sxs-lookup"><span data-stu-id="f1e76-366">hello job is examining a stream of phone call metadata, looking for fraudulent phone calls in real time, and writing information about those fraudulent calls toostorage.</span></span> 

<span data-ttu-id="f1e76-367">toocomplete Bu öğretici, hello akış analizi işi tarafından yakalanan hello veri toolook isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-367">toocomplete this tutorial, you might want toolook at hello data being captured by hello Streaming Analytics job.</span></span> <span data-ttu-id="f1e76-368">Merhaba veri tooAzure Blog depolama öbekleri (dosyaları) yazılmakta.</span><span class="sxs-lookup"><span data-stu-id="f1e76-368">hello data is being written tooAzure Blog Storage in chunks (files).</span></span> <span data-ttu-id="f1e76-369">Azure Blob Storage okuyan herhangi bir aracı kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-369">You can use any tool that reads Azure Blob Storage.</span></span> <span data-ttu-id="f1e76-370">Merhaba önkoşullar bölümünde belirtildiği gibi Visual Studio'da Azure uzantıları kullanabilir veya gibi bir araç kullanabilirsiniz [Azure Storage Gezgini](http://storageexplorer.com/) veya [Azure Gezgini](http://www.cerebrata.com/products/azure-explorer/introduction).</span><span class="sxs-lookup"><span data-stu-id="f1e76-370">As noted in hello Prerequisites section, you can use Azure extensions in Visual Studio, or you can use a tool like [Azure Storage Explorer](http://storageexplorer.com/) or [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span></span> 

<span data-ttu-id="f1e76-371">Blob depolama birimindeki bir dosyanın içeriğini hello incelediğinizde, hello aşağıdaki gibi bir şey görürsünüz:</span><span class="sxs-lookup"><span data-stu-id="f1e76-371">When you examine hello contents of a file in blob storage, you see something like hello following :</span></span>

![Akış analizi çıktı ile Azure blob storage](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-blob-storage-view.png)
 

## <a name="clean-up-resources"></a><span data-ttu-id="f1e76-373">Kaynakları temizleme</span><span class="sxs-lookup"><span data-stu-id="f1e76-373">Clean up resources</span></span>

<span data-ttu-id="f1e76-374">Merhaba sahtekarlık algılama senaryoyla devam etmek ve Bu öğreticide oluşturduğunuz hello kaynakları kullanan diğer makaleler sahibiz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-374">We have additional articles that continue with hello fraud-detection scenario and that use hello resources that you've created in this tutorial.</span></span> <span data-ttu-id="f1e76-375">Merhaba önerileri altında toocontinue istiyorsanız bkz **sonraki adımlar** daha sonra.</span><span class="sxs-lookup"><span data-stu-id="f1e76-375">If you want toocontinue, see hello suggestions under **Next steps** later.</span></span>

<span data-ttu-id="f1e76-376">Böylece gereksiz Azure ücrete tabi yoktur ancak, işiniz bittiğinde ve sizin oluşturduğunuz hello kaynakları gerekmiyorsa bunları silebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1e76-376">However, if you're done and you don't need hello resources you've created, you can delete them so that you don't incur unnecessary Azure charges.</span></span> <span data-ttu-id="f1e76-377">Bu durumda, aşağıdaki hello öneririz:</span><span class="sxs-lookup"><span data-stu-id="f1e76-377">In that case, we suggest that you do hello following:</span></span>

1. <span data-ttu-id="f1e76-378">Merhaba akış analizi işi durdurun.</span><span class="sxs-lookup"><span data-stu-id="f1e76-378">Stop hello Streaming Analytics job.</span></span> <span data-ttu-id="f1e76-379">Merhaba, **işleri** dikey penceresinde tıklatın **durdurmak** hello üstünde.</span><span class="sxs-lookup"><span data-stu-id="f1e76-379">In hello **Jobs** blade, click **Stop** at hello top.</span></span>
2. <span data-ttu-id="f1e76-380">Merhaba Telco Oluşturucu uygulamayı durdurun.</span><span class="sxs-lookup"><span data-stu-id="f1e76-380">Stop hello Telco Generator app.</span></span> <span data-ttu-id="f1e76-381">Merhaba uygulama başlatıldığı hello komut penceresinde Ctrl + C tuşlarına basın.</span><span class="sxs-lookup"><span data-stu-id="f1e76-381">In hello command window where you started hello app, press Ctrl+C.</span></span>
3. <span data-ttu-id="f1e76-382">Bu öğretici için yeni bir blob depolama hesabı oluşturduysanız, onu silin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-382">If you created a new blob storage account just for this tutorial, delete it.</span></span> 
4. <span data-ttu-id="f1e76-383">Merhaba akış analizi işi silin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-383">Delete hello Streaming Analytics job.</span></span>
5. <span data-ttu-id="f1e76-384">Merhaba olay hub'ı silin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-384">Delete hello event hub.</span></span>
6. <span data-ttu-id="f1e76-385">Merhaba olay hub'ı ad alanını silin.</span><span class="sxs-lookup"><span data-stu-id="f1e76-385">Delete hello event hub namespace.</span></span>

## <a name="get-support"></a><span data-ttu-id="f1e76-386">Destek alın</span><span class="sxs-lookup"><span data-stu-id="f1e76-386">Get support</span></span>

<span data-ttu-id="f1e76-387">Daha fazla yardım için deneyin bizim [Azure Stream Analytics forumumuzu](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span><span class="sxs-lookup"><span data-stu-id="f1e76-387">For further assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="f1e76-388">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="f1e76-388">Next steps</span></span>

<span data-ttu-id="f1e76-389">Bu öğretici makaleler hello ile devam edebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="f1e76-389">You can continue this tutorial with hello following articles:</span></span>

* <span data-ttu-id="f1e76-390">[Analizler ve Power BI akış: veri akışı için gerçek zamanlı analiz Pano](stream-analytics-power-bi-dashboard.md).</span><span class="sxs-lookup"><span data-stu-id="f1e76-390">[Stream Analytics and Power BI: A real-time analytics dashboard for streaming data](stream-analytics-power-bi-dashboard.md).</span></span> <span data-ttu-id="f1e76-391">Bu makalede nasıl toosend hello TelCo çıktısını hello Stream Analytics işi gerçek zamanlı Görselleştirme ve analiz için BI tooPower gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-391">This article shows you how toosend hello TelCo output of hello Stream Analytics job tooPower BI for real-time visualization and analysis.</span></span>
* <span data-ttu-id="f1e76-392">[Nasıl bir Azure Redis Azure işlevleri kullanarak önbelleğinde Azure akış analizi toostore verileri](stream-analytics-functions-redis.md).</span><span class="sxs-lookup"><span data-stu-id="f1e76-392">[How toostore data from Azure Stream Analytics in an Azure Redis Cache using Azure Functions](stream-analytics-functions-redis.md).</span></span> <span data-ttu-id="f1e76-393">Bu makalede nasıl toouse Azure işlevleri toowrite sahte tooan Azure Redis önbelleği Service Bus kuyruğuna aracılığıyla çağırır gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="f1e76-393">This article shows how toouse Azure Functions toowrite fraudulent calls tooan Azure Redis cache via a Service Bus queue.</span></span>

<span data-ttu-id="f1e76-394">Stream Analytics hakkında daha fazla bilgi için genel olarak, bu makaleler deneyin:</span><span class="sxs-lookup"><span data-stu-id="f1e76-394">For more information about Stream Analytics in general, try these articles:</span></span>

* [<span data-ttu-id="f1e76-395">Giriş tooAzure akış analizi</span><span class="sxs-lookup"><span data-stu-id="f1e76-395">Introduction tooAzure Stream Analytics</span></span>](stream-analytics-introduction.md)
* [<span data-ttu-id="f1e76-396">Azure Akış Analizi işlerini ölçeklendirme</span><span class="sxs-lookup"><span data-stu-id="f1e76-396">Scale Azure Stream Analytics jobs</span></span>](stream-analytics-scale-jobs.md)
* [<span data-ttu-id="f1e76-397">Azure Akış Analizi Sorgu Dili Başvurusu</span><span class="sxs-lookup"><span data-stu-id="f1e76-397">Azure Stream Analytics Query Language Reference</span></span>](https://msdn.microsoft.com/library/azure/dn834998.aspx)
* [<span data-ttu-id="f1e76-398">Azure Akış Analizi Yönetimi REST API'si Başvurusu</span><span class="sxs-lookup"><span data-stu-id="f1e76-398">Azure Stream Analytics Management REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)
