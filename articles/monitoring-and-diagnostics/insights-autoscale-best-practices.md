---
title: "otomatik ölçeklendirme için aaaBest uygulamaları | Microsoft Docs"
description: "Azure Web uygulamaları, sanal makine ölçek kümeleri ve bulut Hizmetleri için otomatik ölçeklendirme düzenleri"
author: anirudhcavale
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 9fa2b94b-dfa5-4106-96ff-74fd1fba4657
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/07/2017
ms.author: ancav
ms.openlocfilehash: eb731c15e440af93a2675210583878814d0d8818
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-for-autoscale"></a><span data-ttu-id="93c4c-103">Otomatik ölçeklendirme için en iyi uygulamalar</span><span class="sxs-lookup"><span data-stu-id="93c4c-103">Best practices for Autoscale</span></span>
<span data-ttu-id="93c4c-104">Bu makalede, azure'da en iyi yöntemler tooautoscale öğretir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-104">This article teaches best practices tooautoscale in Azure.</span></span> <span data-ttu-id="93c4c-105">Azure İzleyici otomatik ölçeklendirme uygular yalnızca çok[sanal makine ölçek kümeleri](https://azure.microsoft.com/services/virtual-machine-scale-sets/), [bulut Hizmetleri](https://azure.microsoft.com/services/cloud-services/), ve [uygulama hizmeti - Web Apps](https://azure.microsoft.com/services/app-service/web/).</span><span class="sxs-lookup"><span data-stu-id="93c4c-105">Azure Monitor autoscale applies only too[Virtual Machine Scale Sets](https://azure.microsoft.com/services/virtual-machine-scale-sets/), [Cloud Services](https://azure.microsoft.com/services/cloud-services/), and [App Service - Web Apps](https://azure.microsoft.com/services/app-service/web/).</span></span> <span data-ttu-id="93c4c-106">Diğer Azure hizmetleriyle farklı ölçekleme yöntemlerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="93c4c-106">Other Azure services use different scaling methods.</span></span>

## <a name="autoscale-concepts"></a><span data-ttu-id="93c4c-107">Otomatik ölçeklendirme kavramları</span><span class="sxs-lookup"><span data-stu-id="93c4c-107">Autoscale concepts</span></span>
* <span data-ttu-id="93c4c-108">Bir kaynak yalnızca olabilir *bir* otomatik ölçeklendirme ayarı</span><span class="sxs-lookup"><span data-stu-id="93c4c-108">A resource can have only *one* autoscale setting</span></span>
* <span data-ttu-id="93c4c-109">Otomatik ölçeklendirme ayarına sahip olabilir veya daha fazla profilleri ve her bir profili bir veya daha fazla otomatik ölçeklendirme kurallarını sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93c4c-109">An autoscale setting can have one or more profiles and each profile can have one or more autoscale rules.</span></span>
* <span data-ttu-id="93c4c-110">Otomatik ölçeklendirme ayarı olduğu örnekleri yatay olarak ölçeklendirir. *çıkışı* hello örnekleri artırarak ve *içinde* hello örneklerinin sayısını azaltarak tarafından.</span><span class="sxs-lookup"><span data-stu-id="93c4c-110">An autoscale setting scales instances horizontally, which is *out* by increasing hello instances and *in* by decreasing hello number of instances.</span></span>
  <span data-ttu-id="93c4c-111">Otomatik ölçeklendirme ayarı, maksimum, minimum ve varsayılan değer örneklerinin sahiptir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-111">An autoscale setting has a maximum, minimum, and default value of instances.</span></span>
* <span data-ttu-id="93c4c-112">Otomatik ölçeklendirme iş her zaman genişleme veya ölçek bileşenini için yapılandırılan eşiği hello taşını hello ölçüm tooscale denetleyerek, ilişkili okur.</span><span class="sxs-lookup"><span data-stu-id="93c4c-112">An autoscale job always reads hello associated metric tooscale by, checking if it has crossed hello configured threshold for scale-out or scale-in.</span></span> <span data-ttu-id="93c4c-113">Listesini görüntüleyebileceğiniz ölçümlerini, otomatik ölçeklendirme tarafından adresindeki ölçeklendirebilirsiniz [Azure İzleyici otomatik ölçeklendirmeyi ortak ölçümleri](insights-autoscale-common-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="93c4c-113">You can view a list of metrics that autoscale can scale by at [Azure Monitor autoscaling common metrics](insights-autoscale-common-metrics.md).</span></span>
* <span data-ttu-id="93c4c-114">Tüm eşikler bir örnek düzeyinde hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-114">All thresholds are calculated at an instance level.</span></span> <span data-ttu-id="93c4c-115">Örneğin, "ölçek dışarı 1 örneği tarafından ne zaman ortalama CPU > % 80'e örnek sayısı 2 olduğunda", tüm örneklerde hello ortalama CPU % 80 ' büyük olduğunda genişleme anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-115">For example, "scale out by 1 instance when average CPU > 80% when instance count is 2", means scale-out when hello average CPU across all instances is greater than 80%.</span></span>
* <span data-ttu-id="93c4c-116">Her zaman e-posta yoluyla bildirimleri hatası alırsınız.</span><span class="sxs-lookup"><span data-stu-id="93c4c-116">You always receive failure notifications via email.</span></span> <span data-ttu-id="93c4c-117">Özellikle, hello sahibi, Katkıda Bulunanlar ve okuyucular hello hedef kaynağın e-posta alırsınız.</span><span class="sxs-lookup"><span data-stu-id="93c4c-117">Specifically, hello owner, contributor, and readers of hello target resource receive email.</span></span> <span data-ttu-id="93c4c-118">Ayrıca her zaman aldığınız bir *kurtarma* otomatik ölçeklendirme bir hatadan kurtarır ve düzgün çalışan başladığında e-posta.</span><span class="sxs-lookup"><span data-stu-id="93c4c-118">You also always receive a *recovery* email when autoscale recovers from a failure and starts functioning normally.</span></span>
* <span data-ttu-id="93c4c-119">Katılımı tooreceive e-posta ve Web kancalarını başarılı ölçek eylemi bildirim.</span><span class="sxs-lookup"><span data-stu-id="93c4c-119">You can opt-in tooreceive a successful scale action notification via email and webhooks.</span></span>

## <a name="autoscale-best-practices"></a><span data-ttu-id="93c4c-120">Otomatik ölçeklendirme en iyi uygulamalar</span><span class="sxs-lookup"><span data-stu-id="93c4c-120">Autoscale best practices</span></span>
<span data-ttu-id="93c4c-121">Otomatik ölçeklendirme kullanırken en iyi uygulamaları izleyerek hello kullanın.</span><span class="sxs-lookup"><span data-stu-id="93c4c-121">Use hello following best practices as you use autoscale.</span></span>

### <a name="ensure-hello-maximum-and-minimum-values-are-different-and-have-an-adequate-margin-between-them"></a><span data-ttu-id="93c4c-122">Merhaba maksimum ve minimum değerler farklıdır ve bunlar arasında yeterli bir kenar boşluğu sahip emin olun</span><span class="sxs-lookup"><span data-stu-id="93c4c-122">Ensure hello maximum and minimum values are different and have an adequate margin between them</span></span>
<span data-ttu-id="93c4c-123">En az olan bir ayarı varsa = 2, en fazla 2 = ve hello geçerli örnek sayısı, 2, herhangi bir ölçek eylemi oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-123">If you have a setting that has minimum=2, maximum=2 and hello current instance count is 2, no scale action can occur.</span></span> <span data-ttu-id="93c4c-124">Kapsayıcı hello maksimum ve minimum örnek sayısı arasında yeterli bir kenar boşluğu tutun.</span><span class="sxs-lookup"><span data-stu-id="93c4c-124">Keep an adequate margin between hello maximum and minimum instance counts, which are inclusive.</span></span> <span data-ttu-id="93c4c-125">Otomatik ölçeklendirme, her zaman bu sınırlar arasında ölçeklendirir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-125">Autoscale always scales between these limits.</span></span>

### <a name="manual-scaling-is-reset-by-autoscale-min-and-max"></a><span data-ttu-id="93c4c-126">Otomatik ölçeklendirme min ve max tarafından el ile ölçeklendirme sıfırlanır</span><span class="sxs-lookup"><span data-stu-id="93c4c-126">Manual scaling is reset by autoscale min and max</span></span>
<span data-ttu-id="93c4c-127">El ile Merhaba örneği sayısı tooa değerini yukarıdaki güncelleştirme veya hello en otomatik ölçeklendirme altyapısı otomatik olarak hello geri toohello minimum (üstündeyse) veya hello maksimum (yüksekse) ölçeklendirir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-127">If you manually update hello instance count tooa value above or below hello maximum, hello autoscale engine automatically scales back toohello minimum (if below) or hello maximum (if above).</span></span> <span data-ttu-id="93c4c-128">Örneğin, 3 ile 6 arasında hello aralığı ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="93c4c-128">For example, you set hello range between 3 and 6.</span></span> <span data-ttu-id="93c4c-129">Bir çalışan örneği varsa, hello otomatik ölçeklendirme altyapısı too3 örnekleri sonraki çalıştırılmasında ölçeklendirir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-129">If you have one running instance, hello autoscale engine scales too3 instances on its next run.</span></span> <span data-ttu-id="93c4c-130">Benzer şekilde, bu ölçek bileşenini 8 örnekleri sonraki çalıştırılmasında too6 yedekleyin.</span><span class="sxs-lookup"><span data-stu-id="93c4c-130">Likewise, it would scale-in 8 instances back too6 on its next run.</span></span>  <span data-ttu-id="93c4c-131">Merhaba otomatik ölçeklendirme kurallarını da sıfırlama sürece, el ile ölçeklendirme çok geçicidir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-131">Manual scaling is very temporary unless you reset hello autoscale rules as well.</span></span>

### <a name="always-use-a-scale-out-and-scale-in-rule-combination-that-performs-an-increase-and-decrease"></a><span data-ttu-id="93c4c-132">Her zaman bir artırma ve azaltma yapan bir genişleme ve ölçek bileşenini kural bileşimi kullanın</span><span class="sxs-lookup"><span data-stu-id="93c4c-132">Always use a scale-out and scale-in rule combination that performs an increase and decrease</span></span>
<span data-ttu-id="93c4c-133">Otomatik ölçeklendirme ölçek hello maksimum veya minimum değer, kadar tek çıkışı veya, bileşeni yalnızca bir bölümü hello birleşimi kullanırsanız, ulaşıldı.</span><span class="sxs-lookup"><span data-stu-id="93c4c-133">If you use only one part of hello combination, autoscale scale-in that single out, or in, until hello maximum, or minimum, is reached.</span></span>

### <a name="do-not-switch-between-hello-azure-portal-and-hello-azure-classic-portal-when-managing-autoscale"></a><span data-ttu-id="93c4c-134">Hello Azure portal ile Merhaba Klasik Azure portalı arasında otomatik ölçeklendirme yönetirken geçme</span><span class="sxs-lookup"><span data-stu-id="93c4c-134">Do not switch between hello Azure portal and hello Azure classic portal when managing Autoscale</span></span>
<span data-ttu-id="93c4c-135">Bulut Hizmetleri ve uygulama Hizmetleri (Web uygulamaları), hello Azure portal (portal.azure.com) toocreate kullanın ve otomatik ölçeklendirme ayarlarını yönetin.</span><span class="sxs-lookup"><span data-stu-id="93c4c-135">For Cloud Services and App Services (Web Apps), use hello Azure portal (portal.azure.com) toocreate and manage autoscale settings.</span></span> <span data-ttu-id="93c4c-136">Otomatik ölçeklendirme ayarı yönetmek ve sanal makine ölçek kümeleri için PowerShell'i, CLI veya REST API'yi toocreate kullanın.</span><span class="sxs-lookup"><span data-stu-id="93c4c-136">For Virtual Machine Scale Sets use PowerShell, CLI or REST API toocreate and manage autoscale setting.</span></span> <span data-ttu-id="93c4c-137">Merhaba Klasik Azure portalı (manage.windowsazure.com) arasında hello Azure portal (portal.azure.com) otomatik ölçeklendirme yapılandırmaları yönetirken geçiş değil.</span><span class="sxs-lookup"><span data-stu-id="93c4c-137">Do not switch between hello Azure classic portal (manage.windowsazure.com) and hello Azure portal (portal.azure.com) when managing autoscale configurations.</span></span> <span data-ttu-id="93c4c-138">Klasik Azure portalı hello ve sınırlamaları, temel alınan arka uç vardır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-138">hello Azure classic portal and its underlying backend has limitations.</span></span> <span data-ttu-id="93c4c-139">Bir grafik kullanıcı arabirimini kullanarak toohello Azure portal toomanage otomatik ölçeklendirme taşıyın.</span><span class="sxs-lookup"><span data-stu-id="93c4c-139">Move toohello Azure portal toomanage autoscale using a graphical user interface.</span></span> <span data-ttu-id="93c4c-140">Merhaba, toouse hello otomatik ölçeklendirme PowerShell'i, CLI veya REST API (üzerinden Azure kaynak Gezgini) seçeneklerdir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-140">hello options are toouse hello autoscale PowerShell, CLI or REST API (via Azure Resource Explorer).</span></span>

### <a name="choose-hello-appropriate-statistic-for-your-diagnostics-metric"></a><span data-ttu-id="93c4c-141">Tanılama ölçümü için uygun istatistiği Hello seçin</span><span class="sxs-lookup"><span data-stu-id="93c4c-141">Choose hello appropriate statistic for your diagnostics metric</span></span>
<span data-ttu-id="93c4c-142">Tanılama ölçümleri arasından seçim yapabilirsiniz *ortalama*, *Minimum*, *maksimum* ve *toplam* ölçüm tooscale tarafından olarak.</span><span class="sxs-lookup"><span data-stu-id="93c4c-142">For diagnostics metrics, you can choose among *Average*, *Minimum*, *Maximum* and *Total* as a metric tooscale by.</span></span> <span data-ttu-id="93c4c-143">Merhaba en yaygın istatistik *ortalama*.</span><span class="sxs-lookup"><span data-stu-id="93c4c-143">hello most common statistic is *Average*.</span></span>

### <a name="choose-hello-thresholds-carefully-for-all-metric-types"></a><span data-ttu-id="93c4c-144">Merhaba eşikleri tüm ölçüm türleri için dikkatle seçin</span><span class="sxs-lookup"><span data-stu-id="93c4c-144">Choose hello thresholds carefully for all metric types</span></span>
<span data-ttu-id="93c4c-145">Dikkatli bir şekilde genişleme ve ölçek-üzerinde pratik durumlarda bağlı olarak farklı eşikler seçme öneririz.</span><span class="sxs-lookup"><span data-stu-id="93c4c-145">We recommend carefully choosing different thresholds for scale-out and scale-in based on practical situations.</span></span>

<span data-ttu-id="93c4c-146">Biz *değil önerilir* hello örnekleriyle gibi otomatik ölçeklendirme ayarları hello out ve koşullar için aynı ya da çok benzer eşik değerleri:</span><span class="sxs-lookup"><span data-stu-id="93c4c-146">We *do not recommend* autoscale settings like hello examples below with hello same or very similar threshold values for out and in conditions:</span></span>

* <span data-ttu-id="93c4c-147">Örnek 1 artırmasını ne zaman saymak iş parçacığı sayısı < = 600</span><span class="sxs-lookup"><span data-stu-id="93c4c-147">Increase instances by 1 count when Thread Count <= 600</span></span>
* <span data-ttu-id="93c4c-148">1 ile örnekleri azaltmak ne zaman saymak iş parçacığı sayısı > = 600</span><span class="sxs-lookup"><span data-stu-id="93c4c-148">Decrease instances by 1 count when Thread Count >= 600</span></span>

<span data-ttu-id="93c4c-149">Karmaşık görünebilir tooa davranışa neden olabilir, bir örneğe bakalım.</span><span class="sxs-lookup"><span data-stu-id="93c4c-149">Let's look at an example of what can lead tooa behavior that may seem confusing.</span></span> <span data-ttu-id="93c4c-150">Sıra aşağıdaki hello göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="93c4c-150">Consider hello following sequence.</span></span>

1. <span data-ttu-id="93c4c-151">İle 2 örnekleri toobegin vardır ve ardından hello ortalama örnek başına iş parçacığı sayısı too625 büyütmeleri varsayalım.</span><span class="sxs-lookup"><span data-stu-id="93c4c-151">Assume there are 2 instances toobegin with and then hello average number of threads per instance grows too625.</span></span>
2. <span data-ttu-id="93c4c-152">Otomatik ölçeklendirme 3 örneğini eklemede çıkışı ölçeklendirir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-152">Autoscale scales out adding a 3rd instance.</span></span>
3. <span data-ttu-id="93c4c-153">Ardından, hello ortalama iş parçacığı sayısı örneği arasında too575 düştüğünü varsayalım.</span><span class="sxs-lookup"><span data-stu-id="93c4c-153">Next, assume that hello average thread count across instance falls too575.</span></span>
4. <span data-ttu-id="93c4c-154">Ölçeklendirme önce hangi hello son durum içinde ölçeklendirilmiş durumunda olacaktır otomatik ölçeklendirme tooestimate çalışır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-154">Before scaling down, autoscale tries tooestimate what hello final state will be if it scaled in.</span></span> <span data-ttu-id="93c4c-155">Örneğin, 575 x 3 (geçerli örnek sayısı) 1,725 = / 2 (ölçeklendirilmiş durumlarda son sayısı) 862.5 iş parçacığı =.</span><span class="sxs-lookup"><span data-stu-id="93c4c-155">For example, 575 x  3 (current instance count) = 1,725 / 2 (final number of instances when scaled down) = 862.5 threads.</span></span> <span data-ttu-id="93c4c-156">Bu bile, ölçeği sonra hello ortalama iş parçacığı sayısı kalır hello aynı ve hatta yalnızca küçük bir miktar düşerse otomatik ölçeklendirme tooimmediately genişleme yeniden olurdu anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-156">This means autoscale would have tooimmediately scale-out again even after it scaled in, if hello average thread count remains hello same or even falls only a small amount.</span></span> <span data-ttu-id="93c4c-157">Ancak, bunu yeniden hello tüm işlemi yinelemeniz, Yukarı ölçeklendirilemez varsa tooan sonsuz döngü baştaki.</span><span class="sxs-lookup"><span data-stu-id="93c4c-157">However, if it scaled up again, hello whole process would repeat, leading tooan infinite loop.</span></span>
5. <span data-ttu-id="93c4c-158">tooavoid ("flapping" olarak adlandırılır) bu durum olan, otomatik ölçeklendirme hiç ölçeklenmez.</span><span class="sxs-lookup"><span data-stu-id="93c4c-158">tooavoid this situation (termed "flapping"), autoscale does not scale down at all.</span></span> <span data-ttu-id="93c4c-159">Bunun yerine, atlar ve reevaluates yeniden hello koşul hello sonraki zaman hello hizmetin iş yürütür.</span><span class="sxs-lookup"><span data-stu-id="93c4c-159">Instead, it skips and reevaluates hello condition again hello next time hello service's job executes.</span></span> <span data-ttu-id="93c4c-160">Merhaba ortalama iş parçacığı sayısı 575 olduğunda otomatik ölçeklendirme toowork görünmeyecektir çünkü bu birçok karıştırır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-160">This could confuse many people because autoscale wouldn't appear toowork when hello average thread count was 575.</span></span>

<span data-ttu-id="93c4c-161">Bir ölçek sırasında tahmin hedeflenen tooavoid "durumlarda, ölçek ve genişletme Eylemler sürekli geri ve İleri nereye dalgalanma" dir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-161">Estimation during a scale-in is intended tooavoid "flapping" situations, where scale-in and scale-out actions continually go back and forth.</span></span> <span data-ttu-id="93c4c-162">Genişleme için ve aynı eşikleri hello seçtiğinizde bu davranışı göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="93c4c-162">Keep this behavior in mind when you choose hello same thresholds for scale-out and in.</span></span>

<span data-ttu-id="93c4c-163">Merhaba genişleme arasında ve eşikleri yeterli bir kenar boşluğu seçme öneririz.</span><span class="sxs-lookup"><span data-stu-id="93c4c-163">We recommend choosing an adequate margin between hello scale-out and in thresholds.</span></span> <span data-ttu-id="93c4c-164">Örnek olarak, daha iyi kural birleşimi aşağıdaki hello göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="93c4c-164">As an example, consider hello following better rule combination.</span></span>

* <span data-ttu-id="93c4c-165">Örnek 1 artırmasını ne zaman saymak CPU % > = 80</span><span class="sxs-lookup"><span data-stu-id="93c4c-165">Increase instances by 1 count when CPU%  >= 80</span></span>
* <span data-ttu-id="93c4c-166">1 ile örnekleri azaltmak ne zaman saymak CPU % < = 60</span><span class="sxs-lookup"><span data-stu-id="93c4c-166">Decrease instances by 1 count when CPU% <= 60</span></span>

<span data-ttu-id="93c4c-167">Bu durumda</span><span class="sxs-lookup"><span data-stu-id="93c4c-167">In this case</span></span>  

1. <span data-ttu-id="93c4c-168">İle 2 örnekleri toostart vardır varsayalım.</span><span class="sxs-lookup"><span data-stu-id="93c4c-168">Assume there are 2 instances toostart with.</span></span>
2. <span data-ttu-id="93c4c-169">Merhaba ortalama CPU % örnekleri arasında too80 kalırsa, üçüncü bir örneğini ekleme çıkışı otomatik ölçeklendirme ölçeklendirir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-169">If hello average CPU% across instances goes too80, autoscale scales out adding a third instance.</span></span>
3. <span data-ttu-id="93c4c-170">Şimdi zaman hello CPU too60% düştüğünü varsayalım.</span><span class="sxs-lookup"><span data-stu-id="93c4c-170">Now assume that over time hello CPU% falls too60.</span></span>
4. <span data-ttu-id="93c4c-171">Otomatik ölçeklendirme'nın ölçek bileşenini kural tooscale bileşenini olsaydı hello son durum tahmin eder.</span><span class="sxs-lookup"><span data-stu-id="93c4c-171">Autoscale's scale-in rule estimates hello final state if it were tooscale-in.</span></span> <span data-ttu-id="93c4c-172">Örneğin, 60 x 3 (geçerli örnek sayısı) 180 = / 2 (ölçeklendirilmiş durumlarda son sayısı) 90 =.</span><span class="sxs-lookup"><span data-stu-id="93c4c-172">For example, 60 x 3 (current instance count) = 180 / 2 (final number of instances when scaled down) = 90.</span></span> <span data-ttu-id="93c4c-173">Bu nedenle otomatik ölçeklendirme ölçek tooscale kullanıma hemen yeniden gerekir çünkü bileşeni değil.</span><span class="sxs-lookup"><span data-stu-id="93c4c-173">So autoscale does not scale-in because it would have tooscale-out again immediately.</span></span> <span data-ttu-id="93c4c-174">Bunun yerine, ölçekleme atlar.</span><span class="sxs-lookup"><span data-stu-id="93c4c-174">Instead, it skips scaling down.</span></span>
5. <span data-ttu-id="93c4c-175">Merhaba sonraki saat otomatik ölçeklendirme hello CPU toofall too50 devam denetler.</span><span class="sxs-lookup"><span data-stu-id="93c4c-175">hello next time autoscale checks, hello CPU continues toofall too50.</span></span> <span data-ttu-id="93c4c-176">Yeniden - 50 x 3 örneği tahminleri 150 = / 2 örnekleri başarıyla too2 durumlarda ölçekler için hangi 80, hello genişleme eşiğin altında 75 =.</span><span class="sxs-lookup"><span data-stu-id="93c4c-176">It estimates again -  50 x 3 instance = 150 / 2 instances = 75, which is below hello scale-out threshold of 80, so it scales in successfully too2 instances.</span></span>

### <a name="considerations-for-scaling-threshold-values-for-special-metrics"></a><span data-ttu-id="93c4c-177">Eşik değerleri için özel ölçümleri ölçeklendirme dikkat edilmesi gereken noktalar</span><span class="sxs-lookup"><span data-stu-id="93c4c-177">Considerations for scaling threshold values for special metrics</span></span>
 <span data-ttu-id="93c4c-178">Depolama veya hizmet veri yolu kuyruğu uzunluğu ölçüm gibi özel ölçümleri hello eşik hello ortalama ileti geçerli örnek sayısı kullanılabilir sayısıdır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-178">For special metrics such as Storage or Service Bus Queue length metric, hello threshold is hello average number of messages available per current number of instances.</span></span> <span data-ttu-id="93c4c-179">Merhaba seçerken dikkatli Bu ölçüm için hello eşik değerini seçin.</span><span class="sxs-lookup"><span data-stu-id="93c4c-179">Carefully choose hello choose hello threshold value for this metric.</span></span>

<span data-ttu-id="93c4c-180">Şimdi gösteren bir örnek tooensure ile Merhaba davranışını daha iyi anlamak.</span><span class="sxs-lookup"><span data-stu-id="93c4c-180">Let's illustrate it with an example tooensure you understand hello behavior better.</span></span>

* <span data-ttu-id="93c4c-181">Depolama kuyruğu iletisi gönderdiğinde sayısı 1 sayısına göre örneklerini artırın > = 50</span><span class="sxs-lookup"><span data-stu-id="93c4c-181">Increase instances by 1 count when Storage Queue message count >= 50</span></span>
* <span data-ttu-id="93c4c-182">Depolama kuyruğu iletisi gönderdiğinde sayısı 1 sayısına göre örnekleri azaltmak < = 10</span><span class="sxs-lookup"><span data-stu-id="93c4c-182">Decrease instances by 1 count when Storage Queue message count <= 10</span></span>

<span data-ttu-id="93c4c-183">Merhaba dizisi aşağıdaki noktaları dikkate alın:</span><span class="sxs-lookup"><span data-stu-id="93c4c-183">Consider hello following sequence:</span></span>

1. <span data-ttu-id="93c4c-184">2 depolama kuyruğu örneği vardır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-184">There are 2 storage queue instances.</span></span>
2. <span data-ttu-id="93c4c-185">İleti gelmeye devam ve hello depolama kuyruğu incelediğinizde hello toplam sayısı 50 okur.</span><span class="sxs-lookup"><span data-stu-id="93c4c-185">Messages keep coming and when you review hello storage queue, hello total count reads 50.</span></span> <span data-ttu-id="93c4c-186">Bu otomatik ölçeklendirme bir ölçeklendirme eylemi başlaması gereken varsayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93c4c-186">You might assume that autoscale should start a scale-out action.</span></span> <span data-ttu-id="93c4c-187">Ancak, 50/2 olduğunu unutmayın = örneği başına 25 iletileri.</span><span class="sxs-lookup"><span data-stu-id="93c4c-187">However, note that it is still 50/2 = 25 messages per instance.</span></span> <span data-ttu-id="93c4c-188">Bu nedenle, genişleme gerçekleşmez.</span><span class="sxs-lookup"><span data-stu-id="93c4c-188">So, scale-out does not occur.</span></span> <span data-ttu-id="93c4c-189">Merhaba ilk genişleme toohappen için hello depolama kuyruğu hello toplam ileti sayısı 100 olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-189">For hello first scale-out toohappen, hello total message count in hello storage queue should be 100.</span></span>
3. <span data-ttu-id="93c4c-190">Ardından, hello toplam ileti sayısı 100 ulaştığında varsayalım.</span><span class="sxs-lookup"><span data-stu-id="93c4c-190">Next, assume that hello total message count reaches 100.</span></span>
4. <span data-ttu-id="93c4c-191">3 depolama sıra örneği tooa ölçeklendirme eylemi eklenir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-191">A 3rd storage queue instance is added due tooa scale-out action.</span></span>  <span data-ttu-id="93c4c-192">Merhaba sonraki ölçeklendirme eylemi hello kadar toplam hello sıradaki ileti sayısı, çünkü 150 ulaştığında yapılmaz 150/3 = 50.</span><span class="sxs-lookup"><span data-stu-id="93c4c-192">hello next scale-out action will not happen until hello total message count in hello queue reaches 150 because 150/3 = 50.</span></span>
5. <span data-ttu-id="93c4c-193">Şimdi hello hello sıradaki ileti sayısı daha küçük alır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-193">Now hello number of messages in hello queue gets smaller.</span></span> <span data-ttu-id="93c4c-194">3 örnekleriyle hello ilk ölçek eylemi hello tüm sıralardaki toplam ileti eklemek too30 çünkü olur 30/3 = hello ölçek bileşenini eşiğin örneği başına 10 iletileri.</span><span class="sxs-lookup"><span data-stu-id="93c4c-194">With 3 instances, hello first scale-in action happens when hello total messages in all queues add up too30 because 30/3 = 10 messages per instance, which is hello scale-in threshold.</span></span>

### <a name="considerations-for-scaling-when-multiple-profiles-are-configured-in-an-autoscale-setting"></a><span data-ttu-id="93c4c-195">Otomatik ölçeklendirme ayarında birden çok profil yapılandırıldığında ölçeklendirme dikkat edilmesi gereken noktalar</span><span class="sxs-lookup"><span data-stu-id="93c4c-195">Considerations for scaling when multiple profiles are configured in an autoscale setting</span></span>
<span data-ttu-id="93c4c-196">Otomatik ölçeklendirme ayarında zamanlama veya zaman bağımlılıkları olmadan her zaman uygulanır, bir varsayılan profili seçebilir veya bir tarih ve saat aralığı ile sabit bir dönem için yinelenen bir profil ya da profili seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93c4c-196">In an autoscale setting, you can choose a default profile, which is always applied without any dependency on schedule or time, or you can choose a recurring profile or a profile for a fixed period with a date and time range.</span></span>

<span data-ttu-id="93c4c-197">Otomatik ölçeklendirme hizmeti bunları işlediğinde, her zaman sırasının hello denetler:</span><span class="sxs-lookup"><span data-stu-id="93c4c-197">When autoscale service processes them, it always checks in hello following order:</span></span>

1. <span data-ttu-id="93c4c-198">Sabit tarih profili</span><span class="sxs-lookup"><span data-stu-id="93c4c-198">Fixed Date profile</span></span>
2. <span data-ttu-id="93c4c-199">Yinelenen profili</span><span class="sxs-lookup"><span data-stu-id="93c4c-199">Recurring profile</span></span>
3. <span data-ttu-id="93c4c-200">Varsayılan ("her zaman") profil</span><span class="sxs-lookup"><span data-stu-id="93c4c-200">Default ("Always") profile</span></span>

<span data-ttu-id="93c4c-201">Otomatik ölçeklendirme profili koşul karşılandığında hello sonraki profili koşul altındaki denetlemez.</span><span class="sxs-lookup"><span data-stu-id="93c4c-201">If a profile condition is met, autoscale does not check hello next profile condition below it.</span></span> <span data-ttu-id="93c4c-202">Otomatik ölçeklendirme, aynı anda yalnızca bir profil işler.</span><span class="sxs-lookup"><span data-stu-id="93c4c-202">Autoscale only processes one profile at a time.</span></span> <span data-ttu-id="93c4c-203">Tooalso istiyorsanız, bunun anlamı bir alt katmanlı profili işleme durumundan içerir, bu kurallar hello geçerli profilinde de içermelidir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-203">This means if you want tooalso include a processing condition from a lower-tier profile, you must include those rules as well in hello current profile.</span></span>

<span data-ttu-id="93c4c-204">Şimdi bu örneği kullanarak gözden geçirin:</span><span class="sxs-lookup"><span data-stu-id="93c4c-204">Let's review this using an example:</span></span>

<span data-ttu-id="93c4c-205">Aşağıdaki Hello görüntü gösteren bir otomatik ölçeklendirme ayarı 2 ve en fazla örnekleri minimum örnekleri ile bir varsayılan profili = = 10.</span><span class="sxs-lookup"><span data-stu-id="93c4c-205">hello image below shows an autoscale setting with a default profile of minimum instances = 2 and maximum instances = 10.</span></span> <span data-ttu-id="93c4c-206">Merhaba hello sıradaki ileti sayısı 3'ten az olduğunda hello hello sıradaki ileti sayısı 10 ve ölçek bileşenini büyük olduğunda bu örnekte, yapılandırılmış tooscale kullanıma kurallardır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-206">In this example, rules are configured tooscale-out when hello message count in hello queue is greater than 10 and scale-in when hello message count in hello queue is less than 3.</span></span> <span data-ttu-id="93c4c-207">Şimdi hello kaynak 2 ile 10 örnekleri arasında ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93c4c-207">So now hello resource can scale between 2 and 10 instances.</span></span>

<span data-ttu-id="93c4c-208">Ayrıca, yinelenen bir profili Pazartesi kümesi yok.</span><span class="sxs-lookup"><span data-stu-id="93c4c-208">In addition, there is a recurring profile set for Monday.</span></span> <span data-ttu-id="93c4c-209">Minimum örnekleri için ayarlanmış 2 ve en fazla örnekleri = = 12.</span><span class="sxs-lookup"><span data-stu-id="93c4c-209">It is set for minimum instances = 2 and maximum instances = 12.</span></span> <span data-ttu-id="93c4c-210">Yani Pazartesi günü, bu koşul için hello ilk zaman otomatik ölçeklendirme denetler hello örnek sayısı 2 ise, toohello yeni en az 3 ölçeklendirir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-210">This means on Monday, hello first time autoscale checks for this condition, if hello instance count is 2, it scales toohello new minimum of 3.</span></span> <span data-ttu-id="93c4c-211">Otomatik ölçeklendirme (Pazartesi) bu profili koşul eşleşen toofind sürece bu profil için yapılandırılmış hello CPU tabanlı ölçek genişletme/bileşenini kuralları yalnızca işler.</span><span class="sxs-lookup"><span data-stu-id="93c4c-211">As long as autoscale continues toofind this profile condition matched (Monday), it only processes hello CPU-based scale-out/in rules configured for this profile.</span></span> <span data-ttu-id="93c4c-212">Şu anda bu hello sırası uzunluğu için denetlemez.</span><span class="sxs-lookup"><span data-stu-id="93c4c-212">At this time, it does not check for hello queue length.</span></span> <span data-ttu-id="93c4c-213">Hello kuyruk uzunluğu koşulu toobe işaretli de istiyorsanız, ancak, bu kurallardan hello varsayılan profili yanı Pazartesi profilinizde içermelidir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-213">However, if you also want hello queue length condition toobe checked, you should include those rules from hello default profile as well in your Monday profile.</span></span>

<span data-ttu-id="93c4c-214">Otomatik ölçeklendirme geri toohello varsayılan profili geçtiğinde, benzer şekilde, bu ilk hello minimum ve maksimum koşulların karşılandığından olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="93c4c-214">Similarly, when autoscale switches back toohello default profile, it first checks if hello minimum and maximum conditions are met.</span></span> <span data-ttu-id="93c4c-215">Hello hello zaman örneklerinin sayısını 12 ise, en fazla hello hello varsayılan profili için izin verilen too10 içinde ölçeklendirir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-215">If hello number of instances at hello time is 12, it scales in too10, hello maximum allowed for hello default profile.</span></span>

![otomatik ölçeklendirme ayarları](./media/insights-autoscale-best-practices/insights-autoscale-best-practices-2.png)

### <a name="considerations-for-scaling-when-multiple-rules-are-configured-in-a-profile"></a><span data-ttu-id="93c4c-217">Birden çok kural, bir profilde yapılandırıldığında ölçeklendirme dikkat edilmesi gereken noktalar</span><span class="sxs-lookup"><span data-stu-id="93c4c-217">Considerations for scaling when multiple rules are configured in a profile</span></span>
<span data-ttu-id="93c4c-218">Burada, tooset birden çok kural profilde sahip olduğu durumlar vardır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-218">There are cases where you may have tooset multiple rules in a profile.</span></span> <span data-ttu-id="93c4c-219">birden çok kural ayarlandığında otomatik ölçeklendirme kurallar aşağıdaki hello Hizmetleri kullanım tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-219">hello following set of autoscale rules are used by services use when multiple rules are set.</span></span>

<span data-ttu-id="93c4c-220">Üzerinde *ölçeğini*, herhangi bir kural karşılanır otomatik ölçeklendirme çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-220">On *scale out*, autoscale runs if any rule is met.</span></span>
<span data-ttu-id="93c4c-221">Üzerinde *ölçek bileşenini*, otomatik ölçeklendirme gerektiren tüm kuralları toobe karşılanır.</span><span class="sxs-lookup"><span data-stu-id="93c4c-221">On *scale-in*, autoscale require all rules toobe met.</span></span>

<span data-ttu-id="93c4c-222">tooillustrate, 4 otomatik ölçeklendirme kurallarını izleyen hello olduğunu varsayın:</span><span class="sxs-lookup"><span data-stu-id="93c4c-222">tooillustrate, assume that you have hello following 4 autoscale rules:</span></span>

* <span data-ttu-id="93c4c-223">Varsa CPU < % 30, Ölçek 1 ile açma</span><span class="sxs-lookup"><span data-stu-id="93c4c-223">If CPU < 30 %, scale-in by 1</span></span>
* <span data-ttu-id="93c4c-224">Varsa bellek < % 50, Ölçek-1 ile</span><span class="sxs-lookup"><span data-stu-id="93c4c-224">If Memory < 50%, scale-in by 1</span></span>
* <span data-ttu-id="93c4c-225">Varsa CPU > %75, 1 ile genişletme</span><span class="sxs-lookup"><span data-stu-id="93c4c-225">If CPU > 75%, scale-out by 1</span></span>
* <span data-ttu-id="93c4c-226">Varsa bellek > %75, 1 ile genişletme</span><span class="sxs-lookup"><span data-stu-id="93c4c-226">If Memory > 75%, scale-out by 1</span></span>

<span data-ttu-id="93c4c-227">Ardından hello izleyin oluşur:</span><span class="sxs-lookup"><span data-stu-id="93c4c-227">Then hello follow occurs:</span></span>

* <span data-ttu-id="93c4c-228">% 76 CPU, bellek % 50 ise, biz genişletme.</span><span class="sxs-lookup"><span data-stu-id="93c4c-228">If CPU is 76% and Memory is 50%, we scale-out.</span></span>
* <span data-ttu-id="93c4c-229">% 50 CPU, bellek % 76 ise, biz genişletme.</span><span class="sxs-lookup"><span data-stu-id="93c4c-229">If CPU is 50% and Memory is 76% we scale-out.</span></span>

<span data-ttu-id="93c4c-230">Üzerinde hello diğer yandan, CPU ise % 25 ve bellektir % 51 otomatik ölçeklendirme yapar **değil** ölçek açma.</span><span class="sxs-lookup"><span data-stu-id="93c4c-230">On hello other hand, if CPU is 25% and memory is 51% autoscale does **not** scale-in.</span></span> <span data-ttu-id="93c4c-231">Tooscale içinde sırayla CPU %29 ve bellek % 49 olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-231">In order tooscale-in, CPU must be 29% and Memory 49%.</span></span>

### <a name="always-select-a-safe-default-instance-count"></a><span data-ttu-id="93c4c-232">Her zaman güvenli varsayılan örnek sayısı seçin</span><span class="sxs-lookup"><span data-stu-id="93c4c-232">Always select a safe default instance count</span></span>
<span data-ttu-id="93c4c-233">Merhaba varsayılan örnek sayısı, ölçümleri kullanılabilir olmadığında otomatik ölçeklendirme hizmeti toothat sayısını ölçeklendirir önemlidir.</span><span class="sxs-lookup"><span data-stu-id="93c4c-233">hello default instance count is important autoscale scales your service toothat count when metrics are not available.</span></span> <span data-ttu-id="93c4c-234">Bu nedenle, iş yükleriniz için güvenli bir varsayılan örnek sayısı seçin.</span><span class="sxs-lookup"><span data-stu-id="93c4c-234">Therefore, select a default instance count that's safe for your workloads.</span></span>

### <a name="configure-autoscale-notifications"></a><span data-ttu-id="93c4c-235">Otomatik ölçeklendirme bildirimleri yapılandırma</span><span class="sxs-lookup"><span data-stu-id="93c4c-235">Configure autoscale notifications</span></span>
<span data-ttu-id="93c4c-236">Koşullar aşağıdaki hello biri oluşursa otomatik ölçeklendirme hello yöneticileri ve katkıda bulunanlar hello kaynağının e-posta ile bildirimde bulunur.</span><span class="sxs-lookup"><span data-stu-id="93c4c-236">Autoscale notifies hello administrators and contributors of hello resource by email if any of hello following conditions occur:</span></span>

* <span data-ttu-id="93c4c-237">otomatik ölçeklendirme hizmeti tootake bir eylem başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="93c4c-237">autoscale service fails tootake an action.</span></span>
* <span data-ttu-id="93c4c-238">Ölçümleri otomatik ölçeklendirme hizmet toomake bir ölçek karar kullanılabilir değil.</span><span class="sxs-lookup"><span data-stu-id="93c4c-238">Metrics are not available for autoscale service toomake a scale decision.</span></span>
* <span data-ttu-id="93c4c-239">Ölçümleri olan kullanılabilir (Kurtarma) yeniden toomake ölçek karar.</span><span class="sxs-lookup"><span data-stu-id="93c4c-239">Metrics are available (recovery) again toomake a scale decision.</span></span>
  <span data-ttu-id="93c4c-240">Ayrıca toohello koşullar yukarıdaki, başarılı ölçeklendirme eylemi için bildirim e-posta veya Web kancası bildirimleri tooget yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93c4c-240">In addition toohello conditions above, you can configure email or webhook notifications tooget notified for successful scale actions.</span></span>
  
<span data-ttu-id="93c4c-241">Merhaba otomatik ölçeklendirme altyapısı bir etkinlik günlüğü uyarı toomonitor hello durumunu de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="93c4c-241">You can also use an Activity Log alert toomonitor hello health of hello autoscale engine.</span></span> <span data-ttu-id="93c4c-242">Örnekler şunlardır çok[bir etkinlik günlüğü uyarı toomonitor aboneliğinizi tüm otomatik ölçeklendirme altyapısı işlemler oluşturmak](https://github.com/Azure/azure-quickstart-templates/tree/master/monitor-autoscale-alert) veya çok[tüm otomatik ölçeklendirme ölçek başarısız / ölçek işlemleri bir etkinlik günlüğü uyarı toomonitor oluşturma aboneliğinizi](https://github.com/Azure/azure-quickstart-templates/tree/master/monitor-autoscale-failed-alert).</span><span class="sxs-lookup"><span data-stu-id="93c4c-242">Here are examples too[create an Activity Log Alert toomonitor all autoscale engine operations on your subscription](https://github.com/Azure/azure-quickstart-templates/tree/master/monitor-autoscale-alert) or too[create an Activity Log Alert toomonitor all failed autoscale scale in/scale out operations on your subscription](https://github.com/Azure/azure-quickstart-templates/tree/master/monitor-autoscale-failed-alert).</span></span>

## <a name="next-steps"></a><span data-ttu-id="93c4c-243">Sonraki Adımlar</span><span class="sxs-lookup"><span data-stu-id="93c4c-243">Next Steps</span></span>
- [<span data-ttu-id="93c4c-244">Bir etkinlik günlüğü uyarı toomonitor aboneliğinizi tüm otomatik ölçeklendirme altyapısı işlemler oluşturun.</span><span class="sxs-lookup"><span data-stu-id="93c4c-244">Create an Activity Log Alert toomonitor all autoscale engine operations on your subscription.</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/monitor-autoscale-alert)
- [<span data-ttu-id="93c4c-245">Tüm otomatik ölçeklendirme ölçek başarısız / aboneliğinizi işlemleri ölçeğini bir etkinlik günlüğü uyarı toomonitor oluşturma</span><span class="sxs-lookup"><span data-stu-id="93c4c-245">Create an Activity Log Alert toomonitor all failed autoscale scale in/scale out operations on your subscription</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/monitor-autoscale-failed-alert)
