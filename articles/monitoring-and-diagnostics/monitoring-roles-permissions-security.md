---
title: "roller, izinleri ve güvenlik Azure İzleyicisi ile aaaGet kullanmaya | Microsoft Docs"
description: "Nasıl toouse Azure monitörün yerleşik rolleri ve izinleri toorestrict toomonitoring kaynaklara öğrenin."
author: johnkemnetz
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 2686e53b-72f0-4312-bcd3-3dc1b4a9b912
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/26/2016
ms.author: johnkem
ms.openlocfilehash: 44fdf2a697050309480dfc164ebab51445b19bc8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="get-started-with-roles-permissions-and-security-with-azure-monitor"></a><span data-ttu-id="fded8-103">Roller, izinleri ve güvenlik Azure İzleyicisi ile kullanmaya başlama</span><span class="sxs-lookup"><span data-stu-id="fded8-103">Get started with roles, permissions, and security with Azure Monitor</span></span>
<span data-ttu-id="fded8-104">Birçok ekip toostrictly gerek toomonitoring verilere erişmek ve ayarları düzenlemek.</span><span class="sxs-lookup"><span data-stu-id="fded8-104">Many teams need toostrictly regulate access toomonitoring data and settings.</span></span> <span data-ttu-id="fded8-105">Örneğin, özel olarak (destek mühendisleri, devops mühendisleri) izleme üzerinde çalışan takım üyeleri varsa veya bir yönetilen hizmet sağlayıcısı kullanıyorsanız, bunların özelliği toocreate kısıtlama sırasında izleme verilerini tooonly erişmesine toogrant isteyebilirsiniz değiştirebilir veya kaynakları silin.</span><span class="sxs-lookup"><span data-stu-id="fded8-105">For example, if you have team members who work exclusively on monitoring (support engineers, devops engineers) or if you use a managed service provider, you may want toogrant them access tooonly monitoring data while restricting their ability toocreate, modify, or delete resources.</span></span> <span data-ttu-id="fded8-106">Bu makalede nasıl tooquickly azure'da yerleşik izleme RBAC rolü tooa kullanıcı uygulamak veya kendi özel rol sınırlı izleme izinleri gereken kullanıcılar için yapı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="fded8-106">This article shows how tooquickly apply a built-in monitoring RBAC role tooa user in Azure or build your own custom role for a user who needs limited monitoring permissions.</span></span> <span data-ttu-id="fded8-107">Ardından Azure İzleyici ilgili kaynaklarınız için güvenlik konuları açıklanır ve erişim toohello verileri sınırlayabilirsiniz nasıl içerirler.</span><span class="sxs-lookup"><span data-stu-id="fded8-107">It then discusses security considerations for your Azure Monitor-related resources and how you can limit access toohello data they contain.</span></span>

## <a name="built-in-monitoring-roles"></a><span data-ttu-id="fded8-108">Yerleşik izleme roller</span><span class="sxs-lookup"><span data-stu-id="fded8-108">Built-in monitoring roles</span></span>
<span data-ttu-id="fded8-109">Azure monitörün yerleşik roller tasarlanmış toohelp sınırı erişim tooresources hala olanlar etkinleştirme sırasında bir abonelikte altyapı tooobtain izlemekten sorumlu ve ihtiyaç duydukları hello verilere yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="fded8-109">Azure Monitor’s built-in roles are designed toohelp limit access tooresources in a subscription while still enabling those responsible for monitoring infrastructure tooobtain and configure hello data they need.</span></span> <span data-ttu-id="fded8-110">Azure İzleyicisi, iki Giden kutusu rolleri sağlar: bir izleme okuyucu ve izleme katılımcı.</span><span class="sxs-lookup"><span data-stu-id="fded8-110">Azure Monitor provides two out-of-the-box roles: A Monitoring Reader and a Monitoring Contributor.</span></span>

### <a name="monitoring-reader"></a><span data-ttu-id="fded8-111">Okuyucu izleme</span><span class="sxs-lookup"><span data-stu-id="fded8-111">Monitoring Reader</span></span>
<span data-ttu-id="fded8-112">Merhaba izleme okuyucu rolüne atanan kişi bir Abonelikteki tüm izleme verilerini görüntülemek ancak herhangi bir kaynağa değiştiremez veya tüm ayarları ilgili toomonitoring kaynakları düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="fded8-112">People assigned hello Monitoring Reader role can view all monitoring data in a subscription but cannot modify any resource or edit any settings related toomonitoring resources.</span></span> <span data-ttu-id="fded8-113">Bu rol, toobe yapabileceksiniz isteyen desteği veya işlem mühendisleri gibi bir kuruluştaki kullanıcılar için uygundur:</span><span class="sxs-lookup"><span data-stu-id="fded8-113">This role is appropriate for users in an organization, such as support or operations engineers, who need toobe able to:</span></span>

* <span data-ttu-id="fded8-114">Merhaba Portalı'nda izleme panoları görüntülemek ve kendi özel izleme panolar oluşturun.</span><span class="sxs-lookup"><span data-stu-id="fded8-114">View monitoring dashboards in hello portal and create their own private monitoring dashboards.</span></span>
* <span data-ttu-id="fded8-115">Sorgu hello kullanarak ölçümünün [Azure İzleyici REST API](https://msdn.microsoft.com/library/azure/dn931930.aspx), [PowerShell cmdlet'leri](insights-powershell-samples.md), veya [platformlar arası CLI](insights-cli-samples.md).</span><span class="sxs-lookup"><span data-stu-id="fded8-115">Query for metrics using hello [Azure Monitor REST API](https://msdn.microsoft.com/library/azure/dn931930.aspx), [PowerShell cmdlets](insights-powershell-samples.md), or [cross-platform CLI](insights-cli-samples.md).</span></span>
* <span data-ttu-id="fded8-116">Sorgu hello etkinlik günlüğü hello portalı, Azure İzleyici REST API'si, PowerShell cmdlet'leri veya platformlar arası CLI kullanarak.</span><span class="sxs-lookup"><span data-stu-id="fded8-116">Query hello Activity Log using hello portal, Azure Monitor REST API, PowerShell cmdlets, or cross-platform CLI.</span></span>
* <span data-ttu-id="fded8-117">Görünüm hello [tanılama ayarlarını](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings) bir kaynak için.</span><span class="sxs-lookup"><span data-stu-id="fded8-117">View hello [diagnostic settings](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings) for a resource.</span></span>
* <span data-ttu-id="fded8-118">Görünüm hello [oturum profili](monitoring-overview-activity-logs.md#export-the-activity-log-with-a-log-profile) aboneliği.</span><span class="sxs-lookup"><span data-stu-id="fded8-118">View hello [log profile](monitoring-overview-activity-logs.md#export-the-activity-log-with-a-log-profile) for a subscription.</span></span>
* <span data-ttu-id="fded8-119">Otomatik ölçeklendirme ayarlarını görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="fded8-119">View autoscale settings.</span></span>
* <span data-ttu-id="fded8-120">Uyarı etkinliği görüntüle ve ayarlar.</span><span class="sxs-lookup"><span data-stu-id="fded8-120">View alert activity and settings.</span></span>
* <span data-ttu-id="fded8-121">Application Insights verilere erişmek ve veri AI analizleri görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="fded8-121">Access Application Insights data and view data in AI Analytics.</span></span>
* <span data-ttu-id="fded8-122">Günlük analizi (OMS) çalışma veri hello çalışma alanı için kullanım verilerini de dahil olmak üzere arayın.</span><span class="sxs-lookup"><span data-stu-id="fded8-122">Search Log Analytics (OMS) workspace data including usage data for hello workspace.</span></span>
* <span data-ttu-id="fded8-123">Günlük analizi (OMS) yönetim grupları görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="fded8-123">View Log Analytics (OMS) management groups.</span></span>
* <span data-ttu-id="fded8-124">Merhaba günlük analizi (OMS) arama şemasını alın.</span><span class="sxs-lookup"><span data-stu-id="fded8-124">Retrieve hello Log Analytics (OMS) search schema.</span></span>
* <span data-ttu-id="fded8-125">Günlük analizi (OMS) Intelligence paketlerini listeler.</span><span class="sxs-lookup"><span data-stu-id="fded8-125">List Log Analytics (OMS) intelligence packs.</span></span>
* <span data-ttu-id="fded8-126">Almak ve günlük analizi (OMS) kayıtlı aramalar yürütün.</span><span class="sxs-lookup"><span data-stu-id="fded8-126">Retrieve and execute Log Analytics (OMS) saved searches.</span></span>
* <span data-ttu-id="fded8-127">Merhaba günlük analizi (OMS) depolama yapılandırmasını alır.</span><span class="sxs-lookup"><span data-stu-id="fded8-127">Retrieve hello Log Analytics (OMS) storage configuration.</span></span>

> [!NOTE]
> <span data-ttu-id="fded8-128">Bu rol, akış tooan olay hub'ı veya bir depolama hesabında depolanan okuma erişimi toolog veri sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="fded8-128">This role does not give read access toolog data that has been streamed tooan event hub or stored in a storage account.</span></span> <span data-ttu-id="fded8-129">[Aşağıya bakın](#security-considerations-for-monitoring-data) toothese kaynaklarına erişim yapılandırma hakkında bilgi için.</span><span class="sxs-lookup"><span data-stu-id="fded8-129">[See below](#security-considerations-for-monitoring-data) for information on configuring access toothese resources.</span></span>
> 
> 

### <a name="monitoring-contributor"></a><span data-ttu-id="fded8-130">Katkıda bulunan izleme</span><span class="sxs-lookup"><span data-stu-id="fded8-130">Monitoring Contributor</span></span>
<span data-ttu-id="fded8-131">Atanan kişi hello izleme katkıda bulunan rolü için bir Abonelikteki tüm izleme verilerini görüntülemek ve oluşturmak veya izleme ayarlarını değiştirmek, ancak diğer kaynakları değiştiremezsiniz.</span><span class="sxs-lookup"><span data-stu-id="fded8-131">People assigned hello Monitoring Contributor role can view all monitoring data in a subscription and create or modify monitoring settings, but cannot modify any other resources.</span></span> <span data-ttu-id="fded8-132">Bu rolü hello izleme okuyucu rolüne bir üst kümesidir ve kuruluşun izleme takım veya isteyen, ayrıca yukarıdaki toohello izinleri de toobe için Yönetilen hizmet sağlayıcıları üyeleri için uygundur:</span><span class="sxs-lookup"><span data-stu-id="fded8-132">This role is a superset of hello Monitoring Reader role, and is appropriate for members of an organization’s monitoring team or managed service providers who, in addition toohello permissions above, also need toobe able to:</span></span>

* <span data-ttu-id="fded8-133">İzleme panoları paylaşılan Pano olarak yayımlayın.</span><span class="sxs-lookup"><span data-stu-id="fded8-133">Publish monitoring dashboards as a shared dashboard.</span></span>
* <span data-ttu-id="fded8-134">Ayarlama [tanılama ayarlarını](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings) bir resource.* için</span><span class="sxs-lookup"><span data-stu-id="fded8-134">Set [diagnostic settings](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings) for a resource.*</span></span>
* <span data-ttu-id="fded8-135">Set hello [oturum profili](monitoring-overview-activity-logs.md#export-the-activity-log-with-a-log-profile) bir subscription.* için</span><span class="sxs-lookup"><span data-stu-id="fded8-135">Set hello [log profile](monitoring-overview-activity-logs.md#export-the-activity-log-with-a-log-profile) for a subscription.*</span></span>
* <span data-ttu-id="fded8-136">Uyarı etkinliği ve ayarları ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="fded8-136">Set alert activity and settings.</span></span>
* <span data-ttu-id="fded8-137">Application Insights web testleri ve bileşenleri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="fded8-137">Create Application Insights web tests and components.</span></span>
* <span data-ttu-id="fded8-138">Günlük analizi (OMS) paylaşılan çalışma alanı anahtarlarının listesi.</span><span class="sxs-lookup"><span data-stu-id="fded8-138">List Log Analytics (OMS) workspace shared keys.</span></span>
* <span data-ttu-id="fded8-139">Etkinleştirmek veya devre dışı günlük analizi (OMS) Intelligence paketleri.</span><span class="sxs-lookup"><span data-stu-id="fded8-139">Enable or disable Log Analytics (OMS) intelligence packs.</span></span>
* <span data-ttu-id="fded8-140">Oluşturma ve silme ve günlük analizi (OMS) kayıtlı aramalar çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="fded8-140">Create and delete and execute Log Analytics (OMS) saved searches.</span></span>
* <span data-ttu-id="fded8-141">Oluşturun ve hello günlük analizi (OMS) depolama yapılandırması silin.</span><span class="sxs-lookup"><span data-stu-id="fded8-141">Create and delete hello Log Analytics (OMS) storage configuration.</span></span>

<span data-ttu-id="fded8-142">* Kullanıcı ayrıca hello hedef kaynak (depolama hesabı veya olay hub'ad alanı) tooset günlük profili veya tanılama ayarını ListKeys iznine sahip olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="fded8-142">*user must also separately be granted ListKeys permission on hello target resource (storage account or event hub namespace) tooset a log profile or diagnostic setting.</span></span>

> [!NOTE]
> <span data-ttu-id="fded8-143">Bu rol, akış tooan olay hub'ı veya bir depolama hesabında depolanan okuma erişimi toolog veri sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="fded8-143">This role does not give read access toolog data that has been streamed tooan event hub or stored in a storage account.</span></span> <span data-ttu-id="fded8-144">[Aşağıya bakın](#security-considerations-for-monitoring-data) toothese kaynaklarına erişim yapılandırma hakkında bilgi için.</span><span class="sxs-lookup"><span data-stu-id="fded8-144">[See below](#security-considerations-for-monitoring-data) for information on configuring access toothese resources.</span></span>
> 
> 

## <a name="monitoring-permissions-and-custom-rbac-roles"></a><span data-ttu-id="fded8-145">İzinler ve özel RBAC rolleri izleme</span><span class="sxs-lookup"><span data-stu-id="fded8-145">Monitoring permissions and custom RBAC roles</span></span>
<span data-ttu-id="fded8-146">Yerleşik roller yukarıda Hello hello tam ekibinizin ihtiyaçlarını karşılamıyorsa, aşağıdakileri yapabilirsiniz [özel RBAC rolü oluşturma](../active-directory/role-based-access-control-custom-roles.md) daha ayrıntılı izinlere sahip.</span><span class="sxs-lookup"><span data-stu-id="fded8-146">If hello above built-in roles don’t meet hello exact needs of your team, you can [create a custom RBAC role](../active-directory/role-based-access-control-custom-roles.md) with more granular permissions.</span></span> <span data-ttu-id="fded8-147">Aşağıda hello açıklamalarının ortak Azure İzleyici RBAC işlemleriyle verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="fded8-147">Below are hello common Azure Monitor RBAC operations with their descriptions.</span></span>

| <span data-ttu-id="fded8-148">İşlem</span><span class="sxs-lookup"><span data-stu-id="fded8-148">Operation</span></span> | <span data-ttu-id="fded8-149">Açıklama</span><span class="sxs-lookup"><span data-stu-id="fded8-149">Description</span></span> |
| --- | --- |
| <span data-ttu-id="fded8-150">Microsoft.Insights/AlertRules/[Read, yazma, silme]</span><span class="sxs-lookup"><span data-stu-id="fded8-150">Microsoft.Insights/AlertRules/[Read, Write, Delete]</span></span> |<span data-ttu-id="fded8-151">Okuma/yazma/silme uyarı kuralları.</span><span class="sxs-lookup"><span data-stu-id="fded8-151">Read/write/delete alert rules.</span></span> |
| <span data-ttu-id="fded8-152">Microsoft.Insights/AlertRules/Incidents/Read</span><span class="sxs-lookup"><span data-stu-id="fded8-152">Microsoft.Insights/AlertRules/Incidents/Read</span></span> |<span data-ttu-id="fded8-153">Olaylar (Merhaba uyarı kuralı tetiklenen geçmişini) için uyarı kuralları listesi.</span><span class="sxs-lookup"><span data-stu-id="fded8-153">List incidents (history of hello alert rule being triggered) for alert rules.</span></span> <span data-ttu-id="fded8-154">Bu, yalnızca toohello portal geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="fded8-154">This only applies toohello portal.</span></span> |
| <span data-ttu-id="fded8-155">Microsoft.Insights/AutoscaleSettings/[Read, yazma, silme]</span><span class="sxs-lookup"><span data-stu-id="fded8-155">Microsoft.Insights/AutoscaleSettings/[Read, Write, Delete]</span></span> |<span data-ttu-id="fded8-156">Okuma/yazma/silme otomatik ölçeklendirme ayarları.</span><span class="sxs-lookup"><span data-stu-id="fded8-156">Read/write/delete autoscale settings.</span></span> |
| <span data-ttu-id="fded8-157">Microsoft.Insights/DiagnosticSettings/[Read, yazma, silme]</span><span class="sxs-lookup"><span data-stu-id="fded8-157">Microsoft.Insights/DiagnosticSettings/[Read, Write, Delete]</span></span> |<span data-ttu-id="fded8-158">Okuma/yazma/silme tanılama ayarları.</span><span class="sxs-lookup"><span data-stu-id="fded8-158">Read/write/delete diagnostic settings.</span></span> |
| <span data-ttu-id="fded8-159">Microsoft.Insights/eventtypes/digestevents/Read</span><span class="sxs-lookup"><span data-stu-id="fded8-159">Microsoft.Insights/eventtypes/digestevents/Read</span></span> |<span data-ttu-id="fded8-160">Bu izin, tooActivity günlükleri hello Portalı aracılığıyla erişen kullanıcılar için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="fded8-160">This permission is necessary for users who need access tooActivity Logs via hello portal.</span></span> |
| <span data-ttu-id="fded8-161">Microsoft.Insights/eventtypes/values/Read</span><span class="sxs-lookup"><span data-stu-id="fded8-161">Microsoft.Insights/eventtypes/values/Read</span></span> |<span data-ttu-id="fded8-162">Bir abonelikte etkinlik günlüğü olayları (Yönetim olayları) listeler.</span><span class="sxs-lookup"><span data-stu-id="fded8-162">List Activity Log events (management events) in a subscription.</span></span> <span data-ttu-id="fded8-163">Bu izni geçerli tooboth programlı ve portal erişim toohello etkinlik günlüğü yok.</span><span class="sxs-lookup"><span data-stu-id="fded8-163">This permission is applicable tooboth programmatic and portal access toohello Activity Log.</span></span> |
| <span data-ttu-id="fded8-164">Microsoft.Insights/LogDefinitions/Read</span><span class="sxs-lookup"><span data-stu-id="fded8-164">Microsoft.Insights/LogDefinitions/Read</span></span> |<span data-ttu-id="fded8-165">Bu izin, tooActivity günlükleri hello Portalı aracılığıyla erişen kullanıcılar için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="fded8-165">This permission is necessary for users who need access tooActivity Logs via hello portal.</span></span> |
| <span data-ttu-id="fded8-166">Microsoft.Insights/MetricDefinitions/Read</span><span class="sxs-lookup"><span data-stu-id="fded8-166">Microsoft.Insights/MetricDefinitions/Read</span></span> |<span data-ttu-id="fded8-167">Ölçüm tanımlarını (bir kaynak için kullanılabilir ölçüm türlerinin listesi) okuyun.</span><span class="sxs-lookup"><span data-stu-id="fded8-167">Read metric definitions (list of available metric types for a resource).</span></span> |
| <span data-ttu-id="fded8-168">Microsoft.Insights/Metrics/Read</span><span class="sxs-lookup"><span data-stu-id="fded8-168">Microsoft.Insights/Metrics/Read</span></span> |<span data-ttu-id="fded8-169">Bir kaynak için ölçümleri okuyun.</span><span class="sxs-lookup"><span data-stu-id="fded8-169">Read metrics for a resource.</span></span> |

> [!NOTE]
> <span data-ttu-id="fded8-170">Erişim tooalerts, tanılama ayarlarını ve ölçümleri bir kaynak için okuma erişimi toohello kaynak türü ve bu kaynağın kapsamını hello kullanıcının sahip gerektirir.</span><span class="sxs-lookup"><span data-stu-id="fded8-170">Access tooalerts, diagnostic settings, and metrics for a resource requires that hello user has Read access toohello resource type and scope of that resource.</span></span> <span data-ttu-id="fded8-171">("Yazma") oluşturma arşivler tooa depolama hesabı veya akışları tooevent hub hello kullanıcı tooalso gerektiren bir tanılama ayarı ya da günlük profili ListKeys izninizin olması hello hedef kaynak üzerindeki.</span><span class="sxs-lookup"><span data-stu-id="fded8-171">Creating (“write”) a diagnostic setting or log profile that archives tooa storage account or streams tooevent hubs requires hello user tooalso have ListKeys permission on hello target resource.</span></span>
> 
> 

<span data-ttu-id="fded8-172">Örneğin, yukarıdaki tabloda hello kullanarak bir "etkinlik günlüğü okuyucusu" şöyle için özel bir RBAC rolü oluşturabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="fded8-172">For example, using hello above table you could create a custom RBAC role for an “Activity Log Reader” like this:</span></span>

```powershell
$role = Get-AzureRmRoleDefinition "Reader"
$role.Id = $null
$role.Name = "Activity Log Reader"
$role.Description = "Can view activity logs."
$role.Actions.Clear()
$role.Actions.Add("Microsoft.Insights/eventtypes/*")
$role.AssignableScopes.Clear()
$role.AssignableScopes.Add("/subscriptions/mySubscription")
New-AzureRmRoleDefinition -Role $role 
```

## <a name="security-considerations-for-monitoring-data"></a><span data-ttu-id="fded8-173">Verilerin izlenmesi için güvenlik konuları</span><span class="sxs-lookup"><span data-stu-id="fded8-173">Security considerations for monitoring data</span></span>
<span data-ttu-id="fded8-174">İzleme verilerini — özellikle günlük dosyalarını — IP adresleri veya kullanıcı adları gibi gizli bilgiler içerebilir.</span><span class="sxs-lookup"><span data-stu-id="fded8-174">Monitoring data—particularly log files—can contain sensitive information, such as IP addresses or user names.</span></span> <span data-ttu-id="fded8-175">İzleme verilerini Azure üç temel formlarında gelir:</span><span class="sxs-lookup"><span data-stu-id="fded8-175">Monitoring data from Azure comes in three basic forms:</span></span>

1. <span data-ttu-id="fded8-176">Merhaba, Azure aboneliğinizde tüm denetim düzlemi eylemleri açıklar etkinlik günlüğü.</span><span class="sxs-lookup"><span data-stu-id="fded8-176">hello Activity Log, which describes all control-plane actions on your Azure subscription.</span></span>
2. <span data-ttu-id="fded8-177">Tanılama günlükleri, bir kaynak tarafından gösterilen günlükleri.</span><span class="sxs-lookup"><span data-stu-id="fded8-177">Diagnostic Logs, which are logs emitted by a resource.</span></span>
3. <span data-ttu-id="fded8-178">Kaynaklar tarafından gösterilen ölçümleri.</span><span class="sxs-lookup"><span data-stu-id="fded8-178">Metrics, which are emitted by resources.</span></span>

<span data-ttu-id="fded8-179">Bu veri türlerini üç bir depolama hesabında depolanan veya tooEvent Hub, her ikisi de genel amaçlı Azure kaynaklardır akışı.</span><span class="sxs-lookup"><span data-stu-id="fded8-179">All three of these data types can be stored in a storage account or streamed tooEvent Hub, both of which are general-purpose Azure resources.</span></span> <span data-ttu-id="fded8-180">Bu genel amaçlı kaynaklar olduğundan, oluşturma, silme ve bunlara erişmek için bir yönetici genellikle ayrılmış ayrıcalıklı bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="fded8-180">Because these are general-purpose resources, creating, deleting, and accessing them is a privileged operation usually reserved for an administrator.</span></span> <span data-ttu-id="fded8-181">İzleme ile ilgili kaynaklara tooprevent kötüye kullanılması için yöntemler aşağıdaki hello kullanmanızı öneririz:</span><span class="sxs-lookup"><span data-stu-id="fded8-181">We suggest that you use hello following practices for monitoring-related resources tooprevent misuse:</span></span>

* <span data-ttu-id="fded8-182">Bir tek, özel bir depolama hesabı verileri izlemek için kullanın.</span><span class="sxs-lookup"><span data-stu-id="fded8-182">Use a single, dedicated storage account for monitoring data.</span></span> <span data-ttu-id="fded8-183">Birden çok depolama hesaplarına veri izleme verilerini tooseparate ihtiyacınız varsa, hiçbir zaman izleme arasında bir depolama hesabı kullanımı paylaşabilir ve bu olarak izleme olmayan veri yanlışlıkla yalnızca (ör. toomonitoring veri erişimi olanlar verebilir</span><span class="sxs-lookup"><span data-stu-id="fded8-183">If you need tooseparate monitoring data into multiple storage accounts, never share usage of a storage account between monitoring and non-monitoring data, as this may inadvertently give those who only need access toomonitoring data (eg.</span></span> <span data-ttu-id="fded8-184">bir üçüncü taraf SIEM) toonon izleme veri erişim.</span><span class="sxs-lookup"><span data-stu-id="fded8-184">a third-party SIEM) access toonon-monitoring data.</span></span>
* <span data-ttu-id="fded8-185">Tek ve özel bir hizmet veri yolu veya olay hub'ın ad tüm tanılama ayarları arasında aynı yukarıdaki neden hello için kullanın.</span><span class="sxs-lookup"><span data-stu-id="fded8-185">Use a single, dedicated Service Bus or Event Hub namespace across all diagnostic settings for hello same reason as above.</span></span>
* <span data-ttu-id="fded8-186">Sınırlamak erişim toomonitoring ilgili depolama hesapları veya olay hub'ları farklı bir kaynak grubunda tutarak ve [kapsamı kullan](../active-directory/role-based-access-control-what-is.md#basics-of-access-management-in-azure) izleme rollerinizi toolimit erişim tooonly bu kaynak grubu.</span><span class="sxs-lookup"><span data-stu-id="fded8-186">Limit access toomonitoring-related storage accounts or event hubs by keeping them in a separate resource group, and [use scope](../active-directory/role-based-access-control-what-is.md#basics-of-access-management-in-azure) on your monitoring roles toolimit access tooonly that resource group.</span></span>
* <span data-ttu-id="fded8-187">Hiçbir zaman bir kullanıcı yalnızca erişim toomonitoring verilere ihtiyaç duyduğunda depolama hesapları veya olay hub'ları abonelik kapsamında hello ListKeys izni verin.</span><span class="sxs-lookup"><span data-stu-id="fded8-187">Never grant hello ListKeys permission for either storage accounts or event hubs at subscription scope when a user only needs access toomonitoring data.</span></span> <span data-ttu-id="fded8-188">(Ayrılmış bir izleme kaynak grubu varsa) Bu izinler toohello kullanıcı bir kaynak veya kaynak grubu, bunun yerine, vermek kapsamı.</span><span class="sxs-lookup"><span data-stu-id="fded8-188">Instead, give these permissions toohello user at a resource or resource group (if you have a dedicated monitoring resource group) scope.</span></span>

### <a name="limiting-access-toomonitoring-related-storage-accounts"></a><span data-ttu-id="fded8-189">Sınırlama erişim toomonitoring ilgili depolama hesapları</span><span class="sxs-lookup"><span data-stu-id="fded8-189">Limiting access toomonitoring-related storage accounts</span></span>
<span data-ttu-id="fded8-190">Bir kullanıcı veya uygulama toomonitoring veri depolama hesabındaki erişim oluştururken, aşağıdakileri yapmalısınız [bir hesap SAS oluşturmak](https://msdn.microsoft.com/library/azure/mt584140.aspx) hizmet düzeyi salt okunur erişim tooblob depolama ile izleme verileri içeren hello depolama hesabı üzerinde.</span><span class="sxs-lookup"><span data-stu-id="fded8-190">When a user or application needs access toomonitoring data in a storage account, you should [generate an Account SAS](https://msdn.microsoft.com/library/azure/mt584140.aspx) on hello storage account that contains monitoring data with service-level read-only access tooblob storage.</span></span> <span data-ttu-id="fded8-191">PowerShell'de, bunu aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="fded8-191">In PowerShell, this might look like:</span></span>

```powershell
$context = New-AzureStorageContext -ConnectionString "[connection string for your monitoring Storage Account]"
$token = New-AzureStorageAccountSASToken -ResourceType Service -Service Blob -Permission "rl" -Context $context
```

<span data-ttu-id="fded8-192">Bu depolama hesabından tooread gereken hello belirteci toohello varlık sonra verebilirsiniz ve listelemek ve o depolama hesabındaki tüm BLOB'lar okuma.</span><span class="sxs-lookup"><span data-stu-id="fded8-192">You can then give hello token toohello entity that needs tooread from that storage account, and it can list and read from all blobs in that storage account.</span></span>

<span data-ttu-id="fded8-193">Alternatif olarak, bu izne sahip RBAC toocontrol gerekiyorsa, bu varlık hello bu belirli depolama hesabındaki Microsoft.Storage/storageAccounts/listkeys/action izni verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fded8-193">Alternatively, if you need toocontrol this permission with RBAC, you can grant that entity hello Microsoft.Storage/storageAccounts/listkeys/action permission on that particular storage account.</span></span> <span data-ttu-id="fded8-194">Bu, toobe mümkün tooset tanılama ayarı ya da günlük profili tooarchive tooa depolama hesabı olması gereken kullanıcılar için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="fded8-194">This is necessary for users who need toobe able tooset a diagnostic setting or log profile tooarchive tooa storage account.</span></span> <span data-ttu-id="fded8-195">Örneğin, bir kullanıcı veya bir depolama hesabından tooread yeterlidir uygulama için özel RBAC rolü aşağıdaki hello oluşturabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="fded8-195">For example, you could create hello following custom RBAC role for a user or application that only needs tooread from one storage account:</span></span>

```powershell
$role = Get-AzureRmRoleDefinition "Reader"
$role.Id = $null
$role.Name = "Monitoring Storage Account Reader"
$role.Description = "Can get hello storage account keys for a monitoring storage account."
$role.Actions.Clear()
$role.Actions.Add("Microsoft.Storage/storageAccounts/listkeys/action")
$role.Actions.Add("Microsoft.Storage/storageAccounts/Read")
$role.AssignableScopes.Clear()
$role.AssignableScopes.Add("/subscriptions/mySubscription/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myMonitoringStorageAccount")
New-AzureRmRoleDefinition -Role $role 
```

> [!WARNING]
> <span data-ttu-id="fded8-196">Merhaba ListKeys izni hello kullanıcı toolist hello birincil ve ikincil depolama hesabı anahtarları sağlar.</span><span class="sxs-lookup"><span data-stu-id="fded8-196">hello ListKeys permission enables hello user toolist hello primary and secondary storage account keys.</span></span> <span data-ttu-id="fded8-197">Bu anahtarları hello kullanıcı tüm imzalı izinleri verin (okuma, yazma, BLOB'ları oluşturmak, silmek BLOB'lar vb.) tüm hizmetleri (blob, kuyruk, tablo, dosya), depolama hesabındaki imzalanmış.</span><span class="sxs-lookup"><span data-stu-id="fded8-197">These keys grant hello user all signed permissions (read, write, create blobs, delete blobs, etc.) across all signed services (blob, queue, table, file) in that storage account.</span></span> <span data-ttu-id="fded8-198">Mümkün olduğunda yukarıda açıklanan bir hesap SAS kullanılmasını öneririz.</span><span class="sxs-lookup"><span data-stu-id="fded8-198">We recommend using an Account SAS described above when possible.</span></span>
> 
> 

### <a name="limiting-access-toomonitoring-related-event-hubs"></a><span data-ttu-id="fded8-199">Sınırlama erişim toomonitoring ilgili olay hub'ları</span><span class="sxs-lookup"><span data-stu-id="fded8-199">Limiting access toomonitoring-related event hubs</span></span>
<span data-ttu-id="fded8-200">Event hubs ile benzer bir desen izlenebilir ancak ilk toocreate bir adanmış dinleme yetkilendirme kuralı gerekir.</span><span class="sxs-lookup"><span data-stu-id="fded8-200">A similar pattern can be followed with event hubs, but first you need toocreate a dedicated Listen authorization rule.</span></span> <span data-ttu-id="fded8-201">Toolisten toomonitoring ilgili olay hub'ları yeterlidir toogrant erişim tooan uygulama istiyorsanız, aşağıdaki hello:</span><span class="sxs-lookup"><span data-stu-id="fded8-201">If you want toogrant access tooan application that only needs toolisten toomonitoring-related event hubs, do hello following:</span></span>

1. <span data-ttu-id="fded8-202">Yalnızca dinleme talepleri ile izleme verilerini akış için oluşturulan hello olay ölçeklendirecek bir paylaşılan erişim ilkesi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="fded8-202">Create a shared access policy on hello event hub(s) that were created for streaming monitoring data with only Listen claims.</span></span> <span data-ttu-id="fded8-203">Bu hello Portalı'nda yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="fded8-203">This can be done in hello portal.</span></span> <span data-ttu-id="fded8-204">Örneğin, "monitoringReadOnly." çağırabilirsiniz</span><span class="sxs-lookup"><span data-stu-id="fded8-204">For example, you might call it “monitoringReadOnly.”</span></span> <span data-ttu-id="fded8-205">Mümkünse, doğrudan toohello tüketici anahtarı ve hello sonraki adımı atlayın toogive isteyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="fded8-205">If possible, you will want toogive that key directly toohello consumer and skip hello next step.</span></span>
2. <span data-ttu-id="fded8-206">Merhaba tüketici toobe mümkün tooget hello anahtar geçici gerekiyorsa, bu olay hub'ın hello kullanıcı hello ListKeys eylemi verin.</span><span class="sxs-lookup"><span data-stu-id="fded8-206">If hello consumer needs toobe able tooget hello key ad-hoc, grant hello user hello ListKeys action for that event hub.</span></span> <span data-ttu-id="fded8-207">Bu ayrıca toobe mümkün tooset tanılama ayarını gerekir veya profil toostream tooevent hub oturum kullanıcılar için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="fded8-207">This is also necessary for users who need toobe able tooset a diagnostic setting or log profile toostream tooevent hubs.</span></span> <span data-ttu-id="fded8-208">Örneğin, bir RBAC kuralı oluşturabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="fded8-208">For example, you might create an RBAC rule:</span></span>
   
   ```powershell
   $role = Get-AzureRmRoleDefinition "Reader"
   $role.Id = $null
   $role.Name = "Monitoring Event Hub Listener"
   $role.Description = "Can get hello key toolisten tooan event hub streaming monitoring data."
   $role.Actions.Clear()
   $role.Actions.Add("Microsoft.ServiceBus/namespaces/authorizationrules/listkeys/action")
   $role.Actions.Add("Microsoft.ServiceBus/namespaces/Read")
   $role.AssignableScopes.Clear()
   $role.AssignableScopes.Add("/subscriptions/mySubscription/resourceGroups/myResourceGroup/providers/Microsoft.ServiceBus/namespaces/mySBNameSpace")
   New-AzureRmRoleDefinition -Role $role 
   ```

## <a name="next-steps"></a><span data-ttu-id="fded8-209">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="fded8-209">Next steps</span></span>
* [<span data-ttu-id="fded8-210">RBAC ve izinlerini Kaynak Yöneticisi'ni okuyun</span><span class="sxs-lookup"><span data-stu-id="fded8-210">Read about RBAC and permissions in Resource Manager</span></span>](../active-directory/role-based-access-control-what-is.md)
* [<span data-ttu-id="fded8-211">Azure'da izleme okuma hello genel bakış</span><span class="sxs-lookup"><span data-stu-id="fded8-211">Read hello overview of monitoring in Azure</span></span>](monitoring-overview.md)

