---
title: "Data Lake Store performans ayarlama yönergeleri aaaAzure | Microsoft Docs"
description: "Azure Data Lake Store performans ayarlama yönergeleri"
services: data-lake-store
documentationcenter: 
author: stewu
manager: amitkul
editor: cgronlun
ms.assetid: ebde7b9f-2e51-4d43-b7ab-566417221335
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 06/30/2017
ms.author: stewu
ms.openlocfilehash: 939faa068c0f81d18d9533956f4d336bc4d0cbe3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="tuning-azure-data-lake-store-for-performance"></a><span data-ttu-id="a6902-103">Azure Data Lake Store için performans ayarlama</span><span class="sxs-lookup"><span data-stu-id="a6902-103">Tuning Azure Data Lake Store for performance</span></span>

<span data-ttu-id="a6902-104">Data Lake Store, g/ç yoğun analizi ve veri taşıma için yüksek verimlilik destekler.</span><span class="sxs-lookup"><span data-stu-id="a6902-104">Data Lake Store supports high-throughput for I/O intensive analytics and data movement.</span></span>  <span data-ttu-id="a6902-105">Azure Data Lake Store'da kullanılabilir tüm işleme – okunan veya saniye başına yazılan veri miktarı hello – önemli tooget hello en iyi performansı kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="a6902-105">In Azure Data Lake Store, using all available throughput – hello amount of data that can be read or written per second – is important tooget hello best performance.</span></span>  <span data-ttu-id="a6902-106">Bu sayıda okuma gerçekleştirerek elde edilir ve mümkün olduğunca paralel yazar.</span><span class="sxs-lookup"><span data-stu-id="a6902-106">This is achieved by performing as many reads and writes in parallel as possible.</span></span>

![Data Lake Store performans](./media/data-lake-store-performance-tuning-guidance/throughput.png)

<span data-ttu-id="a6902-108">Azure Data Lake Store tüm analytics senaryo için tooprovide hello gerekli işleme ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a6902-108">Azure Data Lake Store can scale tooprovide hello necessary throughput for all analytics scenario.</span></span> <span data-ttu-id="a6902-109">Varsayılan olarak, bir Azure Data Lake Store hesabı toomeet hello kullanım durumlarının geniş bir kullanıcı kategorisi ihtiyaçlarını otomatik olarak yeterli verimlilik sağlar.</span><span class="sxs-lookup"><span data-stu-id="a6902-109">By default, an Azure Data Lake Store account provides automatically enough throughput toomeet hello needs of a broad category of use cases.</span></span> <span data-ttu-id="a6902-110">Müşteriler hello varsayılan sınır çalıştırdığı hello durumlarda, ADLS hesabına hello yapılandırılmış tooprovide Microsoft Destek ile iletişim kurarak daha fazla verimlilik olabilir.</span><span class="sxs-lookup"><span data-stu-id="a6902-110">For hello cases where customers run into hello default limit, hello ADLS account can be configured tooprovide more throughput by contacting Microsoft support.</span></span>

## <a name="data-ingestion"></a><span data-ttu-id="a6902-111">Veri alımı</span><span class="sxs-lookup"><span data-stu-id="a6902-111">Data ingestion</span></span>

<span data-ttu-id="a6902-112">Bir kaynak sistem tooADLS verilerden alma, kaynak donanım, kaynak ağ donanım ve ağ bağlantısı tooADLS hello tooconsider hello performans sorunu olabilir önemlidir.</span><span class="sxs-lookup"><span data-stu-id="a6902-112">When ingesting data from a source system tooADLS, it is important tooconsider that hello source hardware, source network hardware, and network connectivity tooADLS can be hello bottleneck.</span></span>  

![Data Lake Store performans](./media/data-lake-store-performance-tuning-guidance/bottleneck.png)

<span data-ttu-id="a6902-114">Veri taşıma hello tooensure faktörlerin tarafından etkilenmez önemlidir.</span><span class="sxs-lookup"><span data-stu-id="a6902-114">It is important tooensure that hello data movement is not affected by these factors.</span></span>

### <a name="source-hardware"></a><span data-ttu-id="a6902-115">Kaynak donanım</span><span class="sxs-lookup"><span data-stu-id="a6902-115">Source Hardware</span></span>

<span data-ttu-id="a6902-116">Şirket içi makineler veya sanal makineleri Azure'da kullanıp kullanmadığınızı hello uygun donanım dikkatli seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="a6902-116">Whether you are using on-premises machines or VMs in Azure, you should carefully select hello appropriate hardware.</span></span> <span data-ttu-id="a6902-117">Kaynak Disk donanımı için SSD tooHDDs tercih ve daha hızlı dağılımı ile disk donanımı seçin.</span><span class="sxs-lookup"><span data-stu-id="a6902-117">For Source Disk Hardware, prefer SSDs tooHDDs and pick disk hardware with faster spindles.</span></span> <span data-ttu-id="a6902-118">Kaynak ağ donanımını hello hızlı NIC'ler olası kullanın.</span><span class="sxs-lookup"><span data-stu-id="a6902-118">For Source Network Hardware, use hello fastest NICs possible.</span></span>  <span data-ttu-id="a6902-119">Azure üzerinde hello uygun şekilde güçlü disk ve ağ donanımı olan Azure D14 VM'ler öneririz.</span><span class="sxs-lookup"><span data-stu-id="a6902-119">On Azure, we recommend Azure D14 VMs which have hello appropriately powerful disk and networking hardware.</span></span>

### <a name="network-connectivity-tooazure-data-lake-store"></a><span data-ttu-id="a6902-120">Ağ bağlantısı tooAzure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="a6902-120">Network Connectivity tooAzure Data Lake Store</span></span>

<span data-ttu-id="a6902-121">veri kaynağı ile Azure Data Lake store arasında ağ bağlantısı Hello bazen hello performans sorunu olabilir.</span><span class="sxs-lookup"><span data-stu-id="a6902-121">hello network connectivity between your source data and Azure Data Lake store can sometimes be hello bottleneck.</span></span> <span data-ttu-id="a6902-122">Veri kaynağınızı şirket içi olduğunda, ile ayrılmış bir bağlantı kullanmayı [Azure ExpressRoute](https://azure.microsoft.com/en-us/services/expressroute/) .</span><span class="sxs-lookup"><span data-stu-id="a6902-122">When your source data is On-Premises, consider using a dedicated link with [Azure ExpressRoute](https://azure.microsoft.com/en-us/services/expressroute/) .</span></span> <span data-ttu-id="a6902-123">Veri kaynağınızı Azure içinde ise, hello veri hello olduğunda hello performansı en iyi olacaktır hello Data Lake Store olduğu Azure bölgesinin.</span><span class="sxs-lookup"><span data-stu-id="a6902-123">If your source data is in Azure, hello performance will be best when hello data is in hello same Azure region as hello Data Lake Store.</span></span>

### <a name="configure-data-ingestion-tools-for-maximum-parallelization"></a><span data-ttu-id="a6902-124">Veri alımı araçları maksimum paralelleştirme için yapılandırma</span><span class="sxs-lookup"><span data-stu-id="a6902-124">Configure Data Ingestion tools for maximum parallelization</span></span>

<span data-ttu-id="a6902-125">Merhaba kaynak donanım ele ve ağ bağlantısı sorunlarını yukarıdaki verdikten sonra hazır tooconfigure demektir alım araçlarınızı.</span><span class="sxs-lookup"><span data-stu-id="a6902-125">Once you have addressed hello source hardware and network connectivity bottlenecks above, you are ready tooconfigure your ingestion tools.</span></span> <span data-ttu-id="a6902-126">Merhaba aşağıdaki tabloda çeşitli popüler alım Araçlar hello anahtar ayarları özetler ve ayrıntılı performans makaleler için ayarlama sağlar.</span><span class="sxs-lookup"><span data-stu-id="a6902-126">hello following table summarizes hello key settings for several popular ingestion tools and provides in-depth performance tuning articles for them.</span></span>  <span data-ttu-id="a6902-127">hangi hakkında daha fazla aracı senaryonuz, toouse toolearn bu ziyaret [makale](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-data-scenarios).</span><span class="sxs-lookup"><span data-stu-id="a6902-127">toolearn more about which tool toouse for your scenario, visit this [article](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-data-scenarios).</span></span>

| <span data-ttu-id="a6902-128">Aracı</span><span class="sxs-lookup"><span data-stu-id="a6902-128">Tool</span></span>               | <span data-ttu-id="a6902-129">Ayarlar</span><span class="sxs-lookup"><span data-stu-id="a6902-129">Settings</span></span>     | <span data-ttu-id="a6902-130">Daha fazla ayrıntı</span><span class="sxs-lookup"><span data-stu-id="a6902-130">More Details</span></span>                                                                 |
|--------------------|------------------------------------------------------|------------------------------|
| <span data-ttu-id="a6902-131">PowerShell</span><span class="sxs-lookup"><span data-stu-id="a6902-131">Powershell</span></span>       | <span data-ttu-id="a6902-132">PerFileThreadCount, ConcurrentFileCount</span><span class="sxs-lookup"><span data-stu-id="a6902-132">PerFileThreadCount, ConcurrentFileCount</span></span> |  [<span data-ttu-id="a6902-133">Bağlantı</span><span class="sxs-lookup"><span data-stu-id="a6902-133">Link</span></span>](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-get-started-powershell#performance-guidance-while-using-powershell)   |
| <span data-ttu-id="a6902-134">AdlCopy</span><span class="sxs-lookup"><span data-stu-id="a6902-134">AdlCopy</span></span>    | <span data-ttu-id="a6902-135">Azure Data Lake Analytics birimleri</span><span class="sxs-lookup"><span data-stu-id="a6902-135">Azure Data Lake Analytics units</span></span>  |   [<span data-ttu-id="a6902-136">Bağlantı</span><span class="sxs-lookup"><span data-stu-id="a6902-136">Link</span></span>](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-copy-data-azure-storage-blob#performance-considerations-for-using-adlcopy)         |
| <span data-ttu-id="a6902-137">Distcp'yi</span><span class="sxs-lookup"><span data-stu-id="a6902-137">DistCp</span></span>            | <span data-ttu-id="a6902-138">-m (Eşleyici)</span><span class="sxs-lookup"><span data-stu-id="a6902-138">-m (mapper)</span></span>   | [<span data-ttu-id="a6902-139">Bağlantı</span><span class="sxs-lookup"><span data-stu-id="a6902-139">Link</span></span>](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-copy-data-wasb-distcp#performance-considerations-while-using-distcp)                             |
| <span data-ttu-id="a6902-140">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="a6902-140">Azure Data Factory</span></span>| <span data-ttu-id="a6902-141">parallelCopies</span><span class="sxs-lookup"><span data-stu-id="a6902-141">parallelCopies</span></span>    | [<span data-ttu-id="a6902-142">Bağlantı</span><span class="sxs-lookup"><span data-stu-id="a6902-142">Link</span></span>](../data-factory/data-factory-copy-activity-performance.md)                          |
| <span data-ttu-id="a6902-143">Sqoop</span><span class="sxs-lookup"><span data-stu-id="a6902-143">Sqoop</span></span>           | <span data-ttu-id="a6902-144">FS.Azure.Block.size, -m (Eşleyici)</span><span class="sxs-lookup"><span data-stu-id="a6902-144">fs.azure.block.size, -m (mapper)</span></span>    |   [<span data-ttu-id="a6902-145">Bağlantı</span><span class="sxs-lookup"><span data-stu-id="a6902-145">Link</span></span>](https://blogs.msdn.microsoft.com/bigdatasupport/2015/02/17/sqoop-job-performance-tuning-in-hdinsight-hadoop/)        |

## <a name="structure-your-data-set"></a><span data-ttu-id="a6902-146">Veri kümenizi yapısı</span><span class="sxs-lookup"><span data-stu-id="a6902-146">Structure your data set</span></span>

<span data-ttu-id="a6902-147">Data Lake Store hello dosya boyutu, veriler, dosya ve klasör yapısı sayısı bir performansı etkiler.</span><span class="sxs-lookup"><span data-stu-id="a6902-147">When data is stored in Data Lake Store, hello file size, number of files, and folder structure have an impact on performance.</span></span>  <span data-ttu-id="a6902-148">Merhaba aşağıdaki bölümde bu alanlarda en iyi uygulamaları açıklar.</span><span class="sxs-lookup"><span data-stu-id="a6902-148">hello following section describes best practices in these areas.</span></span>  

### <a name="file-size"></a><span data-ttu-id="a6902-149">Dosya boyutu</span><span class="sxs-lookup"><span data-stu-id="a6902-149">File size</span></span>

<span data-ttu-id="a6902-150">Genellikle, analiz altyapıları Hdınsight ve Azure Data Lake Analytics gibi dosya başına ek yükleri vardır.</span><span class="sxs-lookup"><span data-stu-id="a6902-150">Typically, analytics engines such as HDInsight and Azure Data Lake Analytics have a per-file overhead.</span></span>  <span data-ttu-id="a6902-151">Verilerinizi kadar küçük dosyalarını depoluyorsa, bu performans olumsuz yönde etkileyebilir.</span><span class="sxs-lookup"><span data-stu-id="a6902-151">If you store your data as many small files, this can negatively affect performance.</span></span>  

<span data-ttu-id="a6902-152">Genel olarak, verilerinizin daha iyi performans için daha büyük boyutlu dosyalar halinde düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="a6902-152">In general, organize your data into larger sized files for better performance.</span></span>  <span data-ttu-id="a6902-153">Altın kural, dosyalar 256 MB veya daha büyük veri kümelerinde düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="a6902-153">As a rule of thumb, organize data sets in files of 256MB or larger.</span></span> <span data-ttu-id="a6902-154">Görüntüleri ve ikili veriler gibi bazı durumlarda, olası tooprocess değil paralel bunları.</span><span class="sxs-lookup"><span data-stu-id="a6902-154">In some cases such as images and binary data, it is not possible tooprocess them in parallel.</span></span>  <span data-ttu-id="a6902-155">Bu durumlarda, tookeep tek tek dosyaların altında 2 GB önerilir.</span><span class="sxs-lookup"><span data-stu-id="a6902-155">In these cases, it is recommended tookeep individual files under 2GB.</span></span>

<span data-ttu-id="a6902-156">Bazı durumlarda, veri ardışık çok sayıda küçük dosya olan hello ham veriler üzerinde denetim sınırlı.</span><span class="sxs-lookup"><span data-stu-id="a6902-156">Sometimes, data pipelines have limited control over hello raw data which has lots of small files.</span></span>  <span data-ttu-id="a6902-157">Toohave önerilen büyük oluşturan bir "pişirme" aşağı akış uygulamaları için toouse dosyalara işlemi.</span><span class="sxs-lookup"><span data-stu-id="a6902-157">It is recommended toohave a “cooking” process that generates larger files toouse for downstream applications.</span></span>  

### <a name="organizing-time-series-data-in-folders"></a><span data-ttu-id="a6902-158">Zaman serisi veri klasörlerde düzenleme</span><span class="sxs-lookup"><span data-stu-id="a6902-158">Organizing Time Series data in folders</span></span>

<span data-ttu-id="a6902-159">Hive ve ADLA iş yükleri için yalnızca bir veri alt kümesini performansını artıran hello okuma bazı sorgular zaman serisi veri bölümü ayıklanmasına yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="a6902-159">For Hive and ADLA workloads, partition pruning of time-series data can help some queries read only a subset of hello data which improves performance.</span></span>    

<span data-ttu-id="a6902-160">Zaman serisi veri alma bu ardışık düzen genellikle dosya ve klasörler için çok yapılandırılmış adlandırma ile dosyalarına yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="a6902-160">Those pipelines that ingest time-series data, often place their files with a very structured naming for files and folders.</span></span> <span data-ttu-id="a6902-161">Biz tarihe göre yapılandırılmış veriler için bkz: çok yaygın bir örneği aşağıdadır:</span><span class="sxs-lookup"><span data-stu-id="a6902-161">Below is a very common example we see for data that is structured by date:</span></span>

    \DataSet\YYYY\MM\DD\datafile_YYYY_MM_DD.tsv

<span data-ttu-id="a6902-162">Merhaba datetime bilgi klasörler olarak hem hello filename görüntülendiğine dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="a6902-162">Notice that hello datetime information appears both as folders and in hello filename.</span></span>

<span data-ttu-id="a6902-163">Tarih ve saat için genel bir desen hello aşağıda verilmiştir</span><span class="sxs-lookup"><span data-stu-id="a6902-163">For date and time, hello following is a common pattern</span></span>

    \DataSet\YYYY\MM\DD\HH\mm\datafile_YYYY_MM_DD_HH_mm.tsv

<span data-ttu-id="a6902-164">Yeniden hello klasör ve dosya kuruluşla yaptığınız hello seçim hello daha büyük dosya boyutlarına ve her klasördeki dosyaları makul bir dizi iyileştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="a6902-164">Again, hello choice you make with hello folder and file organization should optimize for hello larger file sizes and a reasonable number of files in each folder.</span></span>

## <a name="optimizing-io-intensive-jobs-on-hadoop-and-spark-workloads-on-hdinsight"></a><span data-ttu-id="a6902-165">Hdınsight'ta Hadoop ve Spark iş yükleri üzerindeki g/ç yoğun işleri en iyi duruma getirme</span><span class="sxs-lookup"><span data-stu-id="a6902-165">Optimizing I/O intensive jobs on Hadoop and Spark workloads on HDInsight</span></span>

<span data-ttu-id="a6902-166">İşlerini aşağıdaki üç kategoride hello birine ayrılır:</span><span class="sxs-lookup"><span data-stu-id="a6902-166">Jobs fall into one of hello following three categories:</span></span>

* <span data-ttu-id="a6902-167">**CPU yoğun.**</span><span class="sxs-lookup"><span data-stu-id="a6902-167">**CPU intensive.**</span></span>  <span data-ttu-id="a6902-168">Bu işleri en az g/ç sürelerinin uzun hesaplama zamanlarında vardır.</span><span class="sxs-lookup"><span data-stu-id="a6902-168">These jobs have long computation times with minimal I/O times.</span></span>  <span data-ttu-id="a6902-169">Örnek makine öğrenme ve doğal dil işleri işleme verilebilir.</span><span class="sxs-lookup"><span data-stu-id="a6902-169">Examples include machine learning and natural language processing jobs.</span></span>  
* <span data-ttu-id="a6902-170">**Yoğun bellek.**</span><span class="sxs-lookup"><span data-stu-id="a6902-170">**Memory intensive.**</span></span>  <span data-ttu-id="a6902-171">Bu işlemler büyük miktarda bellek kullanır.</span><span class="sxs-lookup"><span data-stu-id="a6902-171">These jobs use lots of memory.</span></span>  <span data-ttu-id="a6902-172">Örnek PageRank ve gerçek zamanlı analytics işleri verilebilir.</span><span class="sxs-lookup"><span data-stu-id="a6902-172">Examples include PageRank and real-time analytics jobs.</span></span>  
* <span data-ttu-id="a6902-173">**G/ç yoğun.**</span><span class="sxs-lookup"><span data-stu-id="a6902-173">**I/O intensive.**</span></span>  <span data-ttu-id="a6902-174">Bu işleri çoğu g/ç yapılması kendi zaman ayırın.</span><span class="sxs-lookup"><span data-stu-id="a6902-174">These jobs spend most of their time doing I/O.</span></span>  <span data-ttu-id="a6902-175">Yalnızca okuma ve yazma işlemlerinin bir kopya iş buna ortak bir örnektir.</span><span class="sxs-lookup"><span data-stu-id="a6902-175">A common example is a copy job which does only read and write operations.</span></span>  <span data-ttu-id="a6902-176">Çok miktarda veri okuma, bazı veri dönüştürme gerçekleştirdiği veri hazırlık işleri diğer örnekler ve ardından veri geri toohello deposu yazma hello.</span><span class="sxs-lookup"><span data-stu-id="a6902-176">Other examples include data preparation jobs that read a lot of data, performs some data transformation, and then writes hello data back toohello store.</span></span>  

<span data-ttu-id="a6902-177">yönergeleri izleyerek hello yalnızca geçerli tooI/O yoğun işler ' dir.</span><span class="sxs-lookup"><span data-stu-id="a6902-177">hello following guidance is only applicable tooI/O intensive jobs.</span></span>

### <a name="general-considerations-for-an-hdinsight-cluster"></a><span data-ttu-id="a6902-178">Hdınsight kümesi için genel konular</span><span class="sxs-lookup"><span data-stu-id="a6902-178">General Considerations for an HDInsight cluster</span></span>

* <span data-ttu-id="a6902-179">**Hdınsight sürümleri.**</span><span class="sxs-lookup"><span data-stu-id="a6902-179">**HDInsight versions.**</span></span> <span data-ttu-id="a6902-180">En iyi performans için Hdınsight hello en son sürümünü kullanın.</span><span class="sxs-lookup"><span data-stu-id="a6902-180">For best performance, use hello latest release of HDInsight.</span></span>
* <span data-ttu-id="a6902-181">**Bölgeleri.**</span><span class="sxs-lookup"><span data-stu-id="a6902-181">**Regions.**</span></span> <span data-ttu-id="a6902-182">Merhaba Data Lake Store hello yerleştirin hello Hdınsight kümesi ile aynı bölgeye.</span><span class="sxs-lookup"><span data-stu-id="a6902-182">Place hello Data Lake Store in hello same region as hello HDInsight cluster.</span></span>  

<span data-ttu-id="a6902-183">Hdınsight kümesi iki baş düğümler ve bazı çalışan düğümleri oluşur.</span><span class="sxs-lookup"><span data-stu-id="a6902-183">An HDInsight cluster is composed of two head nodes and some worker nodes.</span></span> <span data-ttu-id="a6902-184">Her bir çalışan düğümünün belirli sayıda çekirdek ve hello VM türü tarafından belirlenir bellek sağlar.</span><span class="sxs-lookup"><span data-stu-id="a6902-184">Each worker node provides a specific number of cores and memory, which is determined by hello VM-type.</span></span>  <span data-ttu-id="a6902-185">Bir iş çalışırken YARN hello kullanılabilir bellek ve çekirdek toocreate kapsayıcıları ayırır hello kaynak uzlaştırıcı ' dir.</span><span class="sxs-lookup"><span data-stu-id="a6902-185">When running a job, YARN is hello resource negotiator that allocates hello available memory and cores toocreate containers.</span></span>  <span data-ttu-id="a6902-186">Her kapsayıcı hello görevleri gerekli toocomplete hello işi çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="a6902-186">Each container runs hello tasks needed toocomplete hello job.</span></span>  <span data-ttu-id="a6902-187">Kapsayıcıları paralel tooprocess görevleri hızla çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="a6902-187">Containers run in parallel tooprocess tasks quickly.</span></span> <span data-ttu-id="a6902-188">Bu nedenle, performans mümkün olduğu kadar paralel kapsayıcılar çalıştırarak geliştirildi.</span><span class="sxs-lookup"><span data-stu-id="a6902-188">Therefore, performance is improved by running as many parallel containers as possible.</span></span>

<span data-ttu-id="a6902-189">Bizi tooincrease olabilecek Hdınsight kümesi içinde üç katmanı Merhaba kapsayıcılara sayısı ve kullanılabilir tüm işleme kullanmak vardır.</span><span class="sxs-lookup"><span data-stu-id="a6902-189">There are three layers within an HDInsight cluster that can be tuned tooincrease hello number of containers and use all available throughput.</span></span>  

* <span data-ttu-id="a6902-190">**Fiziksel katman**</span><span class="sxs-lookup"><span data-stu-id="a6902-190">**Physical layer**</span></span>
* <span data-ttu-id="a6902-191">**YARN katmanı**</span><span class="sxs-lookup"><span data-stu-id="a6902-191">**YARN layer**</span></span>
* <span data-ttu-id="a6902-192">**İş yükü katmanı**</span><span class="sxs-lookup"><span data-stu-id="a6902-192">**Workload layer**</span></span>

### <a name="physical-layer"></a><span data-ttu-id="a6902-193">Fiziksel katman</span><span class="sxs-lookup"><span data-stu-id="a6902-193">Physical Layer</span></span>

<span data-ttu-id="a6902-194">**Küme, daha fazla düğüm ve/veya daha büyük boyutlu VM'ler ile çalıştırın.**</span><span class="sxs-lookup"><span data-stu-id="a6902-194">**Run cluster with more nodes and/or larger sized VMs.**</span></span>  <span data-ttu-id="a6902-195">Daha büyük bir küme, toorun hello resimde gösterildiği gibi daha fazla YARN kapsayıcıları olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="a6902-195">A larger cluster will enable you toorun more YARN containers as shown in hello picture below.</span></span>

![Data Lake Store performans](./media/data-lake-store-performance-tuning-guidance/VM.png)

<span data-ttu-id="a6902-197">**VM'ler daha fazla ağ bant genişliği ile kullanın.**</span><span class="sxs-lookup"><span data-stu-id="a6902-197">**Use VMs with more network bandwidth.**</span></span>  <span data-ttu-id="a6902-198">Data Lake Store verimlilik daha az ağ bant genişliği ise hello miktarda ağ bant genişliği bir performans sorunu olabilir.</span><span class="sxs-lookup"><span data-stu-id="a6902-198">hello amount of network bandwidth can be a bottleneck if there is less network bandwidth than Data Lake Store throughput.</span></span>  <span data-ttu-id="a6902-199">Farklı sanal makineleri, ağ bant genişliği boyutları değişen sahip olur.</span><span class="sxs-lookup"><span data-stu-id="a6902-199">Different VMs will have varying network bandwidth sizes.</span></span>  <span data-ttu-id="a6902-200">Merhaba en büyük olası ağ bant genişliği olan bir VM-türü seçin.</span><span class="sxs-lookup"><span data-stu-id="a6902-200">Choose a VM-type that has hello largest possible network bandwidth.</span></span>

### <a name="yarn-layer"></a><span data-ttu-id="a6902-201">YARN katmanı</span><span class="sxs-lookup"><span data-stu-id="a6902-201">YARN Layer</span></span>

<span data-ttu-id="a6902-202">**Daha küçük YARN kapsayıcıları kullanın.**</span><span class="sxs-lookup"><span data-stu-id="a6902-202">**Use smaller YARN containers.**</span></span>  <span data-ttu-id="a6902-203">Daha fazla kapsayıcılarını hello ile her YARN kapsayıcı toocreate Hello boyutunu küçültmek aynı miktarda kaynak.</span><span class="sxs-lookup"><span data-stu-id="a6902-203">Reduce hello size of each YARN container toocreate more containers with hello same amount of resources.</span></span>

![Data Lake Store performans](./media/data-lake-store-performance-tuning-guidance/small-containers.png)

<span data-ttu-id="a6902-205">İş yükünüz bağlı olarak, her zaman olacaktır gereken en az bir YARN kapsayıcı boyutu.</span><span class="sxs-lookup"><span data-stu-id="a6902-205">Depending on your workload, there will always be a minimum YARN container size that is needed.</span></span> <span data-ttu-id="a6902-206">Çok küçük bir kapsayıcı seçerseniz, işlerinizi bellek yetersiz sorunla çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="a6902-206">If you pick too small a container, your jobs will run into out-of-memory issues.</span></span> <span data-ttu-id="a6902-207">Genellikle YARN kapsayıcıları Hayır 1 GB'den daha küçük olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="a6902-207">Typically YARN containers should be no smaller than 1GB.</span></span> <span data-ttu-id="a6902-208">Ortak toosee 3 GB YARN kapsayıcıları olur.</span><span class="sxs-lookup"><span data-stu-id="a6902-208">It’s common toosee 3GB YARN containers.</span></span> <span data-ttu-id="a6902-209">Bazı iş yükleri için daha büyük YARN kapsayıcıları gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="a6902-209">For some workloads, you may need larger YARN containers.</span></span>  

<span data-ttu-id="a6902-210">**YARN kapsayıcı başına çekirdek artırın.**</span><span class="sxs-lookup"><span data-stu-id="a6902-210">**Increase cores per YARN container.**</span></span>  <span data-ttu-id="a6902-211">Merhaba tooeach kapsayıcı tooincrease hello her kapsayıcıda çalıştırılan Paralel Görevler sayısı ayrılan çekirdek sayısını artırın.</span><span class="sxs-lookup"><span data-stu-id="a6902-211">Increase hello number of cores allocated tooeach container tooincrease hello number of parallel tasks that run in each container.</span></span>  <span data-ttu-id="a6902-212">Bu, kapsayıcı başına birden çok görevi çalıştır Spark gibi uygulamalar için çalışır.</span><span class="sxs-lookup"><span data-stu-id="a6902-212">This works for applications like Spark which run multiple tasks per container.</span></span>  <span data-ttu-id="a6902-213">Tek bir iş parçacığı her kapsayıcısında hangi çalışma, Hive gibi uygulamalar için kapsayıcı başına daha fazla çekirdek yerine daha fazla kapsayıcı toohave daha iyi.</span><span class="sxs-lookup"><span data-stu-id="a6902-213">For applications like Hive which run a single thread in each container, it is better toohave more containers rather than more cores per container.</span></span>   

### <a name="workload-layer"></a><span data-ttu-id="a6902-214">İş yükü katmanı</span><span class="sxs-lookup"><span data-stu-id="a6902-214">Workload Layer</span></span>

<span data-ttu-id="a6902-215">**Tüm kullanılabilir kapsayıcıları kullanın.**</span><span class="sxs-lookup"><span data-stu-id="a6902-215">**Use all available containers.**</span></span>  <span data-ttu-id="a6902-216">Görevleri toobe hello sayısı kullanılabilir kapsayıcıları hello sayısından büyük veya eşit tüm kaynakları yararlanılmıştır şekilde ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="a6902-216">Set hello number of tasks toobe equal or larger than hello number of available containers so that all resources are utilized.</span></span>

![Data Lake Store performans](./media/data-lake-store-performance-tuning-guidance/use-containers.png)

<span data-ttu-id="a6902-218">**Başarısız görevlerin maliyetlidir.**</span><span class="sxs-lookup"><span data-stu-id="a6902-218">**Failed tasks are costly.**</span></span> <span data-ttu-id="a6902-219">Her görev çok miktarda veri tooprocess varsa, bir görev hatasını içinde pahalı bir yeniden deneme sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="a6902-219">If each task has a large amount of data tooprocess, then failure of a task results in an expensive retry.</span></span>  <span data-ttu-id="a6902-220">Bu nedenle, daha iyi toocreate olduğundan daha fazla görev, her biri çok küçük miktarda veri işler.</span><span class="sxs-lookup"><span data-stu-id="a6902-220">Therefore, it is better toocreate more tasks, each of which processes a small amount of data.</span></span>

<span data-ttu-id="a6902-221">Toplama toohello genel yönergeleri'yukarıdaki her uygulamanın bu belirli bir uygulama için farklı parametreler kullanılabilir tootune vardır.</span><span class="sxs-lookup"><span data-stu-id="a6902-221">In addition toohello general guidelines above, each application has different parameters available tootune for that specific application.</span></span> <span data-ttu-id="a6902-222">Merhaba tabloda her uygulama için performans ayarlama ile başlatılan hello parametreleri ve bağlantıları tooget bazıları listelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="a6902-222">hello table below lists some of hello parameters and links tooget started with performance tuning for each application.</span></span>

| <span data-ttu-id="a6902-223">İş yükü</span><span class="sxs-lookup"><span data-stu-id="a6902-223">Workload</span></span>               | <span data-ttu-id="a6902-224">Parametre tooset görevleri</span><span class="sxs-lookup"><span data-stu-id="a6902-224">Parameter tooset tasks</span></span>                                                         |
|--------------------|-------------------------------------------------------------------------------------|
| [<span data-ttu-id="a6902-225">HDInisight Spark</span><span class="sxs-lookup"><span data-stu-id="a6902-225">Spark on HDInisight</span></span>](data-lake-store-performance-tuning-spark.md)       | <ul><li><span data-ttu-id="a6902-226">NUM yürütücüler</span><span class="sxs-lookup"><span data-stu-id="a6902-226">Num-executors</span></span></li><li><span data-ttu-id="a6902-227">Bellek içi Yürütücü</span><span class="sxs-lookup"><span data-stu-id="a6902-227">Executor-memory</span></span></li><li><span data-ttu-id="a6902-228">Yürütücü çekirdek</span><span class="sxs-lookup"><span data-stu-id="a6902-228">Executor-cores</span></span></li></ul> |
| [<span data-ttu-id="a6902-229">Hdınsight'ta hive</span><span class="sxs-lookup"><span data-stu-id="a6902-229">Hive on HDInsight</span></span>](data-lake-store-performance-tuning-hive.md)    | <ul><li><span data-ttu-id="a6902-230">Hive.tez.Container.size</span><span class="sxs-lookup"><span data-stu-id="a6902-230">hive.tez.container.size</span></span></li></ul>         |
| [<span data-ttu-id="a6902-231">Hdınsight üzerinde MapReduce</span><span class="sxs-lookup"><span data-stu-id="a6902-231">MapReduce on HDInsight</span></span>](data-lake-store-performance-tuning-mapreduce.md)            | <ul><li><span data-ttu-id="a6902-232">Mapreduce.Map.Memory</span><span class="sxs-lookup"><span data-stu-id="a6902-232">Mapreduce.map.memory</span></span></li><li><span data-ttu-id="a6902-233">Mapreduce.job.Maps</span><span class="sxs-lookup"><span data-stu-id="a6902-233">Mapreduce.job.maps</span></span></li><li><span data-ttu-id="a6902-234">Mapreduce.reduce.Memory</span><span class="sxs-lookup"><span data-stu-id="a6902-234">Mapreduce.reduce.memory</span></span></li><li><span data-ttu-id="a6902-235">Mapreduce.job.reduces</span><span class="sxs-lookup"><span data-stu-id="a6902-235">Mapreduce.job.reduces</span></span></li></ul> |
| [<span data-ttu-id="a6902-236">Hdınsight üzerinde Storm</span><span class="sxs-lookup"><span data-stu-id="a6902-236">Storm on HDInsight</span></span>](data-lake-store-performance-tuning-storm.md)| <ul><li><span data-ttu-id="a6902-237">Çalışan işlem sayısı</span><span class="sxs-lookup"><span data-stu-id="a6902-237">Number of worker processes</span></span></li><li><span data-ttu-id="a6902-238">Spout Yürütücü örneği sayısı</span><span class="sxs-lookup"><span data-stu-id="a6902-238">Number of spout executor instances</span></span></li><li><span data-ttu-id="a6902-239">Cıvata Yürütücü örneği sayısı</span><span class="sxs-lookup"><span data-stu-id="a6902-239">Number of bolt executor instances</span></span> </li><li><span data-ttu-id="a6902-240">Spout görev sayısı</span><span class="sxs-lookup"><span data-stu-id="a6902-240">Number of spout tasks</span></span></li><li><span data-ttu-id="a6902-241">Cıvata görev sayısı</span><span class="sxs-lookup"><span data-stu-id="a6902-241">Number of bolt tasks</span></span></li></ul>|

## <a name="see-also"></a><span data-ttu-id="a6902-242">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="a6902-242">See also</span></span>
* [<span data-ttu-id="a6902-243">Azure Data Lake Store'a Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="a6902-243">Overview of Azure Data Lake Store</span></span>](data-lake-store-overview.md)
* [<span data-ttu-id="a6902-244">Azure Data Lake Analytics ile Çalışmaya Başlama</span><span class="sxs-lookup"><span data-stu-id="a6902-244">Get Started with Azure Data Lake Analytics</span></span>](../data-lake-analytics/data-lake-analytics-get-started-portal.md)
