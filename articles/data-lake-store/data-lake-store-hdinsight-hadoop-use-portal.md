---
title: "Data Lake Store ile Azure Hdınsight kümeleri oluşturmak için Azure portalını kullanma | Microsoft Docs"
description: "Oluşturma ve Hdınsight kümeleri Azure Data Lake Store ile kullanmak için Azure portalını kullanın"
services: data-lake-store,hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: a8c45a83-a8e3-4227-8b02-1bc1e1de6767
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/14/2017
ms.author: nitinme
ms.openlocfilehash: 9dd56efb89e07ea61ae431d1ea2accd721cd6502
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/18/2017
---
# <a name="create-hdinsight-clusters-with-data-lake-store-by-using-the-azure-portal"></a><span data-ttu-id="6957c-103">Azure portalını kullanarak Data Lake Store ile Hdınsight kümeleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="6957c-103">Create HDInsight clusters with Data Lake Store by using the Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="6957c-104">Azure portal’ı kullanma</span><span class="sxs-lookup"><span data-stu-id="6957c-104">Use the Azure portal</span></span>](data-lake-store-hdinsight-hadoop-use-portal.md)
> * [<span data-ttu-id="6957c-105">(Varsayılan depolama için) PowerShell kullanma</span><span class="sxs-lookup"><span data-stu-id="6957c-105">Use PowerShell (for default storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell-for-default-storage.md)
> * [<span data-ttu-id="6957c-106">PowerShell (için ek depolama alanı) kullanın</span><span class="sxs-lookup"><span data-stu-id="6957c-106">Use PowerShell (for additional storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)
> * [<span data-ttu-id="6957c-107">Kaynak Yöneticisi'ni kullanın</span><span class="sxs-lookup"><span data-stu-id="6957c-107">Use Resource Manager</span></span>](data-lake-store-hdinsight-hadoop-use-resource-manager-template.md)
>
>

<span data-ttu-id="6957c-108">Varsayılan depolama veya ek depolama alanı olarak bir Hdınsight kümesi ile bir Azure Data Lake Store hesabı oluşturmak için Azure portalını kullanmayı öğrenin.</span><span class="sxs-lookup"><span data-stu-id="6957c-108">Learn how to use the Azure portal to create a HDInsight cluster with an Azure Data Lake Store account as the default storage or an additional storage.</span></span> <span data-ttu-id="6957c-109">Ek depolama alanı bir Hdınsight kümesi için isteğe bağlı olsa da, ek depolama hesapları, iş verilerinizi depolamak için önerilir.</span><span class="sxs-lookup"><span data-stu-id="6957c-109">Even though additional storage is optional for a HDInsight cluster, it is recommended to store your business data in the additional storage accounts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="6957c-110">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="6957c-110">Prerequisites</span></span>
<span data-ttu-id="6957c-111">Bu öğreticiye başlamadan önce aşağıdaki gereksinimleri yerine getirdiğinizi emin olun:</span><span class="sxs-lookup"><span data-stu-id="6957c-111">Before you begin this tutorial, ensure that you've met the following requirements:</span></span>

* <span data-ttu-id="6957c-112">**Bir Azure aboneliği**.</span><span class="sxs-lookup"><span data-stu-id="6957c-112">**An Azure subscription**.</span></span> <span data-ttu-id="6957c-113">Git [alma Azure ücretsiz deneme sürümü](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="6957c-113">Go to [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="6957c-114">**Bir Azure Data Lake Store hesabı**.</span><span class="sxs-lookup"><span data-stu-id="6957c-114">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="6957c-115">Makalesindeki yönergeleri izleyin [Azure portalını kullanarak Azure Data Lake Store ile çalışmaya başlama](data-lake-store-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="6957c-115">Follow the instructions from [Get started with Azure Data Lake Store by using the Azure portal](data-lake-store-get-started-portal.md).</span></span> <span data-ttu-id="6957c-116">Ayrıca hesabı kök klasör oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="6957c-116">You must also create a root folder on the account.</span></span>  <span data-ttu-id="6957c-117">Bu öğreticide, bir kök klasör adında __/kümeleri__ kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6957c-117">In this tutorial, a root folder called __/clusters__ is used.</span></span>
* <span data-ttu-id="6957c-118">**Bir Azure Active Directory hizmet asıl**.</span><span class="sxs-lookup"><span data-stu-id="6957c-118">**An Azure Active Directory service principal**.</span></span> <span data-ttu-id="6957c-119">Bu öğretici, bir hizmet asıl Azure Active Directory'de (Azure AD) oluşturma hakkında yönergeler sağlar.</span><span class="sxs-lookup"><span data-stu-id="6957c-119">This tutorial provides instructions on how to create a service principal in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="6957c-120">Ancak, bir hizmet sorumlusu oluşturmak için Azure AD yönetici olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="6957c-120">However, to create a service principal, you must be an Azure AD administrator.</span></span> <span data-ttu-id="6957c-121">Bir yöneticiyseniz, bu önkoşulu atlamak ve bu öğreticiyi devam edin.</span><span class="sxs-lookup"><span data-stu-id="6957c-121">If you are an administrator, you can skip this prerequisite and proceed with the tutorial.</span></span>

    >[!NOTE]
    ><span data-ttu-id="6957c-122">Yalnızca, Azure AD yöneticisiyseniz, bir hizmet asıl oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6957c-122">You can create a service principal only if you are an Azure AD administrator.</span></span> <span data-ttu-id="6957c-123">Azure AD yöneticinizin Data Lake Store ile Hdınsight kümesi oluşturmadan önce bir hizmet asıl oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="6957c-123">Your Azure AD administrator must create a service principal before you can create an HDInsight cluster with Data Lake Store.</span></span> <span data-ttu-id="6957c-124">Ayrıca, hizmet sorumlusu bir sertifikayla konusunda açıklandığı gibi oluşturulmalıdır [sertifikayla bir hizmet sorumlusu oluşturma](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span><span class="sxs-lookup"><span data-stu-id="6957c-124">Also, the service principal must be created with a certificate, as described at [Create a service principal with certificate](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span></span>
    >

## <a name="create-an-hdinsight-cluster"></a><span data-ttu-id="6957c-125">Hdınsight kümesi oluşturma</span><span class="sxs-lookup"><span data-stu-id="6957c-125">Create an HDInsight cluster</span></span>

<span data-ttu-id="6957c-126">Bu bölümde, varsayılan veya ek depolama alanı olarak Data Lake Store hesapları olan bir Hdınsight kümesi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="6957c-126">In this section, you create a HDInsight cluster with Data Lake Store accounts as the default or the additional storage.</span></span> <span data-ttu-id="6957c-127">Bu makalede, Data Lake Store hesaplarını yapılandırma bölümü yalnızca odaklanır.</span><span class="sxs-lookup"><span data-stu-id="6957c-127">This article only focuses the part of configuring Data Lake Store accounts.</span></span>  <span data-ttu-id="6957c-128">Genel küme oluşturma bilgiler ve yordamlar için bkz: [Hdınsight'ta oluşturmak Hadoop kümeleri](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="6957c-128">For the general cluster creation information and procedures, see [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span></span>

### <a name="create-a-cluster-with-data-lake-store-as-default-storage"></a><span data-ttu-id="6957c-129">Data Lake Store ile varsayılan depolama alanı olarak bir küme oluşturma</span><span class="sxs-lookup"><span data-stu-id="6957c-129">Create a cluster with Data Lake Store as default storage</span></span>

<span data-ttu-id="6957c-130">**Varsayılan depolama hesabı olarak bir Data Lake Store ile bir Hdınsight kümesi oluşturmak için**</span><span class="sxs-lookup"><span data-stu-id="6957c-130">**To create a HDInsight cluster with a Data Lake Store as the default storage account**</span></span>

1. <span data-ttu-id="6957c-131">[Azure Portal](https://portal.azure.com) oturum açın.</span><span class="sxs-lookup"><span data-stu-id="6957c-131">Sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="6957c-132">İzleyin [küme oluşturma](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) Hdınsight kümeleri oluşturma hakkında genel bilgi için.</span><span class="sxs-lookup"><span data-stu-id="6957c-132">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for the general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="6957c-133">Üzerinde **depolama** dikey altında **birincil depolama türü**seçin **Data Lake Store**ve ardından aşağıdaki bilgileri girin:</span><span class="sxs-lookup"><span data-stu-id="6957c-133">On the **Storage** blade, under **Primary storage type**, select **Data Lake Store**, and then enter the following information:</span></span>

    <span data-ttu-id="6957c-134">![Bir Hdınsight kümesine Ekle hizmet sorumlusu](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "hizmet sorumlusuna Hdınsight kümesi Ekle")</span><span class="sxs-lookup"><span data-stu-id="6957c-134">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "Add service principal to HDInsight cluster")</span></span>

    - <span data-ttu-id="6957c-135">**Select Data Lake Store hesabı**: mevcut bir Data Lake Store hesabını seçin.</span><span class="sxs-lookup"><span data-stu-id="6957c-135">**Select Data Lake Store account**: Select an existing Data Lake Store account.</span></span> <span data-ttu-id="6957c-136">Mevcut bir Data Lake Store hesabı gereklidir.</span><span class="sxs-lookup"><span data-stu-id="6957c-136">An existing Data Lake Store account is required.</span></span>  <span data-ttu-id="6957c-137">Bkz: [Önkoşullar](#prereuisites).</span><span class="sxs-lookup"><span data-stu-id="6957c-137">See [Prerequisites](#prereuisites).</span></span>
    - <span data-ttu-id="6957c-138">**Kök yolu**: kümeye özgü dosyaların depolanması olduğu bir yol girin.</span><span class="sxs-lookup"><span data-stu-id="6957c-138">**Root path**: Enter a path where the cluster-specific files are to be stored.</span></span> <span data-ttu-id="6957c-139">Ekran görüntüsü üzerinde olduğu __/ / myhdiadlcluster/kümeleri__, burada __/kümeleri__ klasör var olmalıdır ve Portal oluşturur *myhdicluster* klasör.</span><span class="sxs-lookup"><span data-stu-id="6957c-139">On the screenshot, it is __/clusters/myhdiadlcluster/__, in which the __/clusters__ folder must exist, and the Portal creates *myhdicluster* folder.</span></span>  <span data-ttu-id="6957c-140">*Myhdicluster* küme adıdır.</span><span class="sxs-lookup"><span data-stu-id="6957c-140">The *myhdicluster* is the cluster name.</span></span>
    - <span data-ttu-id="6957c-141">**Data Lake Store erişim**: Data Lake Store hesabı ve Hdınsight kümesi arasında erişim yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="6957c-141">**Data Lake Store access**: Configure access between the Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="6957c-142">Yönergeler için bkz: [yapılandırma Data Lake Store erişim](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="6957c-142">For instructions, see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>
    - <span data-ttu-id="6957c-143">**Ek depolama hesapları**: ek depolama alanı olarak Azure Storage hesapları eklemek için küme hesapları.</span><span class="sxs-lookup"><span data-stu-id="6957c-143">**Additional storage accounts**: Add Azure Storage Accounts as additional storage accounts for the cluster.</span></span> <span data-ttu-id="6957c-144">Ek eklemek için Data Lake depoları küme izinleri daha fazla Data Lake Store hesapları veriler üzerinde bir Data Lake Store hesabı birincil depolama türü olarak yapılandırılırken verilerek yapılır.</span><span class="sxs-lookup"><span data-stu-id="6957c-144">To add additional Data Lake Stores is done by giving the cluster permissions on data in more Data Lake Store accounts while configuring a Data Lake Store account as the primary storage type.</span></span> <span data-ttu-id="6957c-145">Bkz. [Data Lake Store erişimini yapılandırma](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="6957c-145">See [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

4. <span data-ttu-id="6957c-146">Üzerinde **Data Lake Store erişim**, tıklatın **seçin**ve açıklandığı gibi küme oluşturma ile devam et [Hdınsight'ta oluşturmak Hadoop kümeleri](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span><span class="sxs-lookup"><span data-stu-id="6957c-146">On the **Data Lake Store access**, click **Select**, and then continue with cluster creation as described in [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span></span>


### <a name="create-a-cluster-with-data-lake-store-as-additional-storage"></a><span data-ttu-id="6957c-147">Data Lake Store ile ek depolama alanı olarak bir küme oluşturma</span><span class="sxs-lookup"><span data-stu-id="6957c-147">Create a cluster with Data Lake Store as additional storage</span></span>

<span data-ttu-id="6957c-148">Aşağıdaki yönergeler, varsayılan depolama alanı olarak Azure Storage hesabı ve ek depolama alanı olarak Data Lake Store hesabı ile Hdınsight kümesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="6957c-148">The following instructions create a HDInsight cluster with an Azure Storage account as the default storage, and a Data Lake Store account as an additional storage.</span></span>
<span data-ttu-id="6957c-149">**Varsayılan depolama hesabı olarak bir Data Lake Store ile bir Hdınsight kümesi oluşturmak için**</span><span class="sxs-lookup"><span data-stu-id="6957c-149">**To create a HDInsight cluster with a Data Lake Store as the default storage account**</span></span>

1. <span data-ttu-id="6957c-150">[Azure Portal](https://portal.azure.com) oturum açın.</span><span class="sxs-lookup"><span data-stu-id="6957c-150">Sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="6957c-151">İzleyin [küme oluşturma](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) Hdınsight kümeleri oluşturma hakkında genel bilgi için.</span><span class="sxs-lookup"><span data-stu-id="6957c-151">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for the general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="6957c-152">Üzerinde **depolama** dikey altında **birincil depolama türü**seçin **Azure Storage**ve ardından aşağıdaki bilgileri girin:</span><span class="sxs-lookup"><span data-stu-id="6957c-152">On the **Storage** blade, under **Primary storage type**, select **Azure Storage**, and then enter the following information:</span></span>

    <span data-ttu-id="6957c-153">![Bir Hdınsight kümesine Ekle hizmet sorumlusu](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "hizmet sorumlusuna Hdınsight kümesi Ekle")</span><span class="sxs-lookup"><span data-stu-id="6957c-153">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "Add service principal to HDInsight cluster")</span></span>

    - <span data-ttu-id="6957c-154">**Seçim yöntemini**: aşağıdaki seçeneklerden birini kullanın:</span><span class="sxs-lookup"><span data-stu-id="6957c-154">**Selection method**: use one of the following options:</span></span>

        * <span data-ttu-id="6957c-155">Azure aboneliğinizin bir parçası olan bir depolama hesabını belirtmek için işaretleyin **My abonelikleri**ve ardından depolama hesabını seçin.</span><span class="sxs-lookup"><span data-stu-id="6957c-155">To specify a storage account that is part of your Azure subscription, select **My subscriptions**, and then select the storage account.</span></span>
        * <span data-ttu-id="6957c-156">Azure aboneliğiniz bir depolama hesabı belirtmek için işaretleyin **erişim tuşu**, dış depolama hesabı bilgilerini girin.</span><span class="sxs-lookup"><span data-stu-id="6957c-156">To specify a storage account that is outside your Azure subscription, select **Access key**, and then provide the information for the outside storage account.</span></span>

    - <span data-ttu-id="6957c-157">**Varsayılan kapsayıcı**: varsayılan değeri kullanın veya kendi adı belirtin.</span><span class="sxs-lookup"><span data-stu-id="6957c-157">**Default container**: use either the default value or specify your own name.</span></span>

    - <span data-ttu-id="6957c-158">Ek depolama hesapları: ek depolama alanı olarak daha fazla Azure Storage hesaplarını ekleyin.</span><span class="sxs-lookup"><span data-stu-id="6957c-158">Additional Storage accounts: add more Azure Storage accounts as the additional storage.</span></span>
    - <span data-ttu-id="6957c-159">Data Lake Store erişim: Data Lake Store hesabı ve Hdınsight kümesi arasında erişim yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="6957c-159">Data Lake Store access: configure access between the Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="6957c-160">Yönergeler için bkz [yapılandırma Data Lake Store erişim](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="6957c-160">For instructions see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

## <a name="configure-data-lake-store-access"></a><span data-ttu-id="6957c-161">Data Lake Store erişimi yapılandırma</span><span class="sxs-lookup"><span data-stu-id="6957c-161">Configure Data Lake Store access</span></span> 

<span data-ttu-id="6957c-162">Bu bölümde, bir Azure Active Directory hizmet asıl kullanarak Hdınsight kümelerini Data Lake Store erişimden yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="6957c-162">In this section, you configure Data Lake Store access from HDInsight clusters using an Azure Active Directory service principal.</span></span> 

### <a name="specify-a-service-principal"></a><span data-ttu-id="6957c-163">Bir hizmet sorumlusu belirtin</span><span class="sxs-lookup"><span data-stu-id="6957c-163">Specify a service principal</span></span>

<span data-ttu-id="6957c-164">Azure portalından, mevcut bir hizmet sorumlusu kullanabilir veya yeni bir tane oluşturun.</span><span class="sxs-lookup"><span data-stu-id="6957c-164">From the Azure portal, you can either use an existing service principal or create a new one.</span></span>

<span data-ttu-id="6957c-165">**Azure portalından bir hizmet sorumlusu oluşturmak için**</span><span class="sxs-lookup"><span data-stu-id="6957c-165">**To create a service principal from the Azure portal**</span></span>

1. <span data-ttu-id="6957c-166">Tıklatın **Data Lake Store erişim** Store dikey penceresinden.</span><span class="sxs-lookup"><span data-stu-id="6957c-166">Click **Data Lake Store access** from the Store blade.</span></span>
2. <span data-ttu-id="6957c-167">Üzerinde **Data Lake Store erişim** dikey penceresinde tıklatın **Yeni Oluştur**.</span><span class="sxs-lookup"><span data-stu-id="6957c-167">On the **Data Lake Store access** blade, click **Create new**.</span></span>
3. <span data-ttu-id="6957c-168">Tıklatın **hizmet sorumlusu**ve ardından bir hizmet sorumlusu oluşturmak için yönergeleri izleyin.</span><span class="sxs-lookup"><span data-stu-id="6957c-168">Click **Service Principal**, and then follow the instructions to create a service principal.</span></span>
4. <span data-ttu-id="6957c-169">Gelecekte tekrar kullanmaya karar verirseniz sertifikayı indirin.</span><span class="sxs-lookup"><span data-stu-id="6957c-169">Download the certificate if you decide to use it again in the future.</span></span> <span data-ttu-id="6957c-170">Sertifika indirme ek Hdınsight kümeleri oluşturduğunuzda aynı hizmet asıl adı kullanmak istiyorsanız yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="6957c-170">Downloading the certificate is useful if you want to use the same service principal when you create additional HDInsight clusters.</span></span>

    <span data-ttu-id="6957c-171">![Bir Hdınsight kümesine Ekle hizmet sorumlusu](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "hizmet sorumlusuna Hdınsight kümesi Ekle")</span><span class="sxs-lookup"><span data-stu-id="6957c-171">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "Add service principal to HDInsight cluster")</span></span>

4. <span data-ttu-id="6957c-172">Tıklatın **erişim** klasör erişimi yapılandırmak için.</span><span class="sxs-lookup"><span data-stu-id="6957c-172">Click **Access** to configure the folder access.</span></span>  <span data-ttu-id="6957c-173">Bkz: [dosya izinlerini yapılandırın](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="6957c-173">See [Configure file permissions](#configure-file-permissions).</span></span>


<span data-ttu-id="6957c-174">**Var olan bir hizmet sorumlusu Azure portalından kullanmak için**</span><span class="sxs-lookup"><span data-stu-id="6957c-174">**To use an existing service principal from the Azure portal**</span></span>

1. <span data-ttu-id="6957c-175">Tıklatın **Data Lake Store erişim**.</span><span class="sxs-lookup"><span data-stu-id="6957c-175">Click **Data Lake Store access**.</span></span>
1. <span data-ttu-id="6957c-176">Üzerinde **Data Lake Store erişim** dikey penceresinde tıklatın **var olanı kullan**.</span><span class="sxs-lookup"><span data-stu-id="6957c-176">On the **Data Lake Store access** blade, click **Use existing**.</span></span>
2. <span data-ttu-id="6957c-177">Tıklatın **hizmet sorumlusu**ve ardından bir hizmet sorumlusu seçin.</span><span class="sxs-lookup"><span data-stu-id="6957c-177">Click **Service Principal**, and then select a service principal.</span></span> 
3. <span data-ttu-id="6957c-178">Seçili Hizmet sorumlusu ile ilişkili sertifika (.pfx dosyası) karşıya yükleyin ve sonra sertifikanın parolasını girin.</span><span class="sxs-lookup"><span data-stu-id="6957c-178">Upload the certificate (.pfx file) that's associated with your selected service principal, and then enter the certificate password.</span></span>

    <span data-ttu-id="6957c-179">![Bir Hdınsight kümesine Ekle hizmet sorumlusu](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "hizmet sorumlusuna Hdınsight kümesi Ekle")</span><span class="sxs-lookup"><span data-stu-id="6957c-179">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "Add service principal to HDInsight cluster")</span></span>

4. <span data-ttu-id="6957c-180">Tıklatın **erişim** klasör erişimi yapılandırmak için.</span><span class="sxs-lookup"><span data-stu-id="6957c-180">Click **Access** to configure the folder access.</span></span>  <span data-ttu-id="6957c-181">Bkz: [dosya izinlerini yapılandırın](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="6957c-181">See [Configure file permissions](#configure-file-permissions).</span></span>


### <span data-ttu-id="6957c-182"><a name="configure-file-permissions"></a>Dosya izinleri yapılandırma</span><span class="sxs-lookup"><span data-stu-id="6957c-182"><a name="configure-file-permissions"></a>Configure file permissions</span></span>

<span data-ttu-id="6957c-183">Yapılandırır hesabının varsayılan depolama veya ek depolama alanı hesabı olarak kullanılması bağlı olarak farklı olur:</span><span class="sxs-lookup"><span data-stu-id="6957c-183">The configures are different depending on whether the account is used as the default storage or an additional storage account:</span></span>

- <span data-ttu-id="6957c-184">Varsayılan depolama alanı olarak kullanılan</span><span class="sxs-lookup"><span data-stu-id="6957c-184">Used as default storage</span></span>

    - <span data-ttu-id="6957c-185">Data Lake Store hesabı kök düzeyinde izni</span><span class="sxs-lookup"><span data-stu-id="6957c-185">permission at the root level of the Data Lake Store account</span></span>
    - <span data-ttu-id="6957c-186">Hdınsight küme depolama kök düzeyinde izni.</span><span class="sxs-lookup"><span data-stu-id="6957c-186">permission at the root level of the HDInsight cluster storage.</span></span> <span data-ttu-id="6957c-187">Örneğin, __/kümeleri__ öğreticide daha önce kullanılan klasör.</span><span class="sxs-lookup"><span data-stu-id="6957c-187">For example, the __/clusters__ folder used earlier in the tutorial.</span></span>
- <span data-ttu-id="6957c-188">Ek depolama alanı kullanın</span><span class="sxs-lookup"><span data-stu-id="6957c-188">Use as an additional storage</span></span>

    - <span data-ttu-id="6957c-189">Burada erişim dosya klasörleri izni.</span><span class="sxs-lookup"><span data-stu-id="6957c-189">Permission at the folders where you need file access.</span></span>

<span data-ttu-id="6957c-190">**Data Lake Store hesap kök düzeyinde izin atamak için**</span><span class="sxs-lookup"><span data-stu-id="6957c-190">**To assign permission at the Data Lake Store account root level**</span></span>

1. <span data-ttu-id="6957c-191">Üzerinde **Data Lake Store erişim** dikey penceresinde tıklatın **erişim**.</span><span class="sxs-lookup"><span data-stu-id="6957c-191">On the **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="6957c-192">**Dosya izinlerini seçin** dikey penceresi açılır.</span><span class="sxs-lookup"><span data-stu-id="6957c-192">The **Select file permissions** blade is opened.</span></span> <span data-ttu-id="6957c-193">Aboneliğinizdeki tüm Data Lake Store hesaplarını listeler.</span><span class="sxs-lookup"><span data-stu-id="6957c-193">It lists all the Data Lake Store accounts in your subscription.</span></span>
2. <span data-ttu-id="6957c-194">Getirin (tıklamayın) onay kutusu görünür yapmak için Data Lake Store hesabı adını üzerinden fare sonra onay kutusunu seçin.</span><span class="sxs-lookup"><span data-stu-id="6957c-194">Hover (do not click) the mouse over the name of the Data Lake Store account to make the check box visible, then select the check box.</span></span>

    <span data-ttu-id="6957c-195">![Bir Hdınsight kümesine Ekle hizmet sorumlusu](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "hizmet sorumlusuna Hdınsight kümesi Ekle")</span><span class="sxs-lookup"><span data-stu-id="6957c-195">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "Add service principal to HDInsight cluster")</span></span>

  <span data-ttu-id="6957c-196">Varsayılan olarak, __okuma__, __yazma__, ve __yürütme__ hepsi seçilidir.</span><span class="sxs-lookup"><span data-stu-id="6957c-196">By default, __READ__, __WRITE__, AND __EXECUTE__ are all selected.</span></span>

3. <span data-ttu-id="6957c-197">Tıklatın **seçin** sayfanın üzerinde.</span><span class="sxs-lookup"><span data-stu-id="6957c-197">Click **Select** on the bottom of the page.</span></span>
4. <span data-ttu-id="6957c-198">Tıklatın **çalıştırmak** izin atamak için.</span><span class="sxs-lookup"><span data-stu-id="6957c-198">Click **Run** to assign permission.</span></span>
5. <span data-ttu-id="6957c-199">**Bitti**’ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="6957c-199">Click **Done**.</span></span>

<span data-ttu-id="6957c-200">**Hdınsight küme kök düzeyinde izin atamak için**</span><span class="sxs-lookup"><span data-stu-id="6957c-200">**To assign permission at the HDInsight cluster root level**</span></span>

1. <span data-ttu-id="6957c-201">Üzerinde **Data Lake Store erişim** dikey penceresinde tıklatın **erişim**.</span><span class="sxs-lookup"><span data-stu-id="6957c-201">On the **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="6957c-202">**Dosya izinlerini seçin** dikey penceresi açılır.</span><span class="sxs-lookup"><span data-stu-id="6957c-202">The **Select file permissions** blade is opened.</span></span> <span data-ttu-id="6957c-203">Aboneliğinizdeki tüm Data Lake Store hesaplarını listeler.</span><span class="sxs-lookup"><span data-stu-id="6957c-203">It lists all the Data Lake Store accounts in your subscription.</span></span>
1. <span data-ttu-id="6957c-204">Gelen **dosya izinlerini seçin** dikey penceresinde içeriğini göstermek için Data Lake Store adına tıklayın.</span><span class="sxs-lookup"><span data-stu-id="6957c-204">From the **Select file permissions** blade, click the Data Lake Store name to show its content.</span></span>
2. <span data-ttu-id="6957c-205">Hdınsight küme depolama kök klasörü solundaki onay kutusunu işaretleyerek seçin.</span><span class="sxs-lookup"><span data-stu-id="6957c-205">Select the HDInsight cluster storage root by selecting the checkbox on the left of the folder.</span></span> <span data-ttu-id="6957c-206">Ekran göre daha önce küme depolama köküdür __/kümeleri__ varsayılan depolama alanı olarak Data Lake Store seçerken belirtilen klasör.</span><span class="sxs-lookup"><span data-stu-id="6957c-206">According to the screenshot earlier, the cluster storage root is __/clusters__ folder that you specified while selecting the Data Lake Store as default storage.</span></span>
3. <span data-ttu-id="6957c-207">Klasör izinlerini ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="6957c-207">Set the permissions on the folder.</span></span>  <span data-ttu-id="6957c-208">Varsayılan olarak, okuma, yazma ve yürütme hepsi seçilidir.</span><span class="sxs-lookup"><span data-stu-id="6957c-208">By default, read, write, and execute are all selected.</span></span>
4. <span data-ttu-id="6957c-209">Tıklatın **seçin** sayfanın üzerinde.</span><span class="sxs-lookup"><span data-stu-id="6957c-209">Click **Select** on the bottom of the page.</span></span>
5. <span data-ttu-id="6957c-210">**Çalıştır**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="6957c-210">Click **Run**.</span></span>
6. <span data-ttu-id="6957c-211">**Bitti**’ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="6957c-211">Click **Done**.</span></span>

<span data-ttu-id="6957c-212">Data Lake Store ek depolama alanı olarak kullanıyorsanız, yalnızca Hdınsight küme erişmek istediğiniz klasörleri izinlerini atamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="6957c-212">If you are using Data Lake Store as additional storage, you must assign permission only for the folders that you want to access from the HDInsight cluster.</span></span> <span data-ttu-id="6957c-213">Örneğin, aşağıdaki ekran görüntüsünde, yalnızca erişilmesine **hdiaddonstorage** bir Data Lake Store hesabında klasör.</span><span class="sxs-lookup"><span data-stu-id="6957c-213">For example, in the screenshot below, you provide access only to **hdiaddonstorage** folder in a Data Lake Store account.</span></span>

<span data-ttu-id="6957c-214">![Hdınsight kümesi için hizmet asıl izinleri atamak](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "Hdınsight kümesi için hizmet asıl izinleri atama")</span><span class="sxs-lookup"><span data-stu-id="6957c-214">![Assign service principal permissions to the HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "Assign service principal permissions to the HDInsight cluster")</span></span>


## <a name="verify-cluster-set-up"></a><span data-ttu-id="6957c-215">Küme ayarlama doğrulayın</span><span class="sxs-lookup"><span data-stu-id="6957c-215">Verify cluster set up</span></span>

<span data-ttu-id="6957c-216">Küme kurulumu tamamlandıktan sonra küme dikey penceresinde sonuçlarınızı ya da aşağıdaki adımları uygulayarak doğrulayın:</span><span class="sxs-lookup"><span data-stu-id="6957c-216">After the cluster setup is complete, on the cluster blade, verify your results by doing either or both of the following steps:</span></span>

* <span data-ttu-id="6957c-217">İlişkili depolama küme için belirttiğiniz Data Lake Store hesabı olduğunu doğrulamak için tıklatın **depolama hesapları** sol bölmede.</span><span class="sxs-lookup"><span data-stu-id="6957c-217">To verify that the associated storage for the cluster is the Data Lake Store account that you specified, click **Storage accounts** in the left pane.</span></span>

    <span data-ttu-id="6957c-218">![Bir Hdınsight kümesine Ekle hizmet sorumlusu](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "hizmet sorumlusuna Hdınsight kümesi Ekle")</span><span class="sxs-lookup"><span data-stu-id="6957c-218">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "Add service principal to HDInsight cluster")</span></span>

* <span data-ttu-id="6957c-219">Hizmet sorumlusu Hdınsight kümesi ile ilişkili doğru olduğunu doğrulamak için tıklatın **Data Lake Store erişim** sol bölmede.</span><span class="sxs-lookup"><span data-stu-id="6957c-219">To verify that the service principal is correctly associated with the HDInsight cluster, click **Data Lake Store access** in the left pane.</span></span>

    <span data-ttu-id="6957c-220">![Bir Hdınsight kümesine Ekle hizmet sorumlusu](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "hizmet sorumlusuna Hdınsight kümesi Ekle")</span><span class="sxs-lookup"><span data-stu-id="6957c-220">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "Add service principal to HDInsight cluster")</span></span>


## <a name="examples"></a><span data-ttu-id="6957c-221">Örnekler</span><span class="sxs-lookup"><span data-stu-id="6957c-221">Examples</span></span>

<span data-ttu-id="6957c-222">Data Lake Store ile küme, depolama alanı olarak ayarladıktan sonra bu Data Lake Store içinde depolanan verileri çözümlemek üzere Hdınsight kümesi kullanma örnekleri bakın.</span><span class="sxs-lookup"><span data-stu-id="6957c-222">After you have set up the cluster with Data Lake Store as your storage, refer to these examples of how to use HDInsight cluster to analyze the data that's stored in Data Lake Store.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-primary-storage"></a><span data-ttu-id="6957c-223">(Birincil depolama) bir Data Lake Store'da verileri karşı Hive sorgusu çalıştırma</span><span class="sxs-lookup"><span data-stu-id="6957c-223">Run a Hive query against data in a Data Lake Store (as primary storage)</span></span>

<span data-ttu-id="6957c-224">Bir Hive sorgusu çalıştırmak için Ambari portal Hive görünümleri arabiriminde kullanın.</span><span class="sxs-lookup"><span data-stu-id="6957c-224">To run a Hive query, use the Hive views interface in the Ambari portal.</span></span> <span data-ttu-id="6957c-225">Ambari Hive görünümleri kullanma hakkında daha fazla yönerge için bkz: [hdınsight'ta Hadoop ile Hive görünümünü kullanın](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span><span class="sxs-lookup"><span data-stu-id="6957c-225">For instructions on how to use Ambari Hive views, see [Use the Hive View with Hadoop in HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span></span>

<span data-ttu-id="6957c-226">Bir Data Lake Store'da verilerle çalışırken, değiştirmek için birkaç dizeleri vardır.</span><span class="sxs-lookup"><span data-stu-id="6957c-226">When you work with data in a Data Lake Store, there are a few strings to change.</span></span>

<span data-ttu-id="6957c-227">Veri yolu, örneğin, birincil depolama olarak Data Lake Store ile oluşturduğunuz küme kullanıyorsanız olan: *adl: / / < data_lake_store_account_name > /azuredatalakestore.net/path/to/file*.</span><span class="sxs-lookup"><span data-stu-id="6957c-227">If you use, for example, the cluster that you created with Data Lake Store as primary storage, the path to the data is: *adl://<data_lake_store_account_name>/azuredatalakestore.net/path/to/file*.</span></span> <span data-ttu-id="6957c-228">Data Lake Store hesabında depolanan örnek verilerden bir tablo oluşturmak için bir Hive sorgusu aşağıdaki deyim gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="6957c-228">A Hive query to create a table from sample data that's stored in the Data Lake Store account looks like the following statement:</span></span>

    CREATE EXTERNAL TABLE websitelog (str string) LOCATION 'adl://hdiadlsstorage.azuredatalakestore.net/clusters/myhdiadlcluster/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/'

<span data-ttu-id="6957c-229">Açıklamaları:</span><span class="sxs-lookup"><span data-stu-id="6957c-229">Descriptions:</span></span>
* <span data-ttu-id="6957c-230">`adl://hdiadlstorage.azuredatalakestore.net/`Data Lake Store hesabı köküdür.</span><span class="sxs-lookup"><span data-stu-id="6957c-230">`adl://hdiadlstorage.azuredatalakestore.net/` is the root of the Data Lake Store account.</span></span>
* <span data-ttu-id="6957c-231">`/clusters/myhdiadlcluster`Küme oluşturulurken belirtilen küme verileri köküdür.</span><span class="sxs-lookup"><span data-stu-id="6957c-231">`/clusters/myhdiadlcluster` is the root of the cluster data that you specified while creating the cluster.</span></span>
* <span data-ttu-id="6957c-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/`sorguda kullanılan örnek dosyasının konumudur.</span><span class="sxs-lookup"><span data-stu-id="6957c-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/` is the location of the sample file that you used in the query.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-additional-storage"></a><span data-ttu-id="6957c-233">Bir Data Lake Store'da verileri karşı (ek depolama alanı olarak) Hive sorgusu çalıştırma</span><span class="sxs-lookup"><span data-stu-id="6957c-233">Run a Hive query against data in a Data Lake Store (as additional storage)</span></span>

<span data-ttu-id="6957c-234">Oluşturduğunuz küme varsayılan depolama alanı olarak Blob Depolama birimi kullanıyorsa, örnek verileri ek depolama alanı olarak kullanılan Azure Data Lake Store hesabı dahil değil.</span><span class="sxs-lookup"><span data-stu-id="6957c-234">If the cluster that you created uses Blob storage as default storage, the sample data is not contained in the Azure Data Lake Store account that's used as additional storage.</span></span> <span data-ttu-id="6957c-235">Böyle bir durumda önce verileri Blob depolama alanından Data Lake Store'a aktarmak ve ardından önceki örnekte gösterildiği gibi sorgular çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="6957c-235">In such a case, first transfer the data from Blob storage to the Data Lake Store, and then run the queries as shown in the preceding example.</span></span>

<span data-ttu-id="6957c-236">Blob depolama alanından bir Data Lake Store'a veri kopyalama hakkında daha fazla bilgi için aşağıdaki makalelere bakın:</span><span class="sxs-lookup"><span data-stu-id="6957c-236">For information on how to copy data from Blob storage to a Data Lake Store, see the following articles:</span></span>

* [<span data-ttu-id="6957c-237">Azure Storage blobları ve Data Lake Store arasında veri kopyalamak için Distcp'yi kullanın</span><span class="sxs-lookup"><span data-stu-id="6957c-237">Use Distcp to copy data between Azure Storage blobs and Data Lake Store</span></span>](data-lake-store-copy-data-wasb-distcp.md)
* [<span data-ttu-id="6957c-238">Azure Storage bloblarından Data Lake Store'a veri kopyalamak için AdlCopy kullanın</span><span class="sxs-lookup"><span data-stu-id="6957c-238">Use AdlCopy to copy data from Azure Storage blobs to Data Lake Store</span></span>](data-lake-store-copy-data-azure-storage-blob.md)

### <a name="use-data-lake-store-with-a-spark-cluster"></a><span data-ttu-id="6957c-239">Kullanım Data Lake Store ile Spark kümesi</span><span class="sxs-lookup"><span data-stu-id="6957c-239">Use Data Lake Store with a Spark cluster</span></span>
<span data-ttu-id="6957c-240">Spark kümesi, bir Data Lake Store'da depolanan veriler üzerinde Spark işlerini çalıştırmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6957c-240">You can use a Spark cluster to run Spark jobs on data that is stored in a Data Lake Store.</span></span> <span data-ttu-id="6957c-241">Daha fazla bilgi için bkz: [Data Lake Store'da verileri çözümlemek üzere Hdınsight Spark kullanma küme](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="6957c-241">For more information, see [Use HDInsight Spark cluster to analyze data in Data Lake Store](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span></span>


### <a name="use-data-lake-store-in-a-storm-topology"></a><span data-ttu-id="6957c-242">Data Lake Store'da Storm topolojisini kullan</span><span class="sxs-lookup"><span data-stu-id="6957c-242">Use Data Lake Store in a Storm topology</span></span>
<span data-ttu-id="6957c-243">Data Lake Store, bir Storm topolojisinin veri yazmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6957c-243">You can use the Data Lake Store to write data from a Storm topology.</span></span> <span data-ttu-id="6957c-244">Bu senaryo elde etmek yönergeler için bkz: [kullanım Azure Data Lake Store Hdınsight ile Apache Storm ile](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="6957c-244">For instructions on how to achieve this scenario, see [Use Azure Data Lake Store with Apache Storm with HDInsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="6957c-245">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="6957c-245">See also</span></span>
* [<span data-ttu-id="6957c-246">PowerShell: Data Lake Store kullanmak için bir Hdınsight kümesi oluşturma</span><span class="sxs-lookup"><span data-stu-id="6957c-246">PowerShell: Create an HDInsight cluster to use Data Lake Store</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)

[makecert]: https://msdn.microsoft.com/library/windows/desktop/ff548309(v=vs.85).aspx
[pvk2pfx]: https://msdn.microsoft.com/library/windows/desktop/ff550672(v=vs.85).aspx
