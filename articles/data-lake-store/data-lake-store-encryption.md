---
title: Azure Data Lake Store'da aaaEncryption | Microsoft Docs
description: "Şifreleme ve anahtar döndürmenin Azure Data Lake Store'da nasıl çalıştığını anlama"
services: data-lake-store
documentationcenter: 
author: yagupta
manager: 
editor: 
ms.assetid: 
ms.service: data-lake-store
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 4/14/2017
ms.author: yagupta
ms.openlocfilehash: a9f3a2dce8232deba93005594d1e6a21e9c0cbee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="encryption-of-data-in-azure-data-lake-store"></a><span data-ttu-id="4d666-103">Azure Data Lake Store'da veri şifreleme</span><span class="sxs-lookup"><span data-stu-id="4d666-103">Encryption of data in Azure Data Lake Store</span></span>

<span data-ttu-id="4d666-104">Azure Data Lake Store’da şifreleme; verilerinizi koruma, kurumsal güvenlik ilkeleri uygulama ve yasal uyumluluk gereksinimlerini karşılamaya yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="4d666-104">Encryption in Azure Data Lake Store helps you protect your data, implement enterprise security policies, and meet regulatory compliance requirements.</span></span> <span data-ttu-id="4d666-105">Bu makalede hello tasarım genel bir bakış sağlar ve bazı uygulama teknik yönlerini hello ele alır.</span><span class="sxs-lookup"><span data-stu-id="4d666-105">This article provides an overview of hello design, and discusses some of hello technical aspects of implementation.</span></span>

<span data-ttu-id="4d666-106">Data Lake Store, hem bekleyen hem de aktarımdaki verilerin şifrelenmesini destekler.</span><span class="sxs-lookup"><span data-stu-id="4d666-106">Data Lake Store supports encryption of data both at rest and in transit.</span></span> <span data-ttu-id="4d666-107">Bekleyen veriler için Data Lake Store, "varsayılan olarak etkin" saydam şifrelemeyi destekler.</span><span class="sxs-lookup"><span data-stu-id="4d666-107">For data at rest, Data Lake Store supports "on by default," transparent encryption.</span></span> <span data-ttu-id="4d666-108">Bu terimlerin biraz daha ayrıntılı olarak anlamı şudur:</span><span class="sxs-lookup"><span data-stu-id="4d666-108">Here is what these terms mean in a bit more detail:</span></span>

* <span data-ttu-id="4d666-109">**Üzerinde varsayılan olarak**: yeni bir Data Lake Store hesabı oluşturduğunuzda, hello varsayılan ayar şifrelemeyi etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="4d666-109">**On by default**: When you create a new Data Lake Store account, hello default setting enables encryption.</span></span> <span data-ttu-id="4d666-110">Bundan sonra Data Lake Store içinde depolanan verileri her zaman şifreli önceki toostoring kalıcı medyada gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="4d666-110">Thereafter, data that is stored in Data Lake Store is always encrypted prior toostoring on persistent media.</span></span> <span data-ttu-id="4d666-111">Bu tüm veriler için hello davranıştır ve bir hesabı oluşturulduktan sonra değiştirilemez.</span><span class="sxs-lookup"><span data-stu-id="4d666-111">This is hello behavior for all data, and it cannot be changed after an account is created.</span></span>
* <span data-ttu-id="4d666-112">**Saydam**: Data Lake Store otomatik olarak veri önceki toopersisting şifreler ve veri önceki tooretrieval şifresini çözer.</span><span class="sxs-lookup"><span data-stu-id="4d666-112">**Transparent**: Data Lake Store automatically encrypts data prior toopersisting, and decrypts data prior tooretrieval.</span></span> <span data-ttu-id="4d666-113">Hello şifreleme yapılandırılıp hello Data Lake Store düzeyi bir yönetici tarafından yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="4d666-113">hello encryption is configured and managed at hello Data Lake Store level by an administrator.</span></span> <span data-ttu-id="4d666-114">Toohello veri yapılan hiçbir değişiklik API'lere erişim.</span><span class="sxs-lookup"><span data-stu-id="4d666-114">No changes are made toohello data access APIs.</span></span> <span data-ttu-id="4d666-115">Bu nedenle, Data Lake Store ile etkileşimde bulunan uygulamalarda ve hizmetlerde şifreleme için herhangi bir değişiklik yapılması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="4d666-115">Thus, no changes are required in applications and services that interact with Data Lake Store because of encryption.</span></span>

<span data-ttu-id="4d666-116">Data Lake Store'da aktarımdaki (diğer adıyla hareket halindeki) veriler de her zaman şifrelenir.</span><span class="sxs-lookup"><span data-stu-id="4d666-116">Data in transit (also known as data in motion) is also always encrypted in Data Lake Store.</span></span> <span data-ttu-id="4d666-117">Ayrıca tooencrypting veri önceki toostoring toopersistent medya hello veri ayrıca her zaman aktarım sırasında HTTPS kullanılarak korunmaktadır.</span><span class="sxs-lookup"><span data-stu-id="4d666-117">In addition tooencrypting data prior toostoring toopersistent media, hello data is also always secured in transit by using HTTPS.</span></span> <span data-ttu-id="4d666-118">HTTPS için Data Lake Store REST arabirimleri hello desteklenir hello tek protokoldür.</span><span class="sxs-lookup"><span data-stu-id="4d666-118">HTTPS is hello only protocol that is supported for hello Data Lake Store REST interfaces.</span></span> <span data-ttu-id="4d666-119">Merhaba Aşağıdaki diyagramda nasıl Data Lake Store'da şifreli veriler hale gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="4d666-119">hello following diagram shows how data becomes encrypted in Data Lake Store:</span></span>

![Data Lake Store'da veri şifreleme diyagramı](./media/data-lake-store-encryption/fig1.png)


## <a name="set-up-encryption-with-data-lake-store"></a><span data-ttu-id="4d666-121">Data Lake Store ile şifrelemeyi ayarlama</span><span class="sxs-lookup"><span data-stu-id="4d666-121">Set up encryption with Data Lake Store</span></span>

<span data-ttu-id="4d666-122">Data Lake Store için Şifreleme, hesap oluşturma sırasında ayarlanır ve her zaman varsayılan olarak etkindir.</span><span class="sxs-lookup"><span data-stu-id="4d666-122">Encryption for Data Lake Store is set up during account creation, and it is always enabled by default.</span></span> <span data-ttu-id="4d666-123">Merhaba anahtarları kendiniz yönetmek veya Data Lake Store toomanage izin ver (Bu, hello varsayılan), bunları.</span><span class="sxs-lookup"><span data-stu-id="4d666-123">You can either manage hello keys yourself, or allow Data Lake Store toomanage them for you (this is hello default).</span></span>

<span data-ttu-id="4d666-124">Daha fazla bilgi için [Başlarken](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="4d666-124">For more information, see [Getting started](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal).</span></span>

## <a name="how-encryption-works-in-data-lake-store"></a><span data-ttu-id="4d666-125">Data Lake Store'da şifreleme nasıl çalışır</span><span class="sxs-lookup"><span data-stu-id="4d666-125">How encryption works in Data Lake Store</span></span>

<span data-ttu-id="4d666-126">Merhaba aşağıdaki bilgileri nasıl toomanage ana şifreleme anahtarları açıklar hello üç farklı türde Data Lake Store için veri şifrelemeyi kullanabilirsiniz anahtarları kapsar.</span><span class="sxs-lookup"><span data-stu-id="4d666-126">hello following information covers how toomanage master encryption keys, and it explains hello three different types of keys you can use in data encryption for Data Lake Store.</span></span>

### <a name="master-encryption-keys"></a><span data-ttu-id="4d666-127">Ana şifreleme anahtarları</span><span class="sxs-lookup"><span data-stu-id="4d666-127">Master encryption keys</span></span>

<span data-ttu-id="4d666-128">Data Lake Store, ana şifreleme anahtarlarının (MEK’ler) yönetimi için iki mod sağlar.</span><span class="sxs-lookup"><span data-stu-id="4d666-128">Data Lake Store provides two modes for management of master encryption keys (MEKs).</span></span> <span data-ttu-id="4d666-129">Şu an için bu hello ana şifreleme anahtarı hello en üst düzey anahtardır varsayalım.</span><span class="sxs-lookup"><span data-stu-id="4d666-129">For now, assume that hello master encryption key is hello top-level key.</span></span> <span data-ttu-id="4d666-130">Data Lake Store içinde depolanan tüm verileri gerekli toodecrypt erişim toohello ana şifreleme anahtarıdır.</span><span class="sxs-lookup"><span data-stu-id="4d666-130">Access toohello master encryption key is required toodecrypt any data stored in Data Lake Store.</span></span>

<span data-ttu-id="4d666-131">Merhaba iki modları hello ana şifreleme anahtarı yönetmek için aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="4d666-131">hello two modes for managing hello master encryption key are as follows:</span></span>

*   <span data-ttu-id="4d666-132">Hizmet tarafından yönetilen anahtarlar</span><span class="sxs-lookup"><span data-stu-id="4d666-132">Service managed keys</span></span>
*   <span data-ttu-id="4d666-133">Müşteri tarafından yönetilen anahtarlar</span><span class="sxs-lookup"><span data-stu-id="4d666-133">Customer managed keys</span></span>

<span data-ttu-id="4d666-134">Her iki modda Azure anahtar kasası depolayarak hello ana şifreleme anahtarı güvenlik altına alınır.</span><span class="sxs-lookup"><span data-stu-id="4d666-134">In both modes, hello master encryption key is secured by storing it in Azure Key Vault.</span></span> <span data-ttu-id="4d666-135">Anahtar kasası, kullanılan toosafeguard şifreleme anahtarları olabilir Azure üzerinde tam olarak yönetilen, yüksek güvenlikli bir hizmettir.</span><span class="sxs-lookup"><span data-stu-id="4d666-135">Key Vault is a fully managed, highly secure service on Azure that can be used toosafeguard cryptographic keys.</span></span> <span data-ttu-id="4d666-136">Daha fazla bilgi için bkz. [Key Vault](https://azure.microsoft.com/services/key-vault).</span><span class="sxs-lookup"><span data-stu-id="4d666-136">For more information, see [Key Vault](https://azure.microsoft.com/services/key-vault).</span></span>

<span data-ttu-id="4d666-137">Burada, kısa bir hello MEKs yönetme hello iki moddan tarafından sağlanan özellikleri karşılaştırması verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="4d666-137">Here is a brief comparison of capabilities provided by hello two modes of managing hello MEKs.</span></span>

|  | <span data-ttu-id="4d666-138">Hizmet tarafından yönetilen anahtarlar</span><span class="sxs-lookup"><span data-stu-id="4d666-138">Service managed keys</span></span> | <span data-ttu-id="4d666-139">Müşteri tarafından yönetilen anahtarlar</span><span class="sxs-lookup"><span data-stu-id="4d666-139">Customer managed keys</span></span> |
| --- | --- | --- |
|<span data-ttu-id="4d666-140">Veriler nasıl depolanır?</span><span class="sxs-lookup"><span data-stu-id="4d666-140">How is data stored?</span></span>|<span data-ttu-id="4d666-141">Her zaman şifreli önceki toobeing depolanır.</span><span class="sxs-lookup"><span data-stu-id="4d666-141">Always encrypted prior toobeing stored.</span></span>|<span data-ttu-id="4d666-142">Her zaman şifreli önceki toobeing depolanır.</span><span class="sxs-lookup"><span data-stu-id="4d666-142">Always encrypted prior toobeing stored.</span></span>|
|<span data-ttu-id="4d666-143">Merhaba ana şifreleme anahtarı nerede depolanır?</span><span class="sxs-lookup"><span data-stu-id="4d666-143">Where is hello Master Encryption Key stored?</span></span>|<span data-ttu-id="4d666-144">Anahtar Kasası</span><span class="sxs-lookup"><span data-stu-id="4d666-144">Key Vault</span></span>|<span data-ttu-id="4d666-145">Anahtar Kasası</span><span class="sxs-lookup"><span data-stu-id="4d666-145">Key Vault</span></span>|
|<span data-ttu-id="4d666-146">Hello depolanan anahtarlar temizleyin şifreleme anahtar kasası dışında misiniz?</span><span class="sxs-lookup"><span data-stu-id="4d666-146">Are any encryption keys stored in hello clear outside of Key Vault?</span></span> |<span data-ttu-id="4d666-147">Hayır</span><span class="sxs-lookup"><span data-stu-id="4d666-147">No</span></span>|<span data-ttu-id="4d666-148">Hayır</span><span class="sxs-lookup"><span data-stu-id="4d666-148">No</span></span>|
|<span data-ttu-id="4d666-149">Merhaba MEK anahtar kasası tarafından alınabilir?</span><span class="sxs-lookup"><span data-stu-id="4d666-149">Can hello MEK be retrieved by Key Vault?</span></span>|<span data-ttu-id="4d666-150">Hayır.</span><span class="sxs-lookup"><span data-stu-id="4d666-150">No.</span></span> <span data-ttu-id="4d666-151">MEK anahtar kasasında depolanan hello sonra onu yalnızca şifreleme ve şifre çözme için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="4d666-151">After hello MEK is stored in Key Vault, it can only be used for encryption and decryption.</span></span>|<span data-ttu-id="4d666-152">Hayır.</span><span class="sxs-lookup"><span data-stu-id="4d666-152">No.</span></span> <span data-ttu-id="4d666-153">MEK anahtar kasasında depolanan hello sonra onu yalnızca şifreleme ve şifre çözme için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="4d666-153">After hello MEK is stored in Key Vault, it can only be used for encryption and decryption.</span></span>|
|<span data-ttu-id="4d666-154">Merhaba anahtar kasası örneği ve hello MEK Kime ait?</span><span class="sxs-lookup"><span data-stu-id="4d666-154">Who owns hello Key Vault instance and hello MEK?</span></span>|<span data-ttu-id="4d666-155">Merhaba Data Lake Store hizmeti</span><span class="sxs-lookup"><span data-stu-id="4d666-155">hello Data Lake Store service</span></span>|<span data-ttu-id="4d666-156">Kendi Azure aboneliğinizde ait hello anahtar kasası örnek sahip.</span><span class="sxs-lookup"><span data-stu-id="4d666-156">You own hello Key Vault instance, which belongs in your own Azure subscription.</span></span> <span data-ttu-id="4d666-157">Merhaba MEK anahtar Kasası'nda, yazılım veya donanım tarafından yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="4d666-157">hello MEK in Key Vault can be managed by software or hardware.</span></span>|
|<span data-ttu-id="4d666-158">Itanium tabanlı sistemler için erişim toohello MEK hello Data Lake Store hizmeti için geçersiz kılabilir mi?</span><span class="sxs-lookup"><span data-stu-id="4d666-158">Can you revoke access toohello MEK for hello Data Lake Store service?</span></span>|<span data-ttu-id="4d666-159">Hayır</span><span class="sxs-lookup"><span data-stu-id="4d666-159">No</span></span>|<span data-ttu-id="4d666-160">Evet.</span><span class="sxs-lookup"><span data-stu-id="4d666-160">Yes.</span></span> <span data-ttu-id="4d666-161">Anahtar kasasına erişim denetim listelerini yönetmek ve erişim denetimi girdileri toohello hizmet kimliği hello Data Lake Store hizmetini için kaldırın.</span><span class="sxs-lookup"><span data-stu-id="4d666-161">You can manage access control lists in Key Vault, and remove access control entries toohello service identity for hello Data Lake Store service.</span></span>|
|<span data-ttu-id="4d666-162">Merhaba MEK kalıcı olarak silebilir?</span><span class="sxs-lookup"><span data-stu-id="4d666-162">Can you permanently delete hello MEK?</span></span>|<span data-ttu-id="4d666-163">Hayır</span><span class="sxs-lookup"><span data-stu-id="4d666-163">No</span></span>|<span data-ttu-id="4d666-164">Evet.</span><span class="sxs-lookup"><span data-stu-id="4d666-164">Yes.</span></span> <span data-ttu-id="4d666-165">Anahtar Kasası'hello MEK silerseniz, herkes tarafından hello Data Lake Store hizmeti dahil olmak üzere hello verileri hello Data Lake Store hesabı şifresi çözülemiyor.</span><span class="sxs-lookup"><span data-stu-id="4d666-165">If you delete hello MEK from Key Vault, hello data in hello Data Lake Store account cannot be decrypted by anyone, including hello Data Lake Store service.</span></span> <br><br> <span data-ttu-id="4d666-166">Siz açıkça hello MEK önceki toodeleting, anahtar Kasası'nı yedeklediyseniz hello MEK geri yüklenebilir ve hello veri ardından kurtarılabilir.</span><span class="sxs-lookup"><span data-stu-id="4d666-166">If you have explicitly backed up hello MEK prior toodeleting it from Key Vault, hello MEK can be restored, and hello data can then be recovered.</span></span> <span data-ttu-id="4d666-167">Hello MEK önceki toodeleting, anahtar Kasası'nı yedeklemediyseniz, ancak hello Data Lake Store hesabı hello verilerde hiçbir zaman bundan sonra şifresi çözülebilir.</span><span class="sxs-lookup"><span data-stu-id="4d666-167">However, if you have not backed up hello MEK prior toodeleting it from Key Vault, hello data in hello Data Lake Store account can never be decrypted thereafter.</span></span>|


<span data-ttu-id="4d666-168">Bu farkı yanı sıra hello MEK yöneten ve içinde bulunduğu, hello anahtar kasası örnek hello tasarım hello kalan olduğu hello aynı her iki mod için.</span><span class="sxs-lookup"><span data-stu-id="4d666-168">Aside from this difference of who manages hello MEK and hello Key Vault instance in which it resides, hello rest of hello design is hello same for both modes.</span></span>

<span data-ttu-id="4d666-169">Ana şifreleme anahtarları hello için hello modu seçtiğinizde önemli tooremember hello aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="4d666-169">It's important tooremember hello following when you choose hello mode for hello master encryption keys:</span></span>

*   <span data-ttu-id="4d666-170">Bir Data Lake Store hesabı sağladığınızda toouse müşteri anahtarları ve yönetilen hizmeti anahtarlar yönetilen olup olmadığını seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d666-170">You can choose whether toouse customer managed keys or service managed keys when you provision a Data Lake Store account.</span></span>
*   <span data-ttu-id="4d666-171">Bir Data Lake Store hesabı sağlandıktan sonra başlangıç modu değiştirilemez.</span><span class="sxs-lookup"><span data-stu-id="4d666-171">After a Data Lake Store account is provisioned, hello mode cannot be changed.</span></span>

### <a name="encryption-and-decryption-of-data"></a><span data-ttu-id="4d666-172">Verilerin şifrelenmesi ve şifresinin çözülmesi</span><span class="sxs-lookup"><span data-stu-id="4d666-172">Encryption and decryption of data</span></span>

<span data-ttu-id="4d666-173">Veri şifreleme hello tasarımında kullanılan anahtarların üç tür vardır.</span><span class="sxs-lookup"><span data-stu-id="4d666-173">There are three types of keys that are used in hello design of data encryption.</span></span> <span data-ttu-id="4d666-174">Aşağıdaki tablonun hello bir Özet sağlar:</span><span class="sxs-lookup"><span data-stu-id="4d666-174">hello following table provides a summary:</span></span>

| <span data-ttu-id="4d666-175">Anahtar</span><span class="sxs-lookup"><span data-stu-id="4d666-175">Key</span></span>                   | <span data-ttu-id="4d666-176">Kısaltma</span><span class="sxs-lookup"><span data-stu-id="4d666-176">Abbreviation</span></span> | <span data-ttu-id="4d666-177">İlişkili olduğu yer:</span><span class="sxs-lookup"><span data-stu-id="4d666-177">Associated with</span></span> | <span data-ttu-id="4d666-178">Depolama konumu</span><span class="sxs-lookup"><span data-stu-id="4d666-178">Storage location</span></span>                             | <span data-ttu-id="4d666-179">Tür</span><span class="sxs-lookup"><span data-stu-id="4d666-179">Type</span></span>       | <span data-ttu-id="4d666-180">Notlar</span><span class="sxs-lookup"><span data-stu-id="4d666-180">Notes</span></span>                                                                                                   |
|-----------------------|--------------|-----------------|----------------------------------------------|------------|---------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="4d666-181">Ana Şifreleme Anahtarı</span><span class="sxs-lookup"><span data-stu-id="4d666-181">Master Encryption Key</span></span> | <span data-ttu-id="4d666-182">MEK</span><span class="sxs-lookup"><span data-stu-id="4d666-182">MEK</span></span>          | <span data-ttu-id="4d666-183">Bir Data Lake Store hesabı</span><span class="sxs-lookup"><span data-stu-id="4d666-183">A Data Lake Store account</span></span> | <span data-ttu-id="4d666-184">Anahtar Kasası</span><span class="sxs-lookup"><span data-stu-id="4d666-184">Key Vault</span></span>                              | <span data-ttu-id="4d666-185">Asimetrik</span><span class="sxs-lookup"><span data-stu-id="4d666-185">Asymmetric</span></span> | <span data-ttu-id="4d666-186">Data Lake Store veya sizin tarafınızdan yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="4d666-186">It can be managed by Data Lake Store or you.</span></span>                                                              |
| <span data-ttu-id="4d666-187">Veri Şifreleme Anahtarı</span><span class="sxs-lookup"><span data-stu-id="4d666-187">Data Encryption Key</span></span>   | <span data-ttu-id="4d666-188">DEK</span><span class="sxs-lookup"><span data-stu-id="4d666-188">DEK</span></span>          | <span data-ttu-id="4d666-189">Bir Data Lake Store hesabı</span><span class="sxs-lookup"><span data-stu-id="4d666-189">A Data Lake Store account</span></span> | <span data-ttu-id="4d666-190">Kalıcı depolama, Data Lake Store hizmeti tarafından yönetilir</span><span class="sxs-lookup"><span data-stu-id="4d666-190">Persistent storage, managed by Data Lake Store service</span></span> | <span data-ttu-id="4d666-191">Simetrik</span><span class="sxs-lookup"><span data-stu-id="4d666-191">Symmetric</span></span>  | <span data-ttu-id="4d666-192">Merhaba DEK MEK hello tarafından şifrelenir.</span><span class="sxs-lookup"><span data-stu-id="4d666-192">hello DEK is encrypted by hello MEK.</span></span> <span data-ttu-id="4d666-193">Merhaba şifrelenmiş DEK ne kalıcı medyada depolanır.</span><span class="sxs-lookup"><span data-stu-id="4d666-193">hello encrypted DEK is what is stored on persistent media.</span></span> |
| <span data-ttu-id="4d666-194">Blok Şifreleme Anahtarı</span><span class="sxs-lookup"><span data-stu-id="4d666-194">Block Encryption Key</span></span>  | <span data-ttu-id="4d666-195">BEK</span><span class="sxs-lookup"><span data-stu-id="4d666-195">BEK</span></span>          | <span data-ttu-id="4d666-196">Bir veri bloğu</span><span class="sxs-lookup"><span data-stu-id="4d666-196">A block of data</span></span> | <span data-ttu-id="4d666-197">None</span><span class="sxs-lookup"><span data-stu-id="4d666-197">None</span></span>                                         | <span data-ttu-id="4d666-198">Simetrik</span><span class="sxs-lookup"><span data-stu-id="4d666-198">Symmetric</span></span>  | <span data-ttu-id="4d666-199">Merhaba BEK hello DEK ve hello veri bloğu türetilir.</span><span class="sxs-lookup"><span data-stu-id="4d666-199">hello BEK is derived from hello DEK and hello data block.</span></span>                                                      |

<span data-ttu-id="4d666-200">Aşağıdaki diyagramda hello bu kavramları göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="4d666-200">hello following diagram illustrates these concepts:</span></span>

![Veri şifrelemesindeki anahtarlar](./media/data-lake-store-encryption/fig2.png)

#### <a name="pseudo-algorithm-when-a-file-is-toobe-decrypted"></a><span data-ttu-id="4d666-202">Bir dosya şifresi toobe olduğunda sözde algoritması:</span><span class="sxs-lookup"><span data-stu-id="4d666-202">Pseudo algorithm when a file is toobe decrypted:</span></span>
1.  <span data-ttu-id="4d666-203">Merhaba DEK hello Data Lake Store hesabı için önbelleğe alınmış ve kullanıma hazır olup olmadığını denetleyin.</span><span class="sxs-lookup"><span data-stu-id="4d666-203">Check if hello DEK for hello Data Lake Store account is cached and ready for use.</span></span>
    - <span data-ttu-id="4d666-204">Aksi durumda, hello DEK kalıcı depolama biriminden şifrelenmiş okuma ve şifresi tooKey kasa toobe gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d666-204">If not, then read hello encrypted DEK from persistent storage, and send it tooKey Vault toobe decrypted.</span></span> <span data-ttu-id="4d666-205">Önbellek hello DEK bellekte şifresi.</span><span class="sxs-lookup"><span data-stu-id="4d666-205">Cache hello decrypted DEK in memory.</span></span> <span data-ttu-id="4d666-206">Bu hazır toouse sunulmuştur.</span><span class="sxs-lookup"><span data-stu-id="4d666-206">It is now ready toouse.</span></span>
2.  <span data-ttu-id="4d666-207">Her hello dosyasındaki veri bloğu için:</span><span class="sxs-lookup"><span data-stu-id="4d666-207">For every block of data in hello file:</span></span>
    - <span data-ttu-id="4d666-208">Merhaba şifrelenmiş veri bloğunu kalıcı depolama alanından okuyun.</span><span class="sxs-lookup"><span data-stu-id="4d666-208">Read hello encrypted block of data from persistent storage.</span></span>
    - <span data-ttu-id="4d666-209">Merhaba BEK hello DEK gelen ve hello şifrelenmiş veri bloğunu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="4d666-209">Generate hello BEK from hello DEK and hello encrypted block of data.</span></span>
    - <span data-ttu-id="4d666-210">Merhaba BEK toodecrypt verileri kullanın.</span><span class="sxs-lookup"><span data-stu-id="4d666-210">Use hello BEK toodecrypt data.</span></span>


#### <a name="pseudo-algorithm-when-a-block-of-data-is-toobe-encrypted"></a><span data-ttu-id="4d666-211">Bir veri bloğunun toobe şifreli olduğunda sözde algoritması:</span><span class="sxs-lookup"><span data-stu-id="4d666-211">Pseudo algorithm when a block of data is toobe encrypted:</span></span>
1.  <span data-ttu-id="4d666-212">Merhaba DEK hello Data Lake Store hesabı için önbelleğe alınmış ve kullanıma hazır olup olmadığını denetleyin.</span><span class="sxs-lookup"><span data-stu-id="4d666-212">Check if hello DEK for hello Data Lake Store account is cached and ready for use.</span></span>
    - <span data-ttu-id="4d666-213">Aksi durumda, hello DEK kalıcı depolama biriminden şifrelenmiş okuma ve şifresi tooKey kasa toobe gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d666-213">If not, then read hello encrypted DEK from persistent storage, and send it tooKey Vault toobe decrypted.</span></span> <span data-ttu-id="4d666-214">Önbellek hello DEK bellekte şifresi.</span><span class="sxs-lookup"><span data-stu-id="4d666-214">Cache hello decrypted DEK in memory.</span></span> <span data-ttu-id="4d666-215">Bu hazır toouse sunulmuştur.</span><span class="sxs-lookup"><span data-stu-id="4d666-215">It is now ready toouse.</span></span>
2.  <span data-ttu-id="4d666-216">Veri hello bloğu için benzersiz bir BEK hello DEK oluşturur.</span><span class="sxs-lookup"><span data-stu-id="4d666-216">Generate a unique BEK for hello block of data from hello DEK.</span></span>
3.  <span data-ttu-id="4d666-217">Merhaba veri bloğu ile Merhaba BEK, AES 256 şifreleme kullanarak şifreler.</span><span class="sxs-lookup"><span data-stu-id="4d666-217">Encrypt hello data block with hello BEK, by using AES-256 encryption.</span></span>
4.  <span data-ttu-id="4d666-218">Veri Hello şifrelenmiş veri bloğunu kalıcı depolama alanında depolar.</span><span class="sxs-lookup"><span data-stu-id="4d666-218">Store hello encrypted data block of data on persistent storage.</span></span>

> [!NOTE] 
> <span data-ttu-id="4d666-219">Performans nedenleriyle hello DEK temizleyin hello kısa bir süre için bellekte önbelleğe alınır ve hemen sonra silinir.</span><span class="sxs-lookup"><span data-stu-id="4d666-219">For performance reasons, hello DEK in hello clear is cached in memory for a short time, and is immediately erased afterward.</span></span> <span data-ttu-id="4d666-220">Kalıcı bir ortama MEK hello tarafından şifrelenmiş her zaman depolanır.</span><span class="sxs-lookup"><span data-stu-id="4d666-220">On persistent media, it is always stored encrypted by hello MEK.</span></span>

## <a name="key-rotation"></a><span data-ttu-id="4d666-221">Anahtar döndürme</span><span class="sxs-lookup"><span data-stu-id="4d666-221">Key rotation</span></span>

<span data-ttu-id="4d666-222">Müşteri tarafından yönetilen anahtarlarını kullanırken hello MEK döndürebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d666-222">When you are using customer-managed keys, you can rotate hello MEK.</span></span> <span data-ttu-id="4d666-223">Müşteri tarafından yönetilen anahtarlarla Data Lake Store hesabı tooset nasıl görürüm toolearn [Başlarken](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal).</span><span class="sxs-lookup"><span data-stu-id="4d666-223">toolearn how tooset up a Data Lake Store account with customer-managed keys, see [Getting started](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal).</span></span>

### <a name="prerequisites"></a><span data-ttu-id="4d666-224">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="4d666-224">Prerequisites</span></span>

<span data-ttu-id="4d666-225">Data Lake Store hesabı hello ayarladığınızda, kendi anahtarları toouse seçtiniz.</span><span class="sxs-lookup"><span data-stu-id="4d666-225">When you set up hello Data Lake Store account, you have chosen toouse your own keys.</span></span> <span data-ttu-id="4d666-226">Bu seçenek Hello hesabı oluşturulduktan sonra değiştirilemez.</span><span class="sxs-lookup"><span data-stu-id="4d666-226">This option cannot be changed after hello account has been created.</span></span> <span data-ttu-id="4d666-227">Merhaba aşağıdaki adımlarda müşteri tarafından yönetilen anahtarları kullandığınız varsayılmaktadır (diğer bir deyişle, kendi anahtarları anahtar Kasası'nı seçmiş olduğunuz).</span><span class="sxs-lookup"><span data-stu-id="4d666-227">hello following steps assume that you are using customer-managed keys (that is, you have chosen your own keys from Key Vault).</span></span>

<span data-ttu-id="4d666-228">Şifreleme için hello varsayılan seçenekleri kullanırsanız, verileriniz her zaman Data Lake Store tarafından yönetilen anahtarlar kullanılarak şifrelenmiş olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="4d666-228">Note that if you use hello default options for encryption, your data is always encrypted by using keys managed by Data Lake Store.</span></span> <span data-ttu-id="4d666-229">Bu seçenekte, Data Lake Store tarafından yönetilen gibi hello özelliği toorotate anahtarları yok.</span><span class="sxs-lookup"><span data-stu-id="4d666-229">In this option, you don't have hello ability toorotate keys, as they are managed by Data Lake Store.</span></span>

### <a name="how-toorotate-hello-mek-in-data-lake-store"></a><span data-ttu-id="4d666-230">Nasıl toorotate hello Data Lake Store'da MEK</span><span class="sxs-lookup"><span data-stu-id="4d666-230">How toorotate hello MEK in Data Lake Store</span></span>

1. <span data-ttu-id="4d666-231">İçinde toohello oturum [Azure portal](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="4d666-231">Sign in toohello [Azure portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="4d666-232">Data Lake Store hesabınızla ilişkili anahtarlarınızı depolar toohello anahtar kasası örnek göz atın.</span><span class="sxs-lookup"><span data-stu-id="4d666-232">Browse toohello Key Vault instance that stores your keys associated with your Data Lake Store account.</span></span> <span data-ttu-id="4d666-233">**Anahtarlar**’ı seçin.</span><span class="sxs-lookup"><span data-stu-id="4d666-233">Select **Keys**.</span></span>

    ![Key Vault ekran görüntüsü](./media/data-lake-store-encryption/keyvault.png)

3.  <span data-ttu-id="4d666-235">Data Lake Store hesabınızla ilişkili hello anahtarı seçin ve bu anahtar yeni bir sürümünü oluşturur.</span><span class="sxs-lookup"><span data-stu-id="4d666-235">Select hello key associated with your Data Lake Store account, and create a new version of this key.</span></span> <span data-ttu-id="4d666-236">Data Lake Store şu anda yalnızca bir anahtarı'nın anahtar döndürme tooa yeni sürümü desteklediğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="4d666-236">Note that Data Lake Store currently only supports key rotation tooa new version of a key.</span></span> <span data-ttu-id="4d666-237">Döndürme tooa farklı anahtarı desteklemiyor.</span><span class="sxs-lookup"><span data-stu-id="4d666-237">It doesn't support rotating tooa different key.</span></span>

   ![Yeni Sürümün vurgulandığı Anahtarlar penceresi ekran görüntüsü](./media/data-lake-store-encryption/keynewversion.png)

4.  <span data-ttu-id="4d666-239">Toohello Data Lake Store depolama hesabını bulun ve seçin **şifreleme**.</span><span class="sxs-lookup"><span data-stu-id="4d666-239">Browse toohello Data Lake Store storage account, and select **Encryption**.</span></span>

    ![Şifreleme’nin vurgulandığı Data Lake Store depolama hesabı penceresinin ekran görüntüsü](./media/data-lake-store-encryption/select-encryption.png)

5.  <span data-ttu-id="4d666-241">Bir ileti hello anahtarı yeni bir anahtar sürümü kullanılabilir olduğunu bildirir.</span><span class="sxs-lookup"><span data-stu-id="4d666-241">A message notifies you that a new key version of hello key is available.</span></span> <span data-ttu-id="4d666-242">Tıklatın **döndürme anahtar** tooupdate hello anahtar toohello yeni sürümü.</span><span class="sxs-lookup"><span data-stu-id="4d666-242">Click **Rotate Key** tooupdate hello key toohello new version.</span></span>

    ![İleti ve Anahtarı Döndür seçenekleri vurgulanmış Data Lake Store penceresinin ekran görüntüsü](./media/data-lake-store-encryption/rotatekey.png)

<span data-ttu-id="4d666-244">Bu işlem iki dakikadan kısa sürer ve tookey dönüş son beklenen kapalı kalma süresi yok.</span><span class="sxs-lookup"><span data-stu-id="4d666-244">This operation should take less than two minutes, and there is no expected downtime due tookey rotation.</span></span> <span data-ttu-id="4d666-245">Merhaba işlemi tamamlandıktan sonra hello hello anahtarı'nın yeni sürümü kullanılıyor.</span><span class="sxs-lookup"><span data-stu-id="4d666-245">After hello operation is complete, hello new version of hello key is in use.</span></span>
