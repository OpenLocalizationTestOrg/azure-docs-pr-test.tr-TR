---
title: "Azure AD kimlik doğrulama tooaccess Azure Media Services API REST ile aaaUse | Microsoft Docs"
description: "Tooaccess Azure Media Services API kullanarak Azure Active Directory kimlik doğrulaması ile nasıl REST öğrenin."
services: media-services
documentationcenter: 
author: willzhan
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/17/2017
ms.author: willzhan;juliako
ms.openlocfilehash: 114f7bdde3a8f5fe6189d712e05b6afdc8a8787a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="use-azure-ad-authentication-tooaccess-hello-azure-media-services-api-with-rest"></a><span data-ttu-id="eab7d-103">Azure Media Services API REST ile kullanım Azure AD kimlik doğrulama tooaccess hello</span><span class="sxs-lookup"><span data-stu-id="eab7d-103">Use Azure AD authentication tooaccess hello Azure Media Services API with REST</span></span>

<span data-ttu-id="eab7d-104">Hello Azure Media Services ekip Azure Media Services erişimi için Azure Active Directory (Azure AD) kimlik doğrulama desteği yayımladı.</span><span class="sxs-lookup"><span data-stu-id="eab7d-104">hello Azure Media Services team has released Azure Active Directory (Azure AD) authentication support for Azure Media Services access.</span></span> <span data-ttu-id="eab7d-105">Ayrıca, Media Services erişimi için planları toodeprecate Azure erişim denetimi hizmeti kimlik doğrulamasını duyurdu.</span><span class="sxs-lookup"><span data-stu-id="eab7d-105">It also announced plans toodeprecate Azure Access Control service authentication for Media Services access.</span></span> <span data-ttu-id="eab7d-106">Her Azure aboneliği ve her medya hizmetleri hesabı ekli tooan Azure AD Kiracı olduğundan, Azure AD kimlik doğrulama desteği birçok güvenlik avantajları beraberinde getirir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-106">Because every Azure subscription, and every Media Services account, is attached tooan Azure AD tenant, Azure AD authentication support brings many security benefits.</span></span> <span data-ttu-id="eab7d-107">Bu değişiklik ve (uygulamanız için'de hello Media Services .NET SDK'sı kullanıyorsanız) geçiş ayrıntılarını görmek için hello şu blog yazılarını ve makaleler:</span><span class="sxs-lookup"><span data-stu-id="eab7d-107">For details about this change and migration (if you use hello Media Services .NET SDK for your app), see hello following blog posts and articles:</span></span>

- [<span data-ttu-id="eab7d-108">Azure Media Services, Azure AD için destek sunar ve erişim denetimi kimlik doğrulamasının kullanımdan kaldırma</span><span class="sxs-lookup"><span data-stu-id="eab7d-108">Azure Media Services announces support for Azure AD and deprecation of Access Control authentication</span></span>](https://azure.microsoft.com/blog/azure%20media%20service%20aad%20auth%20and%20acs%20deprecation)
- [<span data-ttu-id="eab7d-109">Azure AD kimlik doğrulamasını kullanarak erişim Azure Media Services API</span><span class="sxs-lookup"><span data-stu-id="eab7d-109">Access Azure Media Services API by using Azure AD authentication</span></span>](media-services-use-aad-auth-to-access-ams-api.md)
- [<span data-ttu-id="eab7d-110">Microsoft .NET kullanarak Azure AD kimlik doğrulama tooaccess Azure Media Services API</span><span class="sxs-lookup"><span data-stu-id="eab7d-110">Use Azure AD authentication tooaccess Azure Media Services API by using Microsoft .NET</span></span>](media-services-dotnet-get-started-with-aad.md)
- [<span data-ttu-id="eab7d-111">Hello Azure portal kullanarak Azure AD kimlik doğrulaması ile çalışmaya başlama</span><span class="sxs-lookup"><span data-stu-id="eab7d-111">Getting started with Azure AD authentication by using hello Azure portal</span></span>](media-services-portal-get-started-with-aad.md)

<span data-ttu-id="eab7d-112">Bazı müşteriler, Media Services çözümleri kısıtlamaları aşağıdaki hello altında toodevelop gerekir:</span><span class="sxs-lookup"><span data-stu-id="eab7d-112">Some customers need toodevelop their Media Services solutions under hello following constraints:</span></span>

*   <span data-ttu-id="eab7d-113">Microsoft .NET veya C# programlama bir dil kullanın veya Windows hello çalışma zamanı ortamı değil.</span><span class="sxs-lookup"><span data-stu-id="eab7d-113">They use a programming language that is not Microsoft .NET or C#, or hello runtime environment is not Windows.</span></span>
*   <span data-ttu-id="eab7d-114">Active Directory kimlik doğrulama kitaplıkları gibi Azure AD kitaplıkları programlama dili hello için kullanılabilir değil veya kendi çalışma zamanı ortamı için kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="eab7d-114">Azure AD libraries such as Active Directory Authentication Libraries are not available for hello programming language or can't be used for their runtime environment.</span></span>

<span data-ttu-id="eab7d-115">Bazı müşteriler, erişim denetimi kimlik doğrulaması ve Azure Media Services erişimi için REST API kullanarak uygulamaları geliştirdik.</span><span class="sxs-lookup"><span data-stu-id="eab7d-115">Some customers have developed applications by using REST API for both Access Control authentication and Azure Media Services access.</span></span> <span data-ttu-id="eab7d-116">Bu müşteriler için Azure AD kimlik doğrulaması için bir yol toouse yalnızca hello REST API gerekir ve sonraki Azure Media Services erişebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="eab7d-116">For these customers, you need a way toouse only hello REST API for Azure AD authentication and subsequent Azure Media Services access.</span></span> <span data-ttu-id="eab7d-117">Toonot gereken herhangi bir hello Azure AD kitaplıkları veya hello Media Services .NET SDK'sını kullanır.</span><span class="sxs-lookup"><span data-stu-id="eab7d-117">You need toonot rely on any of hello Azure AD libraries or on hello Media Services .NET SDK.</span></span> <span data-ttu-id="eab7d-118">Bu makalede, bir çözüm açıklar ve bu senaryo için örnek kod sağlar.</span><span class="sxs-lookup"><span data-stu-id="eab7d-118">In this article, we describe a solution and provide sample code for this scenario.</span></span> <span data-ttu-id="eab7d-119">Merhaba kod hiçbir bağımlılık tüm Azure AD ile tüm REST API çağrıları olduğundan veya Azure Media Services kitaplığı hello kod kolayca diğer programlama dili çevrilmiş tooany olabilir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-119">Because hello code is all REST API calls, with no dependency on any Azure AD or Azure Media Services library, hello code can easily be translated tooany other programming language.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="eab7d-120">Şu anda, Media Services hello Azure erişim denetimi Hizmetleri kimlik doğrulama modelini destekler.</span><span class="sxs-lookup"><span data-stu-id="eab7d-120">Currently, Media Services supports hello Azure Access Control services authentication model.</span></span> <span data-ttu-id="eab7d-121">Ancak, erişim denetimi kimlik doğrulaması 1 Haziran 2018 kullanım dışı kalacaktır.</span><span class="sxs-lookup"><span data-stu-id="eab7d-121">However, Access Control authentication will be deprecated June 1, 2018.</span></span> <span data-ttu-id="eab7d-122">Mümkün olan en kısa sürede toohello Azure AD kimlik doğrulama modeli geçirmek öneririz.</span><span class="sxs-lookup"><span data-stu-id="eab7d-122">We recommend that you migrate toohello Azure AD authentication model as soon as possible.</span></span>


## <a name="design"></a><span data-ttu-id="eab7d-123">Tasarlayın</span><span class="sxs-lookup"><span data-stu-id="eab7d-123">Design</span></span>

<span data-ttu-id="eab7d-124">Bu makalede, kimlik doğrulama ve yetkilendirme tasarım aşağıdaki hello kullanın:</span><span class="sxs-lookup"><span data-stu-id="eab7d-124">In this article, we use hello following authentication and authorization design:</span></span>

*  <span data-ttu-id="eab7d-125">Yetkilendirme Protokolü: OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="eab7d-125">Authorization protocol: OAuth 2.0.</span></span> <span data-ttu-id="eab7d-126">OAuth 2.0 kimlik doğrulama ve yetkilendirme kapsayan bir web güvenlik standardıdır.</span><span class="sxs-lookup"><span data-stu-id="eab7d-126">OAuth 2.0 is a web security standard that covers both authentication and authorization.</span></span> <span data-ttu-id="eab7d-127">Google, Microsoft, Facebook ve PayPal tarafından desteklenir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-127">It is supported by Google, Microsoft, Facebook, and PayPal.</span></span> <span data-ttu-id="eab7d-128">Ekim 2012 onay.</span><span class="sxs-lookup"><span data-stu-id="eab7d-128">It was ratified October 2012.</span></span> <span data-ttu-id="eab7d-129">Microsoft, OAuth 2.0 ve Openıd Connect sıkıca destekler.</span><span class="sxs-lookup"><span data-stu-id="eab7d-129">Microsoft firmly supports OAuth 2.0 and OpenID Connect.</span></span> <span data-ttu-id="eab7d-130">Bu standartlar her ikisinin birden çok hizmet ve istemci kitaplıkları, Azure Active Directory gibi .NET (OWIN) Katana açık Web arabirimi desteklenir ve Azure AD kitaplıkları.</span><span class="sxs-lookup"><span data-stu-id="eab7d-130">Both of these standards are supported in multiple services and client libraries, including Azure Active Directory, Open Web Interface for .NET (OWIN) Katana, and Azure AD libraries.</span></span>
*  <span data-ttu-id="eab7d-131">Vermek türü: istemci kimlik bilgileri vermenizi türü.</span><span class="sxs-lookup"><span data-stu-id="eab7d-131">Grant type: Client credentials grant type.</span></span> <span data-ttu-id="eab7d-132">İstemci kimlik bilgileri biridir hello dört sağlama türleri, OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="eab7d-132">Client credentials is one of hello four grant types in OAuth 2.0.</span></span> <span data-ttu-id="eab7d-133">Genellikle, Azure AD Microsoft Graph API erişimi için de kullanılır.</span><span class="sxs-lookup"><span data-stu-id="eab7d-133">It's often used for Azure AD Microsoft Graph API access.</span></span>
*  <span data-ttu-id="eab7d-134">Kimlik doğrulama modu: hizmet sorumlusu.</span><span class="sxs-lookup"><span data-stu-id="eab7d-134">Authentication mode: Service principal.</span></span> <span data-ttu-id="eab7d-135">Merhaba diğer kimlik doğrulama kullanıcı veya etkileşimli kimlik doğrulama modudur.</span><span class="sxs-lookup"><span data-stu-id="eab7d-135">hello other authentication mode is user or interactive authentication.</span></span>

<span data-ttu-id="eab7d-136">Dört uygulamalar veya hizmetler toplam söz konusu Media Services'i kullanarak hello Azure AD kimlik doğrulama ve yetkilendirme akışı.</span><span class="sxs-lookup"><span data-stu-id="eab7d-136">A total of four applications or services are involved in hello Azure AD authentication and authorization flow for using Media Services.</span></span> <span data-ttu-id="eab7d-137">Merhaba uygulamaları ve Hizmetleri ve hello akış, aşağıdaki tablonun hello açıklanmaktadır:</span><span class="sxs-lookup"><span data-stu-id="eab7d-137">hello applications and services, and hello flow, are described in hello following table:</span></span>

|<span data-ttu-id="eab7d-138">Uygulama türü</span><span class="sxs-lookup"><span data-stu-id="eab7d-138">Application type</span></span> |<span data-ttu-id="eab7d-139">Uygulama</span><span class="sxs-lookup"><span data-stu-id="eab7d-139">Application</span></span> |<span data-ttu-id="eab7d-140">Akış</span><span class="sxs-lookup"><span data-stu-id="eab7d-140">Flow</span></span>|
|---|---|---|
|<span data-ttu-id="eab7d-141">İstemci</span><span class="sxs-lookup"><span data-stu-id="eab7d-141">Client</span></span> | <span data-ttu-id="eab7d-142">Müşteri uygulama ya da çözüm</span><span class="sxs-lookup"><span data-stu-id="eab7d-142">Customer app or solution</span></span> | <span data-ttu-id="eab7d-143">Bu uygulamayı (aslında, kendi proxy) hizmet hesabı hello Azure aboneliği ve hello medya bulunan hello Azure AD kiracısında kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-143">This app (actually, its proxy) is registered in hello Azure AD tenant in which hello Azure subscription and hello media service account reside.</span></span> <span data-ttu-id="eab7d-144">Merhaba hizmet sorumlusu kayıtlı hello uygulamasının sonra hello hello medya hizmet hesabının erişim denetimi (IAM) sahibi veya katkıda bulunan rolü ile verilir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-144">hello service principal of hello registered app is then granted with Owner or Contributor role in hello Access Control (IAM) of hello media service account.</span></span> <span data-ttu-id="eab7d-145">Merhaba hizmet sorumlusu hello uygulama istemci Kimliğini ve istemci gizli anahtarı temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-145">hello service principal is represented by hello app client ID and client secret.</span></span> |
|<span data-ttu-id="eab7d-146">Kimlik sağlayıcıyı (IDP)</span><span class="sxs-lookup"><span data-stu-id="eab7d-146">Identity Provider (IDP)</span></span> | <span data-ttu-id="eab7d-147">IDP olarak Azure AD</span><span class="sxs-lookup"><span data-stu-id="eab7d-147">Azure AD as IDP</span></span> | <span data-ttu-id="eab7d-148">Merhaba kayıtlı uygulama hizmet sorumlusu (istemci kimliği ve istemci gizli anahtarı) hello IDP olarak Azure AD tarafından doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="eab7d-148">hello registered app service principal (client ID and client secret) is authenticated by Azure AD as hello IDP.</span></span> <span data-ttu-id="eab7d-149">Bu kimlik doğrulaması, dahili ve örtük olarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-149">This authentication is performed internally and implicitly.</span></span> <span data-ttu-id="eab7d-150">İstemci kimlik bilgileri akışının olduğu gibi hello istemci yerine hello kullanıcının kimliği doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="eab7d-150">As in client credentials flow, hello client is authenticated instead of hello user.</span></span> |
|<span data-ttu-id="eab7d-151">Belirteç Hizmeti (STS) güvenli / OAuth sunucu</span><span class="sxs-lookup"><span data-stu-id="eab7d-151">Secure Token Service (STS)/OAuth server</span></span> | <span data-ttu-id="eab7d-152">STS olarak Azure AD</span><span class="sxs-lookup"><span data-stu-id="eab7d-152">Azure AD as STS</span></span> | <span data-ttu-id="eab7d-153">Merhaba IDP (veya OAuth sunucusu OAuth 2.0 terimleriyle) göre kimlik doğrulamasından sonra bir erişim belirteci veya JSON Web Token (JWT) erişim toohello orta katman Kaynak STS/OAuth sunucusu olarak Azure AD tarafından verilir: Örneğimizde, Media Services REST API uç noktası hello.</span><span class="sxs-lookup"><span data-stu-id="eab7d-153">After authentication by hello IDP (or OAuth Server in OAuth 2.0 terms), an access token or JSON Web Token (JWT) is issued by Azure AD as STS/OAuth Server for access toohello middle-tier resource: in our case, hello Media Services REST API endpoint.</span></span> |
|<span data-ttu-id="eab7d-154">Kaynak</span><span class="sxs-lookup"><span data-stu-id="eab7d-154">Resource</span></span> | <span data-ttu-id="eab7d-155">Media Services REST API'si</span><span class="sxs-lookup"><span data-stu-id="eab7d-155">Media Services REST API</span></span> | <span data-ttu-id="eab7d-156">Her Media Services REST API çağrısı STS veya hello OAuth sunucu olarak Azure AD tarafından verilen bir erişim belirteci tarafından yetkilendirildi.</span><span class="sxs-lookup"><span data-stu-id="eab7d-156">Every Media Services REST API call is authorized by an access token that is issued by Azure AD as STS or hello OAuth server.</span></span> |

<span data-ttu-id="eab7d-157">Merhaba örnek kodu çalıştırmak ve yakalama JWT veya bir erişim belirteci, hello JWT öznitelikleri aşağıdaki hello sahiptir:</span><span class="sxs-lookup"><span data-stu-id="eab7d-157">If you run hello sample code and capture a JWT or an access token, hello JWT has hello following attributes:</span></span>

    aud: "https://rest.media.azure.net",

    iss: "https://sts.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47/",

    iat: 1497146280,

    nbf: 1497146280,
    exp: 1497150180,

    aio: "Y2ZgYDjuy7SptPzO/muf+uRu1B+ZDQA=",

    appid: "02ed1e8e-af8b-477e-af3d-7e7219a99ac6",

    appidacr: "1",

    idp: "https://sts.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47/",

    oid: "a938cfcc-d3de-479c-b0dd-d4ffe6f50f7c",

    sub: "a938cfcc-d3de-479c-b0dd-d4ffe6f50f7c",

    tid: "72f988bf-86f1-41af-91ab-2d7cd011db47",

<span data-ttu-id="eab7d-158">Merhaba JWT ve uygulamalarında hello dört hello öznitelikleri veya tablo önceki hello Hizmetleri'nde arasında hello eşlemeleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="eab7d-158">Here are hello mappings between hello attributes in hello JWT and hello four applications or services in hello preceding table:</span></span>

|<span data-ttu-id="eab7d-159">Uygulama türü</span><span class="sxs-lookup"><span data-stu-id="eab7d-159">Application type</span></span> |<span data-ttu-id="eab7d-160">Uygulama</span><span class="sxs-lookup"><span data-stu-id="eab7d-160">Application</span></span> |<span data-ttu-id="eab7d-161">JWT özniteliği</span><span class="sxs-lookup"><span data-stu-id="eab7d-161">JWT attribute</span></span> |
|---|---|---|
|<span data-ttu-id="eab7d-162">İstemci</span><span class="sxs-lookup"><span data-stu-id="eab7d-162">Client</span></span> |<span data-ttu-id="eab7d-163">Müşteri uygulama ya da çözüm</span><span class="sxs-lookup"><span data-stu-id="eab7d-163">Customer app or solution</span></span> |<span data-ttu-id="eab7d-164">AppID: "02ed1e8e-af8b-477e-af3d-7e7219a99ac6".</span><span class="sxs-lookup"><span data-stu-id="eab7d-164">appid: "02ed1e8e-af8b-477e-af3d-7e7219a99ac6".</span></span> <span data-ttu-id="eab7d-165">Merhaba istemci kimliği bir uygulama hello sonraki bölümde tooAzure AD kaydeder.</span><span class="sxs-lookup"><span data-stu-id="eab7d-165">hello client ID of an application you will register tooAzure AD in hello next section.</span></span> |
|<span data-ttu-id="eab7d-166">Kimlik sağlayıcıyı (IDP)</span><span class="sxs-lookup"><span data-stu-id="eab7d-166">Identity Provider (IDP)</span></span> | <span data-ttu-id="eab7d-167">IDP olarak Azure AD</span><span class="sxs-lookup"><span data-stu-id="eab7d-167">Azure AD as IDP</span></span> |<span data-ttu-id="eab7d-168">IDP: "https://sts.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47/".</span><span class="sxs-lookup"><span data-stu-id="eab7d-168">idp: "https://sts.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47/".</span></span>  <span data-ttu-id="eab7d-169">Merhaba GUID hello Microsoft kimliği Kiracı (microsoft.onmicrosoft.com) olur.</span><span class="sxs-lookup"><span data-stu-id="eab7d-169">hello GUID is hello ID of Microsoft tenant (microsoft.onmicrosoft.com).</span></span> <span data-ttu-id="eab7d-170">Her bir kiracı kendi, benzersiz kimliği vardır.</span><span class="sxs-lookup"><span data-stu-id="eab7d-170">Each tenant has its own, unique ID.</span></span> |
|<span data-ttu-id="eab7d-171">Belirteç Hizmeti (STS) güvenli / OAuth sunucu</span><span class="sxs-lookup"><span data-stu-id="eab7d-171">Secure Token Service (STS)/OAuth server</span></span> |<span data-ttu-id="eab7d-172">STS olarak Azure AD</span><span class="sxs-lookup"><span data-stu-id="eab7d-172">Azure AD as STS</span></span> | <span data-ttu-id="eab7d-173">ISS: "https://sts.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47/".</span><span class="sxs-lookup"><span data-stu-id="eab7d-173">iss: "https://sts.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47/".</span></span> <span data-ttu-id="eab7d-174">Merhaba GUID hello Microsoft kimliği Kiracı (microsoft.onmicrosoft.com) olur.</span><span class="sxs-lookup"><span data-stu-id="eab7d-174">hello GUID is hello ID of Microsoft tenant (microsoft.onmicrosoft.com).</span></span> |
|<span data-ttu-id="eab7d-175">Kaynak</span><span class="sxs-lookup"><span data-stu-id="eab7d-175">Resource</span></span> | <span data-ttu-id="eab7d-176">Media Services REST API'si</span><span class="sxs-lookup"><span data-stu-id="eab7d-176">Media Services REST API</span></span> |<span data-ttu-id="eab7d-177">aud: "https://rest.media.azure.net".</span><span class="sxs-lookup"><span data-stu-id="eab7d-177">aud: "https://rest.media.azure.net".</span></span> <span data-ttu-id="eab7d-178">Merhaba alıcı veya İzleyici hello erişim belirteci.</span><span class="sxs-lookup"><span data-stu-id="eab7d-178">hello recipient or audience of hello access token.</span></span> |

## <a name="steps-for-setup"></a><span data-ttu-id="eab7d-179">Kurulum adımları</span><span class="sxs-lookup"><span data-stu-id="eab7d-179">Steps for setup</span></span>

<span data-ttu-id="eab7d-180">tooregister ve Azure AD uygulaması Azure AD kimlik doğrulaması ve tooobtain hello Azure Media Services REST API uç noktası, aşağıdaki adımları tam hello çağırmak için bir erişim belirteci ayarlayın:</span><span class="sxs-lookup"><span data-stu-id="eab7d-180">tooregister and set up an Azure AD application for Azure AD authentication, and tooobtain an access token for calling hello Azure Media Services REST API endpoint, complete hello following steps:</span></span>

1.  <span data-ttu-id="eab7d-181">Merhaba, [Klasik Azure portalı](http://go.microsoft.com/fwlink/?LinkID=213885), Azure AD uygulama (örneğin, wzmediaservice) toohello Azure AD kiracısı (örneğin, microsoft.onmicrosoft.com) kaydedin.</span><span class="sxs-lookup"><span data-stu-id="eab7d-181">In hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), register an Azure AD application (for example, wzmediaservice) toohello Azure AD tenant (for example, microsoft.onmicrosoft.com).</span></span> <span data-ttu-id="eab7d-182">Web uygulaması veya yerel uygulama kayıtlı olup olmadığını önemli değildir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-182">It doesn't matter whether you registered as web app or native app.</span></span> <span data-ttu-id="eab7d-183">Ayrıca, tüm oturum açma URL'si ve yanıt URL'si (örneğin, her ikisi için de http://wzmediaservice.com) seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="eab7d-183">Also, you can choose any sign-on URL and reply URL (for example, http://wzmediaservice.com for both).</span></span>
2. <span data-ttu-id="eab7d-184">Merhaba, [Klasik Azure portalı](http://go.microsoft.com/fwlink/?LinkID=213885), Git toohello **yapılandırma** uygulamanızın sekmesi.</span><span class="sxs-lookup"><span data-stu-id="eab7d-184">In hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), go toohello **Configure** tab of your application.</span></span> <span data-ttu-id="eab7d-185">Not hello **istemci kimliği**.</span><span class="sxs-lookup"><span data-stu-id="eab7d-185">Note hello **client ID**.</span></span> <span data-ttu-id="eab7d-186">Ardından, altında **anahtarları**, Oluştur bir **istemci anahtar** (gizli).</span><span class="sxs-lookup"><span data-stu-id="eab7d-186">Then, under **Keys**, generate a **client key** (client secret).</span></span> 

    > [!NOTE] 
    > <span data-ttu-id="eab7d-187">Merhaba istemci gizli anahtarı not edin.</span><span class="sxs-lookup"><span data-stu-id="eab7d-187">Take note of hello client secret.</span></span> <span data-ttu-id="eab7d-188">Yeniden gösterilmeyecektir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-188">It won't be shown again.</span></span>
    
3.  <span data-ttu-id="eab7d-189">Merhaba, [Azure portal](http://ms.portal.azure.com), Git toohello Media Services hesabı.</span><span class="sxs-lookup"><span data-stu-id="eab7d-189">In hello [Azure portal](http://ms.portal.azure.com), go toohello Media Services account.</span></span> <span data-ttu-id="eab7d-190">Select hello **erişim denetimi** (IAM) bölmesi.</span><span class="sxs-lookup"><span data-stu-id="eab7d-190">Select hello **Access Control** (IAM) pane.</span></span> <span data-ttu-id="eab7d-191">Merhaba sahibi veya hello katkıda bulunan rolü sahip yeni bir üye ekleyin.</span><span class="sxs-lookup"><span data-stu-id="eab7d-191">Add a new member that has either hello Owner or hello Contributor role.</span></span> <span data-ttu-id="eab7d-192">Merhaba sorumlusu için (Bu örnekte, wzmediaservice) 1. adımda kaydettiğiniz hello uygulama adını arayın.</span><span class="sxs-lookup"><span data-stu-id="eab7d-192">For hello principal, search for hello application name you registered in step 1 (in this example, wzmediaservice).</span></span>

## <a name="info-toocollect"></a><span data-ttu-id="eab7d-193">Bilgi toocollect</span><span class="sxs-lookup"><span data-stu-id="eab7d-193">Info toocollect</span></span>

<span data-ttu-id="eab7d-194">tooprepare kodlama tutun, aşağıdaki veri noktaları tooinclude hello kodda hello Topla:</span><span class="sxs-lookup"><span data-stu-id="eab7d-194">tooprepare REST coding, collect hello following data points tooinclude in hello code:</span></span>

*   <span data-ttu-id="eab7d-195">Bir STS uç noktası olarak Azure AD: https://login.microsoftonline.com/microsoft.onmicrosoft.com/oauth2/token.</span><span class="sxs-lookup"><span data-stu-id="eab7d-195">Azure AD as an STS endpoint: https://login.microsoftonline.com/microsoft.onmicrosoft.com/oauth2/token.</span></span> <span data-ttu-id="eab7d-196">Bu uç noktasından bir JWT erişim belirteci istendi.</span><span class="sxs-lookup"><span data-stu-id="eab7d-196">From this endpoint, a JWT access token is requested.</span></span> <span data-ttu-id="eab7d-197">Ayrıca tooserving bir IDP olarak Azure AD aynı zamanda bir STS olarak görev yapar.</span><span class="sxs-lookup"><span data-stu-id="eab7d-197">In addition tooserving as an IDP, Azure AD also serves as an STS.</span></span> <span data-ttu-id="eab7d-198">Azure AD kaynak erişimi (bir erişim belirteci) için JWT verir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-198">Azure AD issues a JWT for resource access (an access token).</span></span> <span data-ttu-id="eab7d-199">JWT belirteci çeşitli talep vardır.</span><span class="sxs-lookup"><span data-stu-id="eab7d-199">A JWT token has various claims.</span></span>
*   <span data-ttu-id="eab7d-200">Kaynak veya hedef kitle olarak Azure Media Services REST API: https://rest.media.azure.net.</span><span class="sxs-lookup"><span data-stu-id="eab7d-200">Azure Media Services REST API as resource or audience: https://rest.media.azure.net.</span></span>
*   <span data-ttu-id="eab7d-201">İstemci kimliği: Bkz. Adım 2'de [kurulum adımları](#steps-for-setup).</span><span class="sxs-lookup"><span data-stu-id="eab7d-201">Client ID: See step 2 in [Steps for setup](#steps-for-setup).</span></span>
*   <span data-ttu-id="eab7d-202">İstemci gizliliği: bkz: adım 2'de [kurulum adımları](#steps-for-setup).</span><span class="sxs-lookup"><span data-stu-id="eab7d-202">Client secret: See step 2 in  [Steps for setup](#steps-for-setup).</span></span>
*   <span data-ttu-id="eab7d-203">Media Services hesabı REST API uç noktanızı biçimini izleyen hello içinde:</span><span class="sxs-lookup"><span data-stu-id="eab7d-203">Your Media Services account REST API endpoint in hello following format:</span></span>

    <span data-ttu-id="eab7d-204">https://[media_service_account_name].restv2. [data_center].media.azure.net/API</span><span class="sxs-lookup"><span data-stu-id="eab7d-204">https://[media_service_account_name].restv2.[data_center].media.azure.net/API</span></span> 

    <span data-ttu-id="eab7d-205">Bu karşı tüm hangi Media Services REST API çağrıları, uygulamanızda yapılan hello uç noktadır.</span><span class="sxs-lookup"><span data-stu-id="eab7d-205">This is hello endpoint against which all Media Services REST API calls in your application are made.</span></span> <span data-ttu-id="eab7d-206">Örneğin, https://willzhanmswjapan.restv2.japanwest.media.azure.net/API.</span><span class="sxs-lookup"><span data-stu-id="eab7d-206">For example, https://willzhanmswjapan.restv2.japanwest.media.azure.net/API.</span></span>

<span data-ttu-id="eab7d-207">Ardından, web.config veya app.config dosyasını toouse kodunuzda bu beş parametreleri koyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="eab7d-207">You can then put these five parameters in your web.config or app.config file, toouse in your code.</span></span>

## <a name="sample-code"></a><span data-ttu-id="eab7d-208">Örnek kod</span><span class="sxs-lookup"><span data-stu-id="eab7d-208">Sample code</span></span>

<span data-ttu-id="eab7d-209">Merhaba örnek kodda bulabilirsiniz [Azure Media Services erişimi için Azure AD kimlik doğrulamasını: REST API aracılığıyla her ikisi de](https://github.com/willzhan/WAMSRESTSoln).</span><span class="sxs-lookup"><span data-stu-id="eab7d-209">You can find hello sample code in [Azure AD Authentication for Azure Media Services Access: Both via REST API](https://github.com/willzhan/WAMSRESTSoln).</span></span>

<span data-ttu-id="eab7d-210">Merhaba örnek kod iki bölümden oluşur:</span><span class="sxs-lookup"><span data-stu-id="eab7d-210">hello sample code has two parts:</span></span>

*   <span data-ttu-id="eab7d-211">Azure AD kimlik doğrulama ve yetkilendirme için tüm hello REST API koduna sahip bir DLL Kitaplığı projesi.</span><span class="sxs-lookup"><span data-stu-id="eab7d-211">A DLL library project that has all hello REST API code for Azure AD authentication and authorization.</span></span> <span data-ttu-id="eab7d-212">Ayrıca, REST API çağrıları toohello Media Services REST API uç noktası, hello erişim belirteci ile yapmak için bir yöntem vardır.</span><span class="sxs-lookup"><span data-stu-id="eab7d-212">It also has a method for making REST API calls toohello Media Services REST API endpoint, with hello access token.</span></span>
*   <span data-ttu-id="eab7d-213">Azure AD kimlik doğrulaması başlatır ve farklı Media Services REST API çağrıları bir konsol test istemcisi.</span><span class="sxs-lookup"><span data-stu-id="eab7d-213">A console test client, which initiates Azure AD authentication and calls different Media Services REST API.</span></span>

<span data-ttu-id="eab7d-214">Merhaba örnek proje üç özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="eab7d-214">hello sample project has three features:</span></span>

*   <span data-ttu-id="eab7d-215">Yalnızca hello REST API kullanarak Azure AD kimlik doğrulamaları hello istemci kimlik bilgileri aracılığıyla verin.</span><span class="sxs-lookup"><span data-stu-id="eab7d-215">Azure AD authentications via hello client credentials grant by using only hello REST API.</span></span>
*   <span data-ttu-id="eab7d-216">Yalnızca hello REST API kullanarak azure Media Services erişimi.</span><span class="sxs-lookup"><span data-stu-id="eab7d-216">Azure Media Services access by using only hello REST API.</span></span>
*   <span data-ttu-id="eab7d-217">Azure depolama erişim kullanarak yalnızca hello REST API (olarak kullanılan toocreate REST API kullanarak bir Media Services hesabı).</span><span class="sxs-lookup"><span data-stu-id="eab7d-217">Azure Storage access by using only hello REST API (as used toocreate a Media Services account, by using REST API).</span></span>


## <a name="where-is-hello-refresh-token"></a><span data-ttu-id="eab7d-218">Merhaba yenileme belirteci nerede?</span><span class="sxs-lookup"><span data-stu-id="eab7d-218">Where is hello refresh token?</span></span>

<span data-ttu-id="eab7d-219">Bazı okuyucular isteyebilir: hello yenileme belirteci nerede?</span><span class="sxs-lookup"><span data-stu-id="eab7d-219">Some readers might ask: Where is hello refresh token?</span></span> <span data-ttu-id="eab7d-220">Neden bir yenileme belirteci burada kullanabilir?</span><span class="sxs-lookup"><span data-stu-id="eab7d-220">Why not use a refresh token here?</span></span>

<span data-ttu-id="eab7d-221">bir yenileme belirteci Hello amacı toorefresh bir erişim belirteci değil.</span><span class="sxs-lookup"><span data-stu-id="eab7d-221">hello purpose of a refresh token is not toorefresh an access token.</span></span> <span data-ttu-id="eab7d-222">Bunun yerine, son kullanıcı kimlik doğrulaması veya kullanıcı müdahalesi tasarlanmış toobypass değildir ve bir önceki belirtecinin süresi dolduğunda hala geçerli erişim belirteci alın.</span><span class="sxs-lookup"><span data-stu-id="eab7d-222">Instead, it is designed toobypass end-user authentication or user intervention and still get a valid access token when an earlier token expires.</span></span> <span data-ttu-id="eab7d-223">Bir yenileme belirteci için daha iyi bir adı "kullanıcı yeniden-oturumu açma belirteci atlama."gibi bir şey olabilir</span><span class="sxs-lookup"><span data-stu-id="eab7d-223">A better name for a refresh token might be something like "bypass user re-sign-in token."</span></span>

<span data-ttu-id="eab7d-224">Merhaba OAuth 2.0 yetkilendirme izin akışı (kullanıcı adı ve parola, bir kullanıcı adına hareket) kullanırsanız, bir yenileme belirteci, kullanıcı müdahalesi gerektirmeden yenilenmiş bir erişim belirteci almak yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="eab7d-224">If you use hello OAuth 2.0 authorization grant flow (username and password, acting on behalf of a user), a refresh token helps you get a renewed access token without requesting user intervention.</span></span> <span data-ttu-id="eab7d-225">Ancak, hello OAuth 2.0 istemci kimlik bilgileri Biz bu makalede açıklamak akış vermek için hello istemci kendi adına hareket eder.</span><span class="sxs-lookup"><span data-stu-id="eab7d-225">However, for hello OAuth 2.0 client credentials grant flow that we describe in this article, hello client acts on its own behalf.</span></span> <span data-ttu-id="eab7d-226">Hiçbir kullanıcı etkileşimi gerekmez ve hello yetkilendirme sunucusu, bir yenileme belirteci vermek çok gerekmez ve olmaz.</span><span class="sxs-lookup"><span data-stu-id="eab7d-226">You don't need user intervention at all, and hello authorization server doesn't need too(and won't) give you a refresh token.</span></span> <span data-ttu-id="eab7d-227">Merhaba ayıklaması **GetUrlEncodedJWT** yöntemi, fark hello yanıt hello belirteç uç noktasından bir erişim belirteci ancak herhangi bir yenileme belirteci sahiptir.</span><span class="sxs-lookup"><span data-stu-id="eab7d-227">If you debug hello **GetUrlEncodedJWT** method, you notice that hello response from hello token endpoint has an access token, but no refresh token.</span></span>

## <a name="next-steps"></a><span data-ttu-id="eab7d-228">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="eab7d-228">Next steps</span></span>

<span data-ttu-id="eab7d-229">Kullanmaya başlama [tooyour hesabı dosyaları karşıya yükleme](media-services-dotnet-upload-files.md).</span><span class="sxs-lookup"><span data-stu-id="eab7d-229">Get started with [uploading files tooyour account](media-services-dotnet-upload-files.md).</span></span>
