---
title: "Azure Active Directory B2C: örtük akışını kullanarak tek sayfa uygulamaları | Microsoft Docs"
description: "Azure Active Directory B2C ile OAuth 2.0 örtük akışını kullanarak doğrudan tek sayfa uygulamaları oluşturmayı öğrenin."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 44ff168599e9078506e1afdd0f1dc4657ef0964d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="80387-103">Azure AD B2C: Tek sayfalı uygulama oturum OAuth 2.0 örtük akışını kullanarak açma</span><span class="sxs-lookup"><span data-stu-id="80387-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="80387-104">Bu özelliğin önizlemede değil.</span><span class="sxs-lookup"><span data-stu-id="80387-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="80387-105">Birçok modern uygulamanın, JavaScript'te öncelikli olarak yazılmış tek sayfa uygulaması ön ucu sahip.</span><span class="sxs-lookup"><span data-stu-id="80387-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="80387-106">Genellikle, uygulama AngularJS, Ember.js veya Durandal gibi bir çerçeve kullanılarak yazılır.</span><span class="sxs-lookup"><span data-stu-id="80387-106">Often, the app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="80387-107">Tek sayfalı uygulamalar ve öncelikle tarayıcıda çalışan diğer JavaScript uygulamalar kimlik doğrulaması için ek bazı zorluklar vardır:</span><span class="sxs-lookup"><span data-stu-id="80387-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="80387-108">Bu uygulamaların güvenlik özelliklerini geleneksel sunucu tabanlı web uygulamalarından önemli ölçüde farklıdır.</span><span class="sxs-lookup"><span data-stu-id="80387-108">The security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="80387-109">Çok sayıda yetkilendirme sunucularını ve kimlik sağlayıcıları çıkış noktaları arası kaynak paylaşma (CORS) isteklerini desteklemez.</span><span class="sxs-lookup"><span data-stu-id="80387-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="80387-110">Uygulama çıktığınızda tam tarayıcı yeniden yönlendirmeleri kullanıcı deneyimini önemli ölçüde bozucu olabilir.</span><span class="sxs-lookup"><span data-stu-id="80387-110">Full-page browser redirects away from the app can be significantly invasive to the user experience.</span></span>

<span data-ttu-id="80387-111">Bu uygulamalar, Azure Active Directory B2C desteklemek için OAuth 2.0 örtük akışını (Azure AD B2C) kullanır.</span><span class="sxs-lookup"><span data-stu-id="80387-111">To support these applications, Azure Active Directory B2C (Azure AD B2C) uses the OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="80387-112">OAuth 2.0 yetkilendirme örtük grant akışını açıklanan [4.2 OAuth 2.0 belirtimi bölüm](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="80387-112">The OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of the OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="80387-113">Örtük akışını uygulama belirteçlerini doğrudan Azure Active Directory'den (Azure AD) aldığı herhangi bir sunucudan sunucuya exchange olmadan son noktanın yetkilendirilmesi.</span><span class="sxs-lookup"><span data-stu-id="80387-113">In implicit flow, the app receives tokens directly from the Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="80387-114">Tüm kimlik doğrulaması mantığı ve gerçekleştirilen işlemlerin işleme oturumu tamamen ek sayfa yeniden yönlendirmeleri olmadan JavaScript istemci yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="80387-114">All authentication logic and session handling takes place entirely in the JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="80387-115">Azure AD B2C standart OAuth 2.0 örtük akışını birden çok basit kimlik doğrulama ve yetkilendirme genişletir.</span><span class="sxs-lookup"><span data-stu-id="80387-115">Azure AD B2C extends the standard OAuth 2.0 implicit flow to more than simple authentication and authorization.</span></span> <span data-ttu-id="80387-116">Azure AD B2C tanıtır [İlkesi parametresi](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="80387-116">Azure AD B2C introduces the [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="80387-117">İlke parametresiyle kullanıcı deneyimleri, uygulamanızın gibi eklemek için OAuth 2.0 kullanabilirsiniz kaydolma, oturum açma ve profil yönetimi.</span><span class="sxs-lookup"><span data-stu-id="80387-117">With the policy parameter, you can use OAuth 2.0 to add user experiences to your app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="80387-118">Bu makalede, Azure AD ve örtük akışını her bu deneyimler, tek sayfalı uygulamalarınızda uygulamak için nasıl kullanılacağını gösteriyoruz.</span><span class="sxs-lookup"><span data-stu-id="80387-118">In this article, we show you how to use the implicit flow and Azure AD to implement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="80387-119">Başlamanıza yardımcı olmak için bir göz atalım bizim [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) ve [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) örnekleri.</span><span class="sxs-lookup"><span data-stu-id="80387-119">To help you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="80387-120">Bu makaledeki örnek HTTP isteklerinde kullanırız bizim örnek Azure AD B2C dizini **fabrikamb2c.onmicrosoft.com**.</span><span class="sxs-lookup"><span data-stu-id="80387-120">In the example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**.</span></span> <span data-ttu-id="80387-121">Ayrıca kendi örnek uygulama ve ilkeleri kullanırız.</span><span class="sxs-lookup"><span data-stu-id="80387-121">We also use our own sample application and policies.</span></span> <span data-ttu-id="80387-122">Bu değerleri kullanarak kendiniz istekleri deneyebilir ya da kendi değerlerinizle değiştirin.</span><span class="sxs-lookup"><span data-stu-id="80387-122">You can try the requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="80387-123">Bilgi edinmek için nasıl [kendi Azure AD B2C dizini, uygulama ve ilkeleri alma](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="80387-123">Learn how to [get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="80387-124">Protokol diyagramı</span><span class="sxs-lookup"><span data-stu-id="80387-124">Protocol diagram</span></span>

<span data-ttu-id="80387-125">Örtük oturum açma akışını aşağıdaki şekilde şöyle görünür.</span><span class="sxs-lookup"><span data-stu-id="80387-125">The implicit sign-in flow looks something like the following figure.</span></span> <span data-ttu-id="80387-126">Her adım ayrıntılı makalenin sonraki bölümlerinde açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="80387-126">Each step is described in detail later in the article.</span></span>

![Openıd Connect kulvarları](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="80387-128">Kimlik doğrulama isteklerini gönderme</span><span class="sxs-lookup"><span data-stu-id="80387-128">Send authentication requests</span></span>
<span data-ttu-id="80387-129">Web uygulamanızı kullanıcının kimliğini doğrulamak ve ilke yürütmesini gerektiğinde kullanıcıya yönlendirir `/authorize` uç noktası.</span><span class="sxs-lookup"><span data-stu-id="80387-129">When your web app needs to authenticate the user and execute a policy, it directs the user to the `/authorize` endpoint.</span></span> <span data-ttu-id="80387-130">Bu etkileşimli akış burada kullanıcı ilkesine bağlı olarak eylem gerçekleştirir bölümüdür.</span><span class="sxs-lookup"><span data-stu-id="80387-130">This is the interactive portion of the flow, where the user takes action, depending on the policy.</span></span> <span data-ttu-id="80387-131">Kullanıcı Kimliği Azure AD uç noktasından belirteç alır.</span><span class="sxs-lookup"><span data-stu-id="80387-131">The user gets an ID token from the Azure AD endpoint.</span></span>

<span data-ttu-id="80387-132">İstemci bu istekte gösterir `scope` parametresi, kullanıcıdan almak için gereken izinleri.</span><span class="sxs-lookup"><span data-stu-id="80387-132">In this request, the client indicates in the `scope` parameter the permissions that it needs to acquire from the user.</span></span> <span data-ttu-id="80387-133">İçinde `p` parametresi, yürütmek için ilke gösterir.</span><span class="sxs-lookup"><span data-stu-id="80387-133">In the `p` parameter, it indicates the policy to execute.</span></span> <span data-ttu-id="80387-134">Aşağıdaki üç örnekler (okunabilirlik için satır sonuyla) her başka bir ilke kullanın.</span><span class="sxs-lookup"><span data-stu-id="80387-134">The following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="80387-135">Nasıl çalıştığı her istek için bir fikir almak için onu çalıştıran ve bir tarayıcıya istek yapıştırma deneyin.</span><span class="sxs-lookup"><span data-stu-id="80387-135">To get a feel for how each request works, try pasting the request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="80387-136">Bir oturum açma ilkesini kullanın</span><span class="sxs-lookup"><span data-stu-id="80387-136">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="80387-137">Kayıt İlkesi'ni kullanın</span><span class="sxs-lookup"><span data-stu-id="80387-137">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="80387-138">Bir profili Düzenle ilkesini kullanın</span><span class="sxs-lookup"><span data-stu-id="80387-138">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="80387-139">Parametre</span><span class="sxs-lookup"><span data-stu-id="80387-139">Parameter</span></span> | <span data-ttu-id="80387-140">Gerekli?</span><span class="sxs-lookup"><span data-stu-id="80387-140">Required?</span></span> | <span data-ttu-id="80387-141">Açıklama</span><span class="sxs-lookup"><span data-stu-id="80387-141">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="80387-142">client_id</span><span class="sxs-lookup"><span data-stu-id="80387-142">client_id</span></span> |<span data-ttu-id="80387-143">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-143">Required</span></span> |<span data-ttu-id="80387-144">Uygulamanıza atanan uygulama kimliği [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="80387-144">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="80387-145">response_type</span><span class="sxs-lookup"><span data-stu-id="80387-145">response_type</span></span> |<span data-ttu-id="80387-146">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-146">Required</span></span> |<span data-ttu-id="80387-147">İçermelidir `id_token` Openıd Connect oturum açma için.</span><span class="sxs-lookup"><span data-stu-id="80387-147">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="80387-148">Yanıt türü içerebilir `token`.</span><span class="sxs-lookup"><span data-stu-id="80387-148">It also can include the response type `token`.</span></span> <span data-ttu-id="80387-149">Kullanırsanız `token`, uygulamanızı hemen bir erişim belirteci authorize uç noktasından uç noktayı yetkilendirmek için ikinci bir isteği yapmadan alabilir.</span><span class="sxs-lookup"><span data-stu-id="80387-149">If you use `token`, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span>  <span data-ttu-id="80387-150">Kullanırsanız `token` yanıt türü `scope` parametresi için belirteci vermek için hangi kaynak gösteren bir kapsam içermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="80387-150">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="80387-151">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="80387-151">redirect_uri</span></span> |<span data-ttu-id="80387-152">Önerilen</span><span class="sxs-lookup"><span data-stu-id="80387-152">Recommended</span></span> |<span data-ttu-id="80387-153">Yeniden yönlendirme URI'si burada kimlik doğrulama yanıtları gönderilebilen veya uygulamanız tarafından alınan, uygulamanızın.</span><span class="sxs-lookup"><span data-stu-id="80387-153">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="80387-154">URL kodlanmış olmalıdır dışında tam olarak yeniden yönlendirme Portalı'nda kayıtlı URI'ler biriyle eşleşmelidir.</span><span class="sxs-lookup"><span data-stu-id="80387-154">It must exactly match one of the redirect URIs that you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="80387-155">response_mode</span><span class="sxs-lookup"><span data-stu-id="80387-155">response_mode</span></span> |<span data-ttu-id="80387-156">Önerilen</span><span class="sxs-lookup"><span data-stu-id="80387-156">Recommended</span></span> |<span data-ttu-id="80387-157">Sonuçta elde edilen belirteci geri uygulamanıza göndermek için kullanılacak yöntemi belirtir.</span><span class="sxs-lookup"><span data-stu-id="80387-157">Specifies the method to use to send the resulting token back to your app.</span></span>  <span data-ttu-id="80387-158">Örtük akışlar için kullanmak `fragment`.</span><span class="sxs-lookup"><span data-stu-id="80387-158">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="80387-159">Kapsam</span><span class="sxs-lookup"><span data-stu-id="80387-159">scope</span></span> |<span data-ttu-id="80387-160">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-160">Required</span></span> |<span data-ttu-id="80387-161">Kapsamları boşlukla ayrılmış listesi.</span><span class="sxs-lookup"><span data-stu-id="80387-161">A space-separated list of scopes.</span></span> <span data-ttu-id="80387-162">Azure AD'ye istenecek izinlerin hem tek bir kapsam değeri gösterir.</span><span class="sxs-lookup"><span data-stu-id="80387-162">A single scope value indicates to Azure AD both of the permissions that are being requested.</span></span> <span data-ttu-id="80387-163">`openid` Kapsam kullanıcı oturumu ve kullanıcı kimliği belirteçleri biçiminde hakkında veri Al izni gösterir.</span><span class="sxs-lookup"><span data-stu-id="80387-163">The `openid` scope indicates a permission to sign in the user and get data about the user in the form of ID tokens.</span></span> <span data-ttu-id="80387-164">(Biz bu konuda daha sonra makalesinde konuşun.) `offline_access` Kapsamı web uygulamaları için isteğe bağlı değil.</span><span class="sxs-lookup"><span data-stu-id="80387-164">(We'll talk about this more later in the article.) The `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="80387-165">Bu, uygulamanızın uzun süreli kaynaklarına erişim için bir yenileme belirteci gerektiğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="80387-165">It indicates that your app needs a refresh token for long-lived access to resources.</span></span> |
| <span data-ttu-id="80387-166">durum</span><span class="sxs-lookup"><span data-stu-id="80387-166">state</span></span> |<span data-ttu-id="80387-167">Önerilen</span><span class="sxs-lookup"><span data-stu-id="80387-167">Recommended</span></span> |<span data-ttu-id="80387-168">Ayrıca belirteci yanıtta döndürülen istek dahil bir değer.</span><span class="sxs-lookup"><span data-stu-id="80387-168">A value included in the request that also is returned in the token response.</span></span> <span data-ttu-id="80387-169">Kullanmak istediğiniz herhangi bir içerik dizesi olabilir.</span><span class="sxs-lookup"><span data-stu-id="80387-169">It can be a string of any content that you want to use.</span></span> <span data-ttu-id="80387-170">Genellikle, rastgele oluşturulmuş, benzersiz bir değer, siteler arası istek sahtekarlığı saldırıları önlemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="80387-170">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span> <span data-ttu-id="80387-171">Durumu da kimlik doğrulama isteği oluşmadan önce uygulama kullanıcının durumu hakkında bilgi kodlanması için kullanılan oldukları üzerinde sayfa gibi.</span><span class="sxs-lookup"><span data-stu-id="80387-171">The state is also used to encode information about the user's state in the app before the authentication request occurred, like the page they were on.</span></span> |
| <span data-ttu-id="80387-172">nonce</span><span class="sxs-lookup"><span data-stu-id="80387-172">nonce</span></span> |<span data-ttu-id="80387-173">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-173">Required</span></span> |<span data-ttu-id="80387-174">Sonuçta elde edilen kimliği belirteç talep olarak dahil edilen (uygulama tarafından üretilen) istekte bulunan bir değer.</span><span class="sxs-lookup"><span data-stu-id="80387-174">A value included in the request (generated by the app) that is included in the resulting ID token as a claim.</span></span> <span data-ttu-id="80387-175">Uygulama sonra belirteç yeniden yürütme saldırıları azaltmak için bu değeri doğrulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-175">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="80387-176">Genellikle, isteğin başlangıç noktasının tanımlamak için kullanılan rastgele, benzersiz bir dize değeridir.</span><span class="sxs-lookup"><span data-stu-id="80387-176">Usually, the value is a randomized, unique string that can be used to identify the origin of the request.</span></span> |
| <span data-ttu-id="80387-177">P</span><span class="sxs-lookup"><span data-stu-id="80387-177">p</span></span> |<span data-ttu-id="80387-178">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-178">Required</span></span> |<span data-ttu-id="80387-179">Yürütme ilkesi.</span><span class="sxs-lookup"><span data-stu-id="80387-179">The policy to execute.</span></span> <span data-ttu-id="80387-180">Azure AD B2C kiracınızda oluşturulan bir ilkeyi adıdır.</span><span class="sxs-lookup"><span data-stu-id="80387-180">It's the name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="80387-181">İlke adı değeri ile başlaması gereken **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="80387-181">The policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="80387-182">Daha fazla bilgi için bkz: [Azure AD B2C yerleşik ilkeleri](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="80387-182">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="80387-183">istemi</span><span class="sxs-lookup"><span data-stu-id="80387-183">prompt</span></span> |<span data-ttu-id="80387-184">İsteğe bağlı</span><span class="sxs-lookup"><span data-stu-id="80387-184">Optional</span></span> |<span data-ttu-id="80387-185">Gerekli olan bir kullanıcı etkileşimi türü.</span><span class="sxs-lookup"><span data-stu-id="80387-185">The type of user interaction that's required.</span></span> <span data-ttu-id="80387-186">Şu anda, yalnızca geçerli değer: `login`.</span><span class="sxs-lookup"><span data-stu-id="80387-186">Currently, the only valid value is `login`.</span></span> <span data-ttu-id="80387-187">Bu kullanıcının bu isteği kimlik bilgilerini girmesini zorlar.</span><span class="sxs-lookup"><span data-stu-id="80387-187">This forces the user to enter their credentials on that request.</span></span> <span data-ttu-id="80387-188">Çoklu oturum açma etkili olmaz.</span><span class="sxs-lookup"><span data-stu-id="80387-188">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="80387-189">Bu noktada, ilkenin iş akışını tamamlamak için kullanıcının istedi.</span><span class="sxs-lookup"><span data-stu-id="80387-189">At this point, the user is asked to complete the policy's workflow.</span></span> <span data-ttu-id="80387-190">Bu dizini ya da başka bir sayıyı adımları için kaydolan bir sosyal kimlik bilgilerinizle oturum, kullanıcı adını ve parolasını girerek kullanıcı gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="80387-190">This might involve the user entering their username and password, signing in with a social identity, signing up for the directory, or any other number of steps.</span></span> <span data-ttu-id="80387-191">İlkenin nasıl tanımlanan kullanıcı eylemlerini bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="80387-191">User actions depend on how the policy is defined.</span></span>

<span data-ttu-id="80387-192">Kullanıcı ilkeyi tamamladıktan sonra Azure AD için kullanılır ve uygulamanızın değerde bir yanıt döndürür `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="80387-192">After the user completes the policy, Azure AD returns a response to your app at the value you used for `redirect_uri`.</span></span> <span data-ttu-id="80387-193">Bölümünde belirtilen yöntemi kullanan `response_mode` parametresi.</span><span class="sxs-lookup"><span data-stu-id="80387-193">It uses the method specified in the `response_mode` parameter.</span></span> <span data-ttu-id="80387-194">Yanıt tam olarak yürütülen ilke bağımsız kullanıcı eylemi senaryoların her biri için aynıdır.</span><span class="sxs-lookup"><span data-stu-id="80387-194">The response is exactly the same for each of the user action scenarios, independent of the policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="80387-195">Başarılı yanıt</span><span class="sxs-lookup"><span data-stu-id="80387-195">Successful response</span></span>
<span data-ttu-id="80387-196">Kullanan başarılı yanıt `response_mode=fragment` ve `response_type=id_token+token` okunabilirliği için satır sonu ile aşağıdaki gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="80387-196">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like the following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="80387-197">Parametre</span><span class="sxs-lookup"><span data-stu-id="80387-197">Parameter</span></span> | <span data-ttu-id="80387-198">Açıklama</span><span class="sxs-lookup"><span data-stu-id="80387-198">Description</span></span> |
| --- | --- |
| <span data-ttu-id="80387-199">access_token</span><span class="sxs-lookup"><span data-stu-id="80387-199">access_token</span></span> |<span data-ttu-id="80387-200">Uygulama istenen erişim belirteci.</span><span class="sxs-lookup"><span data-stu-id="80387-200">The access token that the app requested.</span></span>  <span data-ttu-id="80387-201">Erişim belirteci kodunu çözdü veya gerekir aksi takdirde sahip denetlenir.</span><span class="sxs-lookup"><span data-stu-id="80387-201">The access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="80387-202">Genel olmayan bir dize olarak işlenebilir.</span><span class="sxs-lookup"><span data-stu-id="80387-202">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="80387-203">token_type</span><span class="sxs-lookup"><span data-stu-id="80387-203">token_type</span></span> |<span data-ttu-id="80387-204">Belirteç türü değeri.</span><span class="sxs-lookup"><span data-stu-id="80387-204">The token type value.</span></span> <span data-ttu-id="80387-205">Azure AD destekleyen tek taşıyıcı türüdür.</span><span class="sxs-lookup"><span data-stu-id="80387-205">The only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="80387-206">expires_in</span><span class="sxs-lookup"><span data-stu-id="80387-206">expires_in</span></span> |<span data-ttu-id="80387-207">Erişim belirtecinin (saniye olarak) geçerli olduğu süreyi.</span><span class="sxs-lookup"><span data-stu-id="80387-207">The length of time that the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="80387-208">Kapsam</span><span class="sxs-lookup"><span data-stu-id="80387-208">scope</span></span> |<span data-ttu-id="80387-209">Belirteç için geçerli olur; kapsam.</span><span class="sxs-lookup"><span data-stu-id="80387-209">The scopes that the token is valid for.</span></span> <span data-ttu-id="80387-210">Önbellek belirteçleri kapsamına daha sonra kullanmak üzere de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-210">You also can use scopes to cache tokens for later use.</span></span> |
| <span data-ttu-id="80387-211">id_token</span><span class="sxs-lookup"><span data-stu-id="80387-211">id_token</span></span> |<span data-ttu-id="80387-212">İstenen uygulama kimliği belirteci.</span><span class="sxs-lookup"><span data-stu-id="80387-212">The ID token that the app requested.</span></span> <span data-ttu-id="80387-213">Kullanıcının kimliğini doğrulamak ve kullanıcı oturumu başlatmak için kimliği belirteci kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-213">You can use the ID token to verify the user's identity and begin a session with the user.</span></span> <span data-ttu-id="80387-214">Kimlik belirteçlerini ve içerikleri hakkında daha fazla bilgi için bkz: [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="80387-214">For more information about ID tokens and their contents, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="80387-215">durum</span><span class="sxs-lookup"><span data-stu-id="80387-215">state</span></span> |<span data-ttu-id="80387-216">Varsa bir `state` parametresi, aynı değeri yanıt olarak görünmesi gereken istekte bulunur.</span><span class="sxs-lookup"><span data-stu-id="80387-216">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="80387-217">Uygulama olduğunu doğrulamanız gerekir `state` istek ve yanıt değerler aynı.</span><span class="sxs-lookup"><span data-stu-id="80387-217">The app should verify that the `state` values in the request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="80387-218">Hata yanıtı</span><span class="sxs-lookup"><span data-stu-id="80387-218">Error response</span></span>
<span data-ttu-id="80387-219">Böylece uygulama bunları uygun şekilde işleyebilir hata yanıtları yeniden yönlendirme URI'si da gönderilebilir:</span><span class="sxs-lookup"><span data-stu-id="80387-219">Error responses also can be sent to the redirect URI so that the app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="80387-220">Parametre</span><span class="sxs-lookup"><span data-stu-id="80387-220">Parameter</span></span> | <span data-ttu-id="80387-221">Açıklama</span><span class="sxs-lookup"><span data-stu-id="80387-221">Description</span></span> |
| --- | --- |
| <span data-ttu-id="80387-222">error</span><span class="sxs-lookup"><span data-stu-id="80387-222">error</span></span> |<span data-ttu-id="80387-223">Oluşan hataları türlerini sınıflandırmak için kullanılan bir hata kodu dizesi.</span><span class="sxs-lookup"><span data-stu-id="80387-223">An error code string used to classify types of errors that occur.</span></span> <span data-ttu-id="80387-224">Hata işleme için hata kodu de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-224">You also can use the error code for error handling.</span></span> |
| <span data-ttu-id="80387-225">error_description</span><span class="sxs-lookup"><span data-stu-id="80387-225">error_description</span></span> |<span data-ttu-id="80387-226">Yardımcı olabilecek belirli bir hata iletisi kimlik doğrulama hatası kök nedenini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="80387-226">A specific error message that can help you identify the root cause of an authentication error.</span></span> |
| <span data-ttu-id="80387-227">durum</span><span class="sxs-lookup"><span data-stu-id="80387-227">state</span></span> |<span data-ttu-id="80387-228">Önceki tabloda tam açıklamasına bakın.</span><span class="sxs-lookup"><span data-stu-id="80387-228">See the full description in the preceding table.</span></span> <span data-ttu-id="80387-229">Varsa bir `state` parametresi, aynı değeri yanıt olarak görünmesi gereken istekte bulunur.</span><span class="sxs-lookup"><span data-stu-id="80387-229">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="80387-230">Uygulama olduğunu doğrulamanız gerekir `state` istek ve yanıt değerler aynı.</span><span class="sxs-lookup"><span data-stu-id="80387-230">The app should verify that the `state` values in the request and response are identical.</span></span>|

## <a name="validate-the-id-token"></a><span data-ttu-id="80387-231">Kimliği belirtecini doğrula</span><span class="sxs-lookup"><span data-stu-id="80387-231">Validate the ID token</span></span>
<span data-ttu-id="80387-232">Bir kimliği belirteci alma kullanıcının kimliğini doğrulamak için yeterli değil.</span><span class="sxs-lookup"><span data-stu-id="80387-232">Receiving an ID token is not enough to authenticate the user.</span></span> <span data-ttu-id="80387-233">Kimliği belirtecin imzayı doğrulamak ve uygulamanızın gereksinimleri başına belirtecinizdeki talepleri doğrulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="80387-233">You must validate the ID token's signature, and verify the claims in the token per your app's requirements.</span></span> <span data-ttu-id="80387-234">Azure AD B2C kullanan [JSON Web belirteçleri (Jwt'ler)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) ve Belirteçleri imzalamak ve bunların geçerli olduğunu doğrulamak için ortak anahtar şifrelemesi.</span><span class="sxs-lookup"><span data-stu-id="80387-234">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography to sign tokens and verify that they are valid.</span></span>

<span data-ttu-id="80387-235">Birçok açık kaynak kitaplıkları kullanmayı tercih ederseniz dil bağlı olarak Jwt'ler, doğrulamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="80387-235">Many open-source libraries are available for validating JWTs, depending on the language you prefer to use.</span></span> <span data-ttu-id="80387-236">Kendi doğrulama mantığı uygulamak yerine kullanılabilir açık kaynak kitaplıkları keşfetme göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="80387-236">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="80387-237">Bu kitaplıklar düzgün bir şekilde kullanmayı öğrenmenize yardımcı olmak için bu makaledeki bilgileri kullanın.</span><span class="sxs-lookup"><span data-stu-id="80387-237">You can use the information in this article to help you learn how to properly use those libraries.</span></span>

<span data-ttu-id="80387-238">Azure AD B2C Openıd Connect meta veri son nokta vardır.</span><span class="sxs-lookup"><span data-stu-id="80387-238">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="80387-239">Uygulama uç nokta çalışma zamanında Azure AD B2C hakkında bilgi almak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-239">An app can use the endpoint to fetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="80387-240">Bu bilgiler, uç noktaları, belirteç içerikleri ve belirteç imzalama anahtarları içerir.</span><span class="sxs-lookup"><span data-stu-id="80387-240">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="80387-241">Azure AD B2C kiracınızda her ilke için bir JSON meta veri belgesi yoktur.</span><span class="sxs-lookup"><span data-stu-id="80387-241">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="80387-242">Örneğin, fabrikamb2c.onmicrosoft.com Kiracı b2c_1_sign_in ilkesinde meta veri belgesi şu konumdadır:</span><span class="sxs-lookup"><span data-stu-id="80387-242">For example, the metadata document for the b2c_1_sign_in policy in the fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="80387-243">Bu yapılandırma belgesi özelliklerini biri `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="80387-243">One of the properties of this configuration document is the `jwks_uri`.</span></span> <span data-ttu-id="80387-244">Aynı ilke için değer olacaktır:</span><span class="sxs-lookup"><span data-stu-id="80387-244">The value for the same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="80387-245">Hangi ilke kimliği belirteç imzalamak için kullanılan (ve meta verilerini getirmek nereye) belirlemek için iki seçeneğiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="80387-245">To determine which policy was used to sign an ID token (and where to fetch the metadata from), you have two options.</span></span> <span data-ttu-id="80387-246">İlk olarak, ilke adını dahil `acr` içinde talep `id_token`.</span><span class="sxs-lookup"><span data-stu-id="80387-246">First, the policy name is included in the `acr` claim in `id_token`.</span></span> <span data-ttu-id="80387-247">Bir kimliği belirteci talepleri ayrıştırma hakkında daha fazla bilgi için bkz: [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="80387-247">For information about how to parse the claims from an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="80387-248">Değerini ilkesinde kodlamak için diğer seçeneğiniz olduğunu `state` isteği gönderdiğinizde parametresi.</span><span class="sxs-lookup"><span data-stu-id="80387-248">Your other option is to encode the policy in the value of the `state` parameter when you issue the request.</span></span> <span data-ttu-id="80387-249">Ardından, kod çözme `state` hangi ilke kullanılan belirlemek için parametre.</span><span class="sxs-lookup"><span data-stu-id="80387-249">Then, decode the `state` parameter to determine which policy was used.</span></span> <span data-ttu-id="80387-250">Her iki yöntem geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="80387-250">Either method is valid.</span></span>

<span data-ttu-id="80387-251">Openıd Connect meta veri uç noktasından meta veri belgesi edindiğiniz sonra kimliği belirtecinin imzası doğrulamak için (Bu uç noktada bulunur) 256 RSA ortak anahtarları kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-251">After you've acquired the metadata document from the OpenID Connect metadata endpoint, you can use the RSA-256 public keys (located at this endpoint) to validate the signature of the ID token.</span></span> <span data-ttu-id="80387-252">Belirli bir zamanda Bu uç noktada listelenen birden çok anahtar olabilir, her tarafından tanımlanan bir `kid`.</span><span class="sxs-lookup"><span data-stu-id="80387-252">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="80387-253">Üstbilgisi `id_token` de içeren bir `kid` talep.</span><span class="sxs-lookup"><span data-stu-id="80387-253">The header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="80387-254">Bu anahtarları hangisinin kimliği belirteç imzalamak için kullanılan belirtir.</span><span class="sxs-lookup"><span data-stu-id="80387-254">It indicates which of these keys was used to sign the ID token.</span></span> <span data-ttu-id="80387-255">Hakkında bilgi dahil daha fazla bilgi için [belirteçleri doğrulama](active-directory-b2c-reference-tokens.md#token-validation), bkz: [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="80387-255">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve the information on this-->

<span data-ttu-id="80387-256">Kimliği belirtecinin imzası doğrulama sonra birkaç talep doğrulama gerektirir.</span><span class="sxs-lookup"><span data-stu-id="80387-256">After you validate the signature of the ID token, several claims require verification.</span></span> <span data-ttu-id="80387-257">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="80387-257">For example:</span></span>

* <span data-ttu-id="80387-258">Doğrulama `nonce` belirteç yeniden yürütme saldırılarını önlemek talep.</span><span class="sxs-lookup"><span data-stu-id="80387-258">Validate the `nonce` claim to prevent token replay attacks.</span></span> <span data-ttu-id="80387-259">Oturum açma istekte belirtilen değeri olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="80387-259">Its value should be what you specified in the sign-in request.</span></span>
* <span data-ttu-id="80387-260">Doğrulama `aud` kimliği belirteci uygulamanız için verilmiş emin olmak talep.</span><span class="sxs-lookup"><span data-stu-id="80387-260">Validate the `aud` claim to ensure that the ID token was issued for your app.</span></span> <span data-ttu-id="80387-261">Değeri, uygulamanızın uygulama kimliği olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="80387-261">Its value should be the application ID of your app.</span></span>
* <span data-ttu-id="80387-262">Doğrulama `iat` ve `exp` kimliği belirtecin süresi geçmemiş emin olmak talep.</span><span class="sxs-lookup"><span data-stu-id="80387-262">Validate the `iat` and `exp` claims to ensure that the ID token has not expired.</span></span>

<span data-ttu-id="80387-263">Gerçekleştirmeniz gereken birkaç daha fazla doğrulamaları ayrıntılı olarak açıklanmıştır [Openıd Connect çekirdek Spec](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="80387-263">Several more validations that you should perform are described in detail in the [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> <span data-ttu-id="80387-264">Senaryonuza bağlı olarak ek talep doğrulamak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-264">You might also want to validate additional claims, depending on your scenario.</span></span> <span data-ttu-id="80387-265">Bazı ortak doğrulamaları şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="80387-265">Some common validations include:</span></span>

* <span data-ttu-id="80387-266">Kullanıcı veya kuruluş uygulaması için kaydolmuş emin olma.</span><span class="sxs-lookup"><span data-stu-id="80387-266">Ensuring that the user or organization has signed up for the app.</span></span>
* <span data-ttu-id="80387-267">Kullanıcının uygun yetkilendirme ve ayrıcalıkları olduğundan emin olma.</span><span class="sxs-lookup"><span data-stu-id="80387-267">Ensuring that the user has proper authorization and privileges.</span></span>
* <span data-ttu-id="80387-268">Belirli bir kimlik doğrulama gücünü oluştuğunu gibi Azure çok faktörlü kimlik doğrulamasını kullanarak gibi sağlama.</span><span class="sxs-lookup"><span data-stu-id="80387-268">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="80387-269">Bir kimliği belirtecinizdeki talepleri hakkında daha fazla bilgi için bkz: [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="80387-269">For more information about the claims in an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="80387-270">Kimliği belirteci tamamen doğrulandıktan sonra kullanıcıyla oturum başlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-270">After you have completely validated the ID token, you can begin a session with the user.</span></span> <span data-ttu-id="80387-271">Uygulamanızda, kullanıcı hakkında bilgi edinmek için kimliği belirteç talep kullanın.</span><span class="sxs-lookup"><span data-stu-id="80387-271">In your app, use the claims in the ID token to obtain information about the user.</span></span> <span data-ttu-id="80387-272">Bu bilgiler, görüntü, kayıtları, yetkilendirme ve benzeri için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="80387-272">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="80387-273">Erişim belirteci alın</span><span class="sxs-lookup"><span data-stu-id="80387-273">Get access tokens</span></span>
<span data-ttu-id="80387-274">Web uygulamalarınızı yapmak için gereksinim duyduğu tek şey ilkeleri yürütme ise, sonraki birkaç bölümlerde atlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-274">If the only thing your web apps needs to do is execute policies, you can skip the next few sections.</span></span> <span data-ttu-id="80387-275">Aşağıdaki bölümlerde yer alan bilgiler, web API'si için kimlik doğrulaması yapılmış çağrılar yapmanız ve hangi Azure AD B2C tarafından korunan yalnızca web uygulamaları için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="80387-275">The information in the following sections are applicable only to web apps that need to make authenticated calls to a web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="80387-276">Kullanıcı tek sayfalı uygulamanıza oturum açtığınız, çağrıyı yapan web Azure AD tarafından güvenliği sağlanan API'leri için erişim belirteçleri alabilir.</span><span class="sxs-lookup"><span data-stu-id="80387-276">Now that you've signed the user in to your single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="80387-277">Zaten bir belirteç kullanarak aldığınız olsa bile `token` yanıt türünü, kullanıcı yeniden oturum açmak için yeniden yönlendirme olmadan ek kaynaklar için belirteçleri almak için bu yöntemi kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-277">Even if you have already received a token by using the `token` response type, you can use this method to acquire tokens for additional resources without redirecting the user to sign in again.</span></span>

<span data-ttu-id="80387-278">Tipik web uygulama akışı için bir istek yaparak bunu `/token` uç noktası.</span><span class="sxs-lookup"><span data-stu-id="80387-278">In a typical web app flow, you would do this by making a request to the `/token` endpoint.</span></span>  <span data-ttu-id="80387-279">Ancak, almak ve belirteçleri yenilemek için AJAX çağrıları yapma bir seçenek değilse şekilde uç nokta CORS isteklerini desteklemez.</span><span class="sxs-lookup"><span data-stu-id="80387-279">However, the endpoint does not support CORS requests, so making AJAX calls to get and refresh tokens is not an option.</span></span> <span data-ttu-id="80387-280">Bunun yerine, diğer web API'leri yeni belirteçleri almak için gizli bir HTML iframe öğesi içinde örtük akış kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-280">Instead, you can use the implicit flow in a hidden HTML iframe element to get new tokens for other web APIs.</span></span> <span data-ttu-id="80387-281">İle okunabilirliği için satır sonu, örnek aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="80387-281">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="80387-282">Parametre</span><span class="sxs-lookup"><span data-stu-id="80387-282">Parameter</span></span> | <span data-ttu-id="80387-283">Gerekli?</span><span class="sxs-lookup"><span data-stu-id="80387-283">Required?</span></span> | <span data-ttu-id="80387-284">Açıklama</span><span class="sxs-lookup"><span data-stu-id="80387-284">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="80387-285">client_id</span><span class="sxs-lookup"><span data-stu-id="80387-285">client_id</span></span> |<span data-ttu-id="80387-286">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-286">Required</span></span> |<span data-ttu-id="80387-287">Uygulamanıza atanan uygulama kimliği [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="80387-287">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="80387-288">response_type</span><span class="sxs-lookup"><span data-stu-id="80387-288">response_type</span></span> |<span data-ttu-id="80387-289">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-289">Required</span></span> |<span data-ttu-id="80387-290">İçermelidir `id_token` Openıd Connect oturum açma için.</span><span class="sxs-lookup"><span data-stu-id="80387-290">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="80387-291">Yanıt türü içerebilir `token`.</span><span class="sxs-lookup"><span data-stu-id="80387-291">It might also include the response type `token`.</span></span> <span data-ttu-id="80387-292">Kullanırsanız `token` Burada, uygulamanızın hemen bir erişim belirteci authorize uç noktasından uç noktayı yetkilendirmek için ikinci bir isteği yapmadan alabilir.</span><span class="sxs-lookup"><span data-stu-id="80387-292">If you use `token` here, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span> <span data-ttu-id="80387-293">Kullanırsanız `token` yanıt türü `scope` parametresi için belirteci vermek için hangi kaynak gösteren bir kapsam içermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="80387-293">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="80387-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="80387-294">redirect_uri</span></span> |<span data-ttu-id="80387-295">Önerilen</span><span class="sxs-lookup"><span data-stu-id="80387-295">Recommended</span></span> |<span data-ttu-id="80387-296">Yeniden yönlendirme URI'si burada kimlik doğrulama yanıtları gönderilebilen veya uygulamanız tarafından alınan, uygulamanızın.</span><span class="sxs-lookup"><span data-stu-id="80387-296">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="80387-297">URL kodlanmış olmalıdır dışında tam olarak yeniden yönlendirme Portalı'nda kayıtlı URI'ler biriyle eşleşmelidir.</span><span class="sxs-lookup"><span data-stu-id="80387-297">It must exactly match one of the redirect URIs you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="80387-298">Kapsam</span><span class="sxs-lookup"><span data-stu-id="80387-298">scope</span></span> |<span data-ttu-id="80387-299">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-299">Required</span></span> |<span data-ttu-id="80387-300">Kapsamları boşlukla ayrılmış listesi.</span><span class="sxs-lookup"><span data-stu-id="80387-300">A space-separated list of scopes.</span></span>  <span data-ttu-id="80387-301">Belirteçleri almak için istenen kaynak için ihtiyaç duyduğunuz tüm kapsamlar içerir.</span><span class="sxs-lookup"><span data-stu-id="80387-301">For getting tokens, include all scopes that you require for the intended resource.</span></span> |
| <span data-ttu-id="80387-302">response_mode</span><span class="sxs-lookup"><span data-stu-id="80387-302">response_mode</span></span> |<span data-ttu-id="80387-303">Önerilen</span><span class="sxs-lookup"><span data-stu-id="80387-303">Recommended</span></span> |<span data-ttu-id="80387-304">Sonuçta elde edilen belirteci geri uygulamanıza göndermek için kullanılan yöntemi belirtir.</span><span class="sxs-lookup"><span data-stu-id="80387-304">Specifies the method that is used to send the resulting token back to your app.</span></span>  <span data-ttu-id="80387-305">Olabilir `query`, `form_post`, veya `fragment`.</span><span class="sxs-lookup"><span data-stu-id="80387-305">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="80387-306">durum</span><span class="sxs-lookup"><span data-stu-id="80387-306">state</span></span> |<span data-ttu-id="80387-307">Önerilen</span><span class="sxs-lookup"><span data-stu-id="80387-307">Recommended</span></span> |<span data-ttu-id="80387-308">Belirteç yanıtta döndürülen istek dahil bir değer.</span><span class="sxs-lookup"><span data-stu-id="80387-308">A value included in the request that is returned in the token response.</span></span>  <span data-ttu-id="80387-309">Kullanmak istediğiniz herhangi bir içerik dizesi olabilir.</span><span class="sxs-lookup"><span data-stu-id="80387-309">It can be a string of any content that you want to use.</span></span>  <span data-ttu-id="80387-310">Genellikle, rastgele oluşturulmuş, benzersiz bir değer, siteler arası istek sahtekarlığı saldırıları önlemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="80387-310">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="80387-311">Durum, kimlik doğrulama isteği oluşmadan önce uygulama kullanıcının durumu hakkındaki bilgileri kodlamak için de kullanılır.</span><span class="sxs-lookup"><span data-stu-id="80387-311">The state also is used to encode information about the user's state in the app before the authentication request occurred.</span></span> <span data-ttu-id="80387-312">Örneğin, sayfa veya Görünüm kullanıcı açıktı.</span><span class="sxs-lookup"><span data-stu-id="80387-312">For example, the page or view the user was on.</span></span> |
| <span data-ttu-id="80387-313">nonce</span><span class="sxs-lookup"><span data-stu-id="80387-313">nonce</span></span> |<span data-ttu-id="80387-314">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-314">Required</span></span> |<span data-ttu-id="80387-315">Elde edilen kimliği belirteç talep olarak dahil edilen uygulama tarafından üretilen istekte bulunan bir değer.</span><span class="sxs-lookup"><span data-stu-id="80387-315">A value included in the request, generated by the app, that is included in the resulting ID token as a claim.</span></span>  <span data-ttu-id="80387-316">Uygulama sonra belirteç yeniden yürütme saldırıları azaltmak için bu değeri doğrulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-316">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="80387-317">Genellikle, istek kaynağını tanımlayan rastgele, benzersiz bir dize değeridir.</span><span class="sxs-lookup"><span data-stu-id="80387-317">Usually, the value is a randomized, unique string that identifies the origin of the request.</span></span> |
| <span data-ttu-id="80387-318">istemi</span><span class="sxs-lookup"><span data-stu-id="80387-318">prompt</span></span> |<span data-ttu-id="80387-319">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-319">Required</span></span> |<span data-ttu-id="80387-320">Yenileme ve gizli bir iframe içinde belirteçleri almak için kullanmak `prompt=none` sağlamak IFRAME oturum açma sayfasında takılı değil ve hemen döndürür.</span><span class="sxs-lookup"><span data-stu-id="80387-320">To refresh and get tokens in a hidden iframe, use `prompt=none` to ensure that the iframe does not get stuck on the sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="80387-321">login_hint</span><span class="sxs-lookup"><span data-stu-id="80387-321">login_hint</span></span> |<span data-ttu-id="80387-322">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-322">Required</span></span> |<span data-ttu-id="80387-323">Yenileme ve gizli bir iframe içinde belirteçleri almak için kullanıcı belirli bir zamanda sahip birden çok oturumu ayırt etmek için bu ipucu kullanıcı adını içerir.</span><span class="sxs-lookup"><span data-stu-id="80387-323">To refresh and get tokens in a hidden iframe, include the username of the user in this hint to distinguish between multiple sessions the user might have at a given  time.</span></span> <span data-ttu-id="80387-324">Kullanarak bir önceki oturum bileşeninden kullanıcıadı ayıklayabilirsiniz `preferred_username` talep.</span><span class="sxs-lookup"><span data-stu-id="80387-324">You can extract the username from an earlier sign-in by using the `preferred_username` claim.</span></span> |
| <span data-ttu-id="80387-325">domain_hint</span><span class="sxs-lookup"><span data-stu-id="80387-325">domain_hint</span></span> |<span data-ttu-id="80387-326">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-326">Required</span></span> |<span data-ttu-id="80387-327">Olabilir `consumers` veya `organizations`.</span><span class="sxs-lookup"><span data-stu-id="80387-327">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="80387-328">Yenileme ve gizli bir iframe içinde belirteçleri almak için içermelidir `domain_hint` istek değeri.</span><span class="sxs-lookup"><span data-stu-id="80387-328">For refreshing and getting tokens in a hidden iframe, you must include the `domain_hint` value in the request.</span></span>  <span data-ttu-id="80387-329">Extract `tid` kullanmak için hangi değeri belirlemek için bir önceki oturum açma kimliği belirteç talep.</span><span class="sxs-lookup"><span data-stu-id="80387-329">Extract the `tid` claim from the ID token of an earlier sign-in to determine which value to use.</span></span>  <span data-ttu-id="80387-330">Varsa `tid` değer talep `9188040d-6c67-4c5b-b112-36a304b66dad`, kullanmak `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="80387-330">If the `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="80387-331">Aksi takdirde kullanın `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="80387-331">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="80387-332">Ayarlayarak `prompt=none` parametresi, bu istek ya da başarılı ya da hemen başarısız olur ve uygulamanıza döndürür.</span><span class="sxs-lookup"><span data-stu-id="80387-332">By setting the `prompt=none` parameter, this request either succeeds or fails immediately, and returns to your application.</span></span>  <span data-ttu-id="80387-333">Başarılı yanıt uygulamanızı belirtilen yeniden yönlendirme URI'si bölümünde belirtilen yöntemi kullanarak gönderilir `response_mode` parametresi.</span><span class="sxs-lookup"><span data-stu-id="80387-333">A successful response is sent to your app at the indicated redirect URI, by using the method specified in the `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="80387-334">Başarılı yanıt</span><span class="sxs-lookup"><span data-stu-id="80387-334">Successful response</span></span>
<span data-ttu-id="80387-335">Kullanarak başarılı bir yanıt `response_mode=fragment` şöyle görünür:</span><span class="sxs-lookup"><span data-stu-id="80387-335">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="80387-336">Parametre</span><span class="sxs-lookup"><span data-stu-id="80387-336">Parameter</span></span> | <span data-ttu-id="80387-337">Açıklama</span><span class="sxs-lookup"><span data-stu-id="80387-337">Description</span></span> |
| --- | --- |
| <span data-ttu-id="80387-338">access_token</span><span class="sxs-lookup"><span data-stu-id="80387-338">access_token</span></span> |<span data-ttu-id="80387-339">Uygulama talep belirteci.</span><span class="sxs-lookup"><span data-stu-id="80387-339">The token that the app requested.</span></span> |
| <span data-ttu-id="80387-340">token_type</span><span class="sxs-lookup"><span data-stu-id="80387-340">token_type</span></span> |<span data-ttu-id="80387-341">Belirteç türü her zaman taşıyıcı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="80387-341">The token type will always be Bearer.</span></span> |
| <span data-ttu-id="80387-342">durum</span><span class="sxs-lookup"><span data-stu-id="80387-342">state</span></span> |<span data-ttu-id="80387-343">Varsa bir `state` parametresi, aynı değeri yanıt olarak görünmesi gereken istekte bulunur.</span><span class="sxs-lookup"><span data-stu-id="80387-343">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="80387-344">Uygulama olduğunu doğrulamanız gerekir `state` istek ve yanıt değerler aynı.</span><span class="sxs-lookup"><span data-stu-id="80387-344">The app should verify that the `state` values in the request and response are identical.</span></span> |
| <span data-ttu-id="80387-345">expires_in</span><span class="sxs-lookup"><span data-stu-id="80387-345">expires_in</span></span> |<span data-ttu-id="80387-346">Ne kadar süreyle erişim belirteci (saniye olarak) geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="80387-346">How long the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="80387-347">Kapsam</span><span class="sxs-lookup"><span data-stu-id="80387-347">scope</span></span> |<span data-ttu-id="80387-348">Erişim belirteci için geçerli kapsam.</span><span class="sxs-lookup"><span data-stu-id="80387-348">The scopes that the access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="80387-349">Hata yanıtı</span><span class="sxs-lookup"><span data-stu-id="80387-349">Error response</span></span>
<span data-ttu-id="80387-350">Böylece uygulama bunları uygun şekilde işleyebilir hata yanıtları yeniden yönlendirme URI'si da gönderilebilir.</span><span class="sxs-lookup"><span data-stu-id="80387-350">Error responses also can be sent to the redirect URI so that the app can handle them appropriately.</span></span>  <span data-ttu-id="80387-351">İçin `prompt=none`, beklenen hata şöyle görünür:</span><span class="sxs-lookup"><span data-stu-id="80387-351">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="80387-352">Parametre</span><span class="sxs-lookup"><span data-stu-id="80387-352">Parameter</span></span> | <span data-ttu-id="80387-353">Açıklama</span><span class="sxs-lookup"><span data-stu-id="80387-353">Description</span></span> |
| --- | --- |
| <span data-ttu-id="80387-354">error</span><span class="sxs-lookup"><span data-stu-id="80387-354">error</span></span> |<span data-ttu-id="80387-355">Oluşan hataları türlerini sınıflandırmak için kullanılan bir hata kodu dizesi.</span><span class="sxs-lookup"><span data-stu-id="80387-355">An error code string that can be used to classify types of errors that occur.</span></span> <span data-ttu-id="80387-356">Dize, hataları tepki vermek için de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-356">You also can use the string to react to errors.</span></span> |
| <span data-ttu-id="80387-357">error_description</span><span class="sxs-lookup"><span data-stu-id="80387-357">error_description</span></span> |<span data-ttu-id="80387-358">Yardımcı olabilecek belirli bir hata iletisi kimlik doğrulama hatası kök nedenini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="80387-358">A specific error message that can help you identify the root cause of an authentication error.</span></span> |

<span data-ttu-id="80387-359">IFRAME istekte bu hatayı alırsanız, kullanıcı etkileşimli olarak yeniden yeni bir belirteç almak kaydolmalısınız.</span><span class="sxs-lookup"><span data-stu-id="80387-359">If you receive this error in the iframe request, the user must interactively sign in again to retrieve a new token.</span></span> <span data-ttu-id="80387-360">Bu, uygulamanız için anlamlı bir şekilde işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="80387-360">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="80387-361">Yenileme belirteçlerini</span><span class="sxs-lookup"><span data-stu-id="80387-361">Refresh tokens</span></span>
<span data-ttu-id="80387-362">Kimlik belirteçlerini ve erişim belirteçleri kısa bir süre sonra süresi dolacak.</span><span class="sxs-lookup"><span data-stu-id="80387-362">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="80387-363">Uygulamanız bu belirteçleri düzenli aralıklarla yenilemek için hazırlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="80387-363">Your app must be prepared to refresh these tokens periodically.</span></span>  <span data-ttu-id="80387-364">İki tür belirteç yenilemek için kullandık aynı gizli IFRAME isteği bir önceki örnekte kullanarak gerçekleştirmek `prompt=none` Azure AD adımları denetlemek için parametre.</span><span class="sxs-lookup"><span data-stu-id="80387-364">To refresh either type of token, perform the same hidden iframe request we used in an earlier example, by using the `prompt=none` parameter to control Azure AD steps.</span></span>  <span data-ttu-id="80387-365">Yeni bir almaya `id_token` değeri, kullandığınızdan emin olun `response_type=id_token` ve `scope=openid`ve bir `nonce` parametresi.</span><span class="sxs-lookup"><span data-stu-id="80387-365">To receive a new `id_token` value, be sure to use `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="80387-366">Oturum kapatma isteği gönder</span><span class="sxs-lookup"><span data-stu-id="80387-366">Send a sign-out request</span></span>
<span data-ttu-id="80387-367">Uygulama dışında kullanıcı oturum istediğinizde, kullanıcının oturumunu kapatmak için Azure ad yeniden yönlendir.</span><span class="sxs-lookup"><span data-stu-id="80387-367">When you want to sign the user out of the app, redirect the user to Azure AD to sign out.</span></span> <span data-ttu-id="80387-368">Bunu yapmazsanız, kullanıcının kimlik bilgilerini yeniden girmeye gerek kalmadan, uygulamanızın yeniden kimlik doğrulamaya olabilir.</span><span class="sxs-lookup"><span data-stu-id="80387-368">If you don't do this, the user might be able to reauthenticate to your app without entering their credentials again.</span></span> <span data-ttu-id="80387-369">Bu durum, geçerli tek bir oturum açma oturumu Azure AD ile gerekir çünkü.</span><span class="sxs-lookup"><span data-stu-id="80387-369">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="80387-370">Kullanıcıya yalnızca yönlendirebilirsiniz `end_session_endpoint` meta veri belgesi açıklanan bağlanmak, aynı Openıd içinde listelenen [kimliği belirtecini doğrula](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="80387-370">You can simply redirect the user to the `end_session_endpoint` that is listed in the same OpenID Connect metadata document described in [Validate the ID token](#validate-the-id-token).</span></span> <span data-ttu-id="80387-371">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="80387-371">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="80387-372">Parametre</span><span class="sxs-lookup"><span data-stu-id="80387-372">Parameter</span></span> | <span data-ttu-id="80387-373">Gerekli?</span><span class="sxs-lookup"><span data-stu-id="80387-373">Required?</span></span> | <span data-ttu-id="80387-374">Açıklama</span><span class="sxs-lookup"><span data-stu-id="80387-374">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="80387-375">P</span><span class="sxs-lookup"><span data-stu-id="80387-375">p</span></span> |<span data-ttu-id="80387-376">Gerekli</span><span class="sxs-lookup"><span data-stu-id="80387-376">Required</span></span> |<span data-ttu-id="80387-377">Kullanıcı uygulamanızı dışında imzalamak için kullandığınız ilke.</span><span class="sxs-lookup"><span data-stu-id="80387-377">The policy to use to sign the user out of your application.</span></span> |
| <span data-ttu-id="80387-378">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="80387-378">post_logout_redirect_uri</span></span> |<span data-ttu-id="80387-379">Önerilen</span><span class="sxs-lookup"><span data-stu-id="80387-379">Recommended</span></span> |<span data-ttu-id="80387-380">Kullanıcı için sonra yeniden yönlendirilmesi gereken URL başarılı oturum kapatma.</span><span class="sxs-lookup"><span data-stu-id="80387-380">The URL that the user should be redirected to after successful sign-out.</span></span> <span data-ttu-id="80387-381">Dahil edilmezse, Azure AD B2C kullanıcı için genel bir ileti görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="80387-381">If it is not included, Azure AD B2C displays a generic message to the user.</span></span> |

> [!NOTE]
> <span data-ttu-id="80387-382">Kullanıcıya yönlendirerek `end_session_endpoint` bazı Azure AD B2C ile kullanıcının tek oturum açma durumu temizler.</span><span class="sxs-lookup"><span data-stu-id="80387-382">Directing the user to the `end_session_endpoint` clears some of the user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="80387-383">Ancak, kullanıcının sosyal kimlik sağlayıcısı oturumu dışında kullanıcı oturum değil.</span><span class="sxs-lookup"><span data-stu-id="80387-383">However, it doesn't sign the user out of the user's social identity provider session.</span></span> <span data-ttu-id="80387-384">Kullanıcı seçerse aynı sağlayıcısı bir sonraki oturum açma sırasında tanımlamak, kullanıcı, kimlik bilgilerini girmeden kimlik doğrulaması yeniden yapılır.</span><span class="sxs-lookup"><span data-stu-id="80387-384">If the user selects the same identify provider during a subsequent sign-in, the user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="80387-385">Bir kullanıcı oturumunu Azure AD B2C uygulamanızı imzalamak isterse, mutlaka tamamen Facebook firması dışında örneğin imzalamak istedikleri anlamına gelmez.</span><span class="sxs-lookup"><span data-stu-id="80387-385">If a user wants to sign out of your Azure AD B2C application, it does not necessarily mean they want to completely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="80387-386">Ancak, yerel hesaplar için kullanıcının oturumunu düzgün sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="80387-386">However, for local accounts, the user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="80387-387">Kendi Azure AD B2C kiracısı kullanın</span><span class="sxs-lookup"><span data-stu-id="80387-387">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="80387-388">Bu istekler kendiniz denemek için aşağıdaki üç adımı tamamlayın.</span><span class="sxs-lookup"><span data-stu-id="80387-388">To try these requests yourself, complete the following three steps.</span></span> <span data-ttu-id="80387-389">Bu makalede, kendi değerlerle kullanırız örnek değerleri değiştirin:</span><span class="sxs-lookup"><span data-stu-id="80387-389">Replace the example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="80387-390">[Bir Azure AD B2C kiracısı oluşturma](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="80387-390">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="80387-391">Kiracı adını isteklerinde kullanın.</span><span class="sxs-lookup"><span data-stu-id="80387-391">Use the name of your tenant in the requests.</span></span>
2. <span data-ttu-id="80387-392">[Uygulama oluşturma](active-directory-b2c-app-registration.md) bir uygulama Kimliğini almak için ve bir `redirect_uri` değeri.</span><span class="sxs-lookup"><span data-stu-id="80387-392">[Create an application](active-directory-b2c-app-registration.md) to obtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="80387-393">Bir web uygulaması veya web API uygulamanızı içerir.</span><span class="sxs-lookup"><span data-stu-id="80387-393">Include a web app or web API in your app.</span></span> <span data-ttu-id="80387-394">İsteğe bağlı olarak, bir uygulama gizli anahtarı oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80387-394">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="80387-395">[İlkelerinizi oluşturma](active-directory-b2c-reference-policies.md) ilke adları elde edilir.</span><span class="sxs-lookup"><span data-stu-id="80387-395">[Create your policies](active-directory-b2c-reference-policies.md) to obtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="80387-396">Örnekler</span><span class="sxs-lookup"><span data-stu-id="80387-396">Samples</span></span>

* [<span data-ttu-id="80387-397">Node.js kullanarak bir tek sayfalı uygulama oluşturma</span><span class="sxs-lookup"><span data-stu-id="80387-397">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="80387-398">.NET kullanarak bir tek sayfalı uygulama oluşturma</span><span class="sxs-lookup"><span data-stu-id="80387-398">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

