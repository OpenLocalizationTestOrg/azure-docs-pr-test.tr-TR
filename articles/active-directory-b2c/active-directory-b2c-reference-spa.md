---
title: "Azure Active Directory B2C: örtük akışını kullanarak tek sayfa uygulamaları | Microsoft Docs"
description: "Nasıl toobuild tek sayfa uygulamaları doğrudan OAuth 2.0 örtük kullanarak Azure Active Directory B2C ile akış öğrenin."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 5e52abc18fe545f0f6d1745cdb2ea42c5b2698cc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="36dc3-103">Azure AD B2C: Tek sayfalı uygulama oturum OAuth 2.0 örtük akışını kullanarak açma</span><span class="sxs-lookup"><span data-stu-id="36dc3-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="36dc3-104">Bu özelliğin önizlemede değil.</span><span class="sxs-lookup"><span data-stu-id="36dc3-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="36dc3-105">Birçok modern uygulamanın, JavaScript'te öncelikli olarak yazılmış tek sayfa uygulaması ön ucu sahip.</span><span class="sxs-lookup"><span data-stu-id="36dc3-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="36dc3-106">Genellikle, hello uygulama çerçevesi AngularJS, Ember.js veya Durandal gibi kullanılarak yazılır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-106">Often, hello app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="36dc3-107">Tek sayfalı uygulamalar ve öncelikle tarayıcıda çalışan diğer JavaScript uygulamalar kimlik doğrulaması için ek bazı zorluklar vardır:</span><span class="sxs-lookup"><span data-stu-id="36dc3-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="36dc3-108">Bu uygulamaları Hello güvenlik özelliklerini geleneksel sunucu tabanlı web uygulamalarından önemli ölçüde farklıdır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-108">hello security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="36dc3-109">Çok sayıda yetkilendirme sunucularını ve kimlik sağlayıcıları çıkış noktaları arası kaynak paylaşma (CORS) isteklerini desteklemez.</span><span class="sxs-lookup"><span data-stu-id="36dc3-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="36dc3-110">Tam sayfa tarayıcı yeniden yönlendirmeleri hello uygulama çıktığınızda önemli ölçüde bozucu toohello kullanıcı deneyimi olabilir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-110">Full-page browser redirects away from hello app can be significantly invasive toohello user experience.</span></span>

<span data-ttu-id="36dc3-111">toosupport bu uygulamaları, Azure Active Directory B2C (Azure AD B2C) hello OAuth 2.0 örtük akışını kullanır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-111">toosupport these applications, Azure Active Directory B2C (Azure AD B2C) uses hello OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="36dc3-112">Merhaba OAuth 2.0 yetkilendirme örtük grant akış açıklanan [4.2 hello OAuth 2.0 belirtimi bölüm](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="36dc3-112">hello OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="36dc3-113">Örtük akışını hello uygulama belirteçlerini doğrudan hello alır Azure Active Directory (Azure AD) kimlik doğrulama uç noktası, herhangi bir sunucudan sunucuya exchange olmadan.</span><span class="sxs-lookup"><span data-stu-id="36dc3-113">In implicit flow, hello app receives tokens directly from hello Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="36dc3-114">Tüm kimlik doğrulaması mantığı ve gerçekleştirilen işlemlerin işleme oturumu tamamen ek sayfa yeniden yönlendirmeleri olmadan hello JavaScript istemci yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="36dc3-114">All authentication logic and session handling takes place entirely in hello JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="36dc3-115">Azure AD B2C hello standart OAuth 2.0 örtük akışını toomore daha basit kimlik doğrulama ve yetkilendirme genişletir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-115">Azure AD B2C extends hello standard OAuth 2.0 implicit flow toomore than simple authentication and authorization.</span></span> <span data-ttu-id="36dc3-116">Azure AD B2C tanıtır hello [İlkesi parametresi](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="36dc3-116">Azure AD B2C introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="36dc3-117">Hello İlkesi parametresiyle tooadd kullanıcı deneyimleri tooyour uygulama gibi OAuth 2.0 kullanabilirsiniz kaydolma, oturum açma ve profil yönetimi.</span><span class="sxs-lookup"><span data-stu-id="36dc3-117">With hello policy parameter, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="36dc3-118">Bu makalede, toouse nasıl hello örtük akış ve Azure AD tooimplement her bu deneyimler, tek sayfalı uygulamalarınızda gösteriyoruz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-118">In this article, we show you how toouse hello implicit flow and Azure AD tooimplement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="36dc3-119">başlamanıza, toohelp ele göz atın bizim [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) ve [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) örnekleri.</span><span class="sxs-lookup"><span data-stu-id="36dc3-119">toohelp you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="36dc3-120">Bizim örnek Azure AD B2C dizini kullanırız Hello örnek HTTP isteklerinde bu makalede, **fabrikamb2c.onmicrosoft.com**. Ayrıca kendi örnek uygulama ve ilkeleri kullanırız.</span><span class="sxs-lookup"><span data-stu-id="36dc3-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our own sample application and policies.</span></span> <span data-ttu-id="36dc3-121">Bu değerleri kullanarak kendiniz hello istekleri deneyebilir ya da kendi değerlerinizle değiştirin.</span><span class="sxs-lookup"><span data-stu-id="36dc3-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="36dc3-122">Nasıl çok öğrenin[kendi Azure AD B2C dizini, uygulama ve ilkeleri alma](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="36dc3-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="36dc3-123">Protokol diyagramı</span><span class="sxs-lookup"><span data-stu-id="36dc3-123">Protocol diagram</span></span>

<span data-ttu-id="36dc3-124">oturum açma Hello örtük akış aşağıdaki şekilde hello şöyle görünür.</span><span class="sxs-lookup"><span data-stu-id="36dc3-124">hello implicit sign-in flow looks something like hello following figure.</span></span> <span data-ttu-id="36dc3-125">Her adım ayrıntılı hello makalenin sonraki bölümlerinde açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-125">Each step is described in detail later in hello article.</span></span>

![Openıd Connect kulvarları](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="36dc3-127">Kimlik doğrulama isteklerini gönderme</span><span class="sxs-lookup"><span data-stu-id="36dc3-127">Send authentication requests</span></span>
<span data-ttu-id="36dc3-128">Web uygulamanızı tooauthenticate hello kullanıcı gerekir ve bir ilke yürütme zaman hello kullanıcı toohello yönlendirir `/authorize` uç noktası.</span><span class="sxs-lookup"><span data-stu-id="36dc3-128">When your web app needs tooauthenticate hello user and execute a policy, it directs hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="36dc3-129">Bu hello etkileşimli hello akış burada hello kullanıcı, hello ilkesine bağlı olarak eylemde bölümüdür.</span><span class="sxs-lookup"><span data-stu-id="36dc3-129">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span> <span data-ttu-id="36dc3-130">Merhaba kullanıcı kimliği hello Azure AD uç noktasından belirteç alır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-130">hello user gets an ID token from hello Azure AD endpoint.</span></span>

<span data-ttu-id="36dc3-131">Bu istekte hello istemci hello gösterir `scope` parametresi hello izinleri hello kullanıcıdan tooacquire gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="36dc3-131">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="36dc3-132">Merhaba, `p` parametresi hello İlkesi tooexecute gösterir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-132">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="36dc3-133">Merhaba aşağıdaki üç örnekler (okunabilirlik için satır sonuyla) her başka bir ilke kullanın.</span><span class="sxs-lookup"><span data-stu-id="36dc3-133">hello following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="36dc3-134">tooget bir fikir her istek işleyişi için bir tarayıcı ile çalışan yapıştırma hello isteği deneyin.</span><span class="sxs-lookup"><span data-stu-id="36dc3-134">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="36dc3-135">Bir oturum açma ilkesini kullanın</span><span class="sxs-lookup"><span data-stu-id="36dc3-135">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="36dc3-136">Kayıt İlkesi'ni kullanın</span><span class="sxs-lookup"><span data-stu-id="36dc3-136">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="36dc3-137">Bir profili Düzenle ilkesini kullanın</span><span class="sxs-lookup"><span data-stu-id="36dc3-137">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="36dc3-138">Parametre</span><span class="sxs-lookup"><span data-stu-id="36dc3-138">Parameter</span></span> | <span data-ttu-id="36dc3-139">Gerekli mi?</span><span class="sxs-lookup"><span data-stu-id="36dc3-139">Required?</span></span> | <span data-ttu-id="36dc3-140">Açıklama</span><span class="sxs-lookup"><span data-stu-id="36dc3-140">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="36dc3-141">client_id</span><span class="sxs-lookup"><span data-stu-id="36dc3-141">client_id</span></span> |<span data-ttu-id="36dc3-142">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-142">Required</span></span> |<span data-ttu-id="36dc3-143">Merhaba uygulama kimliği atanan hello tooyour uygulamada [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="36dc3-143">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="36dc3-144">response_type</span><span class="sxs-lookup"><span data-stu-id="36dc3-144">response_type</span></span> |<span data-ttu-id="36dc3-145">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-145">Required</span></span> |<span data-ttu-id="36dc3-146">İçermelidir `id_token` Openıd Connect oturum açma için.</span><span class="sxs-lookup"><span data-stu-id="36dc3-146">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="36dc3-147">Merhaba yanıt türü içerebilir `token`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-147">It also can include hello response type `token`.</span></span> <span data-ttu-id="36dc3-148">Kullanırsanız `token`, uygulamanızı hello hemen bir erişim belirteci alabilir uç noktası, son noktanın yetkilendirilmesi ikinci bir istek toohello yapmadan yetkilendirin.</span><span class="sxs-lookup"><span data-stu-id="36dc3-148">If you use `token`, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span>  <span data-ttu-id="36dc3-149">Merhaba kullanırsanız `token` yanıt türü, hello `scope` parametresi için hangi kaynak tooissue hello belirtecini gösteren bir kapsam içermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-149">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="36dc3-150">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="36dc3-150">redirect_uri</span></span> |<span data-ttu-id="36dc3-151">Önerilen</span><span class="sxs-lookup"><span data-stu-id="36dc3-151">Recommended</span></span> |<span data-ttu-id="36dc3-152">Merhaba burada kimlik doğrulama yanıtları gönderilebilen veya uygulamanız tarafından alınan uygulamanızı URI'sini yeniden yönlendir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-152">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="36dc3-153">URL kodlanmış olmalıdır dışında tam olarak hello yeniden yönlendirme hello Portalı'nda kayıtlı URI'ler biriyle eşleşmelidir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-153">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="36dc3-154">response_mode</span><span class="sxs-lookup"><span data-stu-id="36dc3-154">response_mode</span></span> |<span data-ttu-id="36dc3-155">Önerilen</span><span class="sxs-lookup"><span data-stu-id="36dc3-155">Recommended</span></span> |<span data-ttu-id="36dc3-156">Merhaba yöntemi toouse toosend hello elde edilen belirteci geri tooyour uygulama belirtir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-156">Specifies hello method toouse toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="36dc3-157">Örtük akışlar için kullanmak `fragment`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-157">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="36dc3-158">Kapsam</span><span class="sxs-lookup"><span data-stu-id="36dc3-158">scope</span></span> |<span data-ttu-id="36dc3-159">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-159">Required</span></span> |<span data-ttu-id="36dc3-160">Kapsamları boşlukla ayrılmış listesi.</span><span class="sxs-lookup"><span data-stu-id="36dc3-160">A space-separated list of scopes.</span></span> <span data-ttu-id="36dc3-161">Tek bir kapsam değeri tooAzure AD her iki talep edilen hello izinleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-161">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="36dc3-162">Merhaba `openid` kapsam kimliği belirteçleri hello biçiminde hello kullanıcı hakkında hello kullanıcı ve get verilerdeki izni toosign gösterir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-162">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="36dc3-163">(Biz bu konuda daha sonra hello makalesinde konuşun.) Merhaba `offline_access` kapsamı web uygulamaları için isteğe bağlı değil.</span><span class="sxs-lookup"><span data-stu-id="36dc3-163">(We'll talk about this more later in hello article.) hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="36dc3-164">Uygulamanızın uzun süreli erişim tooresources için bir yenileme belirteci gerektiğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-164">It indicates that your app needs a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="36dc3-165">durum</span><span class="sxs-lookup"><span data-stu-id="36dc3-165">state</span></span> |<span data-ttu-id="36dc3-166">Önerilen</span><span class="sxs-lookup"><span data-stu-id="36dc3-166">Recommended</span></span> |<span data-ttu-id="36dc3-167">Merhaba, aynı zamanda isteğinde bir değer hello belirteci yanıt olarak döndürülür.</span><span class="sxs-lookup"><span data-stu-id="36dc3-167">A value included in hello request that also is returned in hello token response.</span></span> <span data-ttu-id="36dc3-168">Toouse istediğiniz herhangi bir içerik dizesi olabilir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-168">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="36dc3-169">Genellikle, rastgele oluşturulmuş, benzersiz bir değer kullanılır, tooprevent siteler arası istek sahteciliği saldırılarına.</span><span class="sxs-lookup"><span data-stu-id="36dc3-169">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="36dc3-170">Merhaba ayrıca kullanılan tooencode bilgi durumudur hello kimlik doğrulama isteği oluşmadan önce hello uygulamasında hello kullanıcının durumu hakkında gibi hello sayfası üzerinde oldukları.</span><span class="sxs-lookup"><span data-stu-id="36dc3-170">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, like hello page they were on.</span></span> |
| <span data-ttu-id="36dc3-171">nonce</span><span class="sxs-lookup"><span data-stu-id="36dc3-171">nonce</span></span> |<span data-ttu-id="36dc3-172">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-172">Required</span></span> |<span data-ttu-id="36dc3-173">İstekteki hello elde edilen kimliği belirteç talep olarak dahil edilen (Merhaba uygulama tarafından oluşturulan) hello dahil bir değer.</span><span class="sxs-lookup"><span data-stu-id="36dc3-173">A value included in hello request (generated by hello app) that is included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="36dc3-174">Merhaba uygulama daha sonra bu değeri toomitigate belirteç yeniden yürütme saldırılarına doğrulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-174">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="36dc3-175">Genellikle, kullanılan tooidentify hello kaynak hello isteğinin olabilir rastgele, benzersiz bir dize hello değerdir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-175">Usually, hello value is a randomized, unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="36dc3-176">P</span><span class="sxs-lookup"><span data-stu-id="36dc3-176">p</span></span> |<span data-ttu-id="36dc3-177">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-177">Required</span></span> |<span data-ttu-id="36dc3-178">Hello İlkesi tooexecute.</span><span class="sxs-lookup"><span data-stu-id="36dc3-178">hello policy tooexecute.</span></span> <span data-ttu-id="36dc3-179">Hello Azure AD B2C kiracınızda oluşturulan bir ilkenin adını.</span><span class="sxs-lookup"><span data-stu-id="36dc3-179">It's hello name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="36dc3-180">Hello ilkesi adı değeri ile başlamalıdır **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="36dc3-180">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="36dc3-181">Daha fazla bilgi için bkz: [Azure AD B2C yerleşik ilkeleri](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="36dc3-181">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="36dc3-182">istemi</span><span class="sxs-lookup"><span data-stu-id="36dc3-182">prompt</span></span> |<span data-ttu-id="36dc3-183">İsteğe bağlı</span><span class="sxs-lookup"><span data-stu-id="36dc3-183">Optional</span></span> |<span data-ttu-id="36dc3-184">gerekli olan bir kullanıcı etkileşimi Hello türü.</span><span class="sxs-lookup"><span data-stu-id="36dc3-184">hello type of user interaction that's required.</span></span> <span data-ttu-id="36dc3-185">Şu anda hello tek geçerli değer: `login`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-185">Currently, hello only valid value is `login`.</span></span> <span data-ttu-id="36dc3-186">Bu hello kullanıcı tooenter kimlik bilgilerini bu isteği zorlar.</span><span class="sxs-lookup"><span data-stu-id="36dc3-186">This forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="36dc3-187">Çoklu oturum açma etkili olmaz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-187">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="36dc3-188">Bu noktada, hello kullanıcı toocomplete hello İlkesi'nin iş akışı istedi.</span><span class="sxs-lookup"><span data-stu-id="36dc3-188">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="36dc3-189">Bu, kullanıcı adını ve parolasını girerek hello kullanıcı hello dizin ya da başka bir sayıyı adımları için kaydolan bir sosyal kimlik bilgilerinizle oturum gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-189">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="36dc3-190">Kullanıcı eylemlerini hello İlkesi nasıl tanımlandığına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-190">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="36dc3-191">Merhaba kullanıcı hello İlkesi tamamlandıktan sonra Azure AD bir yanıt tooyour uygulaması için kullanılan hello değerde döndürür `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-191">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="36dc3-192">Hello belirtilen hello yöntemini kullanır `response_mode` parametresi.</span><span class="sxs-lookup"><span data-stu-id="36dc3-192">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="36dc3-193">Merhaba yanıt olan tam olarak hello aynı her hello kullanıcı eylemi senaryoları, yürütülen hello İlkesi bağımsız için.</span><span class="sxs-lookup"><span data-stu-id="36dc3-193">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="36dc3-194">Başarılı yanıt</span><span class="sxs-lookup"><span data-stu-id="36dc3-194">Successful response</span></span>
<span data-ttu-id="36dc3-195">Kullanan başarılı yanıt `response_mode=fragment` ve `response_type=id_token+token` okunabilirliği için satır sonu ile Merhaba aşağıdaki gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="36dc3-195">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like hello following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="36dc3-196">Parametre</span><span class="sxs-lookup"><span data-stu-id="36dc3-196">Parameter</span></span> | <span data-ttu-id="36dc3-197">Açıklama</span><span class="sxs-lookup"><span data-stu-id="36dc3-197">Description</span></span> |
| --- | --- |
| <span data-ttu-id="36dc3-198">access_token</span><span class="sxs-lookup"><span data-stu-id="36dc3-198">access_token</span></span> |<span data-ttu-id="36dc3-199">İstenen uygulama hello hello erişim belirteci.</span><span class="sxs-lookup"><span data-stu-id="36dc3-199">hello access token that hello app requested.</span></span>  <span data-ttu-id="36dc3-200">Merhaba erişim belirteci kodunu çözdü veya gerekir aksi takdirde sahip denetlenir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-200">hello access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="36dc3-201">Genel olmayan bir dize olarak işlenebilir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-201">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="36dc3-202">token_type</span><span class="sxs-lookup"><span data-stu-id="36dc3-202">token_type</span></span> |<span data-ttu-id="36dc3-203">Merhaba belirteç türü değeri.</span><span class="sxs-lookup"><span data-stu-id="36dc3-203">hello token type value.</span></span> <span data-ttu-id="36dc3-204">Merhaba yalnızca yazın Azure AD desteklediği taşıyıcı biçimde.</span><span class="sxs-lookup"><span data-stu-id="36dc3-204">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="36dc3-205">expires_in</span><span class="sxs-lookup"><span data-stu-id="36dc3-205">expires_in</span></span> |<span data-ttu-id="36dc3-206">erişim belirteci hello süre Hello uzunluğu (saniye olarak) geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="36dc3-206">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="36dc3-207">Kapsam</span><span class="sxs-lookup"><span data-stu-id="36dc3-207">scope</span></span> |<span data-ttu-id="36dc3-208">belirteç hello hello kapsamlar için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-208">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="36dc3-209">Kapsamları toocache belirteçleri daha sonra kullanmak üzere de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-209">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="36dc3-210">id_token</span><span class="sxs-lookup"><span data-stu-id="36dc3-210">id_token</span></span> |<span data-ttu-id="36dc3-211">İstenen uygulama hello kimliği belirteci hello.</span><span class="sxs-lookup"><span data-stu-id="36dc3-211">hello ID token that hello app requested.</span></span> <span data-ttu-id="36dc3-212">Merhaba kullanıcıyla oturumu başlatmak ve hello kimliği belirteci tooverify hello kullanıcının kimliğini kullanın.</span><span class="sxs-lookup"><span data-stu-id="36dc3-212">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="36dc3-213">Merhaba kimlik belirteçlerini ve içerikleri hakkında daha fazla bilgi için bkz: [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="36dc3-213">For more information about ID tokens and their contents, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="36dc3-214">durum</span><span class="sxs-lookup"><span data-stu-id="36dc3-214">state</span></span> |<span data-ttu-id="36dc3-215">Varsa bir `state` parametresi dahil hello istekte hello aynı değere hello yanıt olarak görünmelidir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-215">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="36dc3-216">Merhaba uygulama bu hello doğrulamalısınız `state` hello istek ve yanıt değerler aynı.</span><span class="sxs-lookup"><span data-stu-id="36dc3-216">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="36dc3-217">Hata yanıtı</span><span class="sxs-lookup"><span data-stu-id="36dc3-217">Error response</span></span>
<span data-ttu-id="36dc3-218">Böylece Hello uygulama bunları uygun şekilde işleyebilir hata yanıtları toohello yeniden yönlendirme URI'si da gönderilebilir:</span><span class="sxs-lookup"><span data-stu-id="36dc3-218">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="36dc3-219">Parametre</span><span class="sxs-lookup"><span data-stu-id="36dc3-219">Parameter</span></span> | <span data-ttu-id="36dc3-220">Açıklama</span><span class="sxs-lookup"><span data-stu-id="36dc3-220">Description</span></span> |
| --- | --- |
| <span data-ttu-id="36dc3-221">error</span><span class="sxs-lookup"><span data-stu-id="36dc3-221">error</span></span> |<span data-ttu-id="36dc3-222">Bir hata kodu dizesi oluşan hataları tooclassify türleri kullanılır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-222">An error code string used tooclassify types of errors that occur.</span></span> <span data-ttu-id="36dc3-223">Merhaba hata kodunu hata işleme için de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-223">You also can use hello error code for error handling.</span></span> |
| <span data-ttu-id="36dc3-224">error_description</span><span class="sxs-lookup"><span data-stu-id="36dc3-224">error_description</span></span> |<span data-ttu-id="36dc3-225">Yardımcı olabilecek belirli bir hata iletisi kimlik doğrulama hatası hello kök nedenini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="36dc3-225">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="36dc3-226">durum</span><span class="sxs-lookup"><span data-stu-id="36dc3-226">state</span></span> |<span data-ttu-id="36dc3-227">Tablo önceki hello Hello tam açıklamaya bakın.</span><span class="sxs-lookup"><span data-stu-id="36dc3-227">See hello full description in hello preceding table.</span></span> <span data-ttu-id="36dc3-228">Varsa bir `state` parametresi dahil hello istekte hello aynı değere hello yanıt olarak görünmelidir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-228">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="36dc3-229">Merhaba uygulama bu hello doğrulamalısınız `state` hello istek ve yanıt değerler aynı.</span><span class="sxs-lookup"><span data-stu-id="36dc3-229">hello app should verify that hello `state` values in hello request and response are identical.</span></span>|

## <a name="validate-hello-id-token"></a><span data-ttu-id="36dc3-230">Merhaba kimliği belirtecini doğrula</span><span class="sxs-lookup"><span data-stu-id="36dc3-230">Validate hello ID token</span></span>
<span data-ttu-id="36dc3-231">Bir kimliği belirteci alma yeterli tooauthenticate hello kullanıcı değil.</span><span class="sxs-lookup"><span data-stu-id="36dc3-231">Receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="36dc3-232">Merhaba kimliği belirtecin imzayı doğrulamak ve uygulamanızın gereksinimleri başına hello belirtecindeki hello talep doğrulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-232">You must validate hello ID token's signature, and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="36dc3-233">Azure AD B2C kullanan [JSON Web belirteçleri (Jwt'ler)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) ve ortak anahtar şifrelemesi toosign belirteçleri ve geçerli olduğunu doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="36dc3-233">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="36dc3-234">Birçok açık kaynak kitaplıkları Jwt'ler doğrulamak için kullanılabilen, hello dil bağlı olarak toouse tercih eder.</span><span class="sxs-lookup"><span data-stu-id="36dc3-234">Many open-source libraries are available for validating JWTs, depending on hello language you prefer toouse.</span></span> <span data-ttu-id="36dc3-235">Kendi doğrulama mantığı uygulamak yerine kullanılabilir açık kaynak kitaplıkları keşfetme göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="36dc3-235">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="36dc3-236">Merhaba bilgileri kullanabilirsiniz Bu makale toohelp tooproperly bu kitaplıklarını nasıl kullanacağınızı öğrenin.</span><span class="sxs-lookup"><span data-stu-id="36dc3-236">You can use hello information in this article toohelp you learn how tooproperly use those libraries.</span></span>

<span data-ttu-id="36dc3-237">Azure AD B2C Openıd Connect meta veri son nokta vardır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-237">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="36dc3-238">Bir uygulama çalışma zamanında hello uç nokta toofetch Azure AD B2C bilgilerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-238">An app can use hello endpoint toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="36dc3-239">Bu bilgiler, uç noktaları, belirteç içerikleri ve belirteç imzalama anahtarları içerir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-239">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="36dc3-240">Azure AD B2C kiracınızda her ilke için bir JSON meta veri belgesi yoktur.</span><span class="sxs-lookup"><span data-stu-id="36dc3-240">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="36dc3-241">Örneğin, hello meta veri belgesi hello b2c_1_sign_in İlkesi'nde hello fabrikamb2c.onmicrosoft.com Kiracı için aşağıdaki konumda bulunur:</span><span class="sxs-lookup"><span data-stu-id="36dc3-241">For example, hello metadata document for hello b2c_1_sign_in policy in hello fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="36dc3-242">Bu yapılandırma belgenin hello özellikleri biri hello `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-242">One of hello properties of this configuration document is hello `jwks_uri`.</span></span> <span data-ttu-id="36dc3-243">aynı ilke olacaktır hello Hello değeri:</span><span class="sxs-lookup"><span data-stu-id="36dc3-243">hello value for hello same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="36dc3-244">hangi ilke kullanılan toosign kimliği belirteci oluştu (ve burada toofetch hello meta verileri), toodetermine iki seçeneğiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-244">toodetermine which policy was used toosign an ID token (and where toofetch hello metadata from), you have two options.</span></span> <span data-ttu-id="36dc3-245">Hello ilkesi adı hello ilk olarak dahil `acr` içinde talep `id_token`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-245">First, hello policy name is included in hello `acr` claim in `id_token`.</span></span> <span data-ttu-id="36dc3-246">Merhaba nasıl tooparse hello kimliği belirtecinden talepleri hakkında daha fazla bilgi için bkz [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="36dc3-246">For information about how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="36dc3-247">Diğer seçeneğiniz tooencode hello hello hello değeri ilkedir `state` hello isteği gönderdiğinizde parametresi.</span><span class="sxs-lookup"><span data-stu-id="36dc3-247">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request.</span></span> <span data-ttu-id="36dc3-248">Ardından, hello kod çözme `state` parametresi toodetermine ilkeyi kullanıldı.</span><span class="sxs-lookup"><span data-stu-id="36dc3-248">Then, decode hello `state` parameter toodetermine which policy was used.</span></span> <span data-ttu-id="36dc3-249">Her iki yöntem geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="36dc3-249">Either method is valid.</span></span>

<span data-ttu-id="36dc3-250">Merhaba meta veri belgesi hello Openıd Connect meta veri uç noktasından edindiğiniz sonra hello RSA-256 (Bu uç noktada bulunur) ortak anahtarları toovalidate hello hello kimliği belirtecinin imzası kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-250">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA-256 public keys (located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="36dc3-251">Belirli bir zamanda Bu uç noktada listelenen birden çok anahtar olabilir, her tarafından tanımlanan bir `kid`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-251">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="36dc3-252">Merhaba üstbilgisinin `id_token` de içeren bir `kid` talep.</span><span class="sxs-lookup"><span data-stu-id="36dc3-252">hello header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="36dc3-253">Bu anahtarların kullanılan toosign hello kimliği belirteci olduğu belirtir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-253">It indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="36dc3-254">Hakkında bilgi dahil daha fazla bilgi için [belirteçleri doğrulama](active-directory-b2c-reference-tokens.md#token-validation), hello bkz [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="36dc3-254">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="36dc3-255">Merhaba kimliği belirtecinin hello imzası doğrulama sonra birkaç talep doğrulama gerektirir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-255">After you validate hello signature of hello ID token, several claims require verification.</span></span> <span data-ttu-id="36dc3-256">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="36dc3-256">For example:</span></span>

* <span data-ttu-id="36dc3-257">Merhaba doğrulamak `nonce` tooprevent belirteç yeniden yürütme saldırılarını talep.</span><span class="sxs-lookup"><span data-stu-id="36dc3-257">Validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="36dc3-258">Oturum açma hello istekte belirtilen değeri olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-258">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="36dc3-259">Merhaba doğrulamak `aud` kimliği belirteci hello tooensure, uygulamanız için yayımlandığında talep.</span><span class="sxs-lookup"><span data-stu-id="36dc3-259">Validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="36dc3-260">Değeri, uygulamanızın hello uygulama kimliği olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-260">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="36dc3-261">Merhaba doğrulamak `iat` ve `exp` talep kimliği belirteci hello tooensure süresi.</span><span class="sxs-lookup"><span data-stu-id="36dc3-261">Validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="36dc3-262">Gerçekleştirmeniz gereken birkaç daha fazla doğrulama hello ayrıntılı açıklanan [Openıd Connect çekirdek Spec](http://openid.net/specs/openid-connect-core-1_0.html). Senaryonuza bağlı olarak toovalidate ek talepleri de isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-262">Several more validations that you should perform are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html). You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="36dc3-263">Bazı ortak doğrulamaları şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="36dc3-263">Some common validations include:</span></span>

* <span data-ttu-id="36dc3-264">Bu hello kullanıcıya veya kuruluşa sağlama hello uygulaması için kaydolmuş.</span><span class="sxs-lookup"><span data-stu-id="36dc3-264">Ensuring that hello user or organization has signed up for hello app.</span></span>
* <span data-ttu-id="36dc3-265">Merhaba kullanıcının uygun yetkilendirme ve ayrıcalıklara sahip olma.</span><span class="sxs-lookup"><span data-stu-id="36dc3-265">Ensuring that hello user has proper authorization and privileges.</span></span>
* <span data-ttu-id="36dc3-266">Belirli bir kimlik doğrulama gücünü oluştuğunu gibi Azure çok faktörlü kimlik doğrulamasını kullanarak gibi sağlama.</span><span class="sxs-lookup"><span data-stu-id="36dc3-266">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="36dc3-267">Merhaba hello talep kimliği belirteci hakkında daha fazla bilgi için bkz: [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="36dc3-267">For more information about hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="36dc3-268">Merhaba kimliği belirteci tamamen doğrulandıktan sonra bir oturum hello kullanıcıyla başlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-268">After you have completely validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="36dc3-269">Uygulamanızda hello talep hello kimliği belirteci tooobtain hello kullanıcı bilgilerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="36dc3-269">In your app, use hello claims in hello ID token tooobtain information about hello user.</span></span> <span data-ttu-id="36dc3-270">Bu bilgiler, görüntü, kayıtları, yetkilendirme ve benzeri için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-270">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="36dc3-271">Erişim belirteci alın</span><span class="sxs-lookup"><span data-stu-id="36dc3-271">Get access tokens</span></span>
<span data-ttu-id="36dc3-272">Merhaba tek şey, web uygulamaları gereksinimlerini toodo olan ilkeleri yürütüyorsa atlayabilirsiniz hello sonraki birkaç bölümler.</span><span class="sxs-lookup"><span data-stu-id="36dc3-272">If hello only thing your web apps needs toodo is execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="36dc3-273">Kimliği doğrulanmış toomake çağrıları tooa web API gerekir ve hangi Azure AD B2C tarafından korunan geçerli yalnızca tooweb uygulamalar bölümleri aşağıdaki hello Hello bilgileri var.</span><span class="sxs-lookup"><span data-stu-id="36dc3-273">hello information in hello following sections are applicable only tooweb apps that need toomake authenticated calls tooa web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="36dc3-274">Tooyour tek sayfalı uygulama hello kullanıcı oturum açtığınız, çağrıyı yapan web Azure AD tarafından güvenliği sağlanan API'leri için erişim belirteçleri alabilir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-274">Now that you've signed hello user in tooyour single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="36dc3-275">Zaten bir belirteç hello kullanarak aldığınız olsa bile `token` yanıt türü kullanabileceğiniz bu yöntem tooacquire belirteçleri için ek kaynaklar hello kullanıcı toosign yeniden yönlendirme olmadan.</span><span class="sxs-lookup"><span data-stu-id="36dc3-275">Even if you have already received a token by using hello `token` response type, you can use this method tooacquire tokens for additional resources without redirecting hello user toosign in again.</span></span>

<span data-ttu-id="36dc3-276">Tipik web uygulama akışı isteği toohello yaparak bunu `/token` uç noktası.</span><span class="sxs-lookup"><span data-stu-id="36dc3-276">In a typical web app flow, you would do this by making a request toohello `/token` endpoint.</span></span>  <span data-ttu-id="36dc3-277">Ancak, hello endpoint AJAX yapma tooget çağırır ve yenileme belirteçleri bir seçenek değil değil destek CORS isteklerini desteklemez.</span><span class="sxs-lookup"><span data-stu-id="36dc3-277">However, hello endpoint does not support CORS requests, so making AJAX calls tooget and refresh tokens is not an option.</span></span> <span data-ttu-id="36dc3-278">Bunun yerine, bir gizli HTML iframe öğesi tooget yeni belirteçleri hello örtük akış diğer web API'leri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-278">Instead, you can use hello implicit flow in a hidden HTML iframe element tooget new tokens for other web APIs.</span></span> <span data-ttu-id="36dc3-279">İle okunabilirliği için satır sonu, örnek aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="36dc3-279">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="36dc3-280">Parametre</span><span class="sxs-lookup"><span data-stu-id="36dc3-280">Parameter</span></span> | <span data-ttu-id="36dc3-281">Gerekli mi?</span><span class="sxs-lookup"><span data-stu-id="36dc3-281">Required?</span></span> | <span data-ttu-id="36dc3-282">Açıklama</span><span class="sxs-lookup"><span data-stu-id="36dc3-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="36dc3-283">client_id</span><span class="sxs-lookup"><span data-stu-id="36dc3-283">client_id</span></span> |<span data-ttu-id="36dc3-284">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-284">Required</span></span> |<span data-ttu-id="36dc3-285">Merhaba uygulama kimliği atanan hello tooyour uygulamada [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="36dc3-285">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="36dc3-286">response_type</span><span class="sxs-lookup"><span data-stu-id="36dc3-286">response_type</span></span> |<span data-ttu-id="36dc3-287">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-287">Required</span></span> |<span data-ttu-id="36dc3-288">İçermelidir `id_token` Openıd Connect oturum açma için.</span><span class="sxs-lookup"><span data-stu-id="36dc3-288">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="36dc3-289">Merhaba yanıt türü içerebilir `token`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-289">It might also include hello response type `token`.</span></span> <span data-ttu-id="36dc3-290">Kullanırsanız `token` Burada, uygulamanızın hemen bir erişim belirteci hello alabilir uç noktası, son noktanın yetkilendirilmesi ikinci bir istek toohello yapmadan yetkilendirin.</span><span class="sxs-lookup"><span data-stu-id="36dc3-290">If you use `token` here, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span> <span data-ttu-id="36dc3-291">Merhaba kullanırsanız `token` yanıt türü, hello `scope` parametresi için hangi kaynak tooissue hello belirtecini gösteren bir kapsam içermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-291">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="36dc3-292">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="36dc3-292">redirect_uri</span></span> |<span data-ttu-id="36dc3-293">Önerilen</span><span class="sxs-lookup"><span data-stu-id="36dc3-293">Recommended</span></span> |<span data-ttu-id="36dc3-294">Merhaba burada kimlik doğrulama yanıtları gönderilebilen veya uygulamanız tarafından alınan uygulamanızı URI'sini yeniden yönlendir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-294">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="36dc3-295">URL kodlanmış olmalıdır dışında tam olarak hello yeniden yönlendirme hello Portalı'nda kayıtlı URI'ler biriyle eşleşmelidir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-295">It must exactly match one of hello redirect URIs you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="36dc3-296">Kapsam</span><span class="sxs-lookup"><span data-stu-id="36dc3-296">scope</span></span> |<span data-ttu-id="36dc3-297">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-297">Required</span></span> |<span data-ttu-id="36dc3-298">Kapsamları boşlukla ayrılmış listesi.</span><span class="sxs-lookup"><span data-stu-id="36dc3-298">A space-separated list of scopes.</span></span>  <span data-ttu-id="36dc3-299">Belirteçleri almak için hedeflenen hello kaynak için ihtiyaç duyduğunuz tüm kapsamlar içerir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-299">For getting tokens, include all scopes that you require for hello intended resource.</span></span> |
| <span data-ttu-id="36dc3-300">response_mode</span><span class="sxs-lookup"><span data-stu-id="36dc3-300">response_mode</span></span> |<span data-ttu-id="36dc3-301">Önerilen</span><span class="sxs-lookup"><span data-stu-id="36dc3-301">Recommended</span></span> |<span data-ttu-id="36dc3-302">Kullanılan toosend hello elde edilen belirteci geri tooyour uygulaması hello yöntemini belirtir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-302">Specifies hello method that is used toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="36dc3-303">Olabilir `query`, `form_post`, veya `fragment`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-303">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="36dc3-304">durum</span><span class="sxs-lookup"><span data-stu-id="36dc3-304">state</span></span> |<span data-ttu-id="36dc3-305">Önerilen</span><span class="sxs-lookup"><span data-stu-id="36dc3-305">Recommended</span></span> |<span data-ttu-id="36dc3-306">Merhaba belirteci yanıtta döndürülen hello istekte bulunan bir değer.</span><span class="sxs-lookup"><span data-stu-id="36dc3-306">A value included in hello request that is returned in hello token response.</span></span>  <span data-ttu-id="36dc3-307">Toouse istediğiniz herhangi bir içerik dizesi olabilir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-307">It can be a string of any content that you want toouse.</span></span>  <span data-ttu-id="36dc3-308">Genellikle, rastgele oluşturulmuş, benzersiz bir değer kullanılır, tooprevent siteler arası istek sahteciliği saldırılarına.</span><span class="sxs-lookup"><span data-stu-id="36dc3-308">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="36dc3-309">Hello kimlik doğrulama isteği oluşmadan önce hello durumu ayrıca kullanılan tooencode hello uygulamasında hello kullanıcının durumu hakkındaki bilgilerdir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-309">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="36dc3-310">Örneğin, hello sayfa veya Görünüm hello kullanıcı açıktı.</span><span class="sxs-lookup"><span data-stu-id="36dc3-310">For example, hello page or view hello user was on.</span></span> |
| <span data-ttu-id="36dc3-311">nonce</span><span class="sxs-lookup"><span data-stu-id="36dc3-311">nonce</span></span> |<span data-ttu-id="36dc3-312">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-312">Required</span></span> |<span data-ttu-id="36dc3-313">Merhaba elde edilen kimliği belirteç talep olarak dahil edilen hello uygulama tarafından üretilen hello isteğinde bulunan bir değer.</span><span class="sxs-lookup"><span data-stu-id="36dc3-313">A value included in hello request, generated by hello app, that is included in hello resulting ID token as a claim.</span></span>  <span data-ttu-id="36dc3-314">Merhaba uygulama daha sonra bu değeri toomitigate belirteç yeniden yürütme saldırılarına doğrulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-314">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="36dc3-315">Genellikle, hello isteği hello kaynağını tanımlayan rastgele, benzersiz bir dize hello değerdir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-315">Usually, hello value is a randomized, unique string that identifies hello origin of hello request.</span></span> |
| <span data-ttu-id="36dc3-316">istemi</span><span class="sxs-lookup"><span data-stu-id="36dc3-316">prompt</span></span> |<span data-ttu-id="36dc3-317">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-317">Required</span></span> |<span data-ttu-id="36dc3-318">Gizli bir iframe toorefresh ve get belirteçleri kullanın `prompt=none` IFRAME hello tooensure hello oturum açma sayfasında takılı değil ve hemen döndürür.</span><span class="sxs-lookup"><span data-stu-id="36dc3-318">toorefresh and get tokens in a hidden iframe, use `prompt=none` tooensure that hello iframe does not get stuck on hello sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="36dc3-319">login_hint</span><span class="sxs-lookup"><span data-stu-id="36dc3-319">login_hint</span></span> |<span data-ttu-id="36dc3-320">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-320">Required</span></span> |<span data-ttu-id="36dc3-321">Gizli bir iframe toorefresh ve get belirteçlerinde hello kullanıcı belirli bir zamanda sahip birden çok oturumlar arasında bu ipucu toodistinguish hello kullanıcı hello kullanıcı adını içerir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-321">toorefresh and get tokens in a hidden iframe, include hello username of hello user in this hint toodistinguish between multiple sessions hello user might have at a given  time.</span></span> <span data-ttu-id="36dc3-322">Hello kullanarak bir önceki oturum bileşeninden hello kullanıcıadı ayıklayabilirsiniz `preferred_username` talep.</span><span class="sxs-lookup"><span data-stu-id="36dc3-322">You can extract hello username from an earlier sign-in by using hello `preferred_username` claim.</span></span> |
| <span data-ttu-id="36dc3-323">domain_hint</span><span class="sxs-lookup"><span data-stu-id="36dc3-323">domain_hint</span></span> |<span data-ttu-id="36dc3-324">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-324">Required</span></span> |<span data-ttu-id="36dc3-325">Olabilir `consumers` veya `organizations`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-325">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="36dc3-326">Yenileme ve gizli bir iframe içinde belirteçleri almak için hello içermelidir `domain_hint` hello istekteki değeri.</span><span class="sxs-lookup"><span data-stu-id="36dc3-326">For refreshing and getting tokens in a hidden iframe, you must include hello `domain_hint` value in hello request.</span></span>  <span data-ttu-id="36dc3-327">Merhaba ayıklamak `tid` hello kimliği belirtecinden bir önceki oturum açma toodetermine, hangi değer toouse talep.</span><span class="sxs-lookup"><span data-stu-id="36dc3-327">Extract hello `tid` claim from hello ID token of an earlier sign-in toodetermine which value toouse.</span></span>  <span data-ttu-id="36dc3-328">Merhaba, `tid` değer talep `9188040d-6c67-4c5b-b112-36a304b66dad`, kullanmak `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-328">If hello `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="36dc3-329">Aksi takdirde kullanın `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="36dc3-329">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="36dc3-330">Merhaba ayarı tarafından `prompt=none` parametresi, bu istek ya da başarılı ya da hemen başarısız olur ve tooyour uygulama döndürür.</span><span class="sxs-lookup"><span data-stu-id="36dc3-330">By setting hello `prompt=none` parameter, this request either succeeds or fails immediately, and returns tooyour application.</span></span>  <span data-ttu-id="36dc3-331">Başarılı yanıt tooyour uygulama gönderilen belirtilen hello, hello belirtilen hello yöntemi kullanarak yeniden yönlendirme URI'si `response_mode` parametresi.</span><span class="sxs-lookup"><span data-stu-id="36dc3-331">A successful response is sent tooyour app at hello indicated redirect URI, by using hello method specified in hello `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="36dc3-332">Başarılı yanıt</span><span class="sxs-lookup"><span data-stu-id="36dc3-332">Successful response</span></span>
<span data-ttu-id="36dc3-333">Kullanarak başarılı bir yanıt `response_mode=fragment` şöyle görünür:</span><span class="sxs-lookup"><span data-stu-id="36dc3-333">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="36dc3-334">Parametre</span><span class="sxs-lookup"><span data-stu-id="36dc3-334">Parameter</span></span> | <span data-ttu-id="36dc3-335">Açıklama</span><span class="sxs-lookup"><span data-stu-id="36dc3-335">Description</span></span> |
| --- | --- |
| <span data-ttu-id="36dc3-336">access_token</span><span class="sxs-lookup"><span data-stu-id="36dc3-336">access_token</span></span> |<span data-ttu-id="36dc3-337">İstenen uygulama hello hello belirteci.</span><span class="sxs-lookup"><span data-stu-id="36dc3-337">hello token that hello app requested.</span></span> |
| <span data-ttu-id="36dc3-338">token_type</span><span class="sxs-lookup"><span data-stu-id="36dc3-338">token_type</span></span> |<span data-ttu-id="36dc3-339">Merhaba belirteç türü her zaman taşıyıcı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-339">hello token type will always be Bearer.</span></span> |
| <span data-ttu-id="36dc3-340">durum</span><span class="sxs-lookup"><span data-stu-id="36dc3-340">state</span></span> |<span data-ttu-id="36dc3-341">Varsa bir `state` parametresi dahil hello istekte hello aynı değere hello yanıt olarak görünmelidir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-341">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="36dc3-342">Merhaba uygulama bu hello doğrulamalısınız `state` hello istek ve yanıt değerler aynı.</span><span class="sxs-lookup"><span data-stu-id="36dc3-342">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |
| <span data-ttu-id="36dc3-343">expires_in</span><span class="sxs-lookup"><span data-stu-id="36dc3-343">expires_in</span></span> |<span data-ttu-id="36dc3-344">Ne kadar süreyle hello erişim belirteci (saniye olarak) geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="36dc3-344">How long hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="36dc3-345">Kapsam</span><span class="sxs-lookup"><span data-stu-id="36dc3-345">scope</span></span> |<span data-ttu-id="36dc3-346">erişim belirteci hello hello kapsamlar için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-346">hello scopes that hello access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="36dc3-347">Hata yanıtı</span><span class="sxs-lookup"><span data-stu-id="36dc3-347">Error response</span></span>
<span data-ttu-id="36dc3-348">Böylece Hello uygulama bunları uygun şekilde işleyebilir hata yanıtları toohello yeniden yönlendirme URI'si da gönderilebilir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-348">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately.</span></span>  <span data-ttu-id="36dc3-349">İçin `prompt=none`, beklenen hata şöyle görünür:</span><span class="sxs-lookup"><span data-stu-id="36dc3-349">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="36dc3-350">Parametre</span><span class="sxs-lookup"><span data-stu-id="36dc3-350">Parameter</span></span> | <span data-ttu-id="36dc3-351">Açıklama</span><span class="sxs-lookup"><span data-stu-id="36dc3-351">Description</span></span> |
| --- | --- |
| <span data-ttu-id="36dc3-352">error</span><span class="sxs-lookup"><span data-stu-id="36dc3-352">error</span></span> |<span data-ttu-id="36dc3-353">Oluşan hataları kullanılan tooclassify türde olabilir bir hata kodu dizesi.</span><span class="sxs-lookup"><span data-stu-id="36dc3-353">An error code string that can be used tooclassify types of errors that occur.</span></span> <span data-ttu-id="36dc3-354">Merhaba dize tooreact tooerrors de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-354">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="36dc3-355">error_description</span><span class="sxs-lookup"><span data-stu-id="36dc3-355">error_description</span></span> |<span data-ttu-id="36dc3-356">Yardımcı olabilecek belirli bir hata iletisi kimlik doğrulama hatası hello kök nedenini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="36dc3-356">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

<span data-ttu-id="36dc3-357">Merhaba IFRAME istekte bu hatayı alırsanız hello kullanıcı etkileşimli olarak yeniden tooretrieve içinde yeni bir belirteç oturum açmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-357">If you receive this error in hello iframe request, hello user must interactively sign in again tooretrieve a new token.</span></span> <span data-ttu-id="36dc3-358">Bu, uygulamanız için anlamlı bir şekilde işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-358">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="36dc3-359">Yenileme belirteçlerini</span><span class="sxs-lookup"><span data-stu-id="36dc3-359">Refresh tokens</span></span>
<span data-ttu-id="36dc3-360">Kimlik belirteçlerini ve erişim belirteçleri kısa bir süre sonra süresi dolacak.</span><span class="sxs-lookup"><span data-stu-id="36dc3-360">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="36dc3-361">Uygulamanızı belirteçleri almak için düzenli aralıklarla, bunlar toorefresh hazırlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-361">Your app must be prepared toorefresh these tokens periodically.</span></span>  <span data-ttu-id="36dc3-362">belirteç, her iki tür toorefresh gerçekleştirmek hello kullandık bir önceki örnekte hello kullanarak aynı gizli IFRAME isteği `prompt=none` parametresi toocontrol Azure AD adımları.</span><span class="sxs-lookup"><span data-stu-id="36dc3-362">toorefresh either type of token, perform hello same hidden iframe request we used in an earlier example, by using hello `prompt=none` parameter toocontrol Azure AD steps.</span></span>  <span data-ttu-id="36dc3-363">Yeni bir tooreceive `id_token` emin toouse olması, değer `response_type=id_token` ve `scope=openid`ve bir `nonce` parametresi.</span><span class="sxs-lookup"><span data-stu-id="36dc3-363">tooreceive a new `id_token` value, be sure toouse `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="36dc3-364">Oturum kapatma isteği gönder</span><span class="sxs-lookup"><span data-stu-id="36dc3-364">Send a sign-out request</span></span>
<span data-ttu-id="36dc3-365">Merhaba uygulama dışında toosign hello kullanıcı istediğinizde hello kullanıcı tooAzure AD toosign çıkışı yönlendirin. Bunu yapmazsanız, hello kullanıcı kimlik bilgilerini yeniden girmeden mümkün tooreauthenticate tooyour uygulama olabilir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-365">When you want toosign hello user out of hello app, redirect hello user tooAzure AD toosign out. If you don't do this, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="36dc3-366">Bu durum, geçerli tek bir oturum açma oturumu Azure AD ile gerekir çünkü.</span><span class="sxs-lookup"><span data-stu-id="36dc3-366">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="36dc3-367">Merhaba kullanıcı toohello yalnızca yönlendirebilirsiniz `end_session_endpoint` yani aynı Openıd Connect meta veri belgesi açıklanan listelenen hello [doğrulama hello kimliği belirteci](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="36dc3-367">You can simply redirect hello user toohello `end_session_endpoint` that is listed in hello same OpenID Connect metadata document described in [Validate hello ID token](#validate-the-id-token).</span></span> <span data-ttu-id="36dc3-368">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="36dc3-368">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="36dc3-369">Parametre</span><span class="sxs-lookup"><span data-stu-id="36dc3-369">Parameter</span></span> | <span data-ttu-id="36dc3-370">Gerekli mi?</span><span class="sxs-lookup"><span data-stu-id="36dc3-370">Required?</span></span> | <span data-ttu-id="36dc3-371">Açıklama</span><span class="sxs-lookup"><span data-stu-id="36dc3-371">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="36dc3-372">P</span><span class="sxs-lookup"><span data-stu-id="36dc3-372">p</span></span> |<span data-ttu-id="36dc3-373">Gerekli</span><span class="sxs-lookup"><span data-stu-id="36dc3-373">Required</span></span> |<span data-ttu-id="36dc3-374">Hello İlkesi toouse toosign hello kullanıcı uygulamanızı dışında.</span><span class="sxs-lookup"><span data-stu-id="36dc3-374">hello policy toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="36dc3-375">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="36dc3-375">post_logout_redirect_uri</span></span> |<span data-ttu-id="36dc3-376">Önerilen</span><span class="sxs-lookup"><span data-stu-id="36dc3-376">Recommended</span></span> |<span data-ttu-id="36dc3-377">Merhaba hello kullanıcının yeniden yönlendirilen tooafter başarılı olmalıdır oturum kapatma. Dahil edilmezse, Azure AD B2C Genel ileti toohello kullanıcı görüntüler.</span><span class="sxs-lookup"><span data-stu-id="36dc3-377">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C displays a generic message toohello user.</span></span> |

> [!NOTE]
> <span data-ttu-id="36dc3-378">Merhaba kullanıcı toohello yönlendirerek `end_session_endpoint` bazı Azure AD B2C ile Merhaba kullanıcının tek oturum açma durumu temizler.</span><span class="sxs-lookup"><span data-stu-id="36dc3-378">Directing hello user toohello `end_session_endpoint` clears some of hello user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="36dc3-379">Ancak, hello kullanıcının sosyal kimlik sağlayıcısı oturumunu dışında hello kullanıcı oturum değil.</span><span class="sxs-lookup"><span data-stu-id="36dc3-379">However, it doesn't sign hello user out of hello user's social identity provider session.</span></span> <span data-ttu-id="36dc3-380">Merhaba kullanıcı hello seçerse aynı sağlayıcısı bir sonraki oturum açma sırasında tanımlamak, hello kullanıcı, kimlik bilgilerini girmeden kimlik doğrulaması yeniden yapılır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-380">If hello user selects hello same identify provider during a subsequent sign-in, hello user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="36dc3-381">Bir kullanıcı Azure AD B2C uygulamanızı dışında toosign isterse, mutlaka toocompletely oturum Facebook hesaplarında dışında örneğin istedikleri anlamına gelmez.</span><span class="sxs-lookup"><span data-stu-id="36dc3-381">If a user wants toosign out of your Azure AD B2C application, it does not necessarily mean they want toocompletely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="36dc3-382">Ancak, yerel hesaplar için hello kullanıcının oturumunu düzgün sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="36dc3-382">However, for local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="36dc3-383">Kendi Azure AD B2C kiracısı kullanın</span><span class="sxs-lookup"><span data-stu-id="36dc3-383">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="36dc3-384">Bunlar kendiniz isteklerini tamamlamak tootry aşağıdaki üç adımları hello.</span><span class="sxs-lookup"><span data-stu-id="36dc3-384">tootry these requests yourself, complete hello following three steps.</span></span> <span data-ttu-id="36dc3-385">Bu makalede, kendi değerlerle kullanırız hello örnek değerleri değiştirin:</span><span class="sxs-lookup"><span data-stu-id="36dc3-385">Replace hello example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="36dc3-386">[Bir Azure AD B2C kiracısı oluşturma](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="36dc3-386">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="36dc3-387">Merhaba istekleri kiracınızda hello adını kullanın.</span><span class="sxs-lookup"><span data-stu-id="36dc3-387">Use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="36dc3-388">[Uygulama oluşturma](active-directory-b2c-app-registration.md) tooobtain bir uygulama kimliği ve `redirect_uri` değeri.</span><span class="sxs-lookup"><span data-stu-id="36dc3-388">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="36dc3-389">Bir web uygulaması veya web API uygulamanızı içerir.</span><span class="sxs-lookup"><span data-stu-id="36dc3-389">Include a web app or web API in your app.</span></span> <span data-ttu-id="36dc3-390">İsteğe bağlı olarak, bir uygulama gizli anahtarı oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36dc3-390">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="36dc3-391">[İlkelerinizi oluşturma](active-directory-b2c-reference-policies.md) tooobtain ilke adları.</span><span class="sxs-lookup"><span data-stu-id="36dc3-391">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="36dc3-392">Örnekler</span><span class="sxs-lookup"><span data-stu-id="36dc3-392">Samples</span></span>

* [<span data-ttu-id="36dc3-393">Node.js kullanarak bir tek sayfalı uygulama oluşturma</span><span class="sxs-lookup"><span data-stu-id="36dc3-393">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="36dc3-394">.NET kullanarak bir tek sayfalı uygulama oluşturma</span><span class="sxs-lookup"><span data-stu-id="36dc3-394">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

