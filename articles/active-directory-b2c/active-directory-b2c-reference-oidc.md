---
title: "Web Openıd Connect - Azure AD B2C ile oturum açma | Microsoft Docs"
description: "Hello Azure Active Directory uygulaması hello Openıd Connect kimlik doğrulama protokolü kullanarak web uygulamaları oluşturma"
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: 21d420c8-3c10-4319-b681-adf2e89e7ede
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 89e9cfa28e4e5c34304aea355cca2dd0c4b42abc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-web-sign-in-with-openid-connect"></a><span data-ttu-id="4167d-103">Azure Active Directory B2C: Web oturum açma Openıd Connect ile</span><span class="sxs-lookup"><span data-stu-id="4167d-103">Azure Active Directory B2C: Web sign-in with OpenID Connect</span></span>
<span data-ttu-id="4167d-104">Openıd Connect tooweb uygulamalarda kullanılan toosecurely oturum kullanıcıların olabilecek OAuth 2.0 üstünde yerleşik bir kimlik doğrulama, protokolüdür.</span><span class="sxs-lookup"><span data-stu-id="4167d-104">OpenID Connect is an authentication protocol, built on top of OAuth 2.0, that can be used toosecurely sign users in tooweb applications.</span></span> <span data-ttu-id="4167d-105">Openıd Connect hello Azure Active Directory B2C (Azure AD B2C) uygulaması kullanarak devredebilir kaydolma, oturum açma ve diğer kimlik yönetimi deneyimleri, web uygulamaları tooAzure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="4167d-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OpenID Connect, you can outsource sign-up, sign-in, and other identity management experiences in your web applications tooAzure Active Directory (Azure AD).</span></span> <span data-ttu-id="4167d-106">Bu kılavuz size nasıl gösterir toodo bir dilden bağımsız şekilde bunu.</span><span class="sxs-lookup"><span data-stu-id="4167d-106">This guide shows you how toodo so in a language-independent manner.</span></span> <span data-ttu-id="4167d-107">Açıkladığı nasıl toosend ve bizim açık kaynak kitaplıkları kullanmadan HTTP iletileri alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4167d-107">It describes how toosend and receive HTTP messages without using any of our open-source libraries.</span></span>

<span data-ttu-id="4167d-108">[Openıd Connect](http://openid.net/specs/openid-connect-core-1_0.html) hello OAuth 2.0 genişletir *yetkilendirme* protokolü olarak kullanmak için bir *kimlik doğrulaması* protokolü.</span><span class="sxs-lookup"><span data-stu-id="4167d-108">[OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) extends hello OAuth 2.0 *authorization* protocol for use as an *authentication* protocol.</span></span> <span data-ttu-id="4167d-109">Bu, tooperform çoklu oturum açma OAuth kullanılarak sağlar.</span><span class="sxs-lookup"><span data-stu-id="4167d-109">This allows you tooperform single sign-on by using OAuth.</span></span> <span data-ttu-id="4167d-110">Merhaba kavramını sunmaktadır bir *kimliği belirteci*, hello istemci tooverify izin veren bir güvenlik belirteci olduğu hello hello kullanıcı kimliğini ve hello kullanıcı hakkında temel profil bilgi edinme.</span><span class="sxs-lookup"><span data-stu-id="4167d-110">It introduces hello concept of an *ID token*, which is a security token that allows hello client tooverify hello identity of hello user and obtain basic profile information about hello user.</span></span>

<span data-ttu-id="4167d-111">OAuth 2.0 genişletir çünkü toosecurely elde uygulamalar ayrıca sağlar *erişim belirteçleri*.</span><span class="sxs-lookup"><span data-stu-id="4167d-111">Because it extends OAuth 2.0, it also enables apps toosecurely acquire *access tokens*.</span></span> <span data-ttu-id="4167d-112">Tarafından güvenli hale getirilen access_tokens tooaccess kaynakları kullanabilir bir [yetkilendirme sunucusu](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="4167d-112">You can use access_tokens tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span> <span data-ttu-id="4167d-113">Bir sunucuda barındırılan ve tarayıcı aracılığıyla erişilen bir web uygulaması oluşturuyorsanız Openıd Connect öneririz.</span><span class="sxs-lookup"><span data-stu-id="4167d-113">We recommend OpenID Connect if you're building a web application that is hosted on a server and accessed through a browser.</span></span> <span data-ttu-id="4167d-114">Azure AD B2C kullanarak mobil veya Masaüstü tooadd Kimlik Yönetimi tooyour uygulamaları istiyorsanız, kullanması gereken [OAuth 2.0](active-directory-b2c-reference-oauth-code.md) Openıd Connect yerine.</span><span class="sxs-lookup"><span data-stu-id="4167d-114">If you want tooadd identity management tooyour mobile or desktop applications by using Azure AD B2C, you should use [OAuth 2.0](active-directory-b2c-reference-oauth-code.md) rather than OpenID Connect.</span></span>

<span data-ttu-id="4167d-115">Azure AD B2C hello standart Openıd Connect Protokolü toodo birden çok basit kimlik doğrulama ve yetkilendirme genişletir.</span><span class="sxs-lookup"><span data-stu-id="4167d-115">Azure AD B2C extends hello standard OpenID Connect protocol toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="4167d-116">Merhaba tanıtır [İlkesi parametresi](active-directory-b2c-reference-policies.md), sağlayan toouse tooadd kullanıcı deneyimleri Openıd Connect--gibi kaydolma, oturum açma ve profil Yönetimi--tooyour uygulama.</span><span class="sxs-lookup"><span data-stu-id="4167d-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md), which enables you toouse OpenID Connect tooadd user experiences--such as sign-up, sign-in, and profile management--tooyour app.</span></span> <span data-ttu-id="4167d-117">Burada, nasıl gösteriyoruz web uygulamalarınızın her birinde karşılaştığında toouse Openıd Connect ve ilkeleri tooimplement.</span><span class="sxs-lookup"><span data-stu-id="4167d-117">Here, we show you how toouse OpenID Connect and policies tooimplement each of these experiences in your web applications.</span></span> <span data-ttu-id="4167d-118">Ayrıca, nasıl tooget erişim belirteçleri erişmek için API web göstereceğiz.</span><span class="sxs-lookup"><span data-stu-id="4167d-118">We'll also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="4167d-119">Merhaba örnek HTTP isteklerini hello sonraki bölümde bizim örnek B2C dizini, fabrikamb2c.onmicrosoft.com, yanı sıra bizim örnek uygulama, https://aadb2cplayground.azurewebsites.net ve ilkeleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="4167d-119">hello example HTTP requests in hello next section use our sample B2C directory, fabrikamb2c.onmicrosoft.com, as well as our sample application, https://aadb2cplayground.azurewebsites.net, and policies.</span></span> <span data-ttu-id="4167d-120">Ücretsiz tootry hello Giden istekleri kendiniz bu değerleri kullanarak veya bunları kendi ile değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4167d-120">You're free tootry out hello requests yourself by using these values, or you can replace them with your own.</span></span>
<span data-ttu-id="4167d-121">Nasıl çok öğrenin[kendi B2C Kiracı, uygulama ve ilkeleri alma](#use-your-own-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="4167d-121">Learn how too[get your own B2C tenant, application, and policies](#use-your-own-b2c-directory).</span></span>

## <a name="send-authentication-requests"></a><span data-ttu-id="4167d-122">Kimlik doğrulama isteklerini gönderme</span><span class="sxs-lookup"><span data-stu-id="4167d-122">Send authentication requests</span></span>
<span data-ttu-id="4167d-123">Web uygulamanızı tooauthenticate hello kullanıcı gerekir ve bir ilke yürütme zaman hello kullanıcı toohello yönlendirebilirsiniz `/authorize` uç noktası.</span><span class="sxs-lookup"><span data-stu-id="4167d-123">When your web app needs tooauthenticate hello user and execute a policy, it can direct hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="4167d-124">Bu hello etkileşimli hello akış burada hello kullanıcı, hello ilkesine bağlı olarak eylemde bölümüdür.</span><span class="sxs-lookup"><span data-stu-id="4167d-124">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span>

<span data-ttu-id="4167d-125">Bu istekte hello istemcisi hello izinleri hello hello kullanıcıdan tooacquire gerektiğini belirtir. `scope` hello parametre ve hello İlkesi tooexecute `p` parametresi.</span><span class="sxs-lookup"><span data-stu-id="4167d-125">In this request, hello client indicates hello permissions that it needs tooacquire from hello user in hello `scope` parameter and hello policy tooexecute in hello `p` parameter.</span></span> <span data-ttu-id="4167d-126">Üç örnek bölümlerle (okunabilirlik için satır sonu), aşağıdaki hello içinde her farklı ilke kullanılarak sağlanır.</span><span class="sxs-lookup"><span data-stu-id="4167d-126">Three examples are provided in hello following sections (with line breaks for readability), each using a different policy.</span></span> <span data-ttu-id="4167d-127">tooget bir fikir her istek işleyişi için bir tarayıcı ile çalışan yapıştırma hello isteği deneyin.</span><span class="sxs-lookup"><span data-stu-id="4167d-127">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

#### <a name="use-a-sign-in-policy"></a><span data-ttu-id="4167d-128">Bir oturum açma ilkesini kullanın</span><span class="sxs-lookup"><span data-stu-id="4167d-128">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

#### <a name="use-a-sign-up-policy"></a><span data-ttu-id="4167d-129">Kayıt İlkesi'ni kullanın</span><span class="sxs-lookup"><span data-stu-id="4167d-129">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

#### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="4167d-130">Bir profili Düzenle ilkesini kullanın</span><span class="sxs-lookup"><span data-stu-id="4167d-130">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="4167d-131">Parametre</span><span class="sxs-lookup"><span data-stu-id="4167d-131">Parameter</span></span> | <span data-ttu-id="4167d-132">Gerekli mi?</span><span class="sxs-lookup"><span data-stu-id="4167d-132">Required?</span></span> | <span data-ttu-id="4167d-133">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4167d-133">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4167d-134">client_id</span><span class="sxs-lookup"><span data-stu-id="4167d-134">client_id</span></span> |<span data-ttu-id="4167d-135">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-135">Required</span></span> |<span data-ttu-id="4167d-136">Merhaba uygulama kimliği bu hello [Azure portal](https://portal.azure.com/) tooyour uygulama atanmış.</span><span class="sxs-lookup"><span data-stu-id="4167d-136">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="4167d-137">response_type</span><span class="sxs-lookup"><span data-stu-id="4167d-137">response_type</span></span> |<span data-ttu-id="4167d-138">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-138">Required</span></span> |<span data-ttu-id="4167d-139">bir kimliği belirteci Openıd Connect içermelidir hello yanıt türü.</span><span class="sxs-lookup"><span data-stu-id="4167d-139">hello response type, which must include an ID token for OpenID Connect.</span></span> <span data-ttu-id="4167d-140">Ayrıca web uygulamanızı bir web API'sini çağırmak için belirteçleri ihtiyaç duyuyorsa kullanabileceğiniz `code+id_token`biz burada yaptığınız gibi.</span><span class="sxs-lookup"><span data-stu-id="4167d-140">If your web app also needs tokens for calling a web API, you can use `code+id_token`, as we've done here.</span></span> |
| <span data-ttu-id="4167d-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="4167d-141">redirect_uri</span></span> |<span data-ttu-id="4167d-142">Önerilen</span><span class="sxs-lookup"><span data-stu-id="4167d-142">Recommended</span></span> |<span data-ttu-id="4167d-143">Merhaba `redirect_uri` burada kimlik doğrulama yanıtları gönderilebilen veya uygulamanız tarafından alınan, uygulamanızın parametresi.</span><span class="sxs-lookup"><span data-stu-id="4167d-143">hello `redirect_uri` parameter of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="4167d-144">Bu tam olarak hello birini eşleşmelidir `redirect_uri` URL kodlanmış olmalıdır ancak bu hello Portalı'nda kayıtlı parametreleri.</span><span class="sxs-lookup"><span data-stu-id="4167d-144">It must exactly match one of hello `redirect_uri` parameters that you registered in hello portal, except that it must be URL encoded.</span></span> |
| <span data-ttu-id="4167d-145">Kapsam</span><span class="sxs-lookup"><span data-stu-id="4167d-145">scope</span></span> |<span data-ttu-id="4167d-146">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-146">Required</span></span> |<span data-ttu-id="4167d-147">Kapsamları boşlukla ayrılmış listesi.</span><span class="sxs-lookup"><span data-stu-id="4167d-147">A space-separated list of scopes.</span></span> <span data-ttu-id="4167d-148">Tek bir kapsam değeri tooAzure AD istenen iki izinleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="4167d-148">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="4167d-149">Merhaba `openid` kapsam kimliği belirteçleri (daha fazla toocome bu hello makalenin sonraki bölümlerinde yer) hello biçiminde hello kullanıcı hakkında hello kullanıcı ve get verilerdeki izni toosign gösterir.</span><span class="sxs-lookup"><span data-stu-id="4167d-149">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens (more toocome on this later in hello article).</span></span> <span data-ttu-id="4167d-150">Merhaba `offline_access` kapsamı web uygulamaları için isteğe bağlı değil.</span><span class="sxs-lookup"><span data-stu-id="4167d-150">hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="4167d-151">Uygulamanıza gerekecek gösteren bir *yenileme belirteci* uzun süreli erişim tooresources için.</span><span class="sxs-lookup"><span data-stu-id="4167d-151">It indicates that your app will need a *refresh token* for long-lived access tooresources.</span></span> |
| <span data-ttu-id="4167d-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="4167d-152">response_mode</span></span> |<span data-ttu-id="4167d-153">Önerilen</span><span class="sxs-lookup"><span data-stu-id="4167d-153">Recommended</span></span> |<span data-ttu-id="4167d-154">kullanılan toosend hello elde edilen yetkilendirme kodu geri tooyour uygulama olmalıdır hello yöntemi.</span><span class="sxs-lookup"><span data-stu-id="4167d-154">hello method that should be used toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="4167d-155">Ya da olabilir `query`, `form_post`, veya `fragment`.</span><span class="sxs-lookup"><span data-stu-id="4167d-155">It can be either `query`, `form_post`, or `fragment`.</span></span>  <span data-ttu-id="4167d-156">Merhaba `form_post` yanıt modu için en iyi güvenlik önerilir.</span><span class="sxs-lookup"><span data-stu-id="4167d-156">hello `form_post` response mode is recommended for best security.</span></span> |
| <span data-ttu-id="4167d-157">durum</span><span class="sxs-lookup"><span data-stu-id="4167d-157">state</span></span> |<span data-ttu-id="4167d-158">Önerilen</span><span class="sxs-lookup"><span data-stu-id="4167d-158">Recommended</span></span> |<span data-ttu-id="4167d-159">Ayrıca hello belirteci yanıtta döndürülen hello isteği dahil bir değer.</span><span class="sxs-lookup"><span data-stu-id="4167d-159">A value included in hello request that is also returned in hello token response.</span></span> <span data-ttu-id="4167d-160">İstediğiniz herhangi bir içerik dizesi olabilir.</span><span class="sxs-lookup"><span data-stu-id="4167d-160">It can be a string of any content that you want.</span></span> <span data-ttu-id="4167d-161">Rastgele oluşturulan benzersiz bir değer genellikle siteler arası istek sahteciliği saldırılarına önlemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="4167d-161">A randomly generated unique value is typically used for preventing cross-site request forgery attacks.</span></span> <span data-ttu-id="4167d-162">Başlangıç sayfası üzerinde oldukları gibi Hello kimlik doğrulama isteği oluşmadan önce hello ayrıca hello kullanıcı durumunun hello uygulamasında kullanılan tooencode bilgilerini durumudur.</span><span class="sxs-lookup"><span data-stu-id="4167d-162">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, such as hello page they were on.</span></span> |
| <span data-ttu-id="4167d-163">nonce</span><span class="sxs-lookup"><span data-stu-id="4167d-163">nonce</span></span> |<span data-ttu-id="4167d-164">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-164">Required</span></span> |<span data-ttu-id="4167d-165">Hello elde edilen kimliği belirteç talep olarak dahil edilecek (Merhaba uygulama tarafından oluşturulan) hello istekte bulunan bir değer.</span><span class="sxs-lookup"><span data-stu-id="4167d-165">A value included in hello request (generated by hello app) that will be included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="4167d-166">Merhaba uygulama daha sonra bu değeri toomitigate belirteç yeniden yürütme saldırılarına doğrulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4167d-166">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="4167d-167">Merhaba genellikle kullanılan tooidentify hello kaynak hello isteğinin olabilecek rastgele benzersiz bir dize değeridir.</span><span class="sxs-lookup"><span data-stu-id="4167d-167">hello value is typically a randomized unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="4167d-168">P</span><span class="sxs-lookup"><span data-stu-id="4167d-168">p</span></span> |<span data-ttu-id="4167d-169">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-169">Required</span></span> |<span data-ttu-id="4167d-170">yürütülecek hello ilkesi.</span><span class="sxs-lookup"><span data-stu-id="4167d-170">hello policy that will be executed.</span></span> <span data-ttu-id="4167d-171">Bu hello B2C kiracınızda oluşturulan bir ilkenin adıdır.</span><span class="sxs-lookup"><span data-stu-id="4167d-171">It is hello name of a policy that is created in your B2C tenant.</span></span> <span data-ttu-id="4167d-172">Hello ilkesi adı değeri ile başlamalıdır `b2c\_1\_`.</span><span class="sxs-lookup"><span data-stu-id="4167d-172">hello policy name value should begin with `b2c\_1\_`.</span></span> <span data-ttu-id="4167d-173">İlkeleri ve hello hakkında daha fazla bilgi edinmek [Genişletilebilir ilke çerçevesini](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="4167d-173">Learn more about policies and hello [extensible policy framework](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="4167d-174">istemi</span><span class="sxs-lookup"><span data-stu-id="4167d-174">prompt</span></span> |<span data-ttu-id="4167d-175">İsteğe bağlı</span><span class="sxs-lookup"><span data-stu-id="4167d-175">Optional</span></span> |<span data-ttu-id="4167d-176">gerekli bir kullanıcı etkileşimi Hello türü.</span><span class="sxs-lookup"><span data-stu-id="4167d-176">hello type of user interaction that is required.</span></span> <span data-ttu-id="4167d-177">Merhaba şu anda yalnızca geçerli değer: `login`, hangi kullanıcıların kimlik bilgilerini bu isteğin zorlar hello kullanıcı tooenter.</span><span class="sxs-lookup"><span data-stu-id="4167d-177">hello only valid value at this time is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="4167d-178">Çoklu oturum açma etkili olmaz.</span><span class="sxs-lookup"><span data-stu-id="4167d-178">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="4167d-179">Bu noktada, hello kullanıcı toocomplete hello İlkesi'nin iş akışı istedi.</span><span class="sxs-lookup"><span data-stu-id="4167d-179">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="4167d-180">Bu, kullanıcı adını ve parolasını girerek hello kullanıcı hello dizin ya da herhangi bir hello İlkesi nasıl tanımlandığına bağlı olarak adım sayısı için kaydolan bir sosyal kimlik bilgilerinizle oturum gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="4167d-180">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps, depending on how hello policy is defined.</span></span>

<span data-ttu-id="4167d-181">Merhaba kullanıcı hello İlkesi tamamlandıktan sonra Azure AD hello belirtilen bir yanıt tooyour uygulamaya döndürür `redirect_uri` hello belirtilen hello yöntemi kullanarak parametresi `response_mode` parametresi.</span><span class="sxs-lookup"><span data-stu-id="4167d-181">After hello user completes hello policy, Azure AD returns a response tooyour app at hello indicated `redirect_uri` parameter, by using hello method that is specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="4167d-182">Merhaba yanıt olan hello aynı her durumda, yürütülen hello İlkesi bağımsız önceki hello için.</span><span class="sxs-lookup"><span data-stu-id="4167d-182">hello response is hello same for each of hello preceding cases, independent of hello policy that is executed.</span></span>

<span data-ttu-id="4167d-183">Başarılı yanıt kullanarak `response_mode=fragment` gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="4167d-183">A successful response using `response_mode=fragment` would look like:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="4167d-184">Parametre</span><span class="sxs-lookup"><span data-stu-id="4167d-184">Parameter</span></span> | <span data-ttu-id="4167d-185">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4167d-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4167d-186">id_token</span><span class="sxs-lookup"><span data-stu-id="4167d-186">id_token</span></span> |<span data-ttu-id="4167d-187">İstenen uygulama hello kimliği belirteci hello.</span><span class="sxs-lookup"><span data-stu-id="4167d-187">hello ID token that hello app requested.</span></span> <span data-ttu-id="4167d-188">Merhaba kullanıcıyla oturumu başlatmak ve hello kimliği belirteci tooverify hello kullanıcının kimliğini kullanın.</span><span class="sxs-lookup"><span data-stu-id="4167d-188">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="4167d-189">Kimlik belirteçlerini ve içerikleri hakkında daha fazla ayrıntı hello dahil edilen [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="4167d-189">More details on ID tokens and their contents are included in hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="4167d-190">Kod</span><span class="sxs-lookup"><span data-stu-id="4167d-190">code</span></span> |<span data-ttu-id="4167d-191">Merhaba yetkilendirme kodu istenen bu hello uygulama kullandıysanız `response_type=code+id_token`.</span><span class="sxs-lookup"><span data-stu-id="4167d-191">hello authorization code that hello app requested, if you used `response_type=code+id_token`.</span></span> <span data-ttu-id="4167d-192">Merhaba uygulama için bir hedef kaynak hello yetkilendirme kodu toorequest bir erişim belirteci kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4167d-192">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="4167d-193">Yetkilendirme kodları çok kısa ömürlüdür.</span><span class="sxs-lookup"><span data-stu-id="4167d-193">Authorization codes are very short-lived.</span></span> <span data-ttu-id="4167d-194">Genellikle, yaklaşık 10 dakika sonra süresi.</span><span class="sxs-lookup"><span data-stu-id="4167d-194">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="4167d-195">durum</span><span class="sxs-lookup"><span data-stu-id="4167d-195">state</span></span> |<span data-ttu-id="4167d-196">Varsa bir `state` parametresi dahil hello istekte hello aynı değere hello yanıt olarak görünmelidir.</span><span class="sxs-lookup"><span data-stu-id="4167d-196">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="4167d-197">Merhaba uygulama bu hello doğrulamalısınız `state` hello istek ve yanıt değerler aynı.</span><span class="sxs-lookup"><span data-stu-id="4167d-197">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="4167d-198">Hata yanıtları toohello da gönderilebilir `redirect_uri` bu hello uygulama bunları uygun şekilde işleyebilmesi için parametre:</span><span class="sxs-lookup"><span data-stu-id="4167d-198">Error responses can also be sent toohello `redirect_uri` parameter so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="4167d-199">Parametre</span><span class="sxs-lookup"><span data-stu-id="4167d-199">Parameter</span></span> | <span data-ttu-id="4167d-200">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4167d-200">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4167d-201">error</span><span class="sxs-lookup"><span data-stu-id="4167d-201">error</span></span> |<span data-ttu-id="4167d-202">Kullanılan tooclassify tür oluşan ve kullanılan tooreact tooerrors olabilir hataları olabilir hata kodu dizesi.</span><span class="sxs-lookup"><span data-stu-id="4167d-202">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="4167d-203">error_description</span><span class="sxs-lookup"><span data-stu-id="4167d-203">error_description</span></span> |<span data-ttu-id="4167d-204">Bir geliştirici yardımcı olabilecek belirli bir hata iletisi kimlik doğrulama hatası hello kök nedenini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="4167d-204">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="4167d-205">durum</span><span class="sxs-lookup"><span data-stu-id="4167d-205">state</span></span> |<span data-ttu-id="4167d-206">Bu bölümdeki ilk tablo hello Hello tam açıklamaya bakın.</span><span class="sxs-lookup"><span data-stu-id="4167d-206">See hello full description in hello first table in this section.</span></span> <span data-ttu-id="4167d-207">Varsa bir `state` parametresi dahil hello istekte hello aynı değere hello yanıt olarak görünmelidir.</span><span class="sxs-lookup"><span data-stu-id="4167d-207">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="4167d-208">Merhaba uygulama bu hello doğrulamalısınız `state` hello istek ve yanıt değerler aynı.</span><span class="sxs-lookup"><span data-stu-id="4167d-208">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="validate-hello-id-token"></a><span data-ttu-id="4167d-209">Merhaba kimliği belirtecini doğrula</span><span class="sxs-lookup"><span data-stu-id="4167d-209">Validate hello ID token</span></span>
<span data-ttu-id="4167d-210">Yalnızca bir kimliği belirteci alma yeterli tooauthenticate hello kullanıcı değil.</span><span class="sxs-lookup"><span data-stu-id="4167d-210">Just receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="4167d-211">Merhaba kimliği belirtecin imzayı doğrulamak ve uygulamanızın gereksinimleri başına hello belirtecindeki hello talep doğrulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="4167d-211">You must validate hello ID token's signature and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="4167d-212">Azure AD B2C kullanan [JSON Web belirteçleri (Jwt'ler)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) ve ortak anahtar şifrelemesi toosign belirteçleri ve geçerli olduğunu doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="4167d-212">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="4167d-213">Jwt'ler, tercih dilinizi bağlı olarak doğrulamak için kullanılabilen birçok açık kaynak kitaplıkları vardır.</span><span class="sxs-lookup"><span data-stu-id="4167d-213">There are many open-source libraries that are available for validating JWTs, depending on your language of preference.</span></span> <span data-ttu-id="4167d-214">Kendi doğrulama mantığı uygulamak yerine bu seçenekleri keşfetme öneririz.</span><span class="sxs-lookup"><span data-stu-id="4167d-214">We recommend exploring those options rather than implementing your own validation logic.</span></span> <span data-ttu-id="4167d-215">Buraya Hello bilgileri nasıl tooproperly kullandığını bu kitaplıkları anlamak yararlı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="4167d-215">hello information here will be useful in figuring out how tooproperly use those libraries.</span></span>

<span data-ttu-id="4167d-216">Azure AD B2C, bir uygulama toofetch hakkında bilgi Azure AD B2C çalışma zamanında sağlayan bir Openıd Connect meta veri uç noktası, sahiptir.</span><span class="sxs-lookup"><span data-stu-id="4167d-216">Azure AD B2C has an OpenID Connect metadata endpoint, which allows an app toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="4167d-217">Bu bilgiler, uç noktaları, belirteç içerikleri ve belirteç imzalama anahtarları içerir.</span><span class="sxs-lookup"><span data-stu-id="4167d-217">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="4167d-218">B2C kiracınızda her ilke için bir JSON meta veri belgesi yoktur.</span><span class="sxs-lookup"><span data-stu-id="4167d-218">There is a JSON metadata document for each policy in your B2C tenant.</span></span> <span data-ttu-id="4167d-219">Örneğin, hello meta veri belgesi hello için `b2c_1_sign_in` ilkesinde `fabrikamb2c.onmicrosoft.com` bulunur:</span><span class="sxs-lookup"><span data-stu-id="4167d-219">For example, hello metadata document for hello `b2c_1_sign_in` policy in `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="4167d-220">Bu yapılandırma belgenin hello özellikleri biri `jwks_uri`, değeri aynı ilke olacaktır hello için:</span><span class="sxs-lookup"><span data-stu-id="4167d-220">One of hello properties of this configuration document is `jwks_uri`, whose value for hello same policy would be:</span></span>

<span data-ttu-id="4167d-221">`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.</span><span class="sxs-lookup"><span data-stu-id="4167d-221">`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.</span></span>

<span data-ttu-id="4167d-222">hangi ilke kullanıldı toodetermine kimliği belirteç imzalama (ve burada toofetch hello meta veriler), iki seçeneğiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="4167d-222">toodetermine which policy was used in signing an ID token (and from where toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="4167d-223">Hello ilkesi adı hello ilk olarak dahil `acr` hello kimliği belirteçte talep.</span><span class="sxs-lookup"><span data-stu-id="4167d-223">First, hello policy name is included in hello `acr` claim in hello ID token.</span></span> <span data-ttu-id="4167d-224">Merhaba nasıl tooparse hello kimliği belirtecinden talepleri hakkında daha fazla bilgi için bkz [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="4167d-224">For information on how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="4167d-225">Diğer seçeneğiniz tooencode hello hello hello değeri ilkedir `state` sorun hello istek ve hangi ilke kullanıldı toodetermine kod çözme parametresi.</span><span class="sxs-lookup"><span data-stu-id="4167d-225">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="4167d-226">Her iki yöntem geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="4167d-226">Either method is valid.</span></span>

<span data-ttu-id="4167d-227">Merhaba meta veri belgesi hello Openıd Connect meta veri uç noktasından edindiğiniz sonra (Bu uç noktada bulunur) hello RSA 256 ortak anahtarlarını kullanabilirsiniz hello kimliği belirtecinin toovalidate hello imzası.</span><span class="sxs-lookup"><span data-stu-id="4167d-227">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA 256 public keys (which are located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="4167d-228">Verilen herhangi bir noktada Bu uç noktada zamanında listelenen birden çok anahtar olabilir, her tarafından tanımlanan bir `kid` talep.</span><span class="sxs-lookup"><span data-stu-id="4167d-228">There might be multiple keys listed at this endpoint at any given point in time, each identified by a `kid` claim.</span></span> <span data-ttu-id="4167d-229">Merhaba hello kimliği belirteci üstbilgisinin de içeren bir `kid` talep, kullanılan toosign hello kimliği belirteci bu anahtarların olduğu gösterir.</span><span class="sxs-lookup"><span data-stu-id="4167d-229">hello header of hello ID token also contains a `kid` claim, which indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="4167d-230">Merhaba daha fazla bilgi için bkz [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md) (Merhaba bölüm [belirteçleri doğrulama](active-directory-b2c-reference-tokens.md#token-validation), özellikle).</span><span class="sxs-lookup"><span data-stu-id="4167d-230">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md) (hello section on [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), in particular).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="4167d-231">Merhaba kimliği belirtecinin imzası hello doğruladıktan sonra birkaç talep tooverify ihtiyacınız vardır.</span><span class="sxs-lookup"><span data-stu-id="4167d-231">After you've validated hello signature of hello ID token, there are several claims that you need tooverify.</span></span> <span data-ttu-id="4167d-232">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="4167d-232">For instance:</span></span>

* <span data-ttu-id="4167d-233">Merhaba doğrulamalıdır `nonce` tooprevent belirteç yeniden yürütme saldırılarını talep.</span><span class="sxs-lookup"><span data-stu-id="4167d-233">You should validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="4167d-234">Oturum açma hello istekte belirtilen değeri olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="4167d-234">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="4167d-235">Merhaba doğrulamalıdır `aud` kimliği belirteci hello tooensure, uygulamanız için yayımlandığında talep.</span><span class="sxs-lookup"><span data-stu-id="4167d-235">You should validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="4167d-236">Değeri, uygulamanızın hello uygulama kimliği olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="4167d-236">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="4167d-237">Merhaba doğrulamalıdır `iat` ve `exp` talep kimliği belirteci hello tooensure süresi.</span><span class="sxs-lookup"><span data-stu-id="4167d-237">You should validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="4167d-238">Gerçekleştirmeniz gereken birkaç daha fazla doğrulama vardır.</span><span class="sxs-lookup"><span data-stu-id="4167d-238">There are also several more validations that you should perform.</span></span> <span data-ttu-id="4167d-239">Bunlar hello ayrıntılı açıklanmıştır [Openıd Connect çekirdek Spec](http://openid.net/specs/openid-connect-core-1_0.html).  Senaryonuza bağlı olarak toovalidate ek talepleri de isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4167d-239">These are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).  You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="4167d-240">Bazı ortak doğrulamaları şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="4167d-240">Some common validations include:</span></span>

* <span data-ttu-id="4167d-241">Kullanıcı/kuruluş hello sağlama hello uygulaması için kaydolmuş.</span><span class="sxs-lookup"><span data-stu-id="4167d-241">Ensuring that hello user/organization has signed up for hello app.</span></span>
* <span data-ttu-id="4167d-242">Merhaba kullanıcının uygun yetkilendirme/ayrıcalıklara sahip olma.</span><span class="sxs-lookup"><span data-stu-id="4167d-242">Ensuring that hello user has proper authorization/privileges.</span></span>
* <span data-ttu-id="4167d-243">Belirli bir kimlik doğrulama gücünü, Azure multi-Factor Authentication gibi oluştuğunu sağlama.</span><span class="sxs-lookup"><span data-stu-id="4167d-243">Ensuring that a certain strength of authentication has occurred, such as Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="4167d-244">Merhaba hello talep kimliği belirteci hakkında daha fazla bilgi için bkz: [Azure AD B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="4167d-244">For more information on hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="4167d-245">Merhaba kimliği belirteci doğrulandıktan sonra bir oturum hello kullanıcıyla başlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4167d-245">After you have validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="4167d-246">Uygulamanızda hello kullanıcı hakkında hello kimliği belirteci tooobtain bilgi hello talep kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4167d-246">You can use hello claims in hello ID token tooobtain information about hello user in your app.</span></span> <span data-ttu-id="4167d-247">Bu bilgiler kullanımları görüntüleme, kayıtları ve yetkilendirme içerir.</span><span class="sxs-lookup"><span data-stu-id="4167d-247">Uses for this information include display, records, and authorization.</span></span>

## <a name="get-a-token"></a><span data-ttu-id="4167d-248">Belirteç alın</span><span class="sxs-lookup"><span data-stu-id="4167d-248">Get a token</span></span>
<span data-ttu-id="4167d-249">Web uygulaması tooonly gerekiyorsa ilkeleri yürütmek, atlayabilirsiniz hello sonraki birkaç bölümler.</span><span class="sxs-lookup"><span data-stu-id="4167d-249">If you need your web app tooonly execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="4167d-250">Bu bölümler, kimliği doğrulanmış toomake çağrıları tooa web API gerekir ve Azure AD B2C tarafından korunmuş geçerli yalnızca tooweb uygulamalardır.</span><span class="sxs-lookup"><span data-stu-id="4167d-250">These sections are applicable only tooweb apps that need toomake authenticated calls tooa web API and are also protected by Azure AD B2C.</span></span>

<span data-ttu-id="4167d-251">Aldığınız hello yetkilendirme kodu kullanın (kullanarak `response_type=code+id_token`) için bir belirteç toohello istenen kaynak göndererek bir `POST` toohello isteği `/token` uç noktası.</span><span class="sxs-lookup"><span data-stu-id="4167d-251">You can redeem hello authorization code that you acquired (by using `response_type=code+id_token`) for a token toohello desired resource by sending a `POST` request toohello `/token` endpoint.</span></span> <span data-ttu-id="4167d-252">Şu anda hello için bir belirteç isteyebileceği yalnızca uygulamanın kendi arka uç web API kaynaktır.</span><span class="sxs-lookup"><span data-stu-id="4167d-252">Currently, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="4167d-253">belirteç tooyourself isteyen hello uygulamanızın istemci kimliği, hello kapsamı olarak toouse kuraldır:</span><span class="sxs-lookup"><span data-stu-id="4167d-253">hello convention for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob&client_secret=<your-application-secret>

```

| <span data-ttu-id="4167d-254">Parametre</span><span class="sxs-lookup"><span data-stu-id="4167d-254">Parameter</span></span> | <span data-ttu-id="4167d-255">Gerekli mi?</span><span class="sxs-lookup"><span data-stu-id="4167d-255">Required?</span></span> | <span data-ttu-id="4167d-256">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4167d-256">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4167d-257">P</span><span class="sxs-lookup"><span data-stu-id="4167d-257">p</span></span> |<span data-ttu-id="4167d-258">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-258">Required</span></span> |<span data-ttu-id="4167d-259">Merhaba, kullanılan tooacquire hello yetkilendirme ilkesi kodu.</span><span class="sxs-lookup"><span data-stu-id="4167d-259">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="4167d-260">Bu isteği başka bir ilke kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="4167d-260">You cannot use a different policy in this request.</span></span> <span data-ttu-id="4167d-261">Bu parametre toohello sorgu dizesi, değil toohello eklediğiniz Not `POST` gövdesi.</span><span class="sxs-lookup"><span data-stu-id="4167d-261">Note that you add this parameter toohello query string, not toohello `POST` body.</span></span> |
| <span data-ttu-id="4167d-262">client_id</span><span class="sxs-lookup"><span data-stu-id="4167d-262">client_id</span></span> |<span data-ttu-id="4167d-263">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-263">Required</span></span> |<span data-ttu-id="4167d-264">Merhaba uygulama kimliği bu hello [Azure portal](https://portal.azure.com/) tooyour uygulama atanmış.</span><span class="sxs-lookup"><span data-stu-id="4167d-264">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="4167d-265">grant_type</span><span class="sxs-lookup"><span data-stu-id="4167d-265">grant_type</span></span> |<span data-ttu-id="4167d-266">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-266">Required</span></span> |<span data-ttu-id="4167d-267">Merhaba olmalıdır grant türünü `authorization_code` hello yetkilendirme kodu akışı.</span><span class="sxs-lookup"><span data-stu-id="4167d-267">hello type of grant, which must be `authorization_code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="4167d-268">Kapsam</span><span class="sxs-lookup"><span data-stu-id="4167d-268">scope</span></span> |<span data-ttu-id="4167d-269">Önerilen</span><span class="sxs-lookup"><span data-stu-id="4167d-269">Recommended</span></span> |<span data-ttu-id="4167d-270">Kapsamları boşlukla ayrılmış listesi.</span><span class="sxs-lookup"><span data-stu-id="4167d-270">A space-separated list of scopes.</span></span> <span data-ttu-id="4167d-271">Tek bir kapsam değeri tooAzure AD istenen iki izinleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="4167d-271">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="4167d-272">Merhaba `openid` kapsamını izni toosign id_token parametreleri hello biçiminde hello kullanıcı hakkında hello kullanıcı ve get verilerdeki belirtir.</span><span class="sxs-lookup"><span data-stu-id="4167d-272">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of id_token parameters.</span></span> <span data-ttu-id="4167d-273">Hangi hello tarafından temsil edilen kullanılan tooget belirteçleri tooyour uygulamanın kendi arka uç web API'si, olabilir hello istemcisi olarak aynı uygulama kimliği.</span><span class="sxs-lookup"><span data-stu-id="4167d-273">It can be used tooget tokens tooyour app's own back-end web API, which is represented by hello same application ID as hello client.</span></span> <span data-ttu-id="4167d-274">Merhaba `offline_access` kapsamını belirtir, uygulamanız için uzun süreli erişim tooresources bir yenileme belirteci gerekir.</span><span class="sxs-lookup"><span data-stu-id="4167d-274">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="4167d-275">Kod</span><span class="sxs-lookup"><span data-stu-id="4167d-275">code</span></span> |<span data-ttu-id="4167d-276">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-276">Required</span></span> |<span data-ttu-id="4167d-277">Merhaba akışının hello ilk leg aldığınız hello yetkilendirme kodu.</span><span class="sxs-lookup"><span data-stu-id="4167d-277">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="4167d-278">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="4167d-278">redirect_uri</span></span> |<span data-ttu-id="4167d-279">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-279">Required</span></span> |<span data-ttu-id="4167d-280">Merhaba `redirect_uri` hello yetkilendirme kodu aldığınız hello uygulama parametresi.</span><span class="sxs-lookup"><span data-stu-id="4167d-280">hello `redirect_uri` parameter of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="4167d-281">client_secret</span><span class="sxs-lookup"><span data-stu-id="4167d-281">client_secret</span></span> |<span data-ttu-id="4167d-282">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-282">Required</span></span> |<span data-ttu-id="4167d-283">hello oluşturulan hello uygulama gizli anahtarı [Azure portal](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="4167d-283">hello application secret that you generated in hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="4167d-284">Bu uygulama gizli anahtarı bir önemli güvenlik yapıdır.</span><span class="sxs-lookup"><span data-stu-id="4167d-284">This application secret is an important security artifact.</span></span> <span data-ttu-id="4167d-285">Onu güvenli bir şekilde sunucunuzda depolamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="4167d-285">You should store it securely on your server.</span></span> <span data-ttu-id="4167d-286">Ayrıca bu gizli düzenli aralıklarla döndürme.</span><span class="sxs-lookup"><span data-stu-id="4167d-286">You should also rotate this client secret on a periodic basis.</span></span> |

<span data-ttu-id="4167d-287">Başarılı bir token yanıt şuna benzer:</span><span class="sxs-lookup"><span data-stu-id="4167d-287">A successful token response looks like:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="4167d-288">Parametre</span><span class="sxs-lookup"><span data-stu-id="4167d-288">Parameter</span></span> | <span data-ttu-id="4167d-289">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4167d-289">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4167d-290">not_before</span><span class="sxs-lookup"><span data-stu-id="4167d-290">not_before</span></span> |<span data-ttu-id="4167d-291">hangi hello belirteci geçerli dönem zamanında kabul hello süre.</span><span class="sxs-lookup"><span data-stu-id="4167d-291">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="4167d-292">token_type</span><span class="sxs-lookup"><span data-stu-id="4167d-292">token_type</span></span> |<span data-ttu-id="4167d-293">Merhaba belirteç türü değeri.</span><span class="sxs-lookup"><span data-stu-id="4167d-293">hello token type value.</span></span> <span data-ttu-id="4167d-294">yalnızca Azure AD destekler türü hello `Bearer`.</span><span class="sxs-lookup"><span data-stu-id="4167d-294">hello only type that Azure AD supports is `Bearer`.</span></span> |
| <span data-ttu-id="4167d-295">access_token</span><span class="sxs-lookup"><span data-stu-id="4167d-295">access_token</span></span> |<span data-ttu-id="4167d-296">Merhaba, istenen JWT belirteci imzalayan.</span><span class="sxs-lookup"><span data-stu-id="4167d-296">hello signed JWT token that you requested.</span></span> |
| <span data-ttu-id="4167d-297">Kapsam</span><span class="sxs-lookup"><span data-stu-id="4167d-297">scope</span></span> |<span data-ttu-id="4167d-298">Merhaba kapsamlar için hangi hello belirtecin geçerli olduğu.</span><span class="sxs-lookup"><span data-stu-id="4167d-298">hello scopes for which hello token is valid.</span></span> <span data-ttu-id="4167d-299">Bu, daha sonra kullanmak için belirteç önbelleğe almak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="4167d-299">These can be used for caching tokens for later use.</span></span> |
| <span data-ttu-id="4167d-300">expires_in</span><span class="sxs-lookup"><span data-stu-id="4167d-300">expires_in</span></span> |<span data-ttu-id="4167d-301">erişim belirteci hello süre Hello uzunluğu (saniye olarak) geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="4167d-301">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="4167d-302">refresh_token</span><span class="sxs-lookup"><span data-stu-id="4167d-302">refresh_token</span></span> |<span data-ttu-id="4167d-303">Bir OAuth 2.0 yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="4167d-303">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="4167d-304">Merhaba geçerli belirteç süresi dolduktan sonra bu belirteci tooacquire ek belirteçler hello uygulamasını kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="4167d-304">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="4167d-305">Yenileme belirteçleri uzun süreli ve uzun süre için kullanılan tooretain erişim tooresources olabilir.</span><span class="sxs-lookup"><span data-stu-id="4167d-305">Refresh tokens are long-lived and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="4167d-306">Daha fazla ayrıntı için toohello başvurun [B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="4167d-306">For more details, refer toohello [B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="4167d-307">Merhaba kapsam kullanılan gerekir Not `offline_access` hello yetkilendirme ve belirteç sipariş tooreceive bir yenileme belirteci ister.</span><span class="sxs-lookup"><span data-stu-id="4167d-307">Note that you must have used hello scope `offline_access` in both hello authorization and token requests in order tooreceive a refresh token.</span></span> |

<span data-ttu-id="4167d-308">Hata yanıtları gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="4167d-308">Error responses look like:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="4167d-309">Parametre</span><span class="sxs-lookup"><span data-stu-id="4167d-309">Parameter</span></span> | <span data-ttu-id="4167d-310">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4167d-310">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4167d-311">error</span><span class="sxs-lookup"><span data-stu-id="4167d-311">error</span></span> |<span data-ttu-id="4167d-312">Kullanılan tooclassify tür oluşan ve kullanılan tooreact tooerrors olabilir hataları olabilir hata kodu dizesi.</span><span class="sxs-lookup"><span data-stu-id="4167d-312">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="4167d-313">error_description</span><span class="sxs-lookup"><span data-stu-id="4167d-313">error_description</span></span> |<span data-ttu-id="4167d-314">Bir geliştirici yardımcı olabilecek belirli bir hata iletisi kimlik doğrulama hatası hello kök nedenini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="4167d-314">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |

## <a name="use-hello-token"></a><span data-ttu-id="4167d-315">Merhaba belirteci kullanın</span><span class="sxs-lookup"><span data-stu-id="4167d-315">Use hello token</span></span>
<span data-ttu-id="4167d-316">Bir erişim belirteci başarıyla edindiğiniz, hello belirteç isteklerini tooyour arka uç web API'leri hello dahil ederek kullanabileceğiniz `Authorization` üstbilgisi:</span><span class="sxs-lookup"><span data-stu-id="4167d-316">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="refresh-hello-token"></a><span data-ttu-id="4167d-317">Merhaba belirtecini yenileme</span><span class="sxs-lookup"><span data-stu-id="4167d-317">Refresh hello token</span></span>
<span data-ttu-id="4167d-318">Kimlik belirteçlerini ömürlüdür.</span><span class="sxs-lookup"><span data-stu-id="4167d-318">ID tokens are short-lived.</span></span> <span data-ttu-id="4167d-319">Mümkün tooaccess kaynakları olan toocontinue parolalarının süresi dolduktan sonra bunları yenilemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="4167d-319">You must refresh them after they expire toocontinue being able tooaccess resources.</span></span> <span data-ttu-id="4167d-320">Başka bir göndererek yapabilirsiniz `POST` toohello isteği `/token` uç noktası.</span><span class="sxs-lookup"><span data-stu-id="4167d-320">You can do so by submitting another `POST` request toohello `/token` endpoint.</span></span> <span data-ttu-id="4167d-321">Bu süre, hello sağlamak `refresh_token` parametre hello yerine `code` parametre:</span><span class="sxs-lookup"><span data-stu-id="4167d-321">This time, provide hello `refresh_token` parameter instead of hello `code` parameter:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=openid offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob&client_secret=<your-application-secret>
```

| <span data-ttu-id="4167d-322">Parametre</span><span class="sxs-lookup"><span data-stu-id="4167d-322">Parameter</span></span> | <span data-ttu-id="4167d-323">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-323">Required</span></span> | <span data-ttu-id="4167d-324">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4167d-324">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4167d-325">P</span><span class="sxs-lookup"><span data-stu-id="4167d-325">p</span></span> |<span data-ttu-id="4167d-326">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-326">Required</span></span> |<span data-ttu-id="4167d-327">kullanılan tooacquire hello özgün yenileme belirteci olan hello ilkesi.</span><span class="sxs-lookup"><span data-stu-id="4167d-327">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="4167d-328">Bu isteği başka bir ilke kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="4167d-328">You cannot use a different policy in this request.</span></span> <span data-ttu-id="4167d-329">Bu parametre toohello sorgu dizesi, toohello POST gövde eklediğiniz unutmayın.</span><span class="sxs-lookup"><span data-stu-id="4167d-329">Note that you add this parameter toohello query string, not toohello POST body.</span></span> |
| <span data-ttu-id="4167d-330">client_id</span><span class="sxs-lookup"><span data-stu-id="4167d-330">client_id</span></span> |<span data-ttu-id="4167d-331">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-331">Required</span></span> |<span data-ttu-id="4167d-332">Merhaba uygulama kimliği bu hello [Azure portal](https://portal.azure.com/) tooyour uygulama atanmış.</span><span class="sxs-lookup"><span data-stu-id="4167d-332">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="4167d-333">grant_type</span><span class="sxs-lookup"><span data-stu-id="4167d-333">grant_type</span></span> |<span data-ttu-id="4167d-334">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-334">Required</span></span> |<span data-ttu-id="4167d-335">Bu leg hello yetkilendirme kodu akışı için bir yenileme belirteci olmalıdır grant Hello türü.</span><span class="sxs-lookup"><span data-stu-id="4167d-335">hello type of grant, which must be a refresh token for this leg of hello authorization code flow.</span></span> |
| <span data-ttu-id="4167d-336">Kapsam</span><span class="sxs-lookup"><span data-stu-id="4167d-336">scope</span></span> |<span data-ttu-id="4167d-337">Önerilen</span><span class="sxs-lookup"><span data-stu-id="4167d-337">Recommended</span></span> |<span data-ttu-id="4167d-338">Kapsamları boşlukla ayrılmış listesi.</span><span class="sxs-lookup"><span data-stu-id="4167d-338">A space-separated list of scopes.</span></span> <span data-ttu-id="4167d-339">Tek bir kapsam değeri tooAzure AD istenen iki izinleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="4167d-339">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="4167d-340">Merhaba `openid` kapsam kimliği belirteçleri hello biçiminde hello kullanıcı hakkında hello kullanıcı ve get verilerdeki izni toosign gösterir.</span><span class="sxs-lookup"><span data-stu-id="4167d-340">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="4167d-341">Hangi hello tarafından temsil edilen kullanılan tooget belirteçleri tooyour uygulamanın kendi arka uç web API'si, olabilir hello istemcisi olarak aynı uygulama kimliği.</span><span class="sxs-lookup"><span data-stu-id="4167d-341">It can be used tooget tokens tooyour app's own back-end web API, which is represented by hello same application ID as hello client.</span></span> <span data-ttu-id="4167d-342">Merhaba `offline_access` kapsamını belirtir, uygulamanız için uzun süreli erişim tooresources bir yenileme belirteci gerekir.</span><span class="sxs-lookup"><span data-stu-id="4167d-342">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="4167d-343">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="4167d-343">redirect_uri</span></span> |<span data-ttu-id="4167d-344">Önerilen</span><span class="sxs-lookup"><span data-stu-id="4167d-344">Recommended</span></span> |<span data-ttu-id="4167d-345">Merhaba `redirect_uri` hello yetkilendirme kodu aldığınız hello uygulama parametresi.</span><span class="sxs-lookup"><span data-stu-id="4167d-345">hello `redirect_uri` parameter of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="4167d-346">refresh_token</span><span class="sxs-lookup"><span data-stu-id="4167d-346">refresh_token</span></span> |<span data-ttu-id="4167d-347">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-347">Required</span></span> |<span data-ttu-id="4167d-348">Merhaba akışının hello ikinci leg edindiğiniz hello özgün yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="4167d-348">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> <span data-ttu-id="4167d-349">Merhaba kapsam kullanılan gerekir Not `offline_access` hello yetkilendirme ve belirteç sipariş tooreceive bir yenileme belirteci ister.</span><span class="sxs-lookup"><span data-stu-id="4167d-349">Note that you must have used hello scope `offline_access` in both hello authorization and token requests in order tooreceive a refresh token.</span></span> |
| <span data-ttu-id="4167d-350">client_secret</span><span class="sxs-lookup"><span data-stu-id="4167d-350">client_secret</span></span> |<span data-ttu-id="4167d-351">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-351">Required</span></span> |<span data-ttu-id="4167d-352">hello oluşturulan hello uygulama gizli anahtarı [Azure portal](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="4167d-352">hello application secret that you generated in hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="4167d-353">Bu uygulama gizli anahtarı bir önemli güvenlik yapıdır.</span><span class="sxs-lookup"><span data-stu-id="4167d-353">This application secret is an important security artifact.</span></span> <span data-ttu-id="4167d-354">Onu güvenli bir şekilde sunucunuzda depolamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="4167d-354">You should store it securely on your server.</span></span> <span data-ttu-id="4167d-355">Ayrıca bu gizli düzenli aralıklarla döndürme.</span><span class="sxs-lookup"><span data-stu-id="4167d-355">You should also rotate this client secret on a periodic basis.</span></span> |

<span data-ttu-id="4167d-356">Başarılı bir token yanıt şuna benzer:</span><span class="sxs-lookup"><span data-stu-id="4167d-356">A successful token response looks like:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="4167d-357">Parametre</span><span class="sxs-lookup"><span data-stu-id="4167d-357">Parameter</span></span> | <span data-ttu-id="4167d-358">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4167d-358">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4167d-359">not_before</span><span class="sxs-lookup"><span data-stu-id="4167d-359">not_before</span></span> |<span data-ttu-id="4167d-360">hangi hello belirteci geçerli dönem zamanında kabul hello süre.</span><span class="sxs-lookup"><span data-stu-id="4167d-360">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="4167d-361">token_type</span><span class="sxs-lookup"><span data-stu-id="4167d-361">token_type</span></span> |<span data-ttu-id="4167d-362">Merhaba belirteç türü değeri.</span><span class="sxs-lookup"><span data-stu-id="4167d-362">hello token type value.</span></span> <span data-ttu-id="4167d-363">yalnızca Azure AD destekler türü hello `Bearer`.</span><span class="sxs-lookup"><span data-stu-id="4167d-363">hello only type that Azure AD supports is `Bearer`.</span></span> |
| <span data-ttu-id="4167d-364">access_token</span><span class="sxs-lookup"><span data-stu-id="4167d-364">access_token</span></span> |<span data-ttu-id="4167d-365">Merhaba, istenen JWT belirteci imzalayan.</span><span class="sxs-lookup"><span data-stu-id="4167d-365">hello signed JWT token that you requested.</span></span> |
| <span data-ttu-id="4167d-366">Kapsam</span><span class="sxs-lookup"><span data-stu-id="4167d-366">scope</span></span> |<span data-ttu-id="4167d-367">Daha sonra kullanmak için belirteç önbelleğe almak için kullanılabilecek belirteci hello hello kapsam için geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="4167d-367">hello scope that hello token is valid for, which can be used for caching tokens for later use.</span></span> |
| <span data-ttu-id="4167d-368">expires_in</span><span class="sxs-lookup"><span data-stu-id="4167d-368">expires_in</span></span> |<span data-ttu-id="4167d-369">erişim belirteci hello süre Hello uzunluğu (saniye olarak) geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="4167d-369">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="4167d-370">refresh_token</span><span class="sxs-lookup"><span data-stu-id="4167d-370">refresh_token</span></span> |<span data-ttu-id="4167d-371">Bir OAuth 2.0 yenileme belirteci.</span><span class="sxs-lookup"><span data-stu-id="4167d-371">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="4167d-372">Merhaba geçerli belirteç süresi dolduktan sonra bu belirteci tooacquire ek belirteçler hello uygulamasını kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="4167d-372">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span>  <span data-ttu-id="4167d-373">Yenileme belirteçleri uzun süreli ve uzun süre için kullanılan tooretain erişim tooresources olabilir.</span><span class="sxs-lookup"><span data-stu-id="4167d-373">Refresh tokens are long-lived and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="4167d-374">Daha fazla ayrıntı için toohello başvuran [B2C belirteç başvurusunda](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="4167d-374">For more detail, refer toohello [B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="4167d-375">Hata yanıtları gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="4167d-375">Error responses look like:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="4167d-376">Parametre</span><span class="sxs-lookup"><span data-stu-id="4167d-376">Parameter</span></span> | <span data-ttu-id="4167d-377">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4167d-377">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4167d-378">error</span><span class="sxs-lookup"><span data-stu-id="4167d-378">error</span></span> |<span data-ttu-id="4167d-379">Kullanılan tooclassify tür oluşan ve kullanılan tooreact tooerrors olabilir hataları olabilir hata kodu dizesi.</span><span class="sxs-lookup"><span data-stu-id="4167d-379">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="4167d-380">error_description</span><span class="sxs-lookup"><span data-stu-id="4167d-380">error_description</span></span> |<span data-ttu-id="4167d-381">Bir geliştirici yardımcı olabilecek belirli bir hata iletisi kimlik doğrulama hatası hello kök nedenini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="4167d-381">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |

## <a name="send-a-sign-out-request"></a><span data-ttu-id="4167d-382">Oturum kapatma isteği gönder</span><span class="sxs-lookup"><span data-stu-id="4167d-382">Send a sign-out request</span></span>
<span data-ttu-id="4167d-383">Toosign hello kullanıcı hello uygulama dışında istediğinizde, uygulamanızın tanımlama bilgilerini yeterli tooclear olduğu veya aksi halde hello kullanıcıyla hello oturumunu sona erdirmek.</span><span class="sxs-lookup"><span data-stu-id="4167d-383">When you want toosign hello user out of hello app, it is not enough tooclear your app's cookies or otherwise end hello session with hello user.</span></span> <span data-ttu-id="4167d-384">Ayrıca hello kullanıcı tooAzure AD toosign giden yönlendirmesi gerekir. Toodo nedenle başarısız olursa, hello kullanıcı kimlik bilgilerini yeniden girmeden mümkün tooreauthenticate tooyour uygulama olabilir.</span><span class="sxs-lookup"><span data-stu-id="4167d-384">You must also redirect hello user tooAzure AD toosign out. If you fail toodo so, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="4167d-385">Bu durum, geçerli tek bir oturum açma oturumu Azure AD ile gerekir çünkü.</span><span class="sxs-lookup"><span data-stu-id="4167d-385">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="4167d-386">Merhaba kullanıcı toohello yalnızca yönlendirebilirsiniz `end_session` hello Openıd Connect meta veri belgesinde listelenen endpoint önceki hello "Merhaba kimliği belirtecini doğrula" bölümünde açıklanan:</span><span class="sxs-lookup"><span data-stu-id="4167d-386">You can simply redirect hello user toohello `end_session` endpoint that is listed in hello OpenID Connect metadata document described earlier in hello "Validate hello ID token" section:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="4167d-387">Parametre</span><span class="sxs-lookup"><span data-stu-id="4167d-387">Parameter</span></span> | <span data-ttu-id="4167d-388">Gerekli mi?</span><span class="sxs-lookup"><span data-stu-id="4167d-388">Required?</span></span> | <span data-ttu-id="4167d-389">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4167d-389">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4167d-390">P</span><span class="sxs-lookup"><span data-stu-id="4167d-390">p</span></span> |<span data-ttu-id="4167d-391">Gerekli</span><span class="sxs-lookup"><span data-stu-id="4167d-391">Required</span></span> |<span data-ttu-id="4167d-392">hello İlkesi toouse toosign hello kullanıcı uygulamanızı dışında istiyor.</span><span class="sxs-lookup"><span data-stu-id="4167d-392">hello policy that you want toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="4167d-393">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="4167d-393">post_logout_redirect_uri</span></span> |<span data-ttu-id="4167d-394">Önerilen</span><span class="sxs-lookup"><span data-stu-id="4167d-394">Recommended</span></span> |<span data-ttu-id="4167d-395">Merhaba hello kullanıcının yeniden yönlendirilen tooafter başarılı olmalıdır oturum kapatma. Dahil edilmezse, Azure AD B2C hello kullanıcı genel bir ileti gösterir.</span><span class="sxs-lookup"><span data-stu-id="4167d-395">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C shows hello user a generic message.</span></span> |

> [!NOTE]
> <span data-ttu-id="4167d-396">Merhaba kullanıcı toohello yönlendirerek rağmen `end_session` uç nokta bazı Azure AD B2C ile Merhaba kullanıcının tek oturum açma durumu Temizle, sosyal kimlik sağlayıcıyı (IDP) oturumuna dışında hello kullanıcı oturum yok.</span><span class="sxs-lookup"><span data-stu-id="4167d-396">Although directing hello user toohello `end_session` endpoint will clear some of hello user's single sign-on state with Azure AD B2C, it will not sign hello user out of their social identity provider (IDP) session.</span></span> <span data-ttu-id="4167d-397">Merhaba kullanıcı seçerse bir sonraki oturum açma sırasında aynı IDP Merhaba, bunlar, kullanıcıların kimlik bilgilerini girmeden kimliğinin yeniden doğrulanması.</span><span class="sxs-lookup"><span data-stu-id="4167d-397">If hello user selects hello same IDP during a subsequent sign-in, they will be reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="4167d-398">Bir kullanıcı toosign B2C uygulamanızı dışında isterse, mutlaka Facebook hesaplarında dışında toosign istedikleri anlamına gelmez.</span><span class="sxs-lookup"><span data-stu-id="4167d-398">If a user wants toosign out of your B2C application, it does not necessarily mean they want toosign out of their Facebook account.</span></span> <span data-ttu-id="4167d-399">Ancak, yerel hesaplar hello durumda hello kullanıcının oturumunu düzgün sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="4167d-399">However, in hello case of local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-b2c-tenant"></a><span data-ttu-id="4167d-400">B2C kiracısına kullanın</span><span class="sxs-lookup"><span data-stu-id="4167d-400">Use your own B2C tenant</span></span>
<span data-ttu-id="4167d-401">Tootry bu istekleri kendiniz istiyorsanız ilk üç bu adımları uygulayın ve ardından daha önce kendi açıklanan hello örnek değerleri değiştirin:</span><span class="sxs-lookup"><span data-stu-id="4167d-401">If you want tootry these requests for yourself, you must first perform these three steps, and then replace hello example values described earlier with your own:</span></span>

1. <span data-ttu-id="4167d-402">[B2C kiracısı oluşturma](active-directory-b2c-get-started.md)ve hello isteklerinde kiracınızın hello adını kullanın.</span><span class="sxs-lookup"><span data-stu-id="4167d-402">[Create a B2C tenant](active-directory-b2c-get-started.md), and use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="4167d-403">[Uygulama oluşturma](active-directory-b2c-app-registration.md) tooobtain bir uygulama kimliği</span><span class="sxs-lookup"><span data-stu-id="4167d-403">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID.</span></span> <span data-ttu-id="4167d-404">Bir web uygulaması/web API uygulamanızı içerir.</span><span class="sxs-lookup"><span data-stu-id="4167d-404">Include a web app/web API in your app.</span></span> <span data-ttu-id="4167d-405">İsteğe bağlı olarak, bir uygulama gizli anahtarı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="4167d-405">Optionally, create an application secret.</span></span>
3. <span data-ttu-id="4167d-406">[İlkelerinizi oluşturma](active-directory-b2c-reference-policies.md) tooobtain ilke adları.</span><span class="sxs-lookup"><span data-stu-id="4167d-406">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

