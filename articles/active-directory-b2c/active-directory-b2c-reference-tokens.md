---
title: "Azure Active Directory B2C: Belirteç başvurusu | Microsoft Docs"
description: "Azure Active Directory B2C'de yayınlanan belirteçleri Hello türleri"
services: active-directory-b2c
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 6df79878-65cb-4dfc-98bb-2b328055bc2e
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 3/17/2017
ms.author: dastrock
ms.openlocfilehash: 776bc88cc0308875ac6e576f19ac9edf50319d08
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-token-reference"></a><span data-ttu-id="3adf6-103">Azure AD B2C: Belirteç başvurusu</span><span class="sxs-lookup"><span data-stu-id="3adf6-103">Azure AD B2C: Token reference</span></span>
<span data-ttu-id="3adf6-104">Azure Active Directory B2C (Azure AD B2C) her işlediği gibi çeşitli güvenlik belirteçleri yayar [kimlik doğrulaması akışı](active-directory-b2c-apps.md).</span><span class="sxs-lookup"><span data-stu-id="3adf6-104">Azure Active Directory B2C (Azure AD B2C) emits several types of security tokens as it processes each [authentication flow](active-directory-b2c-apps.md).</span></span> <span data-ttu-id="3adf6-105">Bu belgede hello biçimi, güvenlik özellikleri ve her tür bir belirteç içeriği açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="3adf6-106">Belirteç türleri</span><span class="sxs-lookup"><span data-stu-id="3adf6-106">Types of tokens</span></span>
<span data-ttu-id="3adf6-107">Azure AD B2C destekleyen hello [OAuth 2.0 yetkilendirme protokolünü](active-directory-b2c-reference-protocols.md), erişim belirteçleri ve yenileme belirteçleri hangi her ikisini de kullanır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-107">Azure AD B2C supports hello [OAuth 2.0 authorization protocol](active-directory-b2c-reference-protocols.md), which makes use of both access tokens and refresh tokens.</span></span> <span data-ttu-id="3adf6-108">Kimlik doğrulama ve oturum açma aracılığıyla da destekler [Openıd Connect](active-directory-b2c-reference-protocols.md), bir üçüncü Belirtecin türü sunar: hello kimliği belirteci.</span><span class="sxs-lookup"><span data-stu-id="3adf6-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-b2c-reference-protocols.md), which introduces a third type of token: hello ID token.</span></span> <span data-ttu-id="3adf6-109">Her Bu belirteçler, taşıyıcı belirteç olarak temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-109">Each of these tokens is represented as a bearer token.</span></span>

<span data-ttu-id="3adf6-110">Bir basit güvenlik belirteci verir "bearer" erişim tooa hello korumalı kaynak bir taşıyıcı belirtecidir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-110">A bearer token is a lightweight security token that grants hello "bearer" access tooa protected resource.</span></span> <span data-ttu-id="3adf6-111">Merhaba taşıyıcı hello belirteci sunabilir herhangi bir tarafa ' dir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-111">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="3adf6-112">Bir taşıyıcı belirteci almak için önce azure AD önce bir taraf kimlik doğrulaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-112">Azure AD must first authenticate a party before it can receive a bearer token.</span></span> <span data-ttu-id="3adf6-113">Ancak adımları toosecure hello belirteçte iletim ve depolama katılmaz hello gerekli olursa, kullanılabilir engelledik ve istenmeyen bir şirket tarafından kullanılan.</span><span class="sxs-lookup"><span data-stu-id="3adf6-113">But if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="3adf6-114">Bazı güvenlik belirteçleri kullanarak gelen yetkisiz tarafların engellemek için yerleşik bir mekanizma sahip, ancak taşıyıcı belirteçlerini bu düzenek sahip değil.</span><span class="sxs-lookup"><span data-stu-id="3adf6-114">Some security tokens have a built-in mechanism for preventing unauthorized parties from using them, but bearer tokens do not have this mechanism.</span></span> <span data-ttu-id="3adf6-115">Bunlar Aktarım Katmanı Güvenliği (HTTPS) gibi güvenli bir kanal taşınan gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-115">They must be transported in a secure channel, such as transport layer security (HTTPS).</span></span>

<span data-ttu-id="3adf6-116">Bir taşıyıcı belirteci dışında güvenli bir kanal iletilirse, kötü amaçlı bir taraf man-in--middle saldırı tooacquire hello belirteci kullanın ve toogain yetkisiz erişim korumalı tooa kaynak kullanın.</span><span class="sxs-lookup"><span data-stu-id="3adf6-116">If a bearer token is transmitted outside a secure channel, a malicious party can use a man-in-the-middle attack tooacquire hello token and use it toogain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="3adf6-117">Merhaba depolanan ya da daha sonra kullanmak üzere önbelleğe taşıyıcı belirteçlerini aynı güvenlik ilkeleri uygulayın.</span><span class="sxs-lookup"><span data-stu-id="3adf6-117">hello same security principles apply when bearer tokens are stored or cached for later use.</span></span> <span data-ttu-id="3adf6-118">Her zaman uygulamanızı aktarır ve güvenli bir şekilde taşıyıcı belirteçleri depolar emin olun.</span><span class="sxs-lookup"><span data-stu-id="3adf6-118">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span>

<span data-ttu-id="3adf6-119">Taşıyıcı belirteçlerini üzerinde ek güvenlik konuları için bkz: [RFC 6750 bölüm 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="3adf6-119">For additional security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="3adf6-120">Azure AD B2C sorunları hello belirteçleri çoğunu JSON web belirteçleri (Jwt'ler) uygulanır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-120">Many of hello tokens that Azure AD B2C issues are implemented as JSON web tokens (JWTs).</span></span> <span data-ttu-id="3adf6-121">JWT, iki taraf arasında bilgi aktarma compact, URL için güvenli bir yoludur.</span><span class="sxs-lookup"><span data-stu-id="3adf6-121">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span> <span data-ttu-id="3adf6-122">Jwt'ler talepler olarak bilinen bilgiler içerir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-122">JWTs contain information known as claims.</span></span> <span data-ttu-id="3adf6-123">Merhaba taşıyıcı hakkındaki bilgilerin onaylar ve hello konu hello belirtecinin bunlar.</span><span class="sxs-lookup"><span data-stu-id="3adf6-123">These are assertions of information about hello bearer and hello subject of hello token.</span></span> <span data-ttu-id="3adf6-124">Jwt'ler Hello Taleplerde kodlanmış ve aktarım için seri hale getirilmiş JSON nesneleridir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-124">hello claims in JWTs are JSON objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="3adf6-125">Hello Azure AD B2C tarafından verilen Jwt'ler imzalanmış ancak şifreli olduğundan, bir JWT toodebug Merhaba içeriğine kolayca inceleyebilirsiniz onu.</span><span class="sxs-lookup"><span data-stu-id="3adf6-125">Because hello JWTs issued by Azure AD B2C are signed but not encrypted, you can easily inspect hello contents of a JWT toodebug it.</span></span> <span data-ttu-id="3adf6-126">Birkaç araç bulunmaktadır, yapabilir dahil olmak üzere bu [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="3adf6-126">Several tools are available that can do this, including [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="3adf6-127">Jwt'ler hakkında daha fazla bilgi için çok başvuran[JWT belirtimleri](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="3adf6-127">For more information about JWTs, refer too[JWT specifications](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="3adf6-128">Kimliği belirteçleri</span><span class="sxs-lookup"><span data-stu-id="3adf6-128">ID tokens</span></span>
<span data-ttu-id="3adf6-129">Bir kimliği belirteci uygulamanızı hello Azure AD B2C ' aldığı güvenlik belirteci biçimidir `authorize` ve `token` uç noktaları.</span><span class="sxs-lookup"><span data-stu-id="3adf6-129">An ID token is a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="3adf6-130">Kimlik belirteçlerini olarak temsil [Jwt'ler](#types-of-tokens), uygulamanızda tooidentify kullanıcılar kullanabileceğiniz talepleri içerir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-130">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify users in your app.</span></span> <span data-ttu-id="3adf6-131">Ne zaman kimlik belirteçlerini edinilen hello `authorize` uç noktası, sık kullanılan toosign kullanıcılar tooweb uygulamalarında oldukları.</span><span class="sxs-lookup"><span data-stu-id="3adf6-131">When ID tokens are acquired from hello `authorize` endpoint, they are often used toosign in users tooweb applications.</span></span> <span data-ttu-id="3adf6-132">Ne zaman kimlik belirteçlerini edinilen hello `token` uç noktası, bunlar gönderilebilir HTTP isteklerinde hello iki bileşenleri arasındaki iletişim sırasında aynı uygulama veya hizmet.</span><span class="sxs-lookup"><span data-stu-id="3adf6-132">When ID tokens are acquired from hello `token` endpoint, they can be sent in HTTP requests during communication between two components of hello same application or service.</span></span> <span data-ttu-id="3adf6-133">Uygun gördüğünüz şekilde hello talep kimliği belirteçte kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3adf6-133">You can use hello claims in an ID token as you see fit.</span></span> <span data-ttu-id="3adf6-134">Yaygın olarak kullanılan toodisplay hesap bilgileri veya toomake erişim denetimi kararlarını bir uygulamada oldukları.</span><span class="sxs-lookup"><span data-stu-id="3adf6-134">They are commonly used toodisplay account information or toomake access control decisions in an app.</span></span>  

<span data-ttu-id="3adf6-135">Kimlik belirteçlerini imzalanmış, ancak şu anda şifrelenmez.</span><span class="sxs-lookup"><span data-stu-id="3adf6-135">ID tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="3adf6-136">Uygulamanızı veya API kimliği belirteci aldığında, gerekir [hello imzayı doğrulamak](#token-validation) belirteci hello tooprove gerçek.</span><span class="sxs-lookup"><span data-stu-id="3adf6-136">When your app or API receives an ID token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="3adf6-137">Ayrıca, uygulama veya API birkaç Taleplerde hello belirteci tooprove geçerli olduğunu doğrulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-137">Your app or API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="3adf6-138">Merhaba senaryonun gereksinimlerine bağlı olarak, bir uygulama tarafından doğrulanmış hello talep farklılık gösterebilir, ancak uygulamanızı bazı gerçekleştirmelisiniz [ortak talep doğrulamaları](#token-validation) her senaryoda.</span><span class="sxs-lookup"><span data-stu-id="3adf6-138">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="3adf6-139">Örnek kimliği belirteci</span><span class="sxs-lookup"><span data-stu-id="3adf6-139">Sample ID token</span></span>
```
// Line breaks for display purposes only

eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IklkVG9rZW5TaWduaW5nS2V5Q29udGFpbmVyIn0.
eyJleHAiOjE0NDIzNjAwMzQsIm5iZiI6MTQ0MjM1NjQzNCwidmVyIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9s
b2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLzc3NTUyN2ZmLTlhMzctNDMwNy04YjNkLWNjMzExZjU4ZDkyNS92
Mi4wLyIsImFjciI6ImIyY18xX3NpZ25faW5fc3RvY2siLCJzdWIiOiJOb3Qgc3VwcG9ydGVkIGN1cnJlbnRs
eS4gVXNlIG9pZCBjbGFpbS4iLCJhdWQiOiI5MGMwZmU2My1iY2YyLTQ0ZDUtOGZiNy1iOGJiYzBiMjlkYzYi
LCJpYXQiOjE0NDIzNTY0MzQsImF1dGhfdGltZSI6MTQ0MjM1NjQzNCwiaWRwIjoiZmFjZWJvb2suY29tIn0.
h-uiKcrT882pSKUtWCpj-_3b3vPs3bOWsESAhPMrL-iIIacKc6_uZrWxaWvIYkLra5czBcGKWrYwrAC8ZvQe
DJWZ50WXQrZYODEW1OUwzaD_I1f1HE0c2uvaWdGXBpDEVdsD3ExKaFlKGjFR2V7F-fPThkVDdKmkUDQX3bVc
yyj2V2nlCQ9jd7aGnokTPfLfpOjuIrTsAdPcGpe5hfSEuwYDmqOJjGs9Jp1f-eSNEiCDQOaTBSvr479L5ptP
XWeQZyX2SypN05Rjr05bjZh3j70ZUimiocfJzjibeoDCaQTz907yAg91WYuFOrQxb-5BaUoR7K-O7vxr2M-_
CQhoFA

```

### <a name="access-tokens"></a><span data-ttu-id="3adf6-140">Erişim belirteçleri</span><span class="sxs-lookup"><span data-stu-id="3adf6-140">Access tokens</span></span>
<span data-ttu-id="3adf6-141">Bir erişim belirteci Ayrıca uygulamanızı hello Azure AD B2C ' aldığı güvenlik belirteci biçimidir `authorize` ve `token` uç noktaları.</span><span class="sxs-lookup"><span data-stu-id="3adf6-141">An access token is also a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="3adf6-142">Erişim belirteçleri ayrıca olarak temsil [Jwt'ler](#types-of-tokens), ve izinleri tooyour API'leri verilen tooidentify hello kullanabileceğiniz talepleri içerir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-142">Access tokens are also represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify hello granted permissions tooyour APIs.</span></span> <span data-ttu-id="3adf6-143">Erişim belirteçleri imzalanmış, ancak şu anda şifrelenmez.</span><span class="sxs-lookup"><span data-stu-id="3adf6-143">Access tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="3adf6-144">Erişim belirteçleri kullanılan tooprovide erişim tooAPIs ve kaynak sunucuları olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-144">Access tokens should be used tooprovide access tooAPIs and resource servers.</span></span> <span data-ttu-id="3adf6-145">Hakkında daha fazla çok bilgi[erişim belirteçleri kullanmak](active-directory-b2c-access-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="3adf6-145">Learn more about how too[use access tokens](active-directory-b2c-access-tokens.md).</span></span> 

<span data-ttu-id="3adf6-146">API'nizi bir erişim belirteci aldığında, gerekir [hello imzayı doğrulamak](#token-validation) belirteci hello tooprove gerçek.</span><span class="sxs-lookup"><span data-stu-id="3adf6-146">When your API receives an access token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="3adf6-147">API'nizi birkaç Taleplerde hello belirteci tooprove geçerli olduğunu da doğrulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-147">Your API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="3adf6-148">Merhaba senaryonun gereksinimlerine bağlı olarak, bir uygulama tarafından doğrulanmış hello talep farklılık gösterebilir, ancak uygulamanızı bazı gerçekleştirmelisiniz [ortak talep doğrulamaları](#token-validation) her senaryoda.</span><span class="sxs-lookup"><span data-stu-id="3adf6-148">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

### <a name="claims-in-id-and-access-tokens"></a><span data-ttu-id="3adf6-149">Kimlik ve erişim belirteçleri talepleri</span><span class="sxs-lookup"><span data-stu-id="3adf6-149">Claims in ID and access tokens</span></span>
<span data-ttu-id="3adf6-150">Azure AD B2C kullandığınızda, belirteçlerinizi Merhaba içeriğine hassas denetime sahip olursunuz.</span><span class="sxs-lookup"><span data-stu-id="3adf6-150">When you use Azure AD B2C, you have fine-grained control over hello content of your tokens.</span></span> <span data-ttu-id="3adf6-151">Yapılandırabileceğiniz [ilkeleri](active-directory-b2c-reference-policies.md) toosend belirli ayarlar, kullanıcı verilerinin taleplerdeki kendi işlemleri için uygulamanızı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-151">You can configure [policies](active-directory-b2c-reference-policies.md) toosend certain sets of user data in claims that your app requires for its operations.</span></span> <span data-ttu-id="3adf6-152">Bu talep hello kullanıcının gibi standart özellikler içerebilir `displayName` ve `emailAddress`.</span><span class="sxs-lookup"><span data-stu-id="3adf6-152">These claims can include standard properties such as hello user's `displayName` and `emailAddress`.</span></span> <span data-ttu-id="3adf6-153">Ayrıca içerebilir [özel kullanıcı öznitelikleri](active-directory-b2c-reference-custom-attr.md) , B2C dizininizde tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3adf6-153">They can also include [custom user attributes](active-directory-b2c-reference-custom-attr.md) that you can define in your B2C directory.</span></span> <span data-ttu-id="3adf6-154">Her kimlik ve erişim aldığınız belirteç talep güvenlikle ilgili belirli bir kümesini içerir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-154">Every ID and access token that you receive contains a certain set of security-related claims.</span></span> <span data-ttu-id="3adf6-155">Uygulamalarınızı toosecurely kullanıcılar ve istekleri kimlik doğrulaması bu talepler kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3adf6-155">Your applications can use these claims toosecurely authenticate users and requests.</span></span>

<span data-ttu-id="3adf6-156">Merhaba talep kimliği belirteçlerinde belirli bir sırada döndürülmez unutmayın.</span><span class="sxs-lookup"><span data-stu-id="3adf6-156">Note that hello claims in ID tokens are not returned in any particular order.</span></span> <span data-ttu-id="3adf6-157">Ayrıca, yeni talep kimliği belirteçleri herhangi bir zamanda tanıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-157">In addition, new claims can be introduced in ID tokens at any time.</span></span> <span data-ttu-id="3adf6-158">Yeni Talep sunulduğu şekilde uygulamanızı parçalara değil.</span><span class="sxs-lookup"><span data-stu-id="3adf6-158">Your app should not break as new claims are introduced.</span></span> <span data-ttu-id="3adf6-159">İşte hello talep tooexist Azure AD B2C tarafından yayınlanan kimliği ve erişim belirteçleri beklenen.</span><span class="sxs-lookup"><span data-stu-id="3adf6-159">Here are hello claims that you expect tooexist in ID and access tokens issued by Azure AD B2C.</span></span> <span data-ttu-id="3adf6-160">Herhangi bir ek talep ilkeleri tarafından belirlenir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-160">Any additional claims are determined by policies.</span></span> <span data-ttu-id="3adf6-161">Uygulama için içine yapıştırarak hello örnek kimliği belirtecini hello Taleplerde inceleniyor deneyin [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="3adf6-161">For practice, try inspecting hello claims in hello sample ID token by pasting it into [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="3adf6-162">Daha ayrıntılı bilgi hello bulunabilir [Openıd Connect belirtimi](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="3adf6-162">Further details can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

| <span data-ttu-id="3adf6-163">Ad</span><span class="sxs-lookup"><span data-stu-id="3adf6-163">Name</span></span> | <span data-ttu-id="3adf6-164">İste</span><span class="sxs-lookup"><span data-stu-id="3adf6-164">Claim</span></span> | <span data-ttu-id="3adf6-165">Örnek değer</span><span class="sxs-lookup"><span data-stu-id="3adf6-165">Example value</span></span> | <span data-ttu-id="3adf6-166">Açıklama</span><span class="sxs-lookup"><span data-stu-id="3adf6-166">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="3adf6-167">Hedef kitle</span><span class="sxs-lookup"><span data-stu-id="3adf6-167">Audience</span></span> |`aud` |`90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6` |<span data-ttu-id="3adf6-168">Bir izleyici talep hello hedeflenen alıcı hello belirtecinin tanımlar.</span><span class="sxs-lookup"><span data-stu-id="3adf6-168">An audience claim identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="3adf6-169">Azure AD B2C için hello İzleyici atanan tooyour uygulama hello uygulama kayıt Portalı'nda, uygulamanızın uygulama kimliği, gibidir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-169">For Azure AD B2C, hello audience is your app's application ID, as assigned tooyour app in hello app registration portal.</span></span> <span data-ttu-id="3adf6-170">Uygulamanız bu değeri doğrulamak ve onu eşleşmiyorsa hello belirteci reddetme gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-170">Your app should validate this value and reject hello token if it does not match.</span></span> |
| <span data-ttu-id="3adf6-171">Veren</span><span class="sxs-lookup"><span data-stu-id="3adf6-171">Issuer</span></span> |`iss` |`https://login.microsoftonline.com/775527ff-9a37-4307-8b3d-cc311f58d925/v2.0/` |<span data-ttu-id="3adf6-172">Bu talep oluşturur ve hello belirteç döndüren hello güvenlik belirteci hizmeti (STS) tanımlar.</span><span class="sxs-lookup"><span data-stu-id="3adf6-172">This claim identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="3adf6-173">Ayrıca, hangi hello kullanıcı kimlik doğrulamasının yapıldığı hello Azure AD dizini tanımlar.</span><span class="sxs-lookup"><span data-stu-id="3adf6-173">It also identifies hello Azure AD directory in which hello user was authenticated.</span></span> <span data-ttu-id="3adf6-174">Uygulamanızı hello verenin talep belirteci hello tooensure hello Azure Active Directory v2.0 uç noktasından gelen doğrulamalıdır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-174">Your app should validate hello issuer claim tooensure that hello token came from hello Azure Active Directory v2.0 endpoint.</span></span> |
| <span data-ttu-id="3adf6-175">çıkışı</span><span class="sxs-lookup"><span data-stu-id="3adf6-175">Issued at</span></span> |`iat` |`1438535543` |<span data-ttu-id="3adf6-176">Bu talep sırasında hangi hello belirteci, dönem saatle gösterilir verilmiş hello saattir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-176">This claim is hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="3adf6-177">süre sonu</span><span class="sxs-lookup"><span data-stu-id="3adf6-177">Expiration time</span></span> |`exp` |`1438539443` |<span data-ttu-id="3adf6-178">Merhaba sona erme saati talep sırasında hangi hello belirteç olur geçersiz, dönem zaman gösterilen hello saattir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-178">hello expiration time claim is hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="3adf6-179">Uygulamanızı hello belirteç ömrü bu talep tooverify hello geçerliliğini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-179">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="3adf6-180">önce değil</span><span class="sxs-lookup"><span data-stu-id="3adf6-180">Not before</span></span> |`nbf` |`1438535543` |<span data-ttu-id="3adf6-181">Bu talep sırasında hangi hello belirteç olur geçerli, dönem zaman gösterilen hello saattir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-181">This claim is hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="3adf6-182">Bu olduğundan genellikle hello aynı hello zaman hello belirteci verildiğinde.</span><span class="sxs-lookup"><span data-stu-id="3adf6-182">This is usually hello same as hello time hello token was issued.</span></span> <span data-ttu-id="3adf6-183">Uygulamanızı hello belirteç ömrü bu talep tooverify hello geçerliliğini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-183">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="3adf6-184">Sürüm</span><span class="sxs-lookup"><span data-stu-id="3adf6-184">Version</span></span> |`ver` |`1.0` |<span data-ttu-id="3adf6-185">Bu hello hello kimliği belirteci, Azure AD tarafından tanımlandığı şekilde sürümüdür.</span><span class="sxs-lookup"><span data-stu-id="3adf6-185">This is hello version of hello ID token, as defined by Azure AD.</span></span> |
| <span data-ttu-id="3adf6-186">kod karma</span><span class="sxs-lookup"><span data-stu-id="3adf6-186">Code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="3adf6-187">Yalnızca hello belirteci ile birlikte bir OAuth 2.0 yetkilendirme kodu verildiğinde bir kod karma bir kimlik belirtecinde dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-187">A code hash is included in an ID token only when hello token is issued together with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="3adf6-188">Kod karma bir kimlik doğrulama kodu kullanılan toovalidate hello özgünlüğünü olabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-188">A code hash can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="3adf6-189">Konusunda daha fazla ayrıntı için tooperform bu doğrulama hello bkz [Openıd Connect belirtimi](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="3adf6-189">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>  |
| <span data-ttu-id="3adf6-190">erişim belirteci karma</span><span class="sxs-lookup"><span data-stu-id="3adf6-190">Access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="3adf6-191">Yalnızca hello belirteci ile birlikte bir OAuth 2.0 erişim belirteci verildiğinde bir erişim belirteci karma bir kimlik belirtecinde dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-191">An access token hash is included in an ID token only when hello token is issued together with an OAuth 2.0 access token.</span></span> <span data-ttu-id="3adf6-192">Bir erişim belirteci karma bir erişim belirteci kullanılan toovalidate hello özgünlüğünü olabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-192">An access token hash can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="3adf6-193">Konusunda daha fazla ayrıntı için tooperform bu doğrulama hello bkz [Openıd Connect belirtimi](http://openid.net/specs/openid-connect-core-1_0.html)</span><span class="sxs-lookup"><span data-stu-id="3adf6-193">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html)</span></span>  |
| <span data-ttu-id="3adf6-194">nonce</span><span class="sxs-lookup"><span data-stu-id="3adf6-194">Nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="3adf6-195">Nonce bir strateji toomitigate belirteç yeniden yürütme saldırılarını kullanılır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-195">A nonce is a strategy used toomitigate token replay attacks.</span></span> <span data-ttu-id="3adf6-196">Uygulamanızı bir nonce bir yetkilendirme isteği hello kullanarak belirtebilirsiniz `nonce` sorgu parametresi.</span><span class="sxs-lookup"><span data-stu-id="3adf6-196">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="3adf6-197">Merhaba istekte sağladığınız hello değeri yayılan hello değiştirilmemiş `nonce` yalnızca bir kimliği belirtecini talep.</span><span class="sxs-lookup"><span data-stu-id="3adf6-197">hello value you provide in hello request will be emitted unmodified in hello `nonce` claim of an ID token only.</span></span> <span data-ttu-id="3adf6-198">Bu, uygulama tooverify hello değeri hello uygulamanın oturumunu belirli bir kimliği belirteciyle ilişkilendirir hello isteğinde belirtilen hello değeri karşı sağlar.</span><span class="sxs-lookup"><span data-stu-id="3adf6-198">This allows your app tooverify hello value against hello value it specified on hello request, which associates hello app's session with a given ID token.</span></span> <span data-ttu-id="3adf6-199">Uygulamanızı hello kimliği belirteci doğrulama işlemi sırasında bu doğrulama gerçekleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-199">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="3adf6-200">Konu</span><span class="sxs-lookup"><span data-stu-id="3adf6-200">Subject</span></span> |`sub` |`884408e1-2918-4cz0-b12d-3aa027d7563b` |<span data-ttu-id="3adf6-201">Hangi hello hakkında hello kullanıcı, bir uygulamanın gibi bilgileri belirteci onaylar hello asıl budur.</span><span class="sxs-lookup"><span data-stu-id="3adf6-201">This is hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="3adf6-202">Bu değer sabittir ve yeniden atandığında yeniden ya da silinemez.</span><span class="sxs-lookup"><span data-stu-id="3adf6-202">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="3adf6-203">Merhaba belirteci kullanılan tooaccess bir kaynak olduğunda gibi bu kullanılan tooperform yetkilendirme denetimleri güvenli bir biçimde olabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-203">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource.</span></span> <span data-ttu-id="3adf6-204">Varsayılan olarak, hello konu talep hello dizininde hello kullanıcı hello nesne kimliği ile doldurulur.</span><span class="sxs-lookup"><span data-stu-id="3adf6-204">By default, hello subject claim is populated with hello object ID of hello user in hello directory.</span></span> <span data-ttu-id="3adf6-205">toolearn daha, fazla [Azure Active Directory B2C: belirteci, oturum ve tek oturum açma yapılandırması](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="3adf6-205">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="3adf6-206">Kimlik doğrulama bağlamı sınıf başvurusu</span><span class="sxs-lookup"><span data-stu-id="3adf6-206">Authentication context class reference</span></span> |`acr` |<span data-ttu-id="3adf6-207">Uygulanamaz</span><span class="sxs-lookup"><span data-stu-id="3adf6-207">Not applicable</span></span> |<span data-ttu-id="3adf6-208">Şu anda kullanılmayan, hariç eski ilkeleri hello durumda.</span><span class="sxs-lookup"><span data-stu-id="3adf6-208">Not used currently, except in hello case of older policies.</span></span> <span data-ttu-id="3adf6-209">toolearn daha, fazla [Azure Active Directory B2C: belirteci, oturum ve tek oturum açma yapılandırması](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="3adf6-209">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="3adf6-210">Güven Framework İlkesi</span><span class="sxs-lookup"><span data-stu-id="3adf6-210">Trust framework policy</span></span> |`tfp` |`b2c_1_sign_in` |<span data-ttu-id="3adf6-211">Bu hello kullanılan tooacquire hello kimliği belirteci olan hello İlkesi adıdır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-211">This is hello name of hello policy that was used tooacquire hello ID token.</span></span> |
| <span data-ttu-id="3adf6-212">Kimlik doğrulama süresi</span><span class="sxs-lookup"><span data-stu-id="3adf6-212">Authentication time</span></span> |`auth_time` |`1438535543` |<span data-ttu-id="3adf6-213">Bu talep bir kullanıcı son girilen kimlik bilgileri, dönem zamanında temsil hello saattir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-213">This claim is hello time at which a user last entered credentials, represented in epoch time.</span></span> |

### <a name="refresh-tokens"></a><span data-ttu-id="3adf6-214">Yenileme belirteçlerini</span><span class="sxs-lookup"><span data-stu-id="3adf6-214">Refresh tokens</span></span>
<span data-ttu-id="3adf6-215">Yenileme belirteçleri olan uygulamanızı tooacquire yeni kimliği belirteçleri kullanın ve erişim belirteçleri bir OAuth 2.0 akışı güvenlik belirteçleri.</span><span class="sxs-lookup"><span data-stu-id="3adf6-215">Refresh tokens are security tokens that your app can use tooacquire new ID tokens and access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="3adf6-216">Uygulamanız ile uzun vadeli erişim tooresources kullanıcıların adına kullanıcılarla ile etkileşimi gerektirmeden sağlarlar.</span><span class="sxs-lookup"><span data-stu-id="3adf6-216">They provide your app with long-term access tooresources on behalf of users without requiring interaction with those users.</span></span>

<span data-ttu-id="3adf6-217">bir yenileme belirteci bir belirteç yanıt tooreceive, uygulamanızı istemeniz gerekir hello `offline_acesss` kapsam.</span><span class="sxs-lookup"><span data-stu-id="3adf6-217">tooreceive a refresh token in a token response, your app must request hello `offline_acesss` scope.</span></span> <span data-ttu-id="3adf6-218">Merhaba hakkında daha fazla toolearn `offline_access` kapsam, toohello başvuran [Azure AD B2C Protokolü başvurusu](active-directory-b2c-reference-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="3adf6-218">toolearn more about hello `offline_access` scope, refer toohello [Azure AD B2C protocol reference](active-directory-b2c-reference-protocols.md).</span></span>

<span data-ttu-id="3adf6-219">Yenileme belirteçlerini olan ve her zaman olacak, tamamen opak tooyour uygulama.</span><span class="sxs-lookup"><span data-stu-id="3adf6-219">Refresh tokens are, and will always be, completely opaque tooyour app.</span></span> <span data-ttu-id="3adf6-220">Bunlar Azure AD tarafından verilen ve Denetlenmekte ve yalnızca Azure AD tarafından yorumlanır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-220">They are issued by Azure AD and can be inspected and interpreted only by Azure AD.</span></span> <span data-ttu-id="3adf6-221">Uzun süreli, ancak bir yenileme belirteci belirli bir döneme ait en son hello beklentisi ile uygulamanızı yazılmamalıysa.</span><span class="sxs-lookup"><span data-stu-id="3adf6-221">They are long-lived, but your app should not be written with hello expectation that a refresh token will last for a specific period of time.</span></span> <span data-ttu-id="3adf6-222">Çeşitli nedenlerle için herhangi bir anda yenileme belirteçleri geçersiz olabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-222">Refresh tokens can be invalidated at any moment for a variety of reasons.</span></span> <span data-ttu-id="3adf6-223">bir yenileme belirteci geçerliyse, uygulama tooknow tooattempt tooredeem yoldur yalnızca Merhaba, belirteç isteği tooAzure AD yaparak.</span><span class="sxs-lookup"><span data-stu-id="3adf6-223">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD.</span></span>

<span data-ttu-id="3adf6-224">Bir yenileme belirteci için yeni bir belirteç almak zaman (ve uygulamanızı hello verilirse `offline_access` kapsam), hello belirteci yanıt olarak yeni bir yenileme belirteci alırsınız.</span><span class="sxs-lookup"><span data-stu-id="3adf6-224">When you redeem a refresh token for a new token (and if your app has been granted hello `offline_access` scope), you will receive a new refresh token in hello token response.</span></span> <span data-ttu-id="3adf6-225">Yeni verilen hello yenileme belirteci kaydetmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-225">You should save hello newly issued refresh token.</span></span> <span data-ttu-id="3adf6-226">Daha önce hello istekte kullanılan hello yenileme belirteci değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-226">It should replace hello refresh token you previously used in hello request.</span></span> <span data-ttu-id="3adf6-227">Bu, yenileme belirteçleri mümkün olduğunca uzun bir süre geçerli kalacağını garanti yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="3adf6-227">This helps guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="token-validation"></a><span data-ttu-id="3adf6-228">Belirteç doğrulama</span><span class="sxs-lookup"><span data-stu-id="3adf6-228">Token validation</span></span>
<span data-ttu-id="3adf6-229">toovalidate bir belirteci, uygulamanızı hello imza ve hello belirteci taleplerini kontrol etmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-229">toovalidate a token, your app should check both hello signature and claims of hello token.</span></span>

<span data-ttu-id="3adf6-230">Birçok açık kaynak kitaplıkları Jwt'ler, tercih ettiğiniz dili bağlı olarak doğrulamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-230">Many open source libraries are available for validating JWTs, depending on your preferred language.</span></span> <span data-ttu-id="3adf6-231">Bu seçenek keşfetmek yerine kendi doğrulama mantığını uygulamak öneririz.</span><span class="sxs-lookup"><span data-stu-id="3adf6-231">We recommend that you explore those options rather than implement your own validation logic.</span></span> <span data-ttu-id="3adf6-232">Bu kılavuzdaki Hello bilgilerini tooproperly bu kitaplıklarını nasıl kullanacağınızı öğrenin yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-232">hello information in this guide can help you learn how tooproperly use those libraries.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="3adf6-233">Merhaba imza doğrulama</span><span class="sxs-lookup"><span data-stu-id="3adf6-233">Validate hello signature</span></span>
<span data-ttu-id="3adf6-234">JWT'nin hello tarafından ayrılmış üç parçaları içeren `.` karakter.</span><span class="sxs-lookup"><span data-stu-id="3adf6-234">A JWT contains three segments, separated by hello `.` character.</span></span> <span data-ttu-id="3adf6-235">Merhaba ilk kesimi ise hello *üstbilgi*, hello ikinci hello olan *gövde*, ve hello üçüncü hello *imza*.</span><span class="sxs-lookup"><span data-stu-id="3adf6-235">hello first segment is hello *header*, hello second is hello *body*, and hello third is hello *signature*.</span></span> <span data-ttu-id="3adf6-236">Böylece, uygulamanız tarafından güvenilen hello imza segment kullanılan toovalidate hello hello belirteci özgünlüğünü olabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-236">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="3adf6-237">Azure AD B2C belirteç RSA 256 gibi endüstri standardı asimetrik şifreleme algoritmaları kullanılarak imzalanmıştır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-237">Azure AD B2C tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="3adf6-238">Merhaba belirteci Hello üstbilgisi hello anahtarı hakkında bilgi içerir ve toosign hello belirteç şifreleme yöntemi kullanılır:</span><span class="sxs-lookup"><span data-stu-id="3adf6-238">hello header of hello token contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
        "typ": "JWT",
        "alg": "RS256",
        "kid": "GvnPApfWMdLRi8PDmisFn7bprKg"
}
```

<span data-ttu-id="3adf6-239">Merhaba `alg` talep kullanılan toosign hello belirteci olan hello algoritmasını belirtir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-239">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="3adf6-240">Merhaba `kid` talep kullanılan toosign hello belirteci olan hello belirli ortak anahtarı gösterir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-240">hello `kid` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="3adf6-241">Belirli bir zamanda, Azure AD belirli bir genel-özel anahtar çiftleri kümesini herhangi birini kullanarak bir belirteç oturum açabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3adf6-241">At any given time, Azure AD can sign a token by using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="3adf6-242">Uygulamanız bu anahtarı otomatik olarak değiştirir toohandle yazılması gereken şekilde azure AD hello olası anahtarlar kümesi, düzenli aralıklarla döndürür.</span><span class="sxs-lookup"><span data-stu-id="3adf6-242">Azure AD rotates hello possible set of keys periodically, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="3adf6-243">Azure AD tarafından kullanılan güncelleştirmeleri toohello ortak anahtarları için makul sıklığı toocheck her 24 saattir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-243">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="3adf6-244">Azure AD B2C Openıd Connect meta veri son nokta vardır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-244">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="3adf6-245">Bu uygulamalar çalışma zamanında Azure AD B2C hakkında toofetch bilgi sağlar.</span><span class="sxs-lookup"><span data-stu-id="3adf6-245">This allows apps toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="3adf6-246">Bu bilgiler, uç noktaları, belirteç içerikleri ve belirteç imzalama anahtarları içerir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-246">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="3adf6-247">Her ilke için bir JSON meta veri belgesi, B2C dizini içerir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-247">Your B2C directory contains a JSON metadata document for each policy.</span></span> <span data-ttu-id="3adf6-248">Örneğin, hello meta veri belgesi hello için `b2c_1_sign_in` ilkesinde `fabrikamb2c.onmicrosoft.com` bulunur:</span><span class="sxs-lookup"><span data-stu-id="3adf6-248">For example, hello metadata document for hello `b2c_1_sign_in` policy in  `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in
```

<span data-ttu-id="3adf6-249">`fabrikamb2c.onmicrosoft.com`olan hello B2C dizini kullanılan tooauthenticate hello kullanıcı ve `b2c_1_sign_in` olduğu hello İlkesi tooacquire hello belirteci kullanılır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-249">`fabrikamb2c.onmicrosoft.com` is hello B2C directory used tooauthenticate hello user, and `b2c_1_sign_in` is hello policy used tooacquire hello token.</span></span> <span data-ttu-id="3adf6-250">hangi ilke kullanılan toosign bir belirteç olan (ve burada toogo toofetch hello meta veriler), toodetermine iki seçeneğiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-250">toodetermine which policy was used toosign a token (and where toogo toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="3adf6-251">Hello ilkesi adı hello ilk olarak dahil `acr` hello belirteçte talep.</span><span class="sxs-lookup"><span data-stu-id="3adf6-251">First, hello policy name is included in hello `acr` claim in hello token.</span></span> <span data-ttu-id="3adf6-252">Merhaba JWT hello gövdesi base-64 kod çözme hello gövde tarafından dışında talep ayrıştırabilir ve hello seri durumdan JSON dize sonucu.</span><span class="sxs-lookup"><span data-stu-id="3adf6-252">You can parse claims out of hello body of hello JWT by base-64 decoding hello body and deserializing hello JSON string that results.</span></span> <span data-ttu-id="3adf6-253">Merhaba `acr` talep kullanılan tooissue hello belirteci olan hello İlkesi hello adı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-253">hello `acr` claim will be hello name of hello policy that was used tooissue hello token.</span></span>  <span data-ttu-id="3adf6-254">Diğer seçeneğiniz tooencode hello hello hello değeri ilkedir `state` sorun hello istek ve hangi ilke kullanıldı toodetermine kod çözme parametresi.</span><span class="sxs-lookup"><span data-stu-id="3adf6-254">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="3adf6-255">Her iki yöntem geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="3adf6-255">Either method is valid.</span></span>

<span data-ttu-id="3adf6-256">Merhaba meta veri belgesi birkaç yararlı bilgi parçalarını içeren bir JSON nesnesidir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-256">hello metadata document is a JSON object that contains several useful pieces of information.</span></span> <span data-ttu-id="3adf6-257">Bunlar hello uç noktaları gerekli tooperform Openıd Connect kimlik doğrulama hello konumunu içerir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-257">These include hello location of hello endpoints required tooperform OpenID Connect authentication.</span></span> <span data-ttu-id="3adf6-258">Ayrıca içerirler `jwks_uri`, kullanılan toosign belirteçleri ortak anahtarları hello kümesi hello konumunu sağlar.</span><span class="sxs-lookup"><span data-stu-id="3adf6-258">They also include `jwks_uri`, which gives hello location of hello set of public keys that are used toosign tokens.</span></span> <span data-ttu-id="3adf6-259">Bu konum burada sağlanan, ancak bunu en iyi toofetch hello konumu dinamik olarak hello meta veri belgesi kullanarak ve çıkışı ayrıştırma `jwks_uri`:</span><span class="sxs-lookup"><span data-stu-id="3adf6-259">That location is provided here, but it is best toofetch hello location dynamically by using hello metadata document and parsing out `jwks_uri`:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in
```

<span data-ttu-id="3adf6-260">Bu URL'de bulunan hello JSON belgesi tüm hello belirli bir anda kullanımda ortak anahtar bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-260">hello JSON document located at this URL contains all hello public key information in use at a particular moment.</span></span> <span data-ttu-id="3adf6-261">Uygulamanızı hello kullanabilirsiniz `kid` anahtarında hello JWT üstbilgi tooselect hello ortak kullanılan toosign hello JSON belgesinde belirli bir belirteç talep.</span><span class="sxs-lookup"><span data-stu-id="3adf6-261">Your app can use hello `kid` claim in hello JWT header tooselect hello public key in hello JSON document that is used toosign a particular token.</span></span> <span data-ttu-id="3adf6-262">Merhaba doğru ortak anahtar ve hello belirtilen algoritma kullanarak bunu imza doğrulaması daha sonra gerçekleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3adf6-262">It can then perform signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="3adf6-263">Bu belgenin dış hello kapsamı tooperform imza doğrulaması nasıl olduğunu açıklaması.</span><span class="sxs-lookup"><span data-stu-id="3adf6-263">A description of how tooperform signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="3adf6-264">Birçok açık kaynak kitaplıkları kullanılabilir toohelp, bu, ihtiyacınız olan.</span><span class="sxs-lookup"><span data-stu-id="3adf6-264">Many open source libraries are available toohelp you with this if you need it.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="3adf6-265">Merhaba talep doğrula</span><span class="sxs-lookup"><span data-stu-id="3adf6-265">Validate hello claims</span></span>
<span data-ttu-id="3adf6-266">Uygulamanızı veya API kimliği belirteci aldığında, bunu hello talep karşı bazı denetimleri hello kimliği belirteçte gerçekleştirmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="3adf6-266">When your app or API receives an ID token, it should also perform several checks against hello claims in hello ID token.</span></span> <span data-ttu-id="3adf6-267">Bunlar arasında ancak bunlarla sınırlı değildir:</span><span class="sxs-lookup"><span data-stu-id="3adf6-267">These include, but are not limited to:</span></span>

* <span data-ttu-id="3adf6-268">Merhaba **İzleyici** talep: Bu hello kimliği belirtecini edildi tooyour uygulama verilen hedeflenen toobe doğrular.</span><span class="sxs-lookup"><span data-stu-id="3adf6-268">hello **audience** claim: This verifies that hello ID token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="3adf6-269">Merhaba **önce değil** ve **süre sonu** talep: Bunlar hello kimliği belirtecini süresi sona doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="3adf6-269">hello **not before** and **expiration time** claims: These verify that hello ID token has not expired.</span></span>
* <span data-ttu-id="3adf6-270">Merhaba **veren** talep: Bu hello belirtecini Azure AD tarafından tooyour uygulama yayımlandığında doğrular.</span><span class="sxs-lookup"><span data-stu-id="3adf6-270">hello **issuer** claim: This verifies that hello token was issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="3adf6-271">Merhaba **nonce**: belirteç yeniden yürütme saldırı azaltma için bir strateji budur.</span><span class="sxs-lookup"><span data-stu-id="3adf6-271">hello **nonce**: This is a strategy for token replay attack mitigation.</span></span>

<span data-ttu-id="3adf6-272">Uygulamanızı gerçekleştirmesi gerektiğini doğrulamaları tam bir listesi için toohello bakın [Openıd Connect belirtimi](https://openid.net).</span><span class="sxs-lookup"><span data-stu-id="3adf6-272">For a full list of validations your app should perform, refer toohello [OpenID Connect specification](https://openid.net).</span></span> <span data-ttu-id="3adf6-273">Bu talep için hello beklenen değerler ayrıntılarını hello önceki dahil [belirteci bölüm](#types-of-tokens).</span><span class="sxs-lookup"><span data-stu-id="3adf6-273">Details of hello expected values for these claims are included in hello preceding [token section](#types-of-tokens).</span></span>  

## <a name="token-lifetimes"></a><span data-ttu-id="3adf6-274">Belirteç yaşam süresi</span><span class="sxs-lookup"><span data-stu-id="3adf6-274">Token lifetimes</span></span>
<span data-ttu-id="3adf6-275">belirteç yaşam süreleri aşağıdaki hello olan toofurther bilginiz sağlanan.</span><span class="sxs-lookup"><span data-stu-id="3adf6-275">hello following token lifetimes are provided toofurther your knowledge.</span></span> <span data-ttu-id="3adf6-276">Geliştirme ve hata ayıklama uygulamaları bunlar yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-276">They can help you when you develop and debug apps.</span></span> <span data-ttu-id="3adf6-277">Uygulamalarınızı olmamalıdır Not tooexpect bu yaşam süreleri tooremain sabiti hiçbirini yazılır.</span><span class="sxs-lookup"><span data-stu-id="3adf6-277">Note that your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="3adf6-278">Bunlar olabilir ve değiştirir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-278">They can and will change.</span></span> <span data-ttu-id="3adf6-279">Merhaba hakkında daha fazla bilgiyi [belirteci yaşam süreleri özelleştirmesini](active-directory-b2c-token-session-sso.md) Azure AD B2C'de.</span><span class="sxs-lookup"><span data-stu-id="3adf6-279">Read more about hello [customization of token lifetimes](active-directory-b2c-token-session-sso.md) in Azure AD B2C.</span></span>

| <span data-ttu-id="3adf6-280">Belirteç</span><span class="sxs-lookup"><span data-stu-id="3adf6-280">Token</span></span> | <span data-ttu-id="3adf6-281">Yaşam süresi</span><span class="sxs-lookup"><span data-stu-id="3adf6-281">Lifetime</span></span> | <span data-ttu-id="3adf6-282">Açıklama</span><span class="sxs-lookup"><span data-stu-id="3adf6-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3adf6-283">Kimliği belirteçleri</span><span class="sxs-lookup"><span data-stu-id="3adf6-283">ID tokens</span></span> |<span data-ttu-id="3adf6-284">Bir saat</span><span class="sxs-lookup"><span data-stu-id="3adf6-284">One hour</span></span> |<span data-ttu-id="3adf6-285">Kimlik belirteçlerini bir saat için genellikle geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-285">ID tokens are typically valid for an hour.</span></span> <span data-ttu-id="3adf6-286">Web uygulamanızın bu ömrü toomaintain kullanabilirsiniz (önerilen) kullanıcılar kendi oturumları.</span><span class="sxs-lookup"><span data-stu-id="3adf6-286">Your web app can use this lifetime toomaintain its own sessions with users (recommended).</span></span> <span data-ttu-id="3adf6-287">Ayrıca, farklı oturum yaşam süresi seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3adf6-287">You can also choose a different session lifetime.</span></span> <span data-ttu-id="3adf6-288">Uygulamanızı tooget yeni bir kimliği belirteci gerekirse, yeni bir oturum açma isteği tooAzure AD yalnızca toomake gerekir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-288">If your app needs tooget a new ID token, it simply needs toomake a new sign-in request tooAzure AD.</span></span> <span data-ttu-id="3adf6-289">Geçerli tarayıcı oturumu Azure AD ile bir kullanıcı varsa, o kullanıcı gerekli tooenter kimlik bilgilerini yeniden olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-289">If a user has a valid browser session with Azure AD, that user might not be required tooenter credentials again.</span></span> |
| <span data-ttu-id="3adf6-290">Yenileme belirteçlerini</span><span class="sxs-lookup"><span data-stu-id="3adf6-290">Refresh tokens</span></span> |<span data-ttu-id="3adf6-291">Too14 günleri</span><span class="sxs-lookup"><span data-stu-id="3adf6-291">Up too14 days</span></span> |<span data-ttu-id="3adf6-292">Bir tek yenileme belirteci 14 gün sayısı için geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="3adf6-292">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="3adf6-293">Ancak, bir yenileme belirteci pek çok zaman geçersiz hale gelebilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-293">However, a refresh token can become invalid at any time for a number of reasons.</span></span> <span data-ttu-id="3adf6-294">Uygulamanızı tootry toouse bir yenileme belirteci hello isteği başarısız kadar veya uygulamanızın hello yenileme belirteci ile yeni bir tane değiştirir kadar devam etmelidir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-294">Your app should continue tootry toouse a refresh token until hello request fails, or until your app replaces hello refresh token with a new one.</span></span> <span data-ttu-id="3adf6-295">Bir yenileme belirteci hello kullanıcı son girilen kimlik bilgileri üzerinden 90 gün geçtiğinde, geçersiz olabilir.</span><span class="sxs-lookup"><span data-stu-id="3adf6-295">A refresh token can also become invalid if 90 days have passed since hello user last entered credentials.</span></span> |
| <span data-ttu-id="3adf6-296">Yetkilendirme kodları</span><span class="sxs-lookup"><span data-stu-id="3adf6-296">Authorization codes</span></span> |<span data-ttu-id="3adf6-297">Beş dakika</span><span class="sxs-lookup"><span data-stu-id="3adf6-297">Five minutes</span></span> |<span data-ttu-id="3adf6-298">Yetkilendirme kodları bilerek ömürlüdür.</span><span class="sxs-lookup"><span data-stu-id="3adf6-298">Authorization codes are intentionally short-lived.</span></span> <span data-ttu-id="3adf6-299">Bunlar alındığında bunlar hemen erişim belirteçleri, kimlik belirteçlerini veya yenileme belirteçleri için kullanılan.</span><span class="sxs-lookup"><span data-stu-id="3adf6-299">They should be redeemed immediately for access tokens, ID tokens, or refresh tokens when they are received.</span></span> |

