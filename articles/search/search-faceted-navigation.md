---
title: "Azure Search'te aaaHow tooimplement çok yönlü gezinme | Microsoft Docs"
description: "Azure Search, Microsoft Azure üzerinde barındırılan bulut arama hizmeti ile tümleştirmek modellenmiş bir gezinmede tooapplications ekleyin."
services: search
documentationcenter: 
author: HeidiSteen
manager: mblythe
editor: 
ms.assetid: cdf98fd4-63fd-4b50-b0b0-835cb08ad4d3
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 3/10/2017
ms.author: heidist
ms.openlocfilehash: c1e6bf9dc55d0044525db79e37d35a50ded5a736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooimplement-faceted-navigation-in-azure-search"></a><span data-ttu-id="785be-103">Nasıl modellenmiş bir gezinmede tooimplement Azure Search'te</span><span class="sxs-lookup"><span data-stu-id="785be-103">How tooimplement faceted navigation in Azure Search</span></span>
<span data-ttu-id="785be-104">Modellenmiş bir gezinmede arama uygulamaları kendi kendine yönlendirilmiş ayrıntıya gitme gezinti sağlayan bir filtreleme mekanizması ' dir.</span><span class="sxs-lookup"><span data-stu-id="785be-104">Faceted navigation is a filtering mechanism that provides self-directed drilldown navigation in search applications.</span></span> <span data-ttu-id="785be-105">Merhaba terim 'modellenmiş bir gezinmede' tanınmayan olabilir, ancak büyük olasılıkla daha önce kullanılmış.</span><span class="sxs-lookup"><span data-stu-id="785be-105">hello term 'faceted navigation' may be unfamiliar, but you've probably used it before.</span></span> <span data-ttu-id="785be-106">Aşağıdaki örnekte gösterildiği hello modellenmiş bir gezinmede hello kullanılan kategorileri toofilter sonuçları'den fazla bir şey değildir.</span><span class="sxs-lookup"><span data-stu-id="785be-106">As hello following example shows, faceted navigation is nothing more than hello categories used toofilter results.</span></span>

 ![Azure arama iş Portal Tanıtımı][1]

<span data-ttu-id="785be-108">Modellenmiş bir gezinmede bir alternatif giriş noktası toosearch ' dir.</span><span class="sxs-lookup"><span data-stu-id="785be-108">Faceted navigation is an alternative entry point toosearch.</span></span> <span data-ttu-id="785be-109">El ile karmaşık arama ifadeleri uygun bir alternatif tootyping sunar.</span><span class="sxs-lookup"><span data-stu-id="785be-109">It offers a convenient alternative tootyping complex search expressions by hand.</span></span> <span data-ttu-id="785be-110">Modelleri için sıfır sonuçları almadım sağlarken aradığınızı bulmanıza yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="785be-110">Facets can help you find what you're looking for, while ensuring that you don’t get zero results.</span></span> <span data-ttu-id="785be-111">Bir geliştirici olarak modelleri, arama gövde gezinme hello en yararlı arama ölçütlerini kullanıma olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="785be-111">As a developer, facets let you expose hello most useful search criteria for navigating your search corpus.</span></span> <span data-ttu-id="785be-112">Çevrimiçi perakende uygulamalarda modellenmiş bir gezinmede genellikle markalar, Departmanlar (çocuk yerine), boyutu, fiyat, popülerliği ve derecelendirmeleri üzerinde oluşturulmuştur.</span><span class="sxs-lookup"><span data-stu-id="785be-112">In online retail applications, faceted navigation is often built over brands, departments (kid’s shoes), size, price, popularity, and ratings.</span></span> 

<span data-ttu-id="785be-113">Modellenmiş bir gezinmede uygulama arama teknolojileri arasında farklılık gösterir.</span><span class="sxs-lookup"><span data-stu-id="785be-113">Implementing faceted navigation differs across search technologies.</span></span> <span data-ttu-id="785be-114">Azure Search'te modellenmiş bir gezinmede sorgu zamanında, şemada daha önce öznitelikli alanları kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="785be-114">In Azure Search, faceted navigation is built at query time, using fields that you previously attributed in your schema.</span></span>

-   <span data-ttu-id="785be-115">Bir sorgu göndermelidir uygulamanızı derlemeler hello sorgularda *modeli sorgu parametreleri* tooget hello kullanılabilir modeli filtre değerleri bu belge için sonuç.</span><span class="sxs-lookup"><span data-stu-id="785be-115">In hello queries that your application builds, a query must send *facet query parameters* tooget hello available facet filter values for that document result set.</span></span>

-   <span data-ttu-id="785be-116">tooactually kırpma hello belge sonuç kümesi, Merhaba uygulaması da uygulamalısınız bir `$filter` ifade.</span><span class="sxs-lookup"><span data-stu-id="785be-116">tooactually trim hello document result set, hello application must also apply a `$filter` expression.</span></span>

<span data-ttu-id="785be-117">Uygulama geliştirme hello toplu hello iş sorguları yapıları kod yazma meydana gelir.</span><span class="sxs-lookup"><span data-stu-id="785be-117">In your application development, writing code that constructs queries constitutes hello bulk of hello work.</span></span> <span data-ttu-id="785be-118">Birçok modellenmiş Gezinti bölmesinden beklediğiniz hello uygulama davranışları aralıkları tanımlama ve sayıları için model sonuçları alma için yerleşik destek dahil olmak üzere hello hizmeti tarafından sağlanır.</span><span class="sxs-lookup"><span data-stu-id="785be-118">Many of hello application behaviors that you would expect from faceted navigation are provided by hello service, including built-in support for defining ranges and getting counts for facet results.</span></span> <span data-ttu-id="785be-119">Merhaba hizmeti de yardımcı duyarlı Varsayılanları içerir yönetilmeleri Gezinti yapıları kaçının.</span><span class="sxs-lookup"><span data-stu-id="785be-119">hello service also includes sensible defaults that help you avoid unwieldy navigation structures.</span></span> 

## <a name="sample-code-and-demo"></a><span data-ttu-id="785be-120">Örnek kod ve tanıtım</span><span class="sxs-lookup"><span data-stu-id="785be-120">Sample code and demo</span></span>
<span data-ttu-id="785be-121">Bu makalede örnek olarak bir iş arama portal kullanır.</span><span class="sxs-lookup"><span data-stu-id="785be-121">This article uses a job search portal as an example.</span></span> <span data-ttu-id="785be-122">Merhaba örnek bir ASP.NET MVC uygulaması uygulanır.</span><span class="sxs-lookup"><span data-stu-id="785be-122">hello example is implemented as an ASP.NET MVC application.</span></span>

-   <span data-ttu-id="785be-123">Bakın ve test hello çalışma demo çevrimiçi adresindeki [Azure arama proje portalı Demo](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="785be-123">See and test hello working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="785be-124">Merhaba kodu hello indirme [Azure-Samples bağlantıların github'da](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="785be-124">Download hello code from hello [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

## <a name="get-started"></a><span data-ttu-id="785be-125">başlarken</span><span class="sxs-lookup"><span data-stu-id="785be-125">Get started</span></span>
<span data-ttu-id="785be-126">Yeni toosearch geliştirme yapıyorsanız, kendi kendine yönlendirilmiş arama hello olasılıklarını gösterir hello en iyi şekilde toothink modellenmiş Gezinti olur.</span><span class="sxs-lookup"><span data-stu-id="785be-126">If you're new toosearch development, hello best way toothink of faceted navigation is that it shows hello possibilities for self-directed search.</span></span> <span data-ttu-id="785be-127">Önceden tanımlanmış filtreleri, hızlı bir şekilde arama sonuçları noktası tıklatın eylemler arasında aşağı daraltmak için kullanılan temel alarak ayrıntıya arama deneyimi türüdür.</span><span class="sxs-lookup"><span data-stu-id="785be-127">It’s a type of drill-down search experience, based on predefined filters, used for quickly narrowing down search results through point-and-click actions.</span></span> 

### <a name="interaction-model"></a><span data-ttu-id="785be-128">Etkileşim modeli</span><span class="sxs-lookup"><span data-stu-id="785be-128">Interaction model</span></span>

<span data-ttu-id="785be-129">Merhaba arama deneyimi modellenmiş gezinmesine sağlandığından yanıt toouser Eylemler unfold sorguları bir dizi olarak anlayarak Başlat yinelemelidir.</span><span class="sxs-lookup"><span data-stu-id="785be-129">hello search experience for faceted navigation is iterative, so let’s start by understanding it as a sequence of queries that unfold in response toouser actions.</span></span>

<span data-ttu-id="785be-130">başlangıç noktası hello genellikle hello periphery yerleştirilen çok yönlü gezinmeyi sağlayan bir uygulama sayfasıdır.</span><span class="sxs-lookup"><span data-stu-id="785be-130">hello starting point is an application page that provides faceted navigation, typically placed on hello periphery.</span></span> <span data-ttu-id="785be-131">Modellenmiş Gezinti ağaç yapısı, her değeri veya tıklanabilir bir metin için onay kutularını ile görülür.</span><span class="sxs-lookup"><span data-stu-id="785be-131">Faceted navigation is often a tree structure, with checkboxes for each value, or clickable text.</span></span> 

1. <span data-ttu-id="785be-132">TooAzure arama gönderilen bir sorgu hello modellenmiş gezinti yapısında bir veya daha fazla model sorgu parametreleri aracılığıyla belirtir.</span><span class="sxs-lookup"><span data-stu-id="785be-132">A query sent tooAzure Search specifies hello faceted navigation structure via one or more facet query parameters.</span></span> <span data-ttu-id="785be-133">Merhaba sorgu örneği için içerebilir `facet=Rating`, belki de ile bir `:values` veya `:sort` seçeneği toofurther hello sunu daraltın.</span><span class="sxs-lookup"><span data-stu-id="785be-133">For instance, hello query might include `facet=Rating`, perhaps with a `:values` or `:sort` option toofurther refine hello presentation.</span></span>
2. <span data-ttu-id="785be-134">Merhaba sunu katmanı hello istekte belirtilen hello modellerle kullanarak çok yönlü gezinmeyi sağlayan bir arama sayfasını işler.</span><span class="sxs-lookup"><span data-stu-id="785be-134">hello presentation layer renders a search page that provides faceted navigation, using hello facets specified on hello request.</span></span>
3. <span data-ttu-id="785be-135">Derecelendirme içeren modellenmiş gezinti yapısı verildiğinde, yalnızca 4 veya daha yüksek bir derecelendirme ürünleriyle gösterilmesi gereken "4" tooindicate'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="785be-135">Given a faceted navigation structure that includes Rating, you click "4" tooindicate that only products with a rating of 4 or higher should be shown.</span></span> 
4. <span data-ttu-id="785be-136">Yanıt olarak Merhaba uygulaması içeren bir sorgu gönderir.`$filter=Rating ge 4`</span><span class="sxs-lookup"><span data-stu-id="785be-136">In response, hello application sends a query that includes `$filter=Rating ge 4`</span></span> 
5. <span data-ttu-id="785be-137">Merhaba yeni ölçütlerini karşılayan yalnızca bu öğeleri içeren bir azaltılmış sonuç kümesi gösteren hello sunu katmanı güncelleştirmeleri hello sayfasında, (Bu durumda, ürün 4 derecelendirilmiş ve üstü).</span><span class="sxs-lookup"><span data-stu-id="785be-137">hello presentation layer updates hello page, showing a reduced result set, containing just those items that satisfy hello new criteria (in this case, products rated 4 and up).</span></span>

<span data-ttu-id="785be-138">Bir model için sorgu parametresi olsa da, sorgu girişi ile karıştırmayın.</span><span class="sxs-lookup"><span data-stu-id="785be-138">A facet is a query parameter, but do not confuse it with query input.</span></span> <span data-ttu-id="785be-139">Sorguda seçim ölçütü olarak asla kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="785be-139">It is never used as selection criteria in a query.</span></span> <span data-ttu-id="785be-140">Bunun yerine, model Sorgu parametrelerinin hello yanıtta gelir girişleri toohello gezinti yapısında olarak düşünün.</span><span class="sxs-lookup"><span data-stu-id="785be-140">Instead, think of facet query parameters as inputs toohello navigation structure that comes back in hello response.</span></span> <span data-ttu-id="785be-141">Sağladığınız her model için sorgu parametresi, Azure Search hello kısmi sonuçlarındaki her model değeri için kaç tane belgelerdir değerlendirir.</span><span class="sxs-lookup"><span data-stu-id="785be-141">For each facet query parameter you provide, Azure Search evaluates how many documents are in hello partial results for each facet value.</span></span>

<span data-ttu-id="785be-142">Bildirim hello `$filter` 4. adımda.</span><span class="sxs-lookup"><span data-stu-id="785be-142">Notice hello `$filter` in step 4.</span></span> <span data-ttu-id="785be-143">Merhaba filtre modellenmiş bir gezinmede önemli bir yönüdür.</span><span class="sxs-lookup"><span data-stu-id="785be-143">hello filter is an important aspect of faceted navigation.</span></span> <span data-ttu-id="785be-144">Modelleri ve filtreleri hello API bağımsız olmakla birlikte, düşündüğünüz her iki toodeliver hello deneyimi gerekir.</span><span class="sxs-lookup"><span data-stu-id="785be-144">Although facets and filters are independent in hello API, you need both toodeliver hello experience you intend.</span></span> 

### <a name="app-design-pattern"></a><span data-ttu-id="785be-145">Uygulama tasarım deseni</span><span class="sxs-lookup"><span data-stu-id="785be-145">App design pattern</span></span>

<span data-ttu-id="785be-146">Uygulama kodunda hello düzeni toouse modeli sorgu parametreleri tooreturn hello modellenmiş bir gezinmede modeli sonuçları yanı sıra, bir $filter ifadesi birlikte yapısıdır.</span><span class="sxs-lookup"><span data-stu-id="785be-146">In application code, hello pattern is toouse facet query parameters tooreturn hello faceted navigation structure along with facet results, plus a $filter expression.</span></span>  <span data-ttu-id="785be-147">Merhaba filtre ifadesi tanıtıcıları hello hello model değeri olayına tıklayın.</span><span class="sxs-lookup"><span data-stu-id="785be-147">hello filter expression handles hello click event on hello facet value.</span></span> <span data-ttu-id="785be-148">Merhaba düşünün `$filter` arama sonuçlarının ifade hello gerçek kırpma arkasındaki hello kod olarak toohello sunu katmanı döndürdü.</span><span class="sxs-lookup"><span data-stu-id="785be-148">Think of hello `$filter` expression as hello code behind hello actual trimming of search results returned toohello presentation layer.</span></span> <span data-ttu-id="785be-149">Renkleri modeli verildiğinde, hello rengi kırmızı tıklatarak aracılığıyla uygulanır bir `$filter` kırmızı renk olan öğeleri seçer ifade.</span><span class="sxs-lookup"><span data-stu-id="785be-149">Given a Colors facet, clicking hello color Red is implemented through a `$filter` expression that selects only those items that have a color of red.</span></span> 

### <a name="query-basics"></a><span data-ttu-id="785be-150">Sorgu temelleri</span><span class="sxs-lookup"><span data-stu-id="785be-150">Query basics</span></span>

<span data-ttu-id="785be-151">Azure Search'te bir isteği aracılığıyla bir veya daha fazla sorgu parametreleri belirtilir (bkz [Search belgeleri](http://msdn.microsoft.com/library/azure/dn798927.aspx) her biri bir açıklaması için).</span><span class="sxs-lookup"><span data-stu-id="785be-151">In Azure Search, a request is specified through one or more query parameters (see [Search Documents](http://msdn.microsoft.com/library/azure/dn798927.aspx) for a description of each one).</span></span> <span data-ttu-id="785be-152">Hello sorgu parametreleri hiçbiri gerekli değildir, ancak en az bir geçerli bir sorgu toobe sırada olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="785be-152">None of hello query parameters are required, but you must have at least one in order for a query toobe valid.</span></span>

<span data-ttu-id="785be-153">Duyarlık hello özelliği toofilter ilgisiz isabet çıkışı gerçekleştirilir gibi birine veya ikisine de bu ifadeleri anladım:</span><span class="sxs-lookup"><span data-stu-id="785be-153">Precision, understood as hello ability toofilter out irrelevant hits, is achieved through one or both of these expressions:</span></span>

-   <span data-ttu-id="785be-154">**Arama =**</span><span class="sxs-lookup"><span data-stu-id="785be-154">**search=**</span></span>  
    <span data-ttu-id="785be-155">Bu parametrenin değerini Hello hello arama ifadesi meydana gelir.</span><span class="sxs-lookup"><span data-stu-id="785be-155">hello value of this parameter constitutes hello search expression.</span></span> <span data-ttu-id="785be-156">Tek bir metin veya birden çok hüküm ve işleçleri içeren karmaşık arama ifadesi olması olabilir.</span><span class="sxs-lookup"><span data-stu-id="785be-156">It might be a single piece of text, or a complex search expression that includes multiple terms and operators.</span></span> <span data-ttu-id="785be-157">Merhaba sunucuda arama ifadesi tam metin arama, sıralama sırayla sonuçları döndüren koşullarını eşleşen hello dizin aranabilir alanlara sorgulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="785be-157">On hello server, a search expression is used for full-text search, querying searchable fields in hello index for matching terms, returning results in rank order.</span></span> <span data-ttu-id="785be-158">Ayarlarsanız `search` toonull, sorgu yürütme dizinidir hello tüm (diğer bir deyişle, `search=*`).</span><span class="sxs-lookup"><span data-stu-id="785be-158">If you set `search` toonull, query execution is over hello entire index (that is, `search=*`).</span></span> <span data-ttu-id="785be-159">İn this Case, diğer öğeleri Merhaba, gibi sorgu bir `$filter` veya profili Puanlama, hello hangi belgeleri döndürülen etkileyen birincil faktörlerdir `($filter`) ve hangi sırayla (`scoringProfile` veya `$orderby`).</span><span class="sxs-lookup"><span data-stu-id="785be-159">In this case, other elements of hello query, such as a `$filter` or scoring profile, are hello primary factors affecting which documents are returned `($filter`) and in what order (`scoringProfile` or `$orderby`).</span></span>

-   <span data-ttu-id="785be-160">**$filter =**</span><span class="sxs-lookup"><span data-stu-id="785be-160">**$filter=**</span></span>  
    <span data-ttu-id="785be-161">Bir filtre, belirli bir belge öznitelikleri hello değerlerine göre arama sonuçları hello boyutunu sınırlamak için güçlü bir mekanizmadır.</span><span class="sxs-lookup"><span data-stu-id="785be-161">A filter is a powerful mechanism for limiting hello size of search results based on hello values of specific document attributes.</span></span> <span data-ttu-id="785be-162">A `$filter` hello kullanılabilir değerler ve her bir değer için karşılık gelen sayıları oluşturur olduğunu mantığı arkasından önce değerlendirilir</span><span class="sxs-lookup"><span data-stu-id="785be-162">A `$filter` is evaluated first, followed by faceting logic that generates hello available values and corresponding counts for each value</span></span>

<span data-ttu-id="785be-163">Karmaşık arama ifadeleri hello hello sorgu performansını azaltın.</span><span class="sxs-lookup"><span data-stu-id="785be-163">Complex search expressions decrease hello performance of hello query.</span></span> <span data-ttu-id="785be-164">Mümkünse, sorgu performansını artırmak ve iyi oluşturulmuş filtre ifadeleri tooincrease duyarlık kullanın.</span><span class="sxs-lookup"><span data-stu-id="785be-164">Where possible, use well-constructed filter expressions tooincrease precision and improve query performance.</span></span>

<span data-ttu-id="785be-165">toobetter nasıl daha hassas bir filtre ekler anlamak, bir filtre ifadesi içeren bir karmaşık arama ifade tooone karşılaştırın:</span><span class="sxs-lookup"><span data-stu-id="785be-165">toobetter understand how a filter adds more precision, compare a complex search expression tooone that includes a filter expression:</span></span>

-   `GET /indexes/hotel/docs?search=lodging budget +Seattle –motel +parking`
-   `GET /indexes/hotel/docs?search=lodging&$filter=City eq ‘Seattle’ and Parking and Type ne ‘motel’`

<span data-ttu-id="785be-166">Her iki sorguları geçerlidir, ancak hello ikinci motels olmayan Seattle'da park ile arıyorsanız üstündedir.</span><span class="sxs-lookup"><span data-stu-id="785be-166">Both queries are valid, but hello second is superior if you’re looking for non-motels with parking in Seattle.</span></span>
-   <span data-ttu-id="785be-167">Merhaba ilk sorgu belirtilen veya dize alanları adını, açıklamasını ve aranabilir verileri içeren herhangi bir alan gibi geçmeyen belirli sözcükleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="785be-167">hello first query relies on those specific words being mentioned or not mentioned in string fields like Name, Description, and any other field containing searchable data.</span></span>
-   <span data-ttu-id="785be-168">Merhaba ikinci sorgu kesin eşleşmeler yapılandırılmış verileri arar ve büyük olasılıkla toobe çok daha doğru olduğundan.</span><span class="sxs-lookup"><span data-stu-id="785be-168">hello second query looks for precise matches on structured data and is likely toobe much more accurate.</span></span>

<span data-ttu-id="785be-169">Modellenmiş bir gezinmede içeren uygulamalarda, arama sonuçlarını daraltarak modellenmiş bir gezinmede yapısı üzerinden her bir kullanıcı eylemi eşlik emin olun.</span><span class="sxs-lookup"><span data-stu-id="785be-169">In applications that include faceted navigation, make sure that each user action over a faceted navigation structure is accompanied by a narrowing of search results.</span></span> <span data-ttu-id="785be-170">toonarrow sonuçları, bir filtre ifadesi kullanın.</span><span class="sxs-lookup"><span data-stu-id="785be-170">toonarrow results, use a filter expression.</span></span>

<a name="howtobuildit"></a>

## <a name="build-a-faceted-navigation-app"></a><span data-ttu-id="785be-171">Modellenmiş bir gezinmede uygulaması oluşturma</span><span class="sxs-lookup"><span data-stu-id="785be-171">Build a faceted navigation app</span></span>
<span data-ttu-id="785be-172">Azure Search modellenmiş bir gezinmede hello arama isteği oluşturur, uygulama kodunuzda uygulayın.</span><span class="sxs-lookup"><span data-stu-id="785be-172">You implement faceted navigation with Azure Search in your application code that builds hello search request.</span></span> <span data-ttu-id="785be-173">önceden tanımlanmış şemanızı öğelerinde Hello modellenmiş bir gezinmede kullanır.</span><span class="sxs-lookup"><span data-stu-id="785be-173">hello faceted navigation relies on elements in your schema that you defined previously.</span></span>

<span data-ttu-id="785be-174">Arama dizininize önceden tanımlanmış olan hello `Facetable [true|false]` dizin özniteliği, seçili alanları tooenable üzerinde ayarlayın veya kullanımlarını modellenmiş gezinti yapısında devre dışı.</span><span class="sxs-lookup"><span data-stu-id="785be-174">Predefined in your search index is hello `Facetable [true|false]` index attribute, set on selected fields tooenable or disable their use in a faceted navigation structure.</span></span> <span data-ttu-id="785be-175">Olmadan `"Facetable" = true`, model Gezinti bölmesinde bir alan kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="785be-175">Without `"Facetable" = true`, a field cannot be used in facet navigation.</span></span>

<span data-ttu-id="785be-176">Hello sunu katmanı kodunuzda hello kullanıcı deneyimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="785be-176">hello presentation layer in your code provides hello user experience.</span></span> <span data-ttu-id="785be-177">Merhaba bağlı hello label ve değerleri, onay kutularını ve hello sayısı gibi hello modellenmiş gezinmesine bölümlerini listelenmelidir.</span><span class="sxs-lookup"><span data-stu-id="785be-177">It should list hello constituent parts of hello faceted navigation, such as hello label, values, check boxes, and hello count.</span></span> <span data-ttu-id="785be-178">Hello Azure Search REST API'sini platform belirsiz, hangi dil ve platformu kullanın.</span><span class="sxs-lookup"><span data-stu-id="785be-178">hello Azure Search REST API is platform agnostic, so use whatever language and platform you want.</span></span> <span data-ttu-id="785be-179">Merhaba önemli her ek modeli seçtiğinizde artımlı destek tooinclude kullanıcı Arabirimi öğeleri, güncelleştirilmiş kullanıcı Arabirimi ile durumu şeydir.</span><span class="sxs-lookup"><span data-stu-id="785be-179">hello important thing is tooinclude UI elements that support incremental refresh, with updated UI state as each additional facet is selected.</span></span> 

<span data-ttu-id="785be-180">Sorgu zamanında uygulama kodunuz içeren bir istek oluşturur `facet=[string]`, hello alan toofacet tarafından sağlayan bir istek parametresi.</span><span class="sxs-lookup"><span data-stu-id="785be-180">At query time, your application code creates a request that includes `facet=[string]`, a request parameter that provides hello field toofacet by.</span></span> <span data-ttu-id="785be-181">Sorgu birden fazla modelleri gibi olabilir `&facet=color&facet=category&facet=rating`, her biri ayrılmış bir ampersan (&) karakteri tarafından.</span><span class="sxs-lookup"><span data-stu-id="785be-181">A query can have multiple facets, such as `&facet=color&facet=category&facet=rating`, each one separated by an ampersand (&) character.</span></span>

<span data-ttu-id="785be-182">Uygulama kodu gerekir de oluşturmak bir `$filter` ifade toohandle hello modellenmiş bir gezinmede olay'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="785be-182">Application code must also construct a `$filter` expression toohandle hello click events in faceted navigation.</span></span> <span data-ttu-id="785be-183">A `$filter` filtre ölçütü olarak hello model değeri kullanarak hello arama sonuçlarını azaltır.</span><span class="sxs-lookup"><span data-stu-id="785be-183">A `$filter` reduces hello search results, using hello facet value as filter criteria.</span></span>

<span data-ttu-id="785be-184">Azure arama güncelleştirmeleri toohello modellenmiş bir gezinmede yapısı birlikte girin bir veya daha fazla şartları temel alınarak hello arama sonuçlarını döndürür.</span><span class="sxs-lookup"><span data-stu-id="785be-184">Azure Search returns hello search results, based on one or more terms that you enter, along with updates toohello faceted navigation structure.</span></span> <span data-ttu-id="785be-185">Azure Search'te modellenmiş bir gezinmede modeli değerleri içeren bir tek düzeyli yapım ve her biri için kaç tane sonuçlarını bulunan sayar.</span><span class="sxs-lookup"><span data-stu-id="785be-185">In Azure Search, faceted navigation is a single-level construction, with facet values, and counts of how many results are found for each one.</span></span>

<span data-ttu-id="785be-186">Aşağıdaki bölümlerde hello biz yakın nasıl göz atın toobuild her bölümü.</span><span class="sxs-lookup"><span data-stu-id="785be-186">In hello following sections, we take a closer look at how toobuild each part.</span></span>

<a name="buildindex"></a>

## <a name="build-hello-index"></a><span data-ttu-id="785be-187">Merhaba dizini oluşturun</span><span class="sxs-lookup"><span data-stu-id="785be-187">Build hello index</span></span>
<span data-ttu-id="785be-188">Bu dizin özniteliği aracılığıyla hello dizinindeki alan alanını temelinde etkin olduğunu: `"Facetable": true`.</span><span class="sxs-lookup"><span data-stu-id="785be-188">Faceting is enabled on a field-by-field basis in hello index, via this index attribute: `"Facetable": true`.</span></span>  
<span data-ttu-id="785be-189">Büyük olasılıkla modellenmiş bir gezinmede kullanılabilir tüm alan türleri `Facetable` varsayılan olarak.</span><span class="sxs-lookup"><span data-stu-id="785be-189">All field types that could possibly be used in faceted navigation are `Facetable` by default.</span></span> <span data-ttu-id="785be-190">Bu tür alan türleri içerir `Edm.String`, `Edm.DateTimeOffset`, ve tüm sayısal alan türleri hello (esas olarak, tüm alan türleri modellenebilir dışında olan `Edm.GeographyPoint`, hangi kullanılamaz modellenmiş bir gezinmede).</span><span class="sxs-lookup"><span data-stu-id="785be-190">Such field types include `Edm.String`, `Edm.DateTimeOffset`, and all hello numeric field types (essentially, all field types are facetable except `Edm.GeographyPoint`, which can’t be used in faceted navigation).</span></span> 

<span data-ttu-id="785be-191">Dizin oluştururken, en iyi uygulama modellenmiş gezinmesine tooexplicitly Aç olduğunu hiçbir zaman bir model kullanılması gereken alanlar için kapalıdır.</span><span class="sxs-lookup"><span data-stu-id="785be-191">When building an index, a best practice for faceted navigation is tooexplicitly turn faceting off for fields that should never be used as a facet.</span></span>  <span data-ttu-id="785be-192">Özellikle, dize alanları için bir kimlik veya ürün adı gibi singleton değerleri çok ayarlanmalıdır`"Facetable": false` tooprevent kendi yanlışlıkla (ve etkisiz) modellenmiş bir gezinmede kullanın.</span><span class="sxs-lookup"><span data-stu-id="785be-192">In particular, string fields for singleton values, such as an ID or product name, should be set too`"Facetable": false` tooprevent their accidental (and ineffective) use in faceted navigation.</span></span> <span data-ttu-id="785be-193">Burada gerekmeyen kapalı olduğunu kapatma hello dizin hello boyutunu küçük tutmaya yardımcı olur ve genellikle performansı artırır.</span><span class="sxs-lookup"><span data-stu-id="785be-193">Turning faceting off where you don’t need it helps keep hello size of hello index small, and typically improves performance.</span></span>

<span data-ttu-id="785be-194">Aşağıdaki hello proje portalı Demo örnek uygulaması, bazı öznitelikler tooreduce hello boyutunu kırpılmış hello Şeması'nın bir parçasıdır:</span><span class="sxs-lookup"><span data-stu-id="785be-194">Following is part of hello schema for hello Job Portal Demo sample app, trimmed of some attributes tooreduce hello size:</span></span>

```json
{
  ...
  "name": "nycjobs",
  "fields": [
    { “name”: "id",                 "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "job_id",             "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "agency",              "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "posting_type",        "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "num_of_positions",    "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "business_title",      "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "civil_service_title", "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "title_code_no",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "level",               "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_from",   "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_to",     "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_frequency",    "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "work_location",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
…
    { “name”: "geo_location",        "type": "Edm.GeographyPoint",     "searchable": false, "filterable": true, ...  "facetable": false, ... },
    { “name”: "tags",                "type": "Collection(Edm.String)", "searchable": true,  "filterable": true, ...  "facetable": true, ...  }
  ],
…
}
```

<span data-ttu-id="785be-195">Merhaba örnek şemada gördüğünüz `Facetable` kimliği değerleri gibi modellerini olarak kullanılmaması dize alanları için devre dışı.</span><span class="sxs-lookup"><span data-stu-id="785be-195">As you can see in hello sample schema, `Facetable` is turned off for string fields that shouldn’t be used as facets, such as ID values.</span></span> <span data-ttu-id="785be-196">Burada gerekmeyen kapalı olduğunu kapatma hello dizin hello boyutunu küçük tutmaya yardımcı olur ve genellikle performansı artırır.</span><span class="sxs-lookup"><span data-stu-id="785be-196">Turning faceting off where you don’t need it helps keep hello size of hello index small, and typically improves performance.</span></span>

> [!TIP]
> <span data-ttu-id="785be-197">En iyi uygulama, her bir alan için dizin özniteliklerini hello kümesini içerir.</span><span class="sxs-lookup"><span data-stu-id="785be-197">As a best practice, include hello full set of index attributes for each field.</span></span> <span data-ttu-id="785be-198">Ancak `Facetable` kasıtlı olarak ayarlama, neredeyse tüm alanlar için varsayılan olarak her özniteliği, her bir şema kararı hello etkilerini düşündüğünüz yardımcı olabilir açıktır.</span><span class="sxs-lookup"><span data-stu-id="785be-198">Although `Facetable` is on by default for almost all fields, purposely setting each attribute can help you think through hello implications of each schema decision.</span></span> 

<a name="checkdata"></a>

## <a name="check-hello-data"></a><span data-ttu-id="785be-199">Merhaba veri denetleyin</span><span class="sxs-lookup"><span data-stu-id="785be-199">Check hello data</span></span>
<span data-ttu-id="785be-200">Merhaba, verilerinizin kalitesini beklediğiniz gibi hello modellenmiş bir gezinmede yapısı olup gerçeğe üzerinde doğrudan etkisi vardır.</span><span class="sxs-lookup"><span data-stu-id="785be-200">hello quality of your data has a direct effect on whether hello faceted navigation structure materializes as you expect it to.</span></span> <span data-ttu-id="785be-201">Ayrıca filtreleri tooreduce hello sonuç kümesi oluşturma kolaylığı hello de etkiler.</span><span class="sxs-lookup"><span data-stu-id="785be-201">It also affects hello ease of constructing filters tooreduce hello result set.</span></span>

<span data-ttu-id="785be-202">Marka veya fiyat toofacet istiyorsanız, her belge için değerler içermelidir *BrandName* ve *ProductPrice* geçerli, tutarlı ve üretken filtre seçeneği olarak.</span><span class="sxs-lookup"><span data-stu-id="785be-202">If you want toofacet by Brand or Price, each document should contain values for *BrandName* and *ProductPrice* that are valid, consistent, and productive as a filter option.</span></span>

<span data-ttu-id="785be-203">Hangi tooscrub için birkaç anımsatıcı şunlardır:</span><span class="sxs-lookup"><span data-stu-id="785be-203">Here are a few reminders of what tooscrub for:</span></span>

* <span data-ttu-id="785be-204">Tarafından toofacet istediğiniz her alan için kendiniz Self yönlendirilmiş aramada filtre olarak uygun değerleri içerip içermediğini isteyin.</span><span class="sxs-lookup"><span data-stu-id="785be-204">For every field that you want toofacet by, ask yourself whether it contains values that are suitable as filters in self-directed search.</span></span> <span data-ttu-id="785be-205">Merhaba değerleri kısa, açıklayıcı ve yeterince farklı toooffer rakip seçenekler arasında NET bir seçenek olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="785be-205">hello values should be short, descriptive, and sufficiently distinctive toooffer a clear choice between competing options.</span></span>
* <span data-ttu-id="785be-206">Yazım hatası veya neredeyse eşleşen değerler.</span><span class="sxs-lookup"><span data-stu-id="785be-206">Misspellings or nearly matching values.</span></span> <span data-ttu-id="785be-207">Varsa, model renk ve alan değerlerini içeren turuncu ve Ornage (bir yazım hatası), hello renk alanına dayalı bir modeli hem de çekme.</span><span class="sxs-lookup"><span data-stu-id="785be-207">If you facet on Color, and field values include Orange and Ornage (a misspelling), a facet based on hello Color field would pick up both.</span></span>
* <span data-ttu-id="785be-208">Karışık büyük metin de turuncu ve iki farklı değerler olarak görünen turuncu modellenmiş bir gezinmede düzensizliğe benzer zararlar verecektir.</span><span class="sxs-lookup"><span data-stu-id="785be-208">Mixed case text can also wreak havoc in faceted navigation, with orange and Orange appearing as two different values.</span></span> 
* <span data-ttu-id="785be-209">Tek ve çoğul aynı değeri her biri için ayrı bir modelinin neden hello sürümleri.</span><span class="sxs-lookup"><span data-stu-id="785be-209">Single and plural versions of hello same value can result in a separate facet for each.</span></span>

<span data-ttu-id="785be-210">Hayal edebildiğiniz gibi hello verileri hazırlama içinde tespitlerini etkili modellenmiş bir gezinmede önemli bir yönüdür.</span><span class="sxs-lookup"><span data-stu-id="785be-210">As you can imagine, diligence in preparing hello data is an essential aspect of effective faceted navigation.</span></span>

<a name="presentationlayer"></a>

## <a name="build-hello-ui"></a><span data-ttu-id="785be-211">Merhaba kullanıcı Arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="785be-211">Build hello UI</span></span>
<span data-ttu-id="785be-212">Geri hello sunu katmanı çalışma, aksi takdirde eksik ve gerekli toohello hangi özellikler anlamak gereksinimleri ortaya çıkarmaya Yardım deneyimi arayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="785be-212">Working back from hello presentation layer can help you uncover requirements that might be missed otherwise, and understand which capabilities are essential toohello search experience.</span></span>

<span data-ttu-id="785be-213">Web ya da uygulama sayfanızı hello modellenmiş bir gezinmede yapısını görüntüler modellenmiş bir gezinmede bakımından hello sayfasında kullanıcı girişi algılar ve değiştirilen hello öğeleri ekler.</span><span class="sxs-lookup"><span data-stu-id="785be-213">In terms of faceted navigation, your web or application page displays hello faceted navigation structure, detects user input on hello page, and inserts hello changed elements.</span></span> 

<span data-ttu-id="785be-214">Web uygulamaları için AJAX toorefresh artımlı değişiklikler izin verdiği için hello sunu katmanı yaygın olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="785be-214">For web applications, AJAX is commonly used in hello presentation layer because it allows you toorefresh incremental changes.</span></span> <span data-ttu-id="785be-215">ASP.NET MVC veya tooan Azure Search Hizmeti HTTP üzerinden bağlanabilirsiniz herhangi bir görsel öğe platforma da kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="785be-215">You could also use ASP.NET MVC or any other visualization platform that can connect tooan Azure Search service over HTTP.</span></span> <span data-ttu-id="785be-216">Merhaba örnek uygulaması başvurulan Bu makale--hello **Azure arama proje portalı Demo** – toobe bir ASP.NET MVC uygulaması olur.</span><span class="sxs-lookup"><span data-stu-id="785be-216">hello sample application referenced throughout this article -- hello **Azure Search Job Portal Demo** – happens toobe an ASP.NET MVC application.</span></span>

<span data-ttu-id="785be-217">Merhaba örnek modellenmiş bir gezinmede hello arama sonuçları sayfasına yerleşik olarak bulunur.</span><span class="sxs-lookup"><span data-stu-id="785be-217">In hello sample, faceted navigation is built into hello search results page.</span></span> <span data-ttu-id="785be-218">Merhaba hello alınan örnekte, aşağıdaki `index.cshtml` dosya hello örnek uygulamasının modellenmiş bir gezinmede hello Search'te görüntüleme gösterir hello statik HTML yapısı sonuçları sayfası.</span><span class="sxs-lookup"><span data-stu-id="785be-218">hello following example, taken from hello `index.cshtml` file of hello sample application, shows hello static HTML structure for displaying faceted navigation on hello search results page.</span></span> <span data-ttu-id="785be-219">modelleri Hello listesi yerleşik veya bir arama terimi göndermek ya da seçin veya bir model temizlediğinizde dinamik olarak yeniden.</span><span class="sxs-lookup"><span data-stu-id="785be-219">hello list of facets is built or rebuilt dynamically when you submit a search term, or select or clear a facet.</span></span>

```html
<div class="widget sidebar-widget jobs-filter-widget">
  <h5 class="widget-title">Filter Results</h5>
    <p id="filterReset"></p>
    <div class="widget-content">

      <h6 id="businessTitleFacetTitle">Business Title</h6>
      <ul class="filter-list" id="business_title_facets">
      </ul>

      <h6>Location</h6>
      <ul class="filter-list" id="posting_type_facets">
      </ul>

      <h6>Posting Type</h6>
      <ul class="filter-list" id="posting_type_facets"></ul>

      <h6>Minimum Salary</h6>
      <ul class="filter-list" id="salary_range_facets">
      </ul>

  </div>
</div>
```

<span data-ttu-id="785be-220">Merhaba hello gelen kod parçacığını aşağıdaki `index.cshtml` sayfası hello HTML toodisplay hello ilk modeli, iş başlık dinamik olarak oluşturur.</span><span class="sxs-lookup"><span data-stu-id="785be-220">hello following code snippet from hello `index.cshtml` page dynamically builds hello HTML toodisplay hello first facet, Business Title.</span></span> <span data-ttu-id="785be-221">Benzer işlevler hello HTML hello için diğer yönleri dinamik olarak oluşturun.</span><span class="sxs-lookup"><span data-stu-id="785be-221">Similar functions dynamically build hello HTML for hello other facets.</span></span> <span data-ttu-id="785be-222">Bir etiket ve hello için model sonucunda ortaya çıkan bulunan öğelerin sayısını görüntüler bir sayısı her modeli vardır.</span><span class="sxs-lookup"><span data-stu-id="785be-222">Each facet has a label and a count, which displays hello number of items found for that facet result.</span></span>

```js
function UpdateBusinessTitleFacets(data) {
  var facetResultsHTML = '';
  for (var i = 0; i < data.length; i++) {
    facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseBusinessTitleFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
  }

  $("#business_title_facets").html(facetResultsHTML);
}
```

> [!TIP]
> <span data-ttu-id="785be-223">Merhaba arama sonuçları sayfasını tasarlarken, tooadd modelleri temizlemek için bir mekanizma unutmayın.</span><span class="sxs-lookup"><span data-stu-id="785be-223">When you design hello search results page, remember tooadd a mechanism for clearing facets.</span></span> <span data-ttu-id="785be-224">Onay kutusu eklerseniz, nasıl tooclear hello filtreler kolayca görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="785be-224">If you add check boxes, you can easily see how tooclear hello filters.</span></span> <span data-ttu-id="785be-225">Diğer düzenleri için bir içerik haritası desen veya başka bir yaratıcı yaklaşım gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="785be-225">For other layouts, you might need a breadcrumb pattern or another creative approach.</span></span> <span data-ttu-id="785be-226">Örneğin, hello iş arama Portal örnek uygulama, hello tıklayabilirsiniz `[X]` seçili modeli tooclear hello modeli sonra.</span><span class="sxs-lookup"><span data-stu-id="785be-226">For example, in hello Job Search Portal sample application, you can click hello `[X]` after a selected facet tooclear hello facet.</span></span>

<a name="buildquery"></a>

## <a name="build-hello-query"></a><span data-ttu-id="785be-227">Merhaba sorgu oluşturma</span><span class="sxs-lookup"><span data-stu-id="785be-227">Build hello query</span></span>
<span data-ttu-id="785be-228">sorgular oluşturmak için yazma hello kod, arama ifadeleri, modelleri, profilleri – herhangi bir şey Puanlama filtreleri de dahil olmak üzere geçerli bir sorgu tüm parçalarını tooformulate bir istek kullanılan belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="785be-228">hello code that you write for building queries should specify all parts of a valid query, including search expressions, facets, filters, scoring profiles– anything used tooformulate a request.</span></span> <span data-ttu-id="785be-229">Bu bölümde, biz modelleri bir sorgu ve filtreleri modelleri toodeliver ile nasıl kullanıldığı bir azaltılmış nerelerde keşfedin sonuç.</span><span class="sxs-lookup"><span data-stu-id="785be-229">In this section, we explore where facets fit into a query, and how filters are used with facets toodeliver a reduced result set.</span></span>

<span data-ttu-id="785be-230">Modelleri Bu örnek uygulamasında tam sayı olduğuna dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="785be-230">Notice that facets are integral in this sample application.</span></span> <span data-ttu-id="785be-231">Merhaba proje portalı Demo Hello arama deneyimi modellenmiş bir gezinmede ve filtreleri tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="785be-231">hello search experience in hello Job Portal Demo is designed around faceted navigation and filters.</span></span> <span data-ttu-id="785be-232">Merhaba belirgin hello sayfasında modellenmiş bir gezinmede yerleşimini önem derecesini gösterir.</span><span class="sxs-lookup"><span data-stu-id="785be-232">hello prominent placement of faceted navigation on hello page demonstrates its importance.</span></span> 

<span data-ttu-id="785be-233">Genellikle iyi toobegin örneğidir.</span><span class="sxs-lookup"><span data-stu-id="785be-233">An example is often a good place toobegin.</span></span> <span data-ttu-id="785be-234">Merhaba hello alınan örnekte, aşağıdaki `JobsSearch.cs` dosya, model Gezinti oluşturur isteğin tabanlı iş başlık, konum, nakil türü ve Minimum maaş derlemeleri.</span><span class="sxs-lookup"><span data-stu-id="785be-234">hello following example, taken from hello `JobsSearch.cs` file, builds a request that creates facet navigation based on Business Title, Location, Posting Type, and Minimum Salary.</span></span> 

```cs
SearchParameters sp = new SearchParameters()
{
  ...
  // Add facets
  Facets = new List<String>() { "business_title", "posting_type", "level", "salary_range_from,interval:50000" },
};
```

<span data-ttu-id="785be-235">Bir model sorgu parametresi tooa alanı ayarlanır ve içeren virgülle ayrılmış liste hello veri türüne bağlı olarak, daha fazla parametreli olabilir `count:<integer>`, `sort:<>`, `interval:<integer>`, ve `values:<list>`.</span><span class="sxs-lookup"><span data-stu-id="785be-235">A facet query parameter is set tooa field and depending on hello data type, can be further parameterized by comma-delimited list that includes `count:<integer>`, `sort:<>`, `interval:<integer>`, and `values:<list>`.</span></span> <span data-ttu-id="785be-236">Aralıkları ayarlarken değerler listesini sayısal veriler için desteklenir.</span><span class="sxs-lookup"><span data-stu-id="785be-236">A values list is supported for numeric data when setting up ranges.</span></span> <span data-ttu-id="785be-237">Bkz: [Search belgeleri (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx) kullanım ayrıntıları için.</span><span class="sxs-lookup"><span data-stu-id="785be-237">See [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx) for usage details.</span></span>

<span data-ttu-id="785be-238">Modelleri yanı sıra, uygulamanız tarafından şeklide hello isteği ayrıca filtreleri toonarrow model değeri seçime dayalı adayı belgeler hello kümesi aşağı oluşturması gerekir.</span><span class="sxs-lookup"><span data-stu-id="785be-238">Along with facets, hello request formulated by your application should also build filters toonarrow down hello set of candidate documents based on a facet value selection.</span></span> <span data-ttu-id="785be-239">Bir Bisiklet Mağazası için ipuçları tooquestions ister modellenmiş bir gezinmede sağlar *hangi renkler, üreticileri ve bisiklet türleri kullanılabilir?*.</span><span class="sxs-lookup"><span data-stu-id="785be-239">For a bike store, faceted navigation provides clues tooquestions like *What colors, manufacturers, and types of bikes are available?*.</span></span> <span data-ttu-id="785be-240">Filtreleme gibi sorulara yanıtlar *hangi tam bisiklet kırmızı, Sıradağlar bisiklet bu aralığı fiyat?*.</span><span class="sxs-lookup"><span data-stu-id="785be-240">Filtering answers questions like *Which exact bikes are red, mountain bikes, in this price range?*.</span></span> <span data-ttu-id="785be-241">Yalnızca kırmızı ürünlerini gösterilmesi gereken, "Red" tooindicate tıklattığınızda hello sonraki sorgu hello uygulaması gönderir içeren `$filter=Color eq ‘Red’`.</span><span class="sxs-lookup"><span data-stu-id="785be-241">When you click "Red" tooindicate that only Red products should be shown, hello next query hello application sends includes `$filter=Color eq ‘Red’`.</span></span>

<span data-ttu-id="785be-242">Merhaba hello gelen kod parçacığını aşağıdaki `JobsSearch.cs` sayfa eklerse seçili hello iş başlık toohello filtre hello iş başlık modeli bir değer seçin.</span><span class="sxs-lookup"><span data-stu-id="785be-242">hello following code snippet from hello `JobsSearch.cs` page adds hello selected Business Title toohello filter if you select a value from hello Business Title facet.</span></span>

```cs
if (businessTitleFacet != "")
  filter = "business_title eq '" + businessTitleFacet + "'";
```

<a name="tips"></a> 

## <a name="tips-and-best-practices"></a><span data-ttu-id="785be-243">İpuçları ve en iyi yöntemler</span><span class="sxs-lookup"><span data-stu-id="785be-243">Tips and best practices</span></span>

### <a name="indexing-tips"></a><span data-ttu-id="785be-244">Dizin oluşturma ipuçları</span><span class="sxs-lookup"><span data-stu-id="785be-244">Indexing tips</span></span>
<span data-ttu-id="785be-245">**Bir arama kutusu kullanmazsanız dizin verimliliğini artırmak**</span><span class="sxs-lookup"><span data-stu-id="785be-245">**Improve index efficiency if you don't use a Search box**</span></span>

<span data-ttu-id="785be-246">Uygulamanız çok yönlü gezinme özel olarak kullanıyorsa (diğer bir deyişle, hiçbir arama kutusu), hello alan olarak işaretleyebilirsiniz `searchable=false`, `facetable=true` tooproduce daha küçük bir dizin.</span><span class="sxs-lookup"><span data-stu-id="785be-246">If your application uses faceted navigation exclusively (that is, no search box), you can mark hello field as `searchable=false`, `facetable=true` tooproduce a more compact index.</span></span> <span data-ttu-id="785be-247">Ayrıca, dizin oluşturma işlemi yalnızca tüm model değerlerle word kesme yok veya bir çok sözcüklü değerin bileşen bölümleri hello dizinini oluşur.</span><span class="sxs-lookup"><span data-stu-id="785be-247">In addition, indexing occurs only on whole facet values, with no word-break or indexing of hello component parts of a multi-word value.</span></span>

<span data-ttu-id="785be-248">**Hangi alanların modelleri kullanılabileceğini belirtin**</span><span class="sxs-lookup"><span data-stu-id="785be-248">**Specify which fields can be used as facets**</span></span>

<span data-ttu-id="785be-249">Bu hello geri çağırma hello dizin şemasını belirleyen bir model olarak kullanılabilir toouse alanlardır.</span><span class="sxs-lookup"><span data-stu-id="785be-249">Recall that hello schema of hello index determines which fields are available toouse as a facet.</span></span> <span data-ttu-id="785be-250">Bir alan modellenebilir olduğunu varsayarak, hello sorgu tarafından hangi alanların toofacet belirtir.</span><span class="sxs-lookup"><span data-stu-id="785be-250">Assuming a field is facetable, hello query specifies which fields toofacet by.</span></span> <span data-ttu-id="785be-251">Merhaba alan olduğunu olduğunuz altındaki hello etiketini görünür hello değerleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="785be-251">hello field by which you are faceting provides hello values that appear below hello label.</span></span> 

<span data-ttu-id="785be-252">her etiketin altında görünür hello değerleri hello dizinden alınır.</span><span class="sxs-lookup"><span data-stu-id="785be-252">hello values that appear under each label are retrieved from hello index.</span></span> <span data-ttu-id="785be-253">Örneğin, hello modeli alan ise *renk*, hello ek filtreleme için kullanılabilir değerler hello bu alanın değerlerini - kırmızı, siyah ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="785be-253">For example, if hello facet field is *Color*, hello values available for additional filtering are hello values for that field - Red, Black, and so forth.</span></span>

<span data-ttu-id="785be-254">Yalnızca sayısal ve tarih/saat değerleri için açıkça hello modeli alanında değerlerini ayarlayabilirsiniz (örneğin, `facet=Rating,values:1|2|3|4|5`).</span><span class="sxs-lookup"><span data-stu-id="785be-254">For Numeric and DateTime values only, you can explicitly set values on hello facet field (for example, `facet=Rating,values:1|2|3|4|5`).</span></span> <span data-ttu-id="785be-255">Değerler listesini Bu alan türleri toosimplify hello ayrılması modeli sonuçları bitişik aralıkları (sayısal değerleri veya dönemlere göre ya da aralıkları) içine izin verilir.</span><span class="sxs-lookup"><span data-stu-id="785be-255">A values list is allowed for these field types toosimplify hello separation of facet results into contiguous ranges (either ranges based on numeric values or time periods).</span></span> 

<span data-ttu-id="785be-256">**Varsayılan olarak yalnızca bir düzey modellenmiş bir gezinmede olabilir**</span><span class="sxs-lookup"><span data-stu-id="785be-256">**By default you can only have one level of faceted navigation**</span></span> 

<span data-ttu-id="785be-257">Belirtildiği gibi bir hiyerarşideki modelleri iç içe geçme için doğrudan desteği yoktur.</span><span class="sxs-lookup"><span data-stu-id="785be-257">As noted, there is no direct support for nesting facets in a hierarchy.</span></span> <span data-ttu-id="785be-258">Varsayılan olarak, Azure Search'te modellenmiş bir gezinmede yalnızca bir düzey filtre destekler.</span><span class="sxs-lookup"><span data-stu-id="785be-258">By default, faceted navigation in Azure Search only supports one level of filters.</span></span> <span data-ttu-id="785be-259">Ancak, geçici çözümler mevcut.</span><span class="sxs-lookup"><span data-stu-id="785be-259">However, workarounds do exist.</span></span> <span data-ttu-id="785be-260">Hiyerarşik modeli yapısında kodlayabilir bir `Collection(Edm.String)` ile bir giriş noktası hiyerarşisi.</span><span class="sxs-lookup"><span data-stu-id="785be-260">You can encode a hierarchical facet structure in a `Collection(Edm.String)` with one entry point per hierarchy.</span></span> <span data-ttu-id="785be-261">Bu geçici çözüm uygulandığında, bu makalede hello kapsamında değildir.</span><span class="sxs-lookup"><span data-stu-id="785be-261">Implementing this workaround is beyond hello scope of this article.</span></span> 

### <a name="querying-tips"></a><span data-ttu-id="785be-262">İpuçları sorgulama</span><span class="sxs-lookup"><span data-stu-id="785be-262">Querying tips</span></span>
<span data-ttu-id="785be-263">**Alanları doğrula**</span><span class="sxs-lookup"><span data-stu-id="785be-263">**Validate fields**</span></span>

<span data-ttu-id="785be-264">Dinamik olarak güvenilmeyen kullanıcı girişini temel alarak modelleri hello listesi yapılandırdıysanız, hello modellenmiş alanlarının hello adları geçerli olduğunu doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="785be-264">If you build hello list of facets dynamically based on untrusted user input, validate that hello names of hello faceted fields are valid.</span></span> <span data-ttu-id="785be-265">Veya URL'leri kullanarak oluştururken hello adları kaçış `Uri.EscapeDataString()` .NET ya da hello platformunda seçim eşdeğer.</span><span class="sxs-lookup"><span data-stu-id="785be-265">Or, escape hello names when building URLs by using either `Uri.EscapeDataString()` in .NET, or hello equivalent in your platform of choice.</span></span>

### <a name="filtering-tips"></a><span data-ttu-id="785be-266">Filtreleme ipuçları</span><span class="sxs-lookup"><span data-stu-id="785be-266">Filtering tips</span></span>
<span data-ttu-id="785be-267">**Arama duyarlık filtrelerle artırın**</span><span class="sxs-lookup"><span data-stu-id="785be-267">**Increase search precision with filters**</span></span>

<span data-ttu-id="785be-268">Filtreleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="785be-268">Use filters.</span></span> <span data-ttu-id="785be-269">Üzerinde güveniyorsanız yalnızca arama ifadeleri başına kaynaklanan bir belge toobe neden olabilecek, hello kesin model değeri kendi alanların hiçbirini yok döndürdü.</span><span class="sxs-lookup"><span data-stu-id="785be-269">If you rely on just search expressions alone, stemming could cause a document toobe returned that doesn’t have hello precise facet value in any of its fields.</span></span>

<span data-ttu-id="785be-270">**Filtrelerle arama performansı artırma**</span><span class="sxs-lookup"><span data-stu-id="785be-270">**Increase search performance with filters**</span></span>

<span data-ttu-id="785be-271">Filtreler arama için aday belgeler hello kümesi daraltmak ve gelen sıralaması içermeyecek.</span><span class="sxs-lookup"><span data-stu-id="785be-271">Filters narrow down hello set of candidate documents for search and exclude them from ranking.</span></span> <span data-ttu-id="785be-272">Çok sayıda belgeleri varsa, detaya seçmeli modeli genellikle kullanarak, daha iyi performans sağlar.</span><span class="sxs-lookup"><span data-stu-id="785be-272">If you have a large set of documents, using a selective facet drill-down often gives you better performance.</span></span>
  
<span data-ttu-id="785be-273">**Filtre yalnızca hello modellenmiş alanları**</span><span class="sxs-lookup"><span data-stu-id="785be-273">**Filter only hello faceted fields**</span></span>

<span data-ttu-id="785be-274">Modellenmiş ayrıntıya aşağı genellikle tooonly istediğiniz hello model değeri belirli (modellenmiş) alanında olmayan herhangi bir yere tüm aranabilir alanları olan belgeler dahildir.</span><span class="sxs-lookup"><span data-stu-id="785be-274">In faceted drill-down, you typically want tooonly include documents that have hello facet value in a specific (faceted) field, not anywhere across all searchable fields.</span></span> <span data-ttu-id="785be-275">Bir filtre eklemeden hello hedef alan hello hizmet toosearch yalnızca alanındaki hello modellenmiş eşleşen değere yönlendirerek eklenir.</span><span class="sxs-lookup"><span data-stu-id="785be-275">Adding a filter reinforces hello target field by directing hello service toosearch only in hello faceted field for a matching value.</span></span>

<span data-ttu-id="785be-276">**Daha fazla filtrelerle modeli sonuçları kırpma**</span><span class="sxs-lookup"><span data-stu-id="785be-276">**Trim facet results with more filters**</span></span>

<span data-ttu-id="785be-277">Model sonuçları modeli terimiyle eşleşen hello arama sonuçlarında bulunan belgelerdir.</span><span class="sxs-lookup"><span data-stu-id="785be-277">Facet results are documents found in hello search results that match a facet term.</span></span> <span data-ttu-id="785be-278">Aşağıdaki örnek, arama sonuçlarında hello içinde *bulut bilgi işlem*, 254 öğeleri de *iç belirtimi* bir içerik türü.</span><span class="sxs-lookup"><span data-stu-id="785be-278">In hello following example, in search results for *cloud computing*, 254 items also have *internal specification* as a content type.</span></span> <span data-ttu-id="785be-279">Öğeleri dışlayan olmak zorunda değildir.</span><span class="sxs-lookup"><span data-stu-id="785be-279">Items are not necessarily mutually exclusive.</span></span> <span data-ttu-id="785be-280">Bir öğe hem filtreleri hello ölçütlerini karşılıyorsa, her birinde sayılır.</span><span class="sxs-lookup"><span data-stu-id="785be-280">If an item meets hello criteria of both filters, it is counted in each one.</span></span> <span data-ttu-id="785be-281">Bu çoğaltma mümkündür üzerinde olduğunu `Collection(Edm.String)` genellikle alanları kullanılan belge tooimplement etiketleme.</span><span class="sxs-lookup"><span data-stu-id="785be-281">This duplication is possible when faceting on `Collection(Edm.String)` fields, which are often used tooimplement document tagging.</span></span>

        Search term: "cloud computing"
        Content type
           Internal specification (254)
           Video (10) 

<span data-ttu-id="785be-282">Genel olarak, görürseniz modeli sonuçları sürekli olarak çok büyük olduğundan, daha eklemenizi öneririz toogive kullanıcılar hello arama daraltma için daha fazla seçenek filtreler.</span><span class="sxs-lookup"><span data-stu-id="785be-282">In general, if you find that facet results are consistently too large, we recommend that you add more filters toogive users more options for narrowing hello search.</span></span>

### <a name="tips-about-result-count"></a><span data-ttu-id="785be-283">Sonuç sayısı hakkında ipuçları</span><span class="sxs-lookup"><span data-stu-id="785be-283">Tips about result count</span></span>

<span data-ttu-id="785be-284">**Merhaba hello model Gezinti içindeki öğe sayısını sınırla**</span><span class="sxs-lookup"><span data-stu-id="785be-284">**Limit hello number of items in hello facet navigation**</span></span>

<span data-ttu-id="785be-285">Merhaba Gezinti ağacında her modellenmiş alan için bir varsayılan sınır 10 değer yoktur.</span><span class="sxs-lookup"><span data-stu-id="785be-285">For each faceted field in hello navigation tree, there is a default limit of 10 values.</span></span> <span data-ttu-id="785be-286">Merhaba değerleri listesi tooa yönetilebilir boyutu tuttuğu için bu varsayılan gezinti yapıları için anlamlıdır.</span><span class="sxs-lookup"><span data-stu-id="785be-286">This default makes sense for navigation structures because it keeps hello values list tooa manageable size.</span></span> <span data-ttu-id="785be-287">Bir değer toocount atayarak hello Varsayılanı geçersiz kılabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="785be-287">You can override hello default by assigning a value toocount.</span></span>

* <span data-ttu-id="785be-288">`&facet=city,count:5`sonuçları derece hello üst bulunan yalnızca hello ilk beş Şehir modeli sonucu olarak döndürüleceğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="785be-288">`&facet=city,count:5` specifies that only hello first five cities found in hello top ranked results are returned as a facet result.</span></span> <span data-ttu-id="785be-289">Bir arama terimi "havaalanı" ve 32 eşleşen bir örnek sorgu göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="785be-289">Consider a sample query with a search term of “airport” and 32 matches.</span></span> <span data-ttu-id="785be-290">Merhaba sorgu belirtiyorsa `&facet=city,count:5`, ilk beş benzersiz Şehir hello arama sonuçlarında çoğu belgeler bulunmaktadır hello hello modeli sonuçları hello sadece.</span><span class="sxs-lookup"><span data-stu-id="785be-290">If hello query specifies `&facet=city,count:5`, only hello first five unique cities with hello most documents in hello search results are included in hello facet results.</span></span>

<span data-ttu-id="785be-291">Model sonuçları ve arama sonuçları arasında hello fark dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="785be-291">Notice hello distinction between facet results and search results.</span></span> <span data-ttu-id="785be-292">Arama sonuçları hello sorguyla eşleşen tüm hello belgelerdir.</span><span class="sxs-lookup"><span data-stu-id="785be-292">Search results are all hello documents that match hello query.</span></span> <span data-ttu-id="785be-293">Model sonuçlar her modeli değerle hello olur.</span><span class="sxs-lookup"><span data-stu-id="785be-293">Facet results are hello matches for each facet value.</span></span> <span data-ttu-id="785be-294">Merhaba örnekte, arama sonuçları hello modeli sınıflandırması listesi (örneğimizde 5) olmayan Şehir adları içerir.</span><span class="sxs-lookup"><span data-stu-id="785be-294">In hello example, search results include City names that are not in hello facet classification list (5 in our example).</span></span> <span data-ttu-id="785be-295">Modelleri işaretini kaldırın veya şehir yanı sıra diğer yönleri seçin çok yönlü gezinmeyi filtrelenen sonuçları görünür hale gelmiştir.</span><span class="sxs-lookup"><span data-stu-id="785be-295">Results that are filtered out through faceted navigation become visible when you clear facets, or choose other facets besides City.</span></span> 

> [!NOTE]
> <span data-ttu-id="785be-296">Ele `count` olduğunda birden çok tür kafa karıştırıcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="785be-296">Discussing `count` when there is more than one type can be confusing.</span></span> <span data-ttu-id="785be-297">Merhaba aşağıdaki tabloda hello terim Azure Search API, örnek kod ve belgeleri nasıl kullanılacağı kısa bir özeti sunar.</span><span class="sxs-lookup"><span data-stu-id="785be-297">hello following table offers a brief summary of how hello term is used in Azure Search API, sample code, and documentation.</span></span> 

* `@colorFacet.count`<br/>
  <span data-ttu-id="785be-298">Sunu kodda bir sayı parametresi hello modeli, model sonuç kullanılan toodisplay hello sayısı görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="785be-298">In presentation code, you should see a count parameter on hello facet, used toodisplay hello number of facet results.</span></span> <span data-ttu-id="785be-299">Model sonuçlarında sayısı hello modeli terim veya aralık eşleşen belgeleri hello sayısını gösterir.</span><span class="sxs-lookup"><span data-stu-id="785be-299">In facet results, count indicates hello number of documents that match on hello facet term or range.</span></span>
* `&facet=City,count:12`<br/>
  <span data-ttu-id="785be-300">Bir model sorgu sayısı tooa değeri ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="785be-300">In a facet query, you can set count tooa value.</span></span>  <span data-ttu-id="785be-301">Merhaba varsayılan 10'dur, ancak daha yüksek veya düşük ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="785be-301">hello default is 10, but you can set it higher or lower.</span></span> <span data-ttu-id="785be-302">Ayarı `count:12` alır hello modeli sonuçlarında üst 12 eşleşmeleri göre belge sayısı.</span><span class="sxs-lookup"><span data-stu-id="785be-302">Setting `count:12` gets hello top 12 matches in facet results by document count.</span></span>
* <span data-ttu-id="785be-303">"`@odata.count`"</span><span class="sxs-lookup"><span data-stu-id="785be-303">"`@odata.count`"</span></span><br/>
  <span data-ttu-id="785be-304">Merhaba sorgu yanıt olarak, bu değer hello arama sonuçlarında eşleşen öğe hello sayısını gösterir.</span><span class="sxs-lookup"><span data-stu-id="785be-304">In hello query response, this value indicates hello number of matching items in hello search results.</span></span> <span data-ttu-id="785be-305">Ortalama olarak hello toplamı, hello arama terimiyle eşleşen öğeleri toohello varlığını birleştirilen tüm model sonuçları, daha büyük ancak herhangi bir model değeri eşleşme vardır.</span><span class="sxs-lookup"><span data-stu-id="785be-305">On average, it’s larger than hello sum of all facet results combined, due toohello presence of items that match hello search term, but have no facet value matches.</span></span>

<span data-ttu-id="785be-306">**Model sonuçlarında sayılarını elde**</span><span class="sxs-lookup"><span data-stu-id="785be-306">**Get counts in facet results**</span></span>

<span data-ttu-id="785be-307">Bir filtre tooa modellenmiş sorgu eklediğinizde, tooretain hello modeli deyimi isteyebilir (örneğin, `facet=Rating&$filter=Rating ge 4`).</span><span class="sxs-lookup"><span data-stu-id="785be-307">When you add a filter tooa faceted query, you might want tooretain hello facet statement (for example, `facet=Rating&$filter=Rating ge 4`).</span></span> <span data-ttu-id="785be-308">Teknik olarak, model = değil derecelendirme gereklidir, ancak bunu tutma döndürür hello sayıları derecelendirmeler için model değerlerinin 4 ve üzeri.</span><span class="sxs-lookup"><span data-stu-id="785be-308">Technically, facet=Rating isn’t needed, but keeping it returns hello counts of facet values for ratings 4 and higher.</span></span> <span data-ttu-id="785be-309">Örneğin, "4"'i tıklatın ve hello sorgu bir filtre içeren her derecelendirme 4 ve üzeri için büyük veya eşit için çok "4" sayıları döndürülür.</span><span class="sxs-lookup"><span data-stu-id="785be-309">For example, if you click "4" and hello query includes a filter for greater or equal too"4", counts are returned for each rating that is 4 and higher.</span></span>  

<span data-ttu-id="785be-310">**Doğru model sayılarını elde emin olun**</span><span class="sxs-lookup"><span data-stu-id="785be-310">**Make sure you get accurate facet counts**</span></span>

<span data-ttu-id="785be-311">Belirli koşullar altında model sayıları hello sonuç kümeleri eşleşmiyor bulabilirsiniz (bkz [Azure Search'te (forum gönderisi) modellenmiş bir gezinmede](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span><span class="sxs-lookup"><span data-stu-id="785be-311">Under certain circumstances, you might find that facet counts do not match hello result sets (see [Faceted navigation in Azure Search (forum post)](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span></span>

<span data-ttu-id="785be-312">Model sayıları toohello parçalama mimarisi tutarsız olabilir.</span><span class="sxs-lookup"><span data-stu-id="785be-312">Facet counts can be inaccurate due toohello sharding architecture.</span></span> <span data-ttu-id="785be-313">Birden çok parça her arama dizini vardır ve her parça sonra tek bir sonuç birleştirilmiş belge sayısına göre hello ilk N modelleri raporlar.</span><span class="sxs-lookup"><span data-stu-id="785be-313">Every search index has multiple shards, and each shard reports hello top N facets by document count, which is then combined into a single result.</span></span> <span data-ttu-id="785be-314">Başkalarının daha az varken bazı parça birçok eşleşen değerleri, varsa, bazı modeli değerleri eksik olan veya altında hello sonuçlarında sayılan bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="785be-314">If some shards have many matching values, while others have fewer, you may find that some facet values are missing or under-counted in hello results.</span></span>

<span data-ttu-id="785be-315">Bu davranış bugün karşılaşırsanız Bu davranış herhangi bir zamanda değişebilir rağmen çevresinde yapay hello sayısı inflating tarafından çalışabilirsiniz:<number> tooa büyük sayı tooenforce her parça raporlama tam.</span><span class="sxs-lookup"><span data-stu-id="785be-315">Although this behavior could change at any time, if you encounter this behavior today, you can work around it by artificially inflating hello count:<number> tooa large number tooenforce full reporting from each shard.</span></span> <span data-ttu-id="785be-316">Varsa hello sayısı değeri: sıfırdan büyük veya eşit toohello sayıdır hello alanında benzersiz değerini, doğru sonuçlar garanti.</span><span class="sxs-lookup"><span data-stu-id="785be-316">If hello value of count: is greater than or equal toohello number of unique values in hello field, you are guaranteed accurate results.</span></span> <span data-ttu-id="785be-317">Ancak, belge sayısını yüksek olduğunda bulunmaktadır performans, bu nedenle bu seçeneği dikkatli kullanın.</span><span class="sxs-lookup"><span data-stu-id="785be-317">However, when document counts are high, there is a performance penalty, so use this option judiciously.</span></span>

### <a name="user-interface-tips"></a><span data-ttu-id="785be-318">Kullanıcı arabirimi ipuçları</span><span class="sxs-lookup"><span data-stu-id="785be-318">User interface tips</span></span>
<span data-ttu-id="785be-319">**Model Gezinti bölmesinde her bir alan için etiketler ekleme**</span><span class="sxs-lookup"><span data-stu-id="785be-319">**Add labels for each field in facet navigation**</span></span>

<span data-ttu-id="785be-320">Etiketleri tipik hello HTML veya formunda tanımlanır (`index.cshtml` hello örnek uygulamasında).</span><span class="sxs-lookup"><span data-stu-id="785be-320">Labels are typically defined in hello HTML or form (`index.cshtml` in hello sample application).</span></span> <span data-ttu-id="785be-321">Azure Search'te model Gezinti etiketleri için API yok veya diğer meta verileri yok.</span><span class="sxs-lookup"><span data-stu-id="785be-321">There is no API in Azure Search for facet navigation labels or any other metadata.</span></span>

<a name="rangefacets"></a>

## <a name="filter-based-on-a-range"></a><span data-ttu-id="785be-322">Bir aralığı tabanlı filtresi</span><span class="sxs-lookup"><span data-stu-id="785be-322">Filter based on a range</span></span>
<span data-ttu-id="785be-323">Değerleri aralığı üzerinden olduğunu ortak arama uygulaması gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="785be-323">Faceting over ranges of values is a common search application requirement.</span></span> <span data-ttu-id="785be-324">Aralıkları sayısal veri ve DateTime değerleri için desteklenir.</span><span class="sxs-lookup"><span data-stu-id="785be-324">Ranges are supported for numeric data and DateTime values.</span></span> <span data-ttu-id="785be-325">Daha fazla bilgiyi her yaklaşımı hakkında [Search belgeleri (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span><span class="sxs-lookup"><span data-stu-id="785be-325">You can read more about each approach in [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span></span>

<span data-ttu-id="785be-326">Azure arama, bir aralık bilgi işlem için iki yaklaşım sağlayarak aralığı yapım basitleştirir.</span><span class="sxs-lookup"><span data-stu-id="785be-326">Azure Search simplifies range construction by providing two approaches for computing a range.</span></span> <span data-ttu-id="785be-327">Her iki yaklaşımın için Azure Search hello sağladığınız hello girişleri verilen uygun aralıkların oluşturur.</span><span class="sxs-lookup"><span data-stu-id="785be-327">For both approaches, Azure Search creates hello appropriate ranges given hello inputs you’ve provided.</span></span> <span data-ttu-id="785be-328">Örneğin, 10 aralık değerleri belirtirseniz | 20 | 30, otomatik olarak oluşturur, 0-10, 10-20, 20-30 aralıkları.</span><span class="sxs-lookup"><span data-stu-id="785be-328">For instance, if you specify range values of 10|20|30, it automatically creates ranges of 0-10, 10-20, 20-30.</span></span> <span data-ttu-id="785be-329">Uygulamanızın isteğe bağlı olarak boş aralıkları kaldırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="785be-329">Your application can optionally remove any intervals that are empty.</span></span> 

<span data-ttu-id="785be-330">**Yaklaşım 1: hello aralığı parametresini kullanın**</span><span class="sxs-lookup"><span data-stu-id="785be-330">**Approach 1: Use hello interval parameter**</span></span>  
<span data-ttu-id="785be-331">tooset fiyat modelleri 10 artışlarla belirtirsiniz:`&facet=price,interval:10`</span><span class="sxs-lookup"><span data-stu-id="785be-331">tooset price facets in $10 increments, you would specify: `&facet=price,interval:10`</span></span>

<span data-ttu-id="785be-332">**Yaklaşım 2: değerler listesini kullanın**</span><span class="sxs-lookup"><span data-stu-id="785be-332">**Approach 2: Use a values list**</span></span>  
<span data-ttu-id="785be-333">Sayısal veriler için değerler listesi kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="785be-333">For numeric data, you can use a values list.</span></span>  <span data-ttu-id="785be-334">Merhaba modeli aralığının göz önünde bulundurun bir `listPrice` gibi çizilir alan:</span><span class="sxs-lookup"><span data-stu-id="785be-334">Consider hello facet range for a `listPrice` field, rendered as follows:</span></span>

  ![Örnek değerler listesi][5]

<span data-ttu-id="785be-336">bir model aralığı gibi bir ekran görüntüsü önceki hello hello toospecify değerler listesini kullanın:</span><span class="sxs-lookup"><span data-stu-id="785be-336">toospecify a facet range like hello one in hello preceding screen shot, use a values list:</span></span>

    facet=listPrice,values:10|25|100|500|1000|2500

<span data-ttu-id="785be-337">Her aralık hello önceki aralığı toocreate ayrık aralıklarına kırpılır ve bir uç nokta olarak hello listesinden bir değer bir başlangıç noktası olarak 0 kullanarak yerleşik olarak bulunur.</span><span class="sxs-lookup"><span data-stu-id="785be-337">Each range is built using 0 as a starting point, a value from hello list as an endpoint, and then trimmed of hello previous range toocreate discrete intervals.</span></span> <span data-ttu-id="785be-338">Azure arama modellenmiş bir gezinmede bir parçası olarak bu işlemi yapar.</span><span class="sxs-lookup"><span data-stu-id="785be-338">Azure Search does these things as part of faceted navigation.</span></span> <span data-ttu-id="785be-339">Her aralık yapılandırılması için toowrite koduna sahip değil.</span><span class="sxs-lookup"><span data-stu-id="785be-339">You do not have toowrite code for structuring each interval.</span></span>

### <a name="build-a-filter-for-a-range"></a><span data-ttu-id="785be-340">Bir aralık için bir filtre oluşturun</span><span class="sxs-lookup"><span data-stu-id="785be-340">Build a filter for a range</span></span>
<span data-ttu-id="785be-341">Seçtiğiniz bir aralığı tabanlı toofilter belgeleri hello kullanabilir `"ge"` ve `"lt"` filtre hello aralığının hello uç noktalarını tanımlayan iki parçalı ifadesi işleçler.</span><span class="sxs-lookup"><span data-stu-id="785be-341">toofilter documents based on a range you select, you can use hello `"ge"` and `"lt"` filter operators in a two-part expression that defines hello endpoints of hello range.</span></span> <span data-ttu-id="785be-342">Seçerseniz, örneğin, aralığı 10-25 için hello bir `listPrice` alanı hello filtre olacaktır `$filter=listPrice ge 10 and listPrice lt 25`.</span><span class="sxs-lookup"><span data-stu-id="785be-342">For example, if you choose hello range 10-25 for a `listPrice` field, hello filter would be `$filter=listPrice ge 10 and listPrice lt 25`.</span></span> <span data-ttu-id="785be-343">Merhaba örnek kodda hello filtre ifadesi kullanan **priceFrom** ve **priceTo** parametreleri tooset hello uç noktaları.</span><span class="sxs-lookup"><span data-stu-id="785be-343">In hello sample code, hello filter expression uses **priceFrom** and **priceTo** parameters tooset hello endpoints.</span></span> 

  ![Bir değer aralığı için sorgu][6]

<a name="geofacets"></a> 

## <a name="filter-based-on-distance"></a><span data-ttu-id="785be-345">Uzaklık üzerinde göre filtrele</span><span class="sxs-lookup"><span data-stu-id="785be-345">Filter based on distance</span></span>
<span data-ttu-id="785be-346">Kendi ortak toosee bir mağaza, Restoran ya da kendi yakınlık tooyour geçerli konumuna bağlı hedef seçtiğiniz yardımcı filtreler.</span><span class="sxs-lookup"><span data-stu-id="785be-346">It’s common toosee filters that help you choose a store, restaurant, or destination based on its proximity tooyour current location.</span></span> <span data-ttu-id="785be-347">Bu tür filtresini modellenmiş bir gezinmede gibi görünebilir, ancak bunu yalnızca bir filtredir.</span><span class="sxs-lookup"><span data-stu-id="785be-347">While this type of filter might look like faceted navigation, it’s just a filter.</span></span> <span data-ttu-id="785be-348">Biz buraya uygulama öneriler, belirli tasarım sorunu için özellikle istiyorsunuz, bu için Bahsediyor.</span><span class="sxs-lookup"><span data-stu-id="785be-348">We mention it here for those of you who are specifically looking for implementation advice for that particular design problem.</span></span>

<span data-ttu-id="785be-349">Azure Search'te iki Jeo-uzamsal işlevleri vardır **geo.distance** ve **geo.intersects**.</span><span class="sxs-lookup"><span data-stu-id="785be-349">There are two Geospatial functions in Azure Search, **geo.distance** and **geo.intersects**.</span></span>

* <span data-ttu-id="785be-350">Merhaba **geo.distance** işlevi arasında iki nokta içinde kilometre hello uzaklığını döndürür.</span><span class="sxs-lookup"><span data-stu-id="785be-350">hello **geo.distance** function returns hello distance in kilometers between two points.</span></span> <span data-ttu-id="785be-351">Bir noktadan bir alan ve diğer hello filtre bir parçası olarak geçirilen bir sabit değer.</span><span class="sxs-lookup"><span data-stu-id="785be-351">One point is a field and other is a constant passed as part of hello filter.</span></span> 
* <span data-ttu-id="785be-352">Merhaba **geo.intersects** işlevi verilen bir noktaya içinde belirli bir Çokgen ise true döndürür.</span><span class="sxs-lookup"><span data-stu-id="785be-352">hello **geo.intersects** function returns true if a given point is within a given polygon.</span></span> <span data-ttu-id="785be-353">başlangıç noktası bir alan ve hello Çokgen hello filtre bir parçası olarak geçirilen koordinatları sabit listesi olarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="785be-353">hello point is a field and hello polygon is specified as a constant list of coordinates passed as part of hello filter.</span></span>

<span data-ttu-id="785be-354">Filtre örneklerde bulabilirsiniz [OData ifadesi sözdizimi (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span><span class="sxs-lookup"><span data-stu-id="785be-354">You can find filter examples in [OData expression syntax (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span></span>

<a name="tryitout"></a>

## <a name="try-hello-demo"></a><span data-ttu-id="785be-355">Merhaba Tanıtımı deneyin</span><span class="sxs-lookup"><span data-stu-id="785be-355">Try hello demo</span></span>
<span data-ttu-id="785be-356">Hello Azure arama proje portalı Demo bu makalede başvurulan hello örnekler yer almaktadır.</span><span class="sxs-lookup"><span data-stu-id="785be-356">hello Azure Search Job Portal Demo contains hello examples referenced in this article.</span></span>

-   <span data-ttu-id="785be-357">Bakın ve test hello çalışma demo çevrimiçi adresindeki [Azure arama proje portalı Demo](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="785be-357">See and test hello working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="785be-358">Merhaba kodu hello indirme [Azure-Samples bağlantıların github'da](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="785be-358">Download hello code from hello [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

<span data-ttu-id="785be-359">Arama sonuçları ile çalışırken, hello URL sorgu yapım değişiklikler için izleyin.</span><span class="sxs-lookup"><span data-stu-id="785be-359">As you work with search results, watch hello URL for changes in query construction.</span></span> <span data-ttu-id="785be-360">Tek tek seçerek bu uygulama tooappend modelleri toohello URI olur.</span><span class="sxs-lookup"><span data-stu-id="785be-360">This application happens tooappend facets toohello URI as you select each one.</span></span>

1. <span data-ttu-id="785be-361">toouse hello eşleme hello tanıtım uygulamasını işlevselliğini hello bir Bing Haritalar anahtarı alma [Bing Haritalar Geliştirme Merkezi](https://www.bingmapsportal.com/).</span><span class="sxs-lookup"><span data-stu-id="785be-361">toouse hello mapping functionality of hello demo app, get a Bing Maps key from hello [Bing Maps Dev Center](https://www.bingmapsportal.com/).</span></span> <span data-ttu-id="785be-362">Merhaba hello varolan anahtarı üzerinden yapıştırın `index.cshtml` sayfası.</span><span class="sxs-lookup"><span data-stu-id="785be-362">Paste it over hello existing key in hello `index.cshtml` page.</span></span> <span data-ttu-id="785be-363">Merhaba `BingApiKey` hello ayarı `Web.config` dosya kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="785be-363">hello `BingApiKey` setting in hello `Web.config` file is not used.</span></span> 

2. <span data-ttu-id="785be-364">Merhaba uygulamayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="785be-364">Run hello application.</span></span> <span data-ttu-id="785be-365">Merhaba isteğe bağlı tura katılın veya hello iletişim kutusunu kapatın.</span><span class="sxs-lookup"><span data-stu-id="785be-365">Take hello optional tour, or dismiss hello dialog box.</span></span>
   
3. <span data-ttu-id="785be-366">"Analist" gibi bir arama terimi girin ve hello arama simgesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="785be-366">Enter a search term, such as "analyst", and click hello Search icon.</span></span> <span data-ttu-id="785be-367">hızlı bir şekilde Hello sorgusunu çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="785be-367">hello query executes quickly.</span></span>
   
   <span data-ttu-id="785be-368">Modellenmiş bir gezinmede yapısı da hello Arama sonuçlarıyla döndürülür.</span><span class="sxs-lookup"><span data-stu-id="785be-368">A faceted navigation structure is also returned with hello search results.</span></span> <span data-ttu-id="785be-369">Merhaba arama sonuçları sayfasında hello modellenmiş bir gezinmede yapısı her modeli sonucu sayılarını içerir.</span><span class="sxs-lookup"><span data-stu-id="785be-369">In hello search result page, hello faceted navigation structure includes counts for each facet result.</span></span> <span data-ttu-id="785be-370">Hiçbir modelleri seçildi bu nedenle tüm eşleşen sonuç döndürmedi.</span><span class="sxs-lookup"><span data-stu-id="785be-370">No facets are selected, so all matching results are returned.</span></span>
   
   ![Modelleri seçmeden önce arama sonuçları][11]

4. <span data-ttu-id="785be-372">Bir iş başlık, konum veya en düşük maaş'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="785be-372">Click a Business Title, Location, or Minimum Salary.</span></span> <span data-ttu-id="785be-373">Modelleri hello ilk Search'te null, ancak değerler aldıkları gibi hello arama sonuçları artık eşleşen öğeleri atılır.</span><span class="sxs-lookup"><span data-stu-id="785be-373">Facets were null on hello initial search, but as they take on values, hello search results are trimmed of items that no longer match.</span></span>
   
   ![Modelleri seçtikten sonra arama sonuçları][12]

5. <span data-ttu-id="785be-375">tooclear hello modellenmiş farklı sorgu davranışları deneyebilirsiniz böylece sorgusu hello `[X]` modelleri tooclear hello modelleri hello seçtikten sonra.</span><span class="sxs-lookup"><span data-stu-id="785be-375">tooclear hello faceted query so that you can try different query behaviors, click hello `[X]` after hello selected facets tooclear hello facets.</span></span>
   
<a name="nextstep"></a>

## <a name="learn-more"></a><span data-ttu-id="785be-376">Daha fazla bilgi edinin</span><span class="sxs-lookup"><span data-stu-id="785be-376">Learn more</span></span>
<span data-ttu-id="785be-377">Gözcü [Azure arama derinlemesine](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span><span class="sxs-lookup"><span data-stu-id="785be-377">Watch [Azure Search Deep Dive](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span></span> <span data-ttu-id="785be-378">45:25 hakkında bir tanıtım yoktur tooimplement yönü.</span><span class="sxs-lookup"><span data-stu-id="785be-378">At 45:25, there is a demo on how tooimplement facets.</span></span>

<span data-ttu-id="785be-379">Tasarım ilkeleri modellenmiş gezinmesine daha fazla bilgiler için bağlantılar aşağıdaki hello öneririz:</span><span class="sxs-lookup"><span data-stu-id="785be-379">For more insights on design principles for faceted navigation, we recommend hello following links:</span></span>

* [<span data-ttu-id="785be-380">Modellenmiş Ara tasarlama</span><span class="sxs-lookup"><span data-stu-id="785be-380">Designing for Faceted Search</span></span>](http://www.uie.com/articles/faceted_search/)
* [<span data-ttu-id="785be-381">Tasarım desenleri: Çok yönlü gezinme</span><span class="sxs-lookup"><span data-stu-id="785be-381">Design Patterns: Faceted Navigation</span></span>](http://alistapart.com/article/design-patterns-faceted-navigation)


<!--Anchors-->
[How toobuild it]: #howtobuildit
[Build hello presentation layer]: #presentationlayer
[Build hello index]: #buildindex
[Check for data quality]: #checkdata
[Build hello query]: #buildquery
[Tips on how toocontrol faceted navigation]: #tips
[Faceted navigation based on range values]: #rangefacets
[Faceted navigation based on GeoPoints]: #geofacets
[Try it out]: #tryitout

<!--Image references-->
[1]: ./media/search-faceted-navigation/azure-search-faceting-example.PNG
[2]: ./media/search-faceted-navigation/Facet-2-CSHTML.PNG
[3]: ./media/search-faceted-navigation/Facet-3-schema.PNG
[4]: ./media/search-faceted-navigation/Facet-4-SearchMethod.PNG
[5]: ./media/search-faceted-navigation/Facet-5-Prices.PNG
[6]: ./media/search-faceted-navigation/Facet-6-buildfilter.PNG
[7]: ./media/search-faceted-navigation/Facet-7-appstart.png
[8]: ./media/search-faceted-navigation/Facet-8-appbike.png
[9]: ./media/search-faceted-navigation/Facet-9-appbikefaceted.png
[10]: ./media/search-faceted-navigation/Facet-10-appTitle.png
[11]: ./media/search-faceted-navigation/faceted-search-before-facets.png
[12]: ./media/search-faceted-navigation/faceted-search-after-facets.png

<!--Link references-->
[Designing for Faceted Search]: http://www.uie.com/articles/faceted_search/
[Design Patterns: Faceted Navigation]: http://alistapart.com/article/design-patterns-faceted-navigation
[Create your first application]: search-create-first-solution.md
[OData expression syntax (Azure Search)]: http://msdn.microsoft.com/library/azure/dn798921.aspx
[Azure Search Adventure Works Demo]: https://azuresearchadventureworksdemo.codeplex.com/
[http://www.odata.org/documentation/odata-version-2-0/overview/]: http://www.odata.org/documentation/odata-version-2-0/overview/ 
[Faceting on Azure Search forum post]: ../faceting-on-azure-search.md?forum=azuresearch
[Search Documents (Azure Search API)]: http://msdn.microsoft.com/library/azure/dn798927.aspx

