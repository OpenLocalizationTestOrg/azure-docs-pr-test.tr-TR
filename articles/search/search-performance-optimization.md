---
title: "aaaAzure arama performans ve en iyi duruma getirme konuları | Microsoft Docs"
description: "Azure Search performansı ayarlamak ve en iyi ölçeği yapılandırın"
services: search
documentationcenter: 
author: LiamCavanagh
manager: pablocas
editor: 
ms.assetid: 4d3cd864-29d2-4921-be0d-a3f1a819de46
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 05/01/2017
ms.author: liamca
ms.openlocfilehash: 725149ba32773ab6b4c9d4b441424aba78db7c42
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-search-performance-and-optimization-considerations"></a><span data-ttu-id="d4724-103">Azure arama performans ve en iyi duruma getirme konuları</span><span class="sxs-lookup"><span data-stu-id="d4724-103">Azure Search performance and optimization considerations</span></span>
<span data-ttu-id="d4724-104">Harika arama deneyimi birçok cep için anahtar toosuccess ve web uygulamaları ' dir.</span><span class="sxs-lookup"><span data-stu-id="d4724-104">A great search experience is a key toosuccess for many mobile and web applications.</span></span> <span data-ttu-id="d4724-105">Gayrimenkul hello Müşteri Deneyimi tooused araba Pazar tooonline katalogları, hızlı arama ve ilgili sonuçları etkiler.</span><span class="sxs-lookup"><span data-stu-id="d4724-105">From real estate, tooused car marketplaces tooonline catalogs, fast search and relevant results will affect hello customer experience.</span></span> <span data-ttu-id="d4724-106">Bu belge nasıl, ölçeklenebilirlik, çoklu dil desteği veya özel bir derecelendirme gereksinimlerini tooget hello ile Gelişmiş senaryolar için özellikle Azure Search dışında en gelişmiş için en iyi uygulamalar Bul hedeflenen toohelp değil.</span><span class="sxs-lookup"><span data-stu-id="d4724-106">This document is intended toohelp you discover best practices for how tooget hello most out of Azure Search, especially for advanced scenarios with sophisticated requirements for scalability, multi-language support, or custom ranking.</span></span>  <span data-ttu-id="d4724-107">Ayrıca, bu belgede iç Ayrıntılar özetlemektedir ve gerçek müşteri uygulamalarında etkili yaklaşımlar kapsar.</span><span class="sxs-lookup"><span data-stu-id="d4724-107">In addition, this document outlines internals and covers approaches that work effectively in real-world customer apps.</span></span>

## <a name="performance-and-scale-tuning-for-search-services"></a><span data-ttu-id="d4724-108">Performans ve ölçek arama hizmetleri için ayarlama</span><span class="sxs-lookup"><span data-stu-id="d4724-108">Performance and scale tuning for Search services</span></span>
<span data-ttu-id="d4724-109">Bunlar sağlar ve Bing ve Google hello yüksek performans gibi tüm kullanılan toosearch altyapılar duyuyoruz.</span><span class="sxs-lookup"><span data-stu-id="d4724-109">We are all used toosearch engines such as Bing and Google and hello high performance they offer.</span></span>  <span data-ttu-id="d4724-110">Sonuç olarak, müşteriler arama etkin web veya mobil uygulama kullandığınızda, benzer performans özellikleri istedikleri.</span><span class="sxs-lookup"><span data-stu-id="d4724-110">As a result, when customers use your search-enabled web or mobile application, they will expect similar performance characteristics.</span></span>  <span data-ttu-id="d4724-111">İçin arama performansı en iyi duruma getirme, hello en iyi yaklaşımlardan birini toofocus bir sorgu toocomplete ve return sonuçları hello süresini olduğu gecikme üzerinde değildir.</span><span class="sxs-lookup"><span data-stu-id="d4724-111">When optimizing for search performance, one of hello best approaches is toofocus on latency, which is hello time a query takes toocomplete and return results.</span></span>  <span data-ttu-id="d4724-112">İçin arama gecikme süresini en iyi duruma getirme zaman için önemlidir:</span><span class="sxs-lookup"><span data-stu-id="d4724-112">When optimizing for search latency it is important to:</span></span>

1. <span data-ttu-id="d4724-113">Bir hedef gecikme (veya en fazla süreyi) tipik arama isteği toocomplete zamanınızı seçin.</span><span class="sxs-lookup"><span data-stu-id="d4724-113">Pick a target latency (or maximum amount of time) that a typical search request should take toocomplete.</span></span>
2. <span data-ttu-id="d4724-114">Oluşturun ve bu gecikme oranları gerçekçi dataset toomeasure ile arama hizmetinizi karşı gerçek bir iş yükü test.</span><span class="sxs-lookup"><span data-stu-id="d4724-114">Create and test a real workload against your search service with a realistic dataset toomeasure these latency rates.</span></span>
3. <span data-ttu-id="d4724-115">Sorgular (QPS) saniyede az sayıda başlayın ve hedef gecikme gecikme hello düşene hello sorgu tanımlanan kadar hello testinde yürütülen tooincrease hello numarası devam edin.</span><span class="sxs-lookup"><span data-stu-id="d4724-115">Start with a low number of queries per second (QPS) and continue tooincrease hello number executed in hello test until hello query latency drops below hello defined target latency.</span></span>  <span data-ttu-id="d4724-116">Uygulamanızın kullanımını büyüdükçe için ölçek planlama önemli Kıyaslama toohelp budur.</span><span class="sxs-lookup"><span data-stu-id="d4724-116">This is an important benchmark toohelp you plan for scale as your application grows in usage.</span></span>
4. <span data-ttu-id="d4724-117">Mümkün olduğunda, HTTP bağlantılarını yeniden kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4724-117">Wherever possible, reuse HTTP connections.</span></span>  <span data-ttu-id="d4724-118">Hello Azure Search .NET SDK'sı kullanıyorsanız, bu örneğini yeniden gelir veya [Searchındexclient](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.searchindexclient) örneği ve kullanıyorsanız REST API Merhaba, tek bir HttpClient yeniden kullanmamalısınız.</span><span class="sxs-lookup"><span data-stu-id="d4724-118">If you are using hello Azure Search .NET SDK, this means you should reuse an instance or [SearchIndexClient](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.searchindexclient) instance, and if you are using hello REST API, you should reuse a single HttpClient.</span></span>

<span data-ttu-id="d4724-119">Bunlar oluşturulurken test iş yükleri, Azure Search tookeep aklınızda bazı özellikleri vardır:</span><span class="sxs-lookup"><span data-stu-id="d4724-119">While creating these test workloads, there are some characteristics of Azure Search tookeep in mind:</span></span>

1. <span data-ttu-id="d4724-120">Toopush aynı anda çok sayıda arama sorguları, hello kaynakları Azure Search hizmetinizin kullanılabilir hale mümkündür.</span><span class="sxs-lookup"><span data-stu-id="d4724-120">It is possible toopush so many search queries at one time, that hello resources available in your Azure Search service will be overwhelmed.</span></span>  <span data-ttu-id="d4724-121">Bu durumda, HTTP 503 yanıt kodları görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="d4724-121">When this happens, you will see HTTP 503 response codes.</span></span>  <span data-ttu-id="d4724-122">Daha fazla arama istekleri eklemek bu nedenle, en iyi toostart arama istekleri toosee hello gecikme oranları farklılıkları çeşitli aralıklarına sahip olur.</span><span class="sxs-lookup"><span data-stu-id="d4724-122">For this reason, it is best toostart with various ranges of search requests toosee hello differences in latency rates as you add more search requests.</span></span>
2. <span data-ttu-id="d4724-123">İçerik tooAzure arama etkiler karşıya yükleme hello genel performansı ve gecikme hello Azure Search hizmeti.</span><span class="sxs-lookup"><span data-stu-id="d4724-123">Uploading of content tooAzure Search will impact hello overall performance and latency of hello Azure Search service.</span></span>  <span data-ttu-id="d4724-124">Kullanıcıların aramaları gerçekleştirirken toosend veri bekliyorsanız, bu iş yükünün içine önemli tootake olduğu testlerinizi hesabında.</span><span class="sxs-lookup"><span data-stu-id="d4724-124">If you expect toosend data while users are performing searches, it is important tootake this workload into account in your tests.</span></span>
3. <span data-ttu-id="d4724-125">Her arama sorgusu sırasında hello aynı gerçekleştirecek performans düzeyleri.</span><span class="sxs-lookup"><span data-stu-id="d4724-125">Not every search query will perform at hello same performance levels.</span></span>  <span data-ttu-id="d4724-126">Örneğin, bir belge arama veya arama öneri genellikle çok sayıda modelleri ve filtreleri içeren bir sorgu daha hızlı gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="d4724-126">For example, a document lookup or search suggestion will typically perform faster than a query with a significant number of facets and filters.</span></span>  <span data-ttu-id="d4724-127">En iyi tootake hello içine toosee beklediğiniz çeşitli sorguları testlerinizi oluştururken hesap olur.</span><span class="sxs-lookup"><span data-stu-id="d4724-127">It is best tootake hello various queries you expect toosee into account when building your tests.</span></span>  
4. <span data-ttu-id="d4724-128">Merhaba sürekli yürütüyorsa aynı arama istekleri arama istekleri çeşitlemesi önemlidir, çünkü, verileri önbelleğe alma başlangıç toomake performans daha farklı bir sorgu ayarlayabilir daha iyi görünecektir.</span><span class="sxs-lookup"><span data-stu-id="d4724-128">Variation of search requests is important because if you continually execute hello same search requests, caching of data will start toomake performance look better than it might with a more disparate query set.</span></span>

> [!NOTE]
> <span data-ttu-id="d4724-129">[Visual Studio Yük testi](https://www.visualstudio.com/docs/test/performance-testing/run-performance-tests-app-before-release) , kıyaslama sınamaları olarak Azure arama sorguları yürütmek için ihtiyacınız olacak tooexecute HTTP isteklerini sağlar ve istekleri paralelleştirme sağlar gerçekten iyi bir yolu tooperform değil.</span><span class="sxs-lookup"><span data-stu-id="d4724-129">[Visual Studio Load Testing](https://www.visualstudio.com/docs/test/performance-testing/run-performance-tests-app-before-release) is a really good way tooperform your benchmark tests as it allows you tooexecute HTTP requests as you would need for executing queries against Azure Search and enables parallelization of requests.</span></span>
> 
> 

## <a name="scaling-azure-search-for-high-query-rates-and-throttled-requests"></a><span data-ttu-id="d4724-130">Azure Search yüksek sorgu hızları için ölçekleme ve istekleri kısıtlanan</span><span class="sxs-lookup"><span data-stu-id="d4724-130">Scaling Azure Search for high query rates and throttled requests</span></span>
<span data-ttu-id="d4724-131">Çok fazla daraltılmış isteklerini almak ya da hedef gecikme ücretlerinizi artırılmış sorgu yük aşan toodecrease gecikme oranları iki yoldan biriyle arayabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="d4724-131">When you are receiving too many throttled requests or exceed your target latency rates from an increased query load, you can look toodecrease latency rates in one of two ways:</span></span>

1. <span data-ttu-id="d4724-132">**Artış çoğaltmaları:** Azure Search tooload Bakiye hello istekler birden çok kopya izin vererek, verilerin bir kopyasını gibi bir çoğaltmadır.</span><span class="sxs-lookup"><span data-stu-id="d4724-132">**Increase Replicas:**  A replica is like a copy of your data allowing Azure Search tooload balance requests against hello multiple copies.</span></span>  <span data-ttu-id="d4724-133">Tüm Yük Dengeleme ve çoğaltmalar arasında verileri çoğaltmasını Azure arama tarafından yönetilir ve herhangi bir zamanda hizmetiniz için ayrılan çoğaltma hello sayısı değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4724-133">All load balancing and replication of data across replicas is managed by Azure Search and you can alter hello number of replicas allocated for your service at any time.</span></span>  <span data-ttu-id="d4724-134">Standard arama hizmeti too12 yinelemede ve temel arama hizmeti 3 yinelemede tahsis edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4724-134">You can allocate up too12 replicas in a Standard search service and 3 replicas in a Basic search service.</span></span> <span data-ttu-id="d4724-135">Çoğaltmaları olabilir hello araçtan ayarlanmış [Azure portal](search-create-service-portal.md) veya [PowerShell](search-manage-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="d4724-135">Replicas can be adjusted either from hello [Azure portal](search-create-service-portal.md) or [PowerShell](search-manage-powershell.md).</span></span>
2. <span data-ttu-id="d4724-136">**Artış arama katmanı:** Azure arama geldiğinde bir [katmanları sayısı](https://azure.microsoft.com/pricing/details/search/) ve bu katmanların her çeşitli performans düzeylerini sunar.</span><span class="sxs-lookup"><span data-stu-id="d4724-136">**Increase Search Tier:**  Azure Search comes in a [number of tiers](https://azure.microsoft.com/pricing/details/search/) and each of these tiers offers different levels of performance.</span></span>  <span data-ttu-id="d4724-137">Bazı durumlarda bile çıkışı çoğaltmaları kullanımının zaman bulunduğunuzu o hello katmanının yeterince düşük gecikme süresi hızları sağlayamaz çok fazla sayıda sorgular olabilir.  Bu durumda, bir hello yüksek arama katmanı senaryoları ile çok sayıda belgeleri ve son derece yüksek sorgu iş yükleri için uygundur hello Azure arama S3 katmanı gibi yararlanarak tooconsider isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4724-137">In some cases, you may have so many queries that hello tier you are on cannot provide sufficiently low latency rates, even when replicas are maxed out.  In this case, you may want tooconsider leveraging one of hello higher search tiers such as hello Azure Search S3 tier that is well suited for scenarios with large numbers of documents and extremely high query workloads.</span></span>

## <a name="scaling-azure-search-for-slow-individual-queries"></a><span data-ttu-id="d4724-138">Azure Search yavaş tek tek sorgular için ölçeklendirme</span><span class="sxs-lookup"><span data-stu-id="d4724-138">Scaling Azure Search for slow individual queries</span></span>
<span data-ttu-id="d4724-139">Başka bir nedeni neden gecikme oranları yavaş olabilir, çok uzun toocomplete alma tek bir sorgudan olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="d4724-139">Another reason why latency rates can be slow is from a single query taking too long toocomplete.</span></span>  <span data-ttu-id="d4724-140">Bu durumda, çoğaltmaları ekleme gecikme hızlarını artırır değil.</span><span class="sxs-lookup"><span data-stu-id="d4724-140">In this case, adding replicas will not improve latency rates.</span></span>  <span data-ttu-id="d4724-141">Bu durumda kullanılabilen iki seçenek vardır:</span><span class="sxs-lookup"><span data-stu-id="d4724-141">For this case there are two options available:</span></span>

1. <span data-ttu-id="d4724-142">**Bölümler artırmak** bir bölüm verilerinizi ek kaynaklar arasında bölmek için bir mekanizmadır.</span><span class="sxs-lookup"><span data-stu-id="d4724-142">**Increase Partitions** A partition is a mechanism for splitting your data across extra resources.</span></span>  <span data-ttu-id="d4724-143">İkinci bir bölüm eklediğinizde, bu nedenle, verilerinizi ikiye böl.</span><span class="sxs-lookup"><span data-stu-id="d4724-143">For this reason, when you add a second partition, your data gets split into two.</span></span>  <span data-ttu-id="d4724-144">Üçüncü bir bölüm dizininizi üç vb. ayırır.  Bu da bazı durumlarda, yavaş sorguları daha hızlı hesaplama toohello paralelleştirme gerçekleştireceğini hello etkisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="d4724-144">A third partition splits your index into three, etc.  This also has hello effect that in some cases, slow queries will perform faster due toohello parallelization of computation.</span></span>  <span data-ttu-id="d4724-145">İş de son derece düşük seçiciliği sorgular olan sorguları ile bu paralelleştirme burada anlatıldığı bazı örnekler verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="d4724-145">There are a few examples of where we have seen this parallelization work extremely well with queries that have low selectivity queries.</span></span>  <span data-ttu-id="d4724-146">Bu çok sayıda belge eşleşen sorguları oluşur veya olduğunu gerektiğinde tooprovide büyük belgeleri sayısını sayar.</span><span class="sxs-lookup"><span data-stu-id="d4724-146">This consists of queries that match many documents or when faceting needs tooprovide counts over large numbers of documents.</span></span>  <span data-ttu-id="d4724-147">Olduğundan hesaplama çok gerekli tooscore hello uygunluğunu hello belgeleri veya toocount hello numaralarını belgeler, ek bölümler tooprovide ek hesaplama yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="d4724-147">Since there is a lot of computation needed tooscore hello relevancy of hello documents or toocount hello numbers of documents, adding extra partitions can help tooprovide additional computation.</span></span>  
   
   <span data-ttu-id="d4724-148">En çok Standard arama hizmeti olarak 12 bölüme ve 1 bölümünde hello temel arama hizmeti olabilir.</span><span class="sxs-lookup"><span data-stu-id="d4724-148">There can be a maximum of 12 partitions in Standard search service and 1 partition in hello basic search service.</span></span>  <span data-ttu-id="d4724-149">Bölümler olabilir hello araçtan ayarlanmış [Azure portal](search-create-service-portal.md) veya [PowerShell](search-manage-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="d4724-149">Partitions can be adjusted either from hello [Azure portal](search-create-service-portal.md) or [PowerShell](search-manage-powershell.md).</span></span>
2. <span data-ttu-id="d4724-150">**Sınır yüksek nicelik alanlar:** modellenebilir veya önemli sayıda benzersiz değere sahip ve sonuç olarak, çok fazla kaynak toocompute sonuçları devreye girer filtrelenebilir alan yüksek kardinalite alan oluşur.</span><span class="sxs-lookup"><span data-stu-id="d4724-150">**Limit High Cardinality Fields:** A high cardinality field consists of a facetable or filterable field that has a significant number of unique values, and as a result, takes a lot of resources toocompute results over.</span></span>   <span data-ttu-id="d4724-151">Örneğin, belge toodocument hello değerlerinden çoğunu benzersiz olduğundan bir ürün kimliği veya açıklama alanı modellenebilir/filtrelenebilir olarak ayarlamak için yüksek kardinalite hale getireceği.</span><span class="sxs-lookup"><span data-stu-id="d4724-151">For example, setting a Product ID or Description field as facetable/filterable would make for high cardinality because most of hello values from document toodocument are unique.</span></span> <span data-ttu-id="d4724-152">Mümkün olduğunda, yüksek kardinalite alanları hello sayısını sınırla.</span><span class="sxs-lookup"><span data-stu-id="d4724-152">Wherever possible, limit hello number of high cardinality fields.</span></span>
3. <span data-ttu-id="d4724-153">**Artış arama katmanı:** Azure Search katmanı yavaş sorguların başka bir şekilde tooimprove performansını olabilir tooa daha yüksek taşıma.</span><span class="sxs-lookup"><span data-stu-id="d4724-153">**Increase Search Tier:**  Moving up tooa higher Azure Search tier can be another way tooimprove performance of slow queries.</span></span>  <span data-ttu-id="d4724-154">Her daha yüksek katman daha hızlı CPU'lar ve sorgu performansına pozitif bir etkisi olan daha fazla bellek de sağlar.</span><span class="sxs-lookup"><span data-stu-id="d4724-154">Each higher tier also provides faster CPU’s and more memory which can have a positive impact on query performance.</span></span>

## <a name="scaling-for-availability"></a><span data-ttu-id="d4724-155">Kullanılabilirlik için ölçeklendirme</span><span class="sxs-lookup"><span data-stu-id="d4724-155">Scaling for availability</span></span>
<span data-ttu-id="d4724-156">Çoğaltmaları değil yalnızca sorgu gecikmesi azaltmaya yardımcı olmak ancak yüksek kullanılabilirlik için de izin verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4724-156">Replicas not only help reduce query latency but can also allow for high availability.</span></span>  <span data-ttu-id="d4724-157">Tek bir çoğaltma ile yazılım güncelleştirmelerinden sonra ya da gerçekleşecek diğer bakım olayları tooserver yeniden başlatmalar ödenecek dönemsel kapalı kalma süresi beklemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="d4724-157">With a single replica, you should expect periodic downtime due tooserver reboots after software updates or for other maintenance events that will occur.</span></span>  <span data-ttu-id="d4724-158">Uygulamanız aramaları (sorgular), yüksek kullanılabilirlik gerektiriyorsa sonuç olarak, bu önemli tooconsider yazma (dizin oluşturma olayları) yanı sıra ' dir.</span><span class="sxs-lookup"><span data-stu-id="d4724-158">As a result, it is important tooconsider if your application requires high availability of searches (queries) as well as writes (indexing events).</span></span>  <span data-ttu-id="d4724-159">Azure arama, tüm SLA seçenekleri Ücretli Arama teklifleri öznitelikleri aşağıdaki hello ile Merhaba sunar:</span><span class="sxs-lookup"><span data-stu-id="d4724-159">Azure Search offers SLA options on all hello paid search offerings with hello following attributes:</span></span>

* <span data-ttu-id="d4724-160">salt okunur iş yüklerinin (sorgular) yüksek kullanılabilirlik için 2 çoğaltma</span><span class="sxs-lookup"><span data-stu-id="d4724-160">2 replicas for high availability of read-only workloads (queries)</span></span>
* <span data-ttu-id="d4724-161">okuma-yazma iş yüklerinin (sorgu ve dizin oluşturma) yüksek kullanılabilirlik için 3 veya daha fazla yineleme</span><span class="sxs-lookup"><span data-stu-id="d4724-161">3 or more replicas for high availability of read-write workloads (queries and indexing)</span></span>

<span data-ttu-id="d4724-162">Bunun hakkında daha fazla ayrıntı için lütfen başlangıç adresini ziyaret edin [Azure Search hizmet düzeyi sözleşmesi](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="d4724-162">For more details on this, please visit hello [Azure Search Service Level Agreement](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>

<span data-ttu-id="d4724-163">Çoğaltmaları birden çok çoğaltma sahip verilerinizin kopyalarını Azure Search toodo makine yeniden başlatmalar sağlar ve Bakım verirken bir anda bir çoğaltma karşı yürütülen toocontinue toobe sorgular olduğundan diğer çoğaltmaları hello.</span><span class="sxs-lookup"><span data-stu-id="d4724-163">Since replicas are copies of your data, having multiple replicas allows Azure Search toodo machine reboots and maintenance against one replica at a time while allowing queries toocontinue toobe executed against hello other replicas.</span></span>  <span data-ttu-id="d4724-164">Bu nedenle, bu kapalı kalma süresi artık daha az verisinin bir kopyası hello karşı yürütülen toobe hello sorguları nasıl etkileyebilir tooconsider gerekir.</span><span class="sxs-lookup"><span data-stu-id="d4724-164">For that reason, you will also need tooconsider how this downtime may impact hello queries that now have toobe executed against one less copy of hello data.</span></span>

## <a name="scaling-geo-distributed-workloads-and-provide-geo-redundancy"></a><span data-ttu-id="d4724-165">Coğrafi olarak dağıtılan iş yükleri ölçekleme ve coğrafi artıklık sağlamak</span><span class="sxs-lookup"><span data-stu-id="d4724-165">Scaling geo-distributed workloads and provide geo-redundancy</span></span>
<span data-ttu-id="d4724-166">Coğrafi olarak dağıtılan iş yükleri için Azure Search hizmetinizin barındırıldığı hello veri merkezi gölgeden uzak bulunan kullanıcılara yüksek gecikme hızları olduğunu bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4724-166">For geo-distributed workloads, you will find that users located far from hello data center where your Azure Search service is hosted will have higher latency rates.</span></span>  <span data-ttu-id="d4724-167">Bu nedenle, genellikle daha yakın bir yerde konumlandırıldığında toothese kullanıcılar bölgelerde birden çok arama hizmetleri önemli toohave olur.</span><span class="sxs-lookup"><span data-stu-id="d4724-167">For this reason, it is often important toohave multiple search services in regions that are in closer proximity toothese users.</span></span>  <span data-ttu-id="d4724-168">Azure Search'te Azure Search dizinlerini coğrafi çoğaltma otomatik olarak yöntemi şu anda bölgeler arasında sağlamaz, ancak bu işlem basit tooimplement yapmasına ve çağrıları yönetmesine kullanılabilecek bazı teknikler vardır.</span><span class="sxs-lookup"><span data-stu-id="d4724-168">Azure Search does not currently provide an automated method of geo-replicating Azure Search indexes across regions, but there are some techniques that can be used that can make this process simple tooimplement and manage.</span></span> <span data-ttu-id="d4724-169">Bunlar hello özetlenen sonraki birkaç bölümler.</span><span class="sxs-lookup"><span data-stu-id="d4724-169">These are outlined in hello next few sections.</span></span>

<span data-ttu-id="d4724-170">Hello arama hizmetleri coğrafi olarak dağıtılan bir dizi amacı olan toohave iki veya daha fazla dizinler kullanılabilir olduğu bir kullanıcı olacak iki veya daha fazla bölgelerde Bu örnekte görüldüğü gibi hello düşük gecikme sağlar toohello Azure Search Hizmeti yönlendirilmiş:</span><span class="sxs-lookup"><span data-stu-id="d4724-170">hello goal of a geo-distributed set of search services is toohave two or more indexes available in two or more regions where a user will be routed toohello Azure Search service that provides hello lowest latency as seen in this example:</span></span>

   ![Bölgeye göre hizmetleri arası sekmesinde][1]

### <a name="keeping-data-in-sync-across-multiple-azure-search-services"></a><span data-ttu-id="d4724-172">Veriler arasında birden fazla Azure arama hizmetleri eşitlenmiş şekilde kalmasının</span><span class="sxs-lookup"><span data-stu-id="d4724-172">Keeping data in sync across multiple Azure Search services</span></span>
<span data-ttu-id="d4724-173">Ya da kullanarak oluşan dağıtılmış arama hizmetlerinizi eşitlenmiş tutmak için iki seçenek vardır hello [Azure Search dizin oluşturucusunu](search-indexer-overview.md) veya itme API hello (tooas hello ya da [Azure Search REST API'sini](https://docs.microsoft.com/rest/api/searchservice/)).</span><span class="sxs-lookup"><span data-stu-id="d4724-173">There are two options for keeping your distributed search services in sync which consist of either using hello [Azure Search Indexer](search-indexer-overview.md) or hello Push API (also referred tooas hello [Azure Search REST API](https://docs.microsoft.com/rest/api/searchservice/)).</span></span>  

### <a name="azure-search-indexers"></a><span data-ttu-id="d4724-174">Azure Search'te dizin oluşturucular</span><span class="sxs-lookup"><span data-stu-id="d4724-174">Azure Search Indexers</span></span>
<span data-ttu-id="d4724-175">Hello Azure Search dizin oluşturucusunu kullanıyorsanız, zaten veri değişiklikleri merkezi bir veri deposu Azure SQL DB ya da Azure Cosmos DB gibi alma.</span><span class="sxs-lookup"><span data-stu-id="d4724-175">If you are using hello Azure Search Indexer, you are already importing data changes from a central datastore such as Azure SQL DB or Azure Cosmos DB.</span></span> <span data-ttu-id="d4724-176">Yeni bir arama hizmeti oluşturduğunuzda, yalnızca bu hizmet için yeni bir Azure Search dizin oluşturucusunu bu noktaları toothis oluşturabilir aynı veri deposu.</span><span class="sxs-lookup"><span data-stu-id="d4724-176">When you create a new search Service, you simply also create a new Azure Search Indexer for that service that points toothis same datastore.</span></span> <span data-ttu-id="d4724-177">Bu şekilde hello veri deposuna yeni değişiklikleri gelen her daha sonra alınır çeşitli dizin oluşturucular tarafından başlangıç dizini.</span><span class="sxs-lookup"><span data-stu-id="d4724-177">That way, whenever new changes come into hello data store, they will then be indexed by hello various Indexers.</span></span>  

<span data-ttu-id="d4724-178">Bu mimari aşağıdaki gibi görünür, örnek aşağıda verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="d4724-178">Here is an example of what that architecture would look like.</span></span>

   ![Tek veri kaynağıyla dağıtılmış dizin oluşturucu ve hizmet birleşimler][2]

### <a name="push-api"></a><span data-ttu-id="d4724-180">Anında iletme API</span><span class="sxs-lookup"><span data-stu-id="d4724-180">Push API</span></span>
<span data-ttu-id="d4724-181">Kullanıyorsanız, Azure Search itme API çok hello[güncelleştirme Azure Search dizininizi içeriği](https://docs.microsoft.com/rest/api/searchservice/update-index), bir güncelleştirme gerekli olduğunda değişiklikler tooall arama hizmetleri ileterek, çeşitli arama hizmetleri eşitlenmiş tutabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4724-181">If you are using hello Azure Search Push API too[update content in your Azure Search index](https://docs.microsoft.com/rest/api/searchservice/update-index), you can keep your various search services in sync by pushing changes tooall search services whenever an update is required.</span></span>  <span data-ttu-id="d4724-182">Bunu yaparken, bir güncelleştirme tooone arama hizmeti başarısız olduğu ve bir veya daha fazla güncelleştirme başarılı önemli toomake emin toohandle durumda.</span><span class="sxs-lookup"><span data-stu-id="d4724-182">When doing this it is important toomake sure toohandle cases where an update tooone search service fails and one or more updates succeed.</span></span>

## <a name="leveraging-azure-traffic-manager"></a><span data-ttu-id="d4724-183">Yararlanmayı Azure trafik Yöneticisi</span><span class="sxs-lookup"><span data-stu-id="d4724-183">Leveraging Azure Traffic Manager</span></span>
<span data-ttu-id="d4724-184">[Azure Traffic Manager](../traffic-manager/traffic-manager-overview.md) sonra birden fazla Azure arama hizmetleri tarafından desteklenen tooroute istekleri toomultiple coğrafi konumda bulunan Web sitelerine izin verir.</span><span class="sxs-lookup"><span data-stu-id="d4724-184">[Azure Traffic Manager](../traffic-manager/traffic-manager-overview.md) allows you tooroute requests toomultiple geo-located websites that are then backed by multiple Azure Search Services.</span></span>  <span data-ttu-id="d4724-185">Merhaba trafik Yöneticisi bir avantajı, Azure Search tooensure kullanılabilir olduğunu araştırma ve böylelikle kullanıcıların tooalternate arama hizmetleri kapalı kalma süresi hello olayda rota ' dir.</span><span class="sxs-lookup"><span data-stu-id="d4724-185">One advantage of hello Traffic Manager is that it can probe Azure Search tooensure that it is available and route users tooalternate search services in hello event of downtime.</span></span>  <span data-ttu-id="d4724-186">Arama istekleri aracılığıyla Azure Web siteleri yönlendirme, ayrıca, Azure Traffic Manager hello Web sitesi yukarı olduğu tooload Bakiye durumlarda ancak Azure Search sağlar.</span><span class="sxs-lookup"><span data-stu-id="d4724-186">In addition, if you are routing search requests through Azure Web Sites, Azure Traffic Manager allows you tooload balance cases where hello Website is up but not Azure Search.</span></span>  <span data-ttu-id="d4724-187">Trafik Yöneticisi yararlanır hangi hello mimarisi bir örneği burada verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="d4724-187">Here is an example of what hello architecture that leverages Traffic Manager.</span></span>

   ![Çapraz-sekmesinde, bölgeye göre Hizmetleri Merkezi Traffic Manager ile][3]

## <a name="monitoring-performance"></a><span data-ttu-id="d4724-189">Performans izleme</span><span class="sxs-lookup"><span data-stu-id="d4724-189">Monitoring performance</span></span>
<span data-ttu-id="d4724-190">Azure Search hizmetinizin hello özelliği tooanalyze ve İzleyicisi Merhaba performans sunar [arama trafiği Analytics (STA)](search-traffic-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="d4724-190">Azure Search offers hello ability tooanalyze and monitor hello performance of your service through [Search Traffic Analytics (STA)](search-traffic-analytics.md).</span></span> <span data-ttu-id="d4724-191">STA, isteğe bağlı olarak hello tek tek arama işlemlerinin yanı sıra sonra analiz için işlenen ya da görselleştirilen toplanan ölçümler tooan Azure depolama hesabı Power BI'da oturum açabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4724-191">Through STA, you can optionally log hello individual search operations as well as aggregated metrics tooan Azure Storage account that can then be processed for analysis or visualized in Power BI.</span></span>  <span data-ttu-id="d4724-192">STA ölçümleri'ni kullanarak performans istatistikleri sorgular veya sorgusu yanıt sürelerini ortalama sayısı gibi gözden geçirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4724-192">Using STA metrics, you can review performance statistics such as average number of queries or query response times.</span></span>  <span data-ttu-id="d4724-193">Ayrıca, hello işlem günlüğü toodrill belirli arama işlemlerinin ayrıntıları sağlar.</span><span class="sxs-lookup"><span data-stu-id="d4724-193">In addition, hello operation logging allows you toodrill into details of specific search operations.</span></span>

<span data-ttu-id="d4724-194">STA değerli bir araç toounderstand gecikme hızları, Azure Search açısından ' dir.</span><span class="sxs-lookup"><span data-stu-id="d4724-194">STA is a valuable tool toounderstand latency rates from that Azure Search perspective.</span></span>  <span data-ttu-id="d4724-195">Oturum hello sorgu performans ölçümleri hello zamana dayalı bu yana bir sorgu tam olarak (gönderilen çıkışı istenen toowhen olduğu başlangıç saatinden itibaren) Azure Search'te işlenen toobe alır, mümkün toouse olduğunuz gecikmesi sorunları hello Azure Search Hizmeti varsa bu toodetermine yan veya dışında hizmet, ağ gecikme süresi uğradıysa gibi hello.</span><span class="sxs-lookup"><span data-stu-id="d4724-195">Since hello query performance metrics logged are based on hello time a query takes toobe fully processed in Azure Search (from hello time it is requested toowhen it is sent out), you are able toouse this toodetermine if latency issues are from hello Azure Search service side or outside of hello service, such as from network latency.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="d4724-196">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="d4724-196">Next steps</span></span>
<span data-ttu-id="d4724-197">toolearn daha her biri için fiyatlandırma katmanlarına ve Hizmetleri sınırları hello hakkında bkz [hizmet sınırları Azure Search'te](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="d4724-197">toolearn more about hello pricing tiers and services limits for each one, see [Service limits in Azure Search](search-limits-quotas-capacity.md).</span></span>

<span data-ttu-id="d4724-198">Ziyaret [kapasite planlaması](search-capacity-planning.md) toolearn bölüm ve çoğaltma birleşimlerini hakkında daha fazla bilgi.</span><span class="sxs-lookup"><span data-stu-id="d4724-198">Visit [Capacity planning](search-capacity-planning.md) toolearn more about partition and replica combinations.</span></span>

<span data-ttu-id="d4724-199">Performansı ve nasıl tooimplement hello en iyi duruma getirme, bazı gösterim bu makalede ele alınan toosee hakkında daha fazla ayrıntıya gitme için video aşağıdaki hello izleyin:</span><span class="sxs-lookup"><span data-stu-id="d4724-199">For more drilldown on performance and toosee some demonstrations of how tooimplement hello optimizations discussed in this article, watch hello following video:</span></span>

> [!VIDEO https://channel9.msdn.com/Events/Microsoft-Azure/AzureCon-2015/ACON319/player]
> 
> 

<!--Image references-->
[1]: ./media/search-performance-optimization/geo-redundancy.png
[2]: ./media/search-performance-optimization/scale-indexers.png
[3]: ./media/search-performance-optimization/geo-search-traffic-mgr.png
