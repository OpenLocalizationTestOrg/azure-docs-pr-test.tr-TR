---
title: "Azure Search'te çoklu müşteri Mimarisi Modelleme | Microsoft Docs"
description: "Azure Search kullanırken çok kiracılı SaaS uygulamaları için ortak tasarım desenleri öğrenin."
services: search
manager: jhubbard
author: ashmaka
documentationcenter: 
ms.assetid: 72e9696a-553b-47dc-9e05-a82db0ebf094
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/26/2016
ms.author: ashmaka
ms.openlocfilehash: fd1b0c7cc8210d27fdc500bf4e5641bedfe93cff
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="design-patterns-for-multitenant-saas-applications-and-azure-search"></a><span data-ttu-id="444cc-103">Tasarım desenleri çok kiracılı SaaS uygulamaları ve Azure Search için</span><span class="sxs-lookup"><span data-stu-id="444cc-103">Design patterns for multitenant SaaS applications and Azure Search</span></span>
<span data-ttu-id="444cc-104">Çok kiracılı uygulama kimin göremez ya da başka bir kiracı veri paylaşımı kiracılar herhangi bir sayıda aynı Hizmetleri ve özellikleri sağlar biridir.</span><span class="sxs-lookup"><span data-stu-id="444cc-104">A multitenant application is one that provides the same services and capabilities to any number of tenants who cannot see or share the data of any other tenant.</span></span> <span data-ttu-id="444cc-105">Bu belge, Azure Search ile oluşturulan çok müşterili uygulamalar için Kiracı yalıtımı stratejileri açıklanır.</span><span class="sxs-lookup"><span data-stu-id="444cc-105">This document discusses tenant isolation strategies for multitenant applications built with Azure Search.</span></span>

## <a name="azure-search-concepts"></a><span data-ttu-id="444cc-106">Azure arama kavramları</span><span class="sxs-lookup"><span data-stu-id="444cc-106">Azure Search concepts</span></span>
<span data-ttu-id="444cc-107">Bir hizmet olarak arama çözümü olarak Azure Search zengin arama deneyimleri herhangi bir altyapı yönetme veya uzmanı arama olmadan olmadan uygulamaları eklemek için geliştiricilere sağlar.</span><span class="sxs-lookup"><span data-stu-id="444cc-107">As a search-as-a-service solution, Azure Search allows developers to add rich search experiences to applications without managing any infrastructure or becoming an expert in search.</span></span> <span data-ttu-id="444cc-108">Veri Hizmeti karşıya ve bulutta depolanan.</span><span class="sxs-lookup"><span data-stu-id="444cc-108">Data is uploaded to the service and then stored in the cloud.</span></span> <span data-ttu-id="444cc-109">Azure Search API basit isteklerini kullanarak, veri sonra değiştirilen aranır ve.</span><span class="sxs-lookup"><span data-stu-id="444cc-109">Using simple requests to the Azure Search API, the data can then be modified and searched.</span></span> <span data-ttu-id="444cc-110">Hizmeti genel bir bakış bulunabilir [bu makalede](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="444cc-110">An overview of the service can be found in [this article](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="444cc-111">Tasarım modeli ele almadan önce Azure Search'te bazı kavramları anlamanız önemlidir.</span><span class="sxs-lookup"><span data-stu-id="444cc-111">Before discussing design patterns, it is important to understand some concepts in Azure Search.</span></span>

### <a name="search-services-indexes-fields-and-documents"></a><span data-ttu-id="444cc-112">Arama Hizmetleri, dizinleri, alanları ve belgeleri</span><span class="sxs-lookup"><span data-stu-id="444cc-112">Search services, indexes, fields, and documents</span></span>
<span data-ttu-id="444cc-113">Azure Search kullanırken, bir abone bir *search hizmeti*.</span><span class="sxs-lookup"><span data-stu-id="444cc-113">When using Azure Search, one subscribes to a *search service*.</span></span> <span data-ttu-id="444cc-114">Azure Search'e veri karşıya olarak depolanır bir *dizin* arama hizmeti içinde.</span><span class="sxs-lookup"><span data-stu-id="444cc-114">As data is uploaded to Azure Search, it is stored in an *index* within the search service.</span></span> <span data-ttu-id="444cc-115">Tek bir hizmet kapsamındaki dizin sayısı olabilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-115">There can be a number of indexes within a single service.</span></span> <span data-ttu-id="444cc-116">Bir hizmet kapsamındaki dizinleri veritabanındaki tablolar benzetilebilir sırada veritabanları tanıdık kavramlarını kullanmak için arama hizmeti bir veritabanına benzetilebilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-116">To use the familiar concepts of databases, the search service can be likened to a database while the indexes within a service can be likened to tables within a database.</span></span>

<span data-ttu-id="444cc-117">Her dizininin özelleştirilebilir bir dizi tanımlanmış kendi şeması, bir arama hizmeti içinde *alanları*.</span><span class="sxs-lookup"><span data-stu-id="444cc-117">Each index within a search service has its own schema, which is defined by a number of customizable *fields*.</span></span> <span data-ttu-id="444cc-118">Verileri Azure Search dizini tek biçiminde eklenen *belgeleri*.</span><span class="sxs-lookup"><span data-stu-id="444cc-118">Data is added to an Azure Search index in the form of individual *documents*.</span></span> <span data-ttu-id="444cc-119">Her belge için belirli bir dizin yüklenmelidir ve bu dizinin şema sığması gerekir.</span><span class="sxs-lookup"><span data-stu-id="444cc-119">Each document must be uploaded to a particular index and must fit that index's schema.</span></span> <span data-ttu-id="444cc-120">Azure Search kullanarak verileri ararken tam metin arama sorguları karşı belirli bir dizin verilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-120">When searching data using Azure Search, the full-text search queries are issued against a particular index.</span></span>  <span data-ttu-id="444cc-121">Bu veritabanı için bu kavramlar karşılaştırmak için alanları tablodaki sütunlar benzetilebilir ve belgeleri satırları benzetilebilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-121">To compare these concepts to those of a database, fields can be likened to columns in a table and documents can be likened to rows.</span></span>

### <a name="scalability"></a><span data-ttu-id="444cc-122">Ölçeklenebilirlik</span><span class="sxs-lookup"><span data-stu-id="444cc-122">Scalability</span></span>
<span data-ttu-id="444cc-123">Tüm Azure Search hizmeti standart [fiyatlandırma katmanı](https://azure.microsoft.com/pricing/details/search/) iki boyut ölçeklendirebilirsiniz: depolama ve kullanılabilirlik.</span><span class="sxs-lookup"><span data-stu-id="444cc-123">Any Azure Search service in the Standard [pricing tier](https://azure.microsoft.com/pricing/details/search/) can scale in two dimensions: storage and availability.</span></span>

* <span data-ttu-id="444cc-124">*Bölümler* bir arama hizmeti depolama artırmak için eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-124">*Partitions* can be added to increase the storage of a search service.</span></span>
* <span data-ttu-id="444cc-125">*Çoğaltmaları* bir arama hizmeti işleyebilir isteklerin verimini artırmak için bir hizmet eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-125">*Replicas* can be added to a service to increase the throughput of requests that a search service can handle.</span></span>

<span data-ttu-id="444cc-126">Ekleme ve kaldırma bölümlerini ve çoğaltmaları veri miktarını büyür ve uygulama talepleri trafiği için arama hizmeti kapasitesini izin verir.</span><span class="sxs-lookup"><span data-stu-id="444cc-126">Adding and removing partitions and replicas at will allow the capacity of the search service to grow with the amount of data and traffic the application demands.</span></span> <span data-ttu-id="444cc-127">Okuma elde etmek bir arama hizmeti için sırayla [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), iki çoğaltma gerektirir.</span><span class="sxs-lookup"><span data-stu-id="444cc-127">In order for a search service to achieve a read [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires two replicas.</span></span> <span data-ttu-id="444cc-128">Okuma-yazma elde etmek bir hizmet için sırayla [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), üç çoğaltmaları gerektirir.</span><span class="sxs-lookup"><span data-stu-id="444cc-128">In order for a service to achieve a read-write [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires three replicas.</span></span>

### <a name="service-and-index-limits-in-azure-search"></a><span data-ttu-id="444cc-129">Azure Search dizini ve hizmet sınırları</span><span class="sxs-lookup"><span data-stu-id="444cc-129">Service and index limits in Azure Search</span></span>
<span data-ttu-id="444cc-130">Birkaç farklı [fiyatlandırma katmanlarına](https://azure.microsoft.com/pricing/details/search/) Azure Search'te her katmanı farklı sahip [sınırlarını ve kotaları](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="444cc-130">There are a few different [pricing tiers](https://azure.microsoft.com/pricing/details/search/) in Azure Search, each of the tiers has different [limits and quotas](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="444cc-131">Bu sınırlar hizmet düzeyinde bazıları, bazı dizin düzeyinde değil ve bölüm düzeyinde bazılarıdır.</span><span class="sxs-lookup"><span data-stu-id="444cc-131">Some of these limits are at the service-level, some are at the index-level, and some are at the partition-level.</span></span>

|  | <span data-ttu-id="444cc-132">Temel</span><span class="sxs-lookup"><span data-stu-id="444cc-132">Basic</span></span> | <span data-ttu-id="444cc-133">Standard1</span><span class="sxs-lookup"><span data-stu-id="444cc-133">Standard1</span></span> | <span data-ttu-id="444cc-134">Standard2</span><span class="sxs-lookup"><span data-stu-id="444cc-134">Standard2</span></span> | <span data-ttu-id="444cc-135">Standard3</span><span class="sxs-lookup"><span data-stu-id="444cc-135">Standard3</span></span> | <span data-ttu-id="444cc-136">Standard3 HD</span><span class="sxs-lookup"><span data-stu-id="444cc-136">Standard3 HD</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="444cc-137">Hizmeti başına en fazla yineleme</span><span class="sxs-lookup"><span data-stu-id="444cc-137">Maximum Replicas per Service</span></span> |<span data-ttu-id="444cc-138">3</span><span class="sxs-lookup"><span data-stu-id="444cc-138">3</span></span> |<span data-ttu-id="444cc-139">12</span><span class="sxs-lookup"><span data-stu-id="444cc-139">12</span></span> |<span data-ttu-id="444cc-140">12</span><span class="sxs-lookup"><span data-stu-id="444cc-140">12</span></span> |<span data-ttu-id="444cc-141">12</span><span class="sxs-lookup"><span data-stu-id="444cc-141">12</span></span> |<span data-ttu-id="444cc-142">12</span><span class="sxs-lookup"><span data-stu-id="444cc-142">12</span></span> |
| <span data-ttu-id="444cc-143">Hizmet başına en fazla bölüm</span><span class="sxs-lookup"><span data-stu-id="444cc-143">Maximum Partitions per Service</span></span> |<span data-ttu-id="444cc-144">1</span><span class="sxs-lookup"><span data-stu-id="444cc-144">1</span></span> |<span data-ttu-id="444cc-145">12</span><span class="sxs-lookup"><span data-stu-id="444cc-145">12</span></span> |<span data-ttu-id="444cc-146">12</span><span class="sxs-lookup"><span data-stu-id="444cc-146">12</span></span> |<span data-ttu-id="444cc-147">12</span><span class="sxs-lookup"><span data-stu-id="444cc-147">12</span></span> |<span data-ttu-id="444cc-148">1</span><span class="sxs-lookup"><span data-stu-id="444cc-148">1</span></span> |
| <span data-ttu-id="444cc-149">En fazla arama birimi (çoğaltmaları * bölümler) hizmeti başına</span><span class="sxs-lookup"><span data-stu-id="444cc-149">Maximum Search Units (Replicas*Partitions) per Service</span></span> |<span data-ttu-id="444cc-150">3</span><span class="sxs-lookup"><span data-stu-id="444cc-150">3</span></span> |<span data-ttu-id="444cc-151">36</span><span class="sxs-lookup"><span data-stu-id="444cc-151">36</span></span> |<span data-ttu-id="444cc-152">36</span><span class="sxs-lookup"><span data-stu-id="444cc-152">36</span></span> |<span data-ttu-id="444cc-153">36</span><span class="sxs-lookup"><span data-stu-id="444cc-153">36</span></span> |<span data-ttu-id="444cc-154">36 (en fazla 3 bölümler)</span><span class="sxs-lookup"><span data-stu-id="444cc-154">36 (max 3 partitions)</span></span> |
| <span data-ttu-id="444cc-155">Hizmeti başına en fazla belgeleri</span><span class="sxs-lookup"><span data-stu-id="444cc-155">Maximum Documents per Service</span></span> |<span data-ttu-id="444cc-156">1 milyon</span><span class="sxs-lookup"><span data-stu-id="444cc-156">1 million</span></span> |<span data-ttu-id="444cc-157">180 milyondan fazla</span><span class="sxs-lookup"><span data-stu-id="444cc-157">180 million</span></span> |<span data-ttu-id="444cc-158">720 milyon</span><span class="sxs-lookup"><span data-stu-id="444cc-158">720 million</span></span> |<span data-ttu-id="444cc-159">1.4 milyar</span><span class="sxs-lookup"><span data-stu-id="444cc-159">1.4 billion</span></span> |<span data-ttu-id="444cc-160">600 milyon</span><span class="sxs-lookup"><span data-stu-id="444cc-160">600 million</span></span> |
| <span data-ttu-id="444cc-161">Hizmeti başına en fazla depolama</span><span class="sxs-lookup"><span data-stu-id="444cc-161">Maximum Storage per Service</span></span> |<span data-ttu-id="444cc-162">2 GB</span><span class="sxs-lookup"><span data-stu-id="444cc-162">2 GB</span></span> |<span data-ttu-id="444cc-163">300 GB</span><span class="sxs-lookup"><span data-stu-id="444cc-163">300 GB</span></span> |<span data-ttu-id="444cc-164">1,2 TB</span><span class="sxs-lookup"><span data-stu-id="444cc-164">1.2 TB</span></span> |<span data-ttu-id="444cc-165">2,4 TB</span><span class="sxs-lookup"><span data-stu-id="444cc-165">2.4 TB</span></span> |<span data-ttu-id="444cc-166">600 GB</span><span class="sxs-lookup"><span data-stu-id="444cc-166">600 GB</span></span> |
| <span data-ttu-id="444cc-167">Bölüm başına en fazla belgeleri</span><span class="sxs-lookup"><span data-stu-id="444cc-167">Maximum Documents per Partition</span></span> |<span data-ttu-id="444cc-168">1 milyon</span><span class="sxs-lookup"><span data-stu-id="444cc-168">1 million</span></span> |<span data-ttu-id="444cc-169">15 milyon</span><span class="sxs-lookup"><span data-stu-id="444cc-169">15 million</span></span> |<span data-ttu-id="444cc-170">60 milyon</span><span class="sxs-lookup"><span data-stu-id="444cc-170">60 million</span></span> |<span data-ttu-id="444cc-171">120 milyon</span><span class="sxs-lookup"><span data-stu-id="444cc-171">120 million</span></span> |<span data-ttu-id="444cc-172">200 milyon</span><span class="sxs-lookup"><span data-stu-id="444cc-172">200 million</span></span> |
| <span data-ttu-id="444cc-173">Bölüm başına en fazla depolama</span><span class="sxs-lookup"><span data-stu-id="444cc-173">Maximum Storage per Partition</span></span> |<span data-ttu-id="444cc-174">2 GB</span><span class="sxs-lookup"><span data-stu-id="444cc-174">2 GB</span></span> |<span data-ttu-id="444cc-175">25 GB</span><span class="sxs-lookup"><span data-stu-id="444cc-175">25 GB</span></span> |<span data-ttu-id="444cc-176">100 GB</span><span class="sxs-lookup"><span data-stu-id="444cc-176">100 GB</span></span> |<span data-ttu-id="444cc-177">200 GB</span><span class="sxs-lookup"><span data-stu-id="444cc-177">200 GB</span></span> |<span data-ttu-id="444cc-178">200 GB</span><span class="sxs-lookup"><span data-stu-id="444cc-178">200 GB</span></span> |
| <span data-ttu-id="444cc-179">Hizmeti başına en fazla dizinler</span><span class="sxs-lookup"><span data-stu-id="444cc-179">Maximum Indexes per Service</span></span> |<span data-ttu-id="444cc-180">5</span><span class="sxs-lookup"><span data-stu-id="444cc-180">5</span></span> |<span data-ttu-id="444cc-181">50</span><span class="sxs-lookup"><span data-stu-id="444cc-181">50</span></span> |<span data-ttu-id="444cc-182">200</span><span class="sxs-lookup"><span data-stu-id="444cc-182">200</span></span> |<span data-ttu-id="444cc-183">200</span><span class="sxs-lookup"><span data-stu-id="444cc-183">200</span></span> |<span data-ttu-id="444cc-184">3000 (en fazla 1000 dizinleri/bölüm)</span><span class="sxs-lookup"><span data-stu-id="444cc-184">3000 (max 1000 indexes/partition)</span></span> |

#### <a name="s3-high-density"></a><span data-ttu-id="444cc-185">S3 Yüksek yoğunluklu '</span><span class="sxs-lookup"><span data-stu-id="444cc-185">S3 High Density'</span></span>
<span data-ttu-id="444cc-186">Azure Search'ün S3 fiyatlandırma katmanında, özellikle çok müşterili senaryoları için tasarlanan yüksek yoğunluk (HD) modu için bir seçenek yoktur.</span><span class="sxs-lookup"><span data-stu-id="444cc-186">In Azure Search’s S3 pricing tier, there is an option for the High Density (HD) mode designed specifically for multitenant scenarios.</span></span> <span data-ttu-id="444cc-187">Çoğu durumda, tek bir hizmeti altında küçük kiracılar Basitlik ve maliyet verimliliği avantajları elde etmek için çok sayıda desteklemek gereklidir.</span><span class="sxs-lookup"><span data-stu-id="444cc-187">In many cases, it is necessary to support a large number of smaller tenants under a single service to achieve the benefits of simplicity and cost efficiency.</span></span>

<span data-ttu-id="444cc-188">S3 HD tek Arama Hizmeti Yönetimi altında tek bir hizmeti daha fazla dizinlerde barındırmak için özelliği için bölüm kullanan dizinleri ölçeği genişletme olanağı ticaret tarafından paketlenmiş için çok sayıda küçük dizinlerini sağlar.</span><span class="sxs-lookup"><span data-stu-id="444cc-188">S3 HD allows for the many small indexes to be packed under the management of a single search service by trading the ability to scale out indexes using partitions for the ability to host more indexes in a single service.</span></span>

<span data-ttu-id="444cc-189">Concretely, S3 hizmet kadar 1.4 milyar belgeleri birlikte barındırabilir 1 ve 200 dizinler arasında olabilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-189">Concretely, an S3 service could have between 1 and 200 indexes that together could host up to 1.4 billion documents.</span></span> <span data-ttu-id="444cc-190">S3 HD diğer yandan yalnızca 1 milyon belgeleri gitmek tek tek dizinler izin verir, ancak ile 200 milyon bölüm başına toplam belge sayısı (en fazla 3000 hizmeti başına) bölüm başına en fazla 1000 dizinleri işleyebilir (en çok hizmeti başına 600 milyon).</span><span class="sxs-lookup"><span data-stu-id="444cc-190">An S3 HD on the other hand would allow individual indexes to only go up to 1 million documents, but it can handle up to 1000 indexes per partition (up to 3000 per service) with a total document count of 200 million per partition (up to 600 million per service).</span></span>

## <a name="considerations-for-multitenant-applications"></a><span data-ttu-id="444cc-191">Çok müşterili uygulamalar için ilgili önemli noktalar</span><span class="sxs-lookup"><span data-stu-id="444cc-191">Considerations for multitenant applications</span></span>
<span data-ttu-id="444cc-192">Çok müşterili uygulamalar gizlilik çeşitli kiracılar arasında belirli bir düzeyde koruyarak kaynakları kiracılar arasında etkili bir şekilde dağıtmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="444cc-192">Multitenant applications must effectively distribute resources among the tenants while preserving some level of privacy between the various tenants.</span></span> <span data-ttu-id="444cc-193">Bu tür bir uygulama mimarisi tasarlarken bazı noktalar vardır:</span><span class="sxs-lookup"><span data-stu-id="444cc-193">There are a few considerations when designing the architecture for such an application:</span></span>

* <span data-ttu-id="444cc-194">*Kiracı yalıtımı:* uygulama geliştiricileri hiçbir Kiracı'nin yetkisiz veya istenmeyen diğer kiracıların verilere erişim sağlamak için uygun önlemleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="444cc-194">*Tenant isolation:* Application developers need to take appropriate measures to ensure that no tenants have unauthorized or unwanted access to the data of other tenants.</span></span> <span data-ttu-id="444cc-195">Veri gizliliği açısından, paylaşılan kaynakların ve gürültülü komşu korumadan etkin Yönetimi Kiracı yalıtımı stratejileri gerektirir.</span><span class="sxs-lookup"><span data-stu-id="444cc-195">Beyond the perspective of data privacy, tenant isolation strategies require effective management of shared resources and protection from noisy neighbors.</span></span>
* <span data-ttu-id="444cc-196">*Bulut kaynak maliyeti:* başka herhangi bir uygulama ile yazılım çözümleri maliyet rekabetçi bir çok kiracılı uygulama bileşeni olarak kalması gereken gibi.</span><span class="sxs-lookup"><span data-stu-id="444cc-196">*Cloud resource cost:* As with any other application, software solutions must remain cost competitive as a component of a multitenant application.</span></span>
* <span data-ttu-id="444cc-197">*Operations Kolaylığı:* çok müşterili mimarisi geliştirirken, uygulamanın işlemler ve karmaşıklık üzerindeki etkisini önemli bir konudur.</span><span class="sxs-lookup"><span data-stu-id="444cc-197">*Ease of Operations:* When developing a multitenant architecture, the impact on the application's operations and complexity is an important consideration.</span></span> <span data-ttu-id="444cc-198">Azure arama sahip bir [% 99,9 SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="444cc-198">Azure Search has a [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
* <span data-ttu-id="444cc-199">*Genel ayak izini:* çok müşterili uygulamalar etkili bir şekilde dünya çapında dağıtılan kiracılar hizmet gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-199">*Global footprint:* Multitenant applications may need to effectively serve tenants which are distributed across the globe.</span></span>
* <span data-ttu-id="444cc-200">*Ölçeklenebilirlik:* uygulama geliştiricileri nasıl bunlar uygulama karmaşıklığını yeterince düşük düzeyde koruma ve kiracıların sayısı ve kiracılarınızın verileri ve iş yükü boyutu ile ölçeklendirmek için uygulama tasarlama arasındaki mutabakat göz önünde bulundurun gerekir.</span><span class="sxs-lookup"><span data-stu-id="444cc-200">*Scalability:* Application developers need to consider how they reconcile between maintaining a sufficiently low level of application complexity and designing the application to scale with number of tenants and the size of tenants' data and workload.</span></span>

<span data-ttu-id="444cc-201">Azure arama kiracılarınızın veri ve iş yükü ayırmak için kullanılan birkaç sınırlarını sunar.</span><span class="sxs-lookup"><span data-stu-id="444cc-201">Azure Search offers a few boundaries that can be used to isolate tenants’ data and workload.</span></span>

## <a name="modeling-multitenancy-with-azure-search"></a><span data-ttu-id="444cc-202">Azure Search ile çoklu müşteri Mimarisi Modelleme</span><span class="sxs-lookup"><span data-stu-id="444cc-202">Modeling multitenancy with Azure Search</span></span>
<span data-ttu-id="444cc-203">Çok kiracılı bir senaryo, söz konusu olduğunda uygulama geliştiricisi bir veya daha fazla arama hizmetleri kullanır ve Hizmetleri, dizinler veya her ikisi arasında kiracıları bölün.</span><span class="sxs-lookup"><span data-stu-id="444cc-203">In the case of a multitenant scenario, the application developer consumes one or more search services and divide their tenants among services, indexes, or both.</span></span> <span data-ttu-id="444cc-204">Çok kiracılı bir senaryo modelleme varken, Azure arama birkaç ortak desenler kullanır:</span><span class="sxs-lookup"><span data-stu-id="444cc-204">Azure Search has a few common patterns when modeling a multitenant scenario:</span></span>

1. <span data-ttu-id="444cc-205">*Kiracı başına dizin:* her bir kiracı kendi dizini içindeki diğer kiracılar ile paylaşılan bir arama hizmeti yok.</span><span class="sxs-lookup"><span data-stu-id="444cc-205">*Index per tenant:* Each tenant has its own index within a search service that is shared with other tenants.</span></span>
2. <span data-ttu-id="444cc-206">*Kiracı başına hizmet:* en yüksek düzeyde veri ve iş yükü ayrımı sunumu her bir kiracı kendi adanmış bir Azure Search Hizmeti sahip.</span><span class="sxs-lookup"><span data-stu-id="444cc-206">*Service per tenant:* Each tenant has its own dedicated Azure Search service, offering highest level of data and workload separation.</span></span>
3. <span data-ttu-id="444cc-207">*Her ikisi de karışımını:* küçük kiracılar paylaşılan hizmetler içinde tek tek dizinler atanmış durumdayken daha büyük ve daha fazlasını etkin kiracılar ayrılmış Hizmetleri atanır.</span><span class="sxs-lookup"><span data-stu-id="444cc-207">*Mix of both:* Larger, more-active tenants are assigned dedicated services while smaller tenants are assigned individual indexes within shared services.</span></span>

## <a name="1-index-per-tenant"></a><span data-ttu-id="444cc-208">1. Kiracı başına dizin</span><span class="sxs-lookup"><span data-stu-id="444cc-208">1. Index per tenant</span></span>
![Kiracı başına dizin modelinin portrayal](./media/search-modeling-multitenant-saas-applications/azure-search-index-per-tenant.png)

<span data-ttu-id="444cc-210">Bir kiracı başına dizin modelinde, her bir kiracı kendi dizin sahip olduğu birden çok kiracıya tek bir Azure Search Hizmeti kaplar.</span><span class="sxs-lookup"><span data-stu-id="444cc-210">In an index-per-tenant model, multiple tenants occupy a single Azure Search service where each tenant has their own index.</span></span>

<span data-ttu-id="444cc-211">Kiracılar, tüm istekleri arayın ve Azure Search'te dizin düzeyinde bir belge işlemleri verilen olduğundan veri yalıtımı elde edin.</span><span class="sxs-lookup"><span data-stu-id="444cc-211">Tenants achieve data isolation because all search requests and document operations are issued at an index level in Azure Search.</span></span> <span data-ttu-id="444cc-212">Uygulama katmanında hizmet düzeyinde kaynakları da tüm kiracılar arasında yönetirken uygun dizinleri çeşitli kiracılar trafiği yönlendirmek için gerek tanıma yoktur.</span><span class="sxs-lookup"><span data-stu-id="444cc-212">In the application layer, there is the need awareness to direct the various tenants’ traffic to the proper indexes while also managing resources at the service level across all tenants.</span></span>

<span data-ttu-id="444cc-213">Kiracı başına dizin modelinin anahtar özniteliği için bir arama hizmeti uygulamanın kiracılar arasında kapasitesini oversubscribe için uygulama geliştiricisinin özelliğidir.</span><span class="sxs-lookup"><span data-stu-id="444cc-213">A key attribute of the index-per-tenant model is the ability for the application developer to oversubscribe the capacity of a search service among the application’s tenants.</span></span> <span data-ttu-id="444cc-214">Kiracılar iş yükü düzensiz bir dağılımına varsa, kiracılar en iyi birleşimi yüksek oranda etkin, yoğun bir kaynak Kiracı sayısı aynı anda daha az aktif kiracıların uzun bir kuyruk hizmet verirken uyum sağlamak için bir arama hizmetin dizinleri üzerinden dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-214">If the tenants have an uneven distribution of workload, the optimal combination of tenants can be distributed across a search service’s indexes to accommodate a number of highly active, resource-intensive tenants while simultaneously serving a long tail of less active tenants.</span></span> <span data-ttu-id="444cc-215">Dengelemeyi her Kiracı aynı anda yüksek oranda etkin olduğu durumlarda işlemek için model bağlanamaması ' dir.</span><span class="sxs-lookup"><span data-stu-id="444cc-215">The trade-off is the inability of the model to handle situations where each tenant is concurrently highly active.</span></span>

<span data-ttu-id="444cc-216">Kiracı başına dizin model burada tüm Azure Search Hizmeti satın eylemli değişken maliyet modeli temelini ve daha sonra kiracılar ile doldurulur.</span><span class="sxs-lookup"><span data-stu-id="444cc-216">The index-per-tenant model provides the basis for a variable cost model, where an entire Azure Search service is bought up-front and then subsequently filled with tenants.</span></span> <span data-ttu-id="444cc-217">Bu deneme ve ücretsiz hesaplar için atanacak kullanılmayan kapasiteyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="444cc-217">This allows for unused capacity to be designated for trials and free accounts.</span></span>

<span data-ttu-id="444cc-218">Genel bir yer olan uygulamalar için Kiracı başına dizin modeli en etkili olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-218">For applications with a global footprint, the index-per-tenant model may not be the most efficient.</span></span> <span data-ttu-id="444cc-219">Bir uygulamanın kiracılar dünya çapında dağıtılmışsa, ayrı bir hizmet maliyetleri her biri arasında çoğaltabilirsiniz her bölge için gerekli olabilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-219">If an application's tenants are distributed across the globe, a separate service may be necessary for each region which may duplicate costs across each of them.</span></span>

<span data-ttu-id="444cc-220">Azure arama tek tek dizinler ve dizinleri toplam sayısı için ölçek büyümesine olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="444cc-220">Azure Search allows for the scale of both the individual indexes and the total number of indexes to grow.</span></span> <span data-ttu-id="444cc-221">Uygun fiyatlandırma, katmanı seçildiğinde, bölümler ve çoğaltmalar tek bir dizin hizmeti içinde depolama veya trafiği açısından aştığında tüm arama hizmetine eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-221">If an appropriate pricing tier is chosen, partitions and replicas can be added to the entire search service when an individual index within the service grows too large in terms of storage or traffic.</span></span>

<span data-ttu-id="444cc-222">Dizinleri toplam sayısı tek bir hizmet için çok fazla büyürse, yeni kiracılar sağlanması başka bir hizmete sahip.</span><span class="sxs-lookup"><span data-stu-id="444cc-222">If the total number of indexes grows too large for a single service, another service has to be provisioned to accommodate the new tenants.</span></span> <span data-ttu-id="444cc-223">Dizinleri yeni hizmetler eklendikçe arama hizmetleri arasında taşınacak varsa, dizin verilerini Azure Search taşınması için bir dizin için izin vermediğinden el ile bir dizinden diğerine kopyalanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="444cc-223">If indexes have to be moved between search services as new services are added, the data from the index has to be manually copied from one index to the other as Azure Search does not allow for an index to be moved.</span></span>

## <a name="2-service-per-tenant"></a><span data-ttu-id="444cc-224">2. Kiracı başına hizmeti</span><span class="sxs-lookup"><span data-stu-id="444cc-224">2. Service per tenant</span></span>
![Kiracı başına hizmet modeli portrayal](./media/search-modeling-multitenant-saas-applications/azure-search-service-per-tenant.png)

<span data-ttu-id="444cc-226">Kiracı başına hizmet mimarisinde, her bir kiracı kendi Arama hizmeti vardır.</span><span class="sxs-lookup"><span data-stu-id="444cc-226">In a service-per-tenant architecture, each tenant has its own search service.</span></span>

<span data-ttu-id="444cc-227">Bu modelde, uygulama, kiracılar için yalıtım düzeyi üst sınırına erişir.</span><span class="sxs-lookup"><span data-stu-id="444cc-227">In this model, the application achieves the maximum level of isolation for its tenants.</span></span> <span data-ttu-id="444cc-228">Her hizmet, depolama ve işleme ayrı API anahtarları yanı sıra arama isteği işlemek için ayrılmış.</span><span class="sxs-lookup"><span data-stu-id="444cc-228">Each service has dedicated storage and throughput for handling search request as well as separate API keys.</span></span>

<span data-ttu-id="444cc-229">Kaynakları çeşitli kiracılar iş yüklerinde paylaşılmayan gibi her bir kiracı büyük ayak izini sahip veya iş yükü çok az değişkenlik Kiracı Kiracı yüklü olduğu uygulamalar için Kiracı başına hizmet etkili bir seçim modelidir.</span><span class="sxs-lookup"><span data-stu-id="444cc-229">For applications where each tenant has a large footprint or the workload has little variability from tenant to tenant, the service-per-tenant model is an effective choice as resources are not shared across various tenants’ workloads.</span></span>

<span data-ttu-id="444cc-230">Kiracı modeli başına bir hizmet ayrıca bir tahmin edilebilir, sabit maliyet modelin avantajı sunar.</span><span class="sxs-lookup"><span data-stu-id="444cc-230">A service per tenant model also offers the benefit of a predictable, fixed cost model.</span></span> <span data-ttu-id="444cc-231">Oluncaya kadar doldurmak için bir kiracı ancak Kiracı başına maliyet bir kiracı başına dizin modelinden daha yüksek olduğu tüm arama hizmeti yok önceden yatırım yoktur.</span><span class="sxs-lookup"><span data-stu-id="444cc-231">There is no up-front investment in an entire search service until there is a tenant to fill it, however the cost-per-tenant is higher than an index-per-tenant model.</span></span>

<span data-ttu-id="444cc-232">Kiracı başına hizmet modeli, genel bir yer olan uygulamalar için verimli bir seçimdir.</span><span class="sxs-lookup"><span data-stu-id="444cc-232">The service-per-tenant model is an efficient choice for applications with a global footprint.</span></span> <span data-ttu-id="444cc-233">Coğrafi olarak dağılmış kiracılarla her bir kiracının hizmet uygun bölgede sahip kolaydır.</span><span class="sxs-lookup"><span data-stu-id="444cc-233">With geographically-distributed tenants, it is easy to have each tenant's service in the appropriate region.</span></span>

<span data-ttu-id="444cc-234">Tek tek kiracılar kendi hizmet outgrow olduğunda bu deseni ölçeklendirme içinde zorluklar ortaya çıkar.</span><span class="sxs-lookup"><span data-stu-id="444cc-234">The challenges in scaling this pattern arise when individual tenants outgrow their service.</span></span> <span data-ttu-id="444cc-235">Azure arama, böylece tüm verileri için yeni bir hizmet el ile kopyalanması zorunda bir arama hizmeti fiyatlandırma katmanı yükseltme şu anda desteklemiyor.</span><span class="sxs-lookup"><span data-stu-id="444cc-235">Azure Search does not currently support upgrading the pricing tier of a search service, so all data would have to be manually copied to a new service.</span></span>

## <a name="3-mixing-both-models"></a><span data-ttu-id="444cc-236">3. Her iki modeli karıştırma</span><span class="sxs-lookup"><span data-stu-id="444cc-236">3. Mixing both models</span></span>
<span data-ttu-id="444cc-237">Çoklu müşteri Mimarisi Modelleme için başka bir desen dizin başına Kiracı ve Kiracı başına hizmeti stratejileri karıştırma.</span><span class="sxs-lookup"><span data-stu-id="444cc-237">Another pattern for modeling multitenancy is mixing both index-per-tenant and service-per-tenant strategies.</span></span>

<span data-ttu-id="444cc-238">Daha az etkin, daha küçük kiracılar uzun kuyruğu paylaşılan hizmetinde dizinleri kaplar sırada iki desenleri birleştirilmesinden ayrılmış Hizmetleri bir uygulamanın en büyük kiracılar kaplar.</span><span class="sxs-lookup"><span data-stu-id="444cc-238">By mixing the two patterns, an application's largest tenants can occupy dedicated services while the long tail of less active, smaller tenants can occupy indexes in a shared service.</span></span> <span data-ttu-id="444cc-239">Bu model, en büyük kiracılar hizmetinden tutarlı bir şekilde yüksek performanslı herhangi gürültülü komşu daha küçük kiracılar korumak için sağlamanın sahip olmanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="444cc-239">This model ensures that the largest tenants have consistently high performance from the service while helping to protect the smaller tenants from any noisy neighbors.</span></span>

<span data-ttu-id="444cc-240">Ancak, bu stratejinin uygulanması hangi kiracılar paylaşılan bir hizmet bir dizinde karşı adanmış bir hizmet gerektirecektir tahmin etmeye içinde öngörü kullanır.</span><span class="sxs-lookup"><span data-stu-id="444cc-240">However, implementing this strategy relies foresight in predicting which tenants will require a dedicated service versus an index in a shared service.</span></span> <span data-ttu-id="444cc-241">Bu çoklu müşteri mimarisi modeller her ikisi de yönetmek için gereken uygulama karmaşıklığını artırır.</span><span class="sxs-lookup"><span data-stu-id="444cc-241">Application complexity increases with the need to manage both of these multitenancy models.</span></span>

## <a name="achieving-even-finer-granularity"></a><span data-ttu-id="444cc-242">Sağlanması bile daha hassas ayrıntı düzeyi</span><span class="sxs-lookup"><span data-stu-id="444cc-242">Achieving even finer granularity</span></span>
<span data-ttu-id="444cc-243">Azure Search çok müşterili senaryolarda model oluşturmak için yukarıdaki tasarım desenleri her Kiracı uygulamasının tüm örneğini olduğu Tekdüzen bir kapsam varsayalım.</span><span class="sxs-lookup"><span data-stu-id="444cc-243">The above design patterns to model multitenant scenarios in Azure Search assume a uniform scope where each tenant is a whole instance of an application.</span></span> <span data-ttu-id="444cc-244">Ancak, uygulamaları bazen çok sayıda küçük kapsamı işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-244">However, applications can sometimes handle many smaller scopes.</span></span>

<span data-ttu-id="444cc-245">Hizmet başına Kiracı ve Kiracı başına dizin modelleri yeterince küçük kapsamları emin değilseniz, hatta daha hassas bir ayrıntı düzeyi derecesini elde etmek için bir dizin model mümkündür.</span><span class="sxs-lookup"><span data-stu-id="444cc-245">If service-per-tenant and index-per-tenant models are not sufficiently small scopes, it is possible to model an index to achieve an even finer degree of granularity.</span></span>

<span data-ttu-id="444cc-246">Farklı istemci uç noktaları için farklı davranır tek bir dizin için bir alan için olası her istemci belirli bir değer atayan bir dizine eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="444cc-246">To have a single index behave differently for different client endpoints, a field can be added to an index which designates a certain value for each possible client.</span></span> <span data-ttu-id="444cc-247">Bir istemci çağırır sorgu veya bir dizini değiştirmek için Azure Search her zaman istemci uygulaması kodu kullanarak Azure Search'ün bu alan için uygun değer belirtir. [filtre](https://msdn.microsoft.com/library/azure/dn798921.aspx) sorgu zaman yeteneği.</span><span class="sxs-lookup"><span data-stu-id="444cc-247">Each time a client calls Azure Search to query or modify an index, the code from the client application specifies the appropriate value for that field using Azure Search's [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) capability at query time.</span></span>

<span data-ttu-id="444cc-248">Bu yöntem ayrı kullanıcı hesaplarını, ayrı izin düzeyleri işlevselliğini elde etmek için kullanılabilir ve hatta tamamen uygulamaları ayırın.</span><span class="sxs-lookup"><span data-stu-id="444cc-248">This method can be used to achieve functionality of separate user accounts, separate permission levels, and even completely separate applications.</span></span>

> [!NOTE]
> <span data-ttu-id="444cc-249">Yukarıda açıklanan yaklaşım kullanarak birden çok kiracıya hizmet vermek için tek bir dizin yapılandırmak için arama sonuçlarını alaka etkiler.</span><span class="sxs-lookup"><span data-stu-id="444cc-249">Using the approach described above to configure a single index to serve multiple tenants affects the relevance of search results.</span></span> <span data-ttu-id="444cc-250">Tüm kiracılar veri terim sıklığı gibi temel istatistikleri ilgi puanları dahil edilmiş şekilde arama ilgi puanları Kiracı düzeyi kapsamı olmayan bir dizin düzeyinde kapsamda hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="444cc-250">Search relevance scores are computed at an index-level scope, not a tenant-level scope, so all tenants' data is incorporated in the relevance scores' underlying statistics such as term frequency.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="444cc-251">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="444cc-251">Next steps</span></span>
<span data-ttu-id="444cc-252">Azure arama seçimdir bir ilgi çekici pek çok uygulama [hizmetin sağlam özellikleri hakkında daha fazla](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="444cc-252">Azure Search is a compelling choice for many applications, [read more about the service's robust capabilities](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="444cc-253">Çok müşterili uygulamalar için çeşitli tasarım desenleri, değerlendirirken [çeşitli fiyatlandırma katmanlarına](https://azure.microsoft.com/pricing/details/search/) ve ilgili [hizmet sınırları](search-limits-quotas-capacity.md) en iyi uygulama iş yükleri ve mimarileri ölçekteki uyacak şekilde Azure Search uyarlamak için.</span><span class="sxs-lookup"><span data-stu-id="444cc-253">When evaluating the various design patterns for multitenant applications, consider the [various pricing tiers](https://azure.microsoft.com/pricing/details/search/) and the respective [service limits](search-limits-quotas-capacity.md) to best tailor Azure Search to fit application workloads and architectures of all sizes.</span></span>

<span data-ttu-id="444cc-254">Azure Search ve çok müşterili senaryoları hakkında herhangi bir sorunuz için yönlendirilebilir azuresearch_contact@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="444cc-254">Any questions about Azure Search and multitenant scenarios can be directed to azuresearch_contact@microsoft.com.</span></span>

