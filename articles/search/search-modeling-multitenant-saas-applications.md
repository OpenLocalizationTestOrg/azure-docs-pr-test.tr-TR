---
title: "aaaModeling çoklu müşteri mimarisi Azure Search'te | Microsoft Docs"
description: "Azure Search kullanırken çok kiracılı SaaS uygulamaları için ortak tasarım desenleri öğrenin."
services: search
manager: jhubbard
author: ashmaka
documentationcenter: 
ms.assetid: 72e9696a-553b-47dc-9e05-a82db0ebf094
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/26/2016
ms.author: ashmaka
ms.openlocfilehash: dd46cda772d32566b9aaa18d407f12fdf178bd43
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="design-patterns-for-multitenant-saas-applications-and-azure-search"></a><span data-ttu-id="99f92-103">Tasarım desenleri çok kiracılı SaaS uygulamaları ve Azure Search için</span><span class="sxs-lookup"><span data-stu-id="99f92-103">Design patterns for multitenant SaaS applications and Azure Search</span></span>
<span data-ttu-id="99f92-104">Çok kiracılı uygulama hello sağlayan biridir aynı Hizmetleri ve özellikleri tooany kimin göremez ya da başka bir kiracı hello veri paylaşır Kiracı sayısı.</span><span class="sxs-lookup"><span data-stu-id="99f92-104">A multitenant application is one that provides hello same services and capabilities tooany number of tenants who cannot see or share hello data of any other tenant.</span></span> <span data-ttu-id="99f92-105">Bu belge, Azure Search ile oluşturulan çok müşterili uygulamalar için Kiracı yalıtımı stratejileri açıklanır.</span><span class="sxs-lookup"><span data-stu-id="99f92-105">This document discusses tenant isolation strategies for multitenant applications built with Azure Search.</span></span>

## <a name="azure-search-concepts"></a><span data-ttu-id="99f92-106">Azure arama kavramları</span><span class="sxs-lookup"><span data-stu-id="99f92-106">Azure Search concepts</span></span>
<span data-ttu-id="99f92-107">Bir hizmet olarak arama çözümü olarak Azure arama, herhangi bir altyapı yönetme veya uzmanı arama olmadan olmadan tooapplications geliştiriciler tooadd zengin arama deneyimleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="99f92-107">As a search-as-a-service solution, Azure Search allows developers tooadd rich search experiences tooapplications without managing any infrastructure or becoming an expert in search.</span></span> <span data-ttu-id="99f92-108">Veri toohello hizmet karşıya ve hello bulutta depolanır.</span><span class="sxs-lookup"><span data-stu-id="99f92-108">Data is uploaded toohello service and then stored in hello cloud.</span></span> <span data-ttu-id="99f92-109">Basit istekleri toohello Azure Search API kullanarak hello veri sonra değiştirilen aranır ve.</span><span class="sxs-lookup"><span data-stu-id="99f92-109">Using simple requests toohello Azure Search API, hello data can then be modified and searched.</span></span> <span data-ttu-id="99f92-110">Merhaba hizmeti genel bir bakış bulunabilir [bu makalede](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="99f92-110">An overview of hello service can be found in [this article](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="99f92-111">Tasarım modeli ele almadan önce önemli toounderstand bazı kavramları olduğu Azure Search.</span><span class="sxs-lookup"><span data-stu-id="99f92-111">Before discussing design patterns, it is important toounderstand some concepts in Azure Search.</span></span>

### <a name="search-services-indexes-fields-and-documents"></a><span data-ttu-id="99f92-112">Arama Hizmetleri, dizinleri, alanları ve belgeleri</span><span class="sxs-lookup"><span data-stu-id="99f92-112">Search services, indexes, fields, and documents</span></span>
<span data-ttu-id="99f92-113">Azure arama kullanılırken bir tooa abone *search hizmeti*.</span><span class="sxs-lookup"><span data-stu-id="99f92-113">When using Azure Search, one subscribes tooa *search service*.</span></span> <span data-ttu-id="99f92-114">Karşıya yüklenen tooAzure arama veri olduğu gibi depolanan bir *dizin* hello arama hizmeti içinde.</span><span class="sxs-lookup"><span data-stu-id="99f92-114">As data is uploaded tooAzure Search, it is stored in an *index* within hello search service.</span></span> <span data-ttu-id="99f92-115">Tek bir hizmet kapsamındaki dizin sayısı olabilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-115">There can be a number of indexes within a single service.</span></span> <span data-ttu-id="99f92-116">bir hizmet kapsamındaki Hello dizinleri bir veritabanı içinde likened tootables olabileceği toouse hello tanıdık kavramlarını veritabanları, likened tooa veritabanı hello arama hizmeti olabilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-116">toouse hello familiar concepts of databases, hello search service can be likened tooa database while hello indexes within a service can be likened tootables within a database.</span></span>

<span data-ttu-id="99f92-117">Her dizininin özelleştirilebilir bir dizi tanımlanmış kendi şeması, bir arama hizmeti içinde *alanları*.</span><span class="sxs-lookup"><span data-stu-id="99f92-117">Each index within a search service has its own schema, which is defined by a number of customizable *fields*.</span></span> <span data-ttu-id="99f92-118">Veri tek hello formunda tooan Azure Search dizini eklenen *belgeleri*.</span><span class="sxs-lookup"><span data-stu-id="99f92-118">Data is added tooan Azure Search index in hello form of individual *documents*.</span></span> <span data-ttu-id="99f92-119">Her belge karşıya yüklenen tooa belirli dizini olmalıdır ve bu dizinin şema sığması gerekir.</span><span class="sxs-lookup"><span data-stu-id="99f92-119">Each document must be uploaded tooa particular index and must fit that index's schema.</span></span> <span data-ttu-id="99f92-120">Azure Search kullanarak verileri ararken hello tam metin arama sorguları karşı belirli bir dizin verilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-120">When searching data using Azure Search, hello full-text search queries are issued against a particular index.</span></span>  <span data-ttu-id="99f92-121">toocompare bu kavramları toothose veritabanı alanları, bir tablodaki likened toocolumns olabilir ve belgeleri likened toorows olabilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-121">toocompare these concepts toothose of a database, fields can be likened toocolumns in a table and documents can be likened toorows.</span></span>

### <a name="scalability"></a><span data-ttu-id="99f92-122">Ölçeklenebilirlik</span><span class="sxs-lookup"><span data-stu-id="99f92-122">Scalability</span></span>
<span data-ttu-id="99f92-123">Tüm Azure Search Hizmeti hello standart içinde [fiyatlandırma katmanı](https://azure.microsoft.com/pricing/details/search/) iki boyut ölçeklendirebilirsiniz: depolama ve kullanılabilirlik.</span><span class="sxs-lookup"><span data-stu-id="99f92-123">Any Azure Search service in hello Standard [pricing tier](https://azure.microsoft.com/pricing/details/search/) can scale in two dimensions: storage and availability.</span></span>

* <span data-ttu-id="99f92-124">*Bölümler* bir arama hizmeti tooincrease hello depolama eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-124">*Partitions* can be added tooincrease hello storage of a search service.</span></span>
* <span data-ttu-id="99f92-125">*Çoğaltmaları* tooa hizmet tooincrease hello bir arama hizmeti işleyebilir isteklerin verimini eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-125">*Replicas* can be added tooa service tooincrease hello throughput of requests that a search service can handle.</span></span>

<span data-ttu-id="99f92-126">Bölümleri ve çoğaltmaları ekleyerek veya kaldırarak hello arama hizmeti toogrow veri ve trafik hello uygulama talepleri hello tutarda hello kapasitesini izin verir.</span><span class="sxs-lookup"><span data-stu-id="99f92-126">Adding and removing partitions and replicas at will allow hello capacity of hello search service toogrow with hello amount of data and traffic hello application demands.</span></span> <span data-ttu-id="99f92-127">İçinde bir arama hizmeti tooachieve için okuma sipariş [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), iki çoğaltma gerektirir.</span><span class="sxs-lookup"><span data-stu-id="99f92-127">In order for a search service tooachieve a read [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires two replicas.</span></span> <span data-ttu-id="99f92-128">İçinde bir okuma-yazma için bir hizmet tooachieve sipariş [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), üç çoğaltmaları gerektirir.</span><span class="sxs-lookup"><span data-stu-id="99f92-128">In order for a service tooachieve a read-write [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires three replicas.</span></span>

### <a name="service-and-index-limits-in-azure-search"></a><span data-ttu-id="99f92-129">Azure Search dizini ve hizmet sınırları</span><span class="sxs-lookup"><span data-stu-id="99f92-129">Service and index limits in Azure Search</span></span>
<span data-ttu-id="99f92-130">Birkaç farklı [fiyatlandırma katmanlarına](https://azure.microsoft.com/pricing/details/search/) Azure Search'te her hello katmanların farklı sahip [sınırlarını ve kotaları](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="99f92-130">There are a few different [pricing tiers](https://azure.microsoft.com/pricing/details/search/) in Azure Search, each of hello tiers has different [limits and quotas](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="99f92-131">Bu sınırlar hizmet düzeyi hello bazıları, bazı hello dizin düzeyinde değil ve hello bölüm düzeyinde bazılarıdır.</span><span class="sxs-lookup"><span data-stu-id="99f92-131">Some of these limits are at hello service-level, some are at hello index-level, and some are at hello partition-level.</span></span>

|  | <span data-ttu-id="99f92-132">Temel</span><span class="sxs-lookup"><span data-stu-id="99f92-132">Basic</span></span> | <span data-ttu-id="99f92-133">Standard1</span><span class="sxs-lookup"><span data-stu-id="99f92-133">Standard1</span></span> | <span data-ttu-id="99f92-134">Standard2</span><span class="sxs-lookup"><span data-stu-id="99f92-134">Standard2</span></span> | <span data-ttu-id="99f92-135">Standard3</span><span class="sxs-lookup"><span data-stu-id="99f92-135">Standard3</span></span> | <span data-ttu-id="99f92-136">Standard3 HD</span><span class="sxs-lookup"><span data-stu-id="99f92-136">Standard3 HD</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="99f92-137">Hizmeti başına en fazla yineleme</span><span class="sxs-lookup"><span data-stu-id="99f92-137">Maximum Replicas per Service</span></span> |<span data-ttu-id="99f92-138">3</span><span class="sxs-lookup"><span data-stu-id="99f92-138">3</span></span> |<span data-ttu-id="99f92-139">12</span><span class="sxs-lookup"><span data-stu-id="99f92-139">12</span></span> |<span data-ttu-id="99f92-140">12</span><span class="sxs-lookup"><span data-stu-id="99f92-140">12</span></span> |<span data-ttu-id="99f92-141">12</span><span class="sxs-lookup"><span data-stu-id="99f92-141">12</span></span> |<span data-ttu-id="99f92-142">12</span><span class="sxs-lookup"><span data-stu-id="99f92-142">12</span></span> |
| <span data-ttu-id="99f92-143">Hizmet başına en fazla bölüm</span><span class="sxs-lookup"><span data-stu-id="99f92-143">Maximum Partitions per Service</span></span> |<span data-ttu-id="99f92-144">1</span><span class="sxs-lookup"><span data-stu-id="99f92-144">1</span></span> |<span data-ttu-id="99f92-145">12</span><span class="sxs-lookup"><span data-stu-id="99f92-145">12</span></span> |<span data-ttu-id="99f92-146">12</span><span class="sxs-lookup"><span data-stu-id="99f92-146">12</span></span> |<span data-ttu-id="99f92-147">12</span><span class="sxs-lookup"><span data-stu-id="99f92-147">12</span></span> |<span data-ttu-id="99f92-148">1</span><span class="sxs-lookup"><span data-stu-id="99f92-148">1</span></span> |
| <span data-ttu-id="99f92-149">En fazla arama birimi (çoğaltmaları * bölümler) hizmeti başına</span><span class="sxs-lookup"><span data-stu-id="99f92-149">Maximum Search Units (Replicas*Partitions) per Service</span></span> |<span data-ttu-id="99f92-150">3</span><span class="sxs-lookup"><span data-stu-id="99f92-150">3</span></span> |<span data-ttu-id="99f92-151">36</span><span class="sxs-lookup"><span data-stu-id="99f92-151">36</span></span> |<span data-ttu-id="99f92-152">36</span><span class="sxs-lookup"><span data-stu-id="99f92-152">36</span></span> |<span data-ttu-id="99f92-153">36</span><span class="sxs-lookup"><span data-stu-id="99f92-153">36</span></span> |<span data-ttu-id="99f92-154">36 (en fazla 3 bölümler)</span><span class="sxs-lookup"><span data-stu-id="99f92-154">36 (max 3 partitions)</span></span> |
| <span data-ttu-id="99f92-155">Hizmeti başına en fazla belgeleri</span><span class="sxs-lookup"><span data-stu-id="99f92-155">Maximum Documents per Service</span></span> |<span data-ttu-id="99f92-156">1 milyon</span><span class="sxs-lookup"><span data-stu-id="99f92-156">1 million</span></span> |<span data-ttu-id="99f92-157">180 milyondan fazla</span><span class="sxs-lookup"><span data-stu-id="99f92-157">180 million</span></span> |<span data-ttu-id="99f92-158">720 milyon</span><span class="sxs-lookup"><span data-stu-id="99f92-158">720 million</span></span> |<span data-ttu-id="99f92-159">1.4 milyar</span><span class="sxs-lookup"><span data-stu-id="99f92-159">1.4 billion</span></span> |<span data-ttu-id="99f92-160">600 milyon</span><span class="sxs-lookup"><span data-stu-id="99f92-160">600 million</span></span> |
| <span data-ttu-id="99f92-161">Hizmeti başına en fazla depolama</span><span class="sxs-lookup"><span data-stu-id="99f92-161">Maximum Storage per Service</span></span> |<span data-ttu-id="99f92-162">2 GB</span><span class="sxs-lookup"><span data-stu-id="99f92-162">2 GB</span></span> |<span data-ttu-id="99f92-163">300 GB</span><span class="sxs-lookup"><span data-stu-id="99f92-163">300 GB</span></span> |<span data-ttu-id="99f92-164">1,2 TB</span><span class="sxs-lookup"><span data-stu-id="99f92-164">1.2 TB</span></span> |<span data-ttu-id="99f92-165">2,4 TB</span><span class="sxs-lookup"><span data-stu-id="99f92-165">2.4 TB</span></span> |<span data-ttu-id="99f92-166">600 GB</span><span class="sxs-lookup"><span data-stu-id="99f92-166">600 GB</span></span> |
| <span data-ttu-id="99f92-167">Bölüm başına en fazla belgeleri</span><span class="sxs-lookup"><span data-stu-id="99f92-167">Maximum Documents per Partition</span></span> |<span data-ttu-id="99f92-168">1 milyon</span><span class="sxs-lookup"><span data-stu-id="99f92-168">1 million</span></span> |<span data-ttu-id="99f92-169">15 milyon</span><span class="sxs-lookup"><span data-stu-id="99f92-169">15 million</span></span> |<span data-ttu-id="99f92-170">60 milyon</span><span class="sxs-lookup"><span data-stu-id="99f92-170">60 million</span></span> |<span data-ttu-id="99f92-171">120 milyon</span><span class="sxs-lookup"><span data-stu-id="99f92-171">120 million</span></span> |<span data-ttu-id="99f92-172">200 milyon</span><span class="sxs-lookup"><span data-stu-id="99f92-172">200 million</span></span> |
| <span data-ttu-id="99f92-173">Bölüm başına en fazla depolama</span><span class="sxs-lookup"><span data-stu-id="99f92-173">Maximum Storage per Partition</span></span> |<span data-ttu-id="99f92-174">2 GB</span><span class="sxs-lookup"><span data-stu-id="99f92-174">2 GB</span></span> |<span data-ttu-id="99f92-175">25 GB</span><span class="sxs-lookup"><span data-stu-id="99f92-175">25 GB</span></span> |<span data-ttu-id="99f92-176">100 GB</span><span class="sxs-lookup"><span data-stu-id="99f92-176">100 GB</span></span> |<span data-ttu-id="99f92-177">200 GB</span><span class="sxs-lookup"><span data-stu-id="99f92-177">200 GB</span></span> |<span data-ttu-id="99f92-178">200 GB</span><span class="sxs-lookup"><span data-stu-id="99f92-178">200 GB</span></span> |
| <span data-ttu-id="99f92-179">Hizmeti başına en fazla dizinler</span><span class="sxs-lookup"><span data-stu-id="99f92-179">Maximum Indexes per Service</span></span> |<span data-ttu-id="99f92-180">5</span><span class="sxs-lookup"><span data-stu-id="99f92-180">5</span></span> |<span data-ttu-id="99f92-181">50</span><span class="sxs-lookup"><span data-stu-id="99f92-181">50</span></span> |<span data-ttu-id="99f92-182">200</span><span class="sxs-lookup"><span data-stu-id="99f92-182">200</span></span> |<span data-ttu-id="99f92-183">200</span><span class="sxs-lookup"><span data-stu-id="99f92-183">200</span></span> |<span data-ttu-id="99f92-184">3000 (en fazla 1000 dizinleri/bölüm)</span><span class="sxs-lookup"><span data-stu-id="99f92-184">3000 (max 1000 indexes/partition)</span></span> |

#### <a name="s3-high-density"></a><span data-ttu-id="99f92-185">S3 Yüksek yoğunluklu '</span><span class="sxs-lookup"><span data-stu-id="99f92-185">S3 High Density'</span></span>
<span data-ttu-id="99f92-186">Azure Search'ün S3 fiyatlandırma katmanında, özellikle çok müşterili senaryoları için tasarlanmıştır Merhaba yüksek yoğunluk (HD) modu için bir seçenek yoktur.</span><span class="sxs-lookup"><span data-stu-id="99f92-186">In Azure Search’s S3 pricing tier, there is an option for hello High Density (HD) mode designed specifically for multitenant scenarios.</span></span> <span data-ttu-id="99f92-187">Çoğu durumda gerekli toosupport çok sayıda küçük kiracılar Basitlik ve maliyet verimliliği tek hizmet tooachieve hello yararları altında olur.</span><span class="sxs-lookup"><span data-stu-id="99f92-187">In many cases, it is necessary toosupport a large number of smaller tenants under a single service tooachieve hello benefits of simplicity and cost efficiency.</span></span>

<span data-ttu-id="99f92-188">S3 HD hello özelliği tooscale bölümleri hello özelliği toohost için tek bir hizmeti daha fazla dizinlerde kullanan dizinleri çıkışı ticaret tarafından çok sayıda küçük dizinleri toobe tek arama hizmeti hello Yönetimi altında paketlenmiş hello sağlar.</span><span class="sxs-lookup"><span data-stu-id="99f92-188">S3 HD allows for hello many small indexes toobe packed under hello management of a single search service by trading hello ability tooscale out indexes using partitions for hello ability toohost more indexes in a single service.</span></span>

<span data-ttu-id="99f92-189">Concretely, S3 hizmet too1.4 milyar belgeleri birlikte barındırabilir 1 ve 200 dizinler arasında olabilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-189">Concretely, an S3 service could have between 1 and 200 indexes that together could host up too1.4 billion documents.</span></span> <span data-ttu-id="99f92-190">S3 HD hello diğer yandan tek tek dizinler tooonly too1 milyon belgeleri gidin, ancak bölüm başına 200 milyon toplam belge sayısı olan (yukarı too3000 hizmeti başına) bölüm başına too1000 dizinleri yukarı işleyebilir olanak tanır (too600 yukarı hizmeti başına milyon).</span><span class="sxs-lookup"><span data-stu-id="99f92-190">An S3 HD on hello other hand would allow individual indexes tooonly go up too1 million documents, but it can handle up too1000 indexes per partition (up too3000 per service) with a total document count of 200 million per partition (up too600 million per service).</span></span>

## <a name="considerations-for-multitenant-applications"></a><span data-ttu-id="99f92-191">Çok müşterili uygulamalar için ilgili önemli noktalar</span><span class="sxs-lookup"><span data-stu-id="99f92-191">Considerations for multitenant applications</span></span>
<span data-ttu-id="99f92-192">Çok müşterili uygulamalar etkili bir şekilde kaynakları hello kiracılar arasında gizlilik hello arasında belirli bir düzeyde koruyarak çeşitli kiracılar dağıtmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="99f92-192">Multitenant applications must effectively distribute resources among hello tenants while preserving some level of privacy between hello various tenants.</span></span> <span data-ttu-id="99f92-193">Bu tür bir uygulama için hello mimarisi tasarlarken bazı noktalar vardır:</span><span class="sxs-lookup"><span data-stu-id="99f92-193">There are a few considerations when designing hello architecture for such an application:</span></span>

* <span data-ttu-id="99f92-194">*Kiracı yalıtımı:* uygulama geliştiricileri tootake uygun önlemleri tooensure hiçbir kiracılar yetkisiz veya istenmeyen diğer kiracıların erişim toohello veri olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="99f92-194">*Tenant isolation:* Application developers need tootake appropriate measures tooensure that no tenants have unauthorized or unwanted access toohello data of other tenants.</span></span> <span data-ttu-id="99f92-195">Veri gizliliği Hello açısından, paylaşılan kaynakların ve gürültülü komşu korumadan etkin Yönetimi Kiracı yalıtımı stratejileri gerektirir.</span><span class="sxs-lookup"><span data-stu-id="99f92-195">Beyond hello perspective of data privacy, tenant isolation strategies require effective management of shared resources and protection from noisy neighbors.</span></span>
* <span data-ttu-id="99f92-196">*Bulut kaynak maliyeti:* başka herhangi bir uygulama ile yazılım çözümleri maliyet rekabetçi bir çok kiracılı uygulama bileşeni olarak kalması gereken gibi.</span><span class="sxs-lookup"><span data-stu-id="99f92-196">*Cloud resource cost:* As with any other application, software solutions must remain cost competitive as a component of a multitenant application.</span></span>
* <span data-ttu-id="99f92-197">*Operations Kolaylığı:* hello uygulamanın işlemleri üzerindeki etkisi çok müşterili mimarisi geliştirirken hello ve karmaşıklığını önemli bir konu olduğu.</span><span class="sxs-lookup"><span data-stu-id="99f92-197">*Ease of Operations:* When developing a multitenant architecture, hello impact on hello application's operations and complexity is an important consideration.</span></span> <span data-ttu-id="99f92-198">Azure arama sahip bir [% 99,9 SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="99f92-198">Azure Search has a [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
* <span data-ttu-id="99f92-199">*Genel ayak izini:* çok müşterili uygulamalar Merhaba Dünya çapında dağıtılan tooeffectively hizmet vermemesini kiracılar gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-199">*Global footprint:* Multitenant applications may need tooeffectively serve tenants which are distributed across hello globe.</span></span>
* <span data-ttu-id="99f92-200">*Ölçeklenebilirlik:* uygulama geliştiricileri nasıl bunlar mutabık kılmak uygulama karmaşıklığını yeterince düşük düzeyde koruma ve Kiracı sayısı ile Merhaba uygulama tooscale tasarlama arasındaki tooconsider gerekir ve hello kiracılarınızın verilerin boyutu ve iş yükü.</span><span class="sxs-lookup"><span data-stu-id="99f92-200">*Scalability:* Application developers need tooconsider how they reconcile between maintaining a sufficiently low level of application complexity and designing hello application tooscale with number of tenants and hello size of tenants' data and workload.</span></span>

<span data-ttu-id="99f92-201">Azure Search'te kullanılan tooisolate kiracılar verileri ve iş yükü olabilecek birkaç sınırlarını sunar.</span><span class="sxs-lookup"><span data-stu-id="99f92-201">Azure Search offers a few boundaries that can be used tooisolate tenants’ data and workload.</span></span>

## <a name="modeling-multitenancy-with-azure-search"></a><span data-ttu-id="99f92-202">Azure Search ile çoklu müşteri Mimarisi Modelleme</span><span class="sxs-lookup"><span data-stu-id="99f92-202">Modeling multitenancy with Azure Search</span></span>
<span data-ttu-id="99f92-203">Hello durumda çok müşterili bir senaryonun hello uygulama geliştiricisi bir veya daha fazla arama hizmetleri kullanır ve Hizmetleri, dizinler veya her ikisi arasında kiracıları bölün.</span><span class="sxs-lookup"><span data-stu-id="99f92-203">In hello case of a multitenant scenario, hello application developer consumes one or more search services and divide their tenants among services, indexes, or both.</span></span> <span data-ttu-id="99f92-204">Çok kiracılı bir senaryo modelleme varken, Azure arama birkaç ortak desenler kullanır:</span><span class="sxs-lookup"><span data-stu-id="99f92-204">Azure Search has a few common patterns when modeling a multitenant scenario:</span></span>

1. <span data-ttu-id="99f92-205">*Kiracı başına dizin:* her bir kiracı kendi dizini içindeki diğer kiracılar ile paylaşılan bir arama hizmeti yok.</span><span class="sxs-lookup"><span data-stu-id="99f92-205">*Index per tenant:* Each tenant has its own index within a search service that is shared with other tenants.</span></span>
2. <span data-ttu-id="99f92-206">*Kiracı başına hizmet:* en yüksek düzeyde veri ve iş yükü ayrımı sunumu her bir kiracı kendi adanmış bir Azure Search Hizmeti sahip.</span><span class="sxs-lookup"><span data-stu-id="99f92-206">*Service per tenant:* Each tenant has its own dedicated Azure Search service, offering highest level of data and workload separation.</span></span>
3. <span data-ttu-id="99f92-207">*Her ikisi de karışımını:* küçük kiracılar paylaşılan hizmetler içinde tek tek dizinler atanmış durumdayken daha büyük ve daha fazlasını etkin kiracılar ayrılmış Hizmetleri atanır.</span><span class="sxs-lookup"><span data-stu-id="99f92-207">*Mix of both:* Larger, more-active tenants are assigned dedicated services while smaller tenants are assigned individual indexes within shared services.</span></span>

## <a name="1-index-per-tenant"></a><span data-ttu-id="99f92-208">1. Kiracı başına dizin</span><span class="sxs-lookup"><span data-stu-id="99f92-208">1. Index per tenant</span></span>
![Merhaba Kiracı başına dizin modelinin portrayal](./media/search-modeling-multitenant-saas-applications/azure-search-index-per-tenant.png)

<span data-ttu-id="99f92-210">Bir kiracı başına dizin modelinde, her bir kiracı kendi dizin sahip olduğu birden çok kiracıya tek bir Azure Search Hizmeti kaplar.</span><span class="sxs-lookup"><span data-stu-id="99f92-210">In an index-per-tenant model, multiple tenants occupy a single Azure Search service where each tenant has their own index.</span></span>

<span data-ttu-id="99f92-211">Kiracılar, tüm istekleri arayın ve Azure Search'te dizin düzeyinde bir belge işlemleri verilen olduğundan veri yalıtımı elde edin.</span><span class="sxs-lookup"><span data-stu-id="99f92-211">Tenants achieve data isolation because all search requests and document operations are issued at an index level in Azure Search.</span></span> <span data-ttu-id="99f92-212">Merhaba uygulama katmanında toodirect hello hizmet düzeyinde kaynakları da tüm kiracılar arasında yönetirken çeşitli kiracılar trafiği toohello uygun dizinleri hello hello gerek tanıma yoktur.</span><span class="sxs-lookup"><span data-stu-id="99f92-212">In hello application layer, there is hello need awareness toodirect hello various tenants’ traffic toohello proper indexes while also managing resources at hello service level across all tenants.</span></span>

<span data-ttu-id="99f92-213">Bir anahtar hello Kiracı başına dizin modelinin hello özelliği hello Uygulama geliştirici toooversubscribe hello kapasitesini hello uygulamanın kiracılar arasında bir arama hizmeti için özniteliğidir.</span><span class="sxs-lookup"><span data-stu-id="99f92-213">A key attribute of hello index-per-tenant model is hello ability for hello application developer toooversubscribe hello capacity of a search service among hello application’s tenants.</span></span> <span data-ttu-id="99f92-214">Merhaba kiracılar varsa, bir iş yükünün düzensiz dağıtım, kiracılar can en iyi birleşimi hello dağıtılmasını search hizmet tooaccommodate yüksek oranda etkin, yoğun bir kaynak Kiracı sayısı aynı anda bir uzun kuyruğu hizmet verirken dizinler daha az aktif kiracılar.</span><span class="sxs-lookup"><span data-stu-id="99f92-214">If hello tenants have an uneven distribution of workload, hello optimal combination of tenants can be distributed across a search service’s indexes tooaccommodate a number of highly active, resource-intensive tenants while simultaneously serving a long tail of less active tenants.</span></span> <span data-ttu-id="99f92-215">Merhaba dengelemeyi her Kiracı aynı anda yüksek oranda etkin olduğu hello modeli toohandle durumlar hello bağlanamaması ' dir.</span><span class="sxs-lookup"><span data-stu-id="99f92-215">hello trade-off is hello inability of hello model toohandle situations where each tenant is concurrently highly active.</span></span>

<span data-ttu-id="99f92-216">Hello Kiracı başına dizin modeli, burada tüm Azure Search Hizmeti satın önceden bir değişken maliyet modeli için hello temeli sağlar ve daha sonra kiracılar ile doldurulur.</span><span class="sxs-lookup"><span data-stu-id="99f92-216">hello index-per-tenant model provides hello basis for a variable cost model, where an entire Azure Search service is bought up-front and then subsequently filled with tenants.</span></span> <span data-ttu-id="99f92-217">Bu deneme ve ücretsiz hesaplar için belirlenmiş kullanılmayan kapasiteyi toobe sağlar.</span><span class="sxs-lookup"><span data-stu-id="99f92-217">This allows for unused capacity toobe designated for trials and free accounts.</span></span>

<span data-ttu-id="99f92-218">Genel bir yer olan uygulamalar için hello Kiracı başına dizin modeli hello en etkili olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-218">For applications with a global footprint, hello index-per-tenant model may not be hello most efficient.</span></span> <span data-ttu-id="99f92-219">Bir uygulamanın kiracılar Merhaba Dünya çapında dağıtılmışsa, ayrı bir hizmet maliyetleri her biri arasında çoğaltabilirsiniz her bölge için gerekli olabilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-219">If an application's tenants are distributed across hello globe, a separate service may be necessary for each region which may duplicate costs across each of them.</span></span>

<span data-ttu-id="99f92-220">Azure arama için hello tek tek dizinler ve dizinleri toogrow toplam sayısı hello hello ölçek sağlar.</span><span class="sxs-lookup"><span data-stu-id="99f92-220">Azure Search allows for hello scale of both hello individual indexes and hello total number of indexes toogrow.</span></span> <span data-ttu-id="99f92-221">Uygun fiyatlandırma, katmanı seçildiğinde, bölümler ve çoğaltmalar toohello tüm arama hizmeti tek bir dizin zaman hello hizmet içinde depolama veya trafiği açısından çok büyük büyür eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-221">If an appropriate pricing tier is chosen, partitions and replicas can be added toohello entire search service when an individual index within hello service grows too large in terms of storage or traffic.</span></span>

<span data-ttu-id="99f92-222">Dizinleri toplam sayısı Hello tek bir hizmet için çok fazla büyürse, başka bir hizmet yeni kiracılar hello sağlanan toobe tooaccommodate sahiptir.</span><span class="sxs-lookup"><span data-stu-id="99f92-222">If hello total number of indexes grows too large for a single service, another service has toobe provisioned tooaccommodate hello new tenants.</span></span> <span data-ttu-id="99f92-223">Dizinleri yeni hizmetler eklendikçe arama hizmetleri arasında taşındı toobe varsa, el ile bir dizin toohello diğer kopyalanan toobe hello veri hello dizinden sahip Azure Search taşınan bir dizin toobe için izin vermediğinden.</span><span class="sxs-lookup"><span data-stu-id="99f92-223">If indexes have toobe moved between search services as new services are added, hello data from hello index has toobe manually copied from one index toohello other as Azure Search does not allow for an index toobe moved.</span></span>

## <a name="2-service-per-tenant"></a><span data-ttu-id="99f92-224">2. Kiracı başına hizmeti</span><span class="sxs-lookup"><span data-stu-id="99f92-224">2. Service per tenant</span></span>
![Portrayal hello Kiracı başına hizmet modeli](./media/search-modeling-multitenant-saas-applications/azure-search-service-per-tenant.png)

<span data-ttu-id="99f92-226">Kiracı başına hizmet mimarisinde, her bir kiracı kendi Arama hizmeti vardır.</span><span class="sxs-lookup"><span data-stu-id="99f92-226">In a service-per-tenant architecture, each tenant has its own search service.</span></span>

<span data-ttu-id="99f92-227">Bu modelde, hello uygulama yalıtımı, kiracılar için en fazla düzeyi hello uygular.</span><span class="sxs-lookup"><span data-stu-id="99f92-227">In this model, hello application achieves hello maximum level of isolation for its tenants.</span></span> <span data-ttu-id="99f92-228">Her hizmet, depolama ve işleme ayrı API anahtarları yanı sıra arama isteği işlemek için ayrılmış.</span><span class="sxs-lookup"><span data-stu-id="99f92-228">Each service has dedicated storage and throughput for handling search request as well as separate API keys.</span></span>

<span data-ttu-id="99f92-229">Kaynakları çeşitli kiracılar iş yüklerinde paylaşılmayan gibi her bir kiracı büyük ayak izini sahip veya Kiracı tootenant'den az değişkenlik hello iş yükü yüklü olduğu uygulamalar için hello Kiracı başına hizmet modeli bir etkili bir seçimdir.</span><span class="sxs-lookup"><span data-stu-id="99f92-229">For applications where each tenant has a large footprint or hello workload has little variability from tenant tootenant, hello service-per-tenant model is an effective choice as resources are not shared across various tenants’ workloads.</span></span>

<span data-ttu-id="99f92-230">Kiracı modeli başına bir hizmet, ayrıca bir tahmin edilebilir, sabit maliyet modelin hello avantajını sunar.</span><span class="sxs-lookup"><span data-stu-id="99f92-230">A service per tenant model also offers hello benefit of a predictable, fixed cost model.</span></span> <span data-ttu-id="99f92-231">Bir kiracı toofill edene kadar bir tüm arama hizmeti yok önceden yatırım olduğunu, ancak bir kiracı başına dizin modelinden hello maliyet-başına-Kiracı yüksektir.</span><span class="sxs-lookup"><span data-stu-id="99f92-231">There is no up-front investment in an entire search service until there is a tenant toofill it, however hello cost-per-tenant is higher than an index-per-tenant model.</span></span>

<span data-ttu-id="99f92-232">Merhaba Kiracı başına hizmet modeli, genel bir yer olan uygulamalar için verimli bir seçimdir.</span><span class="sxs-lookup"><span data-stu-id="99f92-232">hello service-per-tenant model is an efficient choice for applications with a global footprint.</span></span> <span data-ttu-id="99f92-233">Coğrafi olarak dağılmış kiracılarla kolay toohave her bir kiracının hizmet vermiyor hello uygun bölge.</span><span class="sxs-lookup"><span data-stu-id="99f92-233">With geographically-distributed tenants, it is easy toohave each tenant's service in hello appropriate region.</span></span>

<span data-ttu-id="99f92-234">tek tek kiracılar kendi hizmet outgrow olduğunda bu deseni ölçeklendirme içinde hello zorluklar ortaya çıkar.</span><span class="sxs-lookup"><span data-stu-id="99f92-234">hello challenges in scaling this pattern arise when individual tenants outgrow their service.</span></span> <span data-ttu-id="99f92-235">Azure arama yükseltme hello tüm verileri el ile kopyalanan toobe tooa yeni bir hizmet olması gereken şekilde fiyatlandırma katmanı, bir arama hizmeti şu anda desteklemiyor.</span><span class="sxs-lookup"><span data-stu-id="99f92-235">Azure Search does not currently support upgrading hello pricing tier of a search service, so all data would have toobe manually copied tooa new service.</span></span>

## <a name="3-mixing-both-models"></a><span data-ttu-id="99f92-236">3. Her iki modeli karıştırma</span><span class="sxs-lookup"><span data-stu-id="99f92-236">3. Mixing both models</span></span>
<span data-ttu-id="99f92-237">Çoklu müşteri Mimarisi Modelleme için başka bir desen dizin başına Kiracı ve Kiracı başına hizmeti stratejileri karıştırma.</span><span class="sxs-lookup"><span data-stu-id="99f92-237">Another pattern for modeling multitenancy is mixing both index-per-tenant and service-per-tenant strategies.</span></span>

<span data-ttu-id="99f92-238">Merhaba daha az etkin, daha küçük kiracılar uzun sonu, paylaşılan bir hizmet olarak dizinler kaplar sırada hello iki desenleri birleştirilmesinden ayrılmış Hizmetleri bir uygulamanın en büyük kiracılar kaplar.</span><span class="sxs-lookup"><span data-stu-id="99f92-238">By mixing hello two patterns, an application's largest tenants can occupy dedicated services while hello long tail of less active, smaller tenants can occupy indexes in a shared service.</span></span> <span data-ttu-id="99f92-239">Bu model hello en büyük kiracılar hello hizmetinden tutarlı bir şekilde yüksek performanslı herhangi gürültülü komşu küçük kiracılardan hello tooprotect sağlamanın sahip olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="99f92-239">This model ensures that hello largest tenants have consistently high performance from hello service while helping tooprotect hello smaller tenants from any noisy neighbors.</span></span>

<span data-ttu-id="99f92-240">Ancak, bu stratejinin uygulanması hangi kiracılar paylaşılan bir hizmet bir dizinde karşı adanmış bir hizmet gerektirecektir tahmin etmeye içinde öngörü kullanır.</span><span class="sxs-lookup"><span data-stu-id="99f92-240">However, implementing this strategy relies foresight in predicting which tenants will require a dedicated service versus an index in a shared service.</span></span> <span data-ttu-id="99f92-241">Merhaba gerek toomanage bu RRAS'nin modellerinin ile hem uygulama karmaşıklığını artırır.</span><span class="sxs-lookup"><span data-stu-id="99f92-241">Application complexity increases with hello need toomanage both of these multitenancy models.</span></span>

## <a name="achieving-even-finer-granularity"></a><span data-ttu-id="99f92-242">Sağlanması bile daha hassas ayrıntı düzeyi</span><span class="sxs-lookup"><span data-stu-id="99f92-242">Achieving even finer granularity</span></span>
<span data-ttu-id="99f92-243">Tasarım desenleri toomodel çok müşterili senaryolarda Azure Search yukarıda Hello her Kiracı uygulamasının tüm örneğini olduğu Tekdüzen bir kapsam varsayalım.</span><span class="sxs-lookup"><span data-stu-id="99f92-243">hello above design patterns toomodel multitenant scenarios in Azure Search assume a uniform scope where each tenant is a whole instance of an application.</span></span> <span data-ttu-id="99f92-244">Ancak, uygulamaları bazen çok sayıda küçük kapsamı işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-244">However, applications can sometimes handle many smaller scopes.</span></span>

<span data-ttu-id="99f92-245">Hizmet başına Kiracı ve Kiracı başına dizin modelleri yeterince küçük kapsamları emin değilseniz, olası toomodel dizin tooachieve bile daha hassas bir ayrıntı düzeyi derecesini var.</span><span class="sxs-lookup"><span data-stu-id="99f92-245">If service-per-tenant and index-per-tenant models are not sufficiently small scopes, it is possible toomodel an index tooachieve an even finer degree of granularity.</span></span>

<span data-ttu-id="99f92-246">tek bir dizin için farklı istemci uç noktaları farklı şekilde davranır toohave bir alan olası her istemci için belirli bir değere atayan eklenen tooan dizin olabilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-246">toohave a single index behave differently for different client endpoints, a field can be added tooan index which designates a certain value for each possible client.</span></span> <span data-ttu-id="99f92-247">Bir istemci Azure Search tooquery çağıran veya bir dizin değiştirmek, her Merhaba istemci uygulaması hello koddan Azure Search'ün kullanarak bu alan için uygun değer hello belirtir [filtre](https://msdn.microsoft.com/library/azure/dn798921.aspx) sorgu zaman yeteneği.</span><span class="sxs-lookup"><span data-stu-id="99f92-247">Each time a client calls Azure Search tooquery or modify an index, hello code from hello client application specifies hello appropriate value for that field using Azure Search's [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) capability at query time.</span></span>

<span data-ttu-id="99f92-248">Bu yöntem, kullanılan tooachieve işlevselliğini ayrı kullanıcı hesaplarını, ayrı izin düzeyleri ve hatta tamamen ayrı uygulamalar olabilir.</span><span class="sxs-lookup"><span data-stu-id="99f92-248">This method can be used tooachieve functionality of separate user accounts, separate permission levels, and even completely separate applications.</span></span>

> [!NOTE]
> <span data-ttu-id="99f92-249">Merhaba yaklaşımı kullanarak tooconfigure birden çok kiracılar etkiler hello alaka arama sonuçları tek dizin tooserve açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="99f92-249">Using hello approach described above tooconfigure a single index tooserve multiple tenants affects hello relevance of search results.</span></span> <span data-ttu-id="99f92-250">Tüm kiracılar veri terim sıklığı gibi temel istatistikleri hello ilgi puanları dahil edilmiş şekilde arama ilgi puanları Kiracı düzeyi kapsamı olmayan bir dizin düzeyinde kapsamda hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="99f92-250">Search relevance scores are computed at an index-level scope, not a tenant-level scope, so all tenants' data is incorporated in hello relevance scores' underlying statistics such as term frequency.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="99f92-251">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="99f92-251">Next steps</span></span>
<span data-ttu-id="99f92-252">Azure arama seçimdir bir ilgi çekici pek çok uygulama [hello hizmetin sağlam özellikleri hakkında daha fazla](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="99f92-252">Azure Search is a compelling choice for many applications, [read more about hello service's robust capabilities](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="99f92-253">Ne zaman değerlendirme hello çeşitli tasarım desenleri çok müşterili uygulamalar için hello göz önünde bulundurun [çeşitli fiyatlandırma katmanlarına](https://azure.microsoft.com/pricing/details/search/) ve ilgili hello [hizmet sınırları](search-limits-quotas-capacity.md) toobest Azure Search toofit uyarlama uygulama iş yükleri ve mimarileri ölçekteki.</span><span class="sxs-lookup"><span data-stu-id="99f92-253">When evaluating hello various design patterns for multitenant applications, consider hello [various pricing tiers](https://azure.microsoft.com/pricing/details/search/) and hello respective [service limits](search-limits-quotas-capacity.md) toobest tailor Azure Search toofit application workloads and architectures of all sizes.</span></span>

<span data-ttu-id="99f92-254">Azure Search ve çok müşterili senaryoları hakkında herhangi bir sorunuz yönlendirilebilir tooazuresearch_contact@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="99f92-254">Any questions about Azure Search and multitenant scenarios can be directed tooazuresearch_contact@microsoft.com.</span></span>

