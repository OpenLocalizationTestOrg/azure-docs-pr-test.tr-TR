---
title: "aaaService Fabric uygulama yükseltme | Microsoft Docs"
description: "Bu makalede bir giriş tooupgrading seçme yükseltme modları ve gerçekleştirme durumu denetimleri de dahil olmak üzere bir Service Fabric uygulaması sağlar."
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: 803c9c63-373a-4d6a-8ef2-ea97e16e88dd
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: 6f649ef4a5c0afab682522bcba7d2d66a4268ead
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-application-upgrade"></a><span data-ttu-id="f7001-103">Service Fabric uygulaması yükseltme</span><span class="sxs-lookup"><span data-stu-id="f7001-103">Service Fabric application upgrade</span></span>
<span data-ttu-id="f7001-104">Azure Service Fabric uygulama hizmetleri koleksiyonudur.</span><span class="sxs-lookup"><span data-stu-id="f7001-104">An Azure Service Fabric application is a collection of services.</span></span> <span data-ttu-id="f7001-105">Yükseltme sırasında Service Fabric hello yeni karşılaştırır [uygulama bildirimi](service-fabric-application-model.md#describe-an-application) hello önceki sürümüyle ve hangi hizmetlerin hello uygulamada güncelleştirmelerindeki belirler.</span><span class="sxs-lookup"><span data-stu-id="f7001-105">During an upgrade, Service Fabric compares hello new [application manifest](service-fabric-application-model.md#describe-an-application) with hello previous version and determines which services in hello application require updates.</span></span> <span data-ttu-id="f7001-106">Service Fabric hello sürüm numaraları hello hizmetindeki hello önceki sürümde hello sürüm numaralarıyla bildirimleri karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="f7001-106">Service Fabric compares hello version numbers in hello service manifests with hello version numbers in hello previous version.</span></span> <span data-ttu-id="f7001-107">Bu hizmet, hizmet değişmemişse yükseltilmez.</span><span class="sxs-lookup"><span data-stu-id="f7001-107">If a service has not changed, that service is not upgraded.</span></span>

## <a name="rolling-upgrades-overview"></a><span data-ttu-id="f7001-108">Yükseltmeler genel bakış alınıyor</span><span class="sxs-lookup"><span data-stu-id="f7001-108">Rolling upgrades overview</span></span>
<span data-ttu-id="f7001-109">Çalışırken bir uygulama yükseltmede hello yükseltme aşamada gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="f7001-109">In a rolling application upgrade, hello upgrade is performed in stages.</span></span> <span data-ttu-id="f7001-110">Her aşamada hello yükseltme bir güncelleştirme etki alanı adında hello kümedeki düğümler uygulanan tooa alt kümesidir.</span><span class="sxs-lookup"><span data-stu-id="f7001-110">At each stage, hello upgrade is applied tooa subset of nodes in hello cluster, called an update domain.</span></span> <span data-ttu-id="f7001-111">Sonuç olarak, Merhaba uygulaması hello yükseltme kullanılabilir olarak kalır.</span><span class="sxs-lookup"><span data-stu-id="f7001-111">As a result, hello application remains available throughout hello upgrade.</span></span> <span data-ttu-id="f7001-112">Merhaba yükseltme sırasında hello küme hello eski ve yeni sürümleri bir karışımını içerebilir.</span><span class="sxs-lookup"><span data-stu-id="f7001-112">During hello upgrade, hello cluster may contain a mix of hello old and new versions.</span></span>

<span data-ttu-id="f7001-113">Bu nedenle, hello iki sürümleri ileriye ve geriye dönük uyumlu.</span><span class="sxs-lookup"><span data-stu-id="f7001-113">For that reason, hello two versions must be forward and backward compatible.</span></span> <span data-ttu-id="f7001-114">Uyumlu değillerse, birden çok aşaması yükseltme toomaintain kullanılabilirlik hazırlama için Merhaba uygulama yönetici sorumludur.</span><span class="sxs-lookup"><span data-stu-id="f7001-114">If they are not compatible, hello application administrator is responsible for staging a multiple-phase upgrade toomaintain availability.</span></span> <span data-ttu-id="f7001-115">Bir çoklu aşama yükseltmesinin hello ilk adımı hello önceki sürümü ile uyumlu olup hello uygulama ara sürümü tooan yükseltiyor.</span><span class="sxs-lookup"><span data-stu-id="f7001-115">In a multiple-phase upgrade, hello first step is upgrading tooan intermediate version of hello application that is compatible with hello previous version.</span></span> <span data-ttu-id="f7001-116">Merhaba ikinci adım hello güncelleştirme öncesi sürümüyle uyumluluğu keser, ancak hello Ara sürümü ile uyumlu olup tooupgrade hello son sürümüdür.</span><span class="sxs-lookup"><span data-stu-id="f7001-116">hello second step is tooupgrade hello final version that breaks compatibility with hello pre-update version, but is compatible with hello intermediate version.</span></span>

<span data-ttu-id="f7001-117">Merhaba kümesini yapılandırırken güncelleştirme etki alanları hello küme bildiriminde belirtilir.</span><span class="sxs-lookup"><span data-stu-id="f7001-117">Update domains are specified in hello cluster manifest when you configure hello cluster.</span></span> <span data-ttu-id="f7001-118">Güncelleştirme etki alanları, belirli bir sırada güncelleştirmeleri almaz.</span><span class="sxs-lookup"><span data-stu-id="f7001-118">Update domains do not receive updates in a particular order.</span></span> <span data-ttu-id="f7001-119">Bir güncelleştirme etki alanı için bir uygulama dağıtımının mantıksal bir birimdir.</span><span class="sxs-lookup"><span data-stu-id="f7001-119">An update domain is a logical unit of deployment for an application.</span></span> <span data-ttu-id="f7001-120">Güncelleştirme etki alanları hello Hizmetleri tooremain yükseltme sırasında yüksek kullanılabilirlik sağlar.</span><span class="sxs-lookup"><span data-stu-id="f7001-120">Update domains allow hello services tooremain at high availability during an upgrade.</span></span>

<span data-ttu-id="f7001-121">Merhaba yükseltme uygulanan tooall kümedeki düğümler hello uygulama yalnızca bir güncelleştirme etki alanı varsa, hello durumdur hello ise olmayan çalışırken yükseltme mümkündür.</span><span class="sxs-lookup"><span data-stu-id="f7001-121">Non-rolling upgrades are possible if hello upgrade is applied tooall nodes in hello cluster, which is hello case when hello application has only one update domain.</span></span> <span data-ttu-id="f7001-122">Bu yaklaşım önerilmez, bu Hello hizmet arıza ve yükseltme hello aynı anda kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="f7001-122">This approach is not recommended, since hello service goes down and isn't available at hello time of upgrade.</span></span> <span data-ttu-id="f7001-123">Ayrıca, bir küme yalnızca tek bir güncelleştirme etki alanı ile ayarlandığında, Azure garanti sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="f7001-123">Additionally, Azure doesn't provide any guarantees when a cluster is set up with only one update domain.</span></span>

## <a name="health-checks-during-upgrades"></a><span data-ttu-id="f7001-124">Yükseltme sırasında sistem durumu denetimleri</span><span class="sxs-lookup"><span data-stu-id="f7001-124">Health checks during upgrades</span></span>
<span data-ttu-id="f7001-125">Bir yükseltme için sistem durumu ilkeleri ayarlamak toobe sahip (veya varsayılan değerleri kullanılabilir) kullanın.</span><span class="sxs-lookup"><span data-stu-id="f7001-125">For an upgrade, health policies have toobe set (or default values may be used).</span></span> <span data-ttu-id="f7001-126">Yükseltme başarılı olarak adlandırılır belirtilen zaman aşımlarını tüm güncelleştirme etki alanları hello zaman yükseltilir ve tüm güncelleştirdiğinizde etki alanları sağlıklı olarak kabul edilen.</span><span class="sxs-lookup"><span data-stu-id="f7001-126">An upgrade is termed successful when all update domains are upgraded within hello specified time-outs, and when all update domains are deemed healthy.</span></span>  <span data-ttu-id="f7001-127">Sağlıklı güncelleştirme etki alanı hello güncelleştirme etki hello sistem durumu İlkesi'nde belirtilen tüm hello durumu denetimleri geçirilen anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="f7001-127">A healthy update domain means that hello update domain passed all hello health checks specified in hello health policy.</span></span> <span data-ttu-id="f7001-128">Örneğin, bir sistem durumu ilkesi uygulama örneğini içindeki tüm hizmetler olmalıdır zorunlu kılabilir *sağlıklı*, sistem durumu Service Fabric tarafından tanımlanan.</span><span class="sxs-lookup"><span data-stu-id="f7001-128">For example, a health policy may mandate that all services within an application instance must be *healthy*, as health is defined by Service Fabric.</span></span>

<span data-ttu-id="f7001-129">Sistem durumu ilkeleri ve denetimler Service Fabric tarafından yükseltme sırasında hizmet ve uygulama bağımsızdır.</span><span class="sxs-lookup"><span data-stu-id="f7001-129">Health policies and checks during upgrade by Service Fabric are service and application agnostic.</span></span> <span data-ttu-id="f7001-130">Diğer bir deyişle, hizmete özgü testleri yapılır.</span><span class="sxs-lookup"><span data-stu-id="f7001-130">That is, no service-specific tests are done.</span></span>  <span data-ttu-id="f7001-131">Örneğin, hizmetiniz bir işleme gereksinimi olabilir, ancak Service Fabric hello bilgi toocheck işleme sahip değil.</span><span class="sxs-lookup"><span data-stu-id="f7001-131">For example, your service might have a throughput requirement, but Service Fabric does not have hello information toocheck throughput.</span></span> <span data-ttu-id="f7001-132">Toohello başvuran [sistem durumu makaleleri](service-fabric-health-introduction.md) gerçekleştirilen hello denetimleri için.</span><span class="sxs-lookup"><span data-stu-id="f7001-132">Refer toohello [health articles](service-fabric-health-introduction.md) for hello checks that are performed.</span></span> <span data-ttu-id="f7001-133">Merhaba örneği başlayıp başlamadığını hello uygulama paketi doğru kopyalanmıştır bir yükseltme INCLUDE testleri sırasında gerçekleşecek hello denetler ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="f7001-133">hello checks that happen during an upgrade include tests for whether hello application package was copied correctly, whether hello instance was started, and so on.</span></span>

<span data-ttu-id="f7001-134">Merhaba uygulama sistem hello alt varlıkları hello uygulamasının toplamı olur.</span><span class="sxs-lookup"><span data-stu-id="f7001-134">hello application health is an aggregation of hello child entities of hello application.</span></span> <span data-ttu-id="f7001-135">Kısacası, Service Fabric hello uygulaması üzerinde bildirilen hello sistem durumu üzerinden hello uygulama hello durumunu değerlendirir.</span><span class="sxs-lookup"><span data-stu-id="f7001-135">In short, Service Fabric evaluates hello health of hello application through hello health that is reported on hello application.</span></span> <span data-ttu-id="f7001-136">Ayrıca bu şekilde hello uygulama için tüm hello Hizmetleri hello durumunu değerlendirir.</span><span class="sxs-lookup"><span data-stu-id="f7001-136">It also evaluates hello health of all hello services for hello application this way.</span></span> <span data-ttu-id="f7001-137">Daha fazla Service Fabric hello hizmet çoğaltma gibi bunların alt öğeleri hello durumunu toplayarak hello uygulama hizmetleri hello durumunu değerlendirir.</span><span class="sxs-lookup"><span data-stu-id="f7001-137">Service Fabric further evaluates hello health of hello application services by aggregating hello health of their children, such as hello service replica.</span></span> <span data-ttu-id="f7001-138">Merhaba uygulama durumu ilkesi sağlanıyorsa sonra hello yükseltme devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f7001-138">Once hello application health policy is satisfied, hello upgrade can proceed.</span></span> <span data-ttu-id="f7001-139">Merhaba sistem durumu ilkesi ihlal hello uygulama yükseltme başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="f7001-139">If hello health policy is violated, hello application upgrade fails.</span></span>

## <a name="upgrade-modes"></a><span data-ttu-id="f7001-140">Yükseltme modları</span><span class="sxs-lookup"><span data-stu-id="f7001-140">Upgrade modes</span></span>
<span data-ttu-id="f7001-141">Uygulama yükseltme için önerdiğimiz hello modu yaygın olarak kullanılan hello modu izlenen hello modudur.</span><span class="sxs-lookup"><span data-stu-id="f7001-141">hello mode that we recommend for application upgrade is hello monitored mode, which is hello commonly used mode.</span></span> <span data-ttu-id="f7001-142">İzlenen modu tek bir güncelleştirme etki alanında hello yükseltme gerçekleştirir ve tüm sistem durumu denetliyorsa (her hello İlkesi) belirtilen, geçişi taşır toohello sonraki güncelleştirme etki alanında otomatik olarak.</span><span class="sxs-lookup"><span data-stu-id="f7001-142">Monitored mode performs hello upgrade on one update domain, and if all health checks pass (per hello policy specified), moves on toohello next update domain automatically.</span></span>  <span data-ttu-id="f7001-143">Sistem durumu denetimi başarısız ve/veya zaman aşımları ulaşıldığında, hello yükseltme ya da hello güncelleştirme etki alanı için geri ya da değiştirilmiş toounmonitored el ile Merhaba modudur.</span><span class="sxs-lookup"><span data-stu-id="f7001-143">If health checks fail and/or time-outs are reached, hello upgrade is either rolled back for hello update domain, or hello mode is changed toounmonitored manual.</span></span> <span data-ttu-id="f7001-144">Yükseltme toochoose hello başarısız yükseltmeler için bu iki moddan birini yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f7001-144">You can configure hello upgrade toochoose one of those two modes for failed upgrades.</span></span> 

<span data-ttu-id="f7001-145">İzlenmeyen el ile moduna el ile müdahale her bir güncelleştirme etki alanında yükseltme, hello yükseltme hello sonraki güncelleştirme etki alanı dışı tookick sonra gerekir.</span><span class="sxs-lookup"><span data-stu-id="f7001-145">Unmonitored manual mode needs manual intervention after every upgrade on an update domain, tookick off hello upgrade on hello next update domain.</span></span> <span data-ttu-id="f7001-146">Herhangi bir Service Fabric sistem durumu denetimi gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="f7001-146">No Service Fabric health checks are performed.</span></span> <span data-ttu-id="f7001-147">Hello Yöneticisi hello sonraki güncelleştirme etki alanında hello Yükseltmeyi başlatmadan önce hello sistem durumu veya durum denetimi gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="f7001-147">hello administrator performs hello health or status checks before starting hello upgrade in hello next update domain.</span></span>

## <a name="upgrade-default-services"></a><span data-ttu-id="f7001-148">Varsayılan Hizmetleri yükseltme</span><span class="sxs-lookup"><span data-stu-id="f7001-148">Upgrade default services</span></span>
<span data-ttu-id="f7001-149">Service Fabric uygulaması içindeki varsayılan Hizmetleri hello yükseltme sırasında bir uygulama yükseltilebilir.</span><span class="sxs-lookup"><span data-stu-id="f7001-149">Default services within Service Fabric application can be upgraded during hello upgrade process of an application.</span></span> <span data-ttu-id="f7001-150">Varsayılan Hizmetleri hello tanımlanmış [uygulama bildirimi](service-fabric-application-model.md#describe-an-application).</span><span class="sxs-lookup"><span data-stu-id="f7001-150">Default services are defined in hello [application manifest](service-fabric-application-model.md#describe-an-application).</span></span> <span data-ttu-id="f7001-151">Varsayılan Hizmetleri yükseltme hello standart kurallar şunlardır:</span><span class="sxs-lookup"><span data-stu-id="f7001-151">hello standard rules of upgrading default services are:</span></span>

1. <span data-ttu-id="f7001-152">Varsayılan hello yeni Hizmetleri'nde [uygulama bildirimi](service-fabric-application-model.md#describe-an-application) hello kümede olmayan oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="f7001-152">Default services in hello new [application manifest](service-fabric-application-model.md#describe-an-application) that do not exist in hello cluster are created.</span></span>
> [!TIP]
> <span data-ttu-id="f7001-153">[EnableDefaultServicesUpgrade](service-fabric-cluster-fabric-settings.md#fabric-settings-that-you-can-customize) toobe kuralları aşağıdaki tootrue tooenable hello kümesinin.</span><span class="sxs-lookup"><span data-stu-id="f7001-153">[EnableDefaultServicesUpgrade](service-fabric-cluster-fabric-settings.md#fabric-settings-that-you-can-customize) needs toobe set tootrue tooenable hello following rules.</span></span> <span data-ttu-id="f7001-154">Bu özellik, v5.5 desteklenir.</span><span class="sxs-lookup"><span data-stu-id="f7001-154">This feature is supported from v5.5.</span></span>

2. <span data-ttu-id="f7001-155">Varsayılan hem de önceki varolan hizmetlerini [uygulama bildirimi](service-fabric-application-model.md#describe-an-application) ve yeni sürümü güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="f7001-155">Default services existing in both previous [application manifest](service-fabric-application-model.md#describe-an-application) and new version are updated.</span></span> <span data-ttu-id="f7001-156">Hizmet açıklamasında hello yeni sürüm zaten hello küme de üzerine yazacak.</span><span class="sxs-lookup"><span data-stu-id="f7001-156">Service descriptions in hello new version would overwrite those already in hello cluster.</span></span> <span data-ttu-id="f7001-157">Uygulama yükseltme varsayılan hizmet hatası güncelleştirme sırasında otomatik olarak geri alma olacaktır.</span><span class="sxs-lookup"><span data-stu-id="f7001-157">Application upgrade would rollback automatically upon updating default service failure.</span></span>
3. <span data-ttu-id="f7001-158">Varsayılan hello önceki Hizmetleri'nde [uygulama bildirimi](service-fabric-application-model.md#describe-an-application) ancak hello yeni sürümde değil silinir.</span><span class="sxs-lookup"><span data-stu-id="f7001-158">Default services in hello previous [application manifest](service-fabric-application-model.md#describe-an-application) but not in hello new version are deleted.</span></span> <span data-ttu-id="f7001-159">**Bu silme varsayılan Hizmetleri değil döndürülebilir unutmayın.**</span><span class="sxs-lookup"><span data-stu-id="f7001-159">**Note that this deleting default services can not be reverted.**</span></span>

<span data-ttu-id="f7001-160">Bir uygulamaya yükseltme döndürülüyor durumunda, yükseltmeyi başlatmadan önce varsayılan döndürülen toohello durum hizmetleridir.</span><span class="sxs-lookup"><span data-stu-id="f7001-160">In case of an application upgrade is rolled back, default services are reverted toohello status before upgrade started.</span></span> <span data-ttu-id="f7001-161">Ancak silinmiş Hizmetleri hiçbir zaman oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="f7001-161">But deleted services can never be created.</span></span>

## <a name="application-upgrade-flowchart"></a><span data-ttu-id="f7001-162">Uygulama yükseltme akış çizelgesi</span><span class="sxs-lookup"><span data-stu-id="f7001-162">Application upgrade flowchart</span></span>
<span data-ttu-id="f7001-163">Bu paragraf aşağıdaki hello akış çizelgesi, bir Service Fabric uygulaması hello yükseltme işlemini anlamanıza yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="f7001-163">hello flowchart following this paragraph can help you understand hello upgrade process of a Service Fabric application.</span></span> <span data-ttu-id="f7001-164">Özellikle, hello akışını açıklar nasıl da dahil olmak üzere zaman aşımları,'ı hello *HealthCheckStableDuration*, *HealthCheckRetryTimeout*, ve *UpgradeHealthCheckInterval*, Merhaba yükseltme tek bir güncelleştirme etki alanındaki bir başarı veya hata olarak kabul edildiğinde denetlemenize yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="f7001-164">In particular, hello flow describes how hello time-outs, including *HealthCheckStableDuration*, *HealthCheckRetryTimeout*, and *UpgradeHealthCheckInterval*, help control when hello upgrade in one update domain is considered a success or a failure.</span></span>

![Service Fabric uygulaması için Hello yükseltme işlemi][image]

## <a name="next-steps"></a><span data-ttu-id="f7001-166">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="f7001-166">Next steps</span></span>
<span data-ttu-id="f7001-167">[Uygulama kullanarak Visual Studio yükseltme](service-fabric-application-upgrade-tutorial.md) Visual Studio kullanarak bir uygulama yükseltme yol gösterir.</span><span class="sxs-lookup"><span data-stu-id="f7001-167">[Upgrading your Application Using Visual Studio](service-fabric-application-upgrade-tutorial.md) walks you through an application upgrade using Visual Studio.</span></span>

<span data-ttu-id="f7001-168">[Uygulama Powershell kullanarak yükseltme](service-fabric-application-upgrade-tutorial-powershell.md) PowerShell kullanarak bir uygulama yükseltme yol gösterir.</span><span class="sxs-lookup"><span data-stu-id="f7001-168">[Upgrading your Application Using Powershell](service-fabric-application-upgrade-tutorial-powershell.md) walks you through an application upgrade using PowerShell.</span></span>

<span data-ttu-id="f7001-169">Uygulamanızı kullanarak yükseltme nasıl kontrol [yükseltme parametreleri](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="f7001-169">Control how your application upgrades by using [Upgrade Parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="f7001-170">Uygulama yükseltme öğrenme tarafından uyumlu hale getirmek nasıl toouse [veri seri hale getirme](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="f7001-170">Make your application upgrades compatible by learning how toouse [Data Serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="f7001-171">Uygulamanız çok başvurarak yükseltirken toouse işlevselliği nasıl Gelişmiş öğrenin[Gelişmiş konular](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="f7001-171">Learn how toouse advanced functionality while upgrading your application by referring too[Advanced Topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="f7001-172">Toohello adımlarda başvurarak uygulama yükseltmeleri sık karşılaşılan sorunları düzeltmek [sorun giderme uygulama yükseltmelerini](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="f7001-172">Fix common problems in application upgrades by referring toohello steps in [Troubleshooting Application Upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

[image]: media/service-fabric-application-upgrade/service-fabric-application-upgrade-flowchart.png
