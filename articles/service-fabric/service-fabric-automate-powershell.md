---
title: "Azure Service Fabric uygulaması Yönetimi aaaAutomate | Microsoft Docs"
description: "Dağıtma, yükseltme, test ve PowerShell kullanarak Service Fabric uygulamaları kaldırın."
services: service-fabric
documentationcenter: .net
author: rwike77
manager: timlt
editor: 
ms.assetid: f03f4294-571d-4262-8a77-cc8b481b959d
ms.service: service-fabric
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/16/2017
ms.author: ryanwi
redirect_url: /azure/service-fabric/service-fabric-deploy-remove-applications
ms.openlocfilehash: a64a39dbee26be8ac15fee767a90fd06bfe4b896
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="automate-hello-application-lifecycle-using-powershell"></a><span data-ttu-id="1b0c5-103">PowerShell kullanarak hello uygulama yaşam döngüsü otomatikleştirme</span><span class="sxs-lookup"><span data-stu-id="1b0c5-103">Automate hello application lifecycle using PowerShell</span></span>
<span data-ttu-id="1b0c5-104">Merhaba pek çok görünüşünün [Service Fabric uygulama yaşam döngüsü](service-fabric-application-lifecycle.md) otomatikleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-104">Many aspects of hello [Service Fabric application lifecycle](service-fabric-application-lifecycle.md) can be automated.</span></span>  <span data-ttu-id="1b0c5-105">Bu makalede, dağıtma, yükseltme, kaldırma ve Azure Service Fabric uygulamaları test etmek için nasıl toouse PowerShell tooautomate ortak görevler gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-105">This article shows how toouse PowerShell tooautomate common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span>  <span data-ttu-id="1b0c5-106">Yönetilen ve HTTP API'leri uygulama yönetimi için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-106">Managed and HTTP APIs for app management are also available.</span></span> <span data-ttu-id="1b0c5-107">Bkz: [uygulama yaşam döngüsü](service-fabric-application-lifecycle.md) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-107">See [app lifecycle](service-fabric-application-lifecycle.md) for more information.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="1b0c5-108">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="1b0c5-108">Prerequisites</span></span>
<span data-ttu-id="1b0c5-109">Merhaba makalede toohello görevlerde taşımadan önce yaptığınızdan emin olun:</span><span class="sxs-lookup"><span data-stu-id="1b0c5-109">Before you move on toohello tasks in hello article, be sure to:</span></span>

* <span data-ttu-id="1b0c5-110">Açıklanan hello Service Fabric kavramları hakkında bilgi edinmek [Service Fabric teknik genel bakış](service-fabric-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1b0c5-110">Get familiar with hello Service Fabric concepts described in [Technical overview of Service Fabric](service-fabric-technical-overview.md).</span></span>
* <span data-ttu-id="1b0c5-111">[Merhaba çalışma zamanı, SDK'yı ve araçları yüklemek](service-fabric-get-started.md), hangi de yükler hello **ServiceFabric** PowerShell modülü.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-111">[Install hello runtime, SDK, and tools](service-fabric-get-started.md), which also installs hello **ServiceFabric** PowerShell module.</span></span>
* <span data-ttu-id="1b0c5-112">[PowerShell betik yürütmesini etkinleştirme](service-fabric-get-started.md#enable-powershell-script-execution).</span><span class="sxs-lookup"><span data-stu-id="1b0c5-112">[Enable PowerShell script execution](service-fabric-get-started.md#enable-powershell-script-execution).</span></span>
* <span data-ttu-id="1b0c5-113">Yerel küme başlatın.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-113">Start a local cluster.</span></span>  <span data-ttu-id="1b0c5-114">Yönetici olarak yeni bir PowerShell penceresi başlatın ve ardından hello SDK klasöründeki hello Küme kurulumu betiğini çalıştırın:`& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span><span class="sxs-lookup"><span data-stu-id="1b0c5-114">Launch a new PowerShell window as an administrator and then run hello cluster setup script from hello SDK folder: `& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span></span>
* <span data-ttu-id="1b0c5-115">Bu makaledeki tüm PowerShell komutları çalıştırmadan önce ilk toohello yerel Service Fabric kümesi kullanarak bağlanmak [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps):`Connect-ServiceFabricCluster localhost:19000`</span><span class="sxs-lookup"><span data-stu-id="1b0c5-115">Before you run any PowerShell commands in this article, first connect toohello local Service Fabric cluster by using [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps): `Connect-ServiceFabricCluster localhost:19000`</span></span>
* <span data-ttu-id="1b0c5-116">görevleri aşağıdaki hello v1 uygulama paketi toodeploy ve v2 uygulama paketi için yükseltme gerektirir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-116">hello following tasks require a v1 application package toodeploy and a v2 application package for upgrade.</span></span> <span data-ttu-id="1b0c5-117">Merhaba karşıdan [ **WordCount** örnek uygulama](http://aka.ms/servicefabricsamples) (Merhaba Başlarken örnekleri bulunur).</span><span class="sxs-lookup"><span data-stu-id="1b0c5-117">Download hello [**WordCount** sample application](http://aka.ms/servicefabricsamples) (located in hello Getting Started samples).</span></span> <span data-ttu-id="1b0c5-118">Derleme ve paket Merhaba uygulaması Visual Studio'da (sağ tıklayın **WordCount** Çözüm Gezgini'nde ve select **paket**).</span><span class="sxs-lookup"><span data-stu-id="1b0c5-118">Build and package hello application in Visual Studio (right-click on **WordCount** in Solution Explorer and select **Package**).</span></span> <span data-ttu-id="1b0c5-119">Kopya hello v1 paketinde `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` çok`C:\Temp\WordCount`.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-119">Copy hello v1 package in `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` too`C:\Temp\WordCount`.</span></span> <span data-ttu-id="1b0c5-120">Kopya `C:\Temp\WordCount` çok`C:\Temp\WordCountV2`, yükseltme için hello v2 uygulama paketi oluşturma.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-120">Copy `C:\Temp\WordCount` too`C:\Temp\WordCountV2`, creating hello v2 application package for upgrade.</span></span> <span data-ttu-id="1b0c5-121">Açık `C:\Temp\WordCountV2\ApplicationManifest.xml` bir metin düzenleyicisinde.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-121">Open `C:\Temp\WordCountV2\ApplicationManifest.xml` in a text editor.</span></span> <span data-ttu-id="1b0c5-122">Merhaba, **ApplicationManifest** öğe, değişiklik hello **ApplicationTypeVersion** çok "1.0.0" özniteliği "2.0.0" tooupdate hello uygulama sürüm numarası.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-122">In hello **ApplicationManifest** element, change hello **ApplicationTypeVersion** attribute from "1.0.0" too"2.0.0" tooupdate hello app version number.</span></span> <span data-ttu-id="1b0c5-123">Değiştirilen hello ApplicationManifest.xml dosyasını kaydedin.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-123">Save hello changed ApplicationManifest.xml file.</span></span>

## <a name="task-deploy-a-service-fabric-application"></a><span data-ttu-id="1b0c5-124">Görev: Service Fabric uygulaması dağıtma</span><span class="sxs-lookup"><span data-stu-id="1b0c5-124">Task: Deploy a Service Fabric application</span></span>
<span data-ttu-id="1b0c5-125">Yerleşik ve Merhaba uygulaması paketlenmiş (veya hello uygulama paketi İndirildikten sonra), yerel bir Service Fabric kümesi hello uygulamasına dağıtabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-125">After you've built and packaged hello application (or downloaded hello application package), you can deploy hello application into a local Service Fabric cluster.</span></span> <span data-ttu-id="1b0c5-126">Dağıtım hello uygulama paketini karşıya yükleme, hello uygulama türünü kaydetme ve hello uygulama örneği oluşturma içerir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-126">Deployment involves uploading hello application package, registering hello application type, and creating hello application instance.</span></span> <span data-ttu-id="1b0c5-127">Bu bölümde toodeploy yeni bir uygulama tooa küme Hello yönergeleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-127">Use hello instructions in this section toodeploy a new application tooa cluster.</span></span>

### <a name="step-1-upload-hello-application-package"></a><span data-ttu-id="1b0c5-128">1. adım: hello uygulama paketini karşıya yükleyin</span><span class="sxs-lookup"><span data-stu-id="1b0c5-128">Step 1: Upload hello application package</span></span>
<span data-ttu-id="1b0c5-129">Merhaba uygulama paketi toohello karşıya Image store, bir konum erişilebilir toointernal Service Fabric bileşenleri koyar.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-129">Uploading hello application package toohello image store puts it in a location accessible toointernal Service Fabric components.</span></span>  <span data-ttu-id="1b0c5-130">Merhaba uygulama paketi hello gerekli uygulama bildirimini, hizmet bildirimlerini ve kod, yapılandırma ve veri paketleri toocreate hello uygulama ve hizmet örneklerini içerir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-130">hello application package contains hello necessary application manifest, service manifests, and code, configuration, and data package(s) toocreate hello application and service instances.</span></span> <span data-ttu-id="1b0c5-131">Tooverify hello uygulama paketi yerel olarak istiyorsanız hello kullanın [Test ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-131">If you want tooverify hello app package locally, use hello [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span>  <span data-ttu-id="1b0c5-132">Merhaba [kopya ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) karşıya hello paket komutu.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-132">hello [Copy-ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) command uploads hello package.</span></span> <span data-ttu-id="1b0c5-133">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="1b0c5-133">For example:</span></span>

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCount\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

### <a name="step-2-register-hello-application-type"></a><span data-ttu-id="1b0c5-134">2. adım: hello uygulama türünü kaydetme</span><span class="sxs-lookup"><span data-stu-id="1b0c5-134">Step 2: Register hello application type</span></span>
<span data-ttu-id="1b0c5-135">Kayıt hello uygulama paketi hello uygulama türü ve sürümü kullanmak için kullanılabilir hello uygulama bildiriminde bildirilen yapar.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-135">Registering hello application package makes hello application type and version declared in hello application manifest available for use.</span></span> <span data-ttu-id="1b0c5-136">Merhaba sistemi hello adım 1 karşıya yüklenen hello paket okur, hello paketi doğrulanamıyor (eşdeğer toorunning [Test ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) yerel olarak), işlem hello paket içeriğini ve işlenen hello paket tooan kopyalayın İç sistem konumu.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-136">hello system reads hello package uploaded in hello step 1, verify hello package (equivalent toorunning [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) locally), process hello package contents, and copy hello processed package tooan internal system location.</span></span>  <span data-ttu-id="1b0c5-137">Merhaba çalıştırmak [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="1b0c5-137">Run hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCount
```
<span data-ttu-id="1b0c5-138">Tüm hello uygulama türleri kayıtlı hello çalıştırmak hello kümede toosee [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="1b0c5-138">toosee all hello application types registered in hello cluster, run hello [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationType
```

### <a name="step-3-create-hello-application-instance"></a><span data-ttu-id="1b0c5-139">3. adım: hello uygulama örneği oluşturma</span><span class="sxs-lookup"><span data-stu-id="1b0c5-139">Step 3: Create hello application instance</span></span>
<span data-ttu-id="1b0c5-140">Bir uygulama hello kullanarak başarıyla kaydettirildi herhangi bir uygulama türü sürümü kullanılarak oluşturulabilir [yeni ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) komutu.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-140">An application can be instantiated by using any application type version that has been registered successfully by using hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) command.</span></span> <span data-ttu-id="1b0c5-141">her uygulamanın Hello adı bildirilen adresindeki zaman dağıtmak ve hello ile başlamalıdır **doku:** düzen ve her bir uygulama örneği için benzersiz olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-141">hello name of each application is declared at deploy time and must start with hello **fabric:** scheme and be unique for each application instance.</span></span> <span data-ttu-id="1b0c5-142">Merhaba uygulama türü adı ve uygulama türü sürümü hello bildirilir **ApplicationManifest.xml** hello uygulama paketi dosyası.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-142">hello application type name and application type version are declared in hello **ApplicationManifest.xml** file of hello application package.</span></span> <span data-ttu-id="1b0c5-143">Varsayılan hizmetlerin hello uygulama bildiriminde hello hedef uygulama türü olarak tanımlanmış olan, bunlar şu anda oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-143">If any default services were defined in hello application manifest of hello target application type, then those are created at this time.</span></span>

```powershell
New-ServiceFabricApplication fabric:/WordCount WordCount 1.0.0
```

<span data-ttu-id="1b0c5-144">Merhaba [Get-ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) komutu başarıyla, genel durumlarıyla birlikte oluşturulan tüm uygulama örnekleri listeler.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-144">hello [Get-ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) command lists all application instances that were successfully created, along with their overall status.</span></span> <span data-ttu-id="1b0c5-145">Merhaba [Get-ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) komutu tüm içinde verilen uygulama örneği başarıyla oluşturuldu hello hizmet örnekleri listeler.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-145">hello [Get-ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) command lists all of hello service instances that were successfully created within a given application instance.</span></span> <span data-ttu-id="1b0c5-146">Varsayılan hizmetler (varsa) listelenir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-146">Default services (if any) are listed.</span></span>

```powershell
Get-ServiceFabricApplication

Get-ServiceFabricApplication | Get-ServiceFabricService
```

## <a name="task-upgrade-a-service-fabric-application"></a><span data-ttu-id="1b0c5-147">Görev: Service Fabric uygulama yükseltme</span><span class="sxs-lookup"><span data-stu-id="1b0c5-147">Task: Upgrade a Service Fabric application</span></span>
<span data-ttu-id="1b0c5-148">Güncelleştirilmiş uygulama paketine sahip daha önce dağıtılan bir Service Fabric uygulama yükseltme yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-148">You can upgrade a previously deployed Service Fabric application with an updated application package.</span></span> <span data-ttu-id="1b0c5-149">Bu görev, dağıtılan hello WordCount uygulamasını yükseltme "görevi: Deploy a Service Fabric application."</span><span class="sxs-lookup"><span data-stu-id="1b0c5-149">This task upgrades hello WordCount application that was deployed in "Task: Deploy a Service Fabric application."</span></span> <span data-ttu-id="1b0c5-150">Okuyun [Service Fabric uygulama yükseltme](service-fabric-application-upgrade.md) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-150">Read through [Service Fabric application upgrade](service-fabric-application-upgrade.md) for more information.</span></span>

<span data-ttu-id="1b0c5-151">Bu örneğin, yalnızca hello uygulamanın sürüm numarasını tookeep şeyler basit hello önkoşullarını oluşturulan hello WordCountV2 uygulama paketine güncelleştirildi.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-151">tookeep things simple for this example, only hello application version number was updated in hello WordCountV2 application package created in hello prerequisites.</span></span> <span data-ttu-id="1b0c5-152">Hizmet kod, yapılandırma veya veri dosyalarını güncelleştirmek ve ardından yeniden oluşturma ve güncelleştirilmiş sürüm numaralarıyla hello Uygulama paketleme daha gerçekçi bir senaryo içerir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-152">A more realistic scenario would involve updating your service code, configuration, or data files and then rebuilding and packaging hello application with updated version numbers.</span></span>  

### <a name="step-1-upload-hello-updated-application-package"></a><span data-ttu-id="1b0c5-153">1. adım: hello güncelleştirilmiş uygulama paketini karşıya yükleyin</span><span class="sxs-lookup"><span data-stu-id="1b0c5-153">Step 1: Upload hello updated application package</span></span>
<span data-ttu-id="1b0c5-154">Merhaba WordCount v1 uygulama yükseltme hazır toobe ' dir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-154">hello WordCount v1 application is ready toobe upgraded.</span></span> <span data-ttu-id="1b0c5-155">Yönetici ve türü bir PowerShell penceresi açarsanız [ **Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), hello WordCount uygulama türü 1.0.0 sürümünün dağıtıldığı bakın.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-155">If you open up a PowerShell window as administrator and type [**Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), you see that version 1.0.0 of hello WordCount application type is deployed.</span></span>  

<span data-ttu-id="1b0c5-156">Şimdi kopyalama hello (Merhaba uygulama paketlerini Service Fabric tarafından depolandığı) uygulama paketi toohello Service Fabric Image store güncelleştirildi.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-156">Now copy hello updated application package toohello Service Fabric image store (where hello application packages are stored by Service Fabric).</span></span> <span data-ttu-id="1b0c5-157">parametre hello **ApplicationPackagePathInImageStore** Service Fabric burada da bulabilir hello uygulama paketi bildirir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-157">hello parameter **ApplicationPackagePathInImageStore** informs Service Fabric where it can find hello application package.</span></span> <span data-ttu-id="1b0c5-158">kopya uygulama paketi çok hello komutu aşağıdaki hello**WordCountV2** hello Image store içinde:</span><span class="sxs-lookup"><span data-stu-id="1b0c5-158">hello following command copies hello application package too**WordCountV2** in hello image store:</span></span>  

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCountV2\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCountV2

```
### <a name="step-2-register-hello-updated-application-type"></a><span data-ttu-id="1b0c5-159">2. adım: Kayıt hello uygulama türü güncelleştirildi.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-159">Step 2: Register hello updated application type</span></span>
<span data-ttu-id="1b0c5-160">Merhaba sonraki tooregister hello uygulamanın yeni sürümü hello hello kullanarak gerçekleştirilebilir Service Fabric ile adımdır [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="1b0c5-160">hello next step is tooregister hello new version of hello application with Service Fabric, which can be performed by using hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCountV2
```

### <a name="step-3-start-hello-upgrade"></a><span data-ttu-id="1b0c5-161">3. adım: Başlangıç hello yükseltme</span><span class="sxs-lookup"><span data-stu-id="1b0c5-161">Step 3: Start hello upgrade</span></span>
<span data-ttu-id="1b0c5-162">Çeşitli yükseltme parametreleri, zaman aşımları ve durumu ölçütlerini uygulanan tooapplication yükseltmeler olabilir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-162">Various upgrade parameters, timeouts, and health criteria can be applied tooapplication upgrades.</span></span> <span data-ttu-id="1b0c5-163">Merhaba okuma [uygulama yükseltme parametreleri](service-fabric-application-upgrade-parameters.md) ve [yükseltme işlemi](service-fabric-application-upgrade.md) toolearn daha fazla belgeleri.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-163">Read through hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and [upgrade process](service-fabric-application-upgrade.md) documents toolearn more.</span></span> <span data-ttu-id="1b0c5-164">Tüm hizmetler ve örnekleri olmalıdır *sağlıklı* hello yükselttikten sonra.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-164">All services and instances should be *healthy* after hello upgrade.</span></span>  <span data-ttu-id="1b0c5-165">Set hello **HealthCheckStableDuration** too60 saniye (toohello hello yükseltme devam etmeden önce en az 20 saniye sonraki yükseltme etki alanı için hello Hizmetleri sağlıklı; böylece).</span><span class="sxs-lookup"><span data-stu-id="1b0c5-165">Set hello **HealthCheckStableDuration** too60 seconds (so that hello services are healthy for at least 20 seconds before hello upgrade proceeds toohello next upgrade domain).</span></span>  <span data-ttu-id="1b0c5-166">Ayrıca kümesi hello **UpgradeDomainTimeout** too1200 saniye ve hello **UpgradeTimeout** too3000 saniye.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-166">Also set hello **UpgradeDomainTimeout** too1200 seconds and hello **UpgradeTimeout** too3000 seconds.</span></span> <span data-ttu-id="1b0c5-167">Son olarak, hello ayarlayın **UpgradeFailureAction** çok**geri alma**, hangi hataları yükseltme sırasında hata oluşursa, Service Fabric geri alındığında istekleri hello uygulama toohello önceki sürümü.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-167">Finally, set hello **UpgradeFailureAction** too**rollback**, which requests that Service Fabric rolls back hello application toohello previous version if failures are encountered during upgrade.</span></span>

<span data-ttu-id="1b0c5-168">Hello kullanarak şimdi hello uygulama yükseltme başlatabilirsiniz [başlangıç ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="1b0c5-168">You can now start hello application upgrade by using hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/WordCount -ApplicationTypeVersion 2.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000  -FailureAction Rollback -Monitored
```

<span data-ttu-id="1b0c5-169">Bu hello uygulama adı olduğu hello aynı hello v1.0.0 uygulama adı daha önce dağıtmış gibi not (fabric: / WordCount).</span><span class="sxs-lookup"><span data-stu-id="1b0c5-169">Note that hello application name is hello same as hello previously deployed v1.0.0 application name (fabric:/WordCount).</span></span> <span data-ttu-id="1b0c5-170">Service Fabric hangi uygulamanın yükseltilir bu adı tooidentify kullanır.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-170">Service Fabric uses this name tooidentify which application is getting upgraded.</span></span> <span data-ttu-id="1b0c5-171">Merhaba zaman aşımlarını toobe çok kısa ayarlarsanız, durumları sorun hello bir zaman aşımı hatası iletisi karşılaşabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-171">If you set hello time-outs toobe too short, you might encounter a time-out failure message that states hello problem.</span></span> <span data-ttu-id="1b0c5-172">Çok başvuran[uygulama yükseltmelerinde sorun giderme](service-fabric-application-upgrade-troubleshooting.md), veya hello zaman aşımlarını artırın.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-172">Refer too[Troubleshoot application upgrades](service-fabric-application-upgrade-troubleshooting.md), or increase hello time-outs.</span></span>

### <a name="step-4-check-upgrade-progress"></a><span data-ttu-id="1b0c5-173">4. adım: Onay yükseltme işlemi ilerleme durumu</span><span class="sxs-lookup"><span data-stu-id="1b0c5-173">Step 4: Check upgrade progress</span></span>
<span data-ttu-id="1b0c5-174">Kullanarak uygulama yükseltme ilerleme durumunu izleyebilirsiniz [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), veya hello kullanarak [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="1b0c5-174">You can monitor application upgrade progress by using [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), or by using hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/WordCount
```

<span data-ttu-id="1b0c5-175">Birkaç dakika içinde hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet'i gösterilmektedir tüm yükseltme etki alanlarının yükseltilen (tamamlandı).</span><span class="sxs-lookup"><span data-stu-id="1b0c5-175">In a few minutes, hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet shows that all upgrade domains were upgraded (completed).</span></span>

## <a name="task-test-a-service-fabric-application"></a><span data-ttu-id="1b0c5-176">Görevi: Service Fabric uygulaması Test</span><span class="sxs-lookup"><span data-stu-id="1b0c5-176">Task: Test a Service Fabric application</span></span>
<span data-ttu-id="1b0c5-177">toowrite yüksek kaliteli Hizmetleri, geliştiricilerin toobe mümkün tooinduce güvenilmez altyapı hataları tootest hello kararlılığını hizmetlerini gerekir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-177">toowrite high-quality services, developers need toobe able tooinduce unreliable infrastructure faults tootest hello stability of their services.</span></span> <span data-ttu-id="1b0c5-178">Service Fabric geliştiricilere hello özelliği tooinduce hata eylemleri sağlar ve chaos ve yük devretme testi senaryolarını kullanarak hataları hello varlığını test Hizmetleri'nde hello.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-178">Service Fabric gives developers hello ability tooinduce fault actions and test services in hello presence of failures by using hello chaos and failover test scenarios.</span></span>  <span data-ttu-id="1b0c5-179">Okuyun [giriş toohello hata analizi hizmeti](service-fabric-testability-overview.md) ek bilgi için.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-179">Read through [Introduction toohello Fault Analysis Service](service-fabric-testability-overview.md) for additional information.</span></span>

### <a name="step-1-run-hello-chaos-test-scenario"></a><span data-ttu-id="1b0c5-180">1. adım: hello chaos test senaryosu çalıştırabilirsiniz</span><span class="sxs-lookup"><span data-stu-id="1b0c5-180">Step 1: Run hello chaos test scenario</span></span>
<span data-ttu-id="1b0c5-181">Merhaba chaos testi senaryosu hello tüm Service Fabric kümesi arasında hataları oluşturur.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-181">hello chaos test scenario generates faults across hello entire Service Fabric cluster.</span></span> <span data-ttu-id="1b0c5-182">Merhaba senaryo genellikle birkaç saat ay veya yıl tooa görülen hataları sıkıştırır.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-182">hello scenario compresses faults generally seen over months or years tooa few hours.</span></span> <span data-ttu-id="1b0c5-183">yüksek hata oranı araya eklemeli hataları Hello birleşimi aksi eksik köşe durumları bulur.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-183">hello combination of interleaved faults with a high fault rate finds corner cases that would otherwise be missed.</span></span> <span data-ttu-id="1b0c5-184">Merhaba aşağıdaki örnek hello chaos test senaryosu için 60 dakika çalışır.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-184">hello following example runs hello chaos test scenario for 60 minutes.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$concurrentFaults = 3
$waitTimeBetweenIterationsSec = 60

Invoke-ServiceFabricChaosTestScenario -TimeToRunMinute $timeToRun -MaxClusterStabilizationTimeoutSec $maxStabilizationTimeSecs -MaxConcurrentFaults $concurrentFaults -EnableMoveReplicaFaults -WaitTimeBetweenIterationsSec $waitTimeBetweenIterationsSec
```

### <a name="step-2-run-hello-failover-test-scenario"></a><span data-ttu-id="1b0c5-185">2. adım: hello yük devretme testi senaryosu çalıştırma</span><span class="sxs-lookup"><span data-stu-id="1b0c5-185">Step 2: Run hello failover test scenario</span></span>
<span data-ttu-id="1b0c5-186">Merhaba yük devretme sınamasını senaryo hedefleri hello tüm küme yerine belirli hizmet bölümü ve diğer hizmetleri etkilenmemesini bırakır.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-186">hello failover test scenario targets a specific service partition instead of hello entire cluster, and it leaves other services unaffected.</span></span> <span data-ttu-id="1b0c5-187">İş mantığınızın çalışırken hello senaryo bir dizi hizmet doğrulama benzetimli hataları dolaşır.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-187">hello scenario iterates through a sequence of simulated faults in service validation while your business logic runs.</span></span> <span data-ttu-id="1b0c5-188">Bir hizmet doğrulama hatası daha fazla araştırma gereken bir sorun olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-188">A failure in service validation indicates an issue that needs further investigation.</span></span> <span data-ttu-id="1b0c5-189">Hello yük devretme testi, aynı anda birden çok hataları anlamına karşılıklı toohello chaos testi senaryosu olarak yalnızca bir arıza uygulanmasını.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-189">hello failover test induces only one fault at a time, as opposed toohello chaos test scenario, which can induce multiple faults.</span></span> <span data-ttu-id="1b0c5-190">Merhaba aşağıdaki örnek hello yük devretme testi 60 dakika hello doku karşı çalışır: / WordCount/WordCountService hizmet.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-190">hello following example runs hello failover test for 60 minutes against hello fabric:/WordCount/WordCountService service.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$waitTimeBetweenFaultsSec = 10
$serviceName = "fabric:/WordCount/WordCountService"

Invoke-ServiceFabricFailoverTestScenario -TimeToRunMinute $timeToRun -MaxServiceStabilizationTimeoutSec $maxStabilizationTimeSecs -WaitTimeBetweenFaultsSec $waitTimeBetweenFaultsSec -ServiceName $serviceName -PartitionKindUniformInt64 -PartitionKey 1
```

## <a name="task-remove-a-service-fabric-application"></a><span data-ttu-id="1b0c5-191">Görevi: Service Fabric uygulaması kaldırma</span><span class="sxs-lookup"><span data-stu-id="1b0c5-191">Task: Remove a Service Fabric application</span></span>
<span data-ttu-id="1b0c5-192">Dağıtılan bir uygulama örneğini silmek, sağlanan hello uygulama türü hello kümeden kaldırma ve görüntü hello hello uygulama paketi kaldırın.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-192">You can delete an instance of a deployed application, remove hello provisioned application type from hello cluster, and remove hello application package from hello ImageStore.</span></span>

### <a name="step-1-remove-an-application-instance"></a><span data-ttu-id="1b0c5-193">1. adım: uygulama örneğini kaldırma</span><span class="sxs-lookup"><span data-stu-id="1b0c5-193">Step 1: Remove an application instance</span></span>
<span data-ttu-id="1b0c5-194">Uygulama örneğini artık gerekli olmadığında kalıcı olarak hello kullanarak kaldırabilirsiniz [Kaldır ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-194">When an application instance is no longer needed, you can permanently remove it by using hello [Remove-ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="1b0c5-195">Bu da otomatik olarak tüm hizmet durumunu kalıcı olarak kaldırma toohello uygulama ait tüm hizmetlere kaldırır.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-195">This also automatically removes all services belonging toohello application, permanently removing all service state.</span></span> <span data-ttu-id="1b0c5-196">Bu işlem geri alınamaz ve uygulama durumu kurtarılamıyor.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-196">This operation cannot be reversed and application state cannot be recovered.</span></span>

```powershell
Remove-ServiceFabricApplication fabric:/WordCount
```

### <a name="step-2-unregister-hello-application-type"></a><span data-ttu-id="1b0c5-197">2. adım: hello uygulama türü kaydını kaldırma</span><span class="sxs-lookup"><span data-stu-id="1b0c5-197">Step 2: Unregister hello application type</span></span>
<span data-ttu-id="1b0c5-198">Belirli bir uygulama türü sürümü artık gerektiğinde hello kullanarak kaydı [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-198">When you no longer need a particular version of an application type, unregister it by using hello [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="1b0c5-199">Merhaba Image store hello uygulama paketi tarafından kullanılan kaydı siliniyor kullanılmayan türleri sürümleri depolama alanı.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-199">Unregistering unused types releases storage space used by hello application package in hello image store.</span></span> <span data-ttu-id="1b0c5-200">Bu karşı veya kendisine başvuran uygulama yükseltmelerini bekleyen örneği hiç uygulama vardır sürece uygulama türü kaydı olabilir.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-200">An application type can be unregistered as long as there are no applications instantiated against it or pending application upgrades referencing it.</span></span>

```powershell
Unregister-ServiceFabricApplicationType WordCount 1.0.0
```

### <a name="step-3-remove-hello-application-package"></a><span data-ttu-id="1b0c5-201">3. adım: hello uygulama paketini kaldırma</span><span class="sxs-lookup"><span data-stu-id="1b0c5-201">Step 3: Remove hello application package</span></span>
<span data-ttu-id="1b0c5-202">Merhaba uygulama türü kaydı olduktan sonra hello uygulama paketi hello görüntü deposundan hello kullanarak Kaldırılabilir [Kaldır ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="1b0c5-202">After hello application type is unregistered, hello application package can be removed from hello image store by using hello [Remove-ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span></span>

```powershell
Remove-ServiceFabricApplicationPackage -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

## <a name="next-steps"></a><span data-ttu-id="1b0c5-203">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="1b0c5-203">Next steps</span></span>
[<span data-ttu-id="1b0c5-204">Service Fabric uygulama yaşam döngüsü</span><span class="sxs-lookup"><span data-stu-id="1b0c5-204">Service Fabric application lifecycle</span></span>](service-fabric-application-lifecycle.md)

[<span data-ttu-id="1b0c5-205">Bir uygulamayı dağıtma</span><span class="sxs-lookup"><span data-stu-id="1b0c5-205">Deploy an application</span></span>](service-fabric-deploy-remove-applications.md)

[<span data-ttu-id="1b0c5-206">Uygulama yükseltme</span><span class="sxs-lookup"><span data-stu-id="1b0c5-206">Application upgrade</span></span>](service-fabric-application-upgrade.md)

[<span data-ttu-id="1b0c5-207">Azure Service Fabric cmdlet'leri</span><span class="sxs-lookup"><span data-stu-id="1b0c5-207">Azure Service Fabric cmdlets</span></span>](/powershell/azure/overview?view=azureservicefabricps)

