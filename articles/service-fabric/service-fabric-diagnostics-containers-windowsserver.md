---
title: "aaaAzure Service Fabric kapsayıcıları izleme ve tanılama | Microsoft Docs"
description: "Bilgi nasıl toomonitor ve Microsoft Azure Service Fabric üzerinde OMS'ın kapsayıcıları çözümüyle bağımsızlıklar kapsayıcıları tanılayın."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 05/10/2017
ms.author: dekapur
ms.openlocfilehash: cd79111cf78b9d76a60d489bb9953587aa06186d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="monitoring-windows-server-containers-with-oms"></a><span data-ttu-id="a92a1-103">Windows Server kapsayıcıları OMS ile izleme</span><span class="sxs-lookup"><span data-stu-id="a92a1-103">Monitoring Windows Server containers with OMS</span></span>

## <a name="oms-containers-solution"></a><span data-ttu-id="a92a1-104">OMS kapsayıcıları çözümü</span><span class="sxs-lookup"><span data-stu-id="a92a1-104">OMS Containers Solution</span></span>

<span data-ttu-id="a92a1-105">Merhaba Operations Management Suite (OMS) ekip tanılama kapsayıcıları çözüm ve kapsayıcıları için izleme yayımladı.</span><span class="sxs-lookup"><span data-stu-id="a92a1-105">hello Operations Management Suite (OMS) team has published a Containers solution for diagnostics and monitoring for containers.</span></span> <span data-ttu-id="a92a1-106">Kendi Service Fabric yanı sıra, bu çözüm Service Fabric bağımsızlıklar harika aracı toomonitor kapsayıcı dağıtımlarını çözümüdür.</span><span class="sxs-lookup"><span data-stu-id="a92a1-106">Alongside their Service Fabric solution, this solution is a great tool toomonitor container deployments orchestrated on Service Fabric.</span></span> <span data-ttu-id="a92a1-107">Aşağıda, hangi hello Pano hello çözümde benzer basit bir örnek verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="a92a1-107">Here's a simple example of what hello dashboard in hello solution looks like:</span></span>

![Temel OMS Panosu](./media/service-fabric-diagnostics-containers-windowsserver/oms-containers-dashboard.png)

<span data-ttu-id="a92a1-109">Farklı türde hello OMS günlük analizi aracında sorgulanabilir günlükleri de toplar ve kullanılan toovisualize herhangi bir ölçümleri veya oluşturulan olaylar olabilir.</span><span class="sxs-lookup"><span data-stu-id="a92a1-109">It also collects different kinds of logs that can be queried in hello OMS Log Analytics tool, and can be used toovisualize any metrics or events being generated.</span></span> <span data-ttu-id="a92a1-110">toplanan hello günlük türleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="a92a1-110">hello log types that are collected are:</span></span>

1. <span data-ttu-id="a92a1-111">ContainerInventory: kapsayıcı konumunu, adı ve görüntüleri hakkında bilgi gösterir</span><span class="sxs-lookup"><span data-stu-id="a92a1-111">ContainerInventory: shows information about container location, name, and images</span></span>
2. <span data-ttu-id="a92a1-112">ContainerImageInventory: bilgi kimlikleri veya boyutları dahil olmak üzere, dağıtılan görüntüler hakkında</span><span class="sxs-lookup"><span data-stu-id="a92a1-112">ContainerImageInventory: information about deployed images, including IDs or sizes</span></span>
3. <span data-ttu-id="a92a1-113">ContainerLog: belirli hata günlüklerini, docker günlükleri (stdout, vb.) ve diğer girişleri</span><span class="sxs-lookup"><span data-stu-id="a92a1-113">ContainerLog: specific error logs, docker logs (stdout, etc.), and other entries</span></span>
4. <span data-ttu-id="a92a1-114">ContainerServiceLog: çalıştırılmış docker arka plan programı komutları</span><span class="sxs-lookup"><span data-stu-id="a92a1-114">ContainerServiceLog: docker daemon commands that have been run</span></span>
5. <span data-ttu-id="a92a1-115">Perf: kapsayıcı dahil olmak üzere performans sayaçlarını cpu, bellek, ağ trafiğini, disk g/ç ve hello özel ölçümleri makineler ana bilgisayar</span><span class="sxs-lookup"><span data-stu-id="a92a1-115">Perf: performance counters including container cpu, memory, network traffic, disk i/o, and custom metrics from hello host machines</span></span>

<span data-ttu-id="a92a1-116">Bu makalede hello adımları gerekli tooset kapsayıcı kümeniz için izleme yukarı kapsar.</span><span class="sxs-lookup"><span data-stu-id="a92a1-116">This article covers hello steps required tooset up container monitoring for your cluster.</span></span> <span data-ttu-id="a92a1-117">OMS'ın kapsayıcıları çözüm hakkında daha fazla toolearn kullanıma kendi [belgelerine](../log-analytics/log-analytics-containers.md).</span><span class="sxs-lookup"><span data-stu-id="a92a1-117">toolearn more about OMS's Containers solution, check out their [documentation](../log-analytics/log-analytics-containers.md).</span></span>

## <a name="1-set-up-a-service-fabric-cluster"></a><span data-ttu-id="a92a1-118">1. Bir Service Fabric kümesi</span><span class="sxs-lookup"><span data-stu-id="a92a1-118">1. Set up a Service Fabric cluster</span></span>

<span data-ttu-id="a92a1-119">Bulunan hello Azure Resource Manager şablonunu kullanarak bir küme oluşturmak [burada](https://github.com/dkkapur/Service-Fabric/tree/master/ARM%20Templates/SF%20OMS%20Sample).</span><span class="sxs-lookup"><span data-stu-id="a92a1-119">Create a cluster using hello Azure Resource Manager template found [here](https://github.com/dkkapur/Service-Fabric/tree/master/ARM%20Templates/SF%20OMS%20Sample).</span></span> <span data-ttu-id="a92a1-120">Benzersiz bir OMS çalışma ad tooadd emin olun.</span><span class="sxs-lookup"><span data-stu-id="a92a1-120">Make sure tooadd a unique OMS workspace name.</span></span> <span data-ttu-id="a92a1-121">Bu şablon hello Önizleme'de bir küme oluşturmak toodeploying hizmet üretimde kullanılamaz ve olamaz anlamına tooa farklı Service Fabric sürüm yükseltme dokusu (v255.255) de varsayılan olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="a92a1-121">This template also defaults toodeploying a cluster in hello preview build of Service Fabric (v255.255), which means that it cannot be used in production, and cannot be upgraded tooa different Service Fabric version.</span></span> <span data-ttu-id="a92a1-122">Bu şablon için toouse karar verirseniz uzun vadeli veya üretim kullanın, hello sürüm tooa kararlı sürüm numarasını değiştirin.</span><span class="sxs-lookup"><span data-stu-id="a92a1-122">If you decide toouse this template for long-term or production use, change hello version tooa stable version number.</span></span>

<span data-ttu-id="a92a1-123">Merhaba küme ayarlandıktan sonra hello uygun sertifika yüklediyseniz ve mümkün tooconnect toohello küme olduğundan emin olun onaylayın.</span><span class="sxs-lookup"><span data-stu-id="a92a1-123">Once hello cluster is set up, confirm that you have installed hello appropriate certificate, and make sure you are able tooconnect toohello cluster.</span></span>

<span data-ttu-id="a92a1-124">Kaynak grubunuzun doğru başlık toohello tarafından ayarlandığını onaylayın [Azure portal](https://portal.azure.com/) ve hello dağıtım bulma.</span><span class="sxs-lookup"><span data-stu-id="a92a1-124">Confirm that your Resource Group is set up correctly by heading toohello [Azure portal](https://portal.azure.com/) and finding hello deployment.</span></span> <span data-ttu-id="a92a1-125">Merhaba kaynak grubunun tüm hello Service Fabric kaynakları içeren ve Service Fabric çözüm yanı sıra, bir günlük analizi çözüm de gerekir.</span><span class="sxs-lookup"><span data-stu-id="a92a1-125">hello resource group should contain all hello Service Fabric resources, and also have a Log Analytics solution as well as a Service Fabric solution.</span></span>

<span data-ttu-id="a92a1-126">Var olan bir Service Fabric kümesi değiştirmek için:</span><span class="sxs-lookup"><span data-stu-id="a92a1-126">For modifying an existing Service Fabric cluster:</span></span>
* <span data-ttu-id="a92a1-127">Tanılama etkinleştirilmiş olduğunu doğrulayın (Aksi takdirde, aracılığıyla etkinleştirmek [hello sanal makine ölçek kümesi güncelleştirme](/rest/api/virtualmachinescalesets/create-or-update-a-set))</span><span class="sxs-lookup"><span data-stu-id="a92a1-127">Confirm that Diagnostics is enabled (if not, enable it via [updating hello virtual machine scale set](/rest/api/virtualmachinescalesets/create-or-update-a-set))</span></span>
* <span data-ttu-id="a92a1-128">"Service Fabric Analytics" Çözüm hello Azure Market üzerinden oluşturarak bir OMS çalışma alanı Ekle</span><span class="sxs-lookup"><span data-stu-id="a92a1-128">Add an OMS Workspace by creating a "Service Fabric Analytics" solution via hello Azure Marketplace</span></span>
* <span data-ttu-id="a92a1-129">Hello Service Fabric çözüm toopick tablolardaki verileri (WAD tarafından ayarlanır) hello uygun Azure Storage yukarı Hello veri kaynağının küme hello kaynak grubu hello düzenleme</span><span class="sxs-lookup"><span data-stu-id="a92a1-129">Edit hello data sources of hello Service Fabric solution toopick up data from hello appropriate Azure Storage tables (set up by WAD) in hello Resource Group that hello cluster is in</span></span>
* <span data-ttu-id="a92a1-130">Merhaba aracısı olarak ekleme bir [uzantısı toohello sanal makine ölçek kümesi](/powershell/module/azurerm.compute/add-azurermvmssextension) PowerShell aracılığıyla veya hello sanal makine ölçek kümesi (yukarıdaki gibi aynı bağlantı, toomodify hello Resource Manager şablonu) güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="a92a1-130">Add hello agent as an [extension toohello virtual machine scale set](/powershell/module/azurerm.compute/add-azurermvmssextension) via PowerShell or through updating hello virtual machine scale set (same link as above, toomodify hello Resource Manager template)</span></span>

## <a name="2-deploy-a-container"></a><span data-ttu-id="a92a1-131">2. Bir kapsayıcı dağıtma</span><span class="sxs-lookup"><span data-stu-id="a92a1-131">2. Deploy a container</span></span>

<span data-ttu-id="a92a1-132">Merhaba küme hazır olduğundan ve ona erişebildiğinizden emin onayladıktan sonra bir kapsayıcı tooit dağıtın.</span><span class="sxs-lookup"><span data-stu-id="a92a1-132">Once hello cluster is ready and you have confirmed that you can access it, deploy a container tooit.</span></span> <span data-ttu-id="a92a1-133">Merhaba şablon tarafından kümesi olarak toouse hello Önizleme sürümü seçerseniz, Service Fabric'ın yeni docker de keşfedebilirsiniz işlevselliği oluşturun.</span><span class="sxs-lookup"><span data-stu-id="a92a1-133">If you chose toouse hello preview version as set by hello template, you can also explore Service Fabric's new docker compose functionality.</span></span> <span data-ttu-id="a92a1-134">İlk kez bir kapsayıcı görüntüsü hello aklınızda ayı dağıtılan tooa küme, boyutuna bağlı olarak birkaç dakika toodownload hello görüntü alır.</span><span class="sxs-lookup"><span data-stu-id="a92a1-134">Bear in mind that hello first time a container image is deployed tooa cluster, it takes several minutes toodownload hello image depending on its size.</span></span>

## <a name="3-add-hello-containers-solution"></a><span data-ttu-id="a92a1-135">3. Merhaba kapsayıcılara çözüme ekleyin</span><span class="sxs-lookup"><span data-stu-id="a92a1-135">3. Add hello Containers solution</span></span>

<span data-ttu-id="a92a1-136">İçinde Azure portal Merhaba, kapsayıcıları kaynak oluşturma (altında hello izleme + yönetim kategorisi) Azure Market üzerinden.</span><span class="sxs-lookup"><span data-stu-id="a92a1-136">In hello Azure portal, create a Containers resource (under hello Monitoring + Management category) through Azure Marketplace.</span></span> 

![Kapsayıcıları çözüm ekleme](./media/service-fabric-diagnostics-containers-windowsserver/containers-solution.png)

<span data-ttu-id="a92a1-138">Merhaba oluşturma adımda bir OMS çalışma ister.</span><span class="sxs-lookup"><span data-stu-id="a92a1-138">In hello creation step, it requests an OMS workspace.</span></span> <span data-ttu-id="a92a1-139">Yukarıdaki hello dağıtımı ile oluşturulmuş bir Hello seçin.</span><span class="sxs-lookup"><span data-stu-id="a92a1-139">Select hello one that was created with hello deployment above.</span></span> <span data-ttu-id="a92a1-140">Bu adım, OMS çalışma kapsayıcıları çözümünüzde ekler ve hello şablon tarafından dağıtılan hello OMS aracısı tarafından otomatik olarak algılanır.</span><span class="sxs-lookup"><span data-stu-id="a92a1-140">This step adds a Containers solution within your OMS workspace, and is automatically detected by hello OMS agent deployed by hello template.</span></span> <span data-ttu-id="a92a1-141">Merhaba Aracısı Merhaba kapsayıcılara işlemler hello kümedeki üzerinde veri toplamayı başlatılır ve yaklaşık 10-15 dakika içinde hello çözüm hello Pano yukarıdaki hello görüntüsü olduğu gibi verilerle yukarı hafif görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="a92a1-141">hello agent will start gathering data on hello containers processes in hello cluster, and in about 10-15 minutes, you should see hello solution light up with data as in hello image of hello dashboard above.</span></span>

## <a name="4-next-steps"></a><span data-ttu-id="a92a1-142">4. Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="a92a1-142">4. Next steps</span></span>

<span data-ttu-id="a92a1-143">OMS hello çalışma toomake içinde çeşitli araçları daha kullanışlı, sizin için sunar.</span><span class="sxs-lookup"><span data-stu-id="a92a1-143">OMS offers various tools in hello workspace toomake if more useful for you.</span></span> <span data-ttu-id="a92a1-144">Seçenekler toocustomize hello çözüm tooyour gereksinimlerini aşağıdaki hello keşfedin:</span><span class="sxs-lookup"><span data-stu-id="a92a1-144">Explore hello following options toocustomize hello solution tooyour needs:</span></span>
- <span data-ttu-id="a92a1-145">Merhaba ile familiarized [günlük arama ve sorgulama](../log-analytics/log-analytics-log-searches.md) günlük analizi bir parçası olarak sunulan özellikler</span><span class="sxs-lookup"><span data-stu-id="a92a1-145">Get familiarized with hello [log search and querying](../log-analytics/log-analytics-log-searches.md) features offered as part of Log Analytics</span></span>
- <span data-ttu-id="a92a1-146">Merhaba OMS Aracısı toopick belirli performans sayaçlarını yukarı yapılandırın (toohello çalışma giriş Git > ayarları > veri > Windows performans sayaçlarını)</span><span class="sxs-lookup"><span data-stu-id="a92a1-146">Configure hello OMS agent toopick up specific performance counters (go toohello workspace Home > Settings > Data > Windows Performance Counters)</span></span>
- <span data-ttu-id="a92a1-147">Yukarı OMS tooset yapılandırma [uyarı otomatik](../log-analytics/log-analytics-alerts.md) kuralları tooaid algılama ve tanılama</span><span class="sxs-lookup"><span data-stu-id="a92a1-147">Configure OMS tooset up [automated alerting](../log-analytics/log-analytics-alerts.md) rules tooaid in detecting and diagnostics</span></span>
