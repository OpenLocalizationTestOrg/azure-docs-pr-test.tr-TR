---
title: "Azure Service Fabric kapsayıcıları izleme ve tanılama | Microsoft Docs"
description: "İzleme ve Microsoft Azure Service Fabric üzerinde OMS'ın kapsayıcıları çözümüyle bağımsızlıklar kapsayıcıları tanılama öğrenin."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 05/10/2017
ms.author: dekapur
ms.openlocfilehash: 874c1a5c4b399ff2254072b7282f05d83a005cc3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="monitoring-windows-server-containers-with-oms"></a><span data-ttu-id="0b6f3-103">Windows Server kapsayıcıları OMS ile izleme</span><span class="sxs-lookup"><span data-stu-id="0b6f3-103">Monitoring Windows Server containers with OMS</span></span>

## <a name="oms-containers-solution"></a><span data-ttu-id="0b6f3-104">OMS kapsayıcıları çözümü</span><span class="sxs-lookup"><span data-stu-id="0b6f3-104">OMS Containers Solution</span></span>

<span data-ttu-id="0b6f3-105">Operations Management Suite (OMS) ekibin tanılama kapsayıcıları çözüm ve kapsayıcıları için izleme yayımladı.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-105">The Operations Management Suite (OMS) team has published a Containers solution for diagnostics and monitoring for containers.</span></span> <span data-ttu-id="0b6f3-106">Kendi Service Fabric çözümünü yanı sıra bu çözüm Service Fabric bağımsızlıklar kapsayıcı dağıtımlarını izlemek için harika bir araçtır.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-106">Alongside their Service Fabric solution, this solution is a great tool to monitor container deployments orchestrated on Service Fabric.</span></span> <span data-ttu-id="0b6f3-107">Çözüm panosunda benzer basit bir örnek aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="0b6f3-107">Here's a simple example of what the dashboard in the solution looks like:</span></span>

![Temel OMS Panosu](./media/service-fabric-diagnostics-containers-windowsserver/oms-containers-dashboard.png)

<span data-ttu-id="0b6f3-109">Ayrıca, değişik OMS günlük analizi aracında sorgulanabilir ve herhangi bir ölçümleri veya oluşturulan olaylar görselleştirmek için kullanılan günlükleri toplar.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-109">It also collects different kinds of logs that can be queried in the OMS Log Analytics tool, and can be used to visualize any metrics or events being generated.</span></span> <span data-ttu-id="0b6f3-110">Toplanan günlük türleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="0b6f3-110">The log types that are collected are:</span></span>

1. <span data-ttu-id="0b6f3-111">ContainerInventory: kapsayıcı konumunu, adı ve görüntüleri hakkında bilgi gösterir</span><span class="sxs-lookup"><span data-stu-id="0b6f3-111">ContainerInventory: shows information about container location, name, and images</span></span>
2. <span data-ttu-id="0b6f3-112">ContainerImageInventory: bilgi kimlikleri veya boyutları dahil olmak üzere, dağıtılan görüntüler hakkında</span><span class="sxs-lookup"><span data-stu-id="0b6f3-112">ContainerImageInventory: information about deployed images, including IDs or sizes</span></span>
3. <span data-ttu-id="0b6f3-113">ContainerLog: belirli hata günlüklerini, docker günlükleri (stdout, vb.) ve diğer girişleri</span><span class="sxs-lookup"><span data-stu-id="0b6f3-113">ContainerLog: specific error logs, docker logs (stdout, etc.), and other entries</span></span>
4. <span data-ttu-id="0b6f3-114">ContainerServiceLog: çalıştırılmış docker arka plan programı komutları</span><span class="sxs-lookup"><span data-stu-id="0b6f3-114">ContainerServiceLog: docker daemon commands that have been run</span></span>
5. <span data-ttu-id="0b6f3-115">Perf: kapsayıcı dahil olmak üzere performans sayaçlarını cpu, bellek, ağ trafiğini, disk g/ç ve ana bilgisayar makinelerden özel ölçümleri</span><span class="sxs-lookup"><span data-stu-id="0b6f3-115">Perf: performance counters including container cpu, memory, network traffic, disk i/o, and custom metrics from the host machines</span></span>

<span data-ttu-id="0b6f3-116">Bu makalede, kümeniz için kapsayıcı izleme ayarlamak için gerekli adımlar kapsanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-116">This article covers the steps required to set up container monitoring for your cluster.</span></span> <span data-ttu-id="0b6f3-117">OMS'ın kapsayıcıları çözüm hakkında daha fazla bilgi için kullanıma kendi [belgelerine](../log-analytics/log-analytics-containers.md).</span><span class="sxs-lookup"><span data-stu-id="0b6f3-117">To learn more about OMS's Containers solution, check out their [documentation](../log-analytics/log-analytics-containers.md).</span></span>

## <a name="1-set-up-a-service-fabric-cluster"></a><span data-ttu-id="0b6f3-118">1. Bir Service Fabric kümesi</span><span class="sxs-lookup"><span data-stu-id="0b6f3-118">1. Set up a Service Fabric cluster</span></span>

<span data-ttu-id="0b6f3-119">Bulunan Azure Resource Manager şablonunu kullanarak bir küme oluşturmak [burada](https://github.com/dkkapur/Service-Fabric/tree/master/ARM%20Templates/SF%20OMS%20Sample).</span><span class="sxs-lookup"><span data-stu-id="0b6f3-119">Create a cluster using the Azure Resource Manager template found [here](https://github.com/dkkapur/Service-Fabric/tree/master/ARM%20Templates/SF%20OMS%20Sample).</span></span> <span data-ttu-id="0b6f3-120">Benzersiz bir OMS çalışma ad eklediğinizden emin olun.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-120">Make sure to add a unique OMS workspace name.</span></span> <span data-ttu-id="0b6f3-121">Bu şablon, ayrıca hizmet, bu da üretimde kullanılamaz ve farklı bir Service Fabric sürüme yükseltilemez dokusu (v255.255) önizleme derlemesinin bir kümede dağıtmak için varsayılan olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-121">This template also defaults to deploying a cluster in the preview build of Service Fabric (v255.255), which means that it cannot be used in production, and cannot be upgraded to a different Service Fabric version.</span></span> <span data-ttu-id="0b6f3-122">Bu şablon için kullanmaya karar verirseniz, uzun vadeli veya üretim kullanın, sürüm kararlı sürüm numarasını değiştirin.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-122">If you decide to use this template for long-term or production use, change the version to a stable version number.</span></span>

<span data-ttu-id="0b6f3-123">Küme ayarladıktan sonra uygun sertifika yüklediyseniz ve olduğunuzdan emin olun, kümeye bağlanmak için onaylayın.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-123">Once the cluster is set up, confirm that you have installed the appropriate certificate, and make sure you are able to connect to the cluster.</span></span>

<span data-ttu-id="0b6f3-124">Kaynak grubunuzun doğru göre başlığını yukarı ayarlandığından emin olun [Azure portal](https://portal.azure.com/) ve dağıtım bulma.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-124">Confirm that your Resource Group is set up correctly by heading to the [Azure portal](https://portal.azure.com/) and finding the deployment.</span></span> <span data-ttu-id="0b6f3-125">Kaynak grubu Service Fabric kaynaklarını içeren ve Service Fabric çözüm yanı sıra, bir günlük analizi çözüm de gerekir.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-125">The resource group should contain all the Service Fabric resources, and also have a Log Analytics solution as well as a Service Fabric solution.</span></span>

<span data-ttu-id="0b6f3-126">Var olan bir Service Fabric kümesi değiştirmek için:</span><span class="sxs-lookup"><span data-stu-id="0b6f3-126">For modifying an existing Service Fabric cluster:</span></span>
* <span data-ttu-id="0b6f3-127">Tanılama etkinleştirilmiş olduğunu doğrulayın (Aksi takdirde, aracılığıyla etkinleştirmek [sanal makine ölçek kümesi güncelleştirme](/rest/api/virtualmachinescalesets/create-or-update-a-set))</span><span class="sxs-lookup"><span data-stu-id="0b6f3-127">Confirm that Diagnostics is enabled (if not, enable it via [updating the virtual machine scale set](/rest/api/virtualmachinescalesets/create-or-update-a-set))</span></span>
* <span data-ttu-id="0b6f3-128">"Service Fabric Analytics" Çözüm Azure Market üzerinden oluşturarak bir OMS çalışma alanı Ekle</span><span class="sxs-lookup"><span data-stu-id="0b6f3-128">Add an OMS Workspace by creating a "Service Fabric Analytics" solution via the Azure Marketplace</span></span>
* <span data-ttu-id="0b6f3-129">Veri kaynakları (WAD tarafından ayarlanır) uygun Azure Storage tablolardaki verileri alması için Service Fabric çözümün kümesinin kaynak grubundaki Düzenle</span><span class="sxs-lookup"><span data-stu-id="0b6f3-129">Edit the data sources of the Service Fabric solution to pick up data from the appropriate Azure Storage tables (set up by WAD) in the Resource Group that the cluster is in</span></span>
* <span data-ttu-id="0b6f3-130">Aracısı olarak ekleme bir [sanal makine ölçek kümesi uzantısı](/powershell/module/azurerm.compute/add-azurermvmssextension) PowerShell aracılığıyla veya sanal makine güncelleştiriliyor aracılığıyla ölçek kümesi (Resource Manager şablonu değiştirmek için yukarıdaki gibi aynı bağlantı)</span><span class="sxs-lookup"><span data-stu-id="0b6f3-130">Add the agent as an [extension to the virtual machine scale set](/powershell/module/azurerm.compute/add-azurermvmssextension) via PowerShell or through updating the virtual machine scale set (same link as above, to modify the Resource Manager template)</span></span>

## <a name="2-deploy-a-container"></a><span data-ttu-id="0b6f3-131">2. Bir kapsayıcı dağıtma</span><span class="sxs-lookup"><span data-stu-id="0b6f3-131">2. Deploy a container</span></span>

<span data-ttu-id="0b6f3-132">Küme hazır olduğundan ve ona erişebildiğinizden emin onayladıktan sonra bir kapsayıcı dağıtma.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-132">Once the cluster is ready and you have confirmed that you can access it, deploy a container to it.</span></span> <span data-ttu-id="0b6f3-133">Şablon tarafından kümesi olarak Önizleme sürümü kullanmayı seçerseniz, Service Fabric'ın yeni docker de keşfedebilirsiniz işlevselliği oluşturun.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-133">If you chose to use the preview version as set by the template, you can also explore Service Fabric's new docker compose functionality.</span></span> <span data-ttu-id="0b6f3-134">Bir küme için bir kapsayıcı görüntüsü dağıtılan ilk kez, görüntünün boyutuna bağlı olarak yüklemek için birkaç dakika sürer aklınızda size aittir.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-134">Bear in mind that the first time a container image is deployed to a cluster, it takes several minutes to download the image depending on its size.</span></span>

## <a name="3-add-the-containers-solution"></a><span data-ttu-id="0b6f3-135">3. Kapsayıcıları çözüme ekleyin</span><span class="sxs-lookup"><span data-stu-id="0b6f3-135">3. Add the Containers solution</span></span>

<span data-ttu-id="0b6f3-136">Azure portalında kapsayıcıları kaynak oluşturma (izleme + Yönetimi altında kategori) Azure Market üzerinden.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-136">In the Azure portal, create a Containers resource (under the Monitoring + Management category) through Azure Marketplace.</span></span> 

![Kapsayıcıları çözüm ekleme](./media/service-fabric-diagnostics-containers-windowsserver/containers-solution.png)

<span data-ttu-id="0b6f3-138">Oluşturma adımda bir OMS çalışma ister.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-138">In the creation step, it requests an OMS workspace.</span></span> <span data-ttu-id="0b6f3-139">Yukarıdaki dağıtımı ile oluşturulmuş bir tanesini seçin.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-139">Select the one that was created with the deployment above.</span></span> <span data-ttu-id="0b6f3-140">Bu adım, OMS çalışma kapsayıcıları çözümünüzde ekler ve şablon tarafından dağıtılan OMS aracısı tarafından otomatik olarak algılanır.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-140">This step adds a Containers solution within your OMS workspace, and is automatically detected by the OMS agent deployed by the template.</span></span> <span data-ttu-id="0b6f3-141">Aracı kümedeki kapsayıcıları işlemler üzerinde veri toplamayı başlatılır ve yaklaşık 10-15 dakika içinde yukarı çözüm ışık yukarıdaki Pano görüntüsü olduğu gibi verilerle görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-141">The agent will start gathering data on the containers processes in the cluster, and in about 10-15 minutes, you should see the solution light up with data as in the image of the dashboard above.</span></span>

## <a name="4-next-steps"></a><span data-ttu-id="0b6f3-142">4. Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="0b6f3-142">4. Next steps</span></span>

<span data-ttu-id="0b6f3-143">OMS çalışma daha kullanışlı varsa yapmak için çeşitli araçlar sunar.</span><span class="sxs-lookup"><span data-stu-id="0b6f3-143">OMS offers various tools in the workspace to make if more useful for you.</span></span> <span data-ttu-id="0b6f3-144">Çözümü gereksinimlerinize özelleştirmek için aşağıdaki seçeneklerden keşfedin:</span><span class="sxs-lookup"><span data-stu-id="0b6f3-144">Explore the following options to customize the solution to your needs:</span></span>
- <span data-ttu-id="0b6f3-145">İle familiarized [günlük arama ve sorgulama](../log-analytics/log-analytics-log-searches.md) günlük analizi bir parçası olarak sunulan özellikler</span><span class="sxs-lookup"><span data-stu-id="0b6f3-145">Get familiarized with the [log search and querying](../log-analytics/log-analytics-log-searches.md) features offered as part of Log Analytics</span></span>
- <span data-ttu-id="0b6f3-146">Belirli performans sayaçlarını seçmek için OMS Aracısı'nı yapılandırma (çalışma giriş gidin > ayarları > veri > Windows performans sayaçlarını)</span><span class="sxs-lookup"><span data-stu-id="0b6f3-146">Configure the OMS agent to pick up specific performance counters (go to the workspace Home > Settings > Data > Windows Performance Counters)</span></span>
- <span data-ttu-id="0b6f3-147">Ayarlamak için OMS yapılandırma [uyarı otomatik](../log-analytics/log-analytics-alerts.md) algılama ve tanılama yardımcı olmak için kurallar</span><span class="sxs-lookup"><span data-stu-id="0b6f3-147">Configure OMS to set up [automated alerting](../log-analytics/log-analytics-alerts.md) rules to aid in detecting and diagnostics</span></span>