---
title: Resource Manager mimarisi | Microsoft Docs
description: "Service Fabric Küme Kaynağı Yöneticisi'nin mimari bir özeti."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 6c4421f9-834b-450c-939f-1cb4ff456b9b
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 565c20637fa93ed92bb6c52e585a4b70bdeb6f8c
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/18/2017
---
# <a name="cluster-resource-manager-architecture-overview"></a><span data-ttu-id="0f69a-103">Küme kaynak Yönetici Mimarisine Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="0f69a-103">Cluster resource manager architecture overview</span></span>
<span data-ttu-id="0f69a-104">Service Fabric kümesi Kaynak Yöneticisi kümede çalışan merkezi bir hizmettir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-104">The Service Fabric Cluster Resource Manager is a central service that runs in the cluster.</span></span> <span data-ttu-id="0f69a-105">Özellikle kaynak tüketimini ve herhangi bir yerleştirme kuralı göre kümedeki hizmetlerin istenen durumunu yönetir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-105">It manages the desired state of the services in the cluster, particularly with respect to resource consumption and any placement rules.</span></span> 

<span data-ttu-id="0f69a-106">Kümenizdeki kaynakları yönetmek için Service Fabric kümesi Resource Manager çeşitli bilgi parçalarını sahip olmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="0f69a-106">To manage the resources in your cluster, the Service Fabric Cluster Resource Manager must have several pieces of information:</span></span>

- <span data-ttu-id="0f69a-107">Hangi Hizmetleri şu anda var</span><span class="sxs-lookup"><span data-stu-id="0f69a-107">Which services currently exist</span></span>
- <span data-ttu-id="0f69a-108">Her hizmet geçerli (veya varsayılan) kaynak tüketimi</span><span class="sxs-lookup"><span data-stu-id="0f69a-108">Each service's current (or default) resource consumption</span></span> 
- <span data-ttu-id="0f69a-109">Kalan küme kapasite</span><span class="sxs-lookup"><span data-stu-id="0f69a-109">The remaining cluster capacity</span></span> 
- <span data-ttu-id="0f69a-110">Kümedeki düğümler kapasitesi</span><span class="sxs-lookup"><span data-stu-id="0f69a-110">The capacity of the nodes in the cluster</span></span> 
- <span data-ttu-id="0f69a-111">Her bir düğümde tüketilen kaynaklarının miktarını</span><span class="sxs-lookup"><span data-stu-id="0f69a-111">The amount of resources consumed on each node</span></span>

<span data-ttu-id="0f69a-112">Belirli bir hizmeti kaynak tüketimini zamanla değişebilir ve Hizmetleri hakkında daha fazla kaynak türü genellikle dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="0f69a-112">The resource consumption of a given service can change over time, and services usually care about more than one type of resource.</span></span> <span data-ttu-id="0f69a-113">Farklı hizmetler arasında ölçülen gerçek fiziksel ve fiziksel kaynakları olabilir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-113">Across different services, there may be both real physical and physical resources being measured.</span></span> <span data-ttu-id="0f69a-114">Hizmetleri, bellek ve disk kullanımı gibi fiziksel ölçümleri izleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0f69a-114">Services may track physical metrics like memory and disk consumption.</span></span> <span data-ttu-id="0f69a-115">Daha yaygın olarak, hizmetler, mantıksal ölçümleri - "WorkQueueDepth" veya "TotalRequests" gibi şeyleri önem verdiğiniz.</span><span class="sxs-lookup"><span data-stu-id="0f69a-115">More commonly, services may care about logical metrics - things like "WorkQueueDepth" or "TotalRequests".</span></span> <span data-ttu-id="0f69a-116">Mantıksal ve fiziksel ölçümleri aynı kümede kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-116">Both logical and physical metrics can be used in the same cluster.</span></span> <span data-ttu-id="0f69a-117">Ölçümleri birçok hizmetleri arasında paylaşılabilir veya belirli bir hizmete özgü olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0f69a-117">Metrics can be shared across many services or be specific to a particular service.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="0f69a-118">Diğer konular</span><span class="sxs-lookup"><span data-stu-id="0f69a-118">Other considerations</span></span>
<span data-ttu-id="0f69a-119">Aynı kişiler takan farklı şapkalar en az olan veya sahipleri ve işleçler kümesinin hizmet ve uygulama yazarların farklı olabilir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-119">The owners and operators of the cluster can be different from the service and application authors, or at a minimum are the same people wearing different hats.</span></span> <span data-ttu-id="0f69a-120">Uygulamanızı geliştirirken hangi gerektirdiğini hakkında birkaç şey bildirin.</span><span class="sxs-lookup"><span data-stu-id="0f69a-120">When you develop your application you know a few things about what it requires.</span></span> <span data-ttu-id="0f69a-121">Tahmini tüketen kaynakların sahip ve nasıl farklı Hizmetleri dağıtılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0f69a-121">You have an estimate of the resources it will consume and how different services should be deployed.</span></span> <span data-ttu-id="0f69a-122">Örneğin, web katmanı veritabanı hizmetleri vermemelisiniz sırada Internet'e açık düğümlerinde çalışması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-122">For example, the web tier needs to run on nodes exposed to the Internet, while the database services should not.</span></span> <span data-ttu-id="0f69a-123">Başka bir örnek olarak, web Hizmetleri büyük olasılıkla CPU ve bellek ve disk kullanımı hakkında daha fazla veri katmanı Hizmetleri bakım sırasında ağ tarafından kısıtlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0f69a-123">As another example, the web services are probably constrained by CPU and network, while the data tier services care more about memory and disk consumption.</span></span> <span data-ttu-id="0f69a-124">Ancak, bu hizmet üretim veya kimin hizmet yükseltme yönetme için Canlı site olay işleme kişinin yapmak için farklı bir iş vardır ve farklı araçlar gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-124">However, the person handling a live-site incident for that service in production, or who is managing an upgrade to the service has a different job to do, and requires different tools.</span></span> 

<span data-ttu-id="0f69a-125">Küme ve Hizmetleri dinamik şunlardır:</span><span class="sxs-lookup"><span data-stu-id="0f69a-125">Both the cluster and services are dynamic:</span></span>

- <span data-ttu-id="0f69a-126">Kümedeki düğüm sayısını büyür ve küçültme</span><span class="sxs-lookup"><span data-stu-id="0f69a-126">The number of nodes in the cluster can grow and shrink</span></span>
- <span data-ttu-id="0f69a-127">Farklı boyutlarda ve türleri düğümlerinin dönün ve Git</span><span class="sxs-lookup"><span data-stu-id="0f69a-127">Nodes of different sizes and types can come and go</span></span>
- <span data-ttu-id="0f69a-128">Hizmetleri kaldırılmış oluşturulabilir ve onların istenen kaynak ayırma ve yerleştirme kuralları değiştirme</span><span class="sxs-lookup"><span data-stu-id="0f69a-128">Services can be created, removed, and change their desired resource allocations and placement rules</span></span>
- <span data-ttu-id="0f69a-129">Yükseltme veya diğer yönetim işlemleri uygulama küme aracılığıyla altyapı düzeylerini geri alabilirsiniz</span><span class="sxs-lookup"><span data-stu-id="0f69a-129">Upgrades or other management operations can roll through the cluster at the application on infrastructure levels</span></span>
- <span data-ttu-id="0f69a-130">Herhangi bir zamanda hataları oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-130">Failures can happen at any time.</span></span>

## <a name="cluster-resource-manager-components-and-data-flow"></a><span data-ttu-id="0f69a-131">Küme Kaynak Yöneticisi bileşenleri ve veri akışı</span><span class="sxs-lookup"><span data-stu-id="0f69a-131">Cluster resource manager components and data flow</span></span>
<span data-ttu-id="0f69a-132">Bu hizmetlerin içindeki her hizmet nesnesi tarafından her hizmet gereksinimlerine ve kaynaklarının kullanımını izlemek Küme Kaynak Yöneticisi'ni vardır.</span><span class="sxs-lookup"><span data-stu-id="0f69a-132">The Cluster Resource Manager has to track the requirements of each service and the consumption of resources by each service object within those services.</span></span> <span data-ttu-id="0f69a-133">Küme Kaynak Yöneticisi'ni kavramsal iki bölümden oluşur: her düğüm ve hataya dayanıklı bir hizmeti çalıştıran aracılar.</span><span class="sxs-lookup"><span data-stu-id="0f69a-133">The Cluster Resource Manager has two conceptual parts: agents that run on each node and a fault-tolerant service.</span></span> <span data-ttu-id="0f69a-134">Her düğüm izleme yük aracısında Hizmetleri'nden toplama bunları bildirir ve düzenli aralıklarla rapor.</span><span class="sxs-lookup"><span data-stu-id="0f69a-134">The agents on each node track load reports from services, aggregate them, and periodically report them.</span></span> <span data-ttu-id="0f69a-135">Küme Kaynak Yöneticisi hizmeti yerel aracıları ve kendi geçerli yapılandırmasını temel alarak tepki verdiğini tüm bilgileri toplar.</span><span class="sxs-lookup"><span data-stu-id="0f69a-135">The Cluster Resource Manager service aggregates all the information from the local agents and reacts based on its current configuration.</span></span>

<span data-ttu-id="0f69a-136">Aşağıdaki diyagramda bakalım:</span><span class="sxs-lookup"><span data-stu-id="0f69a-136">Let’s look at the following diagram:</span></span>

<span data-ttu-id="0f69a-137"><center>
![Kaynak dengeleyici mimarisi][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="0f69a-137"><center>
![Resource Balancer Architecture][Image1]
</center></span></span>

<span data-ttu-id="0f69a-138">Çalışma zamanı sırasında meydana gelebilir birçok değişiklik yoktur.</span><span class="sxs-lookup"><span data-stu-id="0f69a-138">During runtime, there are many changes that could happen.</span></span> <span data-ttu-id="0f69a-139">Örneğin, şimdi deyin bazı hizmetlerini kullanma kaynakları miktarını, bazı hizmetleri başarısız ve bazı düğümler birleştirme ve değişiklikleri küme bırakın.</span><span class="sxs-lookup"><span data-stu-id="0f69a-139">For example, let’s say the amount of resources some services consume changes, some services fail, and some nodes join and leave the cluster.</span></span> <span data-ttu-id="0f69a-140">Bir düğüm üzerindeki tüm değişiklikleri toplanır ve düzenli aralıklarla burada bunlar yeniden birleştirilir, analiz ve depolanan Küme Kaynak Yöneticisi Hizmeti'ne (1,2) gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-140">All the changes on a node are aggregated and periodically sent to the Cluster Resource Manager service (1,2) where they are aggregated again, analyzed, and stored.</span></span> <span data-ttu-id="0f69a-141">Hizmet değişikliklerini arar ve herhangi bir eylem gerekli olup olmadığını belirleyen her birkaç saniyede (3).</span><span class="sxs-lookup"><span data-stu-id="0f69a-141">Every few seconds that service looks at the changes and determines if any actions are necessary (3).</span></span> <span data-ttu-id="0f69a-142">Örneğin, bazı boş düğümler kümeye eklendiğini fark.</span><span class="sxs-lookup"><span data-stu-id="0f69a-142">For example, it could notice that some empty nodes have been added to the cluster.</span></span> <span data-ttu-id="0f69a-143">Sonuç olarak, bazı hizmetler için düğümleri taşıma karar verir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-143">As a result, it decides to move some services to those nodes.</span></span> <span data-ttu-id="0f69a-144">Küme Kaynak Yöneticisi'ni de belirli bir düğüme aşırı yüklendiğinde veya belirli hizmetleri başarısız veya silinmiş, fark başka bir yerde kaynakları serbest bırakma.</span><span class="sxs-lookup"><span data-stu-id="0f69a-144">The Cluster Resource Manager could also notice that a particular node is overloaded, or that certain services have failed or been deleted, freeing up resources elsewhere.</span></span>

<span data-ttu-id="0f69a-145">Şimdi Aşağıdaki diyagramda bakın ve ne olacağını bakın.</span><span class="sxs-lookup"><span data-stu-id="0f69a-145">Let’s look at the following diagram and see what happens next.</span></span> <span data-ttu-id="0f69a-146">Küme Kaynak Yöneticisi'ni değişikliklerin gerekli olduğunu belirler varsayalım.</span><span class="sxs-lookup"><span data-stu-id="0f69a-146">Let’s say that the Cluster Resource Manager determines that changes are necessary.</span></span> <span data-ttu-id="0f69a-147">Diğer sistem hizmetleriyle (belirli Yük Devretme Yöneticisi) gerekli değişiklikleri düzenler.</span><span class="sxs-lookup"><span data-stu-id="0f69a-147">It coordinates with other system services (in particular the Failover Manager) to make the necessary changes.</span></span> <span data-ttu-id="0f69a-148">Ardından gerekli komutları uygun düğümlerine (4) gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0f69a-148">Then the necessary commands are sent to the appropriate nodes (4).</span></span> <span data-ttu-id="0f69a-149">Örneğin, Kaynak Yöneticisi'ni Düğüm5 fazlaydı ve bu nedenle hizmet B Düğüm4 için Düğüm5 taşımak karar fark varsayalım.</span><span class="sxs-lookup"><span data-stu-id="0f69a-149">For example, let's say the Resource Manager noticed that Node5 was overloaded, and so decided to move service B from Node5 to Node4.</span></span> <span data-ttu-id="0f69a-150">Yeniden yapılandırma (5) sonunda, küme şöyle görünür:</span><span class="sxs-lookup"><span data-stu-id="0f69a-150">At the end of the reconfiguration (5), the cluster looks like this:</span></span>

<span data-ttu-id="0f69a-151"><center>
![Kaynak dengeleyici mimarisi][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="0f69a-151"><center>
![Resource Balancer Architecture][Image2]
</center></span></span>

## <a name="next-steps"></a><span data-ttu-id="0f69a-152">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="0f69a-152">Next steps</span></span>
- <span data-ttu-id="0f69a-153">Küme Kaynak Yöneticisi'ni küme açıklamak için birçok seçeneğiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="0f69a-153">The Cluster Resource Manager has many options for describing the cluster.</span></span> <span data-ttu-id="0f69a-154">Bunları hakkında daha fazla bilgi için bu makalede kontrol [açıklayan bir Service Fabric kümesi](./service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="0f69a-154">To find out more about them, check out this article on [describing a Service Fabric cluster](./service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
- <span data-ttu-id="0f69a-155">Küme Kaynak Yöneticisi'nin birincil görevlerini küme dengelenmesi ve yerleştirme kuralları uygulanması.</span><span class="sxs-lookup"><span data-stu-id="0f69a-155">The Cluster Resource Manager's primary duties are rebalancing the cluster and enforcing placement rules.</span></span> <span data-ttu-id="0f69a-156">Bu davranışların yapılandırma hakkında daha fazla bilgi için bkz: [Dengeleme Service Fabric kümesi](./service-fabric-cluster-resource-manager-balancing.md)</span><span class="sxs-lookup"><span data-stu-id="0f69a-156">For more information on configuring these behaviors, see [balancing your Service Fabric cluster](./service-fabric-cluster-resource-manager-balancing.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-1.png
[Image2]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-2.png
