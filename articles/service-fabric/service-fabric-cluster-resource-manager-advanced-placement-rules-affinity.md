---
title: "aaaService doku Küme Kaynak Yöneticisi - benzeşim | Microsoft Docs"
description: "Benzeşim hizmet doku hizmetler için yapılandırma genel bakış"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 678073e1-d08d-46c4-a811-826e70aba6c4
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 7dc9b6d9c18d9d615d39cff7de9d7cba1c040474
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-and-using-service-affinity-in-service-fabric"></a><span data-ttu-id="28d31-103">Yapılandırma ve Service Fabric hizmeti benzeşimini kullanma</span><span class="sxs-lookup"><span data-stu-id="28d31-103">Configuring and using service affinity in Service Fabric</span></span>
<span data-ttu-id="28d31-104">Benzeşim çoğunlukla toohelp kolaylığı hello geçişin Bulut ve mikro Merhaba Dünya daha büyük tek yapılı uygulamalara sağlanan bir denetimdir.</span><span class="sxs-lookup"><span data-stu-id="28d31-104">Affinity is a control that is provided mainly toohelp ease hello transition of larger monolithic applications into hello cloud and microservices world.</span></span> <span data-ttu-id="28d31-105">Bunu yapmak, böylece yan etkileri sahip olabilirsiniz, ancak Hizmetleri hello performansını iyileştirmek için bir iyileştirme da kullanılır.</span><span class="sxs-lookup"><span data-stu-id="28d31-105">It is also used as an optimization for improving hello performance of services, although doing so can have side effects.</span></span>

<span data-ttu-id="28d31-106">Daha büyük bir uygulama veya bir yalnızca unutmayın, tooService doku (veya dağıtılmış bir ortama) mikro tasarlanan değildi getiren varsayalım.</span><span class="sxs-lookup"><span data-stu-id="28d31-106">Let’s say you’re bringing a larger app, or one that just wasn’t designed with microservices in mind, tooService Fabric (or any distributed environment).</span></span> <span data-ttu-id="28d31-107">Bu geçiş türünü yaygındır.</span><span class="sxs-lookup"><span data-stu-id="28d31-107">This type of transition is common.</span></span> <span data-ttu-id="28d31-108">Merhaba ortamına hello tüm uygulama kaldırma, paketleme ve düzgün çalıştığından emin olmak başlatın.</span><span class="sxs-lookup"><span data-stu-id="28d31-108">You start by lifting hello entire app into hello environment, packaging it, and making sure it is running smoothly.</span></span> <span data-ttu-id="28d31-109">Daha sonra tüm tooeach diğer konuşun farklı küçük Hizmetleri içine çiğnemekten başlatın.</span><span class="sxs-lookup"><span data-stu-id="28d31-109">Then you start breaking it down into different smaller services that all talk tooeach other.</span></span>

<span data-ttu-id="28d31-110">Sonunda Merhaba uygulaması bazı sorunlar yaşıyor bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="28d31-110">Eventually you may find that hello application is experiencing some issues.</span></span> <span data-ttu-id="28d31-111">Merhaba sorunları genellikle bu kategoriden ayrılır:</span><span class="sxs-lookup"><span data-stu-id="28d31-111">hello issues usually fall into one of these categories:</span></span>

1. <span data-ttu-id="28d31-112">Bazı bileşeni X hello tek yapılı uygulama bileşeni Y belgelenmemiş bir bağımlılık vardı ve yalnızca bu bileşenleri ayrı hizmetlerine açık.</span><span class="sxs-lookup"><span data-stu-id="28d31-112">Some component X in hello monolithic app had an undocumented dependency on component Y, and you just turned those components into separate services.</span></span> <span data-ttu-id="28d31-113">Bu hizmetleri artık hello kümedeki farklı düğümlerde çalışan olduğundan, bunlar bozuk.</span><span class="sxs-lookup"><span data-stu-id="28d31-113">Since these services are now running on different nodes in hello cluster, they're broken.</span></span>
2. <span data-ttu-id="28d31-114">Bu bileşenlerin üzerinden iletişim kurmasına (adlandırılmış kanallar yerel | bellek paylaşılan | diskteki dosyaları) ve gerçekten toobe mümkün toowrite paylaşılan tooa yerel kaynak Performans nedeniyle şu anda gerekir.</span><span class="sxs-lookup"><span data-stu-id="28d31-114">These components communicate via (local named pipes | shared memory | files on disk) and they really need toobe able toowrite tooa shared local resource for performance reasons right now.</span></span> <span data-ttu-id="28d31-115">Bu sabit bağımlılık daha sonra belki de kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="28d31-115">That hard dependency gets removed later, maybe.</span></span>
3. <span data-ttu-id="28d31-116">Her şeyi sorun yoktur, ancak bu iki bileşenin gerçekten chatty/performans hassas olduğunu öyle.</span><span class="sxs-lookup"><span data-stu-id="28d31-116">Everything is fine, but it turns out that these two components are actually chatty/performance sensitive.</span></span> <span data-ttu-id="28d31-117">Bunlar ayrı hizmetlerine taşındıklarında genel tanked uygulama performansı veya gecikme artar.</span><span class="sxs-lookup"><span data-stu-id="28d31-117">When they moved them into separate services overall application performance tanked or latency increased.</span></span> <span data-ttu-id="28d31-118">Sonuç olarak, hello genel uygulama beklentilerini karşılayıp değil.</span><span class="sxs-lookup"><span data-stu-id="28d31-118">As a result, hello overall application is not meeting expectations.</span></span>

<span data-ttu-id="28d31-119">Bu durumda, biz toolose bizim düzenleme iş istemediğiniz ve toogo geri toohello monolith istemiyorum.</span><span class="sxs-lookup"><span data-stu-id="28d31-119">In these cases, we don’t want toolose our refactoring work, and don’t want toogo back toohello monolith.</span></span> <span data-ttu-id="28d31-120">Merhaba son koşul bile düz bir iyileştirme istenebilir.</span><span class="sxs-lookup"><span data-stu-id="28d31-120">hello last condition may even be desirable as a plain optimization.</span></span> <span data-ttu-id="28d31-121">Ancak, biz hello bileşenleri toowork Hizmetleri olarak doğal olarak tasarlayabilirsiniz kadar (veya biz hello performans beklentilerini başka bir yolla çözebilir kadar) tooneed yere göre bazı duygusu yapacağız.</span><span class="sxs-lookup"><span data-stu-id="28d31-121">However, until we can redesign hello components toowork naturally as services (or until we can solve hello performance expectations some other way) we're going tooneed some sense of locality.</span></span>

<span data-ttu-id="28d31-122">Hangi toodo?</span><span class="sxs-lookup"><span data-stu-id="28d31-122">What toodo?</span></span> <span data-ttu-id="28d31-123">İyi üzerinde benzeşim kapatma çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="28d31-123">Well, you could try turning on affinity.</span></span>

## <a name="how-tooconfigure-affinity"></a><span data-ttu-id="28d31-124">Nasıl tooconfigure benzeşimi</span><span class="sxs-lookup"><span data-stu-id="28d31-124">How tooconfigure affinity</span></span>
<span data-ttu-id="28d31-125">tooset benzeşim yukarı iki farklı hizmetler arasında bir benzeşim ilişkisi tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="28d31-125">tooset up affinity, you define an affinity relationship between two different services.</span></span> <span data-ttu-id="28d31-126">"Bir hizmet başka bir işaret" ve "Bu hizmet yalnızca burada hizmetinin çalıştığını çalıştırabilirsiniz." belirten olarak benzeşim düşünebilirsiniz</span><span class="sxs-lookup"><span data-stu-id="28d31-126">You can think of affinity as “pointing” one service at another and saying “This service can only run where that service is running.”</span></span> <span data-ttu-id="28d31-127">Bazen biz (burada hello üst hello alt işaretleyin) bir üst/alt ilişkisi tooaffinity bakın.</span><span class="sxs-lookup"><span data-stu-id="28d31-127">Sometimes we refer tooaffinity as a parent/child relationship (where you point hello child at hello parent).</span></span> <span data-ttu-id="28d31-128">Benzeşimi sağlar hello çoğaltmaları veya bir hizmet örnekleri üzerinde hello aynı sıraya alınma düğümleri olanlar başka bir hizmet olarak.</span><span class="sxs-lookup"><span data-stu-id="28d31-128">Affinity ensures that hello replicas or instances of one service are placed on hello same nodes as those of another service.</span></span>

```csharp
ServiceCorrelationDescription affinityDescription = new ServiceCorrelationDescription();
affinityDescription.Scheme = ServiceCorrelationScheme.Affinity;
affinityDescription.ServiceName = new Uri("fabric:/otherApplication/parentService");
serviceDescription.Correlations.Add(affinityDescription);
await fabricClient.ServiceManager.CreateServiceAsync(serviceDescription);
```

> [!NOTE]
> <span data-ttu-id="28d31-129">Bir alt hizmeti yalnızca bir tek benzeşim ilişkisinde yer alabilir.</span><span class="sxs-lookup"><span data-stu-id="28d31-129">A child service can only participate in a single affinity relationship.</span></span> <span data-ttu-id="28d31-130">Merhaba alt Benzetilen toobe tootwo üst Hizmetleri aynı anda istediyseniz, birkaç seçeneğiniz vardır:</span><span class="sxs-lookup"><span data-stu-id="28d31-130">If you wanted hello child toobe affinitized tootwo parent services at once you have a couple options:</span></span>
> - <span data-ttu-id="28d31-131">Merhaba ilişkileri ters (parentService1 ve hello geçerli alt hizmeti noktası parentService2 varsa), veya</span><span class="sxs-lookup"><span data-stu-id="28d31-131">Reverse hello relationships (have parentService1 and parentService2 point at hello current child service), or</span></span>
> - <span data-ttu-id="28d31-132">Kurala göre bir hello üst hub'ı olarak belirleyin ve tüm hizmetleri, bu hizmeti noktası.</span><span class="sxs-lookup"><span data-stu-id="28d31-132">Designate one of hello parents as a hub by convention and have all services point at that service.</span></span> 
>
> <span data-ttu-id="28d31-133">yerleştirme davranışını hello kümedeki kaynaklanan hello olması hello aynı.</span><span class="sxs-lookup"><span data-stu-id="28d31-133">hello resulting placement behavior in hello cluster should be hello same.</span></span>
>

## <a name="different-affinity-options"></a><span data-ttu-id="28d31-134">Farklı benzeşim seçenekleri</span><span class="sxs-lookup"><span data-stu-id="28d31-134">Different affinity options</span></span>
<span data-ttu-id="28d31-135">Benzeşim birkaç bağıntı düzenleri biri ile temsil edilir ve iki farklı mod vardır.</span><span class="sxs-lookup"><span data-stu-id="28d31-135">Affinity is represented via one of several correlation schemes, and has two different modes.</span></span> <span data-ttu-id="28d31-136">Merhaba en yaygın benzeşim NonAlignedAffinity veririz modudur.</span><span class="sxs-lookup"><span data-stu-id="28d31-136">hello most common mode of affinity is what we call NonAlignedAffinity.</span></span> <span data-ttu-id="28d31-137">Çoğaltmaları NonAlignedAffinity içinde hello veya hello farklı Hizmetleri örneği üzerinde hello aynı yerleştirilir düğümleri.</span><span class="sxs-lookup"><span data-stu-id="28d31-137">In NonAlignedAffinity, hello replicas or instances of hello different services are placed on hello same nodes.</span></span> <span data-ttu-id="28d31-138">Merhaba diğer AlignedAffinity moddur.</span><span class="sxs-lookup"><span data-stu-id="28d31-138">hello other mode is AlignedAffinity.</span></span> <span data-ttu-id="28d31-139">Yalnızca durum bilgisi olan hizmetler ile hizalanmış benzeşim yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="28d31-139">Aligned Affinity is useful only with stateful services.</span></span> <span data-ttu-id="28d31-140">Hizmetleri hizalı toohave benzeşimi sağlar, bu hizmetlerin hello ana üzerinde yerleştirilir iki durum bilgisi olan yapılandırma hello aynı düğümleri olarak her diğer.</span><span class="sxs-lookup"><span data-stu-id="28d31-140">Configuring two stateful services toohave aligned affinity ensures that hello primaries of those services are placed on hello same nodes as each other.</span></span> <span data-ttu-id="28d31-141">Bu hizmetleri toobe hello üzerinde aynı yerleştirilen için her çifti ikincil kopya da neden düğümleri.</span><span class="sxs-lookup"><span data-stu-id="28d31-141">It also causes each pair of secondaries for those services toobe placed on hello same nodes.</span></span> <span data-ttu-id="28d31-142">Da mümkündür (ancak daha az görülen) tooconfigure NonAlignedAffinity durum bilgisi olan hizmetler için.</span><span class="sxs-lookup"><span data-stu-id="28d31-142">It is also possible (though less common) tooconfigure NonAlignedAffinity for stateful services.</span></span> <span data-ttu-id="28d31-143">NonAlignedAffinity, aynı düğümlerine hello farklı iki durum bilgisi olan hizmet çalıştırılır hello çoğaltmalarını Merhaba, ancak kendi ana farklı düğümlerde şunun.</span><span class="sxs-lookup"><span data-stu-id="28d31-143">For NonAlignedAffinity, hello different replicas of hello two stateful services would run on hello same nodes, but their primaries could end up on different nodes.</span></span>

<span data-ttu-id="28d31-144"><center>
![Benzeşim modları ve bunların etkileri][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="28d31-144"><center>
![Affinity Modes and Their Effects][Image1]
</center></span></span>

### <a name="best-effort-desired-state"></a><span data-ttu-id="28d31-145">En iyi çaba istenen durumu</span><span class="sxs-lookup"><span data-stu-id="28d31-145">Best effort desired state</span></span>
<span data-ttu-id="28d31-146">En iyi çaba bir benzeşim ilişkidir.</span><span class="sxs-lookup"><span data-stu-id="28d31-146">An affinity relationship is best effort.</span></span> <span data-ttu-id="28d31-147">Merhaba düzenleme veya yapan hello çalıştıran aynı yürütülebilir bir işlemi güvenilirliği aynı garanti sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="28d31-147">It does not provide hello same guarantees of collocation or reliability that running in hello same executable process does.</span></span> <span data-ttu-id="28d31-148">bir benzeşim ilişkisi Hello Hizmetleri'nde başarısız olabilir ve bağımsız olarak taşınmasına temelde farklı varlıklardır.</span><span class="sxs-lookup"><span data-stu-id="28d31-148">hello services in an affinity relationship are fundamentally different entities that can fail and be moved independently.</span></span> <span data-ttu-id="28d31-149">Ancak bu sonlarını geçici bir benzeşim ilişkisi de kesebilir.</span><span class="sxs-lookup"><span data-stu-id="28d31-149">An affinity relationship could also break, though these breaks are temporary.</span></span> <span data-ttu-id="28d31-150">Örneğin, kapasite sınırlamaları hello benzeşim ilişkisi hello hizmet nesneleri yalnızca bazılarını belirli bir düğümde uygun olduğu anlamına gelebilir.</span><span class="sxs-lookup"><span data-stu-id="28d31-150">For example, capacity limitations may mean that only some of hello service objects in hello affinity relationship can fit on a given node.</span></span> <span data-ttu-id="28d31-151">Yerinde bir benzeşim ilişkisi olsa bu durumlarda, son zorlanamaz toohello diğer kısıtlamaları.</span><span class="sxs-lookup"><span data-stu-id="28d31-151">In these cases even though there's an affinity relationship in place, it can't be enforced due toohello other constraints.</span></span> <span data-ttu-id="28d31-152">Bu nedenle olası toodo olması durumunda, hello ihlali daha sonra otomatik olarak düzeltilir.</span><span class="sxs-lookup"><span data-stu-id="28d31-152">If it is possible toodo so, hello violation is automatically corrected later.</span></span>

### <a name="chains-vs-stars"></a><span data-ttu-id="28d31-153">Zincirleri yıldız karşılaştırması</span><span class="sxs-lookup"><span data-stu-id="28d31-153">Chains vs. stars</span></span>
<span data-ttu-id="28d31-154">Bugün hello küme Resource Manager mümkün toomodel zincirleri benzeşim ilişkilerin değil.</span><span class="sxs-lookup"><span data-stu-id="28d31-154">Today hello Cluster Resource Manager isn't able toomodel chains of affinity relationships.</span></span> <span data-ttu-id="28d31-155">Bu, bir alt bir benzeşim ilişkisi olan bir hizmettir anlamı başka bir benzeşim ilişkisi içinde üst öğesi olamaz.</span><span class="sxs-lookup"><span data-stu-id="28d31-155">What this means is that a service that is a child in one affinity relationship can’t be a parent in another affinity relationship.</span></span> <span data-ttu-id="28d31-156">Bu ilişki türünde toomodel istiyorsanız, toomodel etkin olan bir zincir yerine bir yıldız olarak.</span><span class="sxs-lookup"><span data-stu-id="28d31-156">If you want toomodel this type of relationship, you effectively have toomodel it as a star, rather than a chain.</span></span> <span data-ttu-id="28d31-157">bir zincir tooa yıldız hello alttaki alt gelen toomove üst öğeye sahip toohello ilk çocuğun üst yerine olacaktır.</span><span class="sxs-lookup"><span data-stu-id="28d31-157">toomove from a chain tooa star, hello bottommost child would be parented toohello first child’s parent instead.</span></span> <span data-ttu-id="28d31-158">Hizmetlerinizin düzenlenmesi Hello bağlı olarak, birden çok kez toodo olabilir.</span><span class="sxs-lookup"><span data-stu-id="28d31-158">Depending on hello arrangement of your services, you may have toodo this multiple times.</span></span> <span data-ttu-id="28d31-159">Doğal üst hizmet ise, bir yer tutucu olarak hizmet veren bir toocreate sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="28d31-159">If there's no natural parent service, you may have toocreate one that serves as a placeholder.</span></span> <span data-ttu-id="28d31-160">Gereksinimlerinize bağlı olarak, ayrıca toolook içine isteyebilir [uygulama grupları](service-fabric-cluster-resource-manager-application-groups.md).</span><span class="sxs-lookup"><span data-stu-id="28d31-160">Depending on your requirements, you may also want toolook into [Application Groups](service-fabric-cluster-resource-manager-application-groups.md).</span></span>

<span data-ttu-id="28d31-161"><center>
![Zincirleri vs. Merhaba benzeşimi ilişkileri bağlam yıldızları][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="28d31-161"><center>
![Chains vs. Stars in hello Context of Affinity Relationships][Image2]
</center></span></span>

<span data-ttu-id="28d31-162">Başka bir şey toonote benzeşimi ilişkileri hakkında bugün yön olduklarından emin olan.</span><span class="sxs-lookup"><span data-stu-id="28d31-162">Another thing toonote about affinity relationships today is that they are directional.</span></span> <span data-ttu-id="28d31-163">Başka bir deyişle, hello benzeşim kural yalnızca hello üst yerleştirilen bu hello alt zorlar.</span><span class="sxs-lookup"><span data-stu-id="28d31-163">This means that hello affinity rule only enforces that hello child placed with hello parent.</span></span> <span data-ttu-id="28d31-164">Bu hello üst hello çocuğunuzla bulunduğu olunmasını sağlamamasıdır.</span><span class="sxs-lookup"><span data-stu-id="28d31-164">It does not ensure that hello parent is located with hello child.</span></span> <span data-ttu-id="28d31-165">Farklı Hizmetleri ile farklı yaşam döngüleri vardır ve başarısız ve bağımsız olarak hareket beri benzeşim ilişkisi hello toonote mükemmel veya anında zorlanamaz önemlidir.</span><span class="sxs-lookup"><span data-stu-id="28d31-165">It is also important toonote that hello affinity relationship can't be perfect or instantly enforced since different services have with different lifecycles and can fail and move independently.</span></span> <span data-ttu-id="28d31-166">Örneğin, bunu kilitlendi çünkü hello üst aniden tooanother düğüm üzerinde başarısız varsayalım.</span><span class="sxs-lookup"><span data-stu-id="28d31-166">For example, let's say hello parent suddenly fails over tooanother node because it crashed.</span></span> <span data-ttu-id="28d31-167">tutarlı ve kullanılabilir, Hello Hizmetleri tutma hello öncelik olduğundan hello Küme Kaynak Yöneticisi ve Yük Devretme Yöneticisi tanıtıcısı ilk olarak, yük devretme hello.</span><span class="sxs-lookup"><span data-stu-id="28d31-167">hello Cluster Resource Manager and Failover Manager handle hello failover first, since keeping hello services up, consistent, and available is hello priority.</span></span> <span data-ttu-id="28d31-168">Hello yük devretme işlemi tamamlandıktan sonra hello benzeşim ilişkisi bozuk, ancak Küme Kaynak Yöneticisi bu hello alt bildirimler kadar her şeyi ince taşıdığını düşündüğü hello hello üst bulunduğu değil.</span><span class="sxs-lookup"><span data-stu-id="28d31-168">Once hello failover completes, hello affinity relationship is broken, but hello Cluster Resource Manager thinks everything is fine until it notices that hello child is not located with hello parent.</span></span> <span data-ttu-id="28d31-169">Bu tür denetimler düzenli olarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="28d31-169">These sorts of checks are performed periodically.</span></span> <span data-ttu-id="28d31-170">Hello küme Resource Manager kısıtlamaları nasıl hesaplar hakkında daha fazla bilgi kullanılabilir [bu makalede](service-fabric-cluster-resource-manager-management-integration.md#constraint-types), ve [bu](service-fabric-cluster-resource-manager-balancing.md) nasıl tooconfigure hello hakkında tempoyla bu kısıtlamaların olduğu daha fazla ettiği değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="28d31-170">More information on how hello Cluster Resource Manager evaluates constraints is available in [this article](service-fabric-cluster-resource-manager-management-integration.md#constraint-types), and [this one](service-fabric-cluster-resource-manager-balancing.md) talks more about how tooconfigure hello cadence on which these constraints are evaluated.</span></span>   


### <a name="partitioning-support"></a><span data-ttu-id="28d31-171">Bölümleme desteği</span><span class="sxs-lookup"><span data-stu-id="28d31-171">Partitioning support</span></span>
<span data-ttu-id="28d31-172">Merhaba son bir şey toonotice benzeşimi ile ilgili benzeşimi ilişkileri hello üst burada bölümlenmiş desteklenmeyen ' dir.</span><span class="sxs-lookup"><span data-stu-id="28d31-172">hello final thing toonotice about affinity is that affinity relationships aren’t supported where hello parent is partitioned.</span></span> <span data-ttu-id="28d31-173">Bölümlenmiş üst Hizmetleri sonunda desteklenmiyor olabilir, ancak bugün verilmez.</span><span class="sxs-lookup"><span data-stu-id="28d31-173">Partitioned parent services may be supported eventually, but today it is not allowed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="28d31-174">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="28d31-174">Next steps</span></span>
- <span data-ttu-id="28d31-175">Hizmetleri yapılandırma hakkında daha fazla bilgi için [hizmetleri yapılandırma hakkında bilgi edinin](service-fabric-cluster-resource-manager-configure-services.md)</span><span class="sxs-lookup"><span data-stu-id="28d31-175">For more information on configuring services, [Learn about configuring Services](service-fabric-cluster-resource-manager-configure-services.md)</span></span>
- <span data-ttu-id="28d31-176">toolimit Hizmetleri tooa küçük makineler kümesi veya toplama hello yük Hizmetleri, kullanım [uygulama grupları](service-fabric-cluster-resource-manager-application-groups.md)</span><span class="sxs-lookup"><span data-stu-id="28d31-176">toolimit services tooa small set of machines or aggregating hello load of services, use [Application Groups](service-fabric-cluster-resource-manager-application-groups.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-advanced-placement-rules-affinity/cluster-resrouce-manager-affinity-modes.png
[Image2]:./media/service-fabric-cluster-resource-manager-advanced-placement-rules-affinity/cluster-resource-manager-chains-vs-stars.png