---
title: "Merhaba Service Fabric kümesi Kaynak Yöneticisi'nde aaaThrottling | Microsoft Docs"
description: "Merhaba Service Fabric kümesi kaynak yöneticisi tarafından sağlanan tooconfigure hello kısıtlamaları öğrenin."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 4a44678b-a5aa-4d30-958f-dc4332ebfb63
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: f418536911d3e3814e78a4d9f057dfb867ca7c63
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="throttling-hello-service-fabric-cluster-resource-manager"></a><span data-ttu-id="d0097-103">Azaltma hello Service Fabric kümesi Kaynak Yöneticisi</span><span class="sxs-lookup"><span data-stu-id="d0097-103">Throttling hello Service Fabric Cluster Resource Manager</span></span>
<span data-ttu-id="d0097-104">Merhaba Küme Kaynak Yöneticisi'ni düzgün yapılandırdıktan olsa bile hello küme kesintiye.</span><span class="sxs-lookup"><span data-stu-id="d0097-104">Even if you’ve configured hello Cluster Resource Manager correctly, hello cluster can get disrupted.</span></span> <span data-ttu-id="d0097-105">Örneğin, yükseltme sırasında oluştu neler olacağını eşzamanlı düğüm ve hata etki alanı hataları - olabilir? Merhaba küme Resource Manager toofix tooreorganize ve düzeltme hello küme çalışarak hello küme kaynaklarını kullanan her şeyi her zaman çalışır.</span><span class="sxs-lookup"><span data-stu-id="d0097-105">For example, there could be simultaneous node and fault domain failures - what would happen if that occurred during an upgrade? hello Cluster Resource Manager always tries toofix everything, consuming hello cluster's resources trying tooreorganize and fix hello cluster.</span></span> <span data-ttu-id="d0097-106">Kısıtlamaları yardımcı bir backstop sağlamak hello küme kaynakları toostabilize kullanma - hello düğümleri gelen geri, böylece hello ağ bölümleri onarma, düzeltilmiş BITS dağıtılmış.</span><span class="sxs-lookup"><span data-stu-id="d0097-106">Throttles help provide a backstop so that hello cluster can use resources toostabilize - hello nodes come back, hello network partitions heal, corrected bits get deployed.</span></span>

<span data-ttu-id="d0097-107">toohelp durumlarda bu tür ile Merhaba Service Fabric kümesi Kaynak Yöneticisi birkaç kısıtlamaları içerir.</span><span class="sxs-lookup"><span data-stu-id="d0097-107">toohelp with these sorts of situations, hello Service Fabric Cluster Resource Manager includes several throttles.</span></span> <span data-ttu-id="d0097-108">Bu kısıtlamaları tüm oldukça büyük hammers ' dir.</span><span class="sxs-lookup"><span data-stu-id="d0097-108">These throttles are all fairly large hammers.</span></span> <span data-ttu-id="d0097-109">Genellikle, dikkatli planlama ve sınama yapılmadan değiştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="d0097-109">Generally they shouldn’t be changed without careful planning and testing.</span></span>

<span data-ttu-id="d0097-110">Merhaba küme kaynak yöneticisinin kısıtlamaları değiştirirseniz, tooyour beklenen gerçek yük ayarlamak.</span><span class="sxs-lookup"><span data-stu-id="d0097-110">If you change hello Cluster Resource Manager's throttles, you should tune them tooyour expected actual load.</span></span> <span data-ttu-id="d0097-111">Bazı durumlarda daha uzun toostabilize hello küme alır anlamına gelir olsa bile bazı kısıtlar yerinde toohave gereksinim belirleyebilir.</span><span class="sxs-lookup"><span data-stu-id="d0097-111">You may determine you need toohave some throttles in place, even if it means hello cluster takes longer toostabilize in some situations.</span></span> <span data-ttu-id="d0097-112">Test gerekli toodetermine hello doğru değerleri kısıtlamaları etmektir.</span><span class="sxs-lookup"><span data-stu-id="d0097-112">Testing is required toodetermine hello correct values for throttles.</span></span> <span data-ttu-id="d0097-113">Düşük yeterli tooactually önlemek çok fazla kaynak tüketimini ve kısıtlamaları makul bir sürede toobe yeterince tooallow hello küme toorespond toochanges gerekir.</span><span class="sxs-lookup"><span data-stu-id="d0097-113">Throttles need toobe high enough tooallow hello cluster toorespond toochanges in a reasonable amount of time, and low enough tooactually prevent too much resource consumption.</span></span> 

<span data-ttu-id="d0097-114">Müşteriler gördük hello zamanının çoğunu zaten bir kaynak kısıtlanmış ortamında olduğundan bırakıldı kısıtlamaları kullanın.</span><span class="sxs-lookup"><span data-stu-id="d0097-114">Most of hello time we’ve seen customers use throttles it has been because they were already in a resource constrained environment.</span></span> <span data-ttu-id="d0097-115">Bazı örnekler tek düğümler ya da çok sayıda durum bilgisi olan yinelemede mümkün toobuild olmayan diskleri için sınırlı ağ bant genişliği olacaktır toothroughput sınırlamaları nedeniyle paralel.</span><span class="sxs-lookup"><span data-stu-id="d0097-115">Some examples would be limited network bandwidth for individual nodes, or disks that aren't able toobuild many stateful replicas in parallel due toothroughput limitations.</span></span> <span data-ttu-id="d0097-116">Kısıtlamaları, işlemleri işlemleri toofail neden bu kaynakları doldurmaya veya yavaş.</span><span class="sxs-lookup"><span data-stu-id="d0097-116">Without throttles, operations could overwhelm these resources, causing operations toofail or be slow.</span></span> <span data-ttu-id="d0097-117">Bu gibi durumlarda müşteriler kısıtlamaları kullanılan ve kararlı bir duruma hello küme tooreach geçen süre miktarı hello genişletme biliyorduk.</span><span class="sxs-lookup"><span data-stu-id="d0097-117">In these situations customers used throttles and knew they were extending hello amount of time it would take hello cluster tooreach a stable state.</span></span> <span data-ttu-id="d0097-118">Müşterileri de bunlar kısıtlanan sırada düşük genel güvenilirlik çalışan sonlandırmak anladım.</span><span class="sxs-lookup"><span data-stu-id="d0097-118">Customers also understood they could end up running at lower overall reliability while they were throttled.</span></span>


## <a name="configuring-hello-throttles"></a><span data-ttu-id="d0097-119">Yapılandırma hello kısıtlar</span><span class="sxs-lookup"><span data-stu-id="d0097-119">Configuring hello throttles</span></span>

<span data-ttu-id="d0097-120">Service Fabric çoğaltma hareketleri hello sayısını azaltma için iki mekanizma vardır.</span><span class="sxs-lookup"><span data-stu-id="d0097-120">Service Fabric has two mechanisms for throttling hello number of replica movements.</span></span> <span data-ttu-id="d0097-121">Merhaba varsayılan Service Fabric 5.7 önce var olan bir mekanizma, bir izin verilen taşır mutlak sayı olarak azaltma temsil eder.</span><span class="sxs-lookup"><span data-stu-id="d0097-121">hello default mechanism that existed before Service Fabric 5.7 represents throttling as an absolute number of moves allowed.</span></span> <span data-ttu-id="d0097-122">Bu, tüm boyutları kümeleri için çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="d0097-122">This does not work for clusters of all sizes.</span></span> <span data-ttu-id="d0097-123">Özellikle büyük kümeleri hello varsayılan değer, daha küçük kümelerde hiçbir etkisi yaparken gerekli olduğunda bile Dengeleme aşağı önemli ölçüde yavaşlamasının çok küçük olabilir.</span><span class="sxs-lookup"><span data-stu-id="d0097-123">In particular, for large clusters hello default value can be too small, significantly slowing down balancing even when it is necessary, while having no effect in smaller clusters.</span></span> <span data-ttu-id="d0097-124">Bu önceki mekanizması yüzde tabanlı denetimi tarafından hangi hangi hizmetlerin hello sayısı dinamik kümeleriyle iyi ölçeklenir yerini yenisi aldı ve düğümler düzenli olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="d0097-124">This prior mechanism has been superseded by percentage-based throttling, which scales better with dynamic clusters in which hello number of services and nodes change regularly.</span></span>

<span data-ttu-id="d0097-125">Merhaba kısıtlamaları hello kümelerinde çoğaltmaları hello sayısı yüzdesi dayanır.</span><span class="sxs-lookup"><span data-stu-id="d0097-125">hello throttles are based on a percentage of hello number of replicas in hello clusters.</span></span> <span data-ttu-id="d0097-126">Temel Percetage kısıtlamaları ifade hello Kuralı etkinleştirmek: "hareket çoğaltmaları % 10'dan fazla 10 dakikalık bir zaman aralığı içinde", örneğin.</span><span class="sxs-lookup"><span data-stu-id="d0097-126">Percetage based throttles enable expressing hello rule: "do not move more than 10% of replicas in a 10 minute interval", for example.</span></span>

<span data-ttu-id="d0097-127">yüzde tabanlı azaltma için hello yapılandırma ayarları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="d0097-127">hello configuration settings for percentage-based throttling are:</span></span>

  - <span data-ttu-id="d0097-128">GlobalMovementThrottleThresholdPercentage - kümedeki herhangi bir zamanda izin hareketlerinin sayısı üst sınırı çoğaltmaları hello kümedeki toplam sayısı yüzdesi olarak ifade edilen.</span><span class="sxs-lookup"><span data-stu-id="d0097-128">GlobalMovementThrottleThresholdPercentage - Maximum number of movements allowed in cluster at any time, expressed as percentage of total number of replicas in hello cluster.</span></span> <span data-ttu-id="d0097-129">0 sınır gösterir.</span><span class="sxs-lookup"><span data-stu-id="d0097-129">0 indicates no limit.</span></span> <span data-ttu-id="d0097-130">Merhaba varsayılan değer 0'dır.</span><span class="sxs-lookup"><span data-stu-id="d0097-130">hello default value is 0.</span></span> <span data-ttu-id="d0097-131">Bu ayar ve GlobalMovementThrottleThreshold belirtilirse, ardından hello daha pasif sınırı kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d0097-131">If both this setting and GlobalMovementThrottleThreshold are specified, then hello more conservative limit is used.</span></span>
  - <span data-ttu-id="d0097-132">GlobalMovementThrottleThresholdPercentageForPlacement - çoğaltmaları hello kümedeki toplam sayısı yüzdesi olarak ifade edilen hello yerleştirme aşamasında, izin verilen hareketlerinin sayısı üst sınırı.</span><span class="sxs-lookup"><span data-stu-id="d0097-132">GlobalMovementThrottleThresholdPercentageForPlacement - Maximum number of movements allowed during hello placement phase, expressed as percentage of total number of replicas in hello cluster.</span></span> <span data-ttu-id="d0097-133">0 sınır gösterir.</span><span class="sxs-lookup"><span data-stu-id="d0097-133">0 indicates no limit.</span></span> <span data-ttu-id="d0097-134">Merhaba varsayılan değer 0'dır.</span><span class="sxs-lookup"><span data-stu-id="d0097-134">hello default value is 0.</span></span> <span data-ttu-id="d0097-135">Bu ayar ve GlobalMovementThrottleThresholdForPlacement belirtilirse, ardından hello daha pasif sınırı kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d0097-135">If both this setting and GlobalMovementThrottleThresholdForPlacement are specified, then hello more conservative limit is used.</span></span>
  - <span data-ttu-id="d0097-136">GlobalMovementThrottleThresholdPercentageForBalancing - aşaması, çoğaltmaları hello kümedeki toplam sayısı yüzdesi olarak ifade edilen Dengeleme hello sırasında izin verilen hareketlerinin sayısı üst sınırı.</span><span class="sxs-lookup"><span data-stu-id="d0097-136">GlobalMovementThrottleThresholdPercentageForBalancing - Maximum number of movements allowed during hello balancing phase, expressed as percentage of total number of replicas in hello cluster.</span></span> <span data-ttu-id="d0097-137">0 sınır gösterir.</span><span class="sxs-lookup"><span data-stu-id="d0097-137">0 indicates no limit.</span></span> <span data-ttu-id="d0097-138">Merhaba varsayılan değer 0'dır.</span><span class="sxs-lookup"><span data-stu-id="d0097-138">hello default value is 0.</span></span> <span data-ttu-id="d0097-139">Bu ayar ve GlobalMovementThrottleThresholdForBalancing belirtilirse, ardından hello daha pasif sınırı kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d0097-139">If both this setting and GlobalMovementThrottleThresholdForBalancing are specified, then hello more conservative limit is used.</span></span>

<span data-ttu-id="d0097-140">Merhaba azaltma yüzdesi belirtirken, %5 0,05 belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d0097-140">When specifying hello throttle percentage, you'd specify 5% as 0.05.</span></span> <span data-ttu-id="d0097-141">Bu kısıtlamaları yönetilen hello hello saniye cinsinden belirtilen GlobalMovementThrottleCountingInterval aralığıdır.</span><span class="sxs-lookup"><span data-stu-id="d0097-141">hello interval on which these throttles are governed is hello GlobalMovementThrottleCountingInterval, which is specified in seconds.</span></span>


``` xml
<Section Name="PlacementAndLoadBalancing">
     <Parameter Name="GlobalMovementThrottleThresholdPercentage" Value="0" />
     <Parameter Name="GlobalMovementThrottleThresholdPercentageForPlacement" Value="0" />
     <Parameter Name="GlobalMovementThrottleThresholdPercentageForBalancing" Value="0" />
     <Parameter Name="GlobalMovementThrottleCountingInterval" Value="600" />
</Section>
```

<span data-ttu-id="d0097-142">tek başına dağıtımlarında ClusterConfig.json ya da Azure için Template.json aracılığıyla kümeleri barındırılan:</span><span class="sxs-lookup"><span data-stu-id="d0097-142">via ClusterConfig.json for Standalone deployments or Template.json for Azure hosted clusters:</span></span>

```json
"fabricSettings": [
  {
    "name": "PlacementAndLoadBalancing",
    "parameters": [
      {
          "name": "GlobalMovementThrottleThresholdPercentage",
          "value": "0.0"
      },
      {
          "name": "GlobalMovementThrottleThresholdPercentageForPlacement",
          "value": "0.0"
      },
      {
          "name": "GlobalMovementThrottleThresholdPercentageForBalancing",
          "value": "0.0"
      },
      {
          "name": "GlobalMovementThrottleCountingInterval",
          "value": "600"
      }
    ]
  }
]
```

### <a name="default-count-based-throttles"></a><span data-ttu-id="d0097-143">Varsayılan dayalı sayısı kısıtlamaları</span><span class="sxs-lookup"><span data-stu-id="d0097-143">Default count based throttles</span></span>
<span data-ttu-id="d0097-144">Eski kümede vardır veya bu yapılandırmalar beri yükseltildi kümelerinde hala korur durumunda bu bilgiler sağlanır.</span><span class="sxs-lookup"><span data-stu-id="d0097-144">This information is provided in case you have older clusters or still retain these configurations in clusters that have since been upgraded.</span></span> <span data-ttu-id="d0097-145">Genel olarak, bunlar hello yüzde tabanlı kısıtlamaları ile yukarıdaki değiştirilir önerilir.</span><span class="sxs-lookup"><span data-stu-id="d0097-145">In general, it is recommended that these are replaced with hello percentage-based throttles above.</span></span> <span data-ttu-id="d0097-146">Yüzde tabanlı azaltma varsayılan olarak devre dışı bırakıldığından bu kısıtlamaları devre dışı ve hello kısıtlamaları yüzde tabanlı yerini kadar hello varsayılan kısıtlamaları bir küme için kalır.</span><span class="sxs-lookup"><span data-stu-id="d0097-146">Since percentage-based throttling is disabled by default, these throttles remain hello default throttles for a cluster until they are disabled and replaced with hello percentage-based throttles.</span></span> 

  - <span data-ttu-id="d0097-147">GlobalMovementThrottleThreshold – Bu ayar bazı zamanla hello hareketleri hello kümedeki toplam sayısını denetler.</span><span class="sxs-lookup"><span data-stu-id="d0097-147">GlobalMovementThrottleThreshold – this setting controls hello total number of movements in hello cluster over some time.</span></span> <span data-ttu-id="d0097-148">Merhaba süreyi saniye cinsinden hello GlobalMovementThrottleCountingInterval olarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="d0097-148">hello amount of time is specified in seconds as hello GlobalMovementThrottleCountingInterval.</span></span> <span data-ttu-id="d0097-149">Merhaba hello GlobalMovementThrottleThreshold için varsayılan değer 1000'dir ve hello varsayılan değer hello GlobalMovementThrottleCountingInterval için 600'dür.</span><span class="sxs-lookup"><span data-stu-id="d0097-149">hello default value for hello GlobalMovementThrottleThreshold is 1000 and hello default value for hello GlobalMovementThrottleCountingInterval is 600.</span></span>
  - <span data-ttu-id="d0097-150">MovementPerPartitionThrottleThreshold – Bu ayar bazı zaman içinde hello hareketleri herhangi bir hizmet bölümü için toplam sayısını denetler.</span><span class="sxs-lookup"><span data-stu-id="d0097-150">MovementPerPartitionThrottleThreshold – this setting controls hello total number of movements for any service partition over some time.</span></span> <span data-ttu-id="d0097-151">Merhaba süreyi saniye cinsinden hello MovementPerPartitionThrottleCountingInterval olarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="d0097-151">hello amount of time is specified in seconds as hello MovementPerPartitionThrottleCountingInterval.</span></span> <span data-ttu-id="d0097-152">Merhaba hello MovementPerPartitionThrottleThreshold için varsayılan değer 50'dir ve hello varsayılan değer hello MovementPerPartitionThrottleCountingInterval için 600'dür.</span><span class="sxs-lookup"><span data-stu-id="d0097-152">hello default value for hello MovementPerPartitionThrottleThreshold is 50 and hello default value for hello MovementPerPartitionThrottleCountingInterval is 600.</span></span>

<span data-ttu-id="d0097-153">Bu kısıtlamaları için başlangıç yapılandırmasını hello aynı yüzde tabanlı hello azaltma olarak desen izler.</span><span class="sxs-lookup"><span data-stu-id="d0097-153">hello configuration for these throttles follows hello same pattern as hello percentage-based throttling.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d0097-154">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="d0097-154">Next steps</span></span>
- <span data-ttu-id="d0097-155">toofind hello Küme Kaynak Yöneticisi yönetir ve dengeleyen hello kümedeki yük hakkında hello makalesine üzerinde kullanıma [Yük Dengeleme](service-fabric-cluster-resource-manager-balancing.md)</span><span class="sxs-lookup"><span data-stu-id="d0097-155">toofind out about how hello Cluster Resource Manager manages and balances load in hello cluster, check out hello article on [balancing load](service-fabric-cluster-resource-manager-balancing.md)</span></span>
- <span data-ttu-id="d0097-156">Merhaba küme Resource Manager hello küme açıklamak için birçok seçeneğiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="d0097-156">hello Cluster Resource Manager has many options for describing hello cluster.</span></span> <span data-ttu-id="d0097-157">toofind bunlarla ilgili daha fazla bilgi, bu makalede denetleyin [açıklayan bir Service Fabric kümesi](service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="d0097-157">toofind out more about them, check out this article on [describing a Service Fabric cluster](service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
