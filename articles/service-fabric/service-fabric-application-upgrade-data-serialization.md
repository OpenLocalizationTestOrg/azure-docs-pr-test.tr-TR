---
title: "Uygulama yükseltme: veri seri hale getirme | Microsoft Docs"
description: "Veri seri hale getirme ve uygulama yükseltmelerini nasıl etkilediği için en iyi uygulamalar."
services: service-fabric
documentationcenter: .net
author: vturecek
manager: timlt
editor: 
ms.assetid: a5f36366-a2ab-4ae3-bb08-bc2f9533bc5a
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/29/2017
ms.author: vturecek
ms.openlocfilehash: 1b65dfd3813423550631490640a81953864f58e3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="how-data-serialization-affects-an-application-upgrade"></a><span data-ttu-id="1f255-103">Veri seri hale getirme uygulama yükseltme nasıl etkiler</span><span class="sxs-lookup"><span data-stu-id="1f255-103">How data serialization affects an application upgrade</span></span>
<span data-ttu-id="1f255-104">İçinde bir [uygulama yükseltmesinde](service-fabric-application-upgrade.md), hello yükseltmedir uygulanan tooa alt düğümler, aynı anda bir yükseltme etki alanı.</span><span class="sxs-lookup"><span data-stu-id="1f255-104">In a [rolling application upgrade](service-fabric-application-upgrade.md), hello upgrade is applied tooa subset of nodes, one upgrade domain at a time.</span></span> <span data-ttu-id="1f255-105">Bu işlem sırasında bazı yükseltme etki alanları hello daha yeni sürümü, uygulamanızın üzerinde ve bazı yükseltme etki alanları, uygulamanızın hello eski sürümü.</span><span class="sxs-lookup"><span data-stu-id="1f255-105">During this process, some upgrade domains are on hello newer version of your application, and some upgrade domains are on hello older version of your application.</span></span> <span data-ttu-id="1f255-106">Merhaba piyasaya çıkma sırasında hello yeni sürümü, uygulamanızın mümkün tooread hello eski sürümü verilerinizi olmalıdır ve hello eski sürümü, uygulamanızın verilerinizin mümkün tooread hello yeni sürüm olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="1f255-106">During hello rollout, hello new version of your application must be able tooread hello old version of your data, and hello old version of your application must be able tooread hello new version of your data.</span></span> <span data-ttu-id="1f255-107">Merhaba veri biçimi ileriye ve geriye dönük uyumlu hello yükseltme değilse başarısız ya da kötüsü, veri kayıp bozuk veya.</span><span class="sxs-lookup"><span data-stu-id="1f255-107">If hello data format is not forward and backward compatible, hello upgrade may fail, or worse, data may be lost or corrupted.</span></span> <span data-ttu-id="1f255-108">Hangi veri biçimi oluşturduğunu ve verilerinizi ileriye ve geriye doğru olduğundan emin olmanın en iyi yöntemleri sunar bu makalede ele uyumlu.</span><span class="sxs-lookup"><span data-stu-id="1f255-108">This article discusses what constitutes your data format and offers best practices for ensuring that your data is forward and backward compatible.</span></span>

## <a name="what-makes-up-your-data-format"></a><span data-ttu-id="1f255-109">Veri biçiminiz ne yapar?</span><span class="sxs-lookup"><span data-stu-id="1f255-109">What makes up your data format?</span></span>
<span data-ttu-id="1f255-110">Azure Service Fabric içinde kalıcı ve çoğaltılan hello veriler, C# sınıflardan gelir.</span><span class="sxs-lookup"><span data-stu-id="1f255-110">In Azure Service Fabric, hello data that is persisted and replicated comes from your C# classes.</span></span> <span data-ttu-id="1f255-111">Kullanan uygulamalar için [güvenilir koleksiyonları](service-fabric-reliable-services-reliable-collections.md), hello güvenilir sözlükler ve Kuyruklar hello nesneleri verilerdir.</span><span class="sxs-lookup"><span data-stu-id="1f255-111">For applications that use [Reliable Collections](service-fabric-reliable-services-reliable-collections.md), that data is hello objects in hello reliable dictionaries and queues.</span></span> <span data-ttu-id="1f255-112">Kullanan uygulamalar için [Reliable Actors](service-fabric-reliable-actors-introduction.md), yani hello aktör durumunu yedekleme hello.</span><span class="sxs-lookup"><span data-stu-id="1f255-112">For applications that use [Reliable Actors](service-fabric-reliable-actors-introduction.md), that is hello backing state for hello actor.</span></span> <span data-ttu-id="1f255-113">Bu C# sınıfları seri hale getirilebilir toobe kalıcı ve çoğaltılır.</span><span class="sxs-lookup"><span data-stu-id="1f255-113">These C# classes must be serializable toobe persisted and replicated.</span></span> <span data-ttu-id="1f255-114">Bu nedenle, hello veri biçimi hello alanlar ve bunlar serileştirilir nasıl, de serileştirilir özellikleri tarafından tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="1f255-114">Therefore, hello data format is defined by hello fields and properties that are serialized, as well as how they are serialized.</span></span> <span data-ttu-id="1f255-115">Örneğin, bir `IReliableDictionary<int, MyClass>` hello verilerdir seri hale getirilmiş bir `int` ve seri hale getirilmiş bir `MyClass`.</span><span class="sxs-lookup"><span data-stu-id="1f255-115">For example, in an `IReliableDictionary<int, MyClass>` hello data is a serialized `int` and a serialized `MyClass`.</span></span>

### <a name="code-changes-that-result-in-a-data-format-change"></a><span data-ttu-id="1f255-116">Veri biçimi değişiklik sonucunda ortaya çıkan kod değişiklikleri</span><span class="sxs-lookup"><span data-stu-id="1f255-116">Code changes that result in a data format change</span></span>
<span data-ttu-id="1f255-117">Merhaba veri biçimi C# sınıfları tarafından belirlenir. bu yana değişiklikler toohello sınıfları bir veri biçimi değişmesine neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="1f255-117">Since hello data format is determined by C# classes, changes toohello classes may cause a data format change.</span></span> <span data-ttu-id="1f255-118">Sıralı yükseltmeye işleyebilir tooensure Bakımı alınan hello veri değişikliği biçimi.</span><span class="sxs-lookup"><span data-stu-id="1f255-118">Care must be taken tooensure that a rolling upgrade can handle hello data format change.</span></span> <span data-ttu-id="1f255-119">Veri biçimi değişiklik neden olabilir Örnekler:</span><span class="sxs-lookup"><span data-stu-id="1f255-119">Examples that may cause data format changes:</span></span>

* <span data-ttu-id="1f255-120">Ekleyerek veya kaldırarak alanları veya özellikleri</span><span class="sxs-lookup"><span data-stu-id="1f255-120">Adding or removing fields or properties</span></span>
* <span data-ttu-id="1f255-121">Alanlar ve Özellikler yeniden adlandırma</span><span class="sxs-lookup"><span data-stu-id="1f255-121">Renaming fields or properties</span></span>
* <span data-ttu-id="1f255-122">Merhaba türlerini alanların veya özelliklerini değiştirme</span><span class="sxs-lookup"><span data-stu-id="1f255-122">Changing hello types of fields or properties</span></span>
* <span data-ttu-id="1f255-123">Merhaba sınıf adı veya ad alanı değiştirme</span><span class="sxs-lookup"><span data-stu-id="1f255-123">Changing hello class name or namespace</span></span>

### <a name="data-contract-as-hello-default-serializer"></a><span data-ttu-id="1f255-124">Varsayılan serileştirici hello gibi veri sözleşmesi</span><span class="sxs-lookup"><span data-stu-id="1f255-124">Data Contract as hello default serializer</span></span>
<span data-ttu-id="1f255-125">Merhaba veri eski bir olsa bile Hello seri hale getirici hello veri okumak ve hello geçerli sürüme seri durumdan çıkarmak için genellikle sorumlu veya *yeni* sürümü.</span><span class="sxs-lookup"><span data-stu-id="1f255-125">hello serializer is generally responsible for reading hello data and deserializing it into hello current version, even if hello data is in an older or *newer* version.</span></span> <span data-ttu-id="1f255-126">Merhaba varsayılan serileştirici olduğu hello [veri sözleşmesi seri hale getirici](https://msdn.microsoft.com/library/ms733127.aspx), iyi tanımlanmış sürüm kuralları vardır.</span><span class="sxs-lookup"><span data-stu-id="1f255-126">hello default serializer is hello [Data Contract serializer](https://msdn.microsoft.com/library/ms733127.aspx), which has well-defined versioning rules.</span></span> <span data-ttu-id="1f255-127">Güvenilir koleksiyonları geçersiz kılınmış hello seri hale getirici toobe izin ver, ancak Reliable Actors şu anda yapın.</span><span class="sxs-lookup"><span data-stu-id="1f255-127">Reliable Collections allow hello serializer toobe overridden, but Reliable Actors currently do not.</span></span> <span data-ttu-id="1f255-128">Merhaba veri serileştirici yükseltmeyi etkinleştirme önemli bir rol oynar.</span><span class="sxs-lookup"><span data-stu-id="1f255-128">hello data serializer plays an important role in enabling rolling upgrades.</span></span> <span data-ttu-id="1f255-129">Merhaba veri sözleşmesi seri hale getirici için Service Fabric uygulamaları öneririz hello seri hale getirici ' dir.</span><span class="sxs-lookup"><span data-stu-id="1f255-129">hello Data Contract serializer is hello serializer that we recommend for Service Fabric applications.</span></span>

## <a name="how-hello-data-format-affects-a-rolling-upgrade"></a><span data-ttu-id="1f255-130">Merhaba veri biçimi çalışırken yükseltme nasıl etkiler</span><span class="sxs-lookup"><span data-stu-id="1f255-130">How hello data format affects a rolling upgrade</span></span>
<span data-ttu-id="1f255-131">Çalışırken yükseltme sırasında burada hello seri hale getirici karşılaşabilir eski bir iki ana senaryo vardır veya *yeni* verilerinizin sürümü:</span><span class="sxs-lookup"><span data-stu-id="1f255-131">During a rolling upgrade, there are two main scenarios where hello serializer may encounter an older or *newer* version of your data:</span></span>

1. <span data-ttu-id="1f255-132">Bir düğüm yükseltilir ve yedekleme başladıktan sonra yeni seri hale getirici hello hello eski sürümü tarafından kalıcı toodisk edildi hello veri yükler.</span><span class="sxs-lookup"><span data-stu-id="1f255-132">After a node is upgraded and starts back up, hello new serializer will load hello data that was persisted toodisk by hello old version.</span></span>
2. <span data-ttu-id="1f255-133">Hello çalışırken yükseltme sırasında hello küme hello eski ve yeni sürümler, kodunuzun bir karışımını içerir.</span><span class="sxs-lookup"><span data-stu-id="1f255-133">During hello rolling upgrade, hello cluster will contain a mix of hello old and new versions of your code.</span></span> <span data-ttu-id="1f255-134">Çoğaltmaları farklı yükseltme etki alanlarında yerleştirilebilir ve çoğaltmaları veri tooeach diğer hello yeni ve/veya eski Gönder verilerinizin sürümü hello yeni ve/veya eski sürümü, seri hale getirici tarafından karşılaşılabilir.</span><span class="sxs-lookup"><span data-stu-id="1f255-134">Since replicas may be placed in different upgrade domains, and replicas send data tooeach other, hello new and/or old version of your data may be encountered by hello new and/or old version of your serializer.</span></span>

> [!NOTE]
> <span data-ttu-id="1f255-135">"yeni sürümü" ve "eski sürümü" Merhaba toohello sürümünü çalıştıran kodunuzu buraya bakın.</span><span class="sxs-lookup"><span data-stu-id="1f255-135">hello "new version" and "old version" here refer toohello version of your code that is running.</span></span> <span data-ttu-id="1f255-136">Merhaba "Yeni seri hale getirici" Merhaba yeni sürümde, uygulamanızın yürütüyor toohello seri hale getirici kodu gösterir.</span><span class="sxs-lookup"><span data-stu-id="1f255-136">hello "new serializer" refers toohello serializer code that is executing in hello new version of your application.</span></span> <span data-ttu-id="1f255-137">Hello "yeni veri" Merhaba yeni uygulamanızı sürümünden serileştirilmiş toohello C# sınıfı gösterir.</span><span class="sxs-lookup"><span data-stu-id="1f255-137">hello "new data" refers toohello serialized C# class from hello new version of your application.</span></span>
> 
> 

<span data-ttu-id="1f255-138">kod iki sürümü hello ve veri biçimi ileriye ve geriye doğru olmalıdır uyumlu.</span><span class="sxs-lookup"><span data-stu-id="1f255-138">hello two versions of code and data format must be both forward and backward compatible.</span></span> <span data-ttu-id="1f255-139">Uyumlu değillerse, yükseltmesinde hello başarısız olabilir veya veri kaybı olabilir.</span><span class="sxs-lookup"><span data-stu-id="1f255-139">If they are not compatible, hello rolling upgrade may fail or data may be lost.</span></span> <span data-ttu-id="1f255-140">Merhaba karşılaştığında hello kodu veya seri hale getirici özel durumları veya bir hata başka bir sürüm atabilir çünkü yükseltmesinde hello başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="1f255-140">hello rolling upgrade may fail because hello code or serializer may throw exceptions or a fault when it encounters hello other version.</span></span> <span data-ttu-id="1f255-141">Örneğin, yeni bir özellik eklendi ancak isteğe bağlı olarak hello eski seri hale getirici seri durumdan çıkarma sırasında atar, veriler kaybolabilir.</span><span class="sxs-lookup"><span data-stu-id="1f255-141">Data may be lost if, for example, a new property was added but hello old serializer discards it during deserialization.</span></span>

<span data-ttu-id="1f255-142">Veri sözleşmesi verilerinizi uyumlu olmasını sağlamaya yönelik çözüm önerilen hello değil.</span><span class="sxs-lookup"><span data-stu-id="1f255-142">Data Contract is hello recommended solution for ensuring that your data is compatible.</span></span> <span data-ttu-id="1f255-143">Ekleme, kaldırma ve alanları değiştirme için iyi tanımlanmış sürüm kuralları vardır.</span><span class="sxs-lookup"><span data-stu-id="1f255-143">It has well-defined versioning rules for adding, removing, and changing fields.</span></span> <span data-ttu-id="1f255-144">Ayrıca, bilinmeyen alanlarla ilgilenme hello seri hale getirme ve seri durumdan çıkarma işlemi takma ve sınıf devralma ile ilgili destek içerir.</span><span class="sxs-lookup"><span data-stu-id="1f255-144">It also has support for dealing with unknown fields, hooking into hello serialization and deserialization process, and dealing with class inheritance.</span></span> <span data-ttu-id="1f255-145">Daha fazla bilgi için bkz: [kullanarak veri sözleşmesi](https://msdn.microsoft.com/library/ms733127.aspx).</span><span class="sxs-lookup"><span data-stu-id="1f255-145">For more information, see [Using Data Contract](https://msdn.microsoft.com/library/ms733127.aspx).</span></span>

## <a name="next-steps"></a><span data-ttu-id="1f255-146">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="1f255-146">Next steps</span></span>
<span data-ttu-id="1f255-147">[Uygulama kullanarak Visual Studio yükseltme](service-fabric-application-upgrade-tutorial.md) Visual Studio kullanarak bir uygulama yükseltme yol gösterir.</span><span class="sxs-lookup"><span data-stu-id="1f255-147">[Upgrading your Application Using Visual Studio](service-fabric-application-upgrade-tutorial.md) walks you through an application upgrade using Visual Studio.</span></span>

<span data-ttu-id="1f255-148">[Uygulama Powershell kullanarak yükseltme](service-fabric-application-upgrade-tutorial-powershell.md) PowerShell kullanarak bir uygulama yükseltme yol gösterir.</span><span class="sxs-lookup"><span data-stu-id="1f255-148">[Upgrading your Application Using Powershell](service-fabric-application-upgrade-tutorial-powershell.md) walks you through an application upgrade using PowerShell.</span></span>

<span data-ttu-id="1f255-149">Uygulamanızı kullanarak yükseltme nasıl kontrol [yükseltme parametreleri](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="1f255-149">Control how your application upgrades by using [Upgrade Parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="1f255-150">Uygulamanız çok başvurarak yükseltirken toouse işlevselliği nasıl Gelişmiş öğrenin[Gelişmiş konular](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="1f255-150">Learn how toouse advanced functionality while upgrading your application by referring too[Advanced Topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="1f255-151">Toohello adımlarda başvurarak uygulama yükseltmeleri sık karşılaşılan sorunları düzeltmek [sorun giderme uygulama yükseltmelerini ](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="1f255-151">Fix common problems in application upgrades by referring toohello steps in [Troubleshooting Application Upgrades ](service-fabric-application-upgrade-troubleshooting.md).</span></span>

