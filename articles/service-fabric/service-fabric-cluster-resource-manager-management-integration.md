---
title: "aaaService doku Küme Kaynak Yöneticisi - Yönetim tümleştirme | Microsoft Docs"
description: "Merhaba tümleştirme noktaları hello Küme Kaynak Yöneticisi ve hizmet doku Yönetimi arasında genel bakış."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 956cd0b8-b6e3-4436-a224-8766320e8cd7
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9a24c9de121fbe2e8e5e8e4d117e64686918936a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-integration-with-service-fabric-cluster-management"></a><span data-ttu-id="8b1c3-103">Service Fabric kümesi yönetimi ile Küme Kaynak Yöneticisi tümleştirme</span><span class="sxs-lookup"><span data-stu-id="8b1c3-103">Cluster resource manager integration with Service Fabric cluster management</span></span>
<span data-ttu-id="8b1c3-104">Service Fabric yükseltme Hello Service Fabric kümesi Kaynak Yöneticisi sürücü değil, ancak söz konusu.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-104">hello Service Fabric Cluster Resource Manager doesn't drive upgrades in Service Fabric, but it is involved.</span></span> <span data-ttu-id="8b1c3-105">Merhaba hello Küme Kaynak Yöneticisi yardımcı yönetimi ile izleme hello tarafından ilk şekilde hello küme ve onun içindeki hello Hizmetleri durumunu istenen.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-105">hello first way that hello Cluster Resource Manager helps with management is by tracking hello desired state of hello cluster and hello services inside it.</span></span> <span data-ttu-id="8b1c3-106">Bunu hello küme hello istenen yapılandırma yerleştirin zaman hello küme Resource Manager sistem durumu raporlarını gönderir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-106">hello Cluster Resource Manager sends out health reports when it cannot put hello cluster into hello desired configuration.</span></span> <span data-ttu-id="8b1c3-107">Örneğin, varsa yeterli kapasitesi hello küme Resource Manager sistem durumu uyarıları ve hataları hello sorunu belirten gönderir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-107">For example, if there is insufficient capacity hello Cluster Resource Manager sends out health warnings and errors indicating hello problem.</span></span> <span data-ttu-id="8b1c3-108">Başka bir parçasını tümleştirme yükseltme nasıl çalışır ile toodo sahiptir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-108">Another piece of integration has toodo with how upgrades work.</span></span> <span data-ttu-id="8b1c3-109">Merhaba küme Resource Manager davranışını biraz yükseltmeler sırasında değiştirir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-109">hello Cluster Resource Manager alters its behavior slightly during upgrades.</span></span>  

## <a name="health-integration"></a><span data-ttu-id="8b1c3-110">Sistem durumu tümleştirme</span><span class="sxs-lookup"><span data-stu-id="8b1c3-110">Health integration</span></span>
<span data-ttu-id="8b1c3-111">Merhaba küme Resource Manager hizmetlerinizi yerleştirmek için tanımladığınız hello kuralları sürekli olarak izler.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-111">hello Cluster Resource Manager constantly tracks hello rules you have defined for placing your services.</span></span> <span data-ttu-id="8b1c3-112">Ayrıca, bir bütün olarak hello düğümlerinde ve hello kümedeki ve hello kümedeki her ölçümü için kapasite kalan hello izler.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-112">It also tracks hello remaining capacity for each metric on hello nodes and in hello cluster and in hello cluster as a whole.</span></span> <span data-ttu-id="8b1c3-113">Bu kurallar gerçekleştiremiyor veya yeterli kapasitesi varsa, sistem durumu uyarıları ve hataları gösterilen.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-113">If it can't satisfy those rules or if there is insufficient capacity, health warnings and errors are emitted.</span></span> <span data-ttu-id="8b1c3-114">Örneğin, bir düğüm kapasitesi ve hello ise küme kaynak yöneticisi hizmetleri taşıyarak toofix hello durum çalışacaktır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-114">For example, if a node is over capacity and hello Cluster Resource Manager will try toofix hello situation by moving services.</span></span> <span data-ttu-id="8b1c3-115">Merhaba durum düzeltemezsiniz, hangi düğümün hangi ölçümleri ve kapasite üzerinden olduğunu belirten bir sistem durumu uyarısı yayar.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-115">If it can't correct hello situation it emits a health warning indicating which node is over capacity, and for which metrics.</span></span>

<span data-ttu-id="8b1c3-116">Başka bir hello Resource Manager'ın sistem durumu uyarıları kısıtlamalarından ihlalleri örnektir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-116">Another example of hello Resource Manager's health warnings is violations of placement constraints.</span></span> <span data-ttu-id="8b1c3-117">Örneğin, bir yerleştirme kısıtlaması tanımladıysanız (gibi `“NodeColor == Blue”`) ve hello Resource Manager kısıtlamayı ihlal algılarsa, sistem durumu uyarısı yayar.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-117">For example, if you have defined a placement constraint (such as `“NodeColor == Blue”`) and hello Resource Manager detects a violation of that constraint, it emits a health warning.</span></span> <span data-ttu-id="8b1c3-118">Bu, özel kısıtlamalar ve hello varsayılan kısıtlamalar (gibi hello hata etki alanı ve yükseltme etki alanı kısıtlamaları) için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-118">This is true for custom constraints and hello default constraints (like hello Fault Domain and Upgrade Domain constraints).</span></span>

<span data-ttu-id="8b1c3-119">Böyle bir durum raporu bir örneği burada verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-119">Here’s an example of one such health report.</span></span> <span data-ttu-id="8b1c3-120">Bu durumda, hello sistem durumu raporu hello sistem hizmetin bölümleri için biridir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-120">In this case, hello health report is for one of hello system service’s partitions.</span></span> <span data-ttu-id="8b1c3-121">Bu bölüm kopyalarını geçici olarak çok az yükseltme etki alanlarına paketlenmiş hello Hello sistem durumu ileti gösterir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-121">hello health message indicates hello replicas of that partition are temporarily packed into too few Upgrade Domains.</span></span>

```posh
PS C:\Users\User > Get-WindowsFabricPartitionHealth -PartitionId '00000000-0000-0000-0000-000000000001'


PartitionId           : 00000000-0000-0000-0000-000000000001
AggregatedHealthState : Warning
UnhealthyEvaluations  :
                        Unhealthy event: SourceId='System.PLB', Property='ReplicaConstraintViolation_UpgradeDomain', HealthState='Warning', ConsiderWarningAsError=false.

ReplicaHealthStates   :
                        ReplicaId             : 130766528804733380
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577821
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528854889931
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577822
                        AggregatedHealthState : Ok

                        ReplicaId             : 130837073190680024
                        AggregatedHealthState : Ok

HealthEvents          :
                        SourceId              : System.PLB
                        Property              : ReplicaConstraintViolation_UpgradeDomain
                        HealthState           : Warning
                        SequenceNumber        : 130837100116930204
                        SentAt                : 8/10/2015 7:53:31 PM
                        ReceivedAt            : 8/10/2015 7:53:33 PM
                        TTL                   : 00:01:05
                        Description           : hello Load Balancer has detected a Constraint Violation for this Replica: fabric:/System/FailoverManagerService Secondary Partition 00000000-0000-0000-0000-000000000001 is
                        violating hello Constraint: UpgradeDomain Details: UpgradeDomain ID -- 4, Replica on NodeName -- Node.8 Currently Upgrading -- false Distribution Policy -- Packing
                        RemoveWhenExpired     : True
                        IsExpired             : False
                        Transitions           : Ok->Warning = 8/10/2015 7:13:02 PM, LastError = 1/1/0001 12:00:00 AM
```

<span data-ttu-id="8b1c3-122">İşte ne bu sistem durumu ileti bize olduğunu bildiriyor:</span><span class="sxs-lookup"><span data-stu-id="8b1c3-122">Here's what this health message is telling us is:</span></span>

1. <span data-ttu-id="8b1c3-123">Tüm hello çoğaltmaları kendilerini sağlıklı: her AggregatedHealthState vardır: Tamam</span><span class="sxs-lookup"><span data-stu-id="8b1c3-123">All hello replicas themselves are healthy: Each has AggregatedHealthState : Ok</span></span>
2. <span data-ttu-id="8b1c3-124">Merhaba yükseltme etki alanı dağıtım kısıtlaması şu anda ihlal.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-124">hello Upgrade Domain distribution constraint is currently being violated.</span></span> <span data-ttu-id="8b1c3-125">Bu, belirli bir yükseltme etki alanı bu bölümü gerekenden daha fazla çoğaltmalardan olduğu anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-125">This means a particular Upgrade Domain has more replicas from this partition than it should.</span></span>
3. <span data-ttu-id="8b1c3-126">Hangi düğümün hello çoğaltma neden hello ihlali içerir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-126">Which node contains hello replica causing hello violation.</span></span> <span data-ttu-id="8b1c3-127">Bu durumda hello adı "Node.8" Merhaba düğümle olur</span><span class="sxs-lookup"><span data-stu-id="8b1c3-127">In this case it's hello node with hello name "Node.8"</span></span>
4. <span data-ttu-id="8b1c3-128">Bu bölüm için ("şu anda yükseltme--false") olup olmadığını yükseltme şu anda gerçekleştiriliyor</span><span class="sxs-lookup"><span data-stu-id="8b1c3-128">Whether an upgrade is currently happening for this partition ("Currently Upgrading -- false")</span></span>
5. <span data-ttu-id="8b1c3-129">Bu hizmet için dağıtım ilkesi Hello: "Dağıtım ilkesi--paketleme".</span><span class="sxs-lookup"><span data-stu-id="8b1c3-129">hello distribution policy for this service: "Distribution Policy -- Packing".</span></span> <span data-ttu-id="8b1c3-130">Bu hello tarafından yönetilir `RequireDomainDistribution` [yerleştirme İlkesi](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="8b1c3-130">This is governed by hello `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="8b1c3-131">"Sevk" gösterir, bu durumda DomainDistribution olduğunu _değil_ yerleştirme İlkesi bu hizmet için belirtilmedi biliyoruz şekilde, gerekli.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-131">"Packing" indicates that in this case DomainDistribution was _not_ required, so we know that placement policy was not specified for this service.</span></span> 
6. <span data-ttu-id="8b1c3-132">Ne zaman hello rapor oldu - 8/10/2015 19:13:02: 00</span><span class="sxs-lookup"><span data-stu-id="8b1c3-132">When hello report happened - 8/10/2015 7:13:02 PM</span></span>

<span data-ttu-id="8b1c3-133">Bilgiler bir şeyler yanlış geçti ve ayrıca bildiğiniz üretim toolet yangın toodetect kullanılan bu powers uyarıları ister ve hatalı yükseltmeler durdur.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-133">Information like this powers alerts that fire in production toolet you know something has gone wrong and is also used toodetect and halt bad upgrades.</span></span> <span data-ttu-id="8b1c3-134">Bu durumda, biz hello Resource Manager toopack hello çoğaltmaları hello yükseltme etki alanı içine neden olan çıkışı şekil, biz toosee istersiniz.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-134">In this case, we’d want toosee if we can figure out why hello Resource Manager had toopack hello replicas into hello Upgrade Domain.</span></span> <span data-ttu-id="8b1c3-135">Merhaba Hello düğümler diğer yükseltme etki alanları aşağı, örneğin olduğundan genellikle sevk geçicidir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-135">Usually packing is transient because hello nodes in hello other Upgrade Domains were down, for example.</span></span>

<span data-ttu-id="8b1c3-136">Diyelim ki hello küme Resource Manager tooplace bazı hizmetler çalışıyor, ancak iş çözümleri yok.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-136">Let’s say hello Cluster Resource Manager is trying tooplace some services, but there aren't any solutions that work.</span></span> <span data-ttu-id="8b1c3-137">Hizmetleri yerleştirilemez genellikle hello aşağıdaki nedenlerden birinden dolayı olur:</span><span class="sxs-lookup"><span data-stu-id="8b1c3-137">When services can't be placed, it is usually for one of hello following reasons:</span></span>

1. <span data-ttu-id="8b1c3-138">Bazı geçici koşul imkansız tooplace yaptı bu hizmet örneği veya çoğaltma doğru</span><span class="sxs-lookup"><span data-stu-id="8b1c3-138">Some transient condition has made it impossible tooplace this service instance or replica correctly</span></span>
2. <span data-ttu-id="8b1c3-139">Merhaba hizmetin yerleştirme unsatisfiable gereksinimleridir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-139">hello service’s placement requirements are unsatisfiable.</span></span>

<span data-ttu-id="8b1c3-140">Bu durumlarda, hello küme Resource Manager sistem durumu raporlarını hello hizmeti neden yerleştirilemez belirlemenize yardımcı.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-140">In these cases, health reports from hello Cluster Resource Manager help you determine why hello service can’t be placed.</span></span> <span data-ttu-id="8b1c3-141">Bu işlem hello kısıtlaması eleme sırası diyoruz.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-141">We call this process hello constraint elimination sequence.</span></span> <span data-ttu-id="8b1c3-142">Bunu sırasında hello sistem ne ortadan hello hizmeti ve kayıtları etkileyen yapılandırılmış hello kısıtlamaları anlatılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-142">During it, hello system walks through hello configured constraints affecting hello service and records what they eliminate.</span></span> <span data-ttu-id="8b1c3-143">Hizmetleri konumdaki mümkün toobe değil, bu şekilde, hangi düğümlerin ortadan görebilirsiniz ve neden.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-143">This way when services aren’t able toobe placed, you can see which nodes were eliminated and why.</span></span>

## <a name="constraint-types"></a><span data-ttu-id="8b1c3-144">Kısıtlama türleri</span><span class="sxs-lookup"><span data-stu-id="8b1c3-144">Constraint types</span></span>
<span data-ttu-id="8b1c3-145">Her bir hello farklı kısıtlamalar bu sistem durumu raporları hakkında şimdi konuşun.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-145">Let’s talk about each of hello different constraints in these health reports.</span></span> <span data-ttu-id="8b1c3-146">Çoğaltmaları yerleştirildiğinde, sistem durumu iletileri ilgili toothese kısıtlamaları görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-146">You will see health messages related toothese constraints when replicas can't be placed.</span></span>

* <span data-ttu-id="8b1c3-147">**ReplicaExclusionStatic** ve **ReplicaExclusionDynamic**: Bu kısıtlamaların gösteren bir çözüm toobe yerleştirilen hello üzerinde aynı aynı bölüm iki hizmet nesnelerden hello nedeniyle reddedildi düğümü.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-147">**ReplicaExclusionStatic** and **ReplicaExclusionDynamic**: These constraints indicates that a solution was rejected because two service objects from hello same partition would have toobe placed on hello same node.</span></span> <span data-ttu-id="8b1c3-148">Daha sonra bu düğümü aşırı o bölümün etkileyebilecek bu için izin verilmiyor.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-148">This isn’t allowed because then failure of that node would overly impact that partition.</span></span> <span data-ttu-id="8b1c3-149">ReplicaExclusionStatic ve ReplicaExclusionDynamic neredeyse aynı kural ve hello farklar gerçekten önemi yoktur hello markalarıdır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-149">ReplicaExclusionStatic and ReplicaExclusionDynamic are almost hello same rule and hello differences don't really matter.</span></span> <span data-ttu-id="8b1c3-150">Yeterli düğüm değil ya da hello ReplicaExclusionStatic veya ReplicaExclusionDynamic kısıtlaması, hello Küme Kaynak Yöneticisi'ni içeren bir kısıtlama eleme sırası düşündüğü görüyorsanız.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-150">If you are seeing a constraint elimination sequence containing either hello ReplicaExclusionStatic or ReplicaExclusionDynamic constraint, hello Cluster Resource Manager thinks that there aren’t enough nodes.</span></span> <span data-ttu-id="8b1c3-151">Bu çözümleri toouse izin verilmiyor bu geçersiz yerleşimi kalan gerektirir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-151">This requires remaining solutions toouse these invalid placements which are disallowed.</span></span> <span data-ttu-id="8b1c3-152">Hello hello dizisindeki diğer kısıtlamaları genellikle neden düğümleri hello ilk yerinde ortadan bize.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-152">hello other constraints in hello sequence will usually tell us why nodes are being eliminated in hello first place.</span></span>
* <span data-ttu-id="8b1c3-153">**PlacementConstraint**: Bu iletiyi görürseniz, bu hello hizmetin kısıtlamalarından eşleşmedi çünkü biz bazı düğümler ortadan anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-153">**PlacementConstraint**: If you see this message, it means that we eliminated some nodes because they didn’t match hello service’s placement constraints.</span></span> <span data-ttu-id="8b1c3-154">Biz bu iletiyi bir parçası olarak yapılandırılmış hello kısıtlamalarından izleme.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-154">We trace out hello currently configured placement constraints as a part of this message.</span></span> <span data-ttu-id="8b1c3-155">Tanımlanan bir yerleştirme kısıtlaması varsa, bu normaldir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-155">This is normal if you have a placement constraint defined.</span></span> <span data-ttu-id="8b1c3-156">Ancak, yerleştirme kısıtlaması ortadan çok fazla düğüm toobe yanlış neden olup olmadığını nasıl fark etmesi budur.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-156">However, if placement constraint is incorrectly causing too many nodes toobe eliminated this is how you would notice.</span></span>
* <span data-ttu-id="8b1c3-157">**NodeCapacity**: Bu kısıtlamayı küme Resource Manager uygulanamadı yerleştireceğinize hello çoğaltmaları bu hello anlamına gelir, bunları kapasite aşımı taşmasına neden olabileceğinden hello belirtilen düğümleri.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-157">**NodeCapacity**: This constraint means that hello Cluster Resource Manager couldn’t place hello replicas on hello indicated nodes because that would put them over capacity.</span></span>
* <span data-ttu-id="8b1c3-158">**Benzeşim**: hello benzeşim kısıtlaması ihlali neden olacağından bu yana biz hello çoğaltma etkilenen hello düğümlerinde yerleştirmenizi uygulanamadı bu kısıtlamayı belirtir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-158">**Affinity**: This constraint indicates that we couldn’t place hello replica on hello affected nodes since it would cause a violation of hello affinity constraint.</span></span> <span data-ttu-id="8b1c3-159">Benzeşimi hakkında daha fazla bilgi yer [bu makalede](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span><span class="sxs-lookup"><span data-stu-id="8b1c3-159">More information on affinity is in [this article](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span></span>
* <span data-ttu-id="8b1c3-160">**FaultDomain** ve **UpgradeDomain**: hello yerleştirme hello kopyada düğümleri neden bir belirli hatası veya yükseltme etki alanında sevk belirtilmişse bu kısıtlamayı düğümleri ortadan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-160">**FaultDomain** and **UpgradeDomain**: This constraint eliminates nodes if placing hello replica on hello indicated nodes would cause packing in a particular fault or upgrade domain.</span></span> <span data-ttu-id="8b1c3-161">Merhaba konudaki sunulur bu kısıtlamayı ele çeşitli örnekler [hata ve yükseltme etki alanı kısıtlamaları ve bunun sonucunda oluşan davranışı](service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="8b1c3-161">Several examples discussing this constraint are presented in hello topic on [fault and upgrade domain constraints and resulting behavior](service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
* <span data-ttu-id="8b1c3-162">**PreferredLocation**: varsayılan olarak bir iyileştirme çalışır olduğundan düğüm hello çözümden kaldırmak bu kısıtlamayı normalde görmemesi.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-162">**PreferredLocation**: You shouldn’t normally see this constraint removing nodes from hello solution since it runs as an optimization by default.</span></span> <span data-ttu-id="8b1c3-163">Merhaba tercih edilen konum kısıtlaması yükseltmeler sırasında mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-163">hello preferred location constraint is also present during upgrades.</span></span> <span data-ttu-id="8b1c3-164">Yükseltme sırasında kullanılan toomove Hizmetleri arka toowhere hello yükseltme başlatıldığında oldukları değil.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-164">During upgrade it is used toomove services back toowhere they were when hello upgrade started.</span></span>

## <a name="blocklisting-nodes"></a><span data-ttu-id="8b1c3-165">Blocklisting düğümler</span><span class="sxs-lookup"><span data-stu-id="8b1c3-165">Blocklisting Nodes</span></span>
<span data-ttu-id="8b1c3-166">Başka bir sistem durumu ileti hello küme Resource Manager raporlar düğümleri blocklisted olduğunda değildir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-166">Another health message hello Cluster Resource Manager reports is when nodes are blocklisted.</span></span> <span data-ttu-id="8b1c3-167">Blocklisting sizin için otomatik olarak uygulanan geçici bir kısıtlama olarak düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-167">You can think of blocklisting as a temporary constraint that is automatically applied for you.</span></span> <span data-ttu-id="8b1c3-168">Yinelenen hatalarının bu hizmet türünün örneklerini başlatılırken karşılaşırsanız, düğümleri blocklisted alın.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-168">Nodes get blocklisted when they experience repeated failures when launching instances of that service type.</span></span> <span data-ttu-id="8b1c3-169">Düğüm başına-service-type olarak blocklisted ' dir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-169">Nodes are blocklisted on a per-service-type basis.</span></span> <span data-ttu-id="8b1c3-170">Bir düğüm için bir hizmet türünün blocklisted olabilir, ancak başka bir değil.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-170">A node may be blocklisted for one service type but not another.</span></span> 

<span data-ttu-id="8b1c3-171">Genellikle geliştirme sırasında ilkenin etkisini gösterip blocklisting görürsünüz: bazı hata başlangıçta hizmeti konak toocrash neden olur.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-171">You'll see blocklisting kick in often during development: some bug causes your service host toocrash on startup.</span></span> <span data-ttu-id="8b1c3-172">Service Fabric toocreate hello hizmet konağı birkaç kez çalışır ve hello hatası gerçekleşen tutar.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-172">Service Fabric tries toocreate hello service host a few times, and hello failure keeps occurring.</span></span> <span data-ttu-id="8b1c3-173">Birkaç denemeden sonra blocklisted hello düğümünü alır ve hello küme Resource Manager toocreate hello başka bir yerde hizmet çalışacaktır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-173">After a few attempts, hello node gets blocklisted, and hello Cluster Resource Manager will try toocreate hello service elsewhere.</span></span> <span data-ttu-id="8b1c3-174">Birden çok düğümde bu hata gerçekleştiği tutar, tüm geçerli düğüm hello küme sonlandırmayı hello engellenen mümkündür.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-174">If that failure keeps happening on multiple nodes, it's possible that all of hello valid nodes in hello cluster end up blocked.</span></span> <span data-ttu-id="8b1c3-175">Blocklisting ayrıca çok fazla sayıda düğüm yeterli başarıyla hello hizmet toomeet istenen hello ölçek başlatabilirsiniz kaldırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-175">Blocklisting cna also remove so many nodes that not enough can successfully launch hello service toomeet hello desired scale.</span></span> <span data-ttu-id="8b1c3-176">Ek hatalar genellikle göreceğiniz ya da hello hizmet hello istenen çoğaltma veya örnek sayısı yanı sıra hangi hello hatası gösteren durum iletilerinin olduğunu küme Resource Manager hello belirten uyarıların toohello baştaki Merhaba ilk yerinde blocklisting.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-176">You'll typically see additional errors or warnings from hello Cluster Resource Manager indicating that hello service is below hello desired replica or instance count, as well as health messages indicating what hello failure is that's leading toohello blocklisting in hello first place.</span></span>

<span data-ttu-id="8b1c3-177">Blocklisting kalıcı bir durum değil.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-177">Blocklisting is not a permanent condition.</span></span> <span data-ttu-id="8b1c3-178">Birkaç dakika sonra hello düğümü hello engelleme kaldırılır ve Service Fabric hello Hizmetleri bu düğümde yeniden etkinleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-178">After a few minutes, hello node is removed from hello blocklist and Service Fabric may activate hello services on that node again.</span></span> <span data-ttu-id="8b1c3-179">Hizmetleri toofail devam ederseniz, hello blocklisted hizmet türü için yeniden düğümdür.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-179">If services continue toofail, hello node is blocklisted for that service type again.</span></span> 

### <a name="constraint-priorities"></a><span data-ttu-id="8b1c3-180">Kısıtlama öncelikler</span><span class="sxs-lookup"><span data-stu-id="8b1c3-180">Constraint priorities</span></span>

> [!WARNING]
> <span data-ttu-id="8b1c3-181">Kısıtlama önceliklerini değiştirmek önerilmez ve kümenizi önemli olumsuz etkileri olabilir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-181">Changing constraint priorities is not recommended and may have significant adverse effects on your cluster.</span></span> <span data-ttu-id="8b1c3-182">Aşağıdaki bilgileri Hello hello varsayılan kısıtlama önceliklerini ve davranışlarını başvurusunu sağlanır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-182">hello below information is provided for reference of hello default constraint priorities and their behavior.</span></span> 
>

<span data-ttu-id="8b1c3-183">Tüm bu kısıtlamaların, "Merhaba – ı hata etki alanı kısıtlamaları my sisteminde hello en önemli şey olduğunu düşünün. düşünüyorum</span><span class="sxs-lookup"><span data-stu-id="8b1c3-183">With all of these constraints, you may have been thinking “Hey – I think that fault domain constraints are hello most important thing in my system.</span></span> <span data-ttu-id="8b1c3-184">Sipariş tooensure hello hata etki alanı kısıtlaması ihlal edildi değil, ben tooviolate diğer kısıtlamaları istekli. "</span><span class="sxs-lookup"><span data-stu-id="8b1c3-184">In order tooensure hello fault domain constraint isn't violated, I’m willing tooviolate other constraints.”</span></span>

<span data-ttu-id="8b1c3-185">Kısıtlamaları farklı öncelik düzeyleri ile yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-185">Constraints can be configured with different priority levels.</span></span> <span data-ttu-id="8b1c3-186">Bunlar:</span><span class="sxs-lookup"><span data-stu-id="8b1c3-186">These are:</span></span>

   - <span data-ttu-id="8b1c3-187">"sabit" (0)</span><span class="sxs-lookup"><span data-stu-id="8b1c3-187">“hard” (0)</span></span>
   - <span data-ttu-id="8b1c3-188">"yumuşak" (1)</span><span class="sxs-lookup"><span data-stu-id="8b1c3-188">“soft” (1)</span></span>
   - <span data-ttu-id="8b1c3-189">"en iyi duruma getirme" (2)</span><span class="sxs-lookup"><span data-stu-id="8b1c3-189">“optimization” (2)</span></span>
   - <span data-ttu-id="8b1c3-190">(-1 "kapalı").</span><span class="sxs-lookup"><span data-stu-id="8b1c3-190">“off” (-1).</span></span> 
   
<span data-ttu-id="8b1c3-191">Merhaba kısıtlamaların büyük bir bölümü sabit kısıtlamaları varsayılan olarak yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-191">Most of hello constraints are configured as hard constraints by default.</span></span>

<span data-ttu-id="8b1c3-192">Kısıtlamaları Hello önceliğini değiştirmek seyrek olur.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-192">Changing hello priority of constraints is uncommon.</span></span> <span data-ttu-id="8b1c3-193">Burada kısıtlaması öncelikleri gerekli toochange, genellikle başka bir hata veya hello ortamı etkileyen davranış geçici toowork kez olmuştur.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-193">There have been times where constraint priorities needed toochange, usually toowork around some other bug or behavior that was impacting hello environment.</span></span> <span data-ttu-id="8b1c3-194">Genellikle hello esneklik hello kısıtlaması öncelik altyapısının çok iyi çalışmıştır ancak genellikle gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-194">Generally hello flexibility of hello constraint priority infrastructure has worked very well, but it isn't needed often.</span></span> <span data-ttu-id="8b1c3-195">Başlangıç zamanının çoğunu her şeyi varsayılan öncelikleri bulunur.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-195">Most of hello time everything sits at their default priorities.</span></span> 

<span data-ttu-id="8b1c3-196">Merhaba öncelik düzeyleri yok anlamına gelir, belirli bir kısıtlama _olacak_ ihlal, ya da her zaman karşılanması.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-196">hello priority levels don't mean that a given constraint _will_ be violated, nor that it will always be met.</span></span> <span data-ttu-id="8b1c3-197">Kısıtlama öncelikleri kısıtlamaları zorunlu tutulmaz sipariş tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-197">Constraint priorities define an order in which constraints are enforced.</span></span> <span data-ttu-id="8b1c3-198">İmkansız toosatisfy olduğunda öncelikleri hello bileşim tüm kısıtlamalarını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-198">Priorities define hello tradeoffs when it is impossible toosatisfy all constraints.</span></span> <span data-ttu-id="8b1c3-199">Genellikle olmadıkça hello ortamında geçmeden başka bir şey tüm hello kısıtlamalarını karşılanabilir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-199">Usually all hello constraints can be satisfied unless there's something else going on in hello environment.</span></span> <span data-ttu-id="8b1c3-200">Çakışan kısıtlamaları tooconstraint ihlalleri götürür senaryoları bazı örnekleri şunlardır ya da çok sayıda eş zamanlı hataları.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-200">Some examples of scenarios that will lead tooconstraint violations are conflicting constraints, or large numbers of concurrent failures.</span></span>

<span data-ttu-id="8b1c3-201">Gelişmiş durumlarda hello kısıtlaması önceliklerini değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-201">In advanced situations, you can change hello constraint priorities.</span></span> <span data-ttu-id="8b1c3-202">Örneğin, tooensure istediğinizi varsayalım gerekli toosolve düğüm kapasitesi gönderdiğinde, benzeşimi'nin her zaman ihlal.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-202">For example, say you wanted tooensure that affinity would always be violated when necessary toosolve node capacity issues.</span></span> <span data-ttu-id="8b1c3-203">tooachieve bunu hello benzeşim kısıtlaması çok "yumuşak" (1) hello önceliğini ayarlamak ve "sabit" çok ayarlanan hello kapasite kısıtlamasına (0) bırakın.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-203">tooachieve this, you could set hello priority of hello affinity constraint too“soft” (1) and leave hello capacity constraint set too“hard” (0).</span></span>

<span data-ttu-id="8b1c3-204">Merhaba farklı kısıtlamaları Hello varsayılan öncelik değerleri yapılandırma aşağıdaki hello belirtilir:</span><span class="sxs-lookup"><span data-stu-id="8b1c3-204">hello default priority values for hello different constraints are specified in hello following config:</span></span>

<span data-ttu-id="8b1c3-205">ClusterManifest.xml</span><span class="sxs-lookup"><span data-stu-id="8b1c3-205">ClusterManifest.xml</span></span>

```xml
        <Section Name="PlacementAndLoadBalancing">
            <Parameter Name="PlacementConstraintPriority" Value="0" />
            <Parameter Name="CapacityConstraintPriority" Value="0" />
            <Parameter Name="AffinityConstraintPriority" Value="0" />
            <Parameter Name="FaultDomainConstraintPriority" Value="0" />
            <Parameter Name="UpgradeDomainConstraintPriority" Value="1" />
            <Parameter Name="PreferredLocationConstraintPriority" Value="2" />
        </Section>
```

<span data-ttu-id="8b1c3-206">tek başına dağıtımlarında ClusterConfig.json ya da Azure için Template.json aracılığıyla kümeleri barındırılan:</span><span class="sxs-lookup"><span data-stu-id="8b1c3-206">via ClusterConfig.json for Standalone deployments or Template.json for Azure hosted clusters:</span></span>

```json
"fabricSettings": [
  {
    "name": "PlacementAndLoadBalancing",
    "parameters": [
      {
          "name": "PlacementConstraintPriority",
          "value": "0"
      },
      {
          "name": "CapacityConstraintPriority",
          "value": "0"
      },
      {
          "name": "AffinityConstraintPriority",
          "value": "0"
      },
      {
          "name": "FaultDomainConstraintPriority",
          "value": "0"
      },
      {
          "name": "UpgradeDomainConstraintPriority",
          "value": "1"
      },
      {
          "name": "PreferredLocationConstraintPriority",
          "value": "2"
      }
    ]
  }
]
```

## <a name="fault-domain-and-upgrade-domain-constraints"></a><span data-ttu-id="8b1c3-207">Hata etki alanı ve yükseltme etki alanı kısıtlamaları</span><span class="sxs-lookup"><span data-stu-id="8b1c3-207">Fault domain and upgrade domain constraints</span></span>
<span data-ttu-id="8b1c3-208">Merhaba Küme Kaynak Yöneticisi hata ve yükseltme etki alanları arasında dağılmış tookeep Hizmetleri istemektedir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-208">hello Cluster Resource Manager wants tookeep services spread out among fault and upgrade domains.</span></span> <span data-ttu-id="8b1c3-209">Bu hello küme kaynak yöneticisinin altyapısı içinde bir kısıtlama olarak modeller.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-209">It models this as a constraint inside hello Cluster Resource Manager’s engine.</span></span> <span data-ttu-id="8b1c3-210">Bunların nasıl kullanıldığı hakkında daha fazla bilgi ve belirli davranışlarını için hello makalesine kontrol [küme yapılandırması](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span><span class="sxs-lookup"><span data-stu-id="8b1c3-210">For more information on how they are used and their specific behavior, check out hello article on [cluster configuration](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span></span>

<span data-ttu-id="8b1c3-211">Merhaba küme Resource Manager toopack, yükseltmeler, hataları veya başka bir kısıtlama ihlali sipariş toodeal içindeki bir yükseltme etki alanına birkaç çoğaltmaları yüklemeniz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-211">hello Cluster Resource Manager may need toopack a couple replicas into an upgrade domain in order toodeal with upgrades, failures, or other constraint violations.</span></span> <span data-ttu-id="8b1c3-212">Yalnızca birkaç hataları veya diğer karmaşası doğru yerleştirme önleme hello sistemde hatası veya yükseltme etki alanlarına normalde sevk olur.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-212">Packing into fault or upgrade domains normally happens only when there are several failures or other churn in hello system preventing correct placement.</span></span> <span data-ttu-id="8b1c3-213">Bu durumlarda bile sırasında sevk tooprevent istiyorsanız hello kullanabilir `RequireDomainDistribution` [yerleştirme İlkesi](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="8b1c3-213">If you wish tooprevent packing even during these situations, you can utilize hello `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="8b1c3-214">Bu hizmet kullanılabilirliği ve güvenilirliği bir yan etkisi olarak etkiler, bu nedenle dikkatlice düşünün dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-214">Note that this may affect service availability and reliability as a side effect, so consider it carefully.</span></span>

<span data-ttu-id="8b1c3-215">Merhaba ortamı doğru şekilde yapılandırıldıysa, tüm kısıtlamalarını tam olarak, bile yükseltmeler sırasında kullanılır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-215">If hello environment is configured correctly, all constraints are fully respected, even during upgrades.</span></span> <span data-ttu-id="8b1c3-216">Merhaba anahtar kısıtlamaları için küme Resource Manager izliyor bu hello şeydir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-216">hello key thing is that hello Cluster Resource Manager is watching out for your constraints.</span></span> <span data-ttu-id="8b1c3-217">Bir ihlali algıladığında hemen rapor ve toocorrect hello sorunu çalışır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-217">When it detects a violation it immediately reports it and tries toocorrect hello issue.</span></span>

## <a name="hello-preferred-location-constraint"></a><span data-ttu-id="8b1c3-218">tercih edilen hello konum kısıtlaması</span><span class="sxs-lookup"><span data-stu-id="8b1c3-218">hello preferred location constraint</span></span>
<span data-ttu-id="8b1c3-219">iki farklı kullanımlar olduğu gibi hello PreferredLocation kısıtlaması biraz farklıdır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-219">hello PreferredLocation constraint is a little different, as it has two different uses.</span></span> <span data-ttu-id="8b1c3-220">Bir kısıtlamanın uygulama yükseltmeler sırasında kullanılır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-220">One use of this constraint is during application upgrades.</span></span> <span data-ttu-id="8b1c3-221">Merhaba Küme Kaynak Yöneticisi, bu kısıtlamayı yükseltmeler sırasında otomatik olarak yönetir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-221">hello Cluster Resource Manager automatically manages this constraint during upgrades.</span></span> <span data-ttu-id="8b1c3-222">Kullanılan tooensure olan olduğunda yükseltmeleri çoğaltmaları ilk konumları tootheir dönüş tamamlandı.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-222">It is used tooensure that when upgrades are complete that replicas return tootheir initial locations.</span></span> <span data-ttu-id="8b1c3-223">Merhaba diğer hello PreferredLocation kısıtlaması Merhaba kullanımıdır [ `PreferredPrimaryDomain` yerleştirme İlkesi](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span><span class="sxs-lookup"><span data-stu-id="8b1c3-223">hello other use of hello PreferredLocation constraint is for hello [`PreferredPrimaryDomain` placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span></span> <span data-ttu-id="8b1c3-224">Bunların her ikisi de en iyi duruma getirme ve bu nedenle çok ayarlanan hello yalnızca kısıtlamasına hello PreferredLocation kısıtlaması olduğundan varsayılan olarak "iyileştirme".</span><span class="sxs-lookup"><span data-stu-id="8b1c3-224">Both of these are optimizations, and hence hello PreferredLocation constraint is hello only constraint set too"Optimization" by default.</span></span>

## <a name="upgrades"></a><span data-ttu-id="8b1c3-225">Yükseltme</span><span class="sxs-lookup"><span data-stu-id="8b1c3-225">Upgrades</span></span>
<span data-ttu-id="8b1c3-226">Merhaba Küme Kaynak Yöneticisi ayrıca uygulama ve hangi sırasında iki iş bulunmuyor Küme yükseltme sırasında yardımcı olur:</span><span class="sxs-lookup"><span data-stu-id="8b1c3-226">hello Cluster Resource Manager also helps during application and cluster upgrades, during which it has two jobs:</span></span>

* <span data-ttu-id="8b1c3-227">Merhaba kuralları hello kümesinin tehlikeye emin olun</span><span class="sxs-lookup"><span data-stu-id="8b1c3-227">ensure that hello rules of hello cluster are not compromised</span></span>
* <span data-ttu-id="8b1c3-228">toohelp hello yükseltme Git sorunsuz deneyin</span><span class="sxs-lookup"><span data-stu-id="8b1c3-228">try toohelp hello upgrade go smoothly</span></span>

### <a name="keep-enforcing-hello-rules"></a><span data-ttu-id="8b1c3-229">Merhaba kuralları zorunlu tutun</span><span class="sxs-lookup"><span data-stu-id="8b1c3-229">Keep enforcing hello rules</span></span>
<span data-ttu-id="8b1c3-230">Merhaba ana şeyi toobe farkında hello kuralları – kısıtlamalarından ve kapasiteleri gibi hello katı kısıtlamaları - yükseltmeler sırasında zorunlu tutulmaz ' dir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-230">hello main thing toobe aware of is that hello rules – hello strict constraints like placement constraints and capacities - are still enforced during upgrades.</span></span> <span data-ttu-id="8b1c3-231">Kısıtlamalarından iş yüklerinizi yalnızca burada bunlar, hatta yükseltmeler sırasında izin verilen çalıştırdığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-231">Placement constraints ensure that your workloads only run where they are allowed to, even during upgrades.</span></span> <span data-ttu-id="8b1c3-232">Hizmetler yüksek oranda kısıtlı kullanılırken yükseltmeler uzun sürebilir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-232">When services are highly constrained, upgrades can take longer.</span></span> <span data-ttu-id="8b1c3-233">Merhaba hizmet ya da hello düğüm üzerinde çalıştırıldığı olduğunda bu gidebilecekleri için birkaç seçenek olabilir bir güncelleştirme için duruma.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-233">When hello service or hello node it is running on is brought down for an update there may be few options for where it can go.</span></span>

### <a name="smart-replacements"></a><span data-ttu-id="8b1c3-234">Akıllı değişiklik</span><span class="sxs-lookup"><span data-stu-id="8b1c3-234">Smart replacements</span></span>
<span data-ttu-id="8b1c3-235">Yükseltme başladığında hello Resource Manager hello geçerli hello küme düzenlenmesi, bir anlık görüntüsünü alır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-235">When an upgrade starts, hello Resource Manager takes a snapshot of hello current arrangement of hello cluster.</span></span> <span data-ttu-id="8b1c3-236">Her yükseltme etki alanı tamamlandığında, yükseltme etki alanı tootheir özgün düzeninde tooreturn hello hizmetler çalışır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-236">As each Upgrade Domain completes, it attempts tooreturn hello services that were in that Upgrade Domain tootheir original arrangement.</span></span> <span data-ttu-id="8b1c3-237">Bu şekilde var. en çok bir hizmet için iki geçişleri hello yükseltme sırasında</span><span class="sxs-lookup"><span data-stu-id="8b1c3-237">This way there are at most two transitions for a service during hello upgrade.</span></span> <span data-ttu-id="8b1c3-238">Etkilenen hello düğümünün çıkışı bir taşıma yoktur ve bir geri içeri taşı.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-238">There is one move out of hello affected node and one move back in.</span></span> <span data-ttu-id="8b1c3-239">Merhaba yükseltme, aynı zamanda hello yükseltme sağlar önceki hello küme veya hizmet toohow döndürme hello küme hello düzenini etkilemez.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-239">Returning hello cluster or service toohow it was before hello upgrade also ensures hello upgrade doesn’t impact hello layout of hello cluster.</span></span> 

### <a name="reduced-churn"></a><span data-ttu-id="8b1c3-240">Azaltılmış karmaşası</span><span class="sxs-lookup"><span data-stu-id="8b1c3-240">Reduced churn</span></span>
<span data-ttu-id="8b1c3-241">Yükseltme sırasında gerçekleşen başka bir küme kaynağı Yöneticisi Dengeleme devre dışı bırakır, hello şeydir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-241">Another thing that happens during upgrades is that hello Cluster Resource Manager turns off balancing.</span></span> <span data-ttu-id="8b1c3-242">Dengeleme önleme Hizmetleri hello yükseltme için Boşaltılan düğümleri taşınmasını gibi gereksiz tepki toohello yükseltme kendisini engeller.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-242">Preventing balancing prevents unnecessary reactions toohello upgrade itself, like moving services into nodes that were emptied for hello upgrade.</span></span> <span data-ttu-id="8b1c3-243">Küme yükseltme Hello yükseltme söz konusu ise, hello tüm küme hello yükseltme sırasında dengelenir değil.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-243">If hello upgrade in question is a Cluster upgrade, then hello entire cluster is not balanced during hello upgrade.</span></span> <span data-ttu-id="8b1c3-244">Kısıtlama denetimleri etkin kalır, yalnızca taşıma hello öngörülü ölçümlerini Dengeleme üzerinde temel devre dışı bırakıldı.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-244">Constraint checks stay active, only movement based on hello proactive balancing of metrics is disabled.</span></span>

### <a name="buffered-capacity--upgrade"></a><span data-ttu-id="8b1c3-245">Arabelleğe alınan kapasite & yükseltme</span><span class="sxs-lookup"><span data-stu-id="8b1c3-245">Buffered Capacity & Upgrade</span></span>
<span data-ttu-id="8b1c3-246">Genellikle Hello küme kısıtlanmış veya kapatma toofull olsa bile hello yükseltme toocomplete istersiniz.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-246">Generally you want hello upgrade toocomplete even if hello cluster is constrained or close toofull.</span></span> <span data-ttu-id="8b1c3-247">Merhaba küme Hello kapasitesini yönetme yükseltmeler sırasında normalden daha da önemlidir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-247">Managing hello capacity of hello cluster is even more important during upgrades than usual.</span></span> <span data-ttu-id="8b1c3-248">Merhaba yükseltme yapar aracılığıyla hello kümesi gibi hello bağlı olarak kapasite yüzde 20'si ile 5 arasındaki yükseltme etki alanlarının sayısı geçirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-248">Depending on hello number of upgrade domains, between 5 and 20 percent of capacity must be migrated as hello upgrade rolls through hello cluster.</span></span> <span data-ttu-id="8b1c3-249">Bu iş toogo yere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-249">That work has toogo somewhere.</span></span> <span data-ttu-id="8b1c3-250">Bu olduğu yere hello kavramı [kapasiteleri arabelleğe](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-250">This is where hello notion of [buffered capacities](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) is useful.</span></span> <span data-ttu-id="8b1c3-251">Arabelleğe alınan kapasite normal işlem sırasında dikkate.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-251">Buffered capacity is respected during normal operation.</span></span> <span data-ttu-id="8b1c3-252">Merhaba Küme Kaynak Yöneticisi'ni (Merhaba arabellek tüketen) tootheir toplam kapasite düğümlerini gerekiyorsa, yükseltme sırasında yerine getirebilir.</span><span class="sxs-lookup"><span data-stu-id="8b1c3-252">hello Cluster Resource Manager may fill nodes up tootheir total capacity (consuming hello buffer) during upgrades if necessary.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8b1c3-253">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="8b1c3-253">Next steps</span></span>
* <span data-ttu-id="8b1c3-254">Merhaba baştan başlatın ve [giriş toohello Service Fabric kümesi Kaynak Yöneticisi Al](service-fabric-cluster-resource-manager-introduction.md)</span><span class="sxs-lookup"><span data-stu-id="8b1c3-254">Start from hello beginning and [get an Introduction toohello Service Fabric Cluster Resource Manager](service-fabric-cluster-resource-manager-introduction.md)</span></span>
