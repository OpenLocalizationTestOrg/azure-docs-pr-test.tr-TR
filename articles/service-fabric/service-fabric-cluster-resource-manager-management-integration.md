---
title: "Service Fabric Küme Kaynak Yöneticisi - Yönetim tümleştirme | Microsoft Docs"
description: "Küme Kaynak Yöneticisi ve hizmet doku Yönetimi arasında tümleştirme noktaları genel bakış."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 956cd0b8-b6e3-4436-a224-8766320e8cd7
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9601e758e1033b4e2f86c2c230d4f49479fe6f45
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/18/2017
---
# <a name="cluster-resource-manager-integration-with-service-fabric-cluster-management"></a><span data-ttu-id="72965-103">Service Fabric kümesi yönetimi ile Küme Kaynak Yöneticisi tümleştirme</span><span class="sxs-lookup"><span data-stu-id="72965-103">Cluster resource manager integration with Service Fabric cluster management</span></span>
<span data-ttu-id="72965-104">Service Fabric kümesi Kaynak Yöneticisi Service Fabric yükseltmelerinin sürücü değil, ancak söz konusu.</span><span class="sxs-lookup"><span data-stu-id="72965-104">The Service Fabric Cluster Resource Manager doesn't drive upgrades in Service Fabric, but it is involved.</span></span> <span data-ttu-id="72965-105">Küme Resource Manager ile yönetimi yardımcı olan ilk istenen durumu kümeyi ve hizmetlerin içindeki izleme tarafından yoludur.</span><span class="sxs-lookup"><span data-stu-id="72965-105">The first way that the Cluster Resource Manager helps with management is by tracking the desired state of the cluster and the services inside it.</span></span> <span data-ttu-id="72965-106">Küme Kaynak Yöneticisi'ni, küme istenen yapılandırma yerleştirin sistem durumu raporlarını gönderir.</span><span class="sxs-lookup"><span data-stu-id="72965-106">The Cluster Resource Manager sends out health reports when it cannot put the cluster into the desired configuration.</span></span> <span data-ttu-id="72965-107">Örneğin, yeterli kapasitesi varsa küme Resource Manager sistem durumu uyarıları ve hataları sorunu belirten gönderir.</span><span class="sxs-lookup"><span data-stu-id="72965-107">For example, if there is insufficient capacity the Cluster Resource Manager sends out health warnings and errors indicating the problem.</span></span> <span data-ttu-id="72965-108">Başka bir parçasını tümleştirme yükseltme nasıl çalışır ile ilgilidir.</span><span class="sxs-lookup"><span data-stu-id="72965-108">Another piece of integration has to do with how upgrades work.</span></span> <span data-ttu-id="72965-109">Küme Kaynak Yöneticisi'ni davranışını biraz yükseltmeler sırasında değiştirir.</span><span class="sxs-lookup"><span data-stu-id="72965-109">The Cluster Resource Manager alters its behavior slightly during upgrades.</span></span>  

## <a name="health-integration"></a><span data-ttu-id="72965-110">Sistem durumu tümleştirme</span><span class="sxs-lookup"><span data-stu-id="72965-110">Health integration</span></span>
<span data-ttu-id="72965-111">Küme Kaynak Yöneticisi'ni hizmetlerinizi yerleştirmek için tanımladığınız kuralları sürekli olarak izler.</span><span class="sxs-lookup"><span data-stu-id="72965-111">The Cluster Resource Manager constantly tracks the rules you have defined for placing your services.</span></span> <span data-ttu-id="72965-112">Bu ayrıca kalan kapasite her ölçümü için düğümlerde ve küme ve kümedeki bir bütün olarak izler.</span><span class="sxs-lookup"><span data-stu-id="72965-112">It also tracks the remaining capacity for each metric on the nodes and in the cluster and in the cluster as a whole.</span></span> <span data-ttu-id="72965-113">Bu kurallar gerçekleştiremiyor veya yeterli kapasitesi varsa, sistem durumu uyarıları ve hataları gösterilen.</span><span class="sxs-lookup"><span data-stu-id="72965-113">If it can't satisfy those rules or if there is insufficient capacity, health warnings and errors are emitted.</span></span> <span data-ttu-id="72965-114">Örneğin, bir düğüm üzerinde kapasite ise ve Hizmetleri taşıyarak durumu düzeltmek Küme Kaynak Yöneticisi'ni çalışacaktır.</span><span class="sxs-lookup"><span data-stu-id="72965-114">For example, if a node is over capacity and the Cluster Resource Manager will try to fix the situation by moving services.</span></span> <span data-ttu-id="72965-115">Durum düzeltemezsiniz, hangi düğümün hangi ölçümleri ve kapasite üzerinden olduğunu belirten bir sistem durumu uyarısı yayar.</span><span class="sxs-lookup"><span data-stu-id="72965-115">If it can't correct the situation it emits a health warning indicating which node is over capacity, and for which metrics.</span></span>

<span data-ttu-id="72965-116">Başka bir Resource Manager'ın sistem durumu uyarıları kısıtlamalarından ihlalleri örnektir.</span><span class="sxs-lookup"><span data-stu-id="72965-116">Another example of the Resource Manager's health warnings is violations of placement constraints.</span></span> <span data-ttu-id="72965-117">Örneğin, bir yerleştirme kısıtlaması tanımladıysanız (gibi `“NodeColor == Blue”`) ve Kaynak Yöneticisi'ni kısıtlamayı ihlal algılarsa, sistem durumu uyarısı yayar.</span><span class="sxs-lookup"><span data-stu-id="72965-117">For example, if you have defined a placement constraint (such as `“NodeColor == Blue”`) and the Resource Manager detects a violation of that constraint, it emits a health warning.</span></span> <span data-ttu-id="72965-118">Bu, özel kısıtlamalar ve varsayılan kısıtlamalar (gibi hata etki alanı ve yükseltme etki alanı kısıtlamaları) için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="72965-118">This is true for custom constraints and the default constraints (like the Fault Domain and Upgrade Domain constraints).</span></span>

<span data-ttu-id="72965-119">Böyle bir durum raporu bir örneği burada verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="72965-119">Here’s an example of one such health report.</span></span> <span data-ttu-id="72965-120">Bu durumda, sistem durumu raporu sistem hizmetin bölümleri için biridir.</span><span class="sxs-lookup"><span data-stu-id="72965-120">In this case, the health report is for one of the system service’s partitions.</span></span> <span data-ttu-id="72965-121">Bu bölüm kopyalarını geçici olarak çok az yükseltme etki alanlarına paketlenmiş sistem iletisi gösterir.</span><span class="sxs-lookup"><span data-stu-id="72965-121">The health message indicates the replicas of that partition are temporarily packed into too few Upgrade Domains.</span></span>

```posh
PS C:\Users\User > Get-WindowsFabricPartitionHealth -PartitionId '00000000-0000-0000-0000-000000000001'


PartitionId           : 00000000-0000-0000-0000-000000000001
AggregatedHealthState : Warning
UnhealthyEvaluations  :
                        Unhealthy event: SourceId='System.PLB', Property='ReplicaConstraintViolation_UpgradeDomain', HealthState='Warning', ConsiderWarningAsError=false.

ReplicaHealthStates   :
                        ReplicaId             : 130766528804733380
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577821
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528854889931
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577822
                        AggregatedHealthState : Ok

                        ReplicaId             : 130837073190680024
                        AggregatedHealthState : Ok

HealthEvents          :
                        SourceId              : System.PLB
                        Property              : ReplicaConstraintViolation_UpgradeDomain
                        HealthState           : Warning
                        SequenceNumber        : 130837100116930204
                        SentAt                : 8/10/2015 7:53:31 PM
                        ReceivedAt            : 8/10/2015 7:53:33 PM
                        TTL                   : 00:01:05
                        Description           : The Load Balancer has detected a Constraint Violation for this Replica: fabric:/System/FailoverManagerService Secondary Partition 00000000-0000-0000-0000-000000000001 is
                        violating the Constraint: UpgradeDomain Details: UpgradeDomain ID -- 4, Replica on NodeName -- Node.8 Currently Upgrading -- false Distribution Policy -- Packing
                        RemoveWhenExpired     : True
                        IsExpired             : False
                        Transitions           : Ok->Warning = 8/10/2015 7:13:02 PM, LastError = 1/1/0001 12:00:00 AM
```

<span data-ttu-id="72965-122">İşte ne bu sistem durumu ileti bize olduğunu bildiriyor:</span><span class="sxs-lookup"><span data-stu-id="72965-122">Here's what this health message is telling us is:</span></span>

1. <span data-ttu-id="72965-123">Tüm çoğaltmaların kendilerini sağlıklı: her AggregatedHealthState vardır: Tamam</span><span class="sxs-lookup"><span data-stu-id="72965-123">All the replicas themselves are healthy: Each has AggregatedHealthState : Ok</span></span>
2. <span data-ttu-id="72965-124">Yükseltme etki alanı dağıtım kısıtlaması şu anda ihlal.</span><span class="sxs-lookup"><span data-stu-id="72965-124">The Upgrade Domain distribution constraint is currently being violated.</span></span> <span data-ttu-id="72965-125">Bu, belirli bir yükseltme etki alanı bu bölümü gerekenden daha fazla çoğaltmalardan olduğu anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="72965-125">This means a particular Upgrade Domain has more replicas from this partition than it should.</span></span>
3. <span data-ttu-id="72965-126">Hangi düğümün ihlali neden çoğaltma içerir.</span><span class="sxs-lookup"><span data-stu-id="72965-126">Which node contains the replica causing the violation.</span></span> <span data-ttu-id="72965-127">Bu durumda "Node.8" adını içeren düğüme olur</span><span class="sxs-lookup"><span data-stu-id="72965-127">In this case it's the node with the name "Node.8"</span></span>
4. <span data-ttu-id="72965-128">Bu bölüm için ("şu anda yükseltme--false") olup olmadığını yükseltme şu anda gerçekleştiriliyor</span><span class="sxs-lookup"><span data-stu-id="72965-128">Whether an upgrade is currently happening for this partition ("Currently Upgrading -- false")</span></span>
5. <span data-ttu-id="72965-129">Bu hizmet için dağıtım İlkesi: "Dağıtım ilkesi--paketleme".</span><span class="sxs-lookup"><span data-stu-id="72965-129">The distribution policy for this service: "Distribution Policy -- Packing".</span></span> <span data-ttu-id="72965-130">Bu tabidir `RequireDomainDistribution` [yerleştirme İlkesi](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="72965-130">This is governed by the `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="72965-131">"Sevk" gösterir, bu durumda DomainDistribution olduğunu _değil_ yerleştirme İlkesi bu hizmet için belirtilmedi biliyoruz şekilde, gerekli.</span><span class="sxs-lookup"><span data-stu-id="72965-131">"Packing" indicates that in this case DomainDistribution was _not_ required, so we know that placement policy was not specified for this service.</span></span> 
6. <span data-ttu-id="72965-132">Ne zaman rapor oldu - 8/10/2015 19:13:02: 00</span><span class="sxs-lookup"><span data-stu-id="72965-132">When the report happened - 8/10/2015 7:13:02 PM</span></span>

<span data-ttu-id="72965-133">Bir şeyler yanlış geçti ve algılamak ve hatalı yükseltmeler durdurmak için de kullanılır size bildirmek üretimde yangın bu powers uyarıları gibi bilgiler.</span><span class="sxs-lookup"><span data-stu-id="72965-133">Information like this powers alerts that fire in production to let you know something has gone wrong and is also used to detect and halt bad upgrades.</span></span> <span data-ttu-id="72965-134">Bu durumda, biz biz neden Resource Manager yükseltme etki alanına çoğaltmaları paketi gerekiyordu çıkışı şekil olmadığını görmek istersiniz.</span><span class="sxs-lookup"><span data-stu-id="72965-134">In this case, we’d want to see if we can figure out why the Resource Manager had to pack the replicas into the Upgrade Domain.</span></span> <span data-ttu-id="72965-135">Diğer yükseltme etki alanları içindeki düğümlerin aşağı, örneğin olduğundan genellikle sevk geçicidir.</span><span class="sxs-lookup"><span data-stu-id="72965-135">Usually packing is transient because the nodes in the other Upgrade Domains were down, for example.</span></span>

<span data-ttu-id="72965-136">Diyelim ki bazı hizmetler yerleştirmek küme kaynak yönetici çalışıyor, ancak iş çözümleri yok.</span><span class="sxs-lookup"><span data-stu-id="72965-136">Let’s say the Cluster Resource Manager is trying to place some services, but there aren't any solutions that work.</span></span> <span data-ttu-id="72965-137">Hizmetleri yerleştirilemez genellikle aşağıdaki nedenlerden birinden dolayı olur:</span><span class="sxs-lookup"><span data-stu-id="72965-137">When services can't be placed, it is usually for one of the following reasons:</span></span>

1. <span data-ttu-id="72965-138">Bazı geçici koşul bu hizmet örneği veya çoğaltma doğru yerleştirmek imkansız yaptı</span><span class="sxs-lookup"><span data-stu-id="72965-138">Some transient condition has made it impossible to place this service instance or replica correctly</span></span>
2. <span data-ttu-id="72965-139">Hizmetin yerleştirme unsatisfiable gereksinimleridir.</span><span class="sxs-lookup"><span data-stu-id="72965-139">The service’s placement requirements are unsatisfiable.</span></span>

<span data-ttu-id="72965-140">Bu durumlarda, sistem durumu raporlarının Küme Kaynak Yöneticisi'nden service neden yerleştirilemez belirlemenize yardımcı.</span><span class="sxs-lookup"><span data-stu-id="72965-140">In these cases, health reports from the Cluster Resource Manager help you determine why the service can’t be placed.</span></span> <span data-ttu-id="72965-141">Bu işlem kısıtlaması eleme dizisi diyoruz.</span><span class="sxs-lookup"><span data-stu-id="72965-141">We call this process the constraint elimination sequence.</span></span> <span data-ttu-id="72965-142">Bunu sırasında sistem ne ortadan kayıtları ve hizmet etkileyen yapılandırılmış kısıtlamaları anlatılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="72965-142">During it, the system walks through the configured constraints affecting the service and records what they eliminate.</span></span> <span data-ttu-id="72965-143">Hizmetleri yerleştirilmesi için değil, bu şekilde, hangi düğümlerin ortadan görebilirsiniz ve neden.</span><span class="sxs-lookup"><span data-stu-id="72965-143">This way when services aren’t able to be placed, you can see which nodes were eliminated and why.</span></span>

## <a name="constraint-types"></a><span data-ttu-id="72965-144">Kısıtlama türleri</span><span class="sxs-lookup"><span data-stu-id="72965-144">Constraint types</span></span>
<span data-ttu-id="72965-145">Bu sistem durumu raporları farklı kısıtlamalar her hakkında şimdi konuşun.</span><span class="sxs-lookup"><span data-stu-id="72965-145">Let’s talk about each of the different constraints in these health reports.</span></span> <span data-ttu-id="72965-146">Çoğaltmaları yerleştirildiğinde bu kısıtlamaların ilgili durum iletilerini görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="72965-146">You will see health messages related to these constraints when replicas can't be placed.</span></span>

* <span data-ttu-id="72965-147">**ReplicaExclusionStatic** ve **ReplicaExclusionDynamic**: Bu kısıtlamaların gösteren bir çözüm aynı bölüm iki hizmet nesneleri aynı düğümde yerleştirilmesi zorunda olduğu için reddedildi.</span><span class="sxs-lookup"><span data-stu-id="72965-147">**ReplicaExclusionStatic** and **ReplicaExclusionDynamic**: These constraints indicates that a solution was rejected because two service objects from the same partition would have to be placed on the same node.</span></span> <span data-ttu-id="72965-148">Daha sonra bu düğümü aşırı o bölümün etkileyebilecek bu için izin verilmiyor.</span><span class="sxs-lookup"><span data-stu-id="72965-148">This isn’t allowed because then failure of that node would overly impact that partition.</span></span> <span data-ttu-id="72965-149">ReplicaExclusionStatic ve ReplicaExclusionDynamic neredeyse aynı kural ve farkları gerçekten önemi yoktur.</span><span class="sxs-lookup"><span data-stu-id="72965-149">ReplicaExclusionStatic and ReplicaExclusionDynamic are almost the same rule and the differences don't really matter.</span></span> <span data-ttu-id="72965-150">ReplicaExclusionStatic veya ReplicaExclusionDynamic kısıtlaması içeren bir kısıtlama eleme sırası görüyorsanız, Küme Kaynak Yöneticisi'ni yeterli düğüm olmayan düşünmektedir.</span><span class="sxs-lookup"><span data-stu-id="72965-150">If you are seeing a constraint elimination sequence containing either the ReplicaExclusionStatic or ReplicaExclusionDynamic constraint, the Cluster Resource Manager thinks that there aren’t enough nodes.</span></span> <span data-ttu-id="72965-151">Bu izin verilmiyor bu geçersiz yerleşimi kullanmak için kalan çözümleri gerektirir.</span><span class="sxs-lookup"><span data-stu-id="72965-151">This requires remaining solutions to use these invalid placements which are disallowed.</span></span> <span data-ttu-id="72965-152">Dizisindeki diğer kısıtlamaları genellikle bize neden düğümleri ilk başta ortadan söyler.</span><span class="sxs-lookup"><span data-stu-id="72965-152">The other constraints in the sequence will usually tell us why nodes are being eliminated in the first place.</span></span>
* <span data-ttu-id="72965-153">**PlacementConstraint**: Bu iletiyi görürseniz, bu hizmetin kısıtlamalarından eşleşmedi çünkü biz bazı düğümler ortadan anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="72965-153">**PlacementConstraint**: If you see this message, it means that we eliminated some nodes because they didn’t match the service’s placement constraints.</span></span> <span data-ttu-id="72965-154">Biz bu iletiyi bir parçası olarak yapılandırılmış kısıtlamalarından izleme.</span><span class="sxs-lookup"><span data-stu-id="72965-154">We trace out the currently configured placement constraints as a part of this message.</span></span> <span data-ttu-id="72965-155">Tanımlanan bir yerleştirme kısıtlaması varsa, bu normaldir.</span><span class="sxs-lookup"><span data-stu-id="72965-155">This is normal if you have a placement constraint defined.</span></span> <span data-ttu-id="72965-156">Ancak, yerleştirme kısıtlaması ortadan için çok fazla düğüm yanlış neden olup olmadığını nasıl fark etmesi budur.</span><span class="sxs-lookup"><span data-stu-id="72965-156">However, if placement constraint is incorrectly causing too many nodes to be eliminated this is how you would notice.</span></span>
* <span data-ttu-id="72965-157">**NodeCapacity**: Bu kısıtlama, bunları kapasite aşımı taşmasına neden olabileceğinden Küme Kaynak Yöneticisi'ni çoğaltmaları belirtilen düğümlerinde yerleştirmenizi uygulanamadı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="72965-157">**NodeCapacity**: This constraint means that the Cluster Resource Manager couldn’t place the replicas on the indicated nodes because that would put them over capacity.</span></span>
* <span data-ttu-id="72965-158">**Benzeşim**: benzeşim kısıtlamayı ihlal neden olacağından bu yana biz çoğaltma etkilenen düğümlerinde yerleştirmenizi uygulanamadı bu kısıtlamayı belirtir.</span><span class="sxs-lookup"><span data-stu-id="72965-158">**Affinity**: This constraint indicates that we couldn’t place the replica on the affected nodes since it would cause a violation of the affinity constraint.</span></span> <span data-ttu-id="72965-159">Benzeşimi hakkında daha fazla bilgi yer [bu makalede](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span><span class="sxs-lookup"><span data-stu-id="72965-159">More information on affinity is in [this article](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span></span>
* <span data-ttu-id="72965-160">**FaultDomain** ve **UpgradeDomain**: Belirtilen düğümlerinde yineleme yerleştirme bir belirli hatası veya yükseltme etki alanında sevk neden olacaksa bu kısıtlamayı düğümleri ortadan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="72965-160">**FaultDomain** and **UpgradeDomain**: This constraint eliminates nodes if placing the replica on the indicated nodes would cause packing in a particular fault or upgrade domain.</span></span> <span data-ttu-id="72965-161">Bu sınırlama ele çeşitli örnekler üzerinde konusunda sunulan [hata ve yükseltme etki alanı kısıtlamaları ve bunun sonucunda oluşan davranışı](service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="72965-161">Several examples discussing this constraint are presented in the topic on [fault and upgrade domain constraints and resulting behavior](service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
* <span data-ttu-id="72965-162">**PreferredLocation**: varsayılan olarak bir iyileştirme çalışır olduğundan düğüm çözümden kaldırmak bu kısıtlamayı normalde görmemesi.</span><span class="sxs-lookup"><span data-stu-id="72965-162">**PreferredLocation**: You shouldn’t normally see this constraint removing nodes from the solution since it runs as an optimization by default.</span></span> <span data-ttu-id="72965-163">Tercih edilen konum kısıtlaması, yükseltmeler sırasında da mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="72965-163">The preferred location constraint is also present during upgrades.</span></span> <span data-ttu-id="72965-164">Yükseltme sırasında yükseltme başlatıldığında geri burada oldukları için Hizmetleri taşımak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72965-164">During upgrade it is used to move services back to where they were when the upgrade started.</span></span>

## <a name="blocklisting-nodes"></a><span data-ttu-id="72965-165">Blocklisting düğümler</span><span class="sxs-lookup"><span data-stu-id="72965-165">Blocklisting Nodes</span></span>
<span data-ttu-id="72965-166">Başka bir sistem durumu Küme Kaynak Yöneticisi raporları iletisidir düğümleri blocklisted olduğunda.</span><span class="sxs-lookup"><span data-stu-id="72965-166">Another health message the Cluster Resource Manager reports is when nodes are blocklisted.</span></span> <span data-ttu-id="72965-167">Blocklisting sizin için otomatik olarak uygulanan geçici bir kısıtlama olarak düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="72965-167">You can think of blocklisting as a temporary constraint that is automatically applied for you.</span></span> <span data-ttu-id="72965-168">Yinelenen hatalarının bu hizmet türünün örneklerini başlatılırken karşılaşırsanız, düğümleri blocklisted alın.</span><span class="sxs-lookup"><span data-stu-id="72965-168">Nodes get blocklisted when they experience repeated failures when launching instances of that service type.</span></span> <span data-ttu-id="72965-169">Düğüm başına-service-type olarak blocklisted ' dir.</span><span class="sxs-lookup"><span data-stu-id="72965-169">Nodes are blocklisted on a per-service-type basis.</span></span> <span data-ttu-id="72965-170">Bir düğüm için bir hizmet türünün blocklisted olabilir, ancak başka bir değil.</span><span class="sxs-lookup"><span data-stu-id="72965-170">A node may be blocklisted for one service type but not another.</span></span> 

<span data-ttu-id="72965-171">Genellikle geliştirme sırasında ilkenin etkisini gösterip blocklisting görürsünüz: başlangıçta çökmesine hizmet ana bilgisayarı bazı hata neden olur.</span><span class="sxs-lookup"><span data-stu-id="72965-171">You'll see blocklisting kick in often during development: some bug causes your service host to crash on startup.</span></span> <span data-ttu-id="72965-172">Service Fabric hizmeti ana bilgisayarı birkaç kez oluşturmayı dener ve hata gerçekleşen tutar.</span><span class="sxs-lookup"><span data-stu-id="72965-172">Service Fabric tries to create the service host a few times, and the failure keeps occurring.</span></span> <span data-ttu-id="72965-173">Birkaç denemeden sonra blocklisted düğümünü alır ve başka bir hizmet oluşturmak Küme Kaynak Yöneticisi'ni çalışacaktır.</span><span class="sxs-lookup"><span data-stu-id="72965-173">After a few attempts, the node gets blocklisted, and the Cluster Resource Manager will try to create the service elsewhere.</span></span> <span data-ttu-id="72965-174">Birden çok düğümde bu hata gerçekleştiği tutar, tüm küme sonlandırmayı geçerli düğüm engellenen mümkündür.</span><span class="sxs-lookup"><span data-stu-id="72965-174">If that failure keeps happening on multiple nodes, it's possible that all of the valid nodes in the cluster end up blocked.</span></span> <span data-ttu-id="72965-175">Blocklisting ayrıca çok fazla sayıda düğüm yeterli başarıyla istenen ölçeği karşılamak üzere hizmetini başlatabilirsiniz kaldırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="72965-175">Blocklisting cna also remove so many nodes that not enough can successfully launch the service to meet the desired scale.</span></span> <span data-ttu-id="72965-176">Genellikle, ek hatalar veya uyarılar küme kaynak hizmet istenen çoğaltma veya örnek sayısı yanı sıra neyin başarısız olduğunu gösteren durum iletileri olduğunu belirten, blocklisting ilk başta baştaki Yöneticisi'nden de görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="72965-176">You'll typically see additional errors or warnings from the Cluster Resource Manager indicating that the service is below the desired replica or instance count, as well as health messages indicating what the failure is that's leading to the blocklisting in the first place.</span></span>

<span data-ttu-id="72965-177">Blocklisting kalıcı bir durum değil.</span><span class="sxs-lookup"><span data-stu-id="72965-177">Blocklisting is not a permanent condition.</span></span> <span data-ttu-id="72965-178">Birkaç dakika sonra engelleme düğüm kaldırılır ve Service Fabric Hizmetleri bu düğümde yeniden etkinleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="72965-178">After a few minutes, the node is removed from the blocklist and Service Fabric may activate the services on that node again.</span></span> <span data-ttu-id="72965-179">Hizmetleri başarısız olmaya devam ederse, bu hizmet türünün blocklisted yeniden düğümdür.</span><span class="sxs-lookup"><span data-stu-id="72965-179">If services continue to fail, the node is blocklisted for that service type again.</span></span> 

### <a name="constraint-priorities"></a><span data-ttu-id="72965-180">Kısıtlama öncelikler</span><span class="sxs-lookup"><span data-stu-id="72965-180">Constraint priorities</span></span>

> [!WARNING]
> <span data-ttu-id="72965-181">Kısıtlama önceliklerini değiştirmek önerilmez ve kümenizi önemli olumsuz etkileri olabilir.</span><span class="sxs-lookup"><span data-stu-id="72965-181">Changing constraint priorities is not recommended and may have significant adverse effects on your cluster.</span></span> <span data-ttu-id="72965-182">Varsayılan kısıtlama önceliklerini ve davranışlarını başvurusunu altındaki bilgi sağlanır.</span><span class="sxs-lookup"><span data-stu-id="72965-182">The below information is provided for reference of the default constraint priorities and their behavior.</span></span> 
>

<span data-ttu-id="72965-183">Tüm bu kısıtlamaların, "Merhaba – ı hata etki alanı kısıtlamaları my sisteminde en önemli şey olduğunu düşünün. düşünüyorum</span><span class="sxs-lookup"><span data-stu-id="72965-183">With all of these constraints, you may have been thinking “Hey – I think that fault domain constraints are the most important thing in my system.</span></span> <span data-ttu-id="72965-184">Hata etki alanı kısıtlaması ihlal edildi olmadığından emin olmak için diğer kısıtlamaları ihlal istiyorum."</span><span class="sxs-lookup"><span data-stu-id="72965-184">In order to ensure the fault domain constraint isn't violated, I’m willing to violate other constraints.”</span></span>

<span data-ttu-id="72965-185">Kısıtlamaları farklı öncelik düzeyleri ile yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="72965-185">Constraints can be configured with different priority levels.</span></span> <span data-ttu-id="72965-186">Bunlar:</span><span class="sxs-lookup"><span data-stu-id="72965-186">These are:</span></span>

   - <span data-ttu-id="72965-187">"sabit" (0)</span><span class="sxs-lookup"><span data-stu-id="72965-187">“hard” (0)</span></span>
   - <span data-ttu-id="72965-188">"yumuşak" (1)</span><span class="sxs-lookup"><span data-stu-id="72965-188">“soft” (1)</span></span>
   - <span data-ttu-id="72965-189">"en iyi duruma getirme" (2)</span><span class="sxs-lookup"><span data-stu-id="72965-189">“optimization” (2)</span></span>
   - <span data-ttu-id="72965-190">(-1 "kapalı").</span><span class="sxs-lookup"><span data-stu-id="72965-190">“off” (-1).</span></span> 
   
<span data-ttu-id="72965-191">Kısıtlamaların büyük bir bölümü sabit kısıtlamaları varsayılan olarak yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="72965-191">Most of the constraints are configured as hard constraints by default.</span></span>

<span data-ttu-id="72965-192">Kısıtlamaları önceliğini değiştirmek seyrek olur.</span><span class="sxs-lookup"><span data-stu-id="72965-192">Changing the priority of constraints is uncommon.</span></span> <span data-ttu-id="72965-193">Burada kısıtlaması öncelikleri, genellikle bazı diğer hata veya ortam etkileyen davranış çalışacak şekilde değiştirmek için gerekli kez olmuştur.</span><span class="sxs-lookup"><span data-stu-id="72965-193">There have been times where constraint priorities needed to change, usually to work around some other bug or behavior that was impacting the environment.</span></span> <span data-ttu-id="72965-194">Genellikle kısıtlaması öncelik altyapı esnekliğini çok iyi çalışmıştır ancak genellikle gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="72965-194">Generally the flexibility of the constraint priority infrastructure has worked very well, but it isn't needed often.</span></span> <span data-ttu-id="72965-195">Çoğu zaman, her şeyi varsayılan öncelikleri bulunur.</span><span class="sxs-lookup"><span data-stu-id="72965-195">Most of the time everything sits at their default priorities.</span></span> 

<span data-ttu-id="72965-196">Öncelik düzeyleri belirli bir kısıtlama anlamına yok _olacak_ ihlal, ya da her zaman karşılanması.</span><span class="sxs-lookup"><span data-stu-id="72965-196">The priority levels don't mean that a given constraint _will_ be violated, nor that it will always be met.</span></span> <span data-ttu-id="72965-197">Kısıtlama öncelikleri kısıtlamaları zorunlu tutulmaz sipariş tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="72965-197">Constraint priorities define an order in which constraints are enforced.</span></span> <span data-ttu-id="72965-198">Tüm kısıtlamaları karşılamak mümkün olduğunda öncelikleri dengelemeden tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="72965-198">Priorities define the tradeoffs when it is impossible to satisfy all constraints.</span></span> <span data-ttu-id="72965-199">Genellikle olmadıkça ortamda geçmeden başka bir şey tüm kısıtlamalar karşılanabilir.</span><span class="sxs-lookup"><span data-stu-id="72965-199">Usually all the constraints can be satisfied unless there's something else going on in the environment.</span></span> <span data-ttu-id="72965-200">Çakışan kısıtlamaları için bir kısıtlama ihlali götürür senaryoları bazı örnekleri şunlardır ya da çok sayıda eş zamanlı hataları.</span><span class="sxs-lookup"><span data-stu-id="72965-200">Some examples of scenarios that will lead to constraint violations are conflicting constraints, or large numbers of concurrent failures.</span></span>

<span data-ttu-id="72965-201">Gelişmiş durumlarda kısıtlaması önceliklerini değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="72965-201">In advanced situations, you can change the constraint priorities.</span></span> <span data-ttu-id="72965-202">Örneğin, benzeşimini her zaman düğüm kapasitesi sorunları çözmek için gerekli olduğunda ihlal edilebilir emin olmak istediğinizi varsayalım.</span><span class="sxs-lookup"><span data-stu-id="72965-202">For example, say you wanted to ensure that affinity would always be violated when necessary to solve node capacity issues.</span></span> <span data-ttu-id="72965-203">Bunun için "yumuşak" (1) için benzeşim kısıtlaması önceliğini ayarlama ve "sabit" için ayarlanan kapasite kısıtlamasına (0) bırakın.</span><span class="sxs-lookup"><span data-stu-id="72965-203">To achieve this, you could set the priority of the affinity constraint to “soft” (1) and leave the capacity constraint set to “hard” (0).</span></span>

<span data-ttu-id="72965-204">Farklı kısıtlamaları varsayılan öncelik değerleri aşağıdaki yapılandırma dosyasında belirtilir:</span><span class="sxs-lookup"><span data-stu-id="72965-204">The default priority values for the different constraints are specified in the following config:</span></span>

<span data-ttu-id="72965-205">ClusterManifest.xml</span><span class="sxs-lookup"><span data-stu-id="72965-205">ClusterManifest.xml</span></span>

```xml
        <Section Name="PlacementAndLoadBalancing">
            <Parameter Name="PlacementConstraintPriority" Value="0" />
            <Parameter Name="CapacityConstraintPriority" Value="0" />
            <Parameter Name="AffinityConstraintPriority" Value="0" />
            <Parameter Name="FaultDomainConstraintPriority" Value="0" />
            <Parameter Name="UpgradeDomainConstraintPriority" Value="1" />
            <Parameter Name="PreferredLocationConstraintPriority" Value="2" />
        </Section>
```

<span data-ttu-id="72965-206">tek başına dağıtımlarında ClusterConfig.json ya da Azure için Template.json aracılığıyla kümeleri barındırılan:</span><span class="sxs-lookup"><span data-stu-id="72965-206">via ClusterConfig.json for Standalone deployments or Template.json for Azure hosted clusters:</span></span>

```json
"fabricSettings": [
  {
    "name": "PlacementAndLoadBalancing",
    "parameters": [
      {
          "name": "PlacementConstraintPriority",
          "value": "0"
      },
      {
          "name": "CapacityConstraintPriority",
          "value": "0"
      },
      {
          "name": "AffinityConstraintPriority",
          "value": "0"
      },
      {
          "name": "FaultDomainConstraintPriority",
          "value": "0"
      },
      {
          "name": "UpgradeDomainConstraintPriority",
          "value": "1"
      },
      {
          "name": "PreferredLocationConstraintPriority",
          "value": "2"
      }
    ]
  }
]
```

## <a name="fault-domain-and-upgrade-domain-constraints"></a><span data-ttu-id="72965-207">Hata etki alanı ve yükseltme etki alanı kısıtlamaları</span><span class="sxs-lookup"><span data-stu-id="72965-207">Fault domain and upgrade domain constraints</span></span>
<span data-ttu-id="72965-208">Küme Kaynak Yöneticisi'ni hata ve yükseltme etki alanları arasında dağılmış Hizmetleri tutmak istiyor.</span><span class="sxs-lookup"><span data-stu-id="72965-208">The Cluster Resource Manager wants to keep services spread out among fault and upgrade domains.</span></span> <span data-ttu-id="72965-209">Bu küme Resource Manager'ın altyapısı içinde bir kısıtlama olarak modeller.</span><span class="sxs-lookup"><span data-stu-id="72965-209">It models this as a constraint inside the Cluster Resource Manager’s engine.</span></span> <span data-ttu-id="72965-210">Bunların nasıl kullanıldığı hakkında daha fazla bilgi ve belirli davranışlarını için makalesine kontrol [küme yapılandırması](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span><span class="sxs-lookup"><span data-stu-id="72965-210">For more information on how they are used and their specific behavior, check out the article on [cluster configuration](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span></span>

<span data-ttu-id="72965-211">Küme Kaynak Yöneticisi'ni bir yükseltme etki alanına paketini yükseltmeler, hataları veya başka bir kısıtlama ihlali ile mücadele etmek için birkaç çoğaltmaları gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="72965-211">The Cluster Resource Manager may need to pack a couple replicas into an upgrade domain in order to deal with upgrades, failures, or other constraint violations.</span></span> <span data-ttu-id="72965-212">Yalnızca birkaç hataları veya diğer karmaşası doğru yerleştirme önleme sistemde hatası veya yükseltme etki alanlarına normalde sevk olur.</span><span class="sxs-lookup"><span data-stu-id="72965-212">Packing into fault or upgrade domains normally happens only when there are several failures or other churn in the system preventing correct placement.</span></span> <span data-ttu-id="72965-213">Bu durumlarda sırasında bile paketleme önlemek isterseniz, kullanabileceği `RequireDomainDistribution` [yerleştirme İlkesi](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="72965-213">If you wish to prevent packing even during these situations, you can utilize the `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="72965-214">Bu hizmet kullanılabilirliği ve güvenilirliği bir yan etkisi olarak etkiler, bu nedenle dikkatlice düşünün dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="72965-214">Note that this may affect service availability and reliability as a side effect, so consider it carefully.</span></span>

<span data-ttu-id="72965-215">Ortam doğru şekilde yapılandırıldıysa, tüm kısıtlamalarını tam olarak, bile yükseltmeler sırasında kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72965-215">If the environment is configured correctly, all constraints are fully respected, even during upgrades.</span></span> <span data-ttu-id="72965-216">Küme Kaynak Yöneticisi için kısıtlamaları izliyor, anahtar şeydir.</span><span class="sxs-lookup"><span data-stu-id="72965-216">The key thing is that the Cluster Resource Manager is watching out for your constraints.</span></span> <span data-ttu-id="72965-217">Bir ihlali algıladığında hemen rapor ve sorunu gidermek çalışır.</span><span class="sxs-lookup"><span data-stu-id="72965-217">When it detects a violation it immediately reports it and tries to correct the issue.</span></span>

## <a name="the-preferred-location-constraint"></a><span data-ttu-id="72965-218">Tercih edilen konum kısıtlaması</span><span class="sxs-lookup"><span data-stu-id="72965-218">The preferred location constraint</span></span>
<span data-ttu-id="72965-219">İki farklı kullanımlar taşıdığından PreferredLocation kısıtlaması biraz farklıdır.</span><span class="sxs-lookup"><span data-stu-id="72965-219">The PreferredLocation constraint is a little different, as it has two different uses.</span></span> <span data-ttu-id="72965-220">Bir kısıtlamanın uygulama yükseltmeler sırasında kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72965-220">One use of this constraint is during application upgrades.</span></span> <span data-ttu-id="72965-221">Küme Kaynak Yöneticisi, bu kısıtlamayı yükseltmeler sırasında otomatik olarak yönetir.</span><span class="sxs-lookup"><span data-stu-id="72965-221">The Cluster Resource Manager automatically manages this constraint during upgrades.</span></span> <span data-ttu-id="72965-222">Yükseltme tamamlandığında çoğaltmaları ilk konumlarına geri dönüş emin olmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72965-222">It is used to ensure that when upgrades are complete that replicas return to their initial locations.</span></span> <span data-ttu-id="72965-223">Diğer PreferredLocation kısıtlaması için kullanımıdır [ `PreferredPrimaryDomain` yerleştirme İlkesi](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span><span class="sxs-lookup"><span data-stu-id="72965-223">The other use of the PreferredLocation constraint is for the [`PreferredPrimaryDomain` placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span></span> <span data-ttu-id="72965-224">Bunların her ikisi de en iyi duruma getirme ve bu nedenle PreferredLocation kısıtlaması "En iyi duruma getirme için" varsayılan olarak ayarlanmış yalnızca kısıtlaması.</span><span class="sxs-lookup"><span data-stu-id="72965-224">Both of these are optimizations, and hence the PreferredLocation constraint is the only constraint set to "Optimization" by default.</span></span>

## <a name="upgrades"></a><span data-ttu-id="72965-225">Yükseltme</span><span class="sxs-lookup"><span data-stu-id="72965-225">Upgrades</span></span>
<span data-ttu-id="72965-226">Küme Kaynak Yöneticisi'ni de uygulama ve hangi sırasında iki iş bulunmuyor Küme yükseltme sırasında yardımcı olur:</span><span class="sxs-lookup"><span data-stu-id="72965-226">The Cluster Resource Manager also helps during application and cluster upgrades, during which it has two jobs:</span></span>

* <span data-ttu-id="72965-227">Kural kümesinin tehlikeye emin olun</span><span class="sxs-lookup"><span data-stu-id="72965-227">ensure that the rules of the cluster are not compromised</span></span>
* <span data-ttu-id="72965-228">sorunsuz yükseltme yardımcı olmak için deneyin</span><span class="sxs-lookup"><span data-stu-id="72965-228">try to help the upgrade go smoothly</span></span>

### <a name="keep-enforcing-the-rules"></a><span data-ttu-id="72965-229">Kuralları zorunlu tutun</span><span class="sxs-lookup"><span data-stu-id="72965-229">Keep enforcing the rules</span></span>
<span data-ttu-id="72965-230">Dikkat edilmesi gereken ana – katı kısıtlamaları kısıtlamalarından ve kapasiteleri gibi - kuralları yükseltmeler sırasında zorunlu tutulmaz şeydir.</span><span class="sxs-lookup"><span data-stu-id="72965-230">The main thing to be aware of is that the rules – the strict constraints like placement constraints and capacities - are still enforced during upgrades.</span></span> <span data-ttu-id="72965-231">Kısıtlamalarından iş yüklerinizi yalnızca burada bunlar, hatta yükseltmeler sırasında izin verilen çalıştırdığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="72965-231">Placement constraints ensure that your workloads only run where they are allowed to, even during upgrades.</span></span> <span data-ttu-id="72965-232">Hizmetler yüksek oranda kısıtlı kullanılırken yükseltmeler uzun sürebilir.</span><span class="sxs-lookup"><span data-stu-id="72965-232">When services are highly constrained, upgrades can take longer.</span></span> <span data-ttu-id="72965-233">Hizmet veya üzerinde çalıştığı düğüm için bir güncelleştirme yapıldığında, gidebilecekleri için birkaç seçenek olabilir.</span><span class="sxs-lookup"><span data-stu-id="72965-233">When the service or the node it is running on is brought down for an update there may be few options for where it can go.</span></span>

### <a name="smart-replacements"></a><span data-ttu-id="72965-234">Akıllı değişiklik</span><span class="sxs-lookup"><span data-stu-id="72965-234">Smart replacements</span></span>
<span data-ttu-id="72965-235">Yükseltme başladığında, kaynak yöneticisi kümenin geçerli düzenleme, bir anlık görüntüsünü alır.</span><span class="sxs-lookup"><span data-stu-id="72965-235">When an upgrade starts, the Resource Manager takes a snapshot of the current arrangement of the cluster.</span></span> <span data-ttu-id="72965-236">Her yükseltme etki alanı tamamladıkça kendi özgün düzenleme, yükseltme etki alanında olan hizmetleri döndürmeye çalışır.</span><span class="sxs-lookup"><span data-stu-id="72965-236">As each Upgrade Domain completes, it attempts to return the services that were in that Upgrade Domain to their original arrangement.</span></span> <span data-ttu-id="72965-237">Bu şekilde var. en çok bir hizmet için iki geçişleri yükseltme sırasında</span><span class="sxs-lookup"><span data-stu-id="72965-237">This way there are at most two transitions for a service during the upgrade.</span></span> <span data-ttu-id="72965-238">Etkilenen düğümünün çıkışı bir taşıma yoktur ve bir geri içeri taşı.</span><span class="sxs-lookup"><span data-stu-id="72965-238">There is one move out of the affected node and one move back in.</span></span> <span data-ttu-id="72965-239">Yükseltmeden önce nasıl olduğu için Küme veya hizmetin döndürme, aynı zamanda yükseltme kümenin düzeni etkilemez sağlar.</span><span class="sxs-lookup"><span data-stu-id="72965-239">Returning the cluster or service to how it was before the upgrade also ensures the upgrade doesn’t impact the layout of the cluster.</span></span> 

### <a name="reduced-churn"></a><span data-ttu-id="72965-240">Azaltılmış karmaşası</span><span class="sxs-lookup"><span data-stu-id="72965-240">Reduced churn</span></span>
<span data-ttu-id="72965-241">Yükseltme sırasında gerçekleşen başka bir şey Dengeleme kapalı Küme Kaynak Yöneticisi'ni açar olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="72965-241">Another thing that happens during upgrades is that the Cluster Resource Manager turns off balancing.</span></span> <span data-ttu-id="72965-242">Dengeleme önleme Hizmetleri yükseltme için Boşaltılan düğümleri taşınmasını gibi yükseltme kendisi için gereksiz tepki engeller.</span><span class="sxs-lookup"><span data-stu-id="72965-242">Preventing balancing prevents unnecessary reactions to the upgrade itself, like moving services into nodes that were emptied for the upgrade.</span></span> <span data-ttu-id="72965-243">Küme Yükseltme yükseltme söz konusu ise, tüm küme yükseltme sırasında dengelenir değil.</span><span class="sxs-lookup"><span data-stu-id="72965-243">If the upgrade in question is a Cluster upgrade, then the entire cluster is not balanced during the upgrade.</span></span> <span data-ttu-id="72965-244">Kısıtlama denetimleri etkin kalır, yalnızca taşıma öngörülü Dengeleme ölçümlerini üzerinde temel devre dışı bırakıldı.</span><span class="sxs-lookup"><span data-stu-id="72965-244">Constraint checks stay active, only movement based on the proactive balancing of metrics is disabled.</span></span>

### <a name="buffered-capacity--upgrade"></a><span data-ttu-id="72965-245">Arabelleğe alınan kapasite & yükseltme</span><span class="sxs-lookup"><span data-stu-id="72965-245">Buffered Capacity & Upgrade</span></span>
<span data-ttu-id="72965-246">Genellikle küme kısıtlı olsa bile veya tam yakın tamamlamak için yükseltme istersiniz.</span><span class="sxs-lookup"><span data-stu-id="72965-246">Generally you want the upgrade to complete even if the cluster is constrained or close to full.</span></span> <span data-ttu-id="72965-247">Küme kapasitesini yönetme yükseltmeler sırasında normalden daha da önemlidir.</span><span class="sxs-lookup"><span data-stu-id="72965-247">Managing the capacity of the cluster is even more important during upgrades than usual.</span></span> <span data-ttu-id="72965-248">Yükseltme küme boyunca yapar gibi yükseltme etki alanlarının sayısına bağlı olarak, 5 ve kapasite yüzde 20 arasında geçirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="72965-248">Depending on the number of upgrade domains, between 5 and 20 percent of capacity must be migrated as the upgrade rolls through the cluster.</span></span> <span data-ttu-id="72965-249">Başka bir yere gitmek bu iş vardır.</span><span class="sxs-lookup"><span data-stu-id="72965-249">That work has to go somewhere.</span></span> <span data-ttu-id="72965-250">Bu yerdir kavramı [kapasiteleri arabelleğe](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="72965-250">This is where the notion of [buffered capacities](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) is useful.</span></span> <span data-ttu-id="72965-251">Arabelleğe alınan kapasite normal işlem sırasında dikkate.</span><span class="sxs-lookup"><span data-stu-id="72965-251">Buffered capacity is respected during normal operation.</span></span> <span data-ttu-id="72965-252">Küme Kaynak Yöneticisi'ni (arabellek tüketen) kapasitelerine toplam en fazla düğüm gerekirse, yükseltmeler sırasında doldurabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="72965-252">The Cluster Resource Manager may fill nodes up to their total capacity (consuming the buffer) during upgrades if necessary.</span></span>

## <a name="next-steps"></a><span data-ttu-id="72965-253">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="72965-253">Next steps</span></span>
* <span data-ttu-id="72965-254">En baştan başlatın ve [bir giriş için Service Fabric kümesi Resource Manager Al](service-fabric-cluster-resource-manager-introduction.md)</span><span class="sxs-lookup"><span data-stu-id="72965-254">Start from the beginning and [get an Introduction to the Service Fabric Cluster Resource Manager](service-fabric-cluster-resource-manager-introduction.md)</span></span>
