---
title: "Service Fabric olay çözümleme Application Insights ile aaaAzure | Microsoft Docs"
description: "Görselleştirme ve izleme ve tanılama Azure Service Fabric kümeleri için Application Insights kullanarak olayları analiz etme hakkında bilgi edinin."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 05/26/2017
ms.author: dekapur
ms.openlocfilehash: 59bb5a409f2951e5b2034049e782dd0da67f933c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="event-analysis-and-visualization-with-application-insights"></a><span data-ttu-id="73c6b-103">Olay çözümleme ve görselleştirme Application Insights ile</span><span class="sxs-lookup"><span data-stu-id="73c6b-103">Event analysis and visualization with Application Insights</span></span>

<span data-ttu-id="73c6b-104">Azure Application Insights, uygulama izleme ve tanılama için genişletilebilir bir platformdur.</span><span class="sxs-lookup"><span data-stu-id="73c6b-104">Azure Application Insights is an extensible platform for application monitoring and diagnostics.</span></span> <span data-ttu-id="73c6b-105">Uyarı seçenekleri de dahil olmak üzere daha fazla otomatik ve güçlü analytics ve aracı, özelleştirilebilir bir Pano ve görselleştirmeleri sorgulama içerir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-105">It includes a powerful analytics and querying tool, customizable dashboard and visualizations, and further options including automated alerting.</span></span> <span data-ttu-id="73c6b-106">Bu izleme için platform ve tanılama Service Fabric uygulamaları ve Hizmetleri için önerilen hello olur.</span><span class="sxs-lookup"><span data-stu-id="73c6b-106">It is hello recommended platform for monitoring and diagnostics for Service Fabric applications and services.</span></span>

## <a name="setting-up-application-insights"></a><span data-ttu-id="73c6b-107">Application Insights ayarlama</span><span class="sxs-lookup"><span data-stu-id="73c6b-107">Setting up Application Insights</span></span>

### <a name="creating-an-ai-resource"></a><span data-ttu-id="73c6b-108">AI kaynak oluşturma</span><span class="sxs-lookup"><span data-stu-id="73c6b-108">Creating an AI Resource</span></span>

<span data-ttu-id="73c6b-109">toocreate bir AI kaynak, toohello Azure Marketi ve "Application Insights" araması üzerinden head.</span><span class="sxs-lookup"><span data-stu-id="73c6b-109">toocreate an AI resource, head over toohello Azure Marketplace, and search for "Application Insights".</span></span> <span data-ttu-id="73c6b-110">Bunu hello ilk çözüm ("Web + mobil" kategorisi altında olduğu) olarak gösterilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-110">It should show up as hello first solution (it is under category "Web + Mobile").</span></span> <span data-ttu-id="73c6b-111">Tıklatın **oluşturma** zaman, arıyor hello sağ kaynakta (yolunuzu hello resimde eşleştiğini onaylayın).</span><span class="sxs-lookup"><span data-stu-id="73c6b-111">Click **Create** when you are looking at hello right resource (confirm that your path matches hello image below).</span></span>

![Yeni Application Insights kaynağı](media/service-fabric-diagnostics-event-analysis-appinsights/create-new-ai-resource.png)

<span data-ttu-id="73c6b-113">Bazı bilgiler tooprovision hello kaynak çıkışı toofill doğru gerekir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-113">You will need toofill out some information tooprovision hello resource correctly.</span></span> <span data-ttu-id="73c6b-114">Merhaba, *uygulama türü* alanını kullan "ASP.NET web uygulaması", Service Fabric birini kullanıyorsanız modellerini programlama veya bir .NET uygulama toohello küme yayımlama.</span><span class="sxs-lookup"><span data-stu-id="73c6b-114">In hello *Application Type* field, use "ASP.NET web application" if you will be using any of Service Fabric's programming models or publishing a .NET application toohello cluster.</span></span> <span data-ttu-id="73c6b-115">Konuk yürütülebilir dosyalar ve kapsayıcıları dağıtacaksanız "Genel" kullanın.</span><span class="sxs-lookup"><span data-stu-id="73c6b-115">Use "General" if you will be deploying guest executables and containers.</span></span> <span data-ttu-id="73c6b-116">Genel olarak, varsayılan toousing "ASP.NET web uygulaması" tookeep seçeneklerinizi hello gelecekteki açın.</span><span class="sxs-lookup"><span data-stu-id="73c6b-116">In general, default toousing "ASP.NET web application" tookeep your options open in hello future.</span></span> <span data-ttu-id="73c6b-117">Merhaba adı tooyour tercih olduğunu ve hello kaynak grubu ve abonelik hello kaynak değiştirilebilir dağıtım sonrası.</span><span class="sxs-lookup"><span data-stu-id="73c6b-117">hello name is up tooyour preference, and both hello resource group and subscription are changeable post-deployment of hello resource.</span></span> <span data-ttu-id="73c6b-118">AI kaynağınız hello olduğunu öneririz, kümeniz ile aynı kaynak grubunda.</span><span class="sxs-lookup"><span data-stu-id="73c6b-118">We recommend that your AI resource is in hello same resource group as your cluster.</span></span> <span data-ttu-id="73c6b-119">Daha fazla bilgiye ihtiyacınız varsa, lütfen bakın [Application Insights kaynağı oluşturma](../application-insights/app-insights-create-new-resource.md)</span><span class="sxs-lookup"><span data-stu-id="73c6b-119">If you need more information, please see [Create an Application Insights resource](../application-insights/app-insights-create-new-resource.md)</span></span>

<span data-ttu-id="73c6b-120">Olay toplama aracıyla hello AI izleme anahtarını tooconfigure AI gerekir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-120">You need hello AI Instrumentation Key tooconfigure AI with your event aggregation tool.</span></span> <span data-ttu-id="73c6b-121">AI kaynağınız (Merhaba dağıtım doğrulandıktan sonra birkaç dakika sürer) ayarladıktan sonra tooit gidin ve hello bulur **özellikleri** hello sol gezinti çubuğunda bölümü.</span><span class="sxs-lookup"><span data-stu-id="73c6b-121">Once your AI resource is set up (takes a few minutes after hello deployment is validated), navigate tooit and find hello **Properties** section on hello left navigation bar.</span></span> <span data-ttu-id="73c6b-122">Yeni bir dikey pencere gösteren açılır bir *izleme ANAHTARINI*.</span><span class="sxs-lookup"><span data-stu-id="73c6b-122">A new blade will open up that shows an *INSTRUMENTATION KEY*.</span></span> <span data-ttu-id="73c6b-123">Toochange hello abonelik veya kaynak grubu hello kaynağının gerekiyorsa, bunu burada de yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-123">If you need toochange hello subscription or resource group of hello resource, it can be done here as well.</span></span>

### <a name="configuring-ai-with-wad"></a><span data-ttu-id="73c6b-124">AI WAD ile yapılandırma</span><span class="sxs-lookup"><span data-stu-id="73c6b-124">Configuring AI with WAD</span></span>

<span data-ttu-id="73c6b-125">Hangi ayrıntılı biçimde açıklandığı gibi bir AI havuz toohello WAD yapılandırma ekleyerek elde toosend verilerden WAD tooAzure AI, birincil iki yolu vardır [bu makalede](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span><span class="sxs-lookup"><span data-stu-id="73c6b-125">There are two primary ways toosend data from WAD tooAzure AI, which is achieved by adding an AI sink toohello WAD configuration, as detailed in [this article](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span></span>

#### <a name="add-an-ai-instrumentation-key-when-creating-a-cluster-in-azure-portal"></a><span data-ttu-id="73c6b-126">Azure portalında bir küme oluştururken, bir AI izleme anahtarını ekleyin</span><span class="sxs-lookup"><span data-stu-id="73c6b-126">Add an AI Instrumentation Key when creating a cluster in Azure portal</span></span>

![Bir AIKey ekleme](media/service-fabric-diagnostics-event-analysis-appinsights/azure-enable-diagnostics.png)

<span data-ttu-id="73c6b-128">"Açık" tanılama etkinleştirdiyseniz bir küme oluştururken, bir isteğe bağlı alan tooenter bir uygulama Insights izleme anahtarı gösterir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-128">When creating a cluster, if Diagnostics is turned "On", an optional field tooenter an Application Insights Instrumentation key will show.</span></span> <span data-ttu-id="73c6b-129">AI IKey burada yapıştırırsanız hello AI havuz otomatik olarak kullanılan toodeploy olan hello Resource Manager şablonunda kümenizi yapılandırdığınız.</span><span class="sxs-lookup"><span data-stu-id="73c6b-129">If you paste your AI IKey here, hello AI sink will be automatically configured for you in hello Resource Manager template that is used toodeploy your cluster.</span></span>

#### <a name="add-hello-ai-sink-toohello-resource-manager-template"></a><span data-ttu-id="73c6b-130">Merhaba AI havuz toohello Resource Manager şablonu Ekle</span><span class="sxs-lookup"><span data-stu-id="73c6b-130">Add hello AI Sink toohello Resource Manager template</span></span>

<span data-ttu-id="73c6b-131">Aşağıdaki iki değişiklikler hello dahil ederek "Havuz" Hello "WadCfg" Merhaba Resource Manager şablonu, ekleyin:</span><span class="sxs-lookup"><span data-stu-id="73c6b-131">In hello "WadCfg" of hello Resource Manager template, add a "Sink" by including hello following two changes:</span></span>

1. <span data-ttu-id="73c6b-132">Merhaba havuz yapılandırma ekleyin:</span><span class="sxs-lookup"><span data-stu-id="73c6b-132">Add hello sink configuration:</span></span>

    ```json
    "SinksConfig": {
        "Sink": [
            {
                "name": "applicationInsights",
                "ApplicationInsights": "***ADD INSTRUMENTATION KEY HERE***"
            }
        ]
    }

    ```

2. <span data-ttu-id="73c6b-133">Merhaba havuz hello "WadCfg" "DiagnosticMonitorConfiguration" satırında şu hello ekleyerek hello DiagnosticMonitorConfiguration şunlardır:</span><span class="sxs-lookup"><span data-stu-id="73c6b-133">Include hello Sink in hello DiagnosticMonitorConfiguration by adding hello following line in "DiagnosticMonitorConfiguration" of hello "WadCfg":</span></span>

    ```json
    "sinks": "applicationInsights"
    ```

<span data-ttu-id="73c6b-134">Her iki hello kod parçacıkları hello yukarıda kullanılan toodescribe hello havuz adı "Applicationınsights" içindeydi.</span><span class="sxs-lookup"><span data-stu-id="73c6b-134">In both hello code snippets above, hello name "applicationInsights" was used toodescribe hello sink.</span></span> <span data-ttu-id="73c6b-135">Bu zorunlu değildir ve "havuzlarını içinde" hello havuz hello adını dahil olduğu sürece, başlangıç ad tooany dizesi ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="73c6b-135">This is not a requirement and as long as hello name of hello sink is included in "sinks", you can set hello name tooany string.</span></span>

<span data-ttu-id="73c6b-136">Şu anda hello küme günlüklerinden AI'ın günlük Görüntüleyici içindeki olarak görünecektir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-136">Currently, logs from hello cluster will show up as traces in AI's log viewer.</span></span> <span data-ttu-id="73c6b-137">Çoğu hello platformundan gelen hello izlemeleri düzeyi "Bilgilendirici" olduğundan, türü "Kritik" veya "Error" Merhaba havuz yapılandırma tooonly gönderme günlükleri değiştirme de düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="73c6b-137">Since most of hello traces coming from hello platform are of level "Informational", you can also consider changing hello sink configuration tooonly send logs of type "Critical" or "Error".</span></span> <span data-ttu-id="73c6b-138">Bu "Kanalları" tooyour havuz ekleyerek şekilde yapılabilir [bu makalede](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span><span class="sxs-lookup"><span data-stu-id="73c6b-138">This can be done by adding "Channels" tooyour sink, as demonstrated in [this article](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span></span>

>[!NOTE]
><span data-ttu-id="73c6b-139">Yanlış bir AI IKey portalında veya Resource Manager şablonunu kullanırsanız, toomanually hello anahtarını değiştirin ve hello küme güncelleştirme / yeniden dağıtmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-139">If you use an incorrect AI IKey either in portal or in your Resource Manager template, you will have toomanually change hello key and update hello cluster / redeploy it.</span></span> 

### <a name="configuring-ai-with-eventflow"></a><span data-ttu-id="73c6b-140">AI EventFlow ile yapılandırma</span><span class="sxs-lookup"><span data-stu-id="73c6b-140">Configuring AI with EventFlow</span></span>

<span data-ttu-id="73c6b-141">EventFlow tooaggregate olayları kullanıyorsanız emin tooimport hello olun `Microsoft.Diagnostics.EventFlow.Output.ApplicationInsights`NuGet paketi.</span><span class="sxs-lookup"><span data-stu-id="73c6b-141">If you are using EventFlow tooaggregate events, make sure tooimport hello `Microsoft.Diagnostics.EventFlow.Output.ApplicationInsights`NuGet package.</span></span> <span data-ttu-id="73c6b-142">Merhaba aşağıdaki sahip hello dahil toobe *çıkarır* hello bölümünü *eventFlowConfig.json*:</span><span class="sxs-lookup"><span data-stu-id="73c6b-142">hello following has toobe included in hello *outputs* section of hello *eventFlowConfig.json*:</span></span>

```json
"outputs": [
    {
        "type": "ApplicationInsights",
        // (replace hello following value with your AI resource's instrumentation key)
        "instrumentationKey": "00000000-0000-0000-0000-000000000000"
    }
]
```

<span data-ttu-id="73c6b-143">Filtrelerinizi içinde emin toomake hello gerekli değişiklikleri yapın gibi başka bir giriş (birlikte ilgili kendi NuGet paketleri) içerir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-143">Make sure toomake hello required changes in your filters, as well as include any other inputs (along with their respective NuGet packages).</span></span>

## <a name="aisdk"></a><span data-ttu-id="73c6b-144">AI. SDK'SI</span><span class="sxs-lookup"><span data-stu-id="73c6b-144">AI.SDK</span></span>

<span data-ttu-id="73c6b-145">Toouse EventFlow genellikle önerilir ve WAD toplama çözümler olarak çünkü için daha modüler bir yaklaşım toodiagnostics sağlarlar ve EventFlow, çıkışlarından toochange istiyorsanız, yani izleme, gerçek hiçbir değişiklik tooyour gerektirir İzleme, yalnızca bir basit bir değişiklikle tooyour yapılandırma dosyası.</span><span class="sxs-lookup"><span data-stu-id="73c6b-145">It is generally recommended toouse EventFlow and WAD as aggregation solutions, because they allow for a more modular approach toodiagnostics and monitoring, i.e. if you want toochange your outputs from EventFlow, it requires no change tooyour actual instrumentation, just a simple modification tooyour config file.</span></span> <span data-ttu-id="73c6b-146">Ancak, Application Insights kullanarak tooinvest karar verin ve büyük olasılıkla toochange tooa farklı platform olmayan varsa, olay toplama ve tooAI göndermek için AI'ın yeni bir SDK kullanarak görünmelidir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-146">If, however, you decide tooinvest in using Application Insights and are not likely toochange tooa different platform, you should look into using AI's new SDK for aggregating events and sending them tooAI.</span></span> <span data-ttu-id="73c6b-147">Bu tooconfigure EventFlow toosend veri tooAI artık yoktur, ancak bunun yerine hello ApplicationInsight'ın Service Fabric NuGet paketini yükleyecek anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="73c6b-147">This means that you will no longer have tooconfigure EventFlow toosend your data tooAI, but instead will install hello ApplicationInsight's Service Fabric NuGet package.</span></span> <span data-ttu-id="73c6b-148">Ayrıntılar hello paketinizdeki bulunabilir [burada](https://github.com/Microsoft/ApplicationInsights-ServiceFabric).</span><span class="sxs-lookup"><span data-stu-id="73c6b-148">Details on hello package can be found [here](https://github.com/Microsoft/ApplicationInsights-ServiceFabric).</span></span>

<span data-ttu-id="73c6b-149">[Application Insights mikro ve kapsayıcıları için desteği](https://azure.microsoft.com/app-insights-microservices/) bazı gösterir (üzerinde hala halen beta) çalışan hello yeni özellikleri, hangi izin toohave daha zengin Giden kutusu izleme seçeneklerini AI ile.</span><span class="sxs-lookup"><span data-stu-id="73c6b-149">[Application Insights support for Microservices and Containers](https://azure.microsoft.com/app-insights-microservices/) shows you some of hello new features that are being worked on (currently still in beta), which allow you toohave richer out-of-the-box monitoring options with AI.</span></span> <span data-ttu-id="73c6b-150">Bu bağımlılık izleme (bir AppMap, tüm hizmet ve uygulamaların küme ve hello iletişimde aralarında oluşturulmasında kullanılan) ve daha iyi bağıntı hizmetlerinizin (daha iyi bir sorunu hello yerini tam olarak belirtmekte yardımcı olur'ten gelen izlemeleri içerir İş akışı bir uygulama veya hizmet).</span><span class="sxs-lookup"><span data-stu-id="73c6b-150">These include dependency tracking (used in building an AppMap of all your services and applications in a cluster and hello communication between them), and better correlation of traces coming from your services (helps in better pinpointing an issue in hello workflow of an app or service).</span></span>

<span data-ttu-id="73c6b-151">.NET geliştirme ve olasılığı olması bazı Service Fabric'ın programlama modeli kullanarak ve izlemenizi olarak AI SDK rota hello Git öneririz sonra olay ve günlük verilerini çözümleme ve görselleştirme için platformunuz olarak istekli toouse AI demektir ve Tanılama iş akışı.</span><span class="sxs-lookup"><span data-stu-id="73c6b-151">If you are developing in .NET and will likely be using some of Service Fabric's programming models, and are willing toouse AI as your platform for visualizing and analyzing event and log data, then we recommend that you go via hello AI SDK route as your monitoring and diagnostics workflow.</span></span> <span data-ttu-id="73c6b-152">Okuma [bu](../application-insights/app-insights-asp-net-more.md) ve [bu](../application-insights/app-insights-asp-net-trace-logs.md) tooget AI toocollect kullanmaya ve günlüklerinizi görüntüler.</span><span class="sxs-lookup"><span data-stu-id="73c6b-152">Read [this](../application-insights/app-insights-asp-net-more.md) and [this](../application-insights/app-insights-asp-net-trace-logs.md) tooget started with using AI toocollect and display your logs.</span></span>

## <a name="navigating-hello-ai-resource-in-azure-portal"></a><span data-ttu-id="73c6b-153">Azure portalında Hello AI kaynak gezinme</span><span class="sxs-lookup"><span data-stu-id="73c6b-153">Navigating hello AI resource in Azure portal</span></span>

<span data-ttu-id="73c6b-154">Olayları ve günlükleri için bir çıktı olarak AI yapılandırdıktan sonra bilgi tooshow AI kaynağınız birkaç dakika içinde Başlat.</span><span class="sxs-lookup"><span data-stu-id="73c6b-154">Once you have configured AI as an output for your events and logs, information should start tooshow up in your AI resource in a few minutes.</span></span> <span data-ttu-id="73c6b-155">Toohello AI kaynak Panosu sürer toohello AI kaynak gidin.</span><span class="sxs-lookup"><span data-stu-id="73c6b-155">Navigate toohello AI resource, which will take you toohello AI resource dashboard.</span></span> <span data-ttu-id="73c6b-156">Tıklatın **arama** alınan hello AI görev toosee hello son izlemeleri ve toobe mümkün toofilter gezinebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="73c6b-156">Click **Search** in hello AI taskbar toosee hello latest traces that it has received, and toobe able toofilter through them.</span></span>

<span data-ttu-id="73c6b-157">*Ölçüm Gezgini* uygulamaları, hizmetleri ve küme raporlama ölçümleri temel özel panolar oluşturmak için yararlı bir araçtır.</span><span class="sxs-lookup"><span data-stu-id="73c6b-157">*Metrics Explorer* is a useful tool for creating custom dashboards based on metrics that your applications, services, and cluster may be reporting.</span></span> <span data-ttu-id="73c6b-158">Bkz: [keşfetme ölçümleri Application ınsights'ta](../application-insights/app-insights-metrics-explorer.md) tooset kendiniz birkaç grafiklerde yukarı dayalı toplama hello verileri.</span><span class="sxs-lookup"><span data-stu-id="73c6b-158">See [Exploring Metrics in Application Insights](../application-insights/app-insights-metrics-explorer.md) tooset up a few charts for yourself based on hello data you are collecting.</span></span>

<span data-ttu-id="73c6b-159">Tıklatarak **Analytics** burada olayları ve büyük kapsam ve isteğe bağlı olma izlemeleri sorgulayabilir toohello uygulama Öngörüler Analytics portalı sürer.</span><span class="sxs-lookup"><span data-stu-id="73c6b-159">Clicking **Analytics** will take you toohello Application Insights Analytics portal, where you can query events and traces with greater scope and optionality.</span></span> <span data-ttu-id="73c6b-160">Şu anda hakkında daha fazla bilgiyi [Application Insights analizleri](../application-insights/app-insights-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="73c6b-160">Read more about this at [Analytics in Application Insights](../application-insights/app-insights-analytics.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="73c6b-161">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="73c6b-161">Next steps</span></span>

* <span data-ttu-id="73c6b-162">[AI uyarıları ayarlama](../application-insights/app-insights-alerts.md) performans veya kullanım değişiklikleri hakkında bildirimde toobe</span><span class="sxs-lookup"><span data-stu-id="73c6b-162">[Set up Alerts in AI](../application-insights/app-insights-alerts.md) toobe notified about changes in performance or usage</span></span>
* <span data-ttu-id="73c6b-163">[Akıllı algılama Application ınsights'ta](../application-insights/app-insights-proactive-diagnostics.md) tooAI toowarn hello telemetri gönderimini öngörülü bir analizini gerçekleştirir, olası performans sorunları</span><span class="sxs-lookup"><span data-stu-id="73c6b-163">[Smart Detection in Application Insights](../application-insights/app-insights-proactive-diagnostics.md) performs a proactive analysis of hello telemetry being sent tooAI toowarn you of potential performance problems</span></span>
