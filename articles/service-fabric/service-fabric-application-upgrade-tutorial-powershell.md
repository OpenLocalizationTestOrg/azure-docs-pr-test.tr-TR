---
title: "PowerShell kullanarak Service Fabric uygulaması yükseltme | Microsoft Docs"
description: "Bu makalede bir Service Fabric uygulaması dağıtma, kodunu değiştirme ve PowerShell kullanarak yükseltme çalışırken deneyimi anlatılmaktadır."
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: 9bc75748-96b0-49ca-8d8a-41fe08398f25
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: 3591ced970887d4eb5a33cec8f6951b5476d04f8
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/18/2017
---
# <a name="service-fabric-application-upgrade-using-powershell"></a><span data-ttu-id="3bc7b-103">PowerShell kullanarak Service Fabric uygulama yükseltme</span><span class="sxs-lookup"><span data-stu-id="3bc7b-103">Service Fabric application upgrade using PowerShell</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="3bc7b-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="3bc7b-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="3bc7b-105">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="3bc7b-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="3bc7b-106">En sık kullanılan ve önerilen yükseltme izlenen yükseltme yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-106">The most frequently used and recommended upgrade approach is the monitored rolling upgrade.</span></span>  <span data-ttu-id="3bc7b-107">Azure Service Fabric sistem durumu ilkeleri kümesine göre yükseltilen uygulama durumunu izler.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-107">Azure Service Fabric monitors the health of the application being upgraded based on a set of health policies.</span></span> <span data-ttu-id="3bc7b-108">Bir güncelleştirme etki alanı (UD) yükseltildikten sonra Service Fabric uygulama durumunu değerlendirir ve bir sonraki güncelleştirme etki alanına devam eder veya sistem durumu ilkeleri bağlı olarak yükseltme başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-108">Once an update domain (UD) is upgraded, Service Fabric evaluates the application health and either proceeds to the next update domain or fails the upgrade depending on the health policies.</span></span>

<span data-ttu-id="3bc7b-109">İzlenen uygulama yükseltme yönetilen veya özgün API'leri, PowerShell veya REST kullanılarak gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-109">A monitored application upgrade can be performed using the managed or native APIs, PowerShell, or REST.</span></span> <span data-ttu-id="3bc7b-110">Visual Studio kullanarak bir yükseltme gerçekleştirme hakkında yönergeler için bkz: [Visual Studio kullanarak uygulamanızı yükseltme](service-fabric-application-upgrade-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="3bc7b-110">For instructions on performing an upgrade using Visual Studio, see [Upgrading your application using Visual Studio](service-fabric-application-upgrade-tutorial.md).</span></span>

<span data-ttu-id="3bc7b-111">Service Fabric izlenen kesinti olmadan yükseltme ile Uygulama Yöneticisi uygulama sağlıklı olup olmadığını belirlemek için Service Fabric kullanan sistem durumu değerlendirme ilkesi yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-111">With Service Fabric monitored rolling upgrades, the application administrator can configure the health evaluation policy that Service Fabric uses to determine if the application is healthy.</span></span> <span data-ttu-id="3bc7b-112">Ayrıca, yönetici (Otomatik geri alma işleminden örneğin.) sistem durumu değerlendirmesi başarısız olduğunda gerçekleştirilecek eylem yapılandırabilirsiniz Bu bölümde bir PowerShell kullanan SDK örnekleri için izlenen bir yükseltme anlatılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-112">In addition, the administrator can configure the action to be taken when the health evaluation fails (for example, doing an automatic rollback.) This section walks through a monitored upgrade for one of the SDK samples that uses PowerShell.</span></span> <span data-ttu-id="3bc7b-113">Aşağıdaki Microsoft Virtual Academy video uygulama yükseltme size da yardımcı olur:<center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=OrHJH66yC_6406218965">
<img src="./media/service-fabric-application-upgrade-tutorial-powershell/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span><span class="sxs-lookup"><span data-stu-id="3bc7b-113">The following Microsoft Virtual Academy video also walks you through an app upgrade: <center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=OrHJH66yC_6406218965">
<img src="./media/service-fabric-application-upgrade-tutorial-powershell/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span></span>

## <a name="step-1-build-and-deploy-the-visual-objects-sample"></a><span data-ttu-id="3bc7b-114">1. adım: Derleme ve görsel nesneler örnek dağıtma</span><span class="sxs-lookup"><span data-stu-id="3bc7b-114">Step 1: Build and deploy the Visual Objects sample</span></span>
<span data-ttu-id="3bc7b-115">Yapı ve uygulama projesine sağ tıklayarak uygulamayı yayımlama **VisualObjectsApplication,** ve seçerek **Yayımla** komutu.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-115">Build and publish the application by right-clicking on the application project, **VisualObjectsApplication,** and selecting the **Publish** command.</span></span>  <span data-ttu-id="3bc7b-116">Daha fazla bilgi için bkz: [Service Fabric uygulaması yükseltme Öğreticisi](service-fabric-application-upgrade-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="3bc7b-116">For more information, see [Service Fabric application upgrade tutorial](service-fabric-application-upgrade-tutorial.md).</span></span>  <span data-ttu-id="3bc7b-117">Alternatif olarak, uygulamanızı dağıtmak için PowerShell'i kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-117">Alternatively, you can use PowerShell to deploy your application.</span></span>

> [!NOTE]
> <span data-ttu-id="3bc7b-118">Service Fabric komutlardan herhangi birini PowerShell'de kullanılabilir önce ilk kullanarak kümeye bağlanmak ihtiyacınız `Connect-ServiceFabricCluster` cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-118">Before any of the Service Fabric commands may be used in PowerShell, you first need to connect to the cluster by using the `Connect-ServiceFabricCluster` cmdlet.</span></span> <span data-ttu-id="3bc7b-119">Benzer şekilde, küme zaten yerel makinenizde ayarlanmış olması gerektiğini varsayılır.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-119">Similarly, it is assumed that the Cluster has already been set up on your local machine.</span></span> <span data-ttu-id="3bc7b-120">Makaleyi bakın [, Service Fabric geliştirme ortamını ayarlama](service-fabric-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="3bc7b-120">See the article on [setting up your Service Fabric development environment](service-fabric-get-started.md).</span></span>
> 
> 

<span data-ttu-id="3bc7b-121">Visual Studio projesi oluşturduktan sonra PowerShell komutunu kullanabilirsiniz [kopya ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/copy-servicefabricapplicationpackage) uygulama paketi görüntü deposuna kopyalamak için.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-121">After building the project in Visual Studio, you can use the PowerShell command [Copy-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/copy-servicefabricapplicationpackage) to copy the application package to the ImageStore.</span></span> <span data-ttu-id="3bc7b-122">Uygulama paketi yerel olarak doğrulamak istiyorsanız, kullanmak [Test ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-122">If you want to verify the app package locally, use the [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span> <span data-ttu-id="3bc7b-123">Service Fabric çalışma zamanı kullanmak için uygulamayı kaydetmek için sonraki adımdır [Register-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-123">The next step is to register the application to the Service Fabric runtime using the [Register-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) cmdlet.</span></span> <span data-ttu-id="3bc7b-124">Uygulama örneğini kullanarak başlatmak için son adımdır [yeni ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-124">The final step is to start an instance of the application by using the [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span>  <span data-ttu-id="3bc7b-125">Bu üç adımı kullanmaya benzer **dağıtma** Visual Studio menü öğesi.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-125">These three steps are analogous to using the **Deploy** menu item in Visual Studio.</span></span>

<span data-ttu-id="3bc7b-126">Şimdi, kullanabileceğiniz [küme ve uygulamayı görüntülemek için Service Fabric Explorer](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="3bc7b-126">Now, you can use [Service Fabric Explorer to view the cluster and the application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="3bc7b-127">Uygulama için Internet Explorer'da yazarak gittiğinizde bir web hizmeti olan [http://localhost:8081/visualobjects](http://localhost:8081/visualobjects) adres çubuğundaki.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-127">The application has a web service that can be navigated to in Internet Explorer by typing [http://localhost:8081/visualobjects](http://localhost:8081/visualobjects) in the address bar.</span></span>  <span data-ttu-id="3bc7b-128">Ekranda Dolaşma bazı kayan görsel nesneler görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-128">You should see some floating visual objects moving around in the screen.</span></span>  <span data-ttu-id="3bc7b-129">Ayrıca, kullanabileceğiniz [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps) uygulama durumunu denetlemek için.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-129">Additionally, you can use [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps) to check the application status.</span></span>

## <a name="step-2-update-the-visual-objects-sample"></a><span data-ttu-id="3bc7b-130">2. adım: görsel nesneler örnek güncelleştir</span><span class="sxs-lookup"><span data-stu-id="3bc7b-130">Step 2: Update the Visual Objects sample</span></span>
<span data-ttu-id="3bc7b-131">Adım 1'de dağıtılan sürümüyle görsel nesneler değil döndürme fark edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-131">You might notice that with the version that was deployed in Step 1, the visual objects do not rotate.</span></span> <span data-ttu-id="3bc7b-132">Şimdi bir burada görsel nesneler de döndürmek için bu uygulamayı yükseltin.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-132">Let's upgrade this application to one where the visual objects also rotate.</span></span>

<span data-ttu-id="3bc7b-133">VisualObjects çözümünde VisualObjects.ActorService projesini seçin ve StatefulVisualObjectActor.cs dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-133">Select the VisualObjects.ActorService project within the VisualObjects solution, and open the StatefulVisualObjectActor.cs file.</span></span> <span data-ttu-id="3bc7b-134">Bu dosyanın içindeki yönteme gidin `MoveObject`, çıkışı açıklama `this.State.Move()`ve açıklama durumundan çıkarmanız `this.State.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-134">Within that file, navigate to the method `MoveObject`, comment out `this.State.Move()`, and uncomment `this.State.Move(true)`.</span></span> <span data-ttu-id="3bc7b-135">Hizmet yükseltildikten sonra bu değişiklik nesnesini döndürür.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-135">This change rotates the objects after the service is upgraded.</span></span>

<span data-ttu-id="3bc7b-136">Ayrıca güncelleştirmek ihtiyacımız *ServiceManifest.xml* (altında PackageRoot) dosyası projenin **VisualObjects.ActorService**.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-136">We also need to update the *ServiceManifest.xml* file (under PackageRoot) of the project **VisualObjects.ActorService**.</span></span> <span data-ttu-id="3bc7b-137">Güncelleştirme *CodePackage* ve hizmet sürüm 2.0 ve karşılık gelen satırları *ServiceManifest.xml* dosya.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-137">Update the *CodePackage* and the service version to 2.0, and the corresponding lines in the *ServiceManifest.xml* file.</span></span>
<span data-ttu-id="3bc7b-138">Visual Studio'yu kullanabilirsiniz *bildirim dosyaları düzenleme* bildirim dosyası değişiklik yapmak için çözüm üzerinde sağ tıklatın sonra seçeneği.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-138">You can use the Visual Studio *Edit Manifest Files* option after you right-click on the solution to make the manifest file changes.</span></span>

<span data-ttu-id="3bc7b-139">Değişiklikler yapıldıktan sonra bildirimi aşağıdaki gibi görünmelidir (vurgulanan bölümleri göster değişiklikleri):</span><span class="sxs-lookup"><span data-stu-id="3bc7b-139">After the changes are made, the manifest should look like the following (highlighted portions show the changes):</span></span>

```xml
<ServiceManifestName="VisualObjects.ActorService" Version="2.0" xmlns="http://schemas.microsoft.com/2011/01/fabric" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<CodePackageName="Code" Version="2.0">
```

<span data-ttu-id="3bc7b-140">Şimdi *ApplicationManifest.xml* dosyası (altında bulunan **VisualObjects** altında proje **VisualObjects** çözüm) 2.0sürümünegüncelleştirilmiş**VisualObjects.ActorService** projesi.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-140">Now the *ApplicationManifest.xml* file (found under the **VisualObjects** project under the **VisualObjects** solution) is updated to version 2.0 of the **VisualObjects.ActorService** project.</span></span> <span data-ttu-id="3bc7b-141">Ayrıca, uygulama sürümü için 2.0.0.0 1.0.0.0 ile güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-141">In addition, the Application version is updated to 2.0.0.0 from 1.0.0.0.</span></span> <span data-ttu-id="3bc7b-142">*ApplicationManifest.xml* aşağıdaki kod parçacığını gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="3bc7b-142">The *ApplicationManifest.xml* should look like the following snippet:</span></span>

```xml
<ApplicationManifestxmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ApplicationTypeName="VisualObjects" ApplicationTypeVersion="2.0.0.0" xmlns="http://schemas.microsoft.com/2011/01/fabric">

 <ServiceManifestRefServiceManifestName="VisualObjects.ActorService" ServiceManifestVersion="2.0" />
```


<span data-ttu-id="3bc7b-143">Şimdi, seçerek Projeyi derlemek yalnızca **ActorService** proje ve ardından sağ tıklayıp seçerek **yapı** Visual Studio'daki seçeneği.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-143">Now, build the project by selecting just the **ActorService** project, and then right-clicking and selecting the **Build** option in Visual Studio.</span></span> <span data-ttu-id="3bc7b-144">Seçerseniz **tüm yeniden**, nedeniyle kodu değişmiş sürümleri tüm projeleri için güncelleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-144">If you select **Rebuild all**, you should update the versions for all projects, since the code would have changed.</span></span> <span data-ttu-id="3bc7b-145">Ardından, üzerinde sağ tıklayarak güncelleştirilmiş uygulamayı şimdi paketini ***VisualObjectsApplication***, Service Fabric menü seçilerek ve **paket**.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-145">Next, let's package the updated application by right-clicking on ***VisualObjectsApplication***, selecting the Service Fabric Menu, and choosing **Package**.</span></span> <span data-ttu-id="3bc7b-146">Bu eylem, dağıtılabilir bir uygulama paketi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-146">This action creates an application package that can be deployed.</span></span>  <span data-ttu-id="3bc7b-147">Güncelleştirilmiş uygulamanız dağıtılmaya hazırdır.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-147">Your updated application is ready to be deployed.</span></span>

## <a name="step-3--decide-on-health-policies-and-upgrade-parameters"></a><span data-ttu-id="3bc7b-148">3. adım: sistem durumu ilkeleri karar verin ve yükseltme parametreleri</span><span class="sxs-lookup"><span data-stu-id="3bc7b-148">Step 3:  Decide on health policies and upgrade parameters</span></span>
<span data-ttu-id="3bc7b-149">İle öğrenmeniz [uygulama yükseltme parametreleri](service-fabric-application-upgrade-parameters.md) ve [yükseltme işlemi](service-fabric-application-upgrade.md) çeşitli yükseltme parametreleri, zaman aşımları ve sistem durumu ölçüt uygulanan iyi anlamış alınamıyor.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-149">Familiarize yourself with the [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and the [upgrade process](service-fabric-application-upgrade.md) to get a good understanding of the various upgrade parameters, time-outs, and health criterion applied.</span></span> <span data-ttu-id="3bc7b-150">Bu kılavuz için hizmet sistem durumu değerlendirme ölçüt varsayılan olarak ayarla (ve önerilen) tüm hizmetleri ve örnekleri gerektiği anlamına gelir değerleri *sağlıklı* yükselttikten sonra.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-150">For this walkthrough, the service health evaluation criterion is set to the default (and recommended) values, which means that all services and instances should be *healthy* after the upgrade.</span></span>  

<span data-ttu-id="3bc7b-151">Ancak, şimdi artırmanız *HealthCheckStableDuration* 60 saniye (Hizmetleri sonraki güncelleştirme etki alanına yükseltmeye devam etmeden önce en az 20 saniye için sağlıklı; böylece).</span><span class="sxs-lookup"><span data-stu-id="3bc7b-151">However, let's increase the *HealthCheckStableDuration* to 60 seconds (so that the services are healthy for at least 20 seconds before the upgrade proceeds to the next update domain).</span></span>  <span data-ttu-id="3bc7b-152">Şimdi de ayarlayın *UpgradeDomainTimeout* 1200 saniye olmasını ve *UpgradeTimeout* 3000 saniye olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-152">Let's also set the *UpgradeDomainTimeout* to be 1200 seconds and the *UpgradeTimeout* to be 3000 seconds.</span></span>

<span data-ttu-id="3bc7b-153">Son olarak, şimdi de ayarlayın *UpgradeFailureAction* geri almak için.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-153">Finally, let's also set the *UpgradeFailureAction* to rollback.</span></span> <span data-ttu-id="3bc7b-154">Bu seçenek, yükseltme sırasında herhangi bir sorunla karşılaştığında uygulamayı önceki sürüme geri almak Service Fabric gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-154">This option requires Service Fabric to roll back the application to the previous version if it encounters any issues during the upgrade.</span></span> <span data-ttu-id="3bc7b-155">Bu nedenle, aşağıdaki parametreleri yükseltmesinde (4. adım) başlatma sırasında belirtilir:</span><span class="sxs-lookup"><span data-stu-id="3bc7b-155">Thus, when starting the upgrade (in Step 4), the following parameters are specified:</span></span>

<span data-ttu-id="3bc7b-156">FailureAction geri alma =</span><span class="sxs-lookup"><span data-stu-id="3bc7b-156">FailureAction = Rollback</span></span>

<span data-ttu-id="3bc7b-157">HealthCheckStableDurationSec = 60</span><span class="sxs-lookup"><span data-stu-id="3bc7b-157">HealthCheckStableDurationSec = 60</span></span>

<span data-ttu-id="3bc7b-158">UpgradeDomainTimeoutSec 1200 =</span><span class="sxs-lookup"><span data-stu-id="3bc7b-158">UpgradeDomainTimeoutSec = 1200</span></span>

<span data-ttu-id="3bc7b-159">UpgradeTimeout 3000 =</span><span class="sxs-lookup"><span data-stu-id="3bc7b-159">UpgradeTimeout = 3000</span></span>

## <a name="step-4-prepare-application-for-upgrade"></a><span data-ttu-id="3bc7b-160">4. adım: Uygulama yükseltme için hazırlama</span><span class="sxs-lookup"><span data-stu-id="3bc7b-160">Step 4: Prepare application for upgrade</span></span>
<span data-ttu-id="3bc7b-161">Şimdi uygulamayı yerleşik ve yükseltme hazır olur.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-161">Now the application is built and ready to be upgraded.</span></span> <span data-ttu-id="3bc7b-162">Bir yöneticiyseniz ve türü bir PowerShell penceresi açarsanız [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), uygulama türü 1.0.0.0 olduğunu size bildirmek **VisualObjects** dağıtılan.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-162">If you open up a PowerShell window as an administrator and type [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), it should let you know that it is application type 1.0.0.0 of **VisualObjects** that's been deployed.</span></span>  

<span data-ttu-id="3bc7b-163">Uygulama paketi Service Fabric SDK - sıkıştırılmamış burada aşağıdaki göreli yolu altında depolanır *Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug*.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-163">The application package is stored under the following relative path where you uncompressed the Service Fabric SDK - *Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug*.</span></span> <span data-ttu-id="3bc7b-164">Uygulama paketi depolandığı bu dizinde bir "Paketi" klasörü bulmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-164">You should find a "Package" folder in that directory, where the application package is stored.</span></span> <span data-ttu-id="3bc7b-165">Zaman damgaları (yollar uygun şekilde de değiştirmeniz gerekebilir) en son sürüme olduğundan emin olmak için kontrol edin.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-165">Check the timestamps to ensure that it is the latest build (you may need to modify the paths appropriately as well).</span></span>

<span data-ttu-id="3bc7b-166">Şimdi şimdi güncelleştirilmiş uygulama paketi (uygulama paketleri depolandığı Service Fabric tarafından) Service Fabric görüntü kopyalayın.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-166">Now let's copy the updated application package to the Service Fabric ImageStore (where the application packages are stored by Service Fabric).</span></span> <span data-ttu-id="3bc7b-167">Parametre *ApplicationPackagePathInImageStore* Service Fabric burada da bulabilir uygulama paketi bildirir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-167">The parameter *ApplicationPackagePathInImageStore* informs Service Fabric where it can find the application package.</span></span> <span data-ttu-id="3bc7b-168">Biz güncelleştirilmiş uygulamayı yerleştirdiğiniz "VisualObjects\_V2" (yolları yeniden uygun şekilde değiştirin gerekebilir) aşağıdaki komutu.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-168">We have put the updated application in "VisualObjects\_V2" with the following command (you may need to modify paths again appropriately).</span></span>

```powershell
Copy-ServiceFabricApplicationPackage  -ApplicationPackagePath .\Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug\Package
-ImageStoreConnectionString fabric:ImageStore   -ApplicationPackagePathInImageStore "VisualObjects\_V2"
```

<span data-ttu-id="3bc7b-169">Bu uygulama ile gerçekleştirilebilir Service Fabric ile kaydetmek için sonraki adımdır [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) komutu:</span><span class="sxs-lookup"><span data-stu-id="3bc7b-169">The next step is to register this application with Service Fabric, which can be performed using the [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) command:</span></span>

```powershell
Register-ServiceFabricApplicationType -ApplicationPathInImageStore "VisualObjects\_V2"
```

<span data-ttu-id="3bc7b-170">Yukarıdaki komut başarılı değil, tüm hizmetleri yeniden gereksinim olasıdır.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-170">If the preceding command doesn't succeed, it is likely that you need a rebuild of all services.</span></span> <span data-ttu-id="3bc7b-171">Adım 2'de belirtildiği gibi Web hizmeti sürümü de güncelleştirmeniz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-171">As mentioned in Step 2, you may have to update your WebService version as well.</span></span>

## <a name="step-5-start-the-application-upgrade"></a><span data-ttu-id="3bc7b-172">5. adım: Uygulama yükseltme Başlat</span><span class="sxs-lookup"><span data-stu-id="3bc7b-172">Step 5: Start the application upgrade</span></span>
<span data-ttu-id="3bc7b-173">Şimdi, biz kullanarak uygulama yükseltme işlemini başlatmak için hazırsınız [başlangıç ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) komutu:</span><span class="sxs-lookup"><span data-stu-id="3bc7b-173">Now, we're all set to start the application upgrade by using the [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) command:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/VisualObjects -ApplicationTypeVersion 2.0.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000   -FailureAction Rollback -Monitored
```


<span data-ttu-id="3bc7b-174">Bölümünde açıklanan uygulama adı aynı olan *ApplicationManifest.xml* dosya.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-174">The application name is the same as it was described in the *ApplicationManifest.xml* file.</span></span> <span data-ttu-id="3bc7b-175">Service Fabric, hangi uygulamanın yükseltilir tanımlamak için bu ad kullanır.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-175">Service Fabric uses this name to identify which application is getting upgraded.</span></span> <span data-ttu-id="3bc7b-176">Zaman aşımı çok kısa olacak şekilde ayarlarsanız sorunu bildiren bir hata iletisi karşılaşabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-176">If you set the time-outs to be too short, you may encounter a failure message that states the problem.</span></span> <span data-ttu-id="3bc7b-177">Sorun giderme bölümüne bakın veya zaman aşımları artırın.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-177">Refer to the troubleshooting section, or increase the time-outs.</span></span>

<span data-ttu-id="3bc7b-178">Service Fabric Explorer kullanarak şimdi uygulama yükseltme devam eder, olarak izleyebilir veya kullanarak [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) PowerShell komutunu:</span><span class="sxs-lookup"><span data-stu-id="3bc7b-178">Now, as the application upgrade proceeds, you can monitor it using Service Fabric Explorer, or by using the [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) PowerShell command:</span></span> 

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/VisualObjects
```

<span data-ttu-id="3bc7b-179">Önceki PowerShell komutunu kullanarak aldığınız durumu birkaç dakika içinde durum tüm güncelleştirme etki alanları yükseltilen (tamamlandı).</span><span class="sxs-lookup"><span data-stu-id="3bc7b-179">In a few minutes, the status that you got by using the preceding PowerShell command, should state that all update domains were upgraded (completed).</span></span> <span data-ttu-id="3bc7b-180">Ve Tarayıcı pencerenizde visual nesneleri döndürme başlatılmış olduğunu bulmanız gerekir!</span><span class="sxs-lookup"><span data-stu-id="3bc7b-180">And you should find that the visual objects in your browser window have started rotating!</span></span>

<span data-ttu-id="3bc7b-181">Sürüm 3 sürüm 2 veya sürüm 1 bir alıştırma olarak 2 sürümüne yükseltme deneyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-181">You can try upgrading from version 2 to version 3, or from version 2 to version 1 as an exercise.</span></span> <span data-ttu-id="3bc7b-182">Sürüm 2 ' sürüm 1 taşıma yükseltme kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-182">Moving from version 2 to version 1 is also considered an upgrade.</span></span> <span data-ttu-id="3bc7b-183">Zaman aşımları ve kendiniz bunlarla bilgi sahibi olmak için sistem durumu ilkeleri ile yürütün.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-183">Play with time-outs and health policies to make yourself familiar with them.</span></span> <span data-ttu-id="3bc7b-184">Bir Azure kümeye dağıtırken parametreleri uygun şekilde ayarlanmış olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-184">When you are deploying to an Azure cluster, the parameters need to be set appropriately.</span></span> <span data-ttu-id="3bc7b-185">Zaman aşımları ölçülü ayarlamak uygundur.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-185">It is good to set the time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3bc7b-186">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="3bc7b-186">Next steps</span></span>
<span data-ttu-id="3bc7b-187">[Visual Studio kullanarak uygulamanızı yükseltme](service-fabric-application-upgrade-tutorial.md) Visual Studio kullanarak bir uygulama yükseltme yol gösterir.</span><span class="sxs-lookup"><span data-stu-id="3bc7b-187">[Upgrading your application using Visual Studio](service-fabric-application-upgrade-tutorial.md) walks you through an application upgrade using Visual Studio.</span></span>

<span data-ttu-id="3bc7b-188">Uygulamanızı kullanarak yükseltme nasıl kontrol [yükseltme parametreleri](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="3bc7b-188">Control how your application upgrades by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="3bc7b-189">Uygulama yükseltme nasıl kullanılacağını öğrenerek uyumlu hale getirmek [veri seri hale getirme](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="3bc7b-189">Make your application upgrades compatible by learning how to use [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="3bc7b-190">Gelişmiş işlevselliği başvurarak uygulamanızı yükseltirken kullanmayı öğrenin [konuları Gelişmiş](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="3bc7b-190">Learn how to use advanced functionality while upgrading your application by referring to [Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="3bc7b-191">Adımlarına bakarak uygulama yükseltmeleri sık karşılaşılan sorunları düzeltmek [uygulama yükseltme sorunlarını giderme](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="3bc7b-191">Fix common problems in application upgrades by referring to the steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

