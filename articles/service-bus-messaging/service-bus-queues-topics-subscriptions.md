---
title: "Azure Service Bus kuyrukları, konu başlıkları ve abonelikleri Mesajlaşma aaaOverview | Microsoft Docs"
description: "Service Bus Mesajlaşma genel bakış."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: a306ced4-74e9-47c6-990a-d9c47efa31d5
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/28/2017
ms.author: sethm
ms.openlocfilehash: 73135d2658e341c14dbb114ab938faed91578ff1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-queues-topics-and-subscriptions"></a><span data-ttu-id="24b79-103">Service Bus kuyrukları, konu başlıkları ve abonelikleri</span><span class="sxs-lookup"><span data-stu-id="24b79-103">Service Bus queues, topics, and subscriptions</span></span>

<span data-ttu-id="24b79-104">Microsoft Azure Service Bus güvenilir message queuing bulut tabanlı, ileti odaklı Ara teknolojilerini ve dayanıklı yayımlama/Mesajlaşma abonelik, bir kümesini destekler.</span><span class="sxs-lookup"><span data-stu-id="24b79-104">Microsoft Azure Service Bus supports a set of cloud-based, message-oriented middleware technologies including reliable message queuing and durable publish/subscribe messaging.</span></span> <span data-ttu-id="24b79-105">Bu "aracılı" Mesajlaşma işlevleri, ardından ayrılmış destek yayımlama-abonelik özellikleri Mesajlaşma, zamana bağlı ayırma ve Yük Dengeleme hello Service Bus Mesajlaşma doku kullanarak düşünülebilir.</span><span class="sxs-lookup"><span data-stu-id="24b79-105">These "brokered" messaging capabilities can be thought of as decoupled messaging features that support publish-subscribe, temporal decoupling, and load balancing scenarios using hello Service Bus messaging fabric.</span></span> <span data-ttu-id="24b79-106">Ayrılmış iletişim birçok avantaj sunar. Örneğin, sunucular ve istemciler gerektiğinde bağlantı kurabilir ve kendi işlemlerini zaman uyumsuz olarak gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="24b79-106">Decoupled communication has many advantages; for example, clients and servers can connect as needed and perform their operations in an asynchronous fashion.</span></span>

<span data-ttu-id="24b79-107">Service Bus içinde Mesajlaşma hello hello özünü oluşturan hello ileti kuyrukları, konuları ve abonelikleri ve kuralları/Eylemler varlıklardır.</span><span class="sxs-lookup"><span data-stu-id="24b79-107">hello messaging entities that form hello core of hello messaging capabilities in Service Bus are queues, topics and subscriptions, and rules/actions.</span></span>

## <a name="queues"></a><span data-ttu-id="24b79-108">Kuyruklar</span><span class="sxs-lookup"><span data-stu-id="24b79-108">Queues</span></span>

<span data-ttu-id="24b79-109">Kuyruklar teklif *ilk gelen, giden ilk* (FIFO yöntemine göre) ileti teslimi tooone veya birden çok rakip tüketiciye.</span><span class="sxs-lookup"><span data-stu-id="24b79-109">Queues offer *First In, First Out* (FIFO) message delivery tooone or more competing consumers.</span></span> <span data-ttu-id="24b79-110">Diğer bir deyişle, iletileri alınan ve hangi toohello sıraya eklendi ve her ileti alındı ve tek bir ileti tüketicisi tarafından alınıp hello düzende hello alıcılar tarafından işlenen genellikle beklenen toobe edilir.</span><span class="sxs-lookup"><span data-stu-id="24b79-110">That is, messages are typically expected toobe received and processed by hello receivers in hello order in which they were added toohello queue, and each message is received and processed by only one message consumer.</span></span> <span data-ttu-id="24b79-111">Kuyrukları kullanmanın önemli bir avantajı, uygulama bileşenlerinin tooachieve "zamana bağlı ayırma" olur.</span><span class="sxs-lookup"><span data-stu-id="24b79-111">A key benefit of using queues is tooachieve "temporal decoupling" of application components.</span></span> <span data-ttu-id="24b79-112">Diğer bir deyişle, üreticiler (göndericiler) hello ve tüketicilerin (Alıcılar) sahip değil toobe gönderme ve alma aynı hello iletileri iletileri işlemi hello kuyrukta depolandığından, saat.</span><span class="sxs-lookup"><span data-stu-id="24b79-112">In other words, hello producers (senders) and consumers (receivers) do not have toobe sending and receiving messages at hello same time, because messages are stored durably in hello queue.</span></span> <span data-ttu-id="24b79-113">Ayrıca, hello üretici değil toowait hello tüketici yanıt sırası toocontinue tooprocess sahip ve ileti gönderme.</span><span class="sxs-lookup"><span data-stu-id="24b79-113">Furthermore, hello producer does not have toowait for a reply from hello consumer in order toocontinue tooprocess and send messages.</span></span>

<span data-ttu-id="24b79-114">Bir avantaj "üreticileri ve tüketicileri toosend sağlar ve iletileri farklı hızlarda almasına, Dengeleme, yükleme" dir.</span><span class="sxs-lookup"><span data-stu-id="24b79-114">A related benefit is "load leveling," which enables producers and consumers toosend and receive messages at different rates.</span></span> <span data-ttu-id="24b79-115">Birçok uygulamada hello sistem yükü zamana değişir; Bununla birlikte, her iş birimi için gerekli hello işleme süresi genellikle sabittir.</span><span class="sxs-lookup"><span data-stu-id="24b79-115">In many applications, hello system load varies over time; however, hello processing time required for each unit of work is typically constant.</span></span> <span data-ttu-id="24b79-116">Aracılığıyla ileti üreticileri ve tüketicileri bir kuyruk, toobe sağlanan toobe mümkün toohandle ortalama yük yoğun yük yerine yalnızca uygulama bu hello sahip anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="24b79-116">Intermediating message producers and consumers with a queue means that hello consuming application only has toobe provisioned toobe able toohandle average load instead of peak load.</span></span> <span data-ttu-id="24b79-117">Merhaba hello sıra derinliği büyüdükçe ve hello gelen Yük hacmi değiştikçe sözleşme.</span><span class="sxs-lookup"><span data-stu-id="24b79-117">hello depth of hello queue grows and contracts as hello incoming load varies.</span></span> <span data-ttu-id="24b79-118">Bu, doğrudan para şekilde toohello altyapı gerekli tooservice hello uygulama yük miktarı ile kaydeder.</span><span class="sxs-lookup"><span data-stu-id="24b79-118">This directly saves money with regard toohello amount of infrastructure required tooservice hello application load.</span></span> <span data-ttu-id="24b79-119">Hello yük arttıkça, daha fazla çalışan işlemi hello sırasından eklenen tooread olabilir.</span><span class="sxs-lookup"><span data-stu-id="24b79-119">As hello load increases, more worker processes can be added tooread from hello queue.</span></span> <span data-ttu-id="24b79-120">Her ileti tek hello çalışan işlemleri tarafından işlenir.</span><span class="sxs-lookup"><span data-stu-id="24b79-120">Each message is processed by only one of hello worker processes.</span></span> <span data-ttu-id="24b79-121">Ayrıca, hesaba tooprocessing güç ile Merhaba çalışan bilgisayarlar farklılık gösterse bile iletileri kendi maksimum hızında çeker gibi hello çalışan bilgisayarlar için en iyi kullanımı bu çekme tabanlı yük dengeleme sağlar.</span><span class="sxs-lookup"><span data-stu-id="24b79-121">Furthermore, this pull-based load balancing allows for optimum use of hello worker computers even if hello worker computers differ with regard tooprocessing power, as they will pull messages at their own maximum rate.</span></span> <span data-ttu-id="24b79-122">Bu desen genellikle hello "tüketici rekabet" düzeni olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="24b79-122">This pattern is often termed hello "competing consumer" pattern.</span></span>

<span data-ttu-id="24b79-123">İleti üreticileri ve tüketicileri arasında sıraları toointermediate kullanarak hello bileşenler arasındaki yapısında bir gevşek bağlantı sağlar.</span><span class="sxs-lookup"><span data-stu-id="24b79-123">Using queues toointermediate between message producers and consumers provides an inherent loose coupling between hello components.</span></span> <span data-ttu-id="24b79-124">Üreticileri ve tüketicileri birbirinden farkında değildir çünkü bir tüketici hello üretici üzerinde hiçbir etkisi olmadan yükseltilebilir.</span><span class="sxs-lookup"><span data-stu-id="24b79-124">Because producers and consumers are not aware of each other, a consumer can be upgraded without having any effect on hello producer.</span></span>

<span data-ttu-id="24b79-125">Bir kuyruk oluşturma çok adımlı bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="24b79-125">Creating a queue is a multi-step process.</span></span> <span data-ttu-id="24b79-126">Service Bus Mesajlaşma varlıkları (kuyruklar ve konu başlıkları) hello aracılığıyla yönelik yönetim işlemlerini gerçekleştirmek [Microsoft.ServiceBus.NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager#microsoft_servicebus_namespacemanager) hello Service Bus temel adresini hello sağlayarak oluşturulan sınıfı ad alanı ve hello kullanıcı kimlik bilgileri.</span><span class="sxs-lookup"><span data-stu-id="24b79-126">You perform management operations for Service Bus messaging entities (both queues and topics) via hello [Microsoft.ServiceBus.NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager#microsoft_servicebus_namespacemanager) class, which is constructed by supplying hello base address of hello Service Bus namespace and hello user credentials.</span></span> <span data-ttu-id="24b79-127">[NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager#microsoft_servicebus_namespacemanager) yöntemleri toocreate sağlar numaralandırır ve mesajlaşma varlıklarını silme.</span><span class="sxs-lookup"><span data-stu-id="24b79-127">[NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager#microsoft_servicebus_namespacemanager) provides methods toocreate, enumerate and delete messaging entities.</span></span> <span data-ttu-id="24b79-128">Oluşturduktan sonra bir [Microsoft.ServiceBus.TokenProvider](/dotnet/api/microsoft.servicebus.tokenprovider#microsoft_servicebus_tokenprovider) nesnesinden hello SAS adını ve anahtar ve bir hizmet ad alanı Yönetim nesnesi, hello kullanabileceğiniz [Microsoft.ServiceBus.NamespaceManager.CreateQueue](/dotnet/api/microsoft.servicebus.namespacemanager#Microsoft_ServiceBus_NamespaceManager_CreateQueue_System_String_) yöntemi toocreate hello sırası.</span><span class="sxs-lookup"><span data-stu-id="24b79-128">After creating a [Microsoft.ServiceBus.TokenProvider](/dotnet/api/microsoft.servicebus.tokenprovider#microsoft_servicebus_tokenprovider) object from hello SAS name and key, and a service namespace management object, you can use hello [Microsoft.ServiceBus.NamespaceManager.CreateQueue](/dotnet/api/microsoft.servicebus.namespacemanager#Microsoft_ServiceBus_NamespaceManager_CreateQueue_System_String_) method toocreate hello queue.</span></span> <span data-ttu-id="24b79-129">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="24b79-129">For example:</span></span>

```csharp
// Create management credentials
TokenProvider credentials = TokenProvider.CreateSharedAccessSignatureTokenProvider(sasKeyName,sasKeyValue);
// Create namespace client
NamespaceManager namespaceClient = new NamespaceManager(ServiceBusEnvironment.CreateServiceUri("sb", ServiceNamespace, string.Empty), credentials);
```

<span data-ttu-id="24b79-130">Ardından, bağımsız değişken olarak Service Bus URI'si hello ile bir sıra nesnesi ve bir Mesajlaşma fabrikası oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24b79-130">You can then create a queue object and a messaging factory with hello Service Bus URI as an argument.</span></span> <span data-ttu-id="24b79-131">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="24b79-131">For example:</span></span>

```csharp
QueueDescription myQueue;
myQueue = namespaceClient.CreateQueue("TestQueue");
MessagingFactory factory = MessagingFactory.Create(ServiceBusEnvironment.CreateServiceUri("sb", ServiceNamespace, string.Empty), credentials); 
QueueClient myQueueClient = factory.CreateQueueClient("TestQueue");
```

<span data-ttu-id="24b79-132">Ardından, iletileri toohello sırası gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24b79-132">You can then send messages toohello queue.</span></span> <span data-ttu-id="24b79-133">Örneğin, adında aracılı iletilerin listesini varsa `MessageList`, hello kodu benzer toohello aşağıdaki görünür:</span><span class="sxs-lookup"><span data-stu-id="24b79-133">For example, if you have a list of brokered messages called `MessageList`, hello code appears similar toohello following:</span></span>

```csharp
for (int count = 0; count < 6; count++)
{
    var issue = MessageList[count];
    issue.Label = issue.Properties["IssueTitle"].ToString();
    myQueueClient.Send(issue);
}
```

<span data-ttu-id="24b79-134">Ardından iletileri hello sıradan aşağıdaki gibi alabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="24b79-134">You then receive messages from hello queue as follows:</span></span>

```csharp
while ((message = myQueueClient.Receive(new TimeSpan(hours: 0, minutes: 0, seconds: 5))) != null)
    {
        Console.WriteLine(string.Format("Message received: {0}, {1}, {2}", message.SequenceNumber, message.Label, message.MessageId));
        message.Complete();

        Console.WriteLine("Processing message (sleeping...)");
        Thread.Sleep(1000);
    }
```

<span data-ttu-id="24b79-135">Merhaba, [ReceiveAndDelete](/dotnet/api/microsoft.servicebus.messaging.receivemode) hello modu, alma tek bir işlemdir; diğer bir deyişle, Service Bus hello isteği aldığında, hello iletiyi kullanılıyor olarak işaretler ve toohello uygulama döndürür.</span><span class="sxs-lookup"><span data-stu-id="24b79-135">In hello [ReceiveAndDelete](/dotnet/api/microsoft.servicebus.messaging.receivemode) mode, hello receive operation is single-shot; that is, when Service Bus receives hello request, it marks hello message as being consumed and returns it toohello application.</span></span> <span data-ttu-id="24b79-136">**ReceiveAndDelete** modu hello en basit modeldir ve hangi hello uygulama tolerans bir hatanın hello Olay iletisinde işlenmiyor senaryolarda en iyi şekilde çalışır.</span><span class="sxs-lookup"><span data-stu-id="24b79-136">**ReceiveAndDelete** mode is hello simplest model and works best for scenarios in which hello application can tolerate not processing a message in hello event of a failure.</span></span> <span data-ttu-id="24b79-137">toounderstand Bu, hangi hello tüketici sorunları hello alma isteği bir senaryo düşünün ve işlemeden önce çöküyor.</span><span class="sxs-lookup"><span data-stu-id="24b79-137">toounderstand this, consider a scenario in which hello consumer issues hello receive request and then crashes before processing it.</span></span> <span data-ttu-id="24b79-138">Service Bus selamlama iletisine hello uygulama yeniden başlatılıp iletileri tekrar kullanmaya başladığında olduğunda, kullanılıyor olarak işaretler çünkü bunu olan hello iletiyi atlamış olur önceki toohello kilitlenme tüketilen.</span><span class="sxs-lookup"><span data-stu-id="24b79-138">Because Service Bus marks hello message as being consumed, when hello application restarts and begins consuming messages again, it will have missed hello message that was consumed prior toohello crash.</span></span>

<span data-ttu-id="24b79-139">İçinde [PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode) hello modu, alma işlemi, hangi iletilere olası toosupport uygulamaları yapar iki aşamalı haline gelir.</span><span class="sxs-lookup"><span data-stu-id="24b79-139">In [PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode) mode, hello receive operation becomes two-stage, which makes it possible toosupport applications that cannot tolerate missing messages.</span></span> <span data-ttu-id="24b79-140">Service Bus hello isteği aldığında, tüketilen hello sonraki ileti toobe bulur, tooprevent kilitler, almasını diğer tüketicilerin ve toohello uygulama döndürür.</span><span class="sxs-lookup"><span data-stu-id="24b79-140">When Service Bus receives hello request, it finds hello next message toobe consumed, locks it tooprevent other consumers from receiving it, and then returns it toohello application.</span></span> <span data-ttu-id="24b79-141">Merhaba uygulaması hello iletiyi işlemeyi tamamladıktan sonra (veya sonra işlemek için depoladıktan sonra), hello hello ikinci aşamasını tamamlar çağırarak alma işleminin [tam](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Complete) hello alınan ileti üzerinde.</span><span class="sxs-lookup"><span data-stu-id="24b79-141">After hello application finishes processing hello message (or stores it reliably for future processing), it completes hello second stage of hello receive process by calling [Complete](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Complete) on hello received message.</span></span> <span data-ttu-id="24b79-142">Hizmet veri yolu hello gördüğünde **tam** çağrısı hello iletiyi kullanılıyor olarak işaretler.</span><span class="sxs-lookup"><span data-stu-id="24b79-142">When Service Bus sees hello **Complete** call, it marks hello message as being consumed.</span></span>

<span data-ttu-id="24b79-143">Merhaba uygulaması kaydedemediği tooprocess Merhaba ileti herhangi bir nedenden dolayı hello çağırabilirsiniz [Abandon](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Abandon) hello alınan ileti üzerinde yöntemi (yerine [tam](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Complete)).</span><span class="sxs-lookup"><span data-stu-id="24b79-143">If hello application is unable tooprocess hello message for some reason, it can call hello [Abandon](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Abandon) method on hello received message (instead of [Complete](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Complete)).</span></span> <span data-ttu-id="24b79-144">Bu hizmet veri yolu toounlock selamlama iletisine sağlar ve yeniden alınan kullanılabilir toobe olun, ya da aynı tüketici hello veya başka bir rakip tüketici tarafından.</span><span class="sxs-lookup"><span data-stu-id="24b79-144">This enables Service Bus toounlock hello message and make it available toobe received again, either by hello same consumer or by another competing consumer.</span></span> <span data-ttu-id="24b79-145">(Örneğin, hello uygulama çökerse) Service Bus hello iletinin kilidini açar ve kullanılabilir toobe sağlar hello kilit zaman aşımı dolmadan önce İkincisi, var. bir zaman aşımı hello kilidi ile ilişkili olan ve hello uygulama tooprocess başarısız olursa ileti hello yeniden alınan (temelde gerçekleştiren bir [Abandon](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Abandon) işlemi varsayılan olarak).</span><span class="sxs-lookup"><span data-stu-id="24b79-145">Secondly, there is a timeout associated with hello lock and if hello application fails tooprocess hello message before hello lock timeout expires (for example, if hello application crashes), then Service Bus unlocks hello message and makes it available toobe received again (essentially performing an [Abandon](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Abandon) operation by default).</span></span>

<span data-ttu-id="24b79-146">Hello hello ileti işlenirken sonra ancak hello önce uygulama hello olay çöküyor Not **tam** isteği bildirilmeden, hello ileti yeniden teslim toohello uygulama başlatıldığında.</span><span class="sxs-lookup"><span data-stu-id="24b79-146">Note that in hello event that hello application crashes after processing hello message, but before hello **Complete** request is issued, hello message is redelivered toohello application when it restarts.</span></span> <span data-ttu-id="24b79-147">Bu genellikle adlandırılır *en az bir kez* işleme; diğer bir deyişle, her ileti en az bir kez işlenir.</span><span class="sxs-lookup"><span data-stu-id="24b79-147">This is often called *At Least Once* processing; that is, each message is processed at least once.</span></span> <span data-ttu-id="24b79-148">Ancak, bazı durumlarda hello aynı ileti yeniden teslim edilebilir.</span><span class="sxs-lookup"><span data-stu-id="24b79-148">However, in certain situations hello same message may be redelivered.</span></span> <span data-ttu-id="24b79-149">Merhaba senaryo yinelenen işlemeyi tolerans olamaz sonra ek mantık, hello dayalı sağlanabilir hello uygulama toodetect çoğaltmaları gereklidir **MessageID** kalır hello iletinin özelliği sabiti teslim boyunca çalışır.</span><span class="sxs-lookup"><span data-stu-id="24b79-149">If hello scenario cannot tolerate duplicate processing, then additional logic is required in hello application toodetect duplicates which can be achieved based upon hello **MessageId** property of hello message, which remains constant across delivery attempts.</span></span> <span data-ttu-id="24b79-150">Bu olarak bilinir *tam olarak bir kez* işleme.</span><span class="sxs-lookup"><span data-stu-id="24b79-150">This is known as *Exactly Once* processing.</span></span>

## <a name="topics-and-subscriptions"></a><span data-ttu-id="24b79-151">Konular ve abonelikler</span><span class="sxs-lookup"><span data-stu-id="24b79-151">Topics and subscriptions</span></span>
<span data-ttu-id="24b79-152">Her ileti tek bir tüketici tarafından işlenir Karşıtlık tooqueues içinde *konuları* ve *abonelikleri* iletişim, bir çok form sağladığınız bir *Yayımlama/abonelik* düzeni.</span><span class="sxs-lookup"><span data-stu-id="24b79-152">In contrast tooqueues, in which each message is processed by a single consumer, *topics* and *subscriptions* provide a one-to-many form of communication, in a *publish/subscribe* pattern.</span></span> <span data-ttu-id="24b79-153">Çok sayıda alıcı toovery ölçekleme için yararlı yayımlanan her ileti hello konuya kaydedilen kullanılabilir tooeach abonelik yapılır.</span><span class="sxs-lookup"><span data-stu-id="24b79-153">Useful for scaling toovery large numbers of recipients, each published message is made available tooeach subscription registered with hello topic.</span></span> <span data-ttu-id="24b79-154">İletileri tooa konu ve teslim tooone ya da bir abonelik başına temelinde ayarlanabilir filtre kuralları bağlı olarak daha ilişkili abonelik gönderilir.</span><span class="sxs-lookup"><span data-stu-id="24b79-154">Messages are sent tooa topic and delivered tooone or more associated subscriptions, depending on filter rules that can be set on a per-subscription basis.</span></span> <span data-ttu-id="24b79-155">Merhaba abonelikleri tooreceive istedikleri ek filtreler toorestrict Merhaba iletileri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24b79-155">hello subscriptions can use additional filters toorestrict hello messages that they want tooreceive.</span></span> <span data-ttu-id="24b79-156">İletileri tooa konu gönderilen hello aynı şekilde tooa sıra gönderilmeden ancak iletileri alınmayan hello konusundan doğrudan.</span><span class="sxs-lookup"><span data-stu-id="24b79-156">Messages are sent tooa topic in hello same way they are sent tooa queue, but messages are not received from hello topic directly.</span></span> <span data-ttu-id="24b79-157">Bunun yerine, bunlar aboneliklerden alınır.</span><span class="sxs-lookup"><span data-stu-id="24b79-157">Instead, they are received from subscriptions.</span></span> <span data-ttu-id="24b79-158">Bir konu aboneliği toohello konu gönderilen Merhaba iletileri kopyalarını alan sanal kuyruğa benzer.</span><span class="sxs-lookup"><span data-stu-id="24b79-158">A topic subscription resembles a virtual queue that receives copies of hello messages that are sent toohello topic.</span></span> <span data-ttu-id="24b79-159">İletileri alınan abonelikten aynı kuyruktan alınan bunlar toohello yolu.</span><span class="sxs-lookup"><span data-stu-id="24b79-159">Messages are received from a subscription identically toohello way they are received from a queue.</span></span>

<span data-ttu-id="24b79-160">Karşılaştırma, yapmamanız hello bir kuyruk iletisi göndererek işlevselliğini doğrudan tooa konu eşler ve ileti alma işlevselliğini tooa abonelik eşler.</span><span class="sxs-lookup"><span data-stu-id="24b79-160">By way of comparison, hello message-sending functionality of a queue maps directly tooa topic and its message-receiving functionality maps tooa subscription.</span></span> <span data-ttu-id="24b79-161">Bunun yanı sıra, bu abonelikleri aynı desenler açıklandığı önceki şekilde tooqueues ile bu bölümdeki hello destek anlamına gelir: Rakip tüketici, zamana bağlı ayırma, Yük Dengeleme ve Yük Dengeleme.</span><span class="sxs-lookup"><span data-stu-id="24b79-161">Among other things, this means that subscriptions support hello same patterns described earlier in this section with regard tooqueues: competing consumer, temporal decoupling, load leveling, and load balancing.</span></span>

<span data-ttu-id="24b79-162">Bir konu oluşturma, hello önceki bölümdeki hello örnekte gösterildiği gibi benzer toocreating bir sıraya bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="24b79-162">Creating a topic is similar toocreating a queue, as shown in hello example in hello previous section.</span></span> <span data-ttu-id="24b79-163">Merhaba hizmet URI'si oluşturmak ve ardından hello [NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) sınıfı toocreate hello ad alanı istemci.</span><span class="sxs-lookup"><span data-stu-id="24b79-163">Create hello service URI, and then use hello [NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) class toocreate hello namespace client.</span></span> <span data-ttu-id="24b79-164">Ardından hello kullanarak bir konu oluşturun [CreateTopic](/dotnet/api/microsoft.servicebus.namespacemanager#Microsoft_ServiceBus_NamespaceManager_CreateTopic_System_String_) yöntemi.</span><span class="sxs-lookup"><span data-stu-id="24b79-164">You can then create a topic using hello [CreateTopic](/dotnet/api/microsoft.servicebus.namespacemanager#Microsoft_ServiceBus_NamespaceManager_CreateTopic_System_String_) method.</span></span> <span data-ttu-id="24b79-165">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="24b79-165">For example:</span></span>

```csharp
TopicDescription dataCollectionTopic = namespaceClient.CreateTopic("DataCollectionTopic");
```

<span data-ttu-id="24b79-166">Ardından, abonelikleri istendiği gibi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="24b79-166">Next, add subscriptions as desired:</span></span>

```csharp
SubscriptionDescription myAgentSubscription = namespaceClient.CreateSubscription(myTopic.Path, "Inventory");
SubscriptionDescription myAuditSubscription = namespaceClient.CreateSubscription(myTopic.Path, "Dashboard");
```

<span data-ttu-id="24b79-167">Daha sonra bir konu istemci oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24b79-167">You can then create a topic client.</span></span> <span data-ttu-id="24b79-168">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="24b79-168">For example:</span></span>

```csharp
MessagingFactory factory = MessagingFactory.Create(serviceUri, tokenProvider);
TopicClient myTopicClient = factory.CreateTopicClient(myTopic.Path)
```

<span data-ttu-id="24b79-169">Merhaba ileti gönderen kullanarak gönderebilir ve iletileri tooand hello konusundan hello önceki bölümde gösterildiği gibi alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24b79-169">Using hello message sender, you can send and receive messages tooand from hello topic, as shown in hello previous section.</span></span> <span data-ttu-id="24b79-170">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="24b79-170">For example:</span></span>

```csharp
foreach (BrokeredMessage message in messageList)
{
    myTopicClient.Send(message);
    Console.WriteLine(
    string.Format("Message sent: Id = {0}, Body = {1}", message.MessageId, message.GetBody<string>()));
}
```

<span data-ttu-id="24b79-171">Benzer tooqueues, iletileri kullanarak bir abonelik alınan bir [SubscriptionClient](/dotnet/api/microsoft.servicebus.messaging.subscriptionclient) yerine Nesne bir [QueueClient](/dotnet/api/microsoft.servicebus.messaging.queueclient) nesnesi.</span><span class="sxs-lookup"><span data-stu-id="24b79-171">Similar tooqueues, messages are received from a subscription using a [SubscriptionClient](/dotnet/api/microsoft.servicebus.messaging.subscriptionclient) object instead of a [QueueClient](/dotnet/api/microsoft.servicebus.messaging.queueclient) object.</span></span> <span data-ttu-id="24b79-172">Merhaba adı hello konusunun hello abonelik hello adı geçirme hello abonelik istemci oluşturun ve (isteğe bağlı) hello alma modu parametre olarak.</span><span class="sxs-lookup"><span data-stu-id="24b79-172">Create hello subscription client, passing hello name of hello topic, hello name of hello subscription, and (optionally) hello receive mode as parameters.</span></span> <span data-ttu-id="24b79-173">Örneğin, hello ile **stok** abonelik:</span><span class="sxs-lookup"><span data-stu-id="24b79-173">For example, with hello **Inventory** subscription:</span></span>

```csharp
// Create hello subscription client
MessagingFactory factory = MessagingFactory.Create(serviceUri, tokenProvider); 

SubscriptionClient agentSubscriptionClient = factory.CreateSubscriptionClient("IssueTrackingTopic", "Inventory", ReceiveMode.PeekLock);
SubscriptionClient auditSubscriptionClient = factory.CreateSubscriptionClient("IssueTrackingTopic", "Dashboard", ReceiveMode.ReceiveAndDelete); 

while ((message = agentSubscriptionClient.Receive(TimeSpan.FromSeconds(5))) != null)
{
    Console.WriteLine("\nReceiving message from Inventory...");
    Console.WriteLine(string.Format("Message received: Id = {0}, Body = {1}", message.MessageId, message.GetBody<string>()));
    message.Complete();
}          

// Create a receiver using ReceiveAndDelete mode
while ((message = auditSubscriptionClient.Receive(TimeSpan.FromSeconds(5))) != null)
{
    Console.WriteLine("\nReceiving message from Dashboard...");
    Console.WriteLine(string.Format("Message received: Id = {0}, Body = {1}", message.MessageId, message.GetBody<string>()));
}
```

### <a name="rules-and-actions"></a><span data-ttu-id="24b79-174">Kurallar ve eylemler</span><span class="sxs-lookup"><span data-stu-id="24b79-174">Rules and actions</span></span>
<span data-ttu-id="24b79-175">Birçok senaryoda belirli özelliklere sahip iletileri farklı şekillerde işlenmelidir.</span><span class="sxs-lookup"><span data-stu-id="24b79-175">In many scenarios, messages that have specific characteristics must be processed in different ways.</span></span> <span data-ttu-id="24b79-176">tooenable bu özellikler istenilen ve bazı değişiklikler toothose özellikleri gerçekleştirmek abonelikleri toofind iletiler yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24b79-176">tooenable this, you can configure subscriptions toofind messages that have desired properties and then perform certain modifications toothose properties.</span></span> <span data-ttu-id="24b79-177">Hizmet veri yolu abonelikleri toohello konu gönderilen tüm iletiler görürsünüz, ancak yalnızca bir alt kümesini bu iletileri toohello sanal abonelik sırası kopyalayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24b79-177">While Service Bus subscriptions see all messages sent toohello topic, you can only copy a subset of those messages toohello virtual subscription queue.</span></span> <span data-ttu-id="24b79-178">Bu, abonelik filtreleri kullanılarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="24b79-178">This is accomplished using subscription filters.</span></span> <span data-ttu-id="24b79-179">Tür değişiklikler adlı *filtre eylemlerini*.</span><span class="sxs-lookup"><span data-stu-id="24b79-179">Such modifications are called *filter actions*.</span></span> <span data-ttu-id="24b79-180">Bir abonelik oluşturduğunuzda, selamlama iletisine hello özelliklerini çalışır bir filtre ifadesi sağlayabilir, hem de Sistem özellikleri hello (örneğin, **etiket**) ve özel uygulama özelliklerini (örneğin, **StoreName**.) hello SQL filtre ifadesi isteğe bağlı bu durumda; bir SQL filtre ifadesi bir abonelikte tanımlanan herhangi bir filtre eylemi Bu abonelik için tüm hello ileti üzerinde gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="24b79-180">When a subscription is created, you can supply a filter expression that operates on hello properties of hello message, both hello system properties (for example, **Label**) and custom application properties (for example, **StoreName**.) hello SQL filter expression is optional in this case; without a SQL filter expression, any filter action defined on a subscription will be performed on all hello messages for that subscription.</span></span>

<span data-ttu-id="24b79-181">Merhaba önceki örnekte, yalnızca'ten gelen toofilter mesajları **Store1**, hello Pano abonelik gibi oluşturursunuz:</span><span class="sxs-lookup"><span data-stu-id="24b79-181">Using hello previous example, toofilter messages coming only from **Store1**, you would create hello Dashboard subscription as follows:</span></span>

```csharp
namespaceManager.CreateSubscription("IssueTrackingTopic", "Dashboard", new SqlFilter("StoreName = 'Store1'"));
```

<span data-ttu-id="24b79-182">Bu abonelik filtresi yerinde hello olan iletiler birlikte `StoreName` çok ayarlanan özelliği`Store1` kopyalanan toohello sanal sıra hello için olan `Dashboard` abonelik.</span><span class="sxs-lookup"><span data-stu-id="24b79-182">With this subscription filter in place, only messages that have hello `StoreName` property set too`Store1` are copied toohello virtual queue for hello `Dashboard` subscription.</span></span>

<span data-ttu-id="24b79-183">Hello hello belgelerine olası filtre değerleri hakkında daha fazla bilgi için bkz: [SqlFilter](/dotnet/api/microsoft.servicebus.messaging.sqlfilter) ve [SqlRuleAction](/dotnet/api/microsoft.servicebus.messaging.sqlruleaction) sınıfları.</span><span class="sxs-lookup"><span data-stu-id="24b79-183">For more information about possible filter values, see hello documentation for hello [SqlFilter](/dotnet/api/microsoft.servicebus.messaging.sqlfilter) and [SqlRuleAction](/dotnet/api/microsoft.servicebus.messaging.sqlruleaction) classes.</span></span> <span data-ttu-id="24b79-184">Ayrıca bkz.: Merhaba [aracılı Mesajlaşma: Gelişmiş filtreler](http://code.msdn.microsoft.com/Brokered-Messaging-6b0d2749) ve [konu filtreleri](https://github.com/Azure-Samples/azure-servicebus-messaging-samples/tree/master/TopicFilters) örnekleri.</span><span class="sxs-lookup"><span data-stu-id="24b79-184">Also, see hello [Brokered Messaging: Advanced Filters](http://code.msdn.microsoft.com/Brokered-Messaging-6b0d2749) and [Topic Filters](https://github.com/Azure-Samples/azure-servicebus-messaging-samples/tree/master/TopicFilters) samples.</span></span>

## <a name="next-steps"></a><span data-ttu-id="24b79-185">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="24b79-185">Next steps</span></span>
<span data-ttu-id="24b79-186">Merhaba aşağıdaki konularda daha fazla bilgi ve Service Bus Mesajlaşma kullanma örnekleri Gelişmiş bakın.</span><span class="sxs-lookup"><span data-stu-id="24b79-186">See hello following advanced topics for more information and examples of using Service Bus messaging.</span></span>

* [<span data-ttu-id="24b79-187">Service Bus mesajlaşma hizmetine genel bakış</span><span class="sxs-lookup"><span data-stu-id="24b79-187">Service Bus messaging overview</span></span>](service-bus-messaging-overview.md)
* [<span data-ttu-id="24b79-188">Service Bus aracılı mesajlaşma .NET eğitmeni</span><span class="sxs-lookup"><span data-stu-id="24b79-188">Service Bus brokered messaging .NET tutorial</span></span>](service-bus-brokered-tutorial-dotnet.md)
* [<span data-ttu-id="24b79-189">Service Bus aracılı Mesajlaşma REST Öğreticisi</span><span class="sxs-lookup"><span data-stu-id="24b79-189">Service Bus brokered messaging REST tutorial</span></span>](service-bus-brokered-tutorial-rest.md)
* [<span data-ttu-id="24b79-190">Konu başlığı filtreleri örneği</span><span class="sxs-lookup"><span data-stu-id="24b79-190">Topic Filters sample </span></span>](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/TopicFilters)
* [<span data-ttu-id="24b79-191">Aracılı Mesajlaşma: Gelişmiş filtreleri örneği</span><span class="sxs-lookup"><span data-stu-id="24b79-191">Brokered Messaging: Advanced Filters sample</span></span>](http://code.msdn.microsoft.com/Brokered-Messaging-6b0d2749)

