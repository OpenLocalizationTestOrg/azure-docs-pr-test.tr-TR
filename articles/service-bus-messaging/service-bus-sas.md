---
title: "Paylaşılan erişim imzaları ile Azure Service Bus kimlik doğrulaması | Microsoft Docs"
description: "Hizmet veri yolu paylaşılan erişim imzaları genel bakış, SAS kimlik doğrulaması Azure Service Bus ile ilgili ayrıntıları kullanarak kimlik doğrulamasına genel bakış."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: a2760072acb7c62204759f3ec0d3cb9899460f2d
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/29/2017
---
# <a name="service-bus-authentication-with-shared-access-signatures"></a><span data-ttu-id="bc796-103">Paylaşılan erişim imzaları ile Service Bus kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="bc796-103">Service Bus authentication with Shared Access Signatures</span></span>

<span data-ttu-id="bc796-104">*Paylaşılan erişim imzası* (SAS) olan Service Bus Mesajlaşma hizmeti için birincil güvenlik mekanizması.</span><span class="sxs-lookup"><span data-stu-id="bc796-104">*Shared Access Signatures* (SAS) are the primary security mechanism for Service Bus messaging.</span></span> <span data-ttu-id="bc796-105">Bu makalede, SAS, nasıl çalıştığını ve bunları bir platform belirsiz şekilde nasıl kullanılacağını açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="bc796-105">This article discusses SAS, how they work, and how to use them in a platform-agnostic way.</span></span>

<span data-ttu-id="bc796-106">Hizmet veri yolu ad alanı veya belirli haklar ilişkili Mesajlaşma varlığıyla (kuyruk veya konu) yapılandırılmış bir erişim anahtarı kullanarak kimlik doğrulaması uygulamaları SAS kimlik doğrulaması sağlar.</span><span class="sxs-lookup"><span data-stu-id="bc796-106">SAS authentication enables applications to authenticate to Service Bus using an access key configured on the namespace, or on the messaging entity (queue or topic) with which specific rights are associated.</span></span> <span data-ttu-id="bc796-107">Bu anahtar ardından istemcilerin sırayla Service Bus kimlik doğrulaması yapmak için kullanabileceği bir SAS belirteci oluşturmak için de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc796-107">You can then use this key to generate a SAS token that clients can in turn use to authenticate to Service Bus.</span></span>

<span data-ttu-id="bc796-108">SAS kimlik doğrulama desteği Azure SDK sürüm 2.0 ve üzeri dahil edilmiştir.</span><span class="sxs-lookup"><span data-stu-id="bc796-108">SAS authentication support is included in the Azure SDK version 2.0 and later.</span></span>

## <a name="overview-of-sas"></a><span data-ttu-id="bc796-109">SAS genel bakış</span><span class="sxs-lookup"><span data-stu-id="bc796-109">Overview of SAS</span></span>

<span data-ttu-id="bc796-110">Paylaşılan erişim imzaları, SHA-256 güvenli karmaları veya URI dayalı bir kimlik doğrulama mekanizmasıdır.</span><span class="sxs-lookup"><span data-stu-id="bc796-110">Shared Access Signatures are an authentication mechanism based on SHA-256 secure hashes or URIs.</span></span> <span data-ttu-id="bc796-111">SAS tüm Service Bus hizmetler tarafından kullanılan son derece güçlü bir mekanizmadır.</span><span class="sxs-lookup"><span data-stu-id="bc796-111">SAS is an extremely powerful mechanism that is used by all Service Bus services.</span></span> <span data-ttu-id="bc796-112">Gerçek kullanımda SAS iki bileşenden oluşur: bir *paylaşılan erişim ilkesi* ve *paylaşılan erişim imzası* (genellikle olarak adlandırılan bir *belirteci*).</span><span class="sxs-lookup"><span data-stu-id="bc796-112">In actual use, SAS has two components: a *shared access policy* and a *Shared Access Signature* (often called a *token*).</span></span>

<span data-ttu-id="bc796-113">Hizmet veri yolu SAS kimlik doğrulaması bir şifreleme anahtarıyla ilişkili haklar bir Service Bus kaynakta yapılandırılmasını içerir.</span><span class="sxs-lookup"><span data-stu-id="bc796-113">SAS authentication in Service Bus involves the configuration of a cryptographic key with associated rights on a Service Bus resource.</span></span> <span data-ttu-id="bc796-114">İstemciler bir SAS belirteci sunarak Service Bus kaynaklarına erişim talep.</span><span class="sxs-lookup"><span data-stu-id="bc796-114">Clients claim access to Service Bus resources by presenting a SAS token.</span></span> <span data-ttu-id="bc796-115">Bu belirteç Kaynak URI erişilen oluşur ve bir süre sonu yapılandırılmış anahtarı ile imzalanmış.</span><span class="sxs-lookup"><span data-stu-id="bc796-115">This token consists of the resource URI being accessed, and an expiry signed with the configured key.</span></span>

<span data-ttu-id="bc796-116">Service Bus paylaşılan erişim imzası yetkilendirme kuralları yapılandırabilirsiniz [geçişleri](service-bus-fundamentals-hybrid-solutions.md#relays), [sıraları](service-bus-fundamentals-hybrid-solutions.md#queues), ve [konuları](service-bus-fundamentals-hybrid-solutions.md#topics).</span><span class="sxs-lookup"><span data-stu-id="bc796-116">You can configure Shared Access Signature authorization rules on Service Bus [relays](service-bus-fundamentals-hybrid-solutions.md#relays), [queues](service-bus-fundamentals-hybrid-solutions.md#queues), and [topics](service-bus-fundamentals-hybrid-solutions.md#topics).</span></span>

<span data-ttu-id="bc796-117">SAS kimlik doğrulaması aşağıdaki öğeleri kullanır:</span><span class="sxs-lookup"><span data-stu-id="bc796-117">SAS authentication uses the following elements:</span></span>

* <span data-ttu-id="bc796-118">[Paylaşılan erişim yetkilendirme kuralı](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256 bit Base64 gösteriminde birincil şifreleme anahtarı, isteğe bağlı bir ikincil anahtarı ve bir anahtar adı ve ilişkili haklar (koleksiyonu *dinleme*, *Gönder*, veya *Yönet* hakları).</span><span class="sxs-lookup"><span data-stu-id="bc796-118">[Shared Access authorization rule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256-bit primary cryptographic key in Base64 representation, an optional secondary key, and a key name and associated rights (a collection of *Listen*, *Send*, or *Manage* rights).</span></span>
* <span data-ttu-id="bc796-119">[Paylaşılan erişim imzası](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) belirteci: HMAC-erişilen Kaynak URI ve bir süre sonu şifreleme anahtarıyla oluşan SHA256 kaynak dizesi kullanılarak oluşturulan.</span><span class="sxs-lookup"><span data-stu-id="bc796-119">[Shared Access Signature](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) token: Generated using the HMAC-SHA256 of a resource string, consisting of the URI of the resource that is accessed and an expiry, with the cryptographic key.</span></span> <span data-ttu-id="bc796-120">İmza ve diğer öğeleri aşağıdaki bölümlerde açıklanan SAS belirteci oluşturmak için bir dize olarak biçimlendirilir.</span><span class="sxs-lookup"><span data-stu-id="bc796-120">The signature and other elements described in the following sections are formatted into a string to form the SAS token.</span></span>

## <a name="shared-access-policy"></a><span data-ttu-id="bc796-121">Paylaşılan Erişim İlkesi</span><span class="sxs-lookup"><span data-stu-id="bc796-121">Shared access policy</span></span>

<span data-ttu-id="bc796-122">SAS hakkında anlamak için bir önemli bir ilkeyle başlatır şeydir.</span><span class="sxs-lookup"><span data-stu-id="bc796-122">An important thing to understand about SAS is that it starts with a policy.</span></span> <span data-ttu-id="bc796-123">Her ilke için üç parça bilgi karar verin: **adı**, **kapsam**, ve **izinleri**.</span><span class="sxs-lookup"><span data-stu-id="bc796-123">For each policy, you decide on three pieces of information: **name**, **scope**, and **permissions**.</span></span> <span data-ttu-id="bc796-124">**Adı** yalnızca bu; bu kapsam içinde benzersiz bir ad.</span><span class="sxs-lookup"><span data-stu-id="bc796-124">The **name** is just that; a unique name within that scope.</span></span> <span data-ttu-id="bc796-125">Kapsamı kadar kolaydır: söz konusu kaynak URI'dir.</span><span class="sxs-lookup"><span data-stu-id="bc796-125">The scope is easy enough: it's the URI of the resource in question.</span></span> <span data-ttu-id="bc796-126">Bir hizmet veri yolu ad alanı için kapsam tam etki alanı adı (FQDN) olduğu gibi `https://<yournamespace>.servicebus.windows.net/`.</span><span class="sxs-lookup"><span data-stu-id="bc796-126">For a Service Bus namespace, the scope is the fully qualified domain name (FQDN), such as `https://<yournamespace>.servicebus.windows.net/`.</span></span>

<span data-ttu-id="bc796-127">Bir ilke kullanılabilir izinlerini büyük ölçüde kendinden açıklamalıdır şunlardır:</span><span class="sxs-lookup"><span data-stu-id="bc796-127">The available permissions for a policy are largely self-explanatory:</span></span>

* <span data-ttu-id="bc796-128">Gönder</span><span class="sxs-lookup"><span data-stu-id="bc796-128">Send</span></span>
* <span data-ttu-id="bc796-129">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-129">Listen</span></span>
* <span data-ttu-id="bc796-130">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-130">Manage</span></span>

<span data-ttu-id="bc796-131">İlke oluşturduktan sonra atanan bir *birincil anahtar* ve *ikincil anahtar*.</span><span class="sxs-lookup"><span data-stu-id="bc796-131">After you create the policy, it is assigned a *Primary Key* and a *Secondary Key*.</span></span> <span data-ttu-id="bc796-132">Şifreleme açısından güçlü anahtarları şunlardır.</span><span class="sxs-lookup"><span data-stu-id="bc796-132">These are cryptographically strong keys.</span></span> <span data-ttu-id="bc796-133">Bunlar kaybolur veya bunları sızıntısı yok - bunlar her zaman kullanılabilir olması [Azure portal][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="bc796-133">Don't lose them or leak them - they'll always be available in the [Azure portal][Azure portal].</span></span> <span data-ttu-id="bc796-134">Oluşturulan anahtarları birini kullanabilirsiniz ve her zaman yeniden oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc796-134">You can use either of the generated keys, and you can regenerate them at any time.</span></span> <span data-ttu-id="bc796-135">Ancak, yeniden oluşturmak veya ilke birincil anahtarda değiştirirseniz tüm paylaşılan erişim imzaları oluşturulan geçersiz kılınır.</span><span class="sxs-lookup"><span data-stu-id="bc796-135">However, if you regenerate or change the primary key in the policy, any Shared Access Signatures created from it will be invalidated.</span></span>

<span data-ttu-id="bc796-136">Bir hizmet veri yolu ad alanı oluşturduğunuzda, bir ilke adı verilen tüm ad alanı için otomatik olarak oluşturulur **RootManageSharedAccessKey**, ve bu ilkeyi tüm izinlere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="bc796-136">When you create a Service Bus namespace, a policy is automatically created for the entire namespace called **RootManageSharedAccessKey**, and this policy has all permissions.</span></span> <span data-ttu-id="bc796-137">Olarak oturum yok **kök**, gerçekten iyi bir neden olmadıkça bu ilkeyi kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="bc796-137">You don't log on as **root**, so don't use this policy unless there's a really good reason.</span></span> <span data-ttu-id="bc796-138">Ek ilkelerinde oluşturabileceğiniz **yapılandırma** sekmesini portaldaki ad.</span><span class="sxs-lookup"><span data-stu-id="bc796-138">You can create additional policies in the **Configure** tab for the namespace in the portal.</span></span> <span data-ttu-id="bc796-139">Service Bus (ad alanı, kuyruk, vb.) içinde tek ağacı düzeyi bağlı en fazla 12 ilkeleri yalnızca olabilir dikkate almak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="bc796-139">It's important to note that a single tree level in Service Bus (namespace, queue, etc.) can only have up to 12 policies attached to it.</span></span>

## <a name="configuration-for-shared-access-signature-authentication"></a><span data-ttu-id="bc796-140">Paylaşılan erişim imzası kimlik doğrulaması için yapılandırma</span><span class="sxs-lookup"><span data-stu-id="bc796-140">Configuration for Shared Access Signature authentication</span></span>
<span data-ttu-id="bc796-141">Yapılandırabileceğiniz [Rootmanagesharedaccesskey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) hizmet veri yolu ad alanları, kuyruk veya konuları kuralı.</span><span class="sxs-lookup"><span data-stu-id="bc796-141">You can configure the [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) rule on Service Bus namespaces, queues, or topics.</span></span> <span data-ttu-id="bc796-142">Yapılandırma bir [Rootmanagesharedaccesskey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) bir Service Bus abonelik şu anda desteklenmiyor ancak abonelikleri erişimi güvenli hale getirmek için bir ad alanı veya konu yapılandırılmış kurallarını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc796-142">Configuring a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) on a Service Bus subscription is currently not supported, but you can use rules configured on a namespace or topic to secure access to subscriptions.</span></span> <span data-ttu-id="bc796-143">Bu yordam gösterilmektedir çalışan bir örnek için bkz [kullanarak paylaşılan erişim imzası (SAS) kimlik doğrulama hizmet veri yolu abonelikleri ile](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) örnek.</span><span class="sxs-lookup"><span data-stu-id="bc796-143">For a working sample that illustrates this procedure, see the [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) sample.</span></span>

<span data-ttu-id="bc796-144">En fazla 12 Bu kurallar, bir hizmet veri yolu ad alanı, kuyruk veya konu yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="bc796-144">A maximum of 12 such rules can be configured on a Service Bus namespace, queue, or topic.</span></span> <span data-ttu-id="bc796-145">Bu ad alanındaki tüm varlıklara bir hizmet veri yolu ad alanı üzerinde yapılandırılmış olan kurallar uygulanır.</span><span class="sxs-lookup"><span data-stu-id="bc796-145">Rules that are configured on a Service Bus namespace apply to all entities in that namespace.</span></span>

![SAS](./media/service-bus-sas/service-bus-namespace.png)

<span data-ttu-id="bc796-147">Bu şekilde *manageRuleNS*, *sendRuleNS*, ve *listenRuleNS* S1 sırasını ve konu T1, için yetkilendirme kuralları uygula sırada *listenRuleQ*  ve *sendRuleQ* yalnızca sıra S1 uygulamak ve *sendRuleT* yalnızca konu T1 geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="bc796-147">In this figure, the *manageRuleNS*, *sendRuleNS*, and *listenRuleNS* authorization rules apply to both queue Q1 and topic T1, while *listenRuleQ* and *sendRuleQ* apply only to queue Q1 and *sendRuleT* applies only to topic T1.</span></span>

<span data-ttu-id="bc796-148">Anahtar parametreleri bir [Rootmanagesharedaccesskey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="bc796-148">The key parameters of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) are as follows:</span></span>

| <span data-ttu-id="bc796-149">Parametre</span><span class="sxs-lookup"><span data-stu-id="bc796-149">Parameter</span></span> | <span data-ttu-id="bc796-150">Açıklama</span><span class="sxs-lookup"><span data-stu-id="bc796-150">Description</span></span> |
| --- | --- |
| <span data-ttu-id="bc796-151">*Anahtar adı*</span><span class="sxs-lookup"><span data-stu-id="bc796-151">*KeyName*</span></span> |<span data-ttu-id="bc796-152">Yetkilendirme kuralı tanımlayan bir dize.</span><span class="sxs-lookup"><span data-stu-id="bc796-152">A string that describes the authorization rule.</span></span> |
| <span data-ttu-id="bc796-153">*PrimaryKey*</span><span class="sxs-lookup"><span data-stu-id="bc796-153">*PrimaryKey*</span></span> |<span data-ttu-id="bc796-154">İmzalama ve SAS belirteci doğrulanırken bir base64 ile kodlanmış 256 bit birincil anahtar.</span><span class="sxs-lookup"><span data-stu-id="bc796-154">A base64-encoded 256-bit primary key for signing and validating the SAS token.</span></span> |
| <span data-ttu-id="bc796-155">*SecondaryKey*</span><span class="sxs-lookup"><span data-stu-id="bc796-155">*SecondaryKey*</span></span> |<span data-ttu-id="bc796-156">İmzalama ve SAS belirteci doğrulanırken bir base64 ile kodlanmış 256 bit ikincil anahtarı.</span><span class="sxs-lookup"><span data-stu-id="bc796-156">A base64-encoded 256-bit secondary key for signing and validating the SAS token.</span></span> |
| <span data-ttu-id="bc796-157">*ErişimHakları*</span><span class="sxs-lookup"><span data-stu-id="bc796-157">*AccessRights*</span></span> |<span data-ttu-id="bc796-158">Yetkilendirme kuralı tarafından verilen erişim hakları listesi.</span><span class="sxs-lookup"><span data-stu-id="bc796-158">A list of access rights granted by the authorization rule.</span></span> <span data-ttu-id="bc796-159">Bu haklar dinle, Gönder ve Yönet hakların herhangi bir koleksiyonu olabilir.</span><span class="sxs-lookup"><span data-stu-id="bc796-159">These rights can be any collection of Listen, Send, and Manage rights.</span></span> |

<span data-ttu-id="bc796-160">Hizmet veri yolu ad alanı sağlandığında bir [Rootmanagesharedaccesskey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), ile [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) kümesine **RootManageSharedAccessKey**, varsayılan olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="bc796-160">When a Service Bus namespace is provisioned, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), with [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) set to **RootManageSharedAccessKey**, is created by default.</span></span>

## <a name="generate-a-shared-access-signature-token"></a><span data-ttu-id="bc796-161">Paylaşılan erişim imzası (belirteç) oluştur</span><span class="sxs-lookup"><span data-stu-id="bc796-161">Generate a Shared Access Signature (token)</span></span>

<span data-ttu-id="bc796-162">İlke hizmet veri yolu için erişim belirteci değil.</span><span class="sxs-lookup"><span data-stu-id="bc796-162">The policy itself is not the access token for Service Bus.</span></span> <span data-ttu-id="bc796-163">İçinden erişim belirteci - birincil veya ikincil anahtar kullanılarak oluşturulan nesnedir.</span><span class="sxs-lookup"><span data-stu-id="bc796-163">It is the object from which the access token is generated - using either the primary or secondary key.</span></span> <span data-ttu-id="bc796-164">Paylaşılan erişim yetkilendirme kuralında belirtilen İmzalama anahtarları erişimi olan herhangi bir istemci, SAS belirteci oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="bc796-164">Any client that has access to the signing keys specified in the shared access authorization rule can generate the SAS token.</span></span> <span data-ttu-id="bc796-165">Belirteç dikkatle aşağıdaki biçiminde bir dize olarak hazırlayın tarafından oluşturulur:</span><span class="sxs-lookup"><span data-stu-id="bc796-165">The token is generated by carefully crafting a string in the following format:</span></span>

```
SharedAccessSignature sig=<signature-string>&se=<expiry>&skn=<keyName>&sr=<URL-encoded-resourceURI>
```

<span data-ttu-id="bc796-166">Burada `signature-string` belirtecin kapsamını SHA-256 Karması (**kapsam** önceki bölümde açıklandığı gibi) eklenmiş CRLF ve sona erme saati (dönem bu yana saniye cinsinden: `00:00:00 UTC` 1 Ocak 1970'ten üzerinde).</span><span class="sxs-lookup"><span data-stu-id="bc796-166">Where `signature-string` is the SHA-256 hash of the scope of the token (**scope** as described in the previous section) with a CRLF appended and an expiry time (in seconds since the epoch: `00:00:00 UTC` on 1 January 1970).</span></span> 

> [!NOTE]
> <span data-ttu-id="bc796-167">Kısa belirteç süre sonu zamanı önlemek için en az bir 32 bit işaretsiz tamsayıyı veya uzun süre (64 bit) tamsayı tercihen süre sonu zamanı değeri kodlamak önerilir.</span><span class="sxs-lookup"><span data-stu-id="bc796-167">To avoid a short token expiry time, it is recommended that you encode the expiry time value as at least a 32-bit unsigned integer, or preferably a long (64-bit) integer.</span></span>  
> 
> 

<span data-ttu-id="bc796-168">Karma aşağıdaki sözde kodu benzer ve 32 bayt döndürür.</span><span class="sxs-lookup"><span data-stu-id="bc796-168">The hash looks similar to the following pseudo code and returns 32 bytes.</span></span>

```
SHA-256('https://<yournamespace>.servicebus.windows.net/'+'\n'+ 1438205742)
```

<span data-ttu-id="bc796-169">Karma olmayan değerler bulunan **SharedAccessSignature** böylece alıcı aynı sonucu verir emin olmak için aynı parametrelerle karma hesaplayabilirsiniz dize.</span><span class="sxs-lookup"><span data-stu-id="bc796-169">The non-hashed values are in the **SharedAccessSignature** string so that the recipient can compute the hash with the same parameters, to be sure that it returns the same result.</span></span> <span data-ttu-id="bc796-170">URI kapsamı belirler ve ilke karma hesaplamak için kullanılacak anahtar adı tanımlar.</span><span class="sxs-lookup"><span data-stu-id="bc796-170">The URI specifies the scope, and the key name identifies the policy to be used to compute the hash.</span></span> <span data-ttu-id="bc796-171">Bu, güvenlik açısından önemlidir.</span><span class="sxs-lookup"><span data-stu-id="bc796-171">This is important from a security standpoint.</span></span> <span data-ttu-id="bc796-172">İmza olduğu (Service Bus) alıcı hesaplar eşleşmiyorsa, erişim reddedildi.</span><span class="sxs-lookup"><span data-stu-id="bc796-172">If the signature doesn't match that which the recipient (Service Bus) calculates, then access is denied.</span></span> <span data-ttu-id="bc796-173">Bu noktada gönderen anahtarına erişime sahip ve ilkede belirtilen hakları verilmelidir emin olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc796-173">At this point you can be sure that the sender had access to the key and should be granted the rights specified in the policy.</span></span>

<span data-ttu-id="bc796-174">Bu işlem için kodlanmış kaynak URI'si kullanması gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="bc796-174">Note that you should use the encoded resource URI for this operation.</span></span> <span data-ttu-id="bc796-175">Kaynak URI erişim talep Service Bus kaynağının tam URI değil.</span><span class="sxs-lookup"><span data-stu-id="bc796-175">The resource URI is the full URI of the Service Bus resource to which access is claimed.</span></span> <span data-ttu-id="bc796-176">Örneğin, `http://<namespace>.servicebus.windows.net/<entityPath>` veya `sb://<namespace>.servicebus.windows.net/<entityPath>`; diğer bir deyişle, `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span><span class="sxs-lookup"><span data-stu-id="bc796-176">For example, `http://<namespace>.servicebus.windows.net/<entityPath>` or `sb://<namespace>.servicebus.windows.net/<entityPath>`; that is, `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span></span>

<span data-ttu-id="bc796-177">İmzalama için kullanılan paylaşılan erişim yetkilendirme kuralı bu URI tarafından ya da hiyerarşik üst öğelerinden biri tarafından belirtilen varlık yapılandırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="bc796-177">The shared access authorization rule used for signing must be configured on the entity specified by this URI, or by one of its hierarchical parents.</span></span> <span data-ttu-id="bc796-178">Örneğin, `http://contoso.servicebus.windows.net/contosoTopics/T1` veya `http://contoso.servicebus.windows.net` önceki örnekte.</span><span class="sxs-lookup"><span data-stu-id="bc796-178">For example, `http://contoso.servicebus.windows.net/contosoTopics/T1` or `http://contoso.servicebus.windows.net` in the previous example.</span></span>

<span data-ttu-id="bc796-179">Bir SAS belirteci tüm kaynaklar için geçerli `<resourceURI>` kullanılan `signature-string`.</span><span class="sxs-lookup"><span data-stu-id="bc796-179">A SAS token is valid for all resources under the `<resourceURI>` used in the `signature-string`.</span></span>

<span data-ttu-id="bc796-180">[KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) SAS belirteci başvurduğu **keyName** belirteci üretmek için kullanılan paylaşılan erişim Yetkilendirme kuralının.</span><span class="sxs-lookup"><span data-stu-id="bc796-180">The [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) in the SAS token refers to the **keyName** of the shared access authorization rule used to generate the token.</span></span>

<span data-ttu-id="bc796-181">*URL kodlanmış resourceURI* dize-için-oturum aç imza hesaplaması sırasında kullanılan URI ile aynı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="bc796-181">The *URL-encoded-resourceURI* must be the same as the URI used in the string-to-sign during the computation of the signature.</span></span> <span data-ttu-id="bc796-182">Olmalıdır [yüzde olarak kodlanmış](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span><span class="sxs-lookup"><span data-stu-id="bc796-182">It should be [percent-encoded](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span></span>

<span data-ttu-id="bc796-183">Kullanılan anahtarları düzenli aralıklarla yeniden önerilir [Rootmanagesharedaccesskey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) nesnesi.</span><span class="sxs-lookup"><span data-stu-id="bc796-183">It is recommended that you periodically regenerate the keys used in the [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object.</span></span> <span data-ttu-id="bc796-184">Uygulamalar genellikle kullanması gereken [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) bir SAS belirteci oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="bc796-184">Applications should generally use the [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) to generate a SAS token.</span></span> <span data-ttu-id="bc796-185">Anahtarlarını yeniden oluştururken değiştirmelisiniz [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) ile eski birincil anahtar ve yeni birincil anahtarı olarak yeni bir anahtar oluşturur.</span><span class="sxs-lookup"><span data-stu-id="bc796-185">When regenerating the keys, you should replace the [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) with the old primary key, and generate a new key as the new primary key.</span></span> <span data-ttu-id="bc796-186">Bu eski birincil anahtarıyla verilmiş olan ve henüz süresinin dolmadığını yetkilendirme için belirteç kullanmaya devam etmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="bc796-186">This enables you to continue using tokens for authorization that were issued with the old primary key, and that have not yet expired.</span></span>

<span data-ttu-id="bc796-187">Bir anahtarınıza ve anahtarlarını iptal varsa, her ikisini de yeniden oluşturabilmeniz [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) ve [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) , bir [Rootmanagesharedaccesskey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule)değiştirerek bunları yeni anahtarlarla.</span><span class="sxs-lookup"><span data-stu-id="bc796-187">If a key is compromised and you have to revoke the keys, you can regenerate both the [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) and the [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), replacing them with new keys.</span></span> <span data-ttu-id="bc796-188">Bu yordam, eski anahtarlarla imzalanması tüm belirteçleri geçersiz kılar.</span><span class="sxs-lookup"><span data-stu-id="bc796-188">This procedure invalidates all tokens signed with the old keys.</span></span>

## <a name="how-to-use-shared-access-signature-authentication-with-service-bus"></a><span data-ttu-id="bc796-189">Service Bus ile paylaşılan erişim imzası kimlik doğrulaması kullanma</span><span class="sxs-lookup"><span data-stu-id="bc796-189">How to use Shared Access Signature authentication with Service Bus</span></span>

<span data-ttu-id="bc796-190">Aşağıdaki senaryolar, yetkilendirme kuralları yapılandırma, nesil SAS belirteci ve istemci kimlik doğrulaması içerir.</span><span class="sxs-lookup"><span data-stu-id="bc796-190">The following scenarios include configuration of authorization rules, generation of SAS tokens, and client authorization.</span></span>

<span data-ttu-id="bc796-191">Bir tam için yapılandırma ve kullandığı SAS yetkilendirme gösterilmektedir bir hizmet veri yolu uygulaması çalışma örneği bkz [Service Bus ile paylaşılan erişim imzası kimlik doğrulaması](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span><span class="sxs-lookup"><span data-stu-id="bc796-191">For a full working sample of a Service Bus application that illustrates the configuration and uses SAS authorization, see [Shared Access Signature authentication with Service Bus](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span></span> <span data-ttu-id="bc796-192">Ad alanları veya hizmet veri yolu abonelikleri güvenli hale getirmek için konuları yapılandırılan SAS yetkilendirme kuralları kullanımını göstermektedir ilgili bir örnek aşağıda verilmiştir: [hizmet veri yolu abonelikleriilekullanarakpaylaşılanerişimimzası(SAS)kimlikdoğrulaması](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span><span class="sxs-lookup"><span data-stu-id="bc796-192">A related sample that illustrates the use of SAS authorization rules configured on namespaces or topics to secure Service Bus subscriptions is available here: [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span></span>

## <a name="access-shared-access-authorization-rules-on-a-namespace"></a><span data-ttu-id="bc796-193">Bir ad alanında erişim paylaşılan erişim yetkilendirme kuralları</span><span class="sxs-lookup"><span data-stu-id="bc796-193">Access Shared Access Authorization rules on a namespace</span></span>

<span data-ttu-id="bc796-194">Hizmet veri yolu ad alanı kökünde işlemler sertifika kimlik doğrulaması gerektirir.</span><span class="sxs-lookup"><span data-stu-id="bc796-194">Operations on the Service Bus namespace root require certificate authentication.</span></span> <span data-ttu-id="bc796-195">Azure aboneliğiniz için bir yönetim sertifikası yüklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="bc796-195">You must upload a management certificate for your Azure subscription.</span></span> <span data-ttu-id="bc796-196">Bir yönetim sertifikasını karşıya yüklemek için adımları izleyin [burada](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate)kullanarak [Azure portal][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="bc796-196">To upload a management certificate, follow the steps [here](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate), using the [Azure portal][Azure portal].</span></span> <span data-ttu-id="bc796-197">Azure yönetim sertifikaları hakkında daha fazla bilgi için bkz: [Azure sertifikalara genel bakış](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span><span class="sxs-lookup"><span data-stu-id="bc796-197">For more information about Azure management certificates, see the [Azure certificates overview](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span></span>

<span data-ttu-id="bc796-198">Bir hizmet veri yolu ad alanı paylaşılan erişim yetkilendirme kurallarının erişmek için uç nokta aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="bc796-198">The endpoint for accessing shared access authorization rules on a Service Bus namespace is as follows:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/
```

<span data-ttu-id="bc796-199">Oluşturmak için bir [Rootmanagesharedaccesskey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) nesne üzerinde bir hizmet veri yolu ad alanı, JSON veya XML olarak serileştirilmiş kural bilgilerle POST işlemine bu uç noktada yürütün.</span><span class="sxs-lookup"><span data-stu-id="bc796-199">To create a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a Service Bus namespace, execute a POST operation on this endpoint with the rule information serialized as JSON or XML.</span></span> <span data-ttu-id="bc796-200">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="bc796-200">For example:</span></span>

```csharp
// Base address for accessing authorization rules on a namespace
string baseAddress = @"https://management.core.windows.net/<subscriptionId>/services/ServiceBus/namespaces/<namespace>/AuthorizationRules/";

// Configure authorization rule with base64-encoded 256-bit key and Send rights
var sendRule = new SharedAccessAuthorizationRule("contosoSendAll",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send });

// Operations on the Service Bus namespace root require certificate authentication.
WebRequestHandler handler = new WebRequestHandler
{
    ClientCertificateOptions = ClientCertificateOption.Manual
};
// Access the management certificate by subject name
handler.ClientCertificates.Add(GetCertificate(<certificateSN>));

HttpClient httpClient = new HttpClient(handler)
{
    BaseAddress = new Uri(baseAddress)
};
httpClient.DefaultRequestHeaders.Accept.Add(
    new MediaTypeWithQualityHeaderValue("application/json"));
httpClient.DefaultRequestHeaders.Add("x-ms-version", "2015-01-01");

// Execute a POST operation on the baseAddress above to create an auth rule
var postResult = httpClient.PostAsJsonAsync("", sendRule).Result;
```

<span data-ttu-id="bc796-201">Benzer şekilde, ad yapılandırılmış yetkilendirme kuralları okumak için uç alma işlemi kullanın.</span><span class="sxs-lookup"><span data-stu-id="bc796-201">Similarly, use a GET operation on the endpoint to read the authorization rules configured on the namespace.</span></span>

<span data-ttu-id="bc796-202">Belirli yetkilendirme kuralını silmek ve güncelleştirmek için aşağıdaki bitiş noktasını kullanın:</span><span class="sxs-lookup"><span data-stu-id="bc796-202">To update or delete a specific authorization rule, use the following endpoint:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/{KeyName}
```

## <a name="access-shared-access-authorization-rules-on-an-entity"></a><span data-ttu-id="bc796-203">Bir varlık üzerinde erişim paylaşılan erişim yetkilendirme kuralları</span><span class="sxs-lookup"><span data-stu-id="bc796-203">Access Shared Access Authorization rules on an entity</span></span>

<span data-ttu-id="bc796-204">Erişebileceğiniz bir [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) bir hizmet veri yolu kuyruğu ya da konu üzerinden yapılandırılmış nesne [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) koleksiyonunda karşılık gelen [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) veya [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span><span class="sxs-lookup"><span data-stu-id="bc796-204">You can access a [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object configured on a Service Bus queue or topic through the [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) collection in the corresponding [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) or [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span></span>

<span data-ttu-id="bc796-205">Aşağıdaki kod, sıra için yetkilendirme kuralları eklemek gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="bc796-205">The following code shows how to add authorization rules for a queue.</span></span>

```csharp
// Create an instance of NamespaceManager for the operation
NamespaceManager nsm = NamespaceManager.CreateFromConnectionString(
    <connectionString> );
QueueDescription qd = new QueueDescription( <qPath> );

// Create a rule with send rights with keyName as "contosoQSendKey"
// and add it to the queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoSendKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send }));

// Create a rule with listen rights with keyName as "contosoQListenKey"
// and add it to the queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQListenKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Listen }));

// Create a rule with manage rights with keyName as "contosoQManageKey"
// and add it to the queue description.
// A rule with manage rights must also have send and receive rights.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQManageKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] {AccessRights.Manage, AccessRights.Listen, AccessRights.Send }));

// Create the queue.
nsm.CreateQueue(qd);
```

## <a name="use-shared-access-signature-authorization"></a><span data-ttu-id="bc796-206">Paylaşılan erişim imzası yetkilendirme kullanın</span><span class="sxs-lookup"><span data-stu-id="bc796-206">Use Shared Access Signature authorization</span></span>

<span data-ttu-id="bc796-207">Hizmet veri yolu .NET kitaplıklarıyla Azure .NET SDK'yı kullanarak uygulamaları aracılığıyla SAS yetkilendirme kullanabileceğiniz [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) sınıfı.</span><span class="sxs-lookup"><span data-stu-id="bc796-207">Applications using the Azure .NET SDK with the Service Bus .NET libraries can use SAS authorization through the [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) class.</span></span> <span data-ttu-id="bc796-208">Aşağıdaki kod bir Service Bus kuyruğuna ileti göndermek için belirteç sağlayıcı kullanımını gösterir.</span><span class="sxs-lookup"><span data-stu-id="bc796-208">The following code illustrates the use of the token provider to send messages to a Service Bus queue.</span></span>

```csharp
Uri runtimeUri = ServiceBusEnvironment.CreateServiceUri("sb",
    <yourServiceNamespace>, string.Empty);
MessagingFactory mf = MessagingFactory.Create(runtimeUri,
    TokenProvider.CreateSharedAccessSignatureTokenProvider(keyName, key));
QueueClient sendClient = mf.CreateQueueClient(qPath);

//Sending hello message to queue.
BrokeredMessage helloMessage = new BrokeredMessage("Hello, Service Bus!");
helloMessage.MessageId = "SAS-Sample-Message";
sendClient.Send(helloMessage);
```

<span data-ttu-id="bc796-209">Uygulamalar da SAS kimlik doğrulaması için bağlantı dizelerini kabul yöntemlerinde bir SAS bağlantı dizesi kullanarak kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc796-209">Applications can also use SAS for authentication by using a SAS connection string in methods that accept connection strings.</span></span>

<span data-ttu-id="bc796-210">SAS yetkilendirme ile Service Bus geçişlerini kullanmak için üzerinde hizmet veri yolu ad alanı yapılandırılmış SAS anahtarları kullanabileceğinizi unutmayın.</span><span class="sxs-lookup"><span data-stu-id="bc796-210">Note that to use SAS authorization with Service Bus relays, you can use SAS keys configured on the Service Bus namespace.</span></span> <span data-ttu-id="bc796-211">Bir geçiş ad açıkça oluşturursanız ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) ile bir [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) nesnesi, bu geçiş için yalnızca SAS kuralları ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc796-211">If you explicitly create a relay on the namespace ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) with a [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) object, you can set the SAS rules just for that relay.</span></span> <span data-ttu-id="bc796-212">Hizmet veri yolu aboneliklerle SAS yetkilendirme kullanmak için bir hizmet veri yolu ad alanı veya konu yapılandırılmış SAS tuşlarını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc796-212">To use SAS authorization with Service Bus subscriptions, you can use SAS keys configured on a Service Bus namespace or on a topic.</span></span>

## <a name="use-the-shared-access-signature-at-http-level"></a><span data-ttu-id="bc796-213">Paylaşılan erişim imzası (HTTP düzeyinde) kullanın</span><span class="sxs-lookup"><span data-stu-id="bc796-213">Use the Shared Access Signature (at HTTP level)</span></span>

<span data-ttu-id="bc796-214">Service Bus içinde herhangi bir varlık için paylaşılan erişim imzaları oluşturma bildiğinize göre bir HTTP POST gerçekleştirmek hazırsınız:</span><span class="sxs-lookup"><span data-stu-id="bc796-214">Now that you know how to create Shared Access Signatures for any entities in Service Bus, you are ready to perform an HTTP POST:</span></span>

```http
POST https://<yournamespace>.servicebus.windows.net/<yourentity>/messages
Content-Type: application/json
Authorization: SharedAccessSignature sr=https%3A%2F%2F<yournamespace>.servicebus.windows.net%2F<yourentity>&sig=<yoursignature from code above>&se=1438205742&skn=KeyName
ContentType: application/atom+xml;type=entry;charset=utf-8
``` 

<span data-ttu-id="bc796-215">Unutmayın, bu her şey için çalışır.</span><span class="sxs-lookup"><span data-stu-id="bc796-215">Remember, this works for everything.</span></span> <span data-ttu-id="bc796-216">Bir kuyruk, konu veya abonelik için SAS oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc796-216">You can create SAS for a queue, topic, or subscription.</span></span> 

<span data-ttu-id="bc796-217">Bir gönderici veya istemci bir SAS belirteci verirseniz, anahtarı doğrudan yoktur ve bunu elde etmek için karma tersine çeviremezsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc796-217">If you give a sender or client a SAS token, they don't have the key directly, and they cannot reverse the hash to obtain it.</span></span> <span data-ttu-id="bc796-218">Bu nedenle, Denetim nasıl ve ne erişebilecekleri üzerinden uzun sahip.</span><span class="sxs-lookup"><span data-stu-id="bc796-218">As such, you have control over what they can access, and for how long.</span></span> <span data-ttu-id="bc796-219">Anımsaması bir önemli İlkesi birincil anahtarda değiştirirseniz, tüm paylaşılan erişim imzaları oluşturulan doğrulanacak şeydir.</span><span class="sxs-lookup"><span data-stu-id="bc796-219">An important thing to remember is that if you change the primary key in the policy, any Shared Access Signatures created from it will be invalidated.</span></span>

## <a name="use-the-shared-access-signature-at-amqp-level"></a><span data-ttu-id="bc796-220">Paylaşılan erişim imzası (AMQP düzeyinde) kullanın</span><span class="sxs-lookup"><span data-stu-id="bc796-220">Use the Shared Access Signature (at AMQP level)</span></span>

<span data-ttu-id="bc796-221">Önceki bölümde, SAS belirteci ile HTTP POST isteği için hizmet veri yolu veri göndermek için kullanmayı gördünüz.</span><span class="sxs-lookup"><span data-stu-id="bc796-221">In the previous section, you saw how to use the SAS token with an HTTP POST request for sending data to the Service Bus.</span></span> <span data-ttu-id="bc796-222">Bildiğiniz gibi Service Bus Gelişmiş Message Queuing Protokolü (Performans nedeniyle, birçok senaryoda kullanmak için tercih edilen protokolü olan AMQP) kullanarak erişebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc796-222">As you know, you can access Service Bus using the Advanced Message Queuing Protocol (AMQP) that is the preferred protocol to use for performance reasons, in many scenarios.</span></span> <span data-ttu-id="bc796-223">AMQP ile SAS belirteci kullanımını belgede açıklanan [AMQP Claim-Based güvenlik sürüm 1.0](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) diğer bir deyişle içinde çalışma taslak bugün 2013 Azure tarafından desteklenen iyi ancak bu yana.</span><span class="sxs-lookup"><span data-stu-id="bc796-223">The SAS token usage with AMQP is described in the document [AMQP Claim-Based Security Version 1.0](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) that is in working draft since 2013 but well-supported by Azure today.</span></span>

<span data-ttu-id="bc796-224">Service Bus hizmetine veri göndermeye başlamadan önce yayımcı adlı iyi tanımlanmış bir AMQP düğüm için bir AMQP iletisi içinde SAS belirteci göndermelidir **$cbs** (edinmeli ve tüm SAS doğrulamak için hizmet tarafından kullanılan bir "özel" sırası olarak görebileceğiniz belirteçleri).</span><span class="sxs-lookup"><span data-stu-id="bc796-224">Before starting to send data to Service Bus, the publisher must send the SAS token inside an AMQP message to a well-defined AMQP node named **$cbs** (you can see it as a "special" queue used by the service to acquire and validate all the SAS tokens).</span></span> <span data-ttu-id="bc796-225">Yayımcı belirtmelisiniz **ReplyTo** alan AMQP ileti içine; bu, hizmet yanıtlar (Basit istek/yanıt desen yayımcı ve hizmeti arasında belirteci doğrulama sonucu yayımcıyla düğümü ).</span><span class="sxs-lookup"><span data-stu-id="bc796-225">The publisher must specify the **ReplyTo** field inside the AMQP message; this is the node in which the service replies to the publisher with the result of the token validation (a simple request/reply pattern between publisher and service).</span></span> <span data-ttu-id="bc796-226">Bu yanıt düğüm oluşturulmuş "açık"dinamik oluşturma uzak düğümün hakkında"tarafından AMQP 1.0 belirtimi açıklandığı gibi konuşma uç,".</span><span class="sxs-lookup"><span data-stu-id="bc796-226">This reply node is created "on the fly," speaking about "dynamic creation of remote node" as described by the AMQP 1.0 specification.</span></span> <span data-ttu-id="bc796-227">Yayımcı, SAS belirteci geçerli olup olmadığını kontrol ettikten sonra İleri gidin ve hizmete veri göndermek başlatın.</span><span class="sxs-lookup"><span data-stu-id="bc796-227">After checking that the SAS token is valid, the publisher can go forward and start to send data to the service.</span></span>

<span data-ttu-id="bc796-228">Aşağıdaki adımlar AMQP protokolünü kullanarak ile SAS belirteci göndermek nasıl gösterir [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) kitaplığı.</span><span class="sxs-lookup"><span data-stu-id="bc796-228">The following steps show how to send the SAS token with AMQP protocol using the [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) library.</span></span> <span data-ttu-id="bc796-229">Bu resmi hizmet veri yolu SDK'sı kullanamıyorsanız faydalı olur (örneğin üzerinde WinRT, .net Compact Framework, .net mikro Framework ve Mono) C'de geliştirme\#.</span><span class="sxs-lookup"><span data-stu-id="bc796-229">This is useful if you can't use the official Service Bus SDK (for example on WinRT, .Net Compact Framework, .Net Micro Framework and Mono) developing in C\#.</span></span> <span data-ttu-id="bc796-230">Elbette, bu kitaplık nasıl talep tabanlı güvenlik anlamanıza yardımcı olması yararlıdır (ile bir HTTP POST isteği ve "Yetkilendirme" üstbilgisi içinde gönderilen SAS belirteci) HTTP düzeyinde nasıl çalışır anlatıldığı gibi AMQP düzeyinde çalışır.</span><span class="sxs-lookup"><span data-stu-id="bc796-230">Of course, this library is useful to help understand how claims-based security works at the AMQP level, as you saw how it works at the HTTP level (with an HTTP POST request and the SAS token sent inside the "Authorization" header).</span></span> <span data-ttu-id="bc796-231">AMQP hakkında ayrıntılı oluşturabildiğinden gerekmiyorsa, resmi hizmet veri yolu SDK'sı .net ile kullanabileceğiniz sizin için ne yapacağını Framework uygulamaları.</span><span class="sxs-lookup"><span data-stu-id="bc796-231">If you don't need such deep knowledge about AMQP, you can use the official Service Bus SDK with .Net Framework applications, which will do it for you.</span></span>

### <a name="c35"></a><span data-ttu-id="bc796-232">C&#35;</span><span class="sxs-lookup"><span data-stu-id="bc796-232">C&#35;</span></span>

```csharp
/// <summary>
/// Send claim-based security (CBS) token
/// </summary>
/// <param name="shareAccessSignature">Shared access signature (token) to send</param>
private bool PutCbsToken(Connection connection, string sasToken)
{
    bool result = true;
    Session session = new Session(connection);

    string cbsClientAddress = "cbs-client-reply-to";
    var cbsSender = new SenderLink(session, "cbs-sender", "$cbs");
    var cbsReceiver = new ReceiverLink(session, cbsClientAddress, "$cbs");

    // construct the put-token message
    var request = new Message(sasToken);
    request.Properties = new Properties();
    request.Properties.MessageId = Guid.NewGuid().ToString();
    request.Properties.ReplyTo = cbsClientAddress;
    request.ApplicationProperties = new ApplicationProperties();
    request.ApplicationProperties["operation"] = "put-token";
    request.ApplicationProperties["type"] = "servicebus.windows.net:sastoken";
    request.ApplicationProperties["name"] = Fx.Format("amqp://{0}/{1}", sbNamespace, entity);
    cbsSender.Send(request);

    // receive the response
    var response = cbsReceiver.Receive();
    if (response == null || response.Properties == null || response.ApplicationProperties == null)
    {
        result = false;
    }
    else
    {
        int statusCode = (int)response.ApplicationProperties["status-code"];
        if (statusCode != (int)HttpStatusCode.Accepted && statusCode != (int)HttpStatusCode.OK)
        {
            result = false;
        }
    }

    // the sender/receiver may be kept open for refreshing tokens
    cbsSender.Close();
    cbsReceiver.Close();
    session.Close();

    return result;
}
```

<span data-ttu-id="bc796-233">`PutCbsToken()` Yöntemi alır *bağlantı* (AMQP bağlantı sınıf örneği tarafından sağlanan gibi [AMQP .NET Lite Kitaplığı](https://github.com/Azure/amqpnetlite)) TCP bağlantısı temsil eden hizmet ve *sasToken* SAS parametre belirteci göndermek için.</span><span class="sxs-lookup"><span data-stu-id="bc796-233">The `PutCbsToken()` method receives the *connection* (AMQP connection class instance as provided by the [AMQP .NET Lite library](https://github.com/Azure/amqpnetlite)) that represents the TCP connection to the service and the *sasToken* parameter that is the SAS token to send.</span></span> 

> [!NOTE]
> <span data-ttu-id="bc796-234">Bağlantı ile oluşturduğunuz önemlidir **SASL kimlik doğrulama mekanizması ayarlamak için dış** (ve değil varsayılan DÜZ kullanıcı adı ve parola SAS belirteci göndermek gerekmediğinde kullanılır).</span><span class="sxs-lookup"><span data-stu-id="bc796-234">It's important that the connection is created with **SASL authentication mechanism set to EXTERNAL** (and not the default PLAIN with username and password used when you don't need to send the SAS token).</span></span>
> 
> 

<span data-ttu-id="bc796-235">Ardından, yayımcı SAS belirteci göndermek ve hizmetinden (belirteci doğrulama sonucu) yanıt almak için iki AMQP bağlantılarını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="bc796-235">Next, the publisher creates two AMQP links for sending the SAS token and receiving the reply (the token validation result) from the service.</span></span>

<span data-ttu-id="bc796-236">AMQP ileti bir dizi özellikler ve basit bir ileti daha fazla bilgi içerir.</span><span class="sxs-lookup"><span data-stu-id="bc796-236">The AMQP message contains a set of properties, and more information than a simple message.</span></span> <span data-ttu-id="bc796-237">SAS belirteci (kendi oluşturucusunu kullanarak) ileti gövdesi ' dir.</span><span class="sxs-lookup"><span data-stu-id="bc796-237">The SAS token is the body of the message (using its constructor).</span></span> <span data-ttu-id="bc796-238">**"ReplyTo"** özelliği (değiştirebileceğiniz adını ve dinamik olarak hizmeti tarafından oluşturulan istiyorsanız) alıcı bağlantıyı doğrulama sonucu almak için düğüm adı olarak ayarlanmış.</span><span class="sxs-lookup"><span data-stu-id="bc796-238">The **"ReplyTo"** property is set to the node name for receiving the validation result on the receiver link (you can change its name if you want, and it will be created dynamically by the service).</span></span> <span data-ttu-id="bc796-239">Son üç uygulama/özel özellikler hizmet tarafından yürütülecek olan ne tür bir işlemi belirtmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="bc796-239">The last three application/custom properties are used by the service to indicate what kind of operation it has to execute.</span></span> <span data-ttu-id="bc796-240">CBS taslak belirtimine göre açıklandığı gibi olmalıdırlar **işlem adı** ("put-token"), **Belirtecin türü** (Bu durumda, bir "servicebus.windows.net:sastoken"), gelen ve **"adı" hedef kitleyi** belirtecin geçerli olduğu (tüm varlık).</span><span class="sxs-lookup"><span data-stu-id="bc796-240">As described by the CBS draft specification, they must be the **operation name** ("put-token"), the **type of token** (in this case, a "servicebus.windows.net:sastoken"), and the **"name" of the audience** to which the token applies (the entire entity).</span></span>

<span data-ttu-id="bc796-241">SAS belirteci gönderen bağlantıyı gönderdikten sonra yayımcı alıcı bağlantıya yanıt okumalısınız.</span><span class="sxs-lookup"><span data-stu-id="bc796-241">After sending the SAS token on the sender link, the publisher must read the reply on the receiver link.</span></span> <span data-ttu-id="bc796-242">Adlı bir uygulama özelliği basit bir AMQP iletisiyle yanıt olan **"durum kodu"** bir HTTP durum kodu aynı değerlere içerebilir.</span><span class="sxs-lookup"><span data-stu-id="bc796-242">The reply is a simple AMQP message with an application property named **"status-code"** that can contain the same values as an HTTP status code.</span></span>

## <a name="rights-required-for-service-bus-operations"></a><span data-ttu-id="bc796-243">Hizmet veri yolu işlemleri için gereken haklar</span><span class="sxs-lookup"><span data-stu-id="bc796-243">Rights required for Service Bus operations</span></span>

<span data-ttu-id="bc796-244">Aşağıdaki tabloda Service Bus kaynaklarını üzerinde çeşitli işlemler için gerekli erişim haklarını gösterir.</span><span class="sxs-lookup"><span data-stu-id="bc796-244">The following table shows the access rights required for various operations on Service Bus resources.</span></span>

| <span data-ttu-id="bc796-245">İşlem</span><span class="sxs-lookup"><span data-stu-id="bc796-245">Operation</span></span> | <span data-ttu-id="bc796-246">Gerekli talep</span><span class="sxs-lookup"><span data-stu-id="bc796-246">Claim Required</span></span> | <span data-ttu-id="bc796-247">Talep kapsamı</span><span class="sxs-lookup"><span data-stu-id="bc796-247">Claim Scope</span></span> |
| --- | --- | --- |
| <span data-ttu-id="bc796-248">**Namespace**</span><span class="sxs-lookup"><span data-stu-id="bc796-248">**Namespace**</span></span> | | |
| <span data-ttu-id="bc796-249">Yetkilendirme kuralı üzerinde bir ad alanı yapılandırma</span><span class="sxs-lookup"><span data-stu-id="bc796-249">Configure authorization rule on a namespace</span></span> |<span data-ttu-id="bc796-250">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-250">Manage</span></span> |<span data-ttu-id="bc796-251">Herhangi bir ad alanı adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-251">Any namespace address</span></span> |
| <span data-ttu-id="bc796-252">**Hizmet kayıt defteri**</span><span class="sxs-lookup"><span data-stu-id="bc796-252">**Service Registry**</span></span> | | |
| <span data-ttu-id="bc796-253">Özel ilkeler listeleme</span><span class="sxs-lookup"><span data-stu-id="bc796-253">Enumerate Private Policies</span></span> |<span data-ttu-id="bc796-254">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-254">Manage</span></span> |<span data-ttu-id="bc796-255">Herhangi bir ad alanı adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-255">Any namespace address</span></span> |
| <span data-ttu-id="bc796-256">Bir ad alanı üzerinde dinleme yapmaya başlamasını</span><span class="sxs-lookup"><span data-stu-id="bc796-256">Begin listening on a namespace</span></span> |<span data-ttu-id="bc796-257">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-257">Listen</span></span> |<span data-ttu-id="bc796-258">Herhangi bir ad alanı adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-258">Any namespace address</span></span> |
| <span data-ttu-id="bc796-259">Bir ad alanı konumundaki bir dinleyici iletileri gönder</span><span class="sxs-lookup"><span data-stu-id="bc796-259">Send messages to a listener at a namespace</span></span> |<span data-ttu-id="bc796-260">Gönder</span><span class="sxs-lookup"><span data-stu-id="bc796-260">Send</span></span> |<span data-ttu-id="bc796-261">Herhangi bir ad alanı adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-261">Any namespace address</span></span> |
| <span data-ttu-id="bc796-262">**Sırası**</span><span class="sxs-lookup"><span data-stu-id="bc796-262">**Queue**</span></span> | | |
| <span data-ttu-id="bc796-263">Bir kuyruk oluşturma</span><span class="sxs-lookup"><span data-stu-id="bc796-263">Create a queue</span></span> |<span data-ttu-id="bc796-264">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-264">Manage</span></span> |<span data-ttu-id="bc796-265">Herhangi bir ad alanı adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-265">Any namespace address</span></span> |
| <span data-ttu-id="bc796-266">Bir kuyruk silme</span><span class="sxs-lookup"><span data-stu-id="bc796-266">Delete a queue</span></span> |<span data-ttu-id="bc796-267">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-267">Manage</span></span> |<span data-ttu-id="bc796-268">Herhangi bir geçerli sıra adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-268">Any valid queue address</span></span> |
| <span data-ttu-id="bc796-269">Kuyruklar listeleme</span><span class="sxs-lookup"><span data-stu-id="bc796-269">Enumerate queues</span></span> |<span data-ttu-id="bc796-270">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-270">Manage</span></span> |<span data-ttu-id="bc796-271">$ Kaynakları/sıraları</span><span class="sxs-lookup"><span data-stu-id="bc796-271">/$Resources/Queues</span></span> |
| <span data-ttu-id="bc796-272">Al sıra açıklaması</span><span class="sxs-lookup"><span data-stu-id="bc796-272">Get the queue description</span></span> |<span data-ttu-id="bc796-273">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-273">Manage</span></span> |<span data-ttu-id="bc796-274">Herhangi bir geçerli sıra adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-274">Any valid queue address</span></span> |
| <span data-ttu-id="bc796-275">Sıra için yetkilendirme kuralı yapılandırma</span><span class="sxs-lookup"><span data-stu-id="bc796-275">Configure authorization rule for a queue</span></span> |<span data-ttu-id="bc796-276">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-276">Manage</span></span> |<span data-ttu-id="bc796-277">Herhangi bir geçerli sıra adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-277">Any valid queue address</span></span> |
| <span data-ttu-id="bc796-278">İçine kuyruğa gönderme</span><span class="sxs-lookup"><span data-stu-id="bc796-278">Send into to the queue</span></span> |<span data-ttu-id="bc796-279">Gönder</span><span class="sxs-lookup"><span data-stu-id="bc796-279">Send</span></span> |<span data-ttu-id="bc796-280">Herhangi bir geçerli sıra adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-280">Any valid queue address</span></span> |
| <span data-ttu-id="bc796-281">Kuyruktan ileti alma</span><span class="sxs-lookup"><span data-stu-id="bc796-281">Receive messages from a queue</span></span> |<span data-ttu-id="bc796-282">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-282">Listen</span></span> |<span data-ttu-id="bc796-283">Herhangi bir geçerli sıra adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-283">Any valid queue address</span></span> |
| <span data-ttu-id="bc796-284">Abandon veya gözlem kilidinin modunda iletiyi aldıktan sonra tamamlandı iletileri</span><span class="sxs-lookup"><span data-stu-id="bc796-284">Abandon or complete messages after receiving the message in peek-lock mode</span></span> |<span data-ttu-id="bc796-285">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-285">Listen</span></span> |<span data-ttu-id="bc796-286">Herhangi bir geçerli sıra adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-286">Any valid queue address</span></span> |
| <span data-ttu-id="bc796-287">Sonraki alınması için bir ileti erteleme</span><span class="sxs-lookup"><span data-stu-id="bc796-287">Defer a message for later retrieval</span></span> |<span data-ttu-id="bc796-288">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-288">Listen</span></span> |<span data-ttu-id="bc796-289">Herhangi bir geçerli sıra adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-289">Any valid queue address</span></span> |
| <span data-ttu-id="bc796-290">Sahipsiz bir ileti</span><span class="sxs-lookup"><span data-stu-id="bc796-290">Deadletter a message</span></span> |<span data-ttu-id="bc796-291">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-291">Listen</span></span> |<span data-ttu-id="bc796-292">Herhangi bir geçerli sıra adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-292">Any valid queue address</span></span> |
| <span data-ttu-id="bc796-293">Bir ileti sırası oturumla ilişkili durumunu Al</span><span class="sxs-lookup"><span data-stu-id="bc796-293">Get the state associated with a message queue session</span></span> |<span data-ttu-id="bc796-294">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-294">Listen</span></span> |<span data-ttu-id="bc796-295">Herhangi bir geçerli sıra adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-295">Any valid queue address</span></span> |
| <span data-ttu-id="bc796-296">Bir ileti sırası oturumla ilişkili durumunu ayarlama</span><span class="sxs-lookup"><span data-stu-id="bc796-296">Set the state associated with a message queue session</span></span> |<span data-ttu-id="bc796-297">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-297">Listen</span></span> |<span data-ttu-id="bc796-298">Herhangi bir geçerli sıra adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-298">Any valid queue address</span></span> |
| <span data-ttu-id="bc796-299">**Konu**</span><span class="sxs-lookup"><span data-stu-id="bc796-299">**Topic**</span></span> | | |
| <span data-ttu-id="bc796-300">Konu başlığı oluşturma</span><span class="sxs-lookup"><span data-stu-id="bc796-300">Create a topic</span></span> |<span data-ttu-id="bc796-301">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-301">Manage</span></span> |<span data-ttu-id="bc796-302">Herhangi bir ad alanı adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-302">Any namespace address</span></span> |
| <span data-ttu-id="bc796-303">Bir konu Sil</span><span class="sxs-lookup"><span data-stu-id="bc796-303">Delete a topic</span></span> |<span data-ttu-id="bc796-304">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-304">Manage</span></span> |<span data-ttu-id="bc796-305">Herhangi bir geçerli konu adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-305">Any valid topic address</span></span> |
| <span data-ttu-id="bc796-306">Konular listeleme</span><span class="sxs-lookup"><span data-stu-id="bc796-306">Enumerate topics</span></span> |<span data-ttu-id="bc796-307">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-307">Manage</span></span> |<span data-ttu-id="bc796-308">$ Kaynakları/konuları</span><span class="sxs-lookup"><span data-stu-id="bc796-308">/$Resources/Topics</span></span> |
| <span data-ttu-id="bc796-309">Al konu açıklaması</span><span class="sxs-lookup"><span data-stu-id="bc796-309">Get the topic description</span></span> |<span data-ttu-id="bc796-310">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-310">Manage</span></span> |<span data-ttu-id="bc796-311">Herhangi bir geçerli konu adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-311">Any valid topic address</span></span> |
| <span data-ttu-id="bc796-312">Bir konu için yetkilendirme kuralı yapılandırma</span><span class="sxs-lookup"><span data-stu-id="bc796-312">Configure authorization rule for a topic</span></span> |<span data-ttu-id="bc796-313">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-313">Manage</span></span> |<span data-ttu-id="bc796-314">Herhangi bir geçerli konu adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-314">Any valid topic address</span></span> |
| <span data-ttu-id="bc796-315">Konuya Gönder</span><span class="sxs-lookup"><span data-stu-id="bc796-315">Send to the topic</span></span> |<span data-ttu-id="bc796-316">Gönder</span><span class="sxs-lookup"><span data-stu-id="bc796-316">Send</span></span> |<span data-ttu-id="bc796-317">Herhangi bir geçerli konu adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-317">Any valid topic address</span></span> |
| <span data-ttu-id="bc796-318">**Abonelik**</span><span class="sxs-lookup"><span data-stu-id="bc796-318">**Subscription**</span></span> | | |
| <span data-ttu-id="bc796-319">Abonelik oluşturma</span><span class="sxs-lookup"><span data-stu-id="bc796-319">Create a subscription</span></span> |<span data-ttu-id="bc796-320">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-320">Manage</span></span> |<span data-ttu-id="bc796-321">Herhangi bir ad alanı adresi</span><span class="sxs-lookup"><span data-stu-id="bc796-321">Any namespace address</span></span> |
| <span data-ttu-id="bc796-322">Aboneliği silme</span><span class="sxs-lookup"><span data-stu-id="bc796-322">Delete subscription</span></span> |<span data-ttu-id="bc796-323">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-323">Manage</span></span> |<span data-ttu-id="bc796-324">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="bc796-324">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="bc796-325">Aboneliklerini listeleme</span><span class="sxs-lookup"><span data-stu-id="bc796-325">Enumerate subscriptions</span></span> |<span data-ttu-id="bc796-326">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-326">Manage</span></span> |<span data-ttu-id="bc796-327">.. / myTopic/abonelikleri</span><span class="sxs-lookup"><span data-stu-id="bc796-327">../myTopic/Subscriptions</span></span> |
| <span data-ttu-id="bc796-328">Al abonelik açıklaması</span><span class="sxs-lookup"><span data-stu-id="bc796-328">Get subscription description</span></span> |<span data-ttu-id="bc796-329">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-329">Manage</span></span> |<span data-ttu-id="bc796-330">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="bc796-330">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="bc796-331">Abandon veya gözlem kilidinin modunda iletiyi aldıktan sonra tamamlandı iletileri</span><span class="sxs-lookup"><span data-stu-id="bc796-331">Abandon or complete messages after receiving the message in peek-lock mode</span></span> |<span data-ttu-id="bc796-332">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-332">Listen</span></span> |<span data-ttu-id="bc796-333">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="bc796-333">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="bc796-334">Sonraki alınması için bir ileti erteleme</span><span class="sxs-lookup"><span data-stu-id="bc796-334">Defer a message for later retrieval</span></span> |<span data-ttu-id="bc796-335">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-335">Listen</span></span> |<span data-ttu-id="bc796-336">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="bc796-336">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="bc796-337">Sahipsiz bir ileti</span><span class="sxs-lookup"><span data-stu-id="bc796-337">Deadletter a message</span></span> |<span data-ttu-id="bc796-338">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-338">Listen</span></span> |<span data-ttu-id="bc796-339">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="bc796-339">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="bc796-340">Bir konu oturumla ilişkili durumunu Al</span><span class="sxs-lookup"><span data-stu-id="bc796-340">Get the state associated with a topic session</span></span> |<span data-ttu-id="bc796-341">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-341">Listen</span></span> |<span data-ttu-id="bc796-342">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="bc796-342">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="bc796-343">Bir konu oturumla ilişkili durumunu ayarlama</span><span class="sxs-lookup"><span data-stu-id="bc796-343">Set the state associated with a topic session</span></span> |<span data-ttu-id="bc796-344">Dinleme</span><span class="sxs-lookup"><span data-stu-id="bc796-344">Listen</span></span> |<span data-ttu-id="bc796-345">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="bc796-345">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="bc796-346">**Kuralları**</span><span class="sxs-lookup"><span data-stu-id="bc796-346">**Rules**</span></span> | | |
| <span data-ttu-id="bc796-347">Bir kural oluşturun</span><span class="sxs-lookup"><span data-stu-id="bc796-347">Create a rule</span></span> |<span data-ttu-id="bc796-348">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-348">Manage</span></span> |<span data-ttu-id="bc796-349">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="bc796-349">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="bc796-350">Kural silme</span><span class="sxs-lookup"><span data-stu-id="bc796-350">Delete a rule</span></span> |<span data-ttu-id="bc796-351">Yönet</span><span class="sxs-lookup"><span data-stu-id="bc796-351">Manage</span></span> |<span data-ttu-id="bc796-352">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="bc796-352">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="bc796-353">Kuralları listeleme</span><span class="sxs-lookup"><span data-stu-id="bc796-353">Enumerate rules</span></span> |<span data-ttu-id="bc796-354">Dinlemek veya yönetme</span><span class="sxs-lookup"><span data-stu-id="bc796-354">Manage or Listen</span></span> |<span data-ttu-id="bc796-355">.. /myTopic/Subscriptions/mySubscription/Rules</span><span class="sxs-lookup"><span data-stu-id="bc796-355">../myTopic/Subscriptions/mySubscription/Rules</span></span> 

## <a name="next-steps"></a><span data-ttu-id="bc796-356">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="bc796-356">Next steps</span></span>

<span data-ttu-id="bc796-357">Service Bus mesajlaşma hizmeti hakkında daha fazla bilgi edinmek için aşağıdaki konu başlıklarına bakın.</span><span class="sxs-lookup"><span data-stu-id="bc796-357">To learn more about Service Bus messaging, see the following topics.</span></span>

* [<span data-ttu-id="bc796-358">Service Bus ile ilgili temel bilgiler</span><span class="sxs-lookup"><span data-stu-id="bc796-358">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="bc796-359">Service Bus kuyrukları, konu başlıkları ve abonelikleri</span><span class="sxs-lookup"><span data-stu-id="bc796-359">Service Bus queues, topics, and subscriptions</span></span>](service-bus-queues-topics-subscriptions.md)
* [<span data-ttu-id="bc796-360">Service Bus kuyruklarını kullanma</span><span class="sxs-lookup"><span data-stu-id="bc796-360">How to use Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="bc796-361">Service Bus konu başlıklarını ve aboneliklerini kullanma</span><span class="sxs-lookup"><span data-stu-id="bc796-361">How to use Service Bus topics and subscriptions</span></span>](service-bus-dotnet-how-to-use-topics-subscriptions.md)

[Azure portal]: https://portal.azure.com