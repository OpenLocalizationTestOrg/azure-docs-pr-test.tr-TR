---
title: "Azure Service Bus iletileri, yükler ve seri hale getirme | Microsoft Docs"
description: "Service Bus ileti yükü genel bakış"
services: service-bus-messaging
documentationcenter: 
author: clemensv
manager: timlt
editor: 
ms.service: service-bus-messaging
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/28/2017
ms.author: sethm
ms.openlocfilehash: 7c18cc4a0e6a8dbf3a47c146707666c5538ff7c3
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/11/2017
---
# <a name="messages-payloads-and-serialization"></a>İletileri, yükler ve seri hale getirme

Microsoft Azure Service Bus iletileri işler. İletileri meta verileri, formun anahtar-değer çifti özelliklerinin yükü açıklayan ve Service Bus ve uygulamalara işleme yönergeleri vermiş yanı sıra bir yükü getirir. Bazen, tek başına bu meta veri gönderen alıcılar için iletişim kurmak istediği bilgilerini taşımak yeterli olduğundan ve yükü boş kalır.

.NET ve Java için resmi hizmet veri yolu istemci nesne modeli için ve Service Bus destekleyen kablo protokollerinden eşlenen hizmet veri yolu ileti yapısı Özet yansıtır.
 
Service Bus hiçbir zaman herhangi bir hizmet tarafı formunda ve iki özellik kümesi işleyen bir ikili yükü bölümü, bir hizmet veri yolu ileti oluşur. *Aracısı Özellikleri* sistem tarafından önceden tanımlanmıştır. Bu önceden tanımlanmış özellikleri ya da Aracısı içinde ileti düzeyi işlevselliği denetlemek veya ortak ve standartlaştırılmış meta veri öğeleri için eşleme. *Kullanıcı özelliklerini* tanımlanır ve uygulama tarafından ayarlanıp anahtar-değer çiftleri koleksiyonu olan.
 
Önceden tanımlanmış Aracısı özellikleri aşağıdaki tabloda listelenmiştir. Tüm resmi istemci API'leri ile kullanılan adları ve ayrıca [BrokerProperties](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Properties_) HTTP protokolü eşleme JSON nesnesi.
 
AMQP protokol düzeyinde kullanılan eşdeğer adları ayraç içinde listelenmiştir. 

| Özellik adı                         | Açıklama                                                                                                                                                                                                                                                                                                                                                                                                                               |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  [ContentType](/dotnet/api/microsoft.azure.servicebus.message.contenttype) (içerik-türü)           | İsteğe bağlı olarak, iletinin yükü RFC2045, bölüm 5 biçimi örneğin izleyen bir tanımlayıcı ile açıklar `application/json`.                                                                                                                                                                                                                                                                                             |
|  [Correlationıd değeri](/dotnet/api/microsoft.azure.servicebus.message.correlationid#Microsoft_Azure_ServiceBus_Message_CorrelationId) (bağıntı kimliği)       | İleti için bir bağlam bağıntı, örneğin yansıtma amaçları doğrultusunda belirtmek bir uygulama sağlar **MessageID** için yanıtlanan ileti.                                                                                                                                                                                                                                                                  |
| [DeadLetterSource](/dotnet/api/microsoft.azure.servicebus.message.deadlettersource)                      | Yalnızca eski lettered ve daha sonra otomatik iletilen sahipsiz sırada başka bir varlığa atanmış olması iletileri ayarlayın. Eski lettered içinde ileti varlık gösterir. Bu özellik salt okunurdur.                                                                                                                                                                                                                                  |
| [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.deliverycount)                         | Teslimler için bu iletiyi denemelerinin sayısı. Sayı bir ileti kilit süresi dolduğunda mı yoksa ileti alıcı tarafından açıkça terk artırılır. Bu özellik salt okunurdur.                                                                                                                                                                                                                                                  |
| [EnqueuedSequenceNumber](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.enqueuedsequencenumber)                | Otomatik iletilen iletileri için bu özellik ilk ileti gönderme özgün noktasına atanmış sıra numarası gösterir. Bu özellik salt okunurdur.                                                                                                                                                                                                                                                                |
| [EnqueuedTimeUtc](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.enqueuedtimeutc)                       | Hangi ileti kabul etti ve varlıkta depolanan UTC anlık. Alıcı, gönderenin saati güven istediğinizde değil, bu değer bir yetkili ve nötr varış süresi göstergesi olarak kullanılabilir. Bu özellik salt okunurdur.                                                                                                                                                                                                   |
|  [ExpiresAtUtc](/dotnet/api/microsoft.azure.servicebus.message.expiresatutc) (mutlak bitiş zamanı) | İleti kaldırma için işaretlendi ve sona erme nedeniyle varlık alımı için artık kullanılabilir olduğu UTC anlık. Süre sonu tarafından denetlenir **TimeToLive** bu özellik ve EnqueuedTimeUtc + TimeToLive hesaplanır. Bu özellik salt okunurdur.                                                                                                                                                                           |
| [ForcePersistence](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.forcepersistence)                      | Sıralar veya içeren konular için [EnableExpress](/dotnet/api/microsoft.servicebus.messaging.queuedescription.enableexpress?view=azureservicebus-4.1.1#Microsoft_ServiceBus_Messaging_QueueDescription_EnableExpress) bayrağı ayarlanmışsa, ileti kalıcı olduğunu belirtmek için bu özelliği ayarlayın, onaylanan önce diske. Tüm express olmayan varlıklar için standart davranış budur.                                                                                                                                                                                                         |
| [Etiket](/dotnet/api/microsoft.azure.servicebus.message.label) (konu)                       | Bu özellik, bir e-posta konu satırı benzer standartlaştırılmış bir şekilde alıcı iletiyi amacını belirtmek uygulama sağlar.                                                                                                                                                                                                                                                                                  |
| [LockedUntilUtc](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.lockeduntilutc)                        | Kilidi altında alınan iletileri için (gözlem kilidinin alma modu, önceden kapatılmamış) kadar ileti tutulan UTC anlık kilitli sıra/abonelikte bu özellik gösterir. Kilit süresi dolduğunda [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.deliverycount) artırılır ve ileti yeniden alımı için kullanılabilir. Bu özellik salt okunurdur.                                                                                                                         |
| [LockToken](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.locktoken)                             | Kilit simgesi aracısı tarafından tutuluyor kilidi başvurusudur *gözlem kilidinin* modu alırsınız. Belirteci kalıcı olarak ile kilit sabitlemek için kullanılabilir [erteleme](message-deferral.md) API ve ile normal teslimat durumu akışı dışında iletisi alır. Bu özellik salt okunurdur.                                                                                                                                                               |
| [MessageID](/dotnet/api/microsoft.azure.servicebus.message.messageid) (ileti kimliği)                | İleti, ileti ve onun yükü benzersiz olarak tanımlayan uygulama tanımlı bir değer tanımlayıcısıdır. Tanımlayıcının serbest biçimli dize ve bir GUID veya uygulama bağlamdan türetilmiş bir tanımlayıcı yansıtabilirsiniz. Etkinleştirilirse, [yinelenen algılama](duplicate-detection.md) özelliği tanımlar ve ikinci ve daha ayrıntılı iletiler aynı teslimini kaldırır **MessageID**.                                                                |
| [PartitionKey](/dotnet/api/microsoft.azure.servicebus.message.partitionkey)                          | İçin [bölümlenmiş varlıkları](service-bus-partitioning.md), bu değer ayarlandığında sağlar atama ilgili iletiler aynı iç bölüme, böylece gönderme sırası sipariş doğru şekilde kaydedilir. Bölümü, bu değerin üzerine karma işlevi seçilir ve doğrudan seçilemez. Oturum durumunu algılayan varlıklar için **SessionID** özelliği bu değeri geçersiz kılar.                                                                                                       |
| [ReplyTo](/dotnet/api/microsoft.azure.servicebus.message.replyto) (Yanıtla)                    | Bu isteğe bağlıdır ve uygulama tanımlı değeri, ileti alıcısı yanıt yolunu ifade etmek için standart bir yoludur. Bir gönderici yanıt beklerken, kuyruk veya konu için gönderilecek yanıt bekliyor mutlak veya göreli yolu için değeri ayarlar.                                                                                                                                           |
| [ReplyToSessionId](/dotnet/api/microsoft.azure.servicebus.message.replytosessionid) (yanıt-için-Grup-ID)  | Bu değer güçlendirir **ReplyTo** bilgi ve belirten **SessionID** yanıt varlığa gönderildiğinde yanıtı ayarlamanız gerekir.                                                                                                                                                                                                                                                                            |
| [ScheduledEnqueueTimeUtc](/dotnet/api/microsoft.azure.servicebus.message.scheduledenqueuetimeutc)               | Yalnızca bir gecikmeden sonra alma için kullanılabilir hale getirilir iletileri için bu özellik, ileti mantıksal olarak sıralı ve bu nedenle alımı için kullanılabilir hale sıradaki olacağı UTC anlık tanımlar.                                                                                                                                                                                                                 |
| [SequenceNumber](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sequencenumber)                        | Sıra numarası, kabul edilir ve işlevleri ve Aracısı true tanıtıcısını depolanan olarak iletiye atanmış benzersiz bir 64-bit tamsayıdır. Bölümlenen varlıklar için en üstteki 16 bit bölüm tanımlayıcısı yansıtır. Sıra numaraları tekdüze artırın ve gapless. 48 64 bit aralığı kaldığında bunlar bir 0 olarak geçir. Bu özellik salt okunurdur.                                                                |
| [SessionID](/dotnet/api/microsoft.azure.servicebus.message.sessionid) (Grup Kimliği)                  | Oturum durumunu algılayan varlıklar için iletinin oturum ilişkisi bu uygulama tanımlı bir değer belirtir. Aynı oturum tanımlayıcısı iletilerle Özet kilitleme tabi olan ve tam işleme ve azaltma sıralı etkinleştirin. Oturum farkında varlıklar için bu değer yoksayılır.                                                                                                                                     |
| [Boyut](/dotnet/api/microsoft.azure.servicebus.message.size)                                  | Depolama kotası doğru sayar olarak depolanan boyutunu bayt sayısı olarak Aracısı günlük iletisinde yansıtır. Bu özellik salt okunurdur.                                                                                                                                                                                                                                                                                                       |
| [Durumu](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.state)                                 | Günlük iletisinde durumunu gösterir. Bu özellik yalnızca ertelenir veya zamanlanmayı bekleyen sıra üstündeki ulaştığında gibi bir ileti "etkin" ve alma için kullanılabilir olup olmadığını belirlemek için ("peek"), tarama sırasında ilgili iletisidir. Bu özellik salt okunurdur.                                                                                                                                           |
| [TimeToLive](/dotnet/api/microsoft.azure.servicebus.message.timetolive)                            | Bu değer daha sonra ileti süresi göreli süresi, anlık ileti başlangıç kabul etti ve içinde yakalanmış gibi aracısı tarafından depolanan **EnqueueTimeUtc**. Ne zaman açıkça ayarlanmazsa varsayılan değerdir **DefaultTimeToLive** ilgili kuyruk veya konu. İleti düzeyi **TimeToLive** değeri varlığın uzun olamaz **DefaultTimeToLive** ayarı ve sessiz bir şekilde ayarlandı aşması durumunda. |
| [İçin](/dotnet/api/microsoft.azure.servicebus.message.to) (Bitiş)                               | Bu özellik yönlendirme senaryolarda gelecekte kullanılmak üzere ayrılmıştır ve şu anda aracısı tarafından yoksayıldı. Uygulamaları bu değer, iletinin hedeflenen mantıksal hedef belirtmek için kuralı güdümlü otomatik iletme zincirleme senaryolarda kullanabilirsiniz.                                                                                                                                                                                   |
| [ViaPartitionKey](/dotnet/api/microsoft.azure.servicebus.message.viapartitionkey)                       | Bir işlem kapsamı içinde aktarımı sırası aracılığıyla bir ileti gönderilir, bu değer aktarımı sıra bölümü seçer.                                                                                                                                                                                                                                                                                                                 |

Özet ileti modeli HTTP (gerçekten her zaman HTTPS) üzerinden kuyruğuna gönderilen bir ileti sağlar ve AMQP alınabilir. Her iki durumda da, ileti ilgili Protokolü bağlamında normal arar. Aracı özellikleri gerektiğinde dönüştürülür ve kullanıcı özelliklerini ilgili protokol iletisini model üzerinde en uygun konuma eşleştirilir. Doğrudan gelen ve giden HTTP üstbilgileri harita kullanıcı özellikleri, HTTP; içinde AMQP ve ondan eşlendiklerinden **uygulama özellikleri** eşleme.

## <a name="message-routing-and-correlation"></a>İleti Yönlendirme ve bağıntı

Özellikle, daha önce açıklanan Aracısı özellikler kümesini [için](/dotnet/api/microsoft.azure.servicebus.message.to), [ReplyTo](/dotnet/api/microsoft.azure.servicebus.message.replyto), [ReplyToSessionId](/dotnet/api/microsoft.azure.servicebus.message.replytosessionid), [MessageID](/dotnet/api/microsoft.azure.servicebus.message.messageid), [ Correlationıd değeri](/dotnet/api/microsoft.azure.servicebus.message.correlationid), ve [SessionID](/dotnet/api/microsoft.azure.servicebus.message.sessionid), uygulamaları iletileri yönlendirmek için belirli hedefler yardımcı olmak için kullanılır. Bunu göstermek için birkaç desenleri göz önünde bulundurun:

- **Basit istek/yanıt**: Yayımcı kuyruğa ileti gönderir ve bir yanıt iletisi bekliyor. Yanıt almak için yayımcı içine teslim edilecek yanıtları bekliyor bir sıranın sahibi. Bu kuyruğa adresini giden ileti ifade edilir **ReplyTo** özelliği. Tüketici yanıtladığında kopyalar **MessageID** işlenmiş iletisinin **correlationıd değeri** yanıt iletisi ve ileti hedef için belirtilen tarafından sunuyorözelliği**ReplyTo** özelliği. Bir ileti uygulama bağlamı bağlı olarak birden çok yanıt yol açabilir.
- **Çok noktaya yayın istek/yanıt**: önceki düzeni çeşitlemesi bir yayımcı iletisi konu ile gönderir ve birden çok aboneye ileti kullanmak uygun hale gelir. Her aboneleri daha önce açıklandığı şekilde yanıt verebilir. Bu deseni bulma veya çağrı döndürmesi senaryolarda kullanılır ve yanıtlayan genellikle kendisini yükünün veya bir kullanıcı özelliği ile tanımlar. Varsa **ReplyTo** bir izleyici için bir konu, bu tür bir bulma bir yanıt kümesi noktalarına dağıtılabilir.
- **Çoğullama**: Bu oturumu özellik sağlar, tek bir sıraya veya abonelik üzerinden ilgili ileti akışlarının her oturum (veya grubu) ilgili iletiler, tanımlanan şekilde eşleştirerek çoğullama **SessionID**alıcı kilit altında oturum tutan sırada değerleri, belirli bir alıcıya yönlendirilir. Oturumları ayrıntılarını hakkında daha fazla bilgiyi [burada](message-sessions.md).
- **İstek/yanıt multiplexed**: çoklu yanıtları yanıt sırası paylaşmak birkaç yayımcılar izin vererek, bu oturum özellik sağlar. Ayarlayarak **ReplyToSessionId**, yayımcı, bu değeri içine kopyalamak için consumer(s) söyleyebilirsiniz **SessionID** yanıt iletisi özelliği. Oturum algılayan olmaması için yayımlama kuyruk veya konu başlığı yapar. İletinin gönderildiği gibi yayımcı sonra özellikle bir oturumla bekleyebilirsiniz verilen **SessionID** koşullu oturum alıcı kabul ederek sıra üzerinde gerçekleştirmeye için. 

Bir hizmet veri yolu ad alanı içinde yönlendirme otomatik iletme zincirleme ve konu aboneliği kurallarını kullanarak alırlar. Ad alanları arasında yönlendirme gerçekleşen [Azure LogicApps kullanarak](https://azure.microsoft.com/services/logic-apps/). Önceki listede gösterildiği gibi **için** özelliği ileride kullanılmak üzere ayrılmıştır ve sonunda özel etkin özelliğiyle aracısı tarafından yorumlanacağını. Yönlendirme uygulamak istediğiniz uygulamalar kullanıcı özelliklerini alarak yapın ve üzerinde kullanacağını öğrenebileceğiniz değil **için** özellik; Bununla birlikte, artık böylece uyumluluk sorunlarına neden olmaz.

## <a name="payload-serialization"></a>Yükü seri hale getirme

Yoldaki ne zaman veya Service Bus içinde depolanan, yükü her zaman bir opak, ikili bloğu. [ContentType](/dotnet/api/microsoft.azure.servicebus.message.contenttype) özelliği, bir MIME içerik türü açıklama IETF RFC2045 göre; olan özellik değerleri için önerilen biçimiyle yükü açıklamak uygulamaları etkinleştirir Örneğin, `application/json;charset=utf-8`.

Java veya .NET standart çeşitleri farklı olarak, Service Bus API'sini .NET Framework sürümünü destekleyen oluşturma **BrokeredMessage** rasgele .NET nesneleri oluşturucusuna geçirerek örnekleri. 

Eski SBMP protokolü kullanırken, bu nesneleri sonra varsayılan ikili seri hale getirici veya harici olarak sağlanan bir seri hale getirici serileştirilir. AMQP protokolünü kullanırken, nesne bir AMQP nesnesine serileştirilir. Alıcı bu nesnelerle alabilir [GetBody<T>()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.getbody#Microsoft_ServiceBus_Messaging_BrokeredMessage_GetBody__1) beklenen tür; sağlama yöntemi, AMQP ile bir AMQP grafiği nesneleri serileştirilir **ArrayList** ve **IDictionary < string, object >** nesneleri ve herhangi bir AMQP istemcisi tarafından çözülebilir. 

Bu gizli serileştirme Sihirli kullanışlı olsa da, uygulamaları nesne seri hale getirme açık denetimini ve iletiye eklemeden önce kendi nesne grafiklerinin akışlara açmak ve alıcı tarafında ters yapın. Bu, birlikte çalışabilen sonuçlar verir. Ayrıca AMQP güçlü bir ikili kodlama modeli sahipken, AMQP Mesajlaşma ekosistemi bağlıdır ve HTTP istemcilerini bu tür yüklerini kod çözme sorun yaşamazsınız unutulmamalıdır. 

Genellikle JSON ve Apache Avro yapılandırılmış veriler için yükü biçimleri olarak öneririz.

.NET standart ve Java API çeşitleri yalnızca uygulama nesnesi seri hale getirme denetim işlemelidir yani bayt dizileri kabul edin. 

## <a name="next-steps"></a>Sonraki adımlar

Service Bus Mesajlaşma hizmeti hakkında daha fazla bilgi için aşağıdaki konulara bakın:

* [Service Bus ile ilgili temel bilgiler](service-bus-fundamentals-hybrid-solutions.md)
* [Service Bus kuyrukları, konu başlıkları ve abonelikleri](service-bus-queues-topics-subscriptions.md)
* [Service Bus kuyrukları ile çalışmaya başlama](service-bus-dotnet-get-started-with-queues.md)
* [Service Bus konu başlıklarını ve aboneliklerini kullanma](service-bus-dotnet-how-to-use-topics-subscriptions.md)