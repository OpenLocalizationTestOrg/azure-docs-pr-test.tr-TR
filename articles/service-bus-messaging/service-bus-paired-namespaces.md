---
title: "Hizmet veri yolu aaaAzure eşleştirilmiş ad alanları | Microsoft Docs"
description: "Eşleştirilmiş ad uygulama ayrıntılarını ve maliyet"
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 2440c8d3-ed2e-47e0-93cf-ab7fbb855d2e
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/25/2017
ms.author: sethm
ms.openlocfilehash: 4c44b2b95d2228e1ad8075b52634d88a1593d3b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="paired-namespace-implementation-details-and-cost-implications"></a><span data-ttu-id="eafb6-103">Ad alanı uygulama ayrıntılarını eşleştirilmiş ve etkileri maliyet</span><span class="sxs-lookup"><span data-stu-id="eafb6-103">Paired namespace implementation details and cost implications</span></span>
<span data-ttu-id="eafb6-104">Merhaba [PairNamespaceAsync] [ PairNamespaceAsync] yöntemini kullanarak bir [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] örneği, görünür görevleri gerçekleştirir sizin adınıza.</span><span class="sxs-lookup"><span data-stu-id="eafb6-104">hello [PairNamespaceAsync][PairNamespaceAsync] method, using a [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] instance, performs visible tasks on your behalf.</span></span> <span data-ttu-id="eafb6-105">Var maliyet konuları hello özelliğini kullanırken, böylece bu durum oluştuğunda hello davranışı beklediğiniz bu görevleri yararlı toounderstand demektir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-105">Because there are cost considerations when using hello feature, it is useful toounderstand those tasks so that you expect hello behavior when it happens.</span></span> <span data-ttu-id="eafb6-106">Merhaba API sizin adınıza otomatik davranışı aşağıdaki hello prosese:</span><span class="sxs-lookup"><span data-stu-id="eafb6-106">hello API engages hello following automatic behavior on your behalf:</span></span>

* <span data-ttu-id="eafb6-107">Biriktirme listesi sıraları oluşturma.</span><span class="sxs-lookup"><span data-stu-id="eafb6-107">Creation of backlog queues.</span></span>
* <span data-ttu-id="eafb6-108">Oluşturulmasını bir [MessageSender] [ MessageSender] tooqueues veya konular ettiği nesnesi.</span><span class="sxs-lookup"><span data-stu-id="eafb6-108">Creation of a [MessageSender][MessageSender] object that talks tooqueues or topics.</span></span>
* <span data-ttu-id="eafb6-109">Bir Mesajlaşma varlığı kullanılamaz duruma geldiğinde ping iletilerine varlık yeniden kullanılabilir duruma geldiğinde bir girişim toodetect toohello varlık gönderir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-109">When a messaging entity becomes unavailable, sends ping messages toohello entity in an attempt toodetect when that entity becomes available again.</span></span>
* <span data-ttu-id="eafb6-110">İsteğe bağlı olarak taşıma iletileri biriktirme listesi sıraları toohello birincil sıraları hello "iletisi Pompalar" kümesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="eafb6-110">Optionally creates of a set of “message pumps” that move messages from hello backlog queues toohello primary queues.</span></span>
* <span data-ttu-id="eafb6-111">Koordinatları kapanış/hatalı hello birincil ve ikincil, [Eventhubclient] [ MessagingFactory] örnekleri.</span><span class="sxs-lookup"><span data-stu-id="eafb6-111">Coordinates closing/faulting of hello primary and secondary [MessagingFactory][MessagingFactory] instances.</span></span>

<span data-ttu-id="eafb6-112">Yüksek bir düzeyde hello özelliği şu şekilde çalışır: hello birincil varlık iyi durumda hiçbir davranış değişiklikleri oluşur.</span><span class="sxs-lookup"><span data-stu-id="eafb6-112">At a high level, hello feature works as follows: when hello primary entity is healthy, no behavior changes occur.</span></span> <span data-ttu-id="eafb6-113">Ne zaman hello [FailoverInterval] [ FailoverInterval] süresi dolduktan ve hello birincil varlık, bir geçici olmayan sonra hiçbir başarılı gönderir görür [MessagingException] [ MessagingException] veya [TimeoutException][TimeoutException], aşağıdaki davranış hello oluşur:</span><span class="sxs-lookup"><span data-stu-id="eafb6-113">When hello [FailoverInterval][FailoverInterval] duration elapses, and hello primary entity sees no successful sends after a non-transient [MessagingException][MessagingException] or a [TimeoutException][TimeoutException], hello following behavior occurs:</span></span>

1. <span data-ttu-id="eafb6-114">İşlemleri toohello varlık devre dışı bırakılır ve ping başarıyla teslim edilebilir kadar birincil varlık hello sistem ping hello birincil gönderin.</span><span class="sxs-lookup"><span data-stu-id="eafb6-114">Send operations toohello primary entity are disabled and hello system pings hello primary entity until pings can be successfully delivered.</span></span>
2. <span data-ttu-id="eafb6-115">Rastgele biriktirme listesi sırası seçilir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-115">A random backlog queue is selected.</span></span>
3. <span data-ttu-id="eafb6-116">[BrokeredMessage] [ BrokeredMessage] biriktirme listesi sırası seçilen yönlendirilmiş toohello nesneleridir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-116">[BrokeredMessage][BrokeredMessage] objects are routed toohello chosen backlog queue.</span></span>
4. <span data-ttu-id="eafb6-117">Biriktirme listesi sırası seçilen gönderme işlemi toohello başarısız olursa, o sıra hello döndürme çekilir ve yeni bir sıra seçilir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-117">If a send operation toohello chosen backlog queue fails, that queue is pulled from hello rotation and a new queue is selected.</span></span> <span data-ttu-id="eafb6-118">Merhaba üzerindeki tüm gönderenlerin [Eventhubclient] [ MessagingFactory] örneği hello başarısızlığını öğrenin.</span><span class="sxs-lookup"><span data-stu-id="eafb6-118">All senders on hello [MessagingFactory][MessagingFactory] instance learn of hello failure.</span></span>

<span data-ttu-id="eafb6-119">şekiller aşağıdaki hello hello dizisini tarif.</span><span class="sxs-lookup"><span data-stu-id="eafb6-119">hello following figures depict hello sequence.</span></span> <span data-ttu-id="eafb6-120">İlk olarak, hello gönderen iletileri gönderir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-120">First, hello sender sends messages.</span></span>

![Eşleştirilmiş ad alanları][0]

<span data-ttu-id="eafb6-122">Hata toosend toohello birincil kuyruk sonra rasgele biriktirme listesi sırası seçilen iletileri tooa gönderme hello gönderen başlar.</span><span class="sxs-lookup"><span data-stu-id="eafb6-122">Upon failure toosend toohello primary queue, hello sender begins sending messages tooa randomly chosen backlog queue.</span></span> <span data-ttu-id="eafb6-123">Aynı anda bir ping görev başlatır.</span><span class="sxs-lookup"><span data-stu-id="eafb6-123">Simultaneously, it starts a ping task.</span></span>

![Eşleştirilmiş ad alanları][1]

<span data-ttu-id="eafb6-125">Bu noktada hello iletiler hala hello ikincil sıraya ve toohello birincil kuyruk teslim edilmedi.</span><span class="sxs-lookup"><span data-stu-id="eafb6-125">At this point hello messages are still in hello secondary queue and have not been delivered toohello primary queue.</span></span> <span data-ttu-id="eafb6-126">Merhaba birincil kuyruk yeniden sağlıklı olduğunda en az bir işlem hello Sifon çalıştırıyor olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-126">Once hello primary queue is healthy again, at least one process should be running hello syphon.</span></span> <span data-ttu-id="eafb6-127">Merhaba Sifon Merhaba iletileri sıraları toohello uygun hedef varlıkları (kuyruklar ve konu başlıkları) tüm hello çeşitli biriktirme listesi sunar.</span><span class="sxs-lookup"><span data-stu-id="eafb6-127">hello syphon delivers hello messages from all hello various backlog queues toohello proper destination entities (queues and topics).</span></span>

![Eşleştirilmiş ad alanları][2]

<span data-ttu-id="eafb6-129">Bu konunun geri kalanı Hello parçaların nasıl işe hello belirli Ayrıntılar açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="eafb6-129">hello remainder of this topic discusses hello specific details of how these pieces work.</span></span>

## <a name="creation-of-backlog-queues"></a><span data-ttu-id="eafb6-130">Biriktirme listesi sıraların oluşturma</span><span class="sxs-lookup"><span data-stu-id="eafb6-130">Creation of backlog queues</span></span>
<span data-ttu-id="eafb6-131">Merhaba [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] toohello geçirilen nesnesi [PairNamespaceAsync] [ PairNamespaceAsync] yöntemi hello gösterir biriktirme listesi sayısı kuyruklar toouse istiyor.</span><span class="sxs-lookup"><span data-stu-id="eafb6-131">hello [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] object passed toohello [PairNamespaceAsync][PairNamespaceAsync] method indicates hello number of backlog queues you want toouse.</span></span> <span data-ttu-id="eafb6-132">Her bir biriktirme listesi sırası sonra hello ile oluşturulan aşağıdaki özelliklere açıkça ayarlayın (diğer tüm değerler toohello ayarlanır [QueueDescription] [ QueueDescription] Varsayılanları):</span><span class="sxs-lookup"><span data-stu-id="eafb6-132">Each backlog queue is then created with hello following properties explicitly set (all other values are set toohello [QueueDescription][QueueDescription] defaults):</span></span>

| <span data-ttu-id="eafb6-133">Yol</span><span class="sxs-lookup"><span data-stu-id="eafb6-133">Path</span></span> | <span data-ttu-id="eafb6-134">[birincil ad alanı] / x servicebus aktarımı / [[dizin] [0, BacklogQueueCount) değerinde olduğu dizin]</span><span class="sxs-lookup"><span data-stu-id="eafb6-134">[primary namespace]/x-servicebus-transfer/[index] where [index] is a value in [0, BacklogQueueCount)</span></span> |
| --- | --- |
| <span data-ttu-id="eafb6-135">MaxSizeInMegabytes</span><span class="sxs-lookup"><span data-stu-id="eafb6-135">MaxSizeInMegabytes</span></span> |<span data-ttu-id="eafb6-136">5120</span><span class="sxs-lookup"><span data-stu-id="eafb6-136">5120</span></span> |
| <span data-ttu-id="eafb6-137">maxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="eafb6-137">MaxDeliveryCount</span></span> |<span data-ttu-id="eafb6-138">int MaxValue</span><span class="sxs-lookup"><span data-stu-id="eafb6-138">int.MaxValue</span></span> |
| <span data-ttu-id="eafb6-139">DefaultMessageTimeToLive</span><span class="sxs-lookup"><span data-stu-id="eafb6-139">DefaultMessageTimeToLive</span></span> |<span data-ttu-id="eafb6-140">TimeSpan.MaxValue</span><span class="sxs-lookup"><span data-stu-id="eafb6-140">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="eafb6-141">AutoDeleteOnIdle</span><span class="sxs-lookup"><span data-stu-id="eafb6-141">AutoDeleteOnIdle</span></span> |<span data-ttu-id="eafb6-142">TimeSpan.MaxValue</span><span class="sxs-lookup"><span data-stu-id="eafb6-142">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="eafb6-143">LockDuration</span><span class="sxs-lookup"><span data-stu-id="eafb6-143">LockDuration</span></span> |<span data-ttu-id="eafb6-144">1 dakika</span><span class="sxs-lookup"><span data-stu-id="eafb6-144">1 minute</span></span> |
| <span data-ttu-id="eafb6-145">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="eafb6-145">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="eafb6-146">TRUE</span><span class="sxs-lookup"><span data-stu-id="eafb6-146">true</span></span> |
| <span data-ttu-id="eafb6-147">EnableBatchedOperations</span><span class="sxs-lookup"><span data-stu-id="eafb6-147">EnableBatchedOperations</span></span> |<span data-ttu-id="eafb6-148">TRUE</span><span class="sxs-lookup"><span data-stu-id="eafb6-148">true</span></span> |

<span data-ttu-id="eafb6-149">Örneğin, hello ilk biriktirme listesi sırası oluşturulan ad alanı için **contoso** adlı `contoso/x-servicebus-transfer/0`.</span><span class="sxs-lookup"><span data-stu-id="eafb6-149">For example, hello first backlog queue created for namespace **contoso** is named `contoso/x-servicebus-transfer/0`.</span></span>

<span data-ttu-id="eafb6-150">Böyle bir sıraya varsa hello sıraları oluştururken hello kodunu ilk toosee denetler.</span><span class="sxs-lookup"><span data-stu-id="eafb6-150">When creating hello queues, hello code first checks toosee if such a queue exists.</span></span> <span data-ttu-id="eafb6-151">Merhaba sırası yoksa hello sırası oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="eafb6-151">If hello queue does not exist, then hello queue is created.</span></span> <span data-ttu-id="eafb6-152">Merhaba kod desteklemez "ek" biriktirme listesi sıraları temizlenemedi.</span><span class="sxs-lookup"><span data-stu-id="eafb6-152">hello code does not clean up "extra" backlog queues.</span></span> <span data-ttu-id="eafb6-153">Özellikle, Merhaba, uygulama ile Merhaba birincil ad alanı **contoso** beş biriktirme listesi sırası ancak bir biriktirme listesi sırası hello yolu ile istekleri `contoso/x-servicebus-transfer/7` var, bu ek biriktirme listesi kuyruğa hala var, ancak kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="eafb6-153">Specifically, if hello application with hello primary namespace **contoso** requests five backlog queues but a backlog queue with hello path `contoso/x-servicebus-transfer/7` exists, that extra backlog queue is still present but is not used.</span></span> <span data-ttu-id="eafb6-154">Merhaba sistem değil kullanılacak ek biriktirme listesi sıraları tooexist açıkça izin verir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-154">hello system explicitly allows extra backlog queues tooexist that would not be used.</span></span> <span data-ttu-id="eafb6-155">Merhaba ad alanı sahibi olarak, tüm kullanılmayan/istenmeyen biriktirme listesi sıralarını temizleme işlemi için sorumluluğu size aittir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-155">As hello namespace owner, you are responsible for cleaning up any unused/unwanted backlog queues.</span></span> <span data-ttu-id="eafb6-156">Merhaba Bu karar hizmet veri yolu ad alanınız içinde hello sıraların tümü için hangi amacıyla mevcut bilemezsiniz nedeni.</span><span class="sxs-lookup"><span data-stu-id="eafb6-156">hello reason for this decision is that Service Bus cannot know what purposes exist for all hello queues in your namespace.</span></span> <span data-ttu-id="eafb6-157">Ayrıca, bir sıra hello verilen ada sahip var, ancak kabul hello karşılamıyor [QueueDescription][QueueDescription], için kendi değişen hello varsayılan davranışı, nedenleri sonra.</span><span class="sxs-lookup"><span data-stu-id="eafb6-157">Furthermore, if a queue exists with hello given name but does not meet hello assumed [QueueDescription][QueueDescription], then your reasons are your own for changing hello default behavior.</span></span> <span data-ttu-id="eafb6-158">Garanti değişiklikler toohello biriktirme listesi kuyruklarında kodunuz tarafından yapılır.</span><span class="sxs-lookup"><span data-stu-id="eafb6-158">No guarantees are made for modifications toohello backlog queues by your code.</span></span> <span data-ttu-id="eafb6-159">Emin tootest baştan sona istediğiniz değişiklikleri yapın.</span><span class="sxs-lookup"><span data-stu-id="eafb6-159">Make sure tootest your changes thoroughly.</span></span>

## <a name="custom-messagesender"></a><span data-ttu-id="eafb6-160">Özel MessageSender</span><span class="sxs-lookup"><span data-stu-id="eafb6-160">Custom MessageSender</span></span>
<span data-ttu-id="eafb6-161">Tüm iletileri gönderirken, bir iç Git [MessageSender] [ MessageSender] zaman her şeyi çalışır ve şey "böldüğünüzde." toohello biriktirme listesi sıraları yönlendiren normal şekilde davranır nesnesi</span><span class="sxs-lookup"><span data-stu-id="eafb6-161">When sending, all messages go through an internal [MessageSender][MessageSender] object that behaves normally when everything works, and redirects toohello backlog queues when things "break."</span></span> <span data-ttu-id="eafb6-162">Bir geçici olmayan hata alındıktan sonra bir süreölçer başlatır.</span><span class="sxs-lookup"><span data-stu-id="eafb6-162">Upon receiving a non-transient failure, a timer starts.</span></span> <span data-ttu-id="eafb6-163">Sonra bir [TimeSpan] [ TimeSpan] hello oluşan süresi [FailoverInterval] [ FailoverInterval] sırasında başarılı bir ileti gönderilir özellik değeri , hello yük devretme gerçekleştiriliyor.</span><span class="sxs-lookup"><span data-stu-id="eafb6-163">After a [TimeSpan][TimeSpan] period consisting of hello [FailoverInterval][FailoverInterval] property value during which no successful messages are sent, hello failover is engaged.</span></span> <span data-ttu-id="eafb6-164">Bu noktada, hello aşağıdaki her bir varlık için olacaklar:</span><span class="sxs-lookup"><span data-stu-id="eafb6-164">At this point, hello following things happen for each entity:</span></span>

* <span data-ttu-id="eafb6-165">Bir ping görevi yürütür her [PingPrimaryInterval] [ PingPrimaryInterval] hello varlık varsa toocheck.</span><span class="sxs-lookup"><span data-stu-id="eafb6-165">A ping task executes every [PingPrimaryInterval][PingPrimaryInterval] toocheck if hello entity is available.</span></span> <span data-ttu-id="eafb6-166">Bu görev başarılı olduktan sonra yeni iletiler toohello birincil ad alanı göndermeye hello varlığı hemen kullanan tüm istemci kodu başlar.</span><span class="sxs-lookup"><span data-stu-id="eafb6-166">Once this task succeeds, all client code that uses hello entity immediately starts sending new messages toohello primary namespace.</span></span>
* <span data-ttu-id="eafb6-167">Başka Gönderenler aynı varlıktan hello sonuçlanacak gelecekteki isteklerin toosend toothat [BrokeredMessage] [ BrokeredMessage] toobe gönderilen hello biriktirme listesi sırasındaki toosit değiştirdi.</span><span class="sxs-lookup"><span data-stu-id="eafb6-167">Future requests toosend toothat same entity from any other senders will result in hello [BrokeredMessage][BrokeredMessage] being sent toobe modified toosit in hello backlog queue.</span></span> <span data-ttu-id="eafb6-168">Merhaba değişikliği hello bazı özellikler kaldırır [BrokeredMessage] [ BrokeredMessage] nesne ve başka bir yerde depolar.</span><span class="sxs-lookup"><span data-stu-id="eafb6-168">hello modification removes some properties from hello [BrokeredMessage][BrokeredMessage] object and stores them elsewhere.</span></span> <span data-ttu-id="eafb6-169">Merhaba aşağıdaki özellikleri temizlenir ve Service Bus ve hello SDK tooprocess iletileri hep sağlayan yeni bir ad altında eklendi:</span><span class="sxs-lookup"><span data-stu-id="eafb6-169">hello following properties are cleared and added under a new alias, allowing Service Bus and hello SDK tooprocess messages uniformly:</span></span>

| <span data-ttu-id="eafb6-170">Eski özellik adı</span><span class="sxs-lookup"><span data-stu-id="eafb6-170">Old Property Name</span></span> | <span data-ttu-id="eafb6-171">Yeni özellik adı</span><span class="sxs-lookup"><span data-stu-id="eafb6-171">New Property Name</span></span> |
| --- | --- |
| <span data-ttu-id="eafb6-172">SessionID</span><span class="sxs-lookup"><span data-stu-id="eafb6-172">SessionId</span></span> |<span data-ttu-id="eafb6-173">x-ms-SessionID</span><span class="sxs-lookup"><span data-stu-id="eafb6-173">x-ms-sessionid</span></span> |
| <span data-ttu-id="eafb6-174">TimeToLive</span><span class="sxs-lookup"><span data-stu-id="eafb6-174">TimeToLive</span></span> |<span data-ttu-id="eafb6-175">x-ms-timetolive</span><span class="sxs-lookup"><span data-stu-id="eafb6-175">x-ms-timetolive</span></span> |
| <span data-ttu-id="eafb6-176">ScheduledEnqueueTimeUtc</span><span class="sxs-lookup"><span data-stu-id="eafb6-176">ScheduledEnqueueTimeUtc</span></span> |<span data-ttu-id="eafb6-177">x-ms-yol</span><span class="sxs-lookup"><span data-stu-id="eafb6-177">x-ms-path</span></span> |

<span data-ttu-id="eafb6-178">Merhaba özgün hedef yolu x-ms-path adlı bir özellik olarak da selamlama iletisine içinde depolanır.</span><span class="sxs-lookup"><span data-stu-id="eafb6-178">hello original destination path is also stored within hello message as a property named x-ms-path.</span></span> <span data-ttu-id="eafb6-179">Bu tasarım, birçok varlıklar toocoexist iletilerde tek biriktirme listesi sıraya sağlar.</span><span class="sxs-lookup"><span data-stu-id="eafb6-179">This design allows messages for many entities toocoexist in a single backlog queue.</span></span> <span data-ttu-id="eafb6-180">Merhaba özellikleri geri hello Sifon tarafından çevrilir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-180">hello properties are translated back by hello syphon.</span></span>

<span data-ttu-id="eafb6-181">Merhaba özel [MessageSender] [ MessageSender] nesne sorunlarla iletileri hello 256 KB sınıra yaklaşmak ve yük devretme gerçekleştiriliyor.</span><span class="sxs-lookup"><span data-stu-id="eafb6-181">hello custom [MessageSender][MessageSender] object can encounter issues when messages approach hello 256-KB limit and failover is engaged.</span></span> <span data-ttu-id="eafb6-182">Merhaba özel [MessageSender] [ MessageSender] nesnesi tüm kuyrukları ve konularından hello biriktirme listesi kuyruklarda birlikte iletileri saklar.</span><span class="sxs-lookup"><span data-stu-id="eafb6-182">hello custom [MessageSender][MessageSender] object stores messages for all queues and topics together in hello backlog queues.</span></span> <span data-ttu-id="eafb6-183">Bu nesne pek çok ana hello biriktirme listesi sıraları içinde birlikte gelen iletileri karıştırır.</span><span class="sxs-lookup"><span data-stu-id="eafb6-183">This object mixes messages from many primaries together within hello backlog queues.</span></span> <span data-ttu-id="eafb6-184">toohandle Yük Dengeleme her diğer hello SDK rastgele bilmiyorsanız birçok istemciler arasında her biri için bir biriktirme listesi sırası Çekmeleri [QueueClient] [ QueueClient] veya [TopicClient] [ TopicClient] kodda oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-184">toohandle load balancing among many clients that do not know each other, hello SDK randomly picks one backlog queue for each [QueueClient][QueueClient] or [TopicClient][TopicClient] you create in code.</span></span>

## <a name="pings"></a><span data-ttu-id="eafb6-185">Ping isteği</span><span class="sxs-lookup"><span data-stu-id="eafb6-185">Pings</span></span>
<span data-ttu-id="eafb6-186">Boş bir ping iletisidir [BrokeredMessage] [ BrokeredMessage] ile kendi [ContentType] [ ContentType] özelliği tooapplication/vnd.ms-servicebus-ping ayarlayın ve [TimeToLive] [ TimeToLive] 1 saniye değeri.</span><span class="sxs-lookup"><span data-stu-id="eafb6-186">A ping message is an empty [BrokeredMessage][BrokeredMessage] with its [ContentType][ContentType] property set tooapplication/vnd.ms-servicebus-ping and a [TimeToLive][TimeToLive] value of 1 second.</span></span> <span data-ttu-id="eafb6-187">Bu ping Service Bus içinde bir özellik vardır: hello sunucusunun herhangi bir çağırıcı istediğinde, bir ping hiçbir zaman sunduğundan bir [BrokeredMessage][BrokeredMessage].</span><span class="sxs-lookup"><span data-stu-id="eafb6-187">This ping has one special characteristic in Service Bus: hello server never delivers a ping when any caller requests a [BrokeredMessage][BrokeredMessage].</span></span> <span data-ttu-id="eafb6-188">Bu nedenle, hiçbir zaman toolearn nasıl elinizde tooreceive ve bu iletileri yok sayın.</span><span class="sxs-lookup"><span data-stu-id="eafb6-188">Thus, you never have toolearn how tooreceive and ignore these messages.</span></span> <span data-ttu-id="eafb6-189">Her varlığın (benzersiz kuyruk veya konu) başına [Eventhubclient] [ MessagingFactory] istemci başına örnek ping işlemi olduğunda bunlar toobe kullanılamaz olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-189">Each entity (unique queue or topic) per [MessagingFactory][MessagingFactory] instance per client will be pinged when they are considered toobe unavailable.</span></span> <span data-ttu-id="eafb6-190">Varsayılan olarak, bu kez dakika başına gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-190">By default, this happens once per minute.</span></span> <span data-ttu-id="eafb6-191">Ping iletilerine toobe normal Service Bus iletileri kabul edilir ve bant genişliği ve iletileri ilişkin ücretlere neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-191">Ping messages are considered toobe regular Service Bus messages, and can result in charges for bandwidth and messages.</span></span> <span data-ttu-id="eafb6-192">Merhaba istemciler hello sistemin kullanılabilir olduğunu tespit hemen Merhaba iletileri durdurun.</span><span class="sxs-lookup"><span data-stu-id="eafb6-192">As soon as hello clients detect that hello system is available, hello messages stop.</span></span>

## <a name="hello-syphon"></a><span data-ttu-id="eafb6-193">Merhaba Sifon</span><span class="sxs-lookup"><span data-stu-id="eafb6-193">hello syphon</span></span>
<span data-ttu-id="eafb6-194">En az bir yürütülebilir program hello uygulamada etkin şekilde hello Sifon çalıştırıyor olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-194">At least one executable program in hello application should be actively running hello syphon.</span></span> <span data-ttu-id="eafb6-195">Merhaba Sifon gerçekleştiren bir uzun yoklama alırsınız, 15 dakika sürer.</span><span class="sxs-lookup"><span data-stu-id="eafb6-195">hello syphon performs a long poll receive that lasts 15 minutes.</span></span> <span data-ttu-id="eafb6-196">Tüm varlıklar kullanılabilir olduğunda ve 10 biriktirme listesi sıraların sahip olduğunda hello alma işlemi 40 kez saatte, günde 960 kez ve 28800 kez 30 gün içinde hello Sifon çağrıları barındıran uygulama hello.</span><span class="sxs-lookup"><span data-stu-id="eafb6-196">When all entities are available and you have 10 backlog queues, hello application that hosts hello syphon calls hello receive operation 40 times per hour, 960 times per day, and 28800 times in 30 days.</span></span> <span data-ttu-id="eafb6-197">Merhaba Sifon etkin bir şekilde hello biriktirme listesi toohello birincil kuyruktan iletileri taşımaktır, her ileti giderleri (tüm aşamalarda ileti boyutu ve bant genişliği için standart ücretler geçerlidir) aşağıdaki hello görür:</span><span class="sxs-lookup"><span data-stu-id="eafb6-197">When hello syphon is actively moving messages from hello backlog toohello primary queue, each message experiences hello following charges (standard charges for message size and bandwidth apply in all stages):</span></span>

1. <span data-ttu-id="eafb6-198">Toohello biriktirme listesi gönderir.</span><span class="sxs-lookup"><span data-stu-id="eafb6-198">Send toohello backlog.</span></span>
2. <span data-ttu-id="eafb6-199">Hello biriktirme listesi alır.</span><span class="sxs-lookup"><span data-stu-id="eafb6-199">Receive from hello backlog.</span></span>
3. <span data-ttu-id="eafb6-200">Toohello birincil gönderin.</span><span class="sxs-lookup"><span data-stu-id="eafb6-200">Send toohello primary.</span></span>
4. <span data-ttu-id="eafb6-201">Merhaba birincil alırsınız.</span><span class="sxs-lookup"><span data-stu-id="eafb6-201">Receive from hello primary.</span></span>

## <a name="closefault-behavior"></a><span data-ttu-id="eafb6-202">Davranış Kapat/hata</span><span class="sxs-lookup"><span data-stu-id="eafb6-202">Close/fault behavior</span></span>
<span data-ttu-id="eafb6-203">Merhaba Sifon, bir kez hello birincil veya ikincil barındıran uygulama içinde [Eventhubclient] [ MessagingFactory] hataları veya kapalı hello ve ayrıca hatalı/kapatılan iş ortağı Sifon bu durum algılar. , hello Sifon davranır.</span><span class="sxs-lookup"><span data-stu-id="eafb6-203">Within an application that hosts hello syphon, once hello primary or secondary [MessagingFactory][MessagingFactory] faults or is closed without its partner also being faulted/closed and hello syphon detects this state, hello syphon acts.</span></span> <span data-ttu-id="eafb6-204">Varsa diğer hello [Eventhubclient] [ MessagingFactory] kapalı 5 saniye içinde hello hala açık hello Sifon hata [Eventhubclient] [ MessagingFactory] .</span><span class="sxs-lookup"><span data-stu-id="eafb6-204">If hello other [MessagingFactory][MessagingFactory] is not closed within 5 seconds, hello syphon will fault hello still open [MessagingFactory][MessagingFactory].</span></span>

## <a name="next-steps"></a><span data-ttu-id="eafb6-205">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="eafb6-205">Next steps</span></span>
<span data-ttu-id="eafb6-206">Bkz: [zaman uyumsuz desenleri ve yüksek kullanılabilirlik Mesajlaşma] [ Asynchronous messaging patterns and high availability] Service Bus zaman uyumsuz Mesajlaşma hakkında ayrıntılı bilgi için.</span><span class="sxs-lookup"><span data-stu-id="eafb6-206">See [Asynchronous messaging patterns and high availability][Asynchronous messaging patterns and high availability] for a detailed discussion of Service Bus asynchronous messaging.</span></span> 

[PairNamespaceAsync]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_PairNamespaceAsync_Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_
[SendAvailabilityPairedNamespaceOptions]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions
[MessageSender]: /dotnet/api/microsoft.servicebus.messaging.messagesender
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[FailoverInterval]: /dotnet/api/microsoft.servicebus.messaging.pairednamespaceoptions#Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_FailoverInterval
[MessagingException]: /dotnet/api/microsoft.servicebus.messaging.messagingexception
[TimeoutException]: https://msdn.microsoft.com/library/azure/system.timeoutexception.aspx
[BrokeredMessage]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage
[QueueDescription]: /dotnet/api/microsoft.servicebus.messaging.queuedescription
[TimeSpan]: https://msdn.microsoft.com/library/azure/system.timespan.aspx
[PingPrimaryInterval]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions#Microsoft_ServiceBus_Messaging_SendAvailabilityPairedNamespaceOptions_PingPrimaryInterval
[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[TopicClient]: /dotnet/api/microsoft.servicebus.messaging.topicclient
[ContentType]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_ContentType
[TimeToLive]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_TimeToLive
[Asynchronous messaging patterns and high availability]: service-bus-async-messaging.md
[0]: ./media/service-bus-paired-namespaces/IC673405.png
[1]: ./media/service-bus-paired-namespaces/IC673406.png
[2]: ./media/service-bus-paired-namespaces/IC673407.png
