---
title: "Azure Service Bus kuyrukları ve konularından aaaCreate bölümlenmiş | Microsoft Docs"
description: "Nasıl toopartition Service Bus kuyrukları ve konularından birden çok iletisini kullanarak aracıların açıklar."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: a0c7d5a2-4876-42cb-8344-a1fc988746e7
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/07/2017
ms.author: sethm;hillaryc
ms.openlocfilehash: 6d42556a0714d6a012dc319f662521c8b0bb958b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="partitioned-queues-and-topics"></a><span data-ttu-id="0709d-103">Bölümlenmiş kuyruklar ve konular</span><span class="sxs-lookup"><span data-stu-id="0709d-103">Partitioned queues and topics</span></span>
<span data-ttu-id="0709d-104">Birden çok ileti aracıların tooprocess iletiler Azure hizmet veri yolu kullanır ve birden çok Mesajlaşma toostore iletileri depolar.</span><span class="sxs-lookup"><span data-stu-id="0709d-104">Azure Service Bus employs multiple message brokers tooprocess messages and multiple messaging stores toostore messages.</span></span> <span data-ttu-id="0709d-105">Geleneksel kuyruk veya konu tek ileti aracısı tarafından işlenen ve bir Mesajlaşma deposunda depolanır.</span><span class="sxs-lookup"><span data-stu-id="0709d-105">A conventional queue or topic is handled by a single message broker and stored in one messaging store.</span></span> <span data-ttu-id="0709d-106">Hizmet veri yolu *bölümleri* kuyruklar ve konu başlıkları, etkinleştirmek veya *Mesajlaşma*, birden çok ileti aracıları ve mesajlaşma depoları arasında bölümlenmiş toobe.</span><span class="sxs-lookup"><span data-stu-id="0709d-106">Service Bus *partitions* enable queues and topics, or *messaging entities*, toobe partitioned across multiple message brokers and messaging stores.</span></span> <span data-ttu-id="0709d-107">Bölümlenmiş bir varlığın genel üretilen işi hello Bunun anlamı artık tek ileti Aracısı ya da ileti deposu hello performans ile sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="0709d-107">This means that hello overall throughput of a partitioned entity is no longer limited by hello performance of a single message broker or messaging store.</span></span> <span data-ttu-id="0709d-108">Ayrıca, bir Mesajlaşma deposu geçici bir kesinti bölümlenmiş kuyruk veya konu kullanılamaz işlemez.</span><span class="sxs-lookup"><span data-stu-id="0709d-108">In addition, a temporary outage of a messaging store does not render a partitioned queue or topic unavailable.</span></span> <span data-ttu-id="0709d-109">Bölümlenmiş kuyrukları ve konularından işlemleri ve oturumlar için destek gibi tüm Gelişmiş Service Bus özellikler içerebilir.</span><span class="sxs-lookup"><span data-stu-id="0709d-109">Partitioned queues and topics can contain all advanced Service Bus features, such as support for transactions and sessions.</span></span>

<span data-ttu-id="0709d-110">Hizmet veri yolu dahili bileşenleri hakkında daha fazla bilgi için bkz: hello [Service Bus mimarisi] [ Service Bus architecture] makalesi.</span><span class="sxs-lookup"><span data-stu-id="0709d-110">For information about Service Bus internals, see hello [Service Bus architecture][Service Bus architecture] article.</span></span>

<span data-ttu-id="0709d-111">Bölümleme varlık oluşturulurken tüm kuyruklar ve konular standart ve Premium, varsayılan olarak etkinleştirilmiştir Mesajlaşma.</span><span class="sxs-lookup"><span data-stu-id="0709d-111">Partitioning is enabled by default at entity creation on all queues and topics in both Standard and Premium messaging.</span></span> <span data-ttu-id="0709d-112">Standart katmanı bölümleme olmadan Mesajlaşma oluşturabilirsiniz, ancak kuyruklar ve konular Premium ad alanı, her zaman bölümlenmiş; Bu seçenek devre dışı bırakılamaz.</span><span class="sxs-lookup"><span data-stu-id="0709d-112">You can create Standard messaging tier entities without partitioning, but queues and topics in a Premium namespace are always partitioned; this option cannot be disabled.</span></span> 

<span data-ttu-id="0709d-113">Olası toochange hello olmadığı hello varlık oluşturduğunuzda seçeneği olan bir sırayı veya standart veya Premium katmanları konudaki bölümlendirme, yalnızca hello seçeneği ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0709d-113">It is not possible toochange hello partitioning option on an existing queue or topic in either Standard or Premium tiers, you can only set hello option when you create hello entity.</span></span>

## <a name="how-it-works"></a><span data-ttu-id="0709d-114">Nasıl çalışır?</span><span class="sxs-lookup"><span data-stu-id="0709d-114">How it works</span></span>

<span data-ttu-id="0709d-115">Her bölümlenmiş kuyruk veya konu birden çok parçalarını oluşur.</span><span class="sxs-lookup"><span data-stu-id="0709d-115">Each partitioned queue or topic consists of multiple fragments.</span></span> <span data-ttu-id="0709d-116">Her parça farklı bir Mesajlaşma deposunda depolanır ve farklı ileti aracısı tarafından işlenir.</span><span class="sxs-lookup"><span data-stu-id="0709d-116">Each fragment is stored in a different messaging store and handled by a different message broker.</span></span> <span data-ttu-id="0709d-117">Bir ileti tooa bölümlenmiş kuyruk veya konu gönderildiğinde, Service Bus hello ileti tooone hello parçaların atar.</span><span class="sxs-lookup"><span data-stu-id="0709d-117">When a message is sent tooa partitioned queue or topic, Service Bus assigns hello message tooone of hello fragments.</span></span> <span data-ttu-id="0709d-118">Merhaba seçimi rastgele Service Bus tarafından yapılır veya gönderen hello bir bölüm anahtarı kullanarak belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0709d-118">hello selection is done randomly by Service Bus or by using a partition key that hello sender can specify.</span></span>

<span data-ttu-id="0709d-119">Bir istemci tooreceive bölümlenmiş bir kuyruktan bir ileti istediği ya da bir abonelik tooa bölümlenmiş konusundan, hizmet veri yolu ileti tüm parçaları sorgular depoları toohello alıcı Mesajlaşma hello hiçbirini elde hello ilk ileti döndürür.</span><span class="sxs-lookup"><span data-stu-id="0709d-119">When a client wants tooreceive a message from a partitioned queue, or from a subscription tooa partitioned topic, Service Bus queries all fragments for messages, then returns hello first message that is obtained from any of hello messaging stores toohello receiver.</span></span> <span data-ttu-id="0709d-120">Hizmet veri yolu önbellekleri diğer iletiler ve bunları ek aldığında isteklerini alacak döndürür hello.</span><span class="sxs-lookup"><span data-stu-id="0709d-120">Service Bus caches hello other messages and returns them when it receives additional receive requests.</span></span> <span data-ttu-id="0709d-121">Bir alıcı istemci hello bölümlendirme farkında değildir; Merhaba istemciye yönelik davranışını bölümlenmiş kuyruk veya konu (örneğin, okuma, tamamlamak, sahipsiz, erteleneceği prefetching) normal bir varlık aynı toohello davranıştır.</span><span class="sxs-lookup"><span data-stu-id="0709d-121">A receiving client is not aware of hello partitioning; hello client-facing behavior of a partitioned queue or topic (for example, read, complete, defer, deadletter, prefetching) is identical toohello behavior of a regular entity.</span></span>

<span data-ttu-id="0709d-122">İleti gönderirken ya da bölümlenmiş kuyruk veya konu, bir mesaj alarak ek bir maliyeti yoktur.</span><span class="sxs-lookup"><span data-stu-id="0709d-122">There is no additional cost when sending a message to, or receiving a message from, a partitioned queue or topic.</span></span>

## <a name="enable-partitioning"></a><span data-ttu-id="0709d-123">Bölümleme etkinleştir</span><span class="sxs-lookup"><span data-stu-id="0709d-123">Enable partitioning</span></span>

<span data-ttu-id="0709d-124">bölümlenmiş toouse kuyrukları ve konularından Azure Service Bus ile hello Azure SDK'sını 2.2 veya sonraki bir sürümü kullanın veya belirtin `api-version=2013-10` , HTTP istekleri.</span><span class="sxs-lookup"><span data-stu-id="0709d-124">toouse partitioned queues and topics with Azure Service Bus, use hello Azure SDK version 2.2 or later, or specify `api-version=2013-10` in your HTTP requests.</span></span>

### <a name="standard"></a><span data-ttu-id="0709d-125">Standart</span><span class="sxs-lookup"><span data-stu-id="0709d-125">Standard</span></span>

<span data-ttu-id="0709d-126">Merhaba standart Mesajlaşma katmanında, Service Bus kuyrukları ve konuları (Merhaba varsayılan 1 GB'dır) 1, 2, 3, 4 veya 5 GB boyutlarda oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0709d-126">In hello Standard messaging tier, you can create Service Bus queues and topics in 1, 2, 3, 4, or 5 GB sizes (hello default is 1 GB).</span></span> <span data-ttu-id="0709d-127">Etkin bölümlendirme ile hizmet veri yolu için belirttiğiniz her GB hello varlık 16 kopyalarını (16 bölümler) oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0709d-127">With partitioning enabled, Service Bus creates 16 copies (16 partitions) of hello entity for each GB you specify.</span></span> <span data-ttu-id="0709d-128">Bu nedenle, 5 GB boyutunda bir sırasına oluşturursanız, hello en büyük sıra boyutu olan 16 bölümleri olur (5 \* 16) = 80 GB.</span><span class="sxs-lookup"><span data-stu-id="0709d-128">As such, if you create a queue that's 5 GB in size, with 16 partitions hello maximum queue size becomes (5 \* 16) = 80 GB.</span></span> <span data-ttu-id="0709d-129">Merhaba üzerinde kendi girdisi bakarak bölümlenmiş kuyruk veya konu en büyük boyutunu hello görebilirsiniz [Azure portal][Azure portal], hello içinde **genel bakış** dikey penceresinde bu varlık için.</span><span class="sxs-lookup"><span data-stu-id="0709d-129">You can see hello maximum size of your partitioned queue or topic by looking at its entry on hello [Azure portal][Azure portal], in hello **Overview** blade for that entity.</span></span>

### <a name="premium"></a><span data-ttu-id="0709d-130">Premium</span><span class="sxs-lookup"><span data-stu-id="0709d-130">Premium</span></span>

<span data-ttu-id="0709d-131">Premium katmanı ad alanında Service Bus kuyrukları ve konuları (Merhaba varsayılan 1 GB'dır) 1, 2, 3, 4, 5, 10, 20, 40 veya 80 GB boyutlarda oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0709d-131">In a Premium tier namespace, you can create Service Bus queues and topics in 1, 2, 3, 4, 5, 10, 20, 40, or 80 GB sizes (hello default is 1 GB).</span></span> <span data-ttu-id="0709d-132">Varsayılan olarak etkin bölümlendirme ile Service Bus varlık başına iki bölüm oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0709d-132">With partitioning enabled by default, Service Bus creates two partitions per entity.</span></span> <span data-ttu-id="0709d-133">Merhaba üzerinde kendi girdisi bakarak bölümlenmiş kuyruk veya konu en büyük boyutunu hello görebilirsiniz [Azure portal][Azure portal], hello içinde **genel bakış** dikey penceresinde bu varlık için.</span><span class="sxs-lookup"><span data-stu-id="0709d-133">You can see hello maximum size of your partitioned queue or topic by looking at its entry on hello [Azure portal][Azure portal], in hello **Overview** blade for that entity.</span></span>

<span data-ttu-id="0709d-134">Merhaba Premium Mesajlaşma katmanında bölümleme hakkında daha fazla bilgi için bkz: [Service Bus Premium ve standart Mesajlaşma katmanları](service-bus-premium-messaging.md).</span><span class="sxs-lookup"><span data-stu-id="0709d-134">For more information about partitioning in hello Premium messaging tier, see [Service Bus Premium and Standard messaging tiers](service-bus-premium-messaging.md).</span></span> 

### <a name="create-a-partitioned-entity"></a><span data-ttu-id="0709d-135">Bölümlenmiş bir varlık oluştur</span><span class="sxs-lookup"><span data-stu-id="0709d-135">Create a partitioned entity</span></span>

<span data-ttu-id="0709d-136">Çeşitli yolları toocreate bölümlenmiş bir kuyruk veya konu vardır.</span><span class="sxs-lookup"><span data-stu-id="0709d-136">There are several ways toocreate a partitioned queue or topic.</span></span> <span data-ttu-id="0709d-137">Uygulamanızdan hello kuyruk veya konu oluşturduğunuzda, hello kuyruk veya konu başlığı için sırasıyla ayarı hello tarafından bölümleme etkinleştirebilirsiniz [QueueDescription.EnablePartitioning] [ QueueDescription.EnablePartitioning] veya [TopicDescription.EnablePartitioning] [ TopicDescription.EnablePartitioning] özelliği çok**doğru**.</span><span class="sxs-lookup"><span data-stu-id="0709d-137">When you create hello queue or topic from your application, you can enable partitioning for hello queue or topic by respectively setting hello [QueueDescription.EnablePartitioning][QueueDescription.EnablePartitioning] or [TopicDescription.EnablePartitioning][TopicDescription.EnablePartitioning] property too**true**.</span></span> <span data-ttu-id="0709d-138">Bu özellikleri hello zaman hello sıraya ayarlanmalı veya konu oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0709d-138">These properties must be set at hello time hello queue or topic is created.</span></span> <span data-ttu-id="0709d-139">Daha önce belirtildiği gibi bu özellikleri mümkün değil toochange olduğu bir varolan kuyruk veya konu başlığı.</span><span class="sxs-lookup"><span data-stu-id="0709d-139">As stated previously, it is not possible toochange these properties on an existing queue or topic.</span></span> <span data-ttu-id="0709d-140">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="0709d-140">For example:</span></span>

```csharp
// Create partitioned topic
NamespaceManager ns = NamespaceManager.CreateFromConnectionString(myConnectionString);
TopicDescription td = new TopicDescription(TopicName);
td.EnablePartitioning = true;
ns.CreateTopic(td);
```

<span data-ttu-id="0709d-141">Alternatif olarak, bölümlenmiş kuyruk veya konu hello oluşturabilirsiniz [Azure portal] [ Azure portal] veya Visual Studio'da.</span><span class="sxs-lookup"><span data-stu-id="0709d-141">Alternatively, you can create a partitioned queue or topic in hello [Azure portal][Azure portal] or in Visual Studio.</span></span> <span data-ttu-id="0709d-142">Merhaba Portalı'nda bir kuyruk veya konu oluşturduğunuzda, hello **bölümleme etkinleştirmek** hello kuyruk veya konu seçeneğinde **oluşturma** dikey varsayılan olarak işaretli.</span><span class="sxs-lookup"><span data-stu-id="0709d-142">When you create a queue or topic in hello portal, hello **Enable partitioning** option in hello queue or topic **Create** blade is checked by default.</span></span> <span data-ttu-id="0709d-143">Yalnızca standart katmanı varlıktaki bu seçenek devre dışı bırakabilirsiniz; Hello Premium katmanı bölümleme her zaman etkindir.</span><span class="sxs-lookup"><span data-stu-id="0709d-143">You can only disable this option in a Standard tier entity; in hello Premium tier partitioning is always enabled.</span></span> <span data-ttu-id="0709d-144">Visual Studio'da hello tıklatın **etkinleştirmek bölümleme** hello onay kutusu **yeni kuyruk** veya **yeni konu** iletişim kutusu.</span><span class="sxs-lookup"><span data-stu-id="0709d-144">In Visual Studio, click hello **Enable Partitioning** checkbox in hello **New Queue** or **New Topic** dialog box.</span></span>

## <a name="use-of-partition-keys"></a><span data-ttu-id="0709d-145">Bölüm anahtarlarını kullanımı</span><span class="sxs-lookup"><span data-stu-id="0709d-145">Use of partition keys</span></span>
<span data-ttu-id="0709d-146">İleti sıraya alınan bölümlenmiş kuyruk veya konu içine olduğunda, hizmet veri yolu bir bölüm anahtarı hello varlığını denetler.</span><span class="sxs-lookup"><span data-stu-id="0709d-146">When a message is enqueued into a partitioned queue or topic, Service Bus checks for hello presence of a partition key.</span></span> <span data-ttu-id="0709d-147">Bulursa, bu anahtarı temel hello parça seçer.</span><span class="sxs-lookup"><span data-stu-id="0709d-147">If it finds one, it selects hello fragment based on that key.</span></span> <span data-ttu-id="0709d-148">Bölüm anahtarı bulamazsa, bir iç algoritmadan yola çıkılarak hello parça seçer.</span><span class="sxs-lookup"><span data-stu-id="0709d-148">If it does not find a partition key, it selects hello fragment based on an internal algorithm.</span></span>

### <a name="using-a-partition-key"></a><span data-ttu-id="0709d-149">Bir bölüm anahtarının kullanılması</span><span class="sxs-lookup"><span data-stu-id="0709d-149">Using a partition key</span></span>
<span data-ttu-id="0709d-150">Oturumları veya işlemleri gibi bazı senaryolar belirli parçadaki depolanan iletileri toobe gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0709d-150">Some scenarios, such as sessions or transactions, require messages toobe stored in a specific fragment.</span></span> <span data-ttu-id="0709d-151">Bu senaryolar bölüm anahtarı hello kullanılmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0709d-151">All these scenarios require hello use of a partition key.</span></span> <span data-ttu-id="0709d-152">Tüm iletileri aynı bölüm anahtarı atanır, kullanım hello toohello aynı parçalara.</span><span class="sxs-lookup"><span data-stu-id="0709d-152">All messages that use hello same partition key are assigned toohello same fragment.</span></span> <span data-ttu-id="0709d-153">Merhaba parça geçici olarak devre dışı ise, hizmet veri yolu bir hata döndürür.</span><span class="sxs-lookup"><span data-stu-id="0709d-153">If hello fragment is temporarily unavailable, Service Bus returns an error.</span></span>

<span data-ttu-id="0709d-154">Merhaba senaryo bağlı olarak farklı ileti özellikleri bir bölüm anahtarı olarak kullanılır:</span><span class="sxs-lookup"><span data-stu-id="0709d-154">Depending on hello scenario, different message properties are used as a partition key:</span></span>

<span data-ttu-id="0709d-155">**SessionID**: bir ileti hello sahipse [BrokeredMessage.SessionId] [ BrokeredMessage.SessionId] özelliğini ayarlayın, sonra Service Bus, bu özellik hello bölüm anahtarı olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="0709d-155">**SessionId**: If a message has hello [BrokeredMessage.SessionId][BrokeredMessage.SessionId] property set, then Service Bus uses this property as hello partition key.</span></span> <span data-ttu-id="0709d-156">Bu şekilde, toohello ait tüm iletileri aynı oturum hello tarafından işlenmiş aynı ileti Aracısı.</span><span class="sxs-lookup"><span data-stu-id="0709d-156">This way, all messages that belong toohello same session are handled by hello same message broker.</span></span> <span data-ttu-id="0709d-157">Bu hizmet veri yolu tooguarantee ileti oturum durumları hello tutarlılık yanı sıra sıralama sağlar.</span><span class="sxs-lookup"><span data-stu-id="0709d-157">This enables Service Bus tooguarantee message ordering as well as hello consistency of session states.</span></span>

<span data-ttu-id="0709d-158">**PartitionKey**: bir ileti hello sahipse [BrokeredMessage.PartitionKey] [ BrokeredMessage.PartitionKey] özelliği, ancak değil hello [BrokeredMessage.SessionId] [ BrokeredMessage.SessionId] özelliğini ayarlayın, sonra Service Bus kullanan hello [PartitionKey] [ PartitionKey] özelliği hello bölüm anahtarı olarak.</span><span class="sxs-lookup"><span data-stu-id="0709d-158">**PartitionKey**: If a message has hello [BrokeredMessage.PartitionKey][BrokeredMessage.PartitionKey] property but not hello [BrokeredMessage.SessionId][BrokeredMessage.SessionId] property set, then Service Bus uses hello [PartitionKey][PartitionKey] property as hello partition key.</span></span> <span data-ttu-id="0709d-159">Merhaba ileti iki hello sahipse [SessionID] [ SessionId] ve hello [PartitionKey] [ PartitionKey] özellikler kümesi, her iki özellik aynı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0709d-159">If hello message has both hello [SessionId][SessionId] and hello [PartitionKey][PartitionKey] properties set, both properties must be identical.</span></span> <span data-ttu-id="0709d-160">Merhaba, [PartitionKey] [ PartitionKey] özelliği tooa farklı hello değerinden ayarlanmış [SessionID] [ SessionId] özelliği, hizmet veri yolu geçersiz bir döndürür işlem özel durum.</span><span class="sxs-lookup"><span data-stu-id="0709d-160">If hello [PartitionKey][PartitionKey] property is set tooa different value than hello [SessionId][SessionId] property, Service Bus returns an invalid operation exception.</span></span> <span data-ttu-id="0709d-161">Merhaba [PartitionKey] [ PartitionKey] özelliği, oturum olmayan farkında işlem iletileri gönderen gönderirse, kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0709d-161">hello [PartitionKey][PartitionKey] property should be used if a sender sends non-session aware transactional messages.</span></span> <span data-ttu-id="0709d-162">Merhaba bölüm anahtarı bir işlem içinde gönderilen tüm iletiler hello tarafından aynı işlenmesini sağlar Mesajlaşma Aracısı.</span><span class="sxs-lookup"><span data-stu-id="0709d-162">hello partition key ensures that all messages that are sent within a transaction are handled by hello same messaging broker.</span></span>

<span data-ttu-id="0709d-163">**MessageID**: hello hello kuyruk veya konu varsa [QueueDescription.RequiresDuplicateDetection] [ QueueDescription.RequiresDuplicateDetection] çok ayarlanan özelliği**doğru** ve hello [BrokeredMessage.SessionId] [ BrokeredMessage.SessionId] veya [BrokeredMessage.PartitionKey] [ BrokeredMessage.PartitionKey] özellikleri ayarlanmaz, ardından hello [BrokeredMessage.MessageId] [ BrokeredMessage.MessageId] özelliği hello bölüm anahtarı olarak hizmet verir.</span><span class="sxs-lookup"><span data-stu-id="0709d-163">**MessageId**: If hello queue or topic has hello [QueueDescription.RequiresDuplicateDetection][QueueDescription.RequiresDuplicateDetection] property set too**true** and hello [BrokeredMessage.SessionId][BrokeredMessage.SessionId] or [BrokeredMessage.PartitionKey][BrokeredMessage.PartitionKey] properties are not set, then hello [BrokeredMessage.MessageId][BrokeredMessage.MessageId] property serves as hello partition key.</span></span> <span data-ttu-id="0709d-164">(Merhaba gönderen uygulama yoksa hello Microsoft .NET ve AMQP kitaplıkları otomatik olarak bir ileti kimliği atamak unutmayın.) Bu durumda, aynı iletiyi tarafından işlenmesini hello tüm kopyalarını aynı ileti Aracısı hello.</span><span class="sxs-lookup"><span data-stu-id="0709d-164">(Note that hello Microsoft .NET and AMQP libraries automatically assign a message ID if hello sending application does not.) In this case, all copies of hello same message are handled by hello same message broker.</span></span> <span data-ttu-id="0709d-165">Bu hizmet veri yolu toodetect sağlar ve yinelenen iletileri ortadan kaldırmak.</span><span class="sxs-lookup"><span data-stu-id="0709d-165">This enables Service Bus toodetect and eliminate duplicate messages.</span></span> <span data-ttu-id="0709d-166">Merhaba, [QueueDescription.RequiresDuplicateDetection] [ QueueDescription.RequiresDuplicateDetection] özelliği çok ayarlanmamışsa**true**, Service Bus hello dikkate almaz [MessageID] [ MessageId] bölüm anahtarı olarak özelliği.</span><span class="sxs-lookup"><span data-stu-id="0709d-166">If hello [QueueDescription.RequiresDuplicateDetection][QueueDescription.RequiresDuplicateDetection] property is not set too**true**, Service Bus does not consider hello [MessageId][MessageId] property as a partition key.</span></span>

### <a name="not-using-a-partition-key"></a><span data-ttu-id="0709d-167">Bir bölüm anahtarının kullanılması değil</span><span class="sxs-lookup"><span data-stu-id="0709d-167">Not using a partition key</span></span>
<span data-ttu-id="0709d-168">Bölüm anahtarı Hello olmaması durumunda, hizmet veri yolu ileti hepsini şekilde tooall hello parçada hello bölümlenmiş kuyruk veya konu dağıtır.</span><span class="sxs-lookup"><span data-stu-id="0709d-168">In hello absence of a partition key, Service Bus distributes messages in a round-robin fashion tooall hello fragments of hello partitioned queue or topic.</span></span> <span data-ttu-id="0709d-169">Seçilen hello parça kullanılabilir durumda değilse, hizmet veri yolu hello ileti tooa farklı parça atar.</span><span class="sxs-lookup"><span data-stu-id="0709d-169">If hello chosen fragment is not available, Service Bus assigns hello message tooa different fragment.</span></span> <span data-ttu-id="0709d-170">Bu şekilde hello geçici olarak kullanım dışı kalması bir Mesajlaşma deposu rağmen hello gönderme işlemi başarılı olur.</span><span class="sxs-lookup"><span data-stu-id="0709d-170">This way, hello send operation succeeds despite hello temporary unavailability of a messaging store.</span></span> <span data-ttu-id="0709d-171">Ancak, bir bölüm anahtarı sağladığını sıralama garanti hello elde.</span><span class="sxs-lookup"><span data-stu-id="0709d-171">However, you will not achieve hello guaranteed ordering that a partition key provides.</span></span>

<span data-ttu-id="0709d-172">Merhaba kolaylığını kullanılabilirlik (bölüm anahtarı) ve tutarlılık (bölüm anahtarı kullanarak) arasında daha ayrıntılı bir tartışma için bkz: [bu makalede](../event-hubs/event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="0709d-172">For a more in-depth discussion of hello tradeoff between availability (no partition key) and consistency (using a partition key), see [this article](../event-hubs/event-hubs-availability-and-consistency.md).</span></span> <span data-ttu-id="0709d-173">Bu bilgiler, toopartitioned hizmet veri yolu varlıklarını ve Event Hubs bölümleri eşit oranda geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="0709d-173">This information applies equally toopartitioned Service Bus entities and Event Hubs partitions.</span></span>

<span data-ttu-id="0709d-174">toogive Service Bus yeterli zamanı tooenqueue hello iletisi farklı bir parça hello [MessagingFactorySettings.OperationTimeout] [ MessagingFactorySettings.OperationTimeout] hello iletisi gönderir hello istemci tarafından belirtilen değeri 15 saniyeden büyük olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0709d-174">toogive Service Bus enough time tooenqueue hello message into a different fragment, hello [MessagingFactorySettings.OperationTimeout][MessagingFactorySettings.OperationTimeout] value specified by hello client that sends hello message must be greater than 15 seconds.</span></span> <span data-ttu-id="0709d-175">Merhaba ayarlamanız önerilir [OperationTimeout] [ OperationTimeout] özelliği toohello varsayılan değer 60 saniye.</span><span class="sxs-lookup"><span data-stu-id="0709d-175">It is recommended that you set hello [OperationTimeout][OperationTimeout] property toohello default value of 60 seconds.</span></span>

<span data-ttu-id="0709d-176">Bölüm anahtarı "iletisi tooa belirli parça sabitler," unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0709d-176">Note that a partition key "pins" a message tooa specific fragment.</span></span> <span data-ttu-id="0709d-177">Bu parça tutan hello Mesajlaşma deposu kullanılamıyorsa, hizmet veri yolu bir hata döndürür.</span><span class="sxs-lookup"><span data-stu-id="0709d-177">If hello messaging store that holds this fragment is unavailable, Service Bus returns an error.</span></span> <span data-ttu-id="0709d-178">Bölüm anahtarı hello olmadığında, Service Bus farklı bir parça seçebilir ve hello işlemi başarılı olur.</span><span class="sxs-lookup"><span data-stu-id="0709d-178">In hello absence of a partition key, Service Bus can choose a different fragment and hello operation succeeds.</span></span> <span data-ttu-id="0709d-179">Bu nedenle, gerekli olmadığı sürece bir bölüm anahtarı sağlamazsanız önerilir.</span><span class="sxs-lookup"><span data-stu-id="0709d-179">Therefore, it is recommended that you do not supply a partition key unless it is required.</span></span>

## <a name="advanced-topics-use-transactions-with-partitioned-entities"></a><span data-ttu-id="0709d-180">Gelişmiş konular: bölümlenmiş varlıklarıyla işlemleri kullanın</span><span class="sxs-lookup"><span data-stu-id="0709d-180">Advanced topics: use transactions with partitioned entities</span></span>
<span data-ttu-id="0709d-181">Bir işlemin bir parçası gönderilen iletileri bir bölüm anahtarı belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="0709d-181">Messages that are sent as part of a transaction must specify a partition key.</span></span> <span data-ttu-id="0709d-182">Bu özellikler aşağıdaki hello biri olabilir: [BrokeredMessage.SessionId][BrokeredMessage.SessionId], [BrokeredMessage.PartitionKey][BrokeredMessage.PartitionKey], veya [ BrokeredMessage.MessageId][BrokeredMessage.MessageId].</span><span class="sxs-lookup"><span data-stu-id="0709d-182">This can be one of hello following properties: [BrokeredMessage.SessionId][BrokeredMessage.SessionId], [BrokeredMessage.PartitionKey][BrokeredMessage.PartitionKey], or [BrokeredMessage.MessageId][BrokeredMessage.MessageId].</span></span> <span data-ttu-id="0709d-183">Aynı işlem belirtmelisiniz hello bir parçası olarak gönderilen tüm iletiler hello aynı bölüm anahtarı.</span><span class="sxs-lookup"><span data-stu-id="0709d-183">All messages that are sent as part of hello same transaction must specify hello same partition key.</span></span> <span data-ttu-id="0709d-184">Bir işlem içinde bölüm anahtarı olmayan bir ileti toosend çalışırsanız, hizmet veri yolu geçersiz işlemi özel durum döndürür.</span><span class="sxs-lookup"><span data-stu-id="0709d-184">If you attempt toosend a message without a partition key within a transaction, Service Bus returns an invalid operation exception.</span></span> <span data-ttu-id="0709d-185">Farklı aynı işlem içinde birden fazla ileti hello toosend çalışırsanız bölüm anahtarlarını, hizmet veri yolu geçersiz işlemi özel durum döndürür.</span><span class="sxs-lookup"><span data-stu-id="0709d-185">If you attempt toosend multiple messages within hello same transaction that have different partition keys, Service Bus returns an invalid operation exception.</span></span> <span data-ttu-id="0709d-186">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="0709d-186">For example:</span></span>

```csharp
CommittableTransaction committableTransaction = new CommittableTransaction();
using (TransactionScope ts = new TransactionScope(committableTransaction))
{
    BrokeredMessage msg = new BrokeredMessage("This is a message");
    msg.PartitionKey = "myPartitionKey";
    messageSender.Send(msg); 
    ts.Complete();
}
committableTransaction.Commit();
```

<span data-ttu-id="0709d-187">Herhangi bir bölüm anahtarı olarak hizmet hello özelliklerinin ayarlanırsa, Service Bus PIN'ler ileti tooa belirli parça hello.</span><span class="sxs-lookup"><span data-stu-id="0709d-187">If any of hello properties that serve as a partition key are set, Service Bus pins hello message tooa specific fragment.</span></span> <span data-ttu-id="0709d-188">Bu davranış, bir işlem kullanılan olup olmadığına bakılmaksızın oluşur.</span><span class="sxs-lookup"><span data-stu-id="0709d-188">This behavior occurs whether or not a transaction is used.</span></span> <span data-ttu-id="0709d-189">Gerekli değilse bölüm anahtarı belirtmeyin önerilir.</span><span class="sxs-lookup"><span data-stu-id="0709d-189">It is recommended that you do not specify a partition key if it is not necessary.</span></span>

## <a name="using-sessions-with-partitioned-entities"></a><span data-ttu-id="0709d-190">Bölümlenmiş varlıklarıyla oturumları kullanma</span><span class="sxs-lookup"><span data-stu-id="0709d-190">Using sessions with partitioned entities</span></span>
<span data-ttu-id="0709d-191">toosend bir işlem iletisi tooa oturum algılayan konu veya sıra, selamlama iletisine sahip olması gerekir hello [BrokeredMessage.SessionId] [ BrokeredMessage.SessionId] özellik kümesi.</span><span class="sxs-lookup"><span data-stu-id="0709d-191">toosend a transactional message tooa session-aware topic or queue, hello message must have hello [BrokeredMessage.SessionId][BrokeredMessage.SessionId] property set.</span></span> <span data-ttu-id="0709d-192">Merhaba, [BrokeredMessage.PartitionKey] [ BrokeredMessage.PartitionKey] özelliği de belirtilen, aynı toohello olmalıdır [SessionID] [ SessionId] özelliği.</span><span class="sxs-lookup"><span data-stu-id="0709d-192">If hello [BrokeredMessage.PartitionKey][BrokeredMessage.PartitionKey] property is specified as well, it must be identical toohello [SessionId][SessionId] property.</span></span> <span data-ttu-id="0709d-193">Bunlar farklıysa, hizmet veri yolu geçersiz işlemi özel durum döndürür.</span><span class="sxs-lookup"><span data-stu-id="0709d-193">If they differ, Service Bus returns an invalid operation exception.</span></span>

<span data-ttu-id="0709d-194">Normal (bölümlenmemiş) sıraları veya konuları aksine, olası toouse tek işlem toosend birden çok iletileri toodifferent oturumu değil.</span><span class="sxs-lookup"><span data-stu-id="0709d-194">Unlike regular (non-partitioned) queues or topics, it is not possible toouse a single transaction toosend multiple messages toodifferent sessions.</span></span> <span data-ttu-id="0709d-195">Bulamazsa, hizmet veri yolu geçersiz işlemi özel durum döndürür.</span><span class="sxs-lookup"><span data-stu-id="0709d-195">If attempted, Service Bus returns an invalid operation exception.</span></span> <span data-ttu-id="0709d-196">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="0709d-196">For example:</span></span>

```csharp
CommittableTransaction committableTransaction = new CommittableTransaction();
using (TransactionScope ts = new TransactionScope(committableTransaction))
{
    BrokeredMessage msg = new BrokeredMessage("This is a message");
    msg.SessionId = "mySession";
    messageSender.Send(msg); 
    ts.Complete();
}
committableTransaction.Commit();
```

## <a name="automatic-message-forwarding-with-partitioned-entities"></a><span data-ttu-id="0709d-197">Bölümlenmiş varlıklarla otomatik ileti iletme</span><span class="sxs-lookup"><span data-stu-id="0709d-197">Automatic message forwarding with partitioned entities</span></span>
<span data-ttu-id="0709d-198">Service Bus otomatik ileti gelen ya da bölümlenen varlıklar arasında iletme destekler.</span><span class="sxs-lookup"><span data-stu-id="0709d-198">Service Bus supports automatic message forwarding from, to, or between partitioned entities.</span></span> <span data-ttu-id="0709d-199">tooenable otomatik ileti iletme'yi ayarlayın hello [QueueDescription.ForwardTo] [ QueueDescription.ForwardTo] hello kaynak sırası veya Abonelik özelliği.</span><span class="sxs-lookup"><span data-stu-id="0709d-199">tooenable automatic message forwarding, set hello [QueueDescription.ForwardTo][QueueDescription.ForwardTo] property on hello source queue or subscription.</span></span> <span data-ttu-id="0709d-200">Selamlama iletisine bölüm anahtarı belirtiyorsa ([SessionID][SessionId], [PartitionKey][PartitionKey], veya [MessageID] [ MessageId]), bu bölüm anahtarı hello hedef varlık için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0709d-200">If hello message specifies a partition key ([SessionId][SessionId], [PartitionKey][PartitionKey], or [MessageId][MessageId]), that partition key is used for hello destination entity.</span></span>

## <a name="considerations-and-guidelines"></a><span data-ttu-id="0709d-201">Dikkat edilecek noktalar ve yönergeleri</span><span class="sxs-lookup"><span data-stu-id="0709d-201">Considerations and guidelines</span></span>
* <span data-ttu-id="0709d-202">**Yüksek tutarlılık özellikleri**: bir varlığı oturumları, yinelenen algılama veya bölümlendirme anahtarı açık denetim gibi özellikler kullanan sonra hello Mesajlaşma işlemleri her zaman yönlendirilmiş toospecific parça.</span><span class="sxs-lookup"><span data-stu-id="0709d-202">**High consistency features**: If an entity uses features such as sessions, duplicate detection, or explicit control of partitioning key, then hello messaging operations are always routed toospecific fragments.</span></span> <span data-ttu-id="0709d-203">Merhaba parçaları hiçbirini yüksek trafik deneyimi veya hello alttaki deponun sağlam değil, bu işlemler başarısız ve kullanılabilirlik azalır.</span><span class="sxs-lookup"><span data-stu-id="0709d-203">If any of hello fragments experience high traffic or hello underlying store is unhealthy, those operations fail and availability is reduced.</span></span> <span data-ttu-id="0709d-204">Genel olarak, hello tutarlılık bölümlenmemiş varlıklar hala çok daha yüksektir; yalnızca bir alt trafik karşılıklı tooall hello trafiği olarak sorunları yaşıyor.</span><span class="sxs-lookup"><span data-stu-id="0709d-204">Overall, hello consistency is still much higher than non-partitioned entities; only a subset of traffic is experiencing issues, as opposed tooall hello traffic.</span></span> <span data-ttu-id="0709d-205">Daha fazla bilgi için bkz [kullanılabilirlik ve tutarlılık tartışma](../event-hubs/event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="0709d-205">For more information, see this [discussion of availability and consistency](../event-hubs/event-hubs-availability-and-consistency.md).</span></span>
* <span data-ttu-id="0709d-206">**Yönetim**: oluşturma, güncelleştirme ve silme gibi işlemleri tüm hello parçaları hello varlık gerçekleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0709d-206">**Management**: Operations such as Create, Update and Delete must be performed on all hello fragments of hello entity.</span></span> <span data-ttu-id="0709d-207">Herhangi bir parça sağlıksız ise, bu işlemler için hataları neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="0709d-207">If any fragment is unhealthy it could result in failures for these operations.</span></span> <span data-ttu-id="0709d-208">İleti sayısı gibi hello alma işlemi için bilgi tüm parçaları toplanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0709d-208">For hello Get operation, information such as message counts must be aggregated from all fragments.</span></span> <span data-ttu-id="0709d-209">Herhangi bir parça sağlıksız ise, hello varlık kullanılabilirlik durumunu sınırlı raporlanır.</span><span class="sxs-lookup"><span data-stu-id="0709d-209">If any fragment is unhealthy, hello entity availability status is reported as limited.</span></span>
* <span data-ttu-id="0709d-210">**Düşük birim ileti senaryosu**: Bu senaryolara, özellikle hello HTTP protokolü kullanılırken tooperform olabilir birden çok alma işlemlerinin sipariş tooobtain tüm Merhaba iletileri.</span><span class="sxs-lookup"><span data-stu-id="0709d-210">**Low volume message scenarios**: For such scenarios, especially when using hello HTTP protocol, you may have tooperform multiple receive operations in order tooobtain all hello messages.</span></span> <span data-ttu-id="0709d-211">Alma istekleri hello ön uç üzerinde tüm hello parçaları alma gerçekleştirir ve alınan tüm hello yanıtlarını önbelleğe kaydeder.</span><span class="sxs-lookup"><span data-stu-id="0709d-211">For receive requests, hello front end performs a receive on all hello fragments and caches all hello responses received.</span></span> <span data-ttu-id="0709d-212">Bir sonraki alma isteği aynı bağlantı ve bu önbelleğe alma işleminden faydalanır gecikmeleri alma hello daha düşük olacaktır.</span><span class="sxs-lookup"><span data-stu-id="0709d-212">A subsequent receive request on hello same connection would benefit from this caching and receive latencies will be lower.</span></span> <span data-ttu-id="0709d-213">Ancak, birden çok bağlantınız veya HTTP kullanıyorsanız, her istek için yeni bir bağlantı kurar.</span><span class="sxs-lookup"><span data-stu-id="0709d-213">However, if you have multiple connections or use HTTP, that establishes a new connection for each request.</span></span> <span data-ttu-id="0709d-214">Bu nedenle, üzerinde hello güden garanti yoktur aynı düğüm.</span><span class="sxs-lookup"><span data-stu-id="0709d-214">As such, there is no guarantee that it would land on hello same node.</span></span> <span data-ttu-id="0709d-215">Tüm mevcut iletileri kilitlenir ve içinde başka bir ön uç, önbelleğe alınmış hello işlemi döndürür alıyorsunuz **null**.</span><span class="sxs-lookup"><span data-stu-id="0709d-215">If all existing messages are locked and cached in another front end, hello receive operation returns **null**.</span></span> <span data-ttu-id="0709d-216">İletileri sonunda süresi dolacak ve yeniden alırsınız.</span><span class="sxs-lookup"><span data-stu-id="0709d-216">Messages eventually expire and you can receive them again.</span></span> <span data-ttu-id="0709d-217">HTTP Etkin tutmayı önerilir.</span><span class="sxs-lookup"><span data-stu-id="0709d-217">HTTP keep-alive is recommended.</span></span>
* <span data-ttu-id="0709d-218">**Gözat/gözlem iletileri**: [PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) her zaman hello belirtilen iletilerinin hello sayısı döndürmüyor [MessageCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MessageCount) özelliği.</span><span class="sxs-lookup"><span data-stu-id="0709d-218">**Browse/Peek messages**: [PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) does not always return hello number of messages specified in hello [MessageCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MessageCount) property.</span></span> <span data-ttu-id="0709d-219">Bu iki ortak nedenleri vardır.</span><span class="sxs-lookup"><span data-stu-id="0709d-219">There are two common reasons for this.</span></span> <span data-ttu-id="0709d-220">Bir nedeni bu hello iletileri hello koleksiyonunu toplanmış boyutunu aşıyor hello en büyük boyutu 256KB.</span><span class="sxs-lookup"><span data-stu-id="0709d-220">One reason is that hello aggregated size of hello collection of messages exceeds hello maximum size of 256KB.</span></span> <span data-ttu-id="0709d-221">Merhaba Hello kuyruk veya konu varsa olan başka bir nedenle [EnablePartitioning özelliğinin](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnablePartitioning) çok ayarlamak**doğru**, bir bölüm yeterli iletileri olmayabilir toocomplete hello istenen iletilerinin sayısı.</span><span class="sxs-lookup"><span data-stu-id="0709d-221">Another reason is that if hello queue or topic has hello [EnablePartitioning property](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnablePartitioning) set too**true**, a partition may not have enough messages toocomplete hello requested number of messages.</span></span> <span data-ttu-id="0709d-222">Bir uygulama tooreceive iletileri belirli sayıda isterse, genel olarak, çağırmalıdır [PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) kadar art arda bu iletilerin sayısını alır veya daha fazla hiçbir iletileri toopeek vardır.</span><span class="sxs-lookup"><span data-stu-id="0709d-222">In general, if an application wants tooreceive a specific number of messages, it should call [PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) repeatedly until it gets that number of messages, or there are no more messages toopeek.</span></span> <span data-ttu-id="0709d-223">Kod örnekleri dahil olmak üzere daha fazla bilgi için bkz: [QueueClient.PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) veya [SubscriptionClient.PeekBatch](/dotnet/api/microsoft.servicebus.messaging.subscriptionclient#Microsoft_ServiceBus_Messaging_SubscriptionClient_PeekBatch_System_Int32_).</span><span class="sxs-lookup"><span data-stu-id="0709d-223">For more information, including code samples, see [QueueClient.PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) or [SubscriptionClient.PeekBatch](/dotnet/api/microsoft.servicebus.messaging.subscriptionclient#Microsoft_ServiceBus_Messaging_SubscriptionClient_PeekBatch_System_Int32_).</span></span>

## <a name="latest-added-features"></a><span data-ttu-id="0709d-224">En son eklenen özellikler</span><span class="sxs-lookup"><span data-stu-id="0709d-224">Latest added features</span></span>
* <span data-ttu-id="0709d-225">Ekleme veya kaldırma kural bölümlenmiş varlıklarıyla artık desteklenmektedir.</span><span class="sxs-lookup"><span data-stu-id="0709d-225">Add or remove rule is now supported with partitioned entities.</span></span> <span data-ttu-id="0709d-226">Bölümlenmiş olmayan varlıklar farklıdır, bu işlemler altında işlemleri desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="0709d-226">Different from non-partitioned entities, these operations are not supported under transactions.</span></span> 
* <span data-ttu-id="0709d-227">AMQP iletileri tooand bölümlenmiş bir varlıktan gönderip için artık desteklenmektedir.</span><span class="sxs-lookup"><span data-stu-id="0709d-227">AMQP is now supported for sending and receiving messages tooand from a partitioned entity.</span></span>
* <span data-ttu-id="0709d-228">AMQP işlemleri aşağıdaki hello için artık desteklenmektedir: [toplu iş gönderme](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_BrokeredMessage__), [toplu alma](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_ReceiveBatch_System_Int32_), [alma sıra numarası tarafından](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_Receive_System_Int64_), [Peek](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_Peek), [ Kilit yenileme](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_RenewMessageLock_System_Guid_), [zamanlama ileti](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_ScheduleMessageAsync_Microsoft_ServiceBus_Messaging_BrokeredMessage_System_DateTimeOffset_), [zamanlanmış iletiyi iptal](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_CancelScheduledMessageAsync_System_Int64_), [Kuralı Ekle](/dotnet/api/microsoft.servicebus.messaging.ruledescription), [kaldırmak kural](/dotnet/api/microsoft.servicebus.messaging.ruledescription), [Oturumunuzu yenilemek kilit](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_RenewLock), [kümesi oturum durumu](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_), [Get oturum durumu](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_GetState), ve [oturumları listeleme](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_GetMessageSessionsAsync).</span><span class="sxs-lookup"><span data-stu-id="0709d-228">AMQP is now supported for hello following operations: [Batch Send](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_BrokeredMessage__), [Batch Receive](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_ReceiveBatch_System_Int32_), [Receive by Sequence Number](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_Receive_System_Int64_), [Peek](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_Peek), [Renew Lock](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_RenewMessageLock_System_Guid_), [Schedule Message](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_ScheduleMessageAsync_Microsoft_ServiceBus_Messaging_BrokeredMessage_System_DateTimeOffset_), [Cancel Scheduled Message](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_CancelScheduledMessageAsync_System_Int64_), [Add Rule](/dotnet/api/microsoft.servicebus.messaging.ruledescription), [Remove Rule](/dotnet/api/microsoft.servicebus.messaging.ruledescription), [Session Renew Lock](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_RenewLock), [Set Session State](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_), [Get Session State](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_GetState), and [Enumerate Sessions](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_GetMessageSessionsAsync).</span></span>

## <a name="partitioned-entities-limitations"></a><span data-ttu-id="0709d-229">Bölümlenen varlıklar sınırlamaları</span><span class="sxs-lookup"><span data-stu-id="0709d-229">Partitioned entities limitations</span></span>
<span data-ttu-id="0709d-230">Şu anda hizmet veri yolu bölümlenmiş kuyrukları ve konularından sınırlamalar aşağıdaki hello getirir:</span><span class="sxs-lookup"><span data-stu-id="0709d-230">Currently Service Bus imposes hello following limitations on partitioned queues and topics:</span></span>

* <span data-ttu-id="0709d-231">Bölümlenmiş kuyruklar ve konu başlıkları toodifferent ait iletileri gönderme desteklemez tek bir işlemde oturumları.</span><span class="sxs-lookup"><span data-stu-id="0709d-231">Partitioned queues and topics do not support sending messages that belong toodifferent sessions in a single transaction.</span></span>
* <span data-ttu-id="0709d-232">Hizmet veri yolu şu anda bölümlenmiş too100 sıraları veya ad alanı başına konuları sağlar.</span><span class="sxs-lookup"><span data-stu-id="0709d-232">Service Bus currently allows up too100 partitioned queues or topics per namespace.</span></span> <span data-ttu-id="0709d-233">Her bölümlenmiş kuyruk veya konu hello kota (tooPremium katmanı geçerli değildir) ad alanı başına 10.000 varlıkların doğru sayar.</span><span class="sxs-lookup"><span data-stu-id="0709d-233">Each partitioned queue or topic counts towards hello quota of 10,000 entities per namespace (does not apply tooPremium tier).</span></span>

## <a name="next-steps"></a><span data-ttu-id="0709d-234">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="0709d-234">Next steps</span></span>
<span data-ttu-id="0709d-235">Merhaba tartışması bkz [hizmet veri yolu AMQP 1.0 desteği bölümlenmiş kuyruklar ve konu başlıkları] [ AMQP 1.0 support for Service Bus partitioned queues and topics] toolearn Mesajlaşma varlıkları bölümleme hakkında daha fazla bilgi.</span><span class="sxs-lookup"><span data-stu-id="0709d-235">See hello discussion of [AMQP 1.0 support for Service Bus partitioned queues and topics][AMQP 1.0 support for Service Bus partitioned queues and topics] toolearn more about partitioning messaging entities.</span></span> 

[Service Bus architecture]: service-bus-architecture.md
[Azure portal]: https://portal.azure.com
[QueueDescription.EnablePartitioning]: /dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnablePartitioning
[TopicDescription.EnablePartitioning]: /dotnet/api/microsoft.servicebus.messaging.topicdescription#Microsoft_ServiceBus_Messaging_TopicDescription_EnablePartitioning
[BrokeredMessage.SessionId]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId
[BrokeredMessage.PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_PartitionKey
[SessionId]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId
[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_PartitionKey
[QueueDescription.RequiresDuplicateDetection]: /dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_RequiresDuplicateDetection
[BrokeredMessage.MessageId]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId
[MessageId]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId
[MessagingFactorySettings.OperationTimeout]: /dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout
[OperationTimeout]: /dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout
[QueueDescription.ForwardTo]: /dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_ForwardTo
[AMQP 1.0 support for Service Bus partitioned queues and topics]: service-bus-partitioned-queues-and-topics-amqp-overview.md
