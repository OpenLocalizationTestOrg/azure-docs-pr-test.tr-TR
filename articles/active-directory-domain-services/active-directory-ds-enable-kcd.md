---
title: "Azure Active Directory etki alanı Hizmetleri: Kısıtlı kerberos temsilcisi etkinleştirme | Microsoft Docs"
description: "Azure Active Directory etki alanı Hizmetleri yönetilen etki alanlarında kerberos Kısıtlı temsilci etkinleştir"
services: active-directory-ds
documentationcenter: 
author: mahesh-unnikrishnan
manager: stevenpo
editor: curtand
ms.assetid: 938a5fbc-2dd1-4759-bcce-628a6e19ab9d
ms.service: active-directory-ds
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/06/2017
ms.author: maheshu
ms.openlocfilehash: d32547c8018dd1f99c992e95a01d2711d460a261
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="configure-kerberos-constrained-delegation-kcd-on-a-managed-domain"></a><span data-ttu-id="c16a8-103">Yönetilen bir etki alanında kerberos Kısıtlı temsilci (KCD) yapılandırma</span><span class="sxs-lookup"><span data-stu-id="c16a8-103">Configure kerberos constrained delegation (KCD) on a managed domain</span></span>
<span data-ttu-id="c16a8-104">Birçok uygulama tooaccess kaynakları hello kullanıcının hello bağlamında gerekir.</span><span class="sxs-lookup"><span data-stu-id="c16a8-104">Many applications need tooaccess resources in hello context of hello user.</span></span> <span data-ttu-id="c16a8-105">Active Directory bu kullanım örneği sağlayan Kerberos temsilcisi olarak adlandırılan bir mekanizma destekler.</span><span class="sxs-lookup"><span data-stu-id="c16a8-105">Active Directory supports a mechanism called Kerberos delegation, which enables this use-case.</span></span> <span data-ttu-id="c16a8-106">Ayrıca, böylece yalnızca belirli kaynaklara hello hello kullanıcının bağlamında erişilebilir temsilci kısıtlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c16a8-106">Further, you can restrict delegation so that only specific resources can be accessed in hello context of hello user.</span></span> <span data-ttu-id="c16a8-107">Bunlar daha güvenli bir şekilde kilitlendiğini beri azure AD etki alanı Hizmetleri yönetilen etki alanları geleneksel Active Directory etki alanından farklı.</span><span class="sxs-lookup"><span data-stu-id="c16a8-107">Azure AD Domain Services managed domains are different from traditional Active Directory domains since they are more securely locked down.</span></span>

<span data-ttu-id="c16a8-108">Bu makalede nasıl tooconfigure kerberos kısıtlı temsilcisi Azure AD etki alanı Hizmetleri yönetilen etki alanı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="c16a8-108">This article shows you how tooconfigure kerberos constrained delegation on an Azure AD Domain Services managed domain.</span></span>

## <a name="kerberos-constrained-delegation-kcd"></a><span data-ttu-id="c16a8-109">Kerberos Kısıtlı temsilci (KCD)</span><span class="sxs-lookup"><span data-stu-id="c16a8-109">Kerberos constrained delegation (KCD)</span></span>
<span data-ttu-id="c16a8-110">Kerberos temsilcisi bir hesap tooimpersonate başka bir güvenlik sorumlusu (örneğin, bir kullanıcı) tooaccess kaynakları sağlar.</span><span class="sxs-lookup"><span data-stu-id="c16a8-110">Kerberos delegation enables an account tooimpersonate another security principal (such as a user) tooaccess resources.</span></span> <span data-ttu-id="c16a8-111">Bir kullanıcının hello bağlamında arka uç web API'si erişen bir web uygulaması göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="c16a8-111">Consider a web application that accesses a back-end web API in hello context of a user.</span></span> <span data-ttu-id="c16a8-112">Bu örnekte, hello web uygulaması (bir hizmet hesabı veya bilgisayar/makine hesabının hello bağlamında çalışır) hello kullanıcı hello kaynak (arka uç web API'si) erişirken temsil eder.</span><span class="sxs-lookup"><span data-stu-id="c16a8-112">In this example, hello web application (running in hello context of a service account or a computer/machine account) impersonates hello user when accessing hello resource (back-end web API).</span></span> <span data-ttu-id="c16a8-113">Kerberos temsilcisi güvenli olduğu hesabı kimliğine bürünme kaynakları hello hello hello kullanıcının bağlamında erişebilirsiniz hello kısıtlamaz.</span><span class="sxs-lookup"><span data-stu-id="c16a8-113">Kerberos delegation is insecure since it does not restrict hello resources hello impersonating account can access in hello context of hello user.</span></span>

<span data-ttu-id="c16a8-114">Kerberos Kısıtlı temsilci (KCD) Hizmetleri/kaynakları toowhich hello belirtilen sunucu hello bir kullanıcı adına işlem yapabileceği hello kısıtlar.</span><span class="sxs-lookup"><span data-stu-id="c16a8-114">Kerberos constrained delegation (KCD) restricts hello services/resources toowhich hello specified server can act on hello behalf of a user.</span></span> <span data-ttu-id="c16a8-115">Geleneksel KCD, bir hizmet için etki alanı yönetici ayrıcalıkları tooconfigure bir etki alanı hesabı gerektirir ve hello hesabı tooa tek etki alanı kısıtlar.</span><span class="sxs-lookup"><span data-stu-id="c16a8-115">Traditional KCD requires domain administrator privileges tooconfigure a domain account for a service and it restricts hello account tooa single domain.</span></span>

<span data-ttu-id="c16a8-116">Geleneksel KCD de ilişkili bazı sorunlar vardır.</span><span class="sxs-lookup"><span data-stu-id="c16a8-116">Traditional KCD also has a few issues associated with it.</span></span> <span data-ttu-id="c16a8-117">Önceki işletim hello etki alanı yöneticisi hello hizmet yapılandırdığınız yerde sistemlerinde, hello hizmet yöneticisinin, sahibi toohello kaynak Hizmetleri hangi ön uç hizmetlerin temsilci hiçbir kullanışlı bir yol tooknow vardı.</span><span class="sxs-lookup"><span data-stu-id="c16a8-117">In earlier operating systems where hello domain administrator configured hello service, hello service administrator had no useful way tooknow which front-end services delegated toohello resource services they owned.</span></span> <span data-ttu-id="c16a8-118">Ve tooa kaynak hizmeti temsilci seçebilecek tüm ön uç Hizmetleri olası bir saldırı noktası gösterilir.</span><span class="sxs-lookup"><span data-stu-id="c16a8-118">And any front-end service that could delegate tooa resource service represented a potential attack point.</span></span> <span data-ttu-id="c16a8-119">Bir ön uç hizmeti barındırılan bir sunucunun güvenliği aşılırsa ve yapılandırılmış toodelegate tooresource Hizmetleri başarısız olursa hello kaynak hizmetlerin de güvenliği aşılabilirdi.</span><span class="sxs-lookup"><span data-stu-id="c16a8-119">If a server that hosted a front-end service was compromised, and it was configured toodelegate tooresource services, hello resource services could also be compromised.</span></span>

> [!NOTE]
> <span data-ttu-id="c16a8-120">Bir Azure AD etki alanı Hizmetleri tarafından yönetilen etki alanında, etki alanı yönetici ayrıcalıklarına sahip değil.</span><span class="sxs-lookup"><span data-stu-id="c16a8-120">On an Azure AD Domain Services managed domain, you do not have domain administrator privileges.</span></span> <span data-ttu-id="c16a8-121">Bu nedenle, **geleneksel KCD yönetilen bir etki alanında yapılandırılamaz**.</span><span class="sxs-lookup"><span data-stu-id="c16a8-121">Therefore, **traditional KCD cannot be configured on a managed domain**.</span></span> <span data-ttu-id="c16a8-122">Kaynak tabanlı KCD, bu makalede anlatıldığı gibi kullanın.</span><span class="sxs-lookup"><span data-stu-id="c16a8-122">Use resource-based KCD as described in this article.</span></span> <span data-ttu-id="c16a8-123">Bu düzenek ayrıca daha güvenlidir.</span><span class="sxs-lookup"><span data-stu-id="c16a8-123">This mechanism is also more secure.</span></span>
>
>

## <a name="resource-based-kerberos-constrained-delegation"></a><span data-ttu-id="c16a8-124">Kaynak tabanlı kerberos Kısıtlanmış temsilci seçme</span><span class="sxs-lookup"><span data-stu-id="c16a8-124">Resource-based kerberos constrained delegation</span></span>
<span data-ttu-id="c16a8-125">Windows Server 2012 R2 ve Windows Server 2012, hello özelliği tooconfigure Kısıtlı temsilci hello hizmeti için hello etki alanı yönetici toohello Hizmet Yöneticisi'nden aktarıldı.</span><span class="sxs-lookup"><span data-stu-id="c16a8-125">In Windows Server 2012 R2 and Windows Server 2012, hello ability tooconfigure constrained delegation for hello service has been transferred from hello domain administrator toohello service administrator.</span></span> <span data-ttu-id="c16a8-126">Bu şekilde, hello arka uç Hizmeti Yöneticisi izin verebilir veya ön uç Hizmetleri reddet.</span><span class="sxs-lookup"><span data-stu-id="c16a8-126">In this way, hello back-end service administrator can allow or deny front-end services.</span></span> <span data-ttu-id="c16a8-127">Bu model olarak bilinen **kaynak tabanlı kerberos Kısıtlanmış temsilci seçimini**.</span><span class="sxs-lookup"><span data-stu-id="c16a8-127">This model is known as **resource-based kerberos constrained delegation**.</span></span>

<span data-ttu-id="c16a8-128">Kaynak tabanlı KCD, PowerShell kullanılarak yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="c16a8-128">Resource-based KCD is configured using PowerShell.</span></span> <span data-ttu-id="c16a8-129">Merhaba Set-ADComputer ya da hesabı kimliğine bürünme hello bilgisayar hesabı veya bir kullanıcı hesabı/hizmet hesabı olup olmamasına bağlı olarak, Set-ADUser cmdlet'leri kullanın.</span><span class="sxs-lookup"><span data-stu-id="c16a8-129">You use hello Set-ADComputer or Set-ADUser cmdlets, depending on whether hello impersonating account is a computer account or a user account/service account.</span></span>

### <a name="configure-resource-based-kcd-for-a-computer-account-on-a-managed-domain"></a><span data-ttu-id="c16a8-130">Yönetilen bir etki alanında bilgisayar hesabı için kaynak tabanlı KCD yapılandırın</span><span class="sxs-lookup"><span data-stu-id="c16a8-130">Configure resource-based KCD for a computer account on a managed domain</span></span>
<span data-ttu-id="c16a8-131">Merhaba bilgisayarda çalışan bir web uygulaması olduğunu varsayın ' contoso100-webapp.contoso100.com'.</span><span class="sxs-lookup"><span data-stu-id="c16a8-131">Assume you have a web app running on hello computer 'contoso100-webapp.contoso100.com'.</span></span> <span data-ttu-id="c16a8-132">Tooaccess hello kaynak gerekir (üzerinde çalışan bir web API ' contoso100-api.contoso100.com') etki alanı kullanıcıları hello bağlamında.</span><span class="sxs-lookup"><span data-stu-id="c16a8-132">It needs tooaccess hello resource (a web API running on 'contoso100-api.contoso100.com') in hello context of domain users.</span></span> <span data-ttu-id="c16a8-133">İşte nasıl kaynak tabanlı KCD bu senaryo için ayarlamanız.</span><span class="sxs-lookup"><span data-stu-id="c16a8-133">Here's how you would set up resource-based KCD for this scenario.</span></span>

```
$ImpersonatingAccount = Get-ADComputer -Identity contoso100-webapp.contoso100.com
Set-ADComputer contoso100-api.contoso100.com -PrincipalsAllowedToDelegateToAccount $ImpersonatingAccount
```

### <a name="configure-resource-based-kcd-for-a-user-account-on-a-managed-domain"></a><span data-ttu-id="c16a8-134">Yönetilen bir etki alanında kaynak tabanlı KCD bir kullanıcı hesabı yapılandırın</span><span class="sxs-lookup"><span data-stu-id="c16a8-134">Configure resource-based KCD for a user account on a managed domain</span></span>
<span data-ttu-id="c16a8-135">Hizmet hesabı 'appsvc' olarak çalışan bir web uygulamanız ve tooaccess hello kaynak etki alanı kullanıcıları hello bağlamında (bir hizmet hesabı - 'backendsvc' olarak çalışan bir web API) gerekir varsayalım.</span><span class="sxs-lookup"><span data-stu-id="c16a8-135">Assume you have a web app running as a service account 'appsvc' and it needs tooaccess hello resource (a web API running as a service account - 'backendsvc') in hello context of domain users.</span></span> <span data-ttu-id="c16a8-136">İşte nasıl kaynak tabanlı KCD bu senaryo için ayarlamanız.</span><span class="sxs-lookup"><span data-stu-id="c16a8-136">Here's how you would set up resource-based KCD for this scenario.</span></span>

```
$ImpersonatingAccount = Get-ADUser -Identity appsvc
Set-ADUser backendsvc -PrincipalsAllowedToDelegateToAccount $ImpersonatingAccount
```

## <a name="related-content"></a><span data-ttu-id="c16a8-137">İlgili İçerik</span><span class="sxs-lookup"><span data-stu-id="c16a8-137">Related Content</span></span>
* [<span data-ttu-id="c16a8-138">Azure AD etki alanı Hizmetleri - başlangıç kılavuzu</span><span class="sxs-lookup"><span data-stu-id="c16a8-138">Azure AD Domain Services - Getting Started guide</span></span>](active-directory-ds-getting-started.md)
* [<span data-ttu-id="c16a8-139">Kerberos kısıtlanmış Temsile genel bakış</span><span class="sxs-lookup"><span data-stu-id="c16a8-139">Kerberos Constrained Delegation Overview</span></span>](https://technet.microsoft.com/library/jj553400.aspx)
