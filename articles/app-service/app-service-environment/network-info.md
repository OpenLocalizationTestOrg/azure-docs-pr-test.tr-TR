---
title: "Azure uygulama hizmeti ortamı ile aaaNetworking konuları"
description: "Hello ana ağ trafiğini açıklar ve nasıl tooset Nsg'ler ve Udr'ler, ana ile"
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 955a4d84-94ca-418d-aa79-b57a5eb8cb85
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/08/2017
ms.author: ccompy
ms.openlocfilehash: d4d3000f4d4d75814b1e6d47079d967334eb1a3b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="networking-considerations-for-an-app-service-environment"></a><span data-ttu-id="2a134-103">Uygulama hizmeti ortamı için ağ konuları</span><span class="sxs-lookup"><span data-stu-id="2a134-103">Networking considerations for an App Service environment</span></span> #

## <a name="overview"></a><span data-ttu-id="2a134-104">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="2a134-104">Overview</span></span> ##

 <span data-ttu-id="2a134-105">Azure [uygulama hizmeti ortamı] [ Intro] bir Azure App Service, Azure sanal ağınıza (VNet) bir alt ağ içinde dağıtımıdır.</span><span class="sxs-lookup"><span data-stu-id="2a134-105">Azure [App Service Environment][Intro] is a deployment of Azure App Service into a subnet in your Azure virtual network (VNet).</span></span> <span data-ttu-id="2a134-106">Uygulama hizmeti ortamı (ana) için iki dağıtım türleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="2a134-106">There are two deployment types for an App Service environment (ASE):</span></span>

- <span data-ttu-id="2a134-107">**Dış ana**: hello ana barındırılan uygulamalar internet'ten erişilebilen bir IP adresi üzerinde açığa çıkarır.</span><span class="sxs-lookup"><span data-stu-id="2a134-107">**External ASE**: Exposes hello ASE-hosted apps on an internet-accessible IP address.</span></span> <span data-ttu-id="2a134-108">Daha fazla bilgi için bkz: [bir dış ana oluşturma][MakeExternalASE].</span><span class="sxs-lookup"><span data-stu-id="2a134-108">For more information, see [Create an External ASE][MakeExternalASE].</span></span>
- <span data-ttu-id="2a134-109">**ILB ana**: çıkarır hello ana barındırılan uygulamalar üzerinde bir IP adresi sanal ağınızın içinde.</span><span class="sxs-lookup"><span data-stu-id="2a134-109">**ILB ASE**: Exposes hello ASE-hosted apps on an IP address inside your VNet.</span></span> <span data-ttu-id="2a134-110">Merhaba dahili uç noktayı bir ILB ana çağırdı neden olan bir iç yük dengeleyici (ILB) ' dir.</span><span class="sxs-lookup"><span data-stu-id="2a134-110">hello internal endpoint is an internal load balancer (ILB), which is why it's called an ILB ASE.</span></span> <span data-ttu-id="2a134-111">Daha fazla bilgi için bkz: [oluşturma ve kullanma bir ILB ana][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="2a134-111">For more information, see [Create and use an ILB ASE][MakeILBASE].</span></span>

<span data-ttu-id="2a134-112">Artık uygulama hizmeti ortamı iki sürümü vardır: ASEv1 ve ASEv2.</span><span class="sxs-lookup"><span data-stu-id="2a134-112">There are now two versions of App Service Environment: ASEv1 and ASEv2.</span></span> <span data-ttu-id="2a134-113">ASEv1 hakkında daha fazla bilgi için bkz: [giriş tooApp hizmeti ortamı v1][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="2a134-113">For information on ASEv1, see [Introduction tooApp Service Environment v1][ASEv1Intro].</span></span> <span data-ttu-id="2a134-114">ASEv1 Klasik veya Resource Manager Vnet'i dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-114">ASEv1 can be deployed in a classic or Resource Manager VNet.</span></span> <span data-ttu-id="2a134-115">ASEv2 yalnızca Resource Manager Vnet'i dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-115">ASEv2 can only be deployed into a Resource Manager VNet.</span></span>

<span data-ttu-id="2a134-116">Bir ana gelen toohello Git tüm çağrıları Internet hello ana hello için atanan bir VIP aracılığıyla VNet bırakın.</span><span class="sxs-lookup"><span data-stu-id="2a134-116">All calls from an ASE that go toohello internet leave hello VNet through a VIP assigned for hello ASE.</span></span> <span data-ttu-id="2a134-117">Merhaba bu VIP ortak IP hello kaynak IP toohello Git hello ana gelen tüm çağrıları için ise Internet.</span><span class="sxs-lookup"><span data-stu-id="2a134-117">hello public IP of this VIP is then hello source IP for all calls from hello ASE that go toohello internet.</span></span> <span data-ttu-id="2a134-118">Hello kaynak IP, ana Hello uygulamalarında sanal ağınızın içinde veya bir VPN çağrıları tooresources yaparsanız, ana tarafından kullanılan hello alt ağdaki IP hello biridir.</span><span class="sxs-lookup"><span data-stu-id="2a134-118">If hello apps in your ASE make calls tooresources in your VNet or across a VPN, hello source IP is one of hello IPs in hello subnet used by your ASE.</span></span> <span data-ttu-id="2a134-119">Merhaba ana hello VNet içinde olduğundan, ayrıca herhangi bir ek yapılandırma olmadan hello VNet içindeki kaynaklara erişebilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-119">Because hello ASE is within hello VNet, it can also access resources within hello VNet without any additional configuration.</span></span> <span data-ttu-id="2a134-120">Merhaba VNet bağlı tooyour şirket içi ağ ise, uygulamalar, ana de erişim tooresources sahip.</span><span class="sxs-lookup"><span data-stu-id="2a134-120">If hello VNet is connected tooyour on-premises network, apps in your ASE also have access tooresources there.</span></span> <span data-ttu-id="2a134-121">Tooconfigure hello ana ya da uygulamanızı herhangi başka gerekmez.</span><span class="sxs-lookup"><span data-stu-id="2a134-121">You don't need tooconfigure hello ASE or your app any further.</span></span>

![Dış ana][1] 

<span data-ttu-id="2a134-123">Bir dış ana varsa, hello genel VIP ayrıca ana uygulamalarınızı toofor gidermek hello uç noktadır:</span><span class="sxs-lookup"><span data-stu-id="2a134-123">If you have an External ASE, hello public VIP is also hello endpoint that your ASE apps resolve toofor:</span></span>

* <span data-ttu-id="2a134-124">HTTP/S'DİR.</span><span class="sxs-lookup"><span data-stu-id="2a134-124">HTTP/S.</span></span> 
* <span data-ttu-id="2a134-125">FTP/S'DİR.</span><span class="sxs-lookup"><span data-stu-id="2a134-125">FTP/S.</span></span> 
* <span data-ttu-id="2a134-126">Web dağıtımı.</span><span class="sxs-lookup"><span data-stu-id="2a134-126">Web deployment.</span></span>
* <span data-ttu-id="2a134-127">Uzaktan hata ayıklama.</span><span class="sxs-lookup"><span data-stu-id="2a134-127">Remote debugging.</span></span>

![ILB ANA][2]

<span data-ttu-id="2a134-129">Bir ILB ana varsa, başlangıç IP adresi hello ILB HTTP/S, FTP/sn, web dağıtımı ve uzaktan hata ayıklama için hello uç noktadır.</span><span class="sxs-lookup"><span data-stu-id="2a134-129">If you have an ILB ASE, hello IP address of hello ILB is hello endpoint for HTTP/S, FTP/S, web deployment, and remote debugging.</span></span>

<span data-ttu-id="2a134-130">Merhaba normal uygulama erişim bağlantı noktaları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="2a134-130">hello normal app access ports are:</span></span>

| <span data-ttu-id="2a134-131">Kullanım</span><span class="sxs-lookup"><span data-stu-id="2a134-131">Use</span></span> | <span data-ttu-id="2a134-132">Kaynak</span><span class="sxs-lookup"><span data-stu-id="2a134-132">From</span></span> | <span data-ttu-id="2a134-133">çok</span><span class="sxs-lookup"><span data-stu-id="2a134-133">too</span></span>|
|----------|---------|-------------|
|  <span data-ttu-id="2a134-134">HTTP/HTTPS</span><span class="sxs-lookup"><span data-stu-id="2a134-134">HTTP/HTTPS</span></span>  | <span data-ttu-id="2a134-135">Kullanıcı tarafından yapılandırılabilir</span><span class="sxs-lookup"><span data-stu-id="2a134-135">User configurable</span></span> |  <span data-ttu-id="2a134-136">80, 443</span><span class="sxs-lookup"><span data-stu-id="2a134-136">80, 443</span></span> |
|  <span data-ttu-id="2a134-137">FTP/FTPS</span><span class="sxs-lookup"><span data-stu-id="2a134-137">FTP/FTPS</span></span>    | <span data-ttu-id="2a134-138">Kullanıcı tarafından yapılandırılabilir</span><span class="sxs-lookup"><span data-stu-id="2a134-138">User configurable</span></span> |  <span data-ttu-id="2a134-139">21, 990, 10001-10020</span><span class="sxs-lookup"><span data-stu-id="2a134-139">21, 990, 10001-10020</span></span> |
|  <span data-ttu-id="2a134-140">Visual Studio uzaktan hata ayıklama</span><span class="sxs-lookup"><span data-stu-id="2a134-140">Visual Studio remote debugging</span></span>  |  <span data-ttu-id="2a134-141">Kullanıcı tarafından yapılandırılabilir</span><span class="sxs-lookup"><span data-stu-id="2a134-141">User configurable</span></span> |  <span data-ttu-id="2a134-142">4016, 4018, 4020, 4022</span><span class="sxs-lookup"><span data-stu-id="2a134-142">4016, 4018, 4020, 4022</span></span> |

<span data-ttu-id="2a134-143">Bu, bir dış ana ya da bir ILB ana iseniz geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="2a134-143">This is true if you're on an External ASE or on an ILB ASE.</span></span> <span data-ttu-id="2a134-144">Bir dış ana üzerinde değilseniz, bu bağlantı noktalarına hello genel VIP ulaştı.</span><span class="sxs-lookup"><span data-stu-id="2a134-144">If you're on an External ASE, you hit those ports on hello public VIP.</span></span> <span data-ttu-id="2a134-145">Bir ILB ana değilseniz, bu bağlantı noktalarına hello ILB ulaştı.</span><span class="sxs-lookup"><span data-stu-id="2a134-145">If you're on an ILB ASE, you hit those ports on hello ILB.</span></span> <span data-ttu-id="2a134-146">Bağlantı noktası 443 kilitlemek hello portalda kullanıma bazı özellikler üzerinde bir etkisi olabilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-146">If you lock down port 443, there can be an effect on some features exposed in hello portal.</span></span> <span data-ttu-id="2a134-147">Daha fazla bilgi için bkz: [Portal bağımlılıkları](#portaldep).</span><span class="sxs-lookup"><span data-stu-id="2a134-147">For more information, see [Portal dependencies](#portaldep).</span></span>

## <a name="ase-dependencies"></a><span data-ttu-id="2a134-148">Ana bağımlılıkları</span><span class="sxs-lookup"><span data-stu-id="2a134-148">ASE dependencies</span></span> ##

<span data-ttu-id="2a134-149">Bir ana gelen erişim bağımlılık:</span><span class="sxs-lookup"><span data-stu-id="2a134-149">An ASE inbound access dependency is:</span></span>

| <span data-ttu-id="2a134-150">Kullanım</span><span class="sxs-lookup"><span data-stu-id="2a134-150">Use</span></span> | <span data-ttu-id="2a134-151">Kaynak</span><span class="sxs-lookup"><span data-stu-id="2a134-151">From</span></span> | <span data-ttu-id="2a134-152">çok</span><span class="sxs-lookup"><span data-stu-id="2a134-152">too</span></span>|
|-----|------|----|
| <span data-ttu-id="2a134-153">Yönetim</span><span class="sxs-lookup"><span data-stu-id="2a134-153">Management</span></span> | <span data-ttu-id="2a134-154">App Service management adresleri</span><span class="sxs-lookup"><span data-stu-id="2a134-154">App Service management addresses</span></span> | <span data-ttu-id="2a134-155">ANA alt: 454, 455</span><span class="sxs-lookup"><span data-stu-id="2a134-155">ASE subnet: 454, 455</span></span> |
|  <span data-ttu-id="2a134-156">ANA iç iletişim</span><span class="sxs-lookup"><span data-stu-id="2a134-156">ASE internal communication</span></span> | <span data-ttu-id="2a134-157">ANA alt: tüm bağlantı noktaları</span><span class="sxs-lookup"><span data-stu-id="2a134-157">ASE subnet: All ports</span></span> | <span data-ttu-id="2a134-158">ANA alt: tüm bağlantı noktaları</span><span class="sxs-lookup"><span data-stu-id="2a134-158">ASE subnet: All ports</span></span>
|  <span data-ttu-id="2a134-159">Azure yük dengeleyici izin gelen</span><span class="sxs-lookup"><span data-stu-id="2a134-159">Allow Azure load balancer inbound</span></span> | <span data-ttu-id="2a134-160">Azure yük dengeleyici</span><span class="sxs-lookup"><span data-stu-id="2a134-160">Azure load balancer</span></span> | <span data-ttu-id="2a134-161">ANA alt: tüm bağlantı noktaları</span><span class="sxs-lookup"><span data-stu-id="2a134-161">ASE subnet: All ports</span></span>
|  <span data-ttu-id="2a134-162">Uygulama atanmış IP adresleri</span><span class="sxs-lookup"><span data-stu-id="2a134-162">App assigned IP addresses</span></span> | <span data-ttu-id="2a134-163">Atanmış adresleri uygulama</span><span class="sxs-lookup"><span data-stu-id="2a134-163">App assigned addresses</span></span> | <span data-ttu-id="2a134-164">ANA alt: tüm bağlantı noktaları</span><span class="sxs-lookup"><span data-stu-id="2a134-164">ASE subnet: All ports</span></span>

<span data-ttu-id="2a134-165">Hello gelen trafiği komut ve toosystem ek izleme hello ana denetim sağlar.</span><span class="sxs-lookup"><span data-stu-id="2a134-165">hello inbound traffic provides command and control of hello ASE in addition toosystem monitoring.</span></span> <span data-ttu-id="2a134-166">Bu trafik için Hello kaynak IP'leri hello listelenen [adresleri ana Yönetimi] [ ASEManagement] belge.</span><span class="sxs-lookup"><span data-stu-id="2a134-166">hello source IPs for this traffic are listed in hello [ASE Management addresses][ASEManagement] document.</span></span> <span data-ttu-id="2a134-167">Merhaba ağ güvenliği yapılandırması 454 ve 455 bağlantı noktalarında tüm IP'ler tooallow erişimden gerekir.</span><span class="sxs-lookup"><span data-stu-id="2a134-167">hello network security configuration needs tooallow access from all IPs on ports 454 and 455.</span></span>

<span data-ttu-id="2a134-168">Vardır hello ana alt ağ içindeki birçok bağlantı noktası iç bileşeni iletişim için kullanılan ve değişiklik.</span><span class="sxs-lookup"><span data-stu-id="2a134-168">Within hello ASE subnet there are many ports used for internal component communication and they can change.</span></span>  <span data-ttu-id="2a134-169">Bu, tüm hello ana alt toobe hello ana alt ağdan erişilebilir hello bağlantı noktalarını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="2a134-169">This requires all of hello ports in hello ASE subnet toobe accessible from hello ASE subnet.</span></span> 

<span data-ttu-id="2a134-170">Bu gereksinim toobe açık hello Azure yük dengeleyici hello ana alt hello minimum bağlantı noktaları arasında hello iletişimi için 454 ve 455 16001 olan.</span><span class="sxs-lookup"><span data-stu-id="2a134-170">For hello communication between hello Azure load balancer and hello ASE subnet hello minimum ports that need toobe open are 454, 455 and 16001.</span></span> <span data-ttu-id="2a134-171">Merhaba 16001 bağlantı noktası hello yük dengeleyici ve hello ana arasındaki Koru canlı akış için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="2a134-171">hello 16001 port is used for keep alive traffic between hello load balancer and hello ASE.</span></span> <span data-ttu-id="2a134-172">Bir ILB ana kullanıyorsanız, trafik toojust hello 454, 455, 16001 bağlantı noktalarını aşağı kilitleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2a134-172">If you are using an ILB ASE then you can lock traffic down toojust hello 454, 455, 16001 ports.</span></span>  <span data-ttu-id="2a134-173">Daha sonra bir dış ana kullanıyorsanız, hesabı hello normal uygulama erişim bağlantı noktasına tootake gerekir.</span><span class="sxs-lookup"><span data-stu-id="2a134-173">If you are using an External ASE then you need tootake into account hello normal app access ports.</span></span>  <span data-ttu-id="2a134-174">Atanan uygulamayı adresleri kullanıyorsanız tooopen gerekir, tooall bağlantı noktaları.</span><span class="sxs-lookup"><span data-stu-id="2a134-174">If you are using app assigned addresses you need tooopen it tooall ports.</span></span>  <span data-ttu-id="2a134-175">Bir adresi tooa belirli uygulama atandığında, hello yük dengeleyici önceden toosend HTTP ve HTTPS trafiği toohello ana Bilinmeyen bağlantı noktalarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="2a134-175">When an address is assigned tooa specific app, then hello load balancer will use ports that are not known of in advance toosend HTTP and HTTPS traffic toohello ASE.</span></span>

<span data-ttu-id="2a134-176">Uygulama atanmış IP adresleri kullanıyorsanız tooyour uygulamaları toohello ana alt IP'leri atanan hello tooallow trafiğinden gerekir.</span><span class="sxs-lookup"><span data-stu-id="2a134-176">If you are using app assigned IP addresses you need tooallow traffic from hello IPs assigned tooyour apps toohello ASE subnet.</span></span>

<span data-ttu-id="2a134-177">Giden erişim için bir ana birden çok dış sistemlerde bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="2a134-177">For outbound access, an ASE depends on multiple external systems.</span></span> <span data-ttu-id="2a134-178">Bu sistem bağımlılıkları DNS adları ile tanımlanır ve IP adresleri kümesini sabit tooa eşleme yok.</span><span class="sxs-lookup"><span data-stu-id="2a134-178">Those system dependencies are defined with DNS names and don't map tooa fixed set of IP addresses.</span></span> <span data-ttu-id="2a134-179">Bu nedenle, hello ana hello ana alt tooall giden erişim gerektiren çeşitli bağlantı noktaları üzerinden dış IP.</span><span class="sxs-lookup"><span data-stu-id="2a134-179">Thus, hello ASE requires outbound access from hello ASE subnet tooall external IPs across a variety of ports.</span></span> <span data-ttu-id="2a134-180">Bir ana giden bağımlılıklar aşağıdaki hello sahiptir:</span><span class="sxs-lookup"><span data-stu-id="2a134-180">An ASE has hello following outbound dependencies:</span></span>

| <span data-ttu-id="2a134-181">Kullanım</span><span class="sxs-lookup"><span data-stu-id="2a134-181">Use</span></span> | <span data-ttu-id="2a134-182">Kaynak</span><span class="sxs-lookup"><span data-stu-id="2a134-182">From</span></span> | <span data-ttu-id="2a134-183">çok</span><span class="sxs-lookup"><span data-stu-id="2a134-183">too</span></span>|
|-----|------|----|
| <span data-ttu-id="2a134-184">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="2a134-184">Azure Storage</span></span> | <span data-ttu-id="2a134-185">ANA alt ağ</span><span class="sxs-lookup"><span data-stu-id="2a134-185">ASE subnet</span></span> | <span data-ttu-id="2a134-186">Table.Core.Windows.NET, blob.core.windows.net, queue.core.windows.net, file.core.windows.net: 80, 443, 445 (445 yalnızca gereklidir ASEv1 için.)</span><span class="sxs-lookup"><span data-stu-id="2a134-186">table.core.windows.net, blob.core.windows.net, queue.core.windows.net, file.core.windows.net: 80, 443, 445 (445 is only needed for ASEv1.)</span></span> |
| <span data-ttu-id="2a134-187">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="2a134-187">Azure SQL Database</span></span> | <span data-ttu-id="2a134-188">ANA alt ağ</span><span class="sxs-lookup"><span data-stu-id="2a134-188">ASE subnet</span></span> | <span data-ttu-id="2a134-189">Database.Windows.NET: 1433 11000 11999, 14000 14999 (daha fazla bilgi için bkz: [SQL Database V12 bağlantı noktası kullanımı](../../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).)</span><span class="sxs-lookup"><span data-stu-id="2a134-189">database.windows.net: 1433, 11000-11999, 14000-14999 (For more information, see [SQL Database V12 port usage](../../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).)</span></span>|
| <span data-ttu-id="2a134-190">Azure Yönetimi</span><span class="sxs-lookup"><span data-stu-id="2a134-190">Azure management</span></span> | <span data-ttu-id="2a134-191">ANA alt ağ</span><span class="sxs-lookup"><span data-stu-id="2a134-191">ASE subnet</span></span> | <span data-ttu-id="2a134-192">Management.Core.Windows.NET, management.azure.com: 443</span><span class="sxs-lookup"><span data-stu-id="2a134-192">management.core.windows.net, management.azure.com: 443</span></span> 
| <span data-ttu-id="2a134-193">SSL sertifika doğrulama</span><span class="sxs-lookup"><span data-stu-id="2a134-193">SSL certificate verification</span></span> |  <span data-ttu-id="2a134-194">ANA alt ağ</span><span class="sxs-lookup"><span data-stu-id="2a134-194">ASE subnet</span></span>            |  <span data-ttu-id="2a134-195">OCSP.msocsp.com, mscrl.microsoft.com, crl.microsoft.com: 443</span><span class="sxs-lookup"><span data-stu-id="2a134-195">ocsp.msocsp.com, mscrl.microsoft.com, crl.microsoft.com: 443</span></span>
| <span data-ttu-id="2a134-196">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="2a134-196">Azure Active Directory</span></span>        | <span data-ttu-id="2a134-197">ANA alt ağ</span><span class="sxs-lookup"><span data-stu-id="2a134-197">ASE subnet</span></span>            |  <span data-ttu-id="2a134-198">Internet: 443</span><span class="sxs-lookup"><span data-stu-id="2a134-198">Internet: 443</span></span>
| <span data-ttu-id="2a134-199">Uygulama Hizmeti Yönetimi</span><span class="sxs-lookup"><span data-stu-id="2a134-199">App Service management</span></span>        | <span data-ttu-id="2a134-200">ANA alt ağ</span><span class="sxs-lookup"><span data-stu-id="2a134-200">ASE subnet</span></span>            |  <span data-ttu-id="2a134-201">Internet: 443</span><span class="sxs-lookup"><span data-stu-id="2a134-201">Internet: 443</span></span>
| <span data-ttu-id="2a134-202">Azure DNS</span><span class="sxs-lookup"><span data-stu-id="2a134-202">Azure DNS</span></span>                     | <span data-ttu-id="2a134-203">ANA alt ağ</span><span class="sxs-lookup"><span data-stu-id="2a134-203">ASE subnet</span></span>            |  <span data-ttu-id="2a134-204">Internet: 53</span><span class="sxs-lookup"><span data-stu-id="2a134-204">Internet: 53</span></span>
| <span data-ttu-id="2a134-205">ANA iç iletişim</span><span class="sxs-lookup"><span data-stu-id="2a134-205">ASE internal communication</span></span>    | <span data-ttu-id="2a134-206">ANA alt: tüm bağlantı noktaları</span><span class="sxs-lookup"><span data-stu-id="2a134-206">ASE subnet: All ports</span></span> |  <span data-ttu-id="2a134-207">ANA alt: tüm bağlantı noktaları</span><span class="sxs-lookup"><span data-stu-id="2a134-207">ASE subnet: All ports</span></span>

<span data-ttu-id="2a134-208">Merhaba ana toothese bağımlılıkları erişimi kaybederse, çalışmayı durdurur.</span><span class="sxs-lookup"><span data-stu-id="2a134-208">If hello ASE loses access toothese dependencies, it stops working.</span></span> <span data-ttu-id="2a134-209">Ana hello uzun yeterli, durumda, askıya alınmış durumda.</span><span class="sxs-lookup"><span data-stu-id="2a134-209">When that happens long enough, hello ASE is suspended.</span></span>

### <a name="customer-dns"></a><span data-ttu-id="2a134-210">Müşteri DNS</span><span class="sxs-lookup"><span data-stu-id="2a134-210">Customer DNS</span></span> ###

<span data-ttu-id="2a134-211">Merhaba VNet müşteri tanımlı bir DNS sunucusu ile yapılandırılmışsa, hello Kiracı İş yükleri bunu kullanın.</span><span class="sxs-lookup"><span data-stu-id="2a134-211">If hello VNet is configured with a customer-defined DNS server, hello tenant workloads use it.</span></span> <span data-ttu-id="2a134-212">Merhaba ana hala yönetim amacıyla Azure DNS ile toocommunicate gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="2a134-212">hello ASE still needs toocommunicate with Azure DNS for management purposes.</span></span> 

<span data-ttu-id="2a134-213">Merhaba VNet müşteriyle DNS üzerinde yapılandırılmışsa, VPN diğer tarafını Merhaba, hello DNS sunucusu hello ana içeren hello alt ağ üzerinden erişilebilir olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="2a134-213">If hello VNet is configured with a customer DNS on hello other side of a VPN, hello DNS server must be reachable from hello subnet that contains hello ASE.</span></span>

<a name="portaldep"></a>

## <a name="portal-dependencies"></a><span data-ttu-id="2a134-214">Portal bağımlılıkları</span><span class="sxs-lookup"><span data-stu-id="2a134-214">Portal dependencies</span></span> ##

<span data-ttu-id="2a134-215">Toplama toohello ana işlevsel bağımlılıkları, birkaç ek öğeler ilgili toohello portal deneyimi vardır.</span><span class="sxs-lookup"><span data-stu-id="2a134-215">In addition toohello ASE functional dependencies, there are a few extra items related toohello portal experience.</span></span> <span data-ttu-id="2a134-216">Hello Azure Portalı'nda hello özelliklerden bazıları üzerinde doğrudan erişim too_SCM site_ bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="2a134-216">Some of hello capabilities in hello Azure portal depend on direct access too_SCM site_.</span></span> <span data-ttu-id="2a134-217">Azure App Service'te her uygulama için iki URL'leri vardır.</span><span class="sxs-lookup"><span data-stu-id="2a134-217">For every app in Azure App Service, there are two URLs.</span></span> <span data-ttu-id="2a134-218">Merhaba ilk URL uygulamanızı tooaccess değil.</span><span class="sxs-lookup"><span data-stu-id="2a134-218">hello first URL is tooaccess your app.</span></span> <span data-ttu-id="2a134-219">Merhaba ikinci hello olarak da bilinir tooaccess hello SCM site URL'dir _Kudu konsol_.</span><span class="sxs-lookup"><span data-stu-id="2a134-219">hello second URL is tooaccess hello SCM site, which is also called hello _Kudu console_.</span></span> <span data-ttu-id="2a134-220">Merhaba SCM site kullanan özellikler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="2a134-220">Features that use hello SCM site include:</span></span>

-   <span data-ttu-id="2a134-221">Web işleri</span><span class="sxs-lookup"><span data-stu-id="2a134-221">Web jobs</span></span>
-   <span data-ttu-id="2a134-222">İşlevler</span><span class="sxs-lookup"><span data-stu-id="2a134-222">Functions</span></span>
-   <span data-ttu-id="2a134-223">Akış günlüğü</span><span class="sxs-lookup"><span data-stu-id="2a134-223">Log streaming</span></span>
-   <span data-ttu-id="2a134-224">Kudu</span><span class="sxs-lookup"><span data-stu-id="2a134-224">Kudu</span></span>
-   <span data-ttu-id="2a134-225">Uzantılar</span><span class="sxs-lookup"><span data-stu-id="2a134-225">Extensions</span></span>
-   <span data-ttu-id="2a134-226">İşlem Gezgini</span><span class="sxs-lookup"><span data-stu-id="2a134-226">Process Explorer</span></span>
-   <span data-ttu-id="2a134-227">Konsol</span><span class="sxs-lookup"><span data-stu-id="2a134-227">Console</span></span>

<span data-ttu-id="2a134-228">Bir ILB ana kullandığınızda, hello SCM site Internet VNet hello dışında erişilebilir değildir.</span><span class="sxs-lookup"><span data-stu-id="2a134-228">When you use an ILB ASE, hello SCM site isn't internet accessible from outside hello VNet.</span></span> <span data-ttu-id="2a134-229">Uygulamanızı bir ILB ana barındırıldığında, bazı özellikleri hello portalından çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="2a134-229">When your app is hosted on an ILB ASE, some capabilities will not work from hello portal.</span></span>  

<span data-ttu-id="2a134-230">Birçok hello SCM site bağımlı bu yetenekleri de doğrudan hello Kudu konsolunda kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-230">Many of those capabilities that depend upon hello SCM site are also available directly in hello Kudu console.</span></span> <span data-ttu-id="2a134-231">Tooit yerine doğrudan hello portalını kullanarak bağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-231">You can connect tooit directly rather than by using hello portal.</span></span> <span data-ttu-id="2a134-232">Uygulamanızı ILB ASE'de barındırılıyorsa, yayımlama kimlik bilgileri toosign kullanın.</span><span class="sxs-lookup"><span data-stu-id="2a134-232">If your app is hosted in an ILB ASE, use your publishing credentials toosign in.</span></span> <span data-ttu-id="2a134-233">Merhaba URL tooaccess hello SCM site ILB ASE'de barındırılan bir uygulamanın biçimini izleyen hello sahiptir:</span><span class="sxs-lookup"><span data-stu-id="2a134-233">hello URL tooaccess hello SCM site of an app hosted in an ILB ASE has hello following format:</span></span> 

```
<appname>.scm.<domain name hello ILB ASE was created with> 
```

<span data-ttu-id="2a134-234">ILB ana hello etki alanı adı ise *contoso.net* ve uygulama adınız *testapp*, hello uygulama adresindeki ulaşıldığında *testapp.contoso.net*.</span><span class="sxs-lookup"><span data-stu-id="2a134-234">If your ILB ASE is hello domain name *contoso.net* and your app name is *testapp*, hello app is reached at *testapp.contoso.net*.</span></span> <span data-ttu-id="2a134-235">ile gidiyor hello SCM site adresindeki ulaşıldığında *testapp.scm.contoso.net*.</span><span class="sxs-lookup"><span data-stu-id="2a134-235">hello SCM site that goes with it is reached at *testapp.scm.contoso.net*.</span></span>

### <a name="functions-and-web-jobs"></a><span data-ttu-id="2a134-236">İşlevler ve Web işleri</span><span class="sxs-lookup"><span data-stu-id="2a134-236">Functions and Web jobs</span></span> ###

<span data-ttu-id="2a134-237">İşlevler ve Web işleri hello SCM siteye bağımlı olan ancak tarayıcınız hello SCM site ulaşabilir sürece, uygulamalarınızı ILB ASE'de olsa bile hello portalı kullanmak için desteklenir.</span><span class="sxs-lookup"><span data-stu-id="2a134-237">Both Functions and Web jobs depend on hello SCM site but are supported for use in hello portal, even if your apps are in an ILB ASE, so long as your browser can reach hello SCM site.</span></span>  <span data-ttu-id="2a134-238">İle ILB ana kendinden imzalı bir sertifika kullanıyorsanız, sertifika, tarayıcı tootrust tooenable gerekir.</span><span class="sxs-lookup"><span data-stu-id="2a134-238">If you are using a self-signed certificate with your ILB ASE, you will need tooenable your browser tootrust that certificate.</span></span>  <span data-ttu-id="2a134-239">IE ve hello sertifika anlamına gelir kenar depolamak toobe hello bilgisayar güvende sahiptir.</span><span class="sxs-lookup"><span data-stu-id="2a134-239">For IE and Edge that means hello certificate has toobe in hello computer trust store.</span></span>  <span data-ttu-id="2a134-240">Merhaba sertifika hello tarayıcıda önceki büyük olasılıkla hello scm site doğrudan basarsa tarafından kabul ettiğiniz anlamına gelir sonra Chrome kullanıyorsanız.</span><span class="sxs-lookup"><span data-stu-id="2a134-240">If you are using Chrome then that means you accepted hello certificate in hello browser earlier by presumably hitting hello scm site directly.</span></span>  <span data-ttu-id="2a134-241">Merhaba en iyi toouse hello tarayıcı zincirindeki güven bir ticari sertifikası çözümüdür.</span><span class="sxs-lookup"><span data-stu-id="2a134-241">hello best solution is toouse a commercial certificate that is in hello browser chain of trust.</span></span>  

## <a name="ase-ip-addresses"></a><span data-ttu-id="2a134-242">ANA IP adresleri</span><span class="sxs-lookup"><span data-stu-id="2a134-242">ASE IP addresses</span></span> ##

<span data-ttu-id="2a134-243">Bir ana birkaç IP adreslerini toobe farkında sahiptir.</span><span class="sxs-lookup"><span data-stu-id="2a134-243">An ASE has a few IP addresses toobe aware of.</span></span> <span data-ttu-id="2a134-244">Bunlar:</span><span class="sxs-lookup"><span data-stu-id="2a134-244">They are:</span></span>

- <span data-ttu-id="2a134-245">**Gelen ortak IP adresi**: bir dış ana uygulama trafiği ve bir dış ana ve bir ILB ana yönetim trafiği için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="2a134-245">**Public inbound IP address**: Used for app traffic in an External ASE, and management traffic in both an External ASE and an ILB ASE.</span></span>
- <span data-ttu-id="2a134-246">**Giden genel IP**: IP "Kimden" Merhaba ana giden bağlantılar için bu bırakın hello VNet, hangi VPN yönlendirilen olmayan hello olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="2a134-246">**Outbound public IP**: Used as hello "from" IP for outbound connections from hello ASE that leave hello VNet, which aren't routed down a VPN.</span></span>
- <span data-ttu-id="2a134-247">**ILB IP adresi**: bir ILB ana kullanıyorsanız.</span><span class="sxs-lookup"><span data-stu-id="2a134-247">**ILB IP address**: If you use an ILB ASE.</span></span>
- <span data-ttu-id="2a134-248">**Uygulama tarafından atanan IP tabanlı SSL adresleri**: bir dış ana ve IP tabanlı SSL yapılandırıldığında mümkün.</span><span class="sxs-lookup"><span data-stu-id="2a134-248">**App-assigned IP-based SSL addresses**: Only possible with an External ASE and when IP-based SSL is configured.</span></span>

<span data-ttu-id="2a134-249">Bu IP adreslerine hello ana UI ' kolayca bir ASEv2 hello Azure portal'ın içinde görülebilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-249">All these IP addresses are easily visible in an ASEv2 in hello Azure portal from hello ASE UI.</span></span> <span data-ttu-id="2a134-250">Bir ILB ana varsa, hello IP hello ILB için listelenir.</span><span class="sxs-lookup"><span data-stu-id="2a134-250">If you have an ILB ASE, hello IP for hello ILB is listed.</span></span>

![IP adresleri][3]

### <a name="app-assigned-ip-addresses"></a><span data-ttu-id="2a134-252">Uygulama tarafından atanan IP adresleri</span><span class="sxs-lookup"><span data-stu-id="2a134-252">App-assigned IP addresses</span></span> ###

<span data-ttu-id="2a134-253">Bir dış ana ile tooindividual uygulamalar IP adresleri atayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2a134-253">With an External ASE, you can assign IP addresses tooindividual apps.</span></span> <span data-ttu-id="2a134-254">Bir ILB ana ile yapamazsınız.</span><span class="sxs-lookup"><span data-stu-id="2a134-254">You can't do that with an ILB ASE.</span></span> <span data-ttu-id="2a134-255">Hakkında daha fazla bilgi için tooconfigure uygulama toohave kendi IP adresini bakın [bir var olan özel SSL sertifikası tooAzure web uygulamaları bağlamak](../../app-service-web/app-service-web-tutorial-custom-ssl.md).</span><span class="sxs-lookup"><span data-stu-id="2a134-255">For more information on how tooconfigure your app toohave its own IP address, see [Bind an existing custom SSL certificate tooAzure web apps](../../app-service-web/app-service-web-tutorial-custom-ssl.md).</span></span>

<span data-ttu-id="2a134-256">Uygulama kendi IP tabanlı SSL adresine sahipse, ana hello iki bağlantı noktaları toomap toothat IP adresi ayırır.</span><span class="sxs-lookup"><span data-stu-id="2a134-256">When an app has its own IP-based SSL address, hello ASE reserves two ports toomap toothat IP address.</span></span> <span data-ttu-id="2a134-257">Bir bağlantı noktası HTTP trafiği için ve hello diğer bağlantı noktası için HTTPS.</span><span class="sxs-lookup"><span data-stu-id="2a134-257">One port is for HTTP traffic, and hello other port is for HTTPS.</span></span> <span data-ttu-id="2a134-258">Bu bağlantı noktalarını hello ana UI hello IP adresleri bölümünde listelenir.</span><span class="sxs-lookup"><span data-stu-id="2a134-258">Those ports are listed in hello ASE UI in hello IP addresses section.</span></span> <span data-ttu-id="2a134-259">Trafiği, bu bağlantı noktalarından mümkün tooreach olmalıdır hello VIP veya hello uygulamalar erişilemez.</span><span class="sxs-lookup"><span data-stu-id="2a134-259">Traffic must be able tooreach those ports from hello VIP or hello apps are inaccessible.</span></span> <span data-ttu-id="2a134-260">Ağ güvenlik grupları (Nsg'ler) yapılandırdığınızda bu önemli tooremember gereksinimdir.</span><span class="sxs-lookup"><span data-stu-id="2a134-260">This requirement is important tooremember when you configure Network Security Groups (NSGs).</span></span>

## <a name="network-security-groups"></a><span data-ttu-id="2a134-261">Ağ Güvenlik Grupları</span><span class="sxs-lookup"><span data-stu-id="2a134-261">Network Security Groups</span></span> ##

<span data-ttu-id="2a134-262">[Ağ güvenlik grupları] [ NSGs] bir sanal ağ içindeki hello özelliği toocontrol ağ erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="2a134-262">[Network Security Groups][NSGs] provide hello ability toocontrol network access within a VNet.</span></span> <span data-ttu-id="2a134-263">Merhaba portal'ı kullanmanızı olduğunda örtülü reddetme kuralı en düşük öncelik toodeny hello her şeyi.</span><span class="sxs-lookup"><span data-stu-id="2a134-263">When you use hello portal, there's an implicit deny rule at hello lowest priority toodeny everything.</span></span> <span data-ttu-id="2a134-264">Derleme olan, kuralları izin verir.</span><span class="sxs-lookup"><span data-stu-id="2a134-264">What you build are your allow rules.</span></span>

<span data-ttu-id="2a134-265">ASE'de, erişim toohello kullanılan VM'ler toohost hello ana kendisini yok.</span><span class="sxs-lookup"><span data-stu-id="2a134-265">In an ASE, you don't have access toohello VMs used toohost hello ASE itself.</span></span> <span data-ttu-id="2a134-266">Bunlar, Microsoft tarafından yönetilen bir abonelikte demektir.</span><span class="sxs-lookup"><span data-stu-id="2a134-266">They're in a Microsoft-managed subscription.</span></span> <span data-ttu-id="2a134-267">Merhaba ana toorestrict erişim toohello uygulamaları istiyorsanız Nsg'ler hello ana alt ağda ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="2a134-267">If you want toorestrict access toohello apps on hello ASE, set NSGs on hello ASE subnet.</span></span> <span data-ttu-id="2a134-268">Bunu yaparken dikkatli toohello ana bağımlılıkları dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="2a134-268">In doing so, pay careful attention toohello ASE dependencies.</span></span> <span data-ttu-id="2a134-269">Bağımlılıkları engellerseniz hello ana çalışmayı durdurur.</span><span class="sxs-lookup"><span data-stu-id="2a134-269">If you block any dependencies, hello ASE stops working.</span></span>

<span data-ttu-id="2a134-270">Nsg'ler hello Azure portal veya PowerShell aracılığıyla yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-270">NSGs can be configured through hello Azure portal or via PowerShell.</span></span> <span data-ttu-id="2a134-271">Burada Hello bilgileri hello Azure portal gösterir.</span><span class="sxs-lookup"><span data-stu-id="2a134-271">hello information here shows hello Azure portal.</span></span> <span data-ttu-id="2a134-272">Oluşturma ve altında en üst düzey bir kaynak olarak hello Portalı'nda Nsg'ler yönetme **ağ**.</span><span class="sxs-lookup"><span data-stu-id="2a134-272">You create and manage NSGs in hello portal as a top-level resource under **Networking**.</span></span>

<span data-ttu-id="2a134-273">Merhaba gelen ve giden gereksinimlerini dikkate alınır, hello Nsg'ler Bu örnekte gösterilen benzer toohello Nsg'ler görünmelidir.</span><span class="sxs-lookup"><span data-stu-id="2a134-273">When hello inbound and outbound requirements are taken into account, hello NSGs should look similar toohello NSGs shown in this example.</span></span> <span data-ttu-id="2a134-274">Merhaba VNet adres aralığı olan _192.168.250.0/16_, ve hello ana bulunduğu hello alt _192.168.251.128/25_.</span><span class="sxs-lookup"><span data-stu-id="2a134-274">hello VNet address range is _192.168.250.0/16_, and hello subnet that hello ASE is in is _192.168.251.128/25_.</span></span>

<span data-ttu-id="2a134-275">Bu örnekte hello listesinin hello üstünde ilk iki gelen gereksinimleri hello ana toofunction Hello gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="2a134-275">hello first two inbound requirements for hello ASE toofunction are shown at hello top of hello list in this example.</span></span> <span data-ttu-id="2a134-276">Bunlar ana yönetim etkinleştirin ve hello ana toocommunicate kendisiyle verin.</span><span class="sxs-lookup"><span data-stu-id="2a134-276">They enable ASE management and allow hello ASE toocommunicate with itself.</span></span> <span data-ttu-id="2a134-277">Merhaba diğer girişler tüm Kiracı yapılandırılabilir ve ağ erişim toohello ana barındırılan uygulamalar yönetebilirler.</span><span class="sxs-lookup"><span data-stu-id="2a134-277">hello other entries are all tenant configurable and can govern network access toohello ASE-hosted applications.</span></span> 

![Gelen güvenlik kuralları][4]

<span data-ttu-id="2a134-279">Varsayılan kural hello IP'leri hello sanal tootalk toohello ana alt sağlar.</span><span class="sxs-lookup"><span data-stu-id="2a134-279">A default rule enables hello IPs in hello VNet tootalk toohello ASE subnet.</span></span> <span data-ttu-id="2a134-280">Başka bir varsayılan kural hello yük dengeleyici, olarak da bilinen hello genel VIP hello ana ile toocommunicate sağlar.</span><span class="sxs-lookup"><span data-stu-id="2a134-280">Another default rule enables hello load balancer, also known as hello public VIP, toocommunicate with hello ASE.</span></span> <span data-ttu-id="2a134-281">toosee hello varsayılan kuralları seçin **varsayılan kuralları** sonraki toohello **Ekle** simgesi.</span><span class="sxs-lookup"><span data-stu-id="2a134-281">toosee hello default rules, select **Default rules** next toohello **Add** icon.</span></span> <span data-ttu-id="2a134-282">Merhaba NSG gösterilen kuralları sonra şey kural reddetme yerleştirirseniz hello VIP ve hello ana arasındaki trafiği engeller.</span><span class="sxs-lookup"><span data-stu-id="2a134-282">If you put a deny everything else rule after hello NSG rules shown, you prevent traffic between hello VIP and hello ASE.</span></span> <span data-ttu-id="2a134-283">gelen tooprevent trafik Vnet'in hello içinde kendi kural tooallow ekleme gelen.</span><span class="sxs-lookup"><span data-stu-id="2a134-283">tooprevent traffic coming from inside hello VNet, add your own rule tooallow inbound.</span></span> <span data-ttu-id="2a134-284">Bir hedef kaynak eşit tooAzureLoadBalancer kullanmak **herhangi** ve bir bağlantı noktası aralığı  **\*** .</span><span class="sxs-lookup"><span data-stu-id="2a134-284">Use a source equal tooAzureLoadBalancer with a destination of **Any** and a port range of **\***.</span></span> <span data-ttu-id="2a134-285">Merhaba NSG kural uygulanan toohello ana alt ağı olduğundan, toobe özel hello hedef gerekmez.</span><span class="sxs-lookup"><span data-stu-id="2a134-285">Because hello NSG rule is applied toohello ASE subnet, you don't need toobe specific in hello destination.</span></span>

<span data-ttu-id="2a134-286">Bir IP adresi tooyour uygulama atanmışsa, bağlantı noktalarını açmak hello tutmak emin olun.</span><span class="sxs-lookup"><span data-stu-id="2a134-286">If you assigned an IP address tooyour app, make sure you keep hello ports open.</span></span> <span data-ttu-id="2a134-287">toosee hello bağlantı noktalarını seçin **uygulama hizmeti ortamı** > **IP adreslerini**.</span><span class="sxs-lookup"><span data-stu-id="2a134-287">toosee hello ports, select **App Service Environment** > **IP addresses**.</span></span>  

<span data-ttu-id="2a134-288">Giden Kuralları aşağıdaki hello gösterilen tüm hello öğeler hello son öğenin dışında gereklidir.</span><span class="sxs-lookup"><span data-stu-id="2a134-288">All hello items shown in hello following outbound rules are needed, except for hello last item.</span></span> <span data-ttu-id="2a134-289">Bunlar, bu makalenin önceki bölümlerinde belirtilenlerle ağ erişim toohello ana bağımlılıkları etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="2a134-289">They enable network access toohello ASE dependencies that were noted earlier in this article.</span></span> <span data-ttu-id="2a134-290">Bunlardan herhangi birinin engellerseniz, ana çalışmayı durdurur.</span><span class="sxs-lookup"><span data-stu-id="2a134-290">If you block any of them, your ASE stops working.</span></span> <span data-ttu-id="2a134-291">Merhaba listesindeki son öğeyi Merhaba, ana toocommunicate kullanarak sanal ağınızdaki diğer kaynaklarla sağlar.</span><span class="sxs-lookup"><span data-stu-id="2a134-291">hello last item in hello list enables your ASE toocommunicate with other resources in your VNet.</span></span>

![Giden güvenlik kuralları][5]

<span data-ttu-id="2a134-293">Nsg'lerinizi tanımlandıktan sonra bunları, ana açıktır toohello alt atayın.</span><span class="sxs-lookup"><span data-stu-id="2a134-293">After your NSGs are defined, assign them toohello subnet that your ASE is on.</span></span> <span data-ttu-id="2a134-294">Merhaba ana sanal ağ veya alt ağ hatırlamıyorsanız hello ana Yönetim Portalı'ndan görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2a134-294">If you don’t remember hello ASE VNet or subnet, you can see it from hello ASE management portal.</span></span> <span data-ttu-id="2a134-295">tooassign NSG tooyour alt Merhaba, toohello alt UI gidin ve hello NSG seçin.</span><span class="sxs-lookup"><span data-stu-id="2a134-295">tooassign hello NSG tooyour subnet, go toohello subnet UI and select hello NSG.</span></span>

## <a name="routes"></a><span data-ttu-id="2a134-296">Yollar</span><span class="sxs-lookup"><span data-stu-id="2a134-296">Routes</span></span> ##

<span data-ttu-id="2a134-297">Azure ExpressRoute ile ağınızı yapılandırırken yollara en yaygın olarak sorunlu dönüşür.</span><span class="sxs-lookup"><span data-stu-id="2a134-297">Routes become problematic most commonly when you configure your VNet with Azure ExpressRoute.</span></span> <span data-ttu-id="2a134-298">Üç türde bir sanal ağda yollar vardır:</span><span class="sxs-lookup"><span data-stu-id="2a134-298">There are three types of routes in a VNet:</span></span>

-   <span data-ttu-id="2a134-299">Sistem yolları</span><span class="sxs-lookup"><span data-stu-id="2a134-299">System routes</span></span>
-   <span data-ttu-id="2a134-300">BGP yolları</span><span class="sxs-lookup"><span data-stu-id="2a134-300">BGP routes</span></span>
-   <span data-ttu-id="2a134-301">Kullanıcı tanımlı yollar (Udr'ler)</span><span class="sxs-lookup"><span data-stu-id="2a134-301">User-defined routes (UDRs)</span></span>

<span data-ttu-id="2a134-302">BGP yolları sistem yolları geçersiz kılar.</span><span class="sxs-lookup"><span data-stu-id="2a134-302">BGP routes override system routes.</span></span> <span data-ttu-id="2a134-303">BGP yolları Udr'ler geçersiz.</span><span class="sxs-lookup"><span data-stu-id="2a134-303">UDRs override BGP routes.</span></span> <span data-ttu-id="2a134-304">Azure sanal ağlar yollar hakkında daha fazla bilgi için bkz: [kullanıcı tanımlı yollar genel bakış][UDRs].</span><span class="sxs-lookup"><span data-stu-id="2a134-304">For more information about routes in Azure virtual networks, see [User-defined routes overview][UDRs].</span></span>

<span data-ttu-id="2a134-305">Hello ana toomanage hello sistem kullandığını hello Azure SQL veritabanı güvenlik duvarı vardır.</span><span class="sxs-lookup"><span data-stu-id="2a134-305">hello Azure SQL database that hello ASE uses toomanage hello system has a firewall.</span></span> <span data-ttu-id="2a134-306">Merhaba ana genel VIP gelen iletişimi toooriginate gerektirir.</span><span class="sxs-lookup"><span data-stu-id="2a134-306">It requires communication toooriginate from hello ASE public VIP.</span></span> <span data-ttu-id="2a134-307">Merhaba ExpressRoute bağlantısı aşağı ve başka bir IP adresi çıkış gönderilirse bağlantıları toohello SQL hello ana veritabanından reddedilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-307">Connections toohello SQL database from hello ASE will be denied if they are sent down hello ExpressRoute connection and out another IP address.</span></span>

<span data-ttu-id="2a134-308">ExpressRoute hello yanıtları tooincoming yönetim isteği gönderirse hello yanıt adresi hello özgün hedef farklıdır.</span><span class="sxs-lookup"><span data-stu-id="2a134-308">If replies tooincoming management requests are sent down hello ExpressRoute, hello reply address is different than hello original destination.</span></span> <span data-ttu-id="2a134-309">Bu uyuşmazlık hello TCP iletişimi keser.</span><span class="sxs-lookup"><span data-stu-id="2a134-309">This mismatch breaks hello TCP communication.</span></span>

<span data-ttu-id="2a134-310">Sanal ağınızı bir ExpressRoute ile yapılandırılırken, ana toowork için hello kolay şey toodo şöyledir:</span><span class="sxs-lookup"><span data-stu-id="2a134-310">For your ASE toowork while your VNet is configured with an ExpressRoute, hello easiest thing toodo is:</span></span>

-   <span data-ttu-id="2a134-311">ExpressRoute tooadvertise yapılandırma _0.0.0.0/0_.</span><span class="sxs-lookup"><span data-stu-id="2a134-311">Configure ExpressRoute tooadvertise _0.0.0.0/0_.</span></span> <span data-ttu-id="2a134-312">Varsayılan olarak, zorla tünel giden tüm trafiği şirket içi.</span><span class="sxs-lookup"><span data-stu-id="2a134-312">By default, it force tunnels all outbound traffic on-premises.</span></span>
-   <span data-ttu-id="2a134-313">Bir UDR oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2a134-313">Create a UDR.</span></span> <span data-ttu-id="2a134-314">Bir adres öneki ile Merhaba ana içeren toohello alt ağ geçerli _0.0.0.0/0_ ve bir sonraki atlama türü _Internet_.</span><span class="sxs-lookup"><span data-stu-id="2a134-314">Apply it toohello subnet that contains hello ASE with an address prefix of _0.0.0.0/0_ and a next hop type of _Internet_.</span></span>

<span data-ttu-id="2a134-315">Bu iki değişiklik yaparsanız, hello ana alt ağdan kaynaklanan Internet hedefleyen trafiğe works hello ExpressRoute ve hello ana aşağı zorlanmaz.</span><span class="sxs-lookup"><span data-stu-id="2a134-315">If you make these two changes, internet-destined traffic that originates from hello ASE subnet isn't forced down hello ExpressRoute and hello ASE works.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="2a134-316">bir UDR tanımlanan hello rotalar yeterince spesifik tootake öncelik hello ExpressRoute yapılandırma tarafından tanıtılan yollar üzerinde olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="2a134-316">hello routes defined in a UDR must be specific enough tootake precedence over any routes advertised by hello ExpressRoute configuration.</span></span> <span data-ttu-id="2a134-317">Merhaba önceki örnekte hello geniş 0.0.0.0/0 adres aralığını kullanır.</span><span class="sxs-lookup"><span data-stu-id="2a134-317">hello preceding example uses hello broad 0.0.0.0/0 address range.</span></span> <span data-ttu-id="2a134-318">Bu büyük olasılıkla yanlışlıkla daha belirli adres aralıkları Yol tanıtımlarını tarafından geçersiz kılınabilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-318">It can potentially be accidentally overridden by route advertisements that use more specific address ranges.</span></span>
>
> <span data-ttu-id="2a134-319">ASEs yolundan hello ortak eşleme yolu toohello özel eşliği yollarını arası tanıtmanız ExpressRoute yapılandırmalarla desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="2a134-319">ASEs aren't supported with ExpressRoute configurations that cross-advertise routes from hello public-peering path toohello private-peering path.</span></span> <span data-ttu-id="2a134-320">Microsoft'tan Yol tanıtımlarını ilgili yapılandırılmış ortak eşleme ile ExpressRoute yapılandırmaları.</span><span class="sxs-lookup"><span data-stu-id="2a134-320">ExpressRoute configurations with public peering configured receive route advertisements from Microsoft.</span></span> <span data-ttu-id="2a134-321">Merhaba reklam çok sayıda Microsoft Azure IP adres aralıklarını içerir.</span><span class="sxs-lookup"><span data-stu-id="2a134-321">hello advertisements contain a large set of Microsoft Azure IP address ranges.</span></span> <span data-ttu-id="2a134-322">Merhaba özel eşliği yolda arası tanıtılan Hello adres aralıkları, tüm giden ağ paketlerinin hello ana'nın alt ağdan zorlamalı tünel tooa müşterinin şirket içi ağ altyapısı demektir.</span><span class="sxs-lookup"><span data-stu-id="2a134-322">If hello address ranges are cross-advertised on hello private-peering path, all outbound network packets from hello ASE's subnet are force tunneled tooa customer's on-premises network infrastructure.</span></span> <span data-ttu-id="2a134-323">Bu ağ akışı ASEs ile şu anda desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="2a134-323">This network flow is currently not supported with ASEs.</span></span> <span data-ttu-id="2a134-324">Bir çözüm toothis hello ortak eşleme yolu toohello özel eşliği yolu toostop arası reklam yolları sorunudur.</span><span class="sxs-lookup"><span data-stu-id="2a134-324">One solution toothis problem is toostop cross-advertising routes from hello public-peering path toohello private-peering path.</span></span>

<span data-ttu-id="2a134-325">toocreate bir UDR şu adımları izleyin:</span><span class="sxs-lookup"><span data-stu-id="2a134-325">toocreate a UDR, follow these steps:</span></span>

1. <span data-ttu-id="2a134-326">Toohello Azure portalına gidin.</span><span class="sxs-lookup"><span data-stu-id="2a134-326">Go toohello Azure portal.</span></span> <span data-ttu-id="2a134-327">Seçin **ağ** > **yol tablosu**.</span><span class="sxs-lookup"><span data-stu-id="2a134-327">Select **Networking** > **Route Tables**.</span></span>

2. <span data-ttu-id="2a134-328">Hello yeni bir yol tablosu oluşturmanız sanal ağınızı aynı bölgede.</span><span class="sxs-lookup"><span data-stu-id="2a134-328">Create a new route table in hello same region as your VNet.</span></span>

3. <span data-ttu-id="2a134-329">Kullanıcı Arabirimi, rota tablosu içindeki seçin **yollar** > **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="2a134-329">From within your route table UI, select **Routes** > **Add**.</span></span>

4. <span data-ttu-id="2a134-330">Set hello **sonraki atlama türü** çok**Internet** ve hello **adres ön eki** çok**0.0.0.0/0**.</span><span class="sxs-lookup"><span data-stu-id="2a134-330">Set hello **Next hop type** too**Internet** and hello **Address prefix** too**0.0.0.0/0**.</span></span> <span data-ttu-id="2a134-331">**Kaydet**’i seçin.</span><span class="sxs-lookup"><span data-stu-id="2a134-331">Select **Save**.</span></span>

    <span data-ttu-id="2a134-332">Ardından hello aşağıdaki gibi bir şey görürsünüz:</span><span class="sxs-lookup"><span data-stu-id="2a134-332">You then see something like hello following:</span></span>

    ![İşlev yolları][6]

5. <span data-ttu-id="2a134-334">Merhaba yeni yol tablosu oluşturduktan sonra ana içeren toohello alt gidin.</span><span class="sxs-lookup"><span data-stu-id="2a134-334">After you create hello new route table, go toohello subnet that contains your ASE.</span></span> <span data-ttu-id="2a134-335">Yol tablosu hello portalında hello listeden seçin.</span><span class="sxs-lookup"><span data-stu-id="2a134-335">Select your route table from hello list in hello portal.</span></span> <span data-ttu-id="2a134-336">Merhaba değişiklik kaydettikten sonra hello Nsg'ler ve yolları, alt ağ ile belirtildiği sonra görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="2a134-336">After you save hello change, you should then see hello NSGs and routes noted with your subnet.</span></span>

    ![Nsg'ler ve yolları][7]

### <a name="deploy-into-existing-azure-virtual-networks-that-are-integrated-with-expressroute"></a><span data-ttu-id="2a134-338">ExpressRoute ile tümleşik olan Azure sanal ağlarda dağıtma</span><span class="sxs-lookup"><span data-stu-id="2a134-338">Deploy into existing Azure virtual networks that are integrated with ExpressRoute</span></span> ###

<span data-ttu-id="2a134-339">toodeploy, ana ExpressRoute ile tümleşik bir VNet içine önceden dağıtılan hello ana istediğiniz hello alt ağ.</span><span class="sxs-lookup"><span data-stu-id="2a134-339">toodeploy your ASE into a VNet that's integrated with ExpressRoute, preconfigure hello subnet where you want hello ASE deployed.</span></span> <span data-ttu-id="2a134-340">Resource Manager şablonu toodeploy kullanın.</span><span class="sxs-lookup"><span data-stu-id="2a134-340">Then use a Resource Manager template toodeploy it.</span></span> <span data-ttu-id="2a134-341">toocreate bir ana sanal ağda zaten yapılandırılmış ExpressRoute sahiptir:</span><span class="sxs-lookup"><span data-stu-id="2a134-341">toocreate an ASE in a VNet that already has ExpressRoute configured:</span></span>

- <span data-ttu-id="2a134-342">Bir alt ağ toohost hello ana oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2a134-342">Create a subnet toohost hello ASE.</span></span>

    > [!NOTE]
    > <span data-ttu-id="2a134-343">Hiçbir şey hello alt ancak hello ana olabilir.</span><span class="sxs-lookup"><span data-stu-id="2a134-343">Nothing else can be in hello subnet but hello ASE.</span></span> <span data-ttu-id="2a134-344">Emin toochoose Gelecekteki büyümeyi de izin veren bir adres alanı olması.</span><span class="sxs-lookup"><span data-stu-id="2a134-344">Be sure toochoose an address space that allows for future growth.</span></span> <span data-ttu-id="2a134-345">Bu ayarı daha sonra değiştiremezsiniz.</span><span class="sxs-lookup"><span data-stu-id="2a134-345">You can't change this setting later.</span></span> <span data-ttu-id="2a134-346">Dosya boyutu öneririz `/25` 128 adreslerine sahip.</span><span class="sxs-lookup"><span data-stu-id="2a134-346">We recommend a size of `/25` with 128 addresses.</span></span>

- <span data-ttu-id="2a134-347">Daha önce açıklandığı gibi Udr'ler (örneğin, yol tablolarını) oluşturun ve hello alt ağda ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="2a134-347">Create UDRs (for example, route tables) as described earlier, and set that on hello subnet.</span></span>
- <span data-ttu-id="2a134-348">Hello ana açıklandığı gibi bir Resource Manager şablonunu kullanarak oluşturduğunuz [Resource Manager şablonu kullanarak bir ana oluşturma][MakeASEfromTemplate].</span><span class="sxs-lookup"><span data-stu-id="2a134-348">Create hello ASE by using a Resource Manager template as described in [Create an ASE by using a Resource Manager template][MakeASEfromTemplate].</span></span>

<!--Image references-->
[1]: ./media/network_considerations_with_an_app_service_environment/networkase-overflow.png
[2]: ./media/network_considerations_with_an_app_service_environment/networkase-overflow2.png
[3]: ./media/network_considerations_with_an_app_service_environment/networkase-ipaddresses.png
[4]: ./media/network_considerations_with_an_app_service_environment/networkase-inboundnsg.png
[5]: ./media/network_considerations_with_an_app_service_environment/networkase-outboundnsg.png
[6]: ./media/network_considerations_with_an_app_service_environment/networkase-udr.png
[7]: ./media/network_considerations_with_an_app_service_environment/networkase-subnet.png

<!--Links-->
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
[ASEManagement]: ./management-addresses.md
