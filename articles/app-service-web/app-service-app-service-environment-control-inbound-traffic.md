---
title: "aaaHow tooControl gelen trafiği tooan uygulama hizmeti ortamı"
description: "Nasıl tooconfigure ağ güvenlik kuralları toocontrol gelen hakkında trafiği tooan uygulama hizmeti ortamı hakkında bilgi edinin."
services: app-service
documentationcenter: 
author: ccompy
manager: erikre
editor: 
ms.assetid: 4cc82439-8791-48a4-9485-de6d8e1d1a08
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/11/2017
ms.author: stefsch
ms.openlocfilehash: e7c6e6201db6a1ea77f7a2eee29a3b5445175495
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="how-toocontrol-inbound-traffic-tooan-app-service-environment"></a><span data-ttu-id="e0dda-103">Nasıl tooControl gelen trafiği tooan uygulama hizmeti ortamı</span><span class="sxs-lookup"><span data-stu-id="e0dda-103">How tooControl Inbound Traffic tooan App Service Environment</span></span>
## <a name="overview"></a><span data-ttu-id="e0dda-104">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="e0dda-104">Overview</span></span>
<span data-ttu-id="e0dda-105">Bir uygulama hizmeti ortamı oluşturulabilir **ya da** bir Azure Resource Manager sanal ağ **veya** Klasik dağıtım modeli [sanal ağ] [ virtualnetwork].</span><span class="sxs-lookup"><span data-stu-id="e0dda-105">An App Service Environment can be created in **either** an Azure Resource Manager virtual network, **or** a classic deployment model [virtual network][virtualnetwork].</span></span>  <span data-ttu-id="e0dda-106">Yeni sanal ağ ve yeni alt hello aynı anda bir uygulama hizmeti ortamı oluşturulan tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-106">A new virtual network and new subnet can be defined at hello time an App Service Environment is created.</span></span>  <span data-ttu-id="e0dda-107">Alternatif olarak, bir uygulama hizmeti ortamı önceden var olan sanal ağ ve önceden var olan bir alt ağ içinde oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-107">Alternatively, an App Service Environment can be created in a pre-existing virtual network and pre-existing subnet.</span></span>  <span data-ttu-id="e0dda-108">Haziran 2016'da yapılan bir değişiklikle ASEs ortak adres aralıkları veya RFC1918 adres alanları (özel adresleri) kullanan sanal ağları içinde dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-108">With a change made in June 2016, ASEs can also be deployed into virtual networks that use either public address ranges, or RFC1918 address spaces (i.e. private addresses).</span></span>  <span data-ttu-id="e0dda-109">Bir uygulama hizmeti ortamı oluşturma hakkında daha fazla bilgi için bkz [nasıl tooCreate bir uygulama hizmeti ortamı][HowToCreateAnAppServiceEnvironment].</span><span class="sxs-lookup"><span data-stu-id="e0dda-109">For more details on creating an App Service Environment see [How tooCreate an App Service Environment][HowToCreateAnAppServiceEnvironment].</span></span>

<span data-ttu-id="e0dda-110">Bir alt ağ gelen trafiğe Yukarı Akış aygıtlarını ve hizmetlerini arkasında basılı kullanılan toolock sağlayacak şekilde HTTP ve HTTPS trafiği yalnızca gelen belirli kabul olabilen bir ağ sınırında sağladığından bir uygulama hizmeti ortamı her zaman bir alt ağ içinde yukarı akış oluşturulmalıdır IP adresleri.</span><span class="sxs-lookup"><span data-stu-id="e0dda-110">An App Service Environment must always be created within a subnet because a subnet provides a network boundary which can be used toolock down inbound traffic behind upstream devices and services such that HTTP and HTTPS traffic is only accepted from specific upstream IP addresses.</span></span>

<span data-ttu-id="e0dda-111">Bir alt ağdaki gelen ve giden ağ trafiğini kullanılarak denetlenir bir [ağ güvenlik grubu][NetworkSecurityGroups].</span><span class="sxs-lookup"><span data-stu-id="e0dda-111">Inbound and outbound network traffic on a subnet is controlled using a [network security group][NetworkSecurityGroups].</span></span> <span data-ttu-id="e0dda-112">Gelen trafik denetleme ağ güvenlik kuralları bir ağ güvenlik grubu oluşturma ve hello ağ güvenlik grubu hello alt ağ içeren hello uygulama hizmeti ortamı atama gerektirir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-112">Controlling inbound traffic requires creating network security rules in a network security group, and then assigning hello network security group hello subnet containing hello App Service Environment.</span></span>

<span data-ttu-id="e0dda-113">Bir ağ güvenlik grubu tooa alt atandıktan sonra gelen trafiği tooapps uygulama hizmeti ortamı hello üzerinde izin verilen ve engellenen dayalıdır hello içinde izin verme ve reddetme hello ağ güvenlik grubu tanımlanan kuralları.</span><span class="sxs-lookup"><span data-stu-id="e0dda-113">Once a network security group is assigned tooa subnet, inbound traffic tooapps in hello App Service Environment is allowed/blocked based on hello allow and deny rules defined in hello network security group.</span></span>

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="inbound-network-ports-used-in-an-app-service-environment"></a><span data-ttu-id="e0dda-114">Gelen ağ bir uygulama hizmeti ortamı'nda kullanılan bağlantı noktaları</span><span class="sxs-lookup"><span data-stu-id="e0dda-114">Inbound Network Ports Used in an App Service Environment</span></span>
<span data-ttu-id="e0dda-115">Bir ağ güvenlik grubu ile gelen ağ trafiğini kilitlemek önce önemli tooknow hello bir uygulama hizmeti ortamı tarafından kullanılan gerekli ve isteğe bağlı ağ bağlantı noktaları kümesidir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-115">Before locking down inbound network traffic with a network security group, it is important tooknow hello set of required and optional network ports used by an App Service Environment.</span></span>  <span data-ttu-id="e0dda-116">Yanlışlıkla trafiği toosome bağlantı noktalarını kapatma bir uygulama hizmeti ortamı işlev kaybı neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-116">Accidentally closing off traffic toosome ports can result in loss of functionality in an App Service Environment.</span></span>

<span data-ttu-id="e0dda-117">Merhaba, bir uygulama hizmeti ortamı tarafından kullanılan bağlantı noktalarının bir listesi verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-117">hello following is a list of ports used by an App Service Environment.</span></span> <span data-ttu-id="e0dda-118">Tüm bağlantı noktaları **TCP**aksi açıkça belirtilmediği sürece:</span><span class="sxs-lookup"><span data-stu-id="e0dda-118">All ports are **TCP**, unless otherwise clearly noted:</span></span>

* <span data-ttu-id="e0dda-119">454: **gerekli bağlantı noktası** yönetme ve SSL üzerinden uygulama hizmeti ortamları korumaya yönelik Azure altyapısı tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="e0dda-119">454:  **Required port** used by Azure infrastructure for managing and maintaining App Service Environments via SSL.</span></span>  <span data-ttu-id="e0dda-120">Trafiği toothis bağlantı noktası engellemez.</span><span class="sxs-lookup"><span data-stu-id="e0dda-120">Do not block traffic toothis port.</span></span>  <span data-ttu-id="e0dda-121">Bu bağlantı noktası her zaman bir ana, genel VIP ilişkili toohello olur.</span><span class="sxs-lookup"><span data-stu-id="e0dda-121">This port is always bound toohello public VIP of an ASE.</span></span>
* <span data-ttu-id="e0dda-122">455: **gerekli bağlantı noktası** yönetme ve SSL üzerinden uygulama hizmeti ortamları korumaya yönelik Azure altyapısı tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="e0dda-122">455:  **Required port** used by Azure infrastructure for managing and maintaining App Service Environments via SSL.</span></span>  <span data-ttu-id="e0dda-123">Trafiği toothis bağlantı noktası engellemez.</span><span class="sxs-lookup"><span data-stu-id="e0dda-123">Do not block traffic toothis port.</span></span>  <span data-ttu-id="e0dda-124">Bu bağlantı noktası her zaman bir ana, genel VIP ilişkili toohello olur.</span><span class="sxs-lookup"><span data-stu-id="e0dda-124">This port is always bound toohello public VIP of an ASE.</span></span>
* <span data-ttu-id="e0dda-125">80: varsayılan App Service planları bir uygulama hizmeti ortamında çalışan gelen HTTP trafiği tooapps için bağlantı noktası.</span><span class="sxs-lookup"><span data-stu-id="e0dda-125">80:  Default port for inbound HTTP traffic tooapps running in App Service Plans in an App Service Environment.</span></span>  <span data-ttu-id="e0dda-126">Bir ILB özellikli ana Bu bağlantı noktasına bağlı toohello ILB hello ana adresidir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-126">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="e0dda-127">443: varsayılan App Service planları bir uygulama hizmeti ortamında çalışan gelen SSL trafiği tooapps için bağlantı noktası.</span><span class="sxs-lookup"><span data-stu-id="e0dda-127">443: Default port for inbound SSL traffic tooapps running in App Service Plans in an App Service Environment.</span></span>  <span data-ttu-id="e0dda-128">Bir ILB özellikli ana Bu bağlantı noktasına bağlı toohello ILB hello ana adresidir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-128">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="e0dda-129">21: denetim kanalı FTP için.</span><span class="sxs-lookup"><span data-stu-id="e0dda-129">21:  Control channel for FTP.</span></span>  <span data-ttu-id="e0dda-130">FTP değil kullanılıyorsa, bu bağlantı noktası güvenli bir şekilde engellenebilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-130">This port can be safely blocked if FTP is not being used.</span></span>  <span data-ttu-id="e0dda-131">Bir ILB özellikli ana Bu bağlantı noktası için bir ana ilişkili toohello ILB adresi olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-131">On an ILB-enabled ASE, this port can be bound toohello ILB address for an ASE.</span></span>
* <span data-ttu-id="e0dda-132">990: denetim kanalı FTPS için.</span><span class="sxs-lookup"><span data-stu-id="e0dda-132">990:  Control channel for FTPS.</span></span>  <span data-ttu-id="e0dda-133">FTPS değil kullanılıyorsa, bu bağlantı noktası güvenli bir şekilde engellenebilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-133">This port can be safely blocked if FTPS is not being used.</span></span>  <span data-ttu-id="e0dda-134">Bir ILB özellikli ana Bu bağlantı noktası için bir ana ilişkili toohello ILB adresi olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-134">On an ILB-enabled ASE, this port can be bound toohello ILB address for an ASE.</span></span>
* <span data-ttu-id="e0dda-135">10001 10020: FTP için veri kanalı.</span><span class="sxs-lookup"><span data-stu-id="e0dda-135">10001-10020: Data channels for FTP.</span></span>  <span data-ttu-id="e0dda-136">FTP değil kullanılıyorsa olarak hello denetim kanalı ile bu bağlantı noktalarının güvenli bir şekilde engellenebilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-136">As with hello control channel, these ports can be safely blocked if FTP is not being used.</span></span>  <span data-ttu-id="e0dda-137">Bir ILB özellikli ana Bu bağlantı noktasına bağlı toohello ana'nın ILB adresi olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-137">On an ILB-enabled ASE, this port can be bound toohello ASE's ILB address.</span></span>
* <span data-ttu-id="e0dda-138">4016: Visual Studio 2012 ile uzaktan hata ayıklama için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="e0dda-138">4016: Used for remote debugging with Visual Studio 2012.</span></span>  <span data-ttu-id="e0dda-139">Merhaba özelliği olmayan kullanılıyorsa, bu bağlantı noktası güvenli bir şekilde engellenebilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-139">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="e0dda-140">Bir ILB özellikli ana Bu bağlantı noktasına bağlı toohello ILB hello ana adresidir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-140">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="e0dda-141">4018: Visual Studio 2013 ile uzaktan hata ayıklama için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="e0dda-141">4018: Used for remote debugging with Visual Studio 2013.</span></span>  <span data-ttu-id="e0dda-142">Merhaba özelliği olmayan kullanılıyorsa, bu bağlantı noktası güvenli bir şekilde engellenebilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-142">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="e0dda-143">Bir ILB özellikli ana Bu bağlantı noktasına bağlı toohello ILB hello ana adresidir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-143">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="e0dda-144">4020: Visual Studio 2015 ile uzaktan hata ayıklama için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="e0dda-144">4020: Used for remote debugging with Visual Studio 2015.</span></span>  <span data-ttu-id="e0dda-145">Merhaba özelliği olmayan kullanılıyorsa, bu bağlantı noktası güvenli bir şekilde engellenebilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-145">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="e0dda-146">Bir ILB özellikli ana Bu bağlantı noktasına bağlı toohello ILB hello ana adresidir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-146">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>

## <a name="outbound-connectivity-and-dns-requirements"></a><span data-ttu-id="e0dda-147">Giden bağlantısı ve DNS gereksinimleri</span><span class="sxs-lookup"><span data-stu-id="e0dda-147">Outbound Connectivity and DNS Requirements</span></span>
<span data-ttu-id="e0dda-148">Bir uygulama hizmeti ortamı toofunction için düzgün şekilde de giden erişim toovarious uç nokta gerektiriyor.</span><span class="sxs-lookup"><span data-stu-id="e0dda-148">For an App Service Environment toofunction properly, it also requires outbound access toovarious endpoints.</span></span> <span data-ttu-id="e0dda-149">Tam bir ana tarafından kullanılan hello dış uç noktalar hello hello "Ağ bağlantısı gerekli" bölümünde listelenmiştir [ExpressRoute için ağ yapılandırması](app-service-app-service-environment-network-configuration-expressroute.md#required-network-connectivity) makalesi.</span><span class="sxs-lookup"><span data-stu-id="e0dda-149">A full list of hello external endpoints used by an ASE is in hello "Required Network Connectivity" section of hello [Network Configuration for ExpressRoute](app-service-app-service-environment-network-configuration-expressroute.md#required-network-connectivity) article.</span></span>

<span data-ttu-id="e0dda-150">Uygulama hizmeti ortamları hello sanal ağ için yapılandırılmış geçerli bir DNS altyapısı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-150">App Service Environments require a valid DNS infrastructure configured for hello virtual network.</span></span>  <span data-ttu-id="e0dda-151">Bir uygulama hizmeti ortamı oluşturulduktan sonra herhangi bir nedenle hello için DNS yapılandırması değiştirildiğinde, geliştiricilerin bir uygulama hizmeti ortamı toopick hello yeni DNS yapılandırması zorlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e0dda-151">If for any reason hello DNS configuration is changed after an App Service Environment has been created, developers can force an App Service Environment toopick up hello new DNS configuration.</span></span>  <span data-ttu-id="e0dda-152">Merhaba uygulama hizmeti ortamı yönetim dikey penceresinde hello hello üstündeki hello "Yeniden Başlat" simgesini kullanarak çalışırken bir ortamı yeniden başlatma tetikleme [Azure portal] [ NewPortal] hello ortamı toopick neden olur Merhaba yeni DNS yapılandırmasını.</span><span class="sxs-lookup"><span data-stu-id="e0dda-152">Triggering a rolling environment reboot using hello "Restart" icon located at hello top of hello App Service Environment management blade in hello [Azure portal][NewPortal] will cause hello environment toopick up hello new DNS configuration.</span></span>

<span data-ttu-id="e0dda-153">Merhaba vnet hiçbir özel DNS sunucularında Kurulum zaman önceki toocreating bir uygulama hizmeti ortamı öncesinde olması önerilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-153">It is also recommended that any custom DNS servers on hello vnet be setup ahead of time prior toocreating an App Service Environment.</span></span>  <span data-ttu-id="e0dda-154">Bir uygulama hizmeti ortamı oluşturulurken bir sanal ağın DNS yapılandırması değiştiyse, hello uygulama hizmeti ortamı oluşturma işlemi başarısız neden olur.</span><span class="sxs-lookup"><span data-stu-id="e0dda-154">If a virtual network's DNS configuration is changed while an App Service Environment is being created, that will result in hello App Service Environment creation process failing.</span></span>  <span data-ttu-id="e0dda-155">Özel bir DNS sunucusu üzerinde hello varsa, benzer bir damarlı içinde başka bir VPN ağ geçidi ve hello DNS sunucusu erişilemez veya kullanılamaz hello uygulama hizmeti ortamı oluşturma işlemi de başarısız olacak sonudur.</span><span class="sxs-lookup"><span data-stu-id="e0dda-155">In a similar vein, if a custom DNS server exists on hello other end of a VPN gateway, and hello DNS server is unreachable or unavailable, hello App Service Environment creation process will also fail.</span></span>

## <a name="creating-a-network-security-group"></a><span data-ttu-id="e0dda-156">Bir ağ güvenlik grubu oluşturma</span><span class="sxs-lookup"><span data-stu-id="e0dda-156">Creating a Network Security Group</span></span>
<span data-ttu-id="e0dda-157">Merhaba aşağıdaki nasıl iş ağ güvenlik grupları hakkında tam bilgi için bkz [bilgi][NetworkSecurityGroups].</span><span class="sxs-lookup"><span data-stu-id="e0dda-157">For full details on how network security groups work see hello following [information][NetworkSecurityGroups].</span></span>  <span data-ttu-id="e0dda-158">Ağ güvenlik gruplarını yapılandırma ve bir uygulama hizmeti ortamı içeren bir ağ güvenlik grubu tooa alt uygulama odak rötuşları üzerinde aşağıdaki Hello Azure Hizmet Yönetimi örnekte vurgular.</span><span class="sxs-lookup"><span data-stu-id="e0dda-158">hello Azure Service Management example below touches on highlights of network security groups, with a focus on configuring and applying a network security group tooa subnet that contains an App Service Environment.</span></span>

<span data-ttu-id="e0dda-159">**Not:** ağ güvenlik grupları, grafik hello kullanılarak yapılandırılabilir [Azure Portal](https://portal.azure.com) veya Azure PowerShell aracılığıyla.</span><span class="sxs-lookup"><span data-stu-id="e0dda-159">**Note:** Network security groups can be configured graphically using hello [Azure Portal](https://portal.azure.com) or through Azure PowerShell.</span></span>

<span data-ttu-id="e0dda-160">Ağ güvenlik grupları, önce bir aboneliği ile ilişkili bir tek başına varlık olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="e0dda-160">Network security groups are first created as a standalone entity associated with a subscription.</span></span> <span data-ttu-id="e0dda-161">Ağ güvenlik grupları bir Azure bölgesinde oluşturulduğundan, bu hello ağ güvenlik grubu hello aynı oluşturulur olun uygulama hizmeti ortamı hello gibi bölge.</span><span class="sxs-lookup"><span data-stu-id="e0dda-161">Since network security groups are created in an Azure region, ensure that hello network security group is created in hello same region as hello App Service Environment.</span></span>

<span data-ttu-id="e0dda-162">bir ağ güvenlik grubu oluşturma Hello şunları gösterir:</span><span class="sxs-lookup"><span data-stu-id="e0dda-162">hello following demonstrates creating a network security group:</span></span>

    New-AzureNetworkSecurityGroup -Name "testNSGexample" -Location "South Central US" -Label "Example network security group for an app service environment"

<span data-ttu-id="e0dda-163">Bir ağ güvenlik grubu oluşturulduktan sonra bir veya daha fazla ağ güvenlik kuralları tooit eklenir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-163">Once a network security group is created, one or more network security rules are added tooit.</span></span>  <span data-ttu-id="e0dda-164">Kural kümesi Hello zaman içinde değişebilir gerektiğinden toospace numaralandırma şemasını hello çıkışı için kural önceliklerini toomake kolay tooinsert ek kurallar zamanla kullanılacağını önerilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-164">Since hello set of rules may change over time, it is recommended toospace out hello numbering scheme used for rule priorities toomake it easy tooinsert additional rules over time.</span></span>

<span data-ttu-id="e0dda-165">Merhaba örnekte açıkça erişim toohello yönetim hello Azure altyapı toomanage tarafından gerekli bağlantı noktalarını verir ve uygulama hizmeti ortamını sürdürmek bir kural gösterilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-165">hello example below shows a rule that explicitly grants access toohello management ports needed by hello Azure infrastructure toomanage and maintain an App Service Environment.</span></span>  <span data-ttu-id="e0dda-166">Tüm yönetim trafiğini SSL üzerinden akar ve hello bağlantı noktaları açılmış olsa da, bunlar Azure Yönetim altyapısı dışında herhangi bir varlık tarafından erişilemez; bu nedenle istemci sertifikaları tarafından sağlanıyorsa unutmayın.</span><span class="sxs-lookup"><span data-stu-id="e0dda-166">Note that all management traffic flows over SSL and is secured by client certificates, so even though hello ports are opened they are inaccessible by any entity other than Azure management infrastructure.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "ALLOW AzureMngmt" -Type Inbound -Priority 100 -Action Allow -SourceAddressPrefix 'INTERNET'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '454-455' -Protocol TCP


<span data-ttu-id="e0dda-167">Kilitleme erişim tooport 80 ve 443 çok "gizle" Yukarı Akış aygıtları veya hizmetleri arkasındaki bir uygulama hizmeti ortamı, tooknow hello Yukarı Akış IP adresine ihtiyacınız olacaktır.</span><span class="sxs-lookup"><span data-stu-id="e0dda-167">When locking down access tooport 80 and 443 too"hide" an App Service Environment behind upstream devices or services, you will need tooknow hello upstream IP address.</span></span>  <span data-ttu-id="e0dda-168">Bir web uygulaması Güvenlik Duvarı (WAF) kullanıyorsanız, örneğin, hello WAF kendi IP adresi (veya adresleri) ne zaman kullanan olacaktır proxy trafiği tooa aşağı akış uygulama hizmeti ortamı.</span><span class="sxs-lookup"><span data-stu-id="e0dda-168">For example, if you are using a web application firewall (WAF), hello WAF will have its own IP address (or addresses) which it uses when proxying traffic tooa downstream App Service Environment.</span></span>  <span data-ttu-id="e0dda-169">Bu IP adresi hello toouse gerekir *SourceAddressPrefix* bir ağ güvenlik kuralı parametresi.</span><span class="sxs-lookup"><span data-stu-id="e0dda-169">You will need toouse this IP address in hello *SourceAddressPrefix* parameter of a network security rule.</span></span>

<span data-ttu-id="e0dda-170">Merhaba aşağıdaki örnekte, belirli bir Yukarı Akış IP adresinden gelen gelen trafiğe açıkça izin verilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-170">In hello example below, inbound traffic from a specific upstream IP address is explicitly allowed.</span></span>  <span data-ttu-id="e0dda-171">Merhaba adresi *1.2.3.4* yer tutucu olarak için bir Yukarı Akış WAF hello IP adresi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="e0dda-171">hello address *1.2.3.4* is used as a placeholder for hello IP address of an upstream WAF.</span></span>  <span data-ttu-id="e0dda-172">Yukarı Akış aygıt veya hizmet tarafından kullanılan hello değeri toomatch hello adresini değiştirin.</span><span class="sxs-lookup"><span data-stu-id="e0dda-172">Change hello value toomatch hello address used by your upstream device or service.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT HTTP" -Type Inbound -Priority 200 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '80' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT HTTPS" -Type Inbound -Priority 300 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '443' -Protocol TCP

<span data-ttu-id="e0dda-173">FTP desteği istenirse, kurallara hello bir şablon toogrant erişim toohello FTP denetim bağlantı ve veri kanalı bağlantı noktası kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-173">If FTP support is desired, hello following rules can be used as a template toogrant access toohello FTP control port and data channel ports.</span></span>  <span data-ttu-id="e0dda-174">FTP durum bilgisi olan kuralıdır olduğundan, geleneksel bir HTTP/HTTPS güvenlik duvarı veya proxy aygıt üzerinden mümkün tooroute FTP trafiğine olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-174">Since FTP is a stateful protocol, you may not be able tooroute FTP traffic through a traditional HTTP/HTTPS firewall or proxy device.</span></span>  <span data-ttu-id="e0dda-175">Bu durumda, tooset hello gerekir *SourceAddressPrefix* tooa farklı değer - örneğin hello IP adres aralığı geliştirici veya dağıtım makinelerin istemcileri hangi FTP üzerinde çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="e0dda-175">In this case you will need tooset hello *SourceAddressPrefix* tooa different value - for example hello IP address range of developer or deployment machines on which FTP clients are running.</span></span> 

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT FTPCtrl" -Type Inbound -Priority 400 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '21' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT FTPDataRange" -Type Inbound -Priority 500 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '10001-10020' -Protocol TCP

<span data-ttu-id="e0dda-176">(**Not:** hello veri kanalı bağlantı noktası aralığı hello Önizleme dönemi boyunca değişebilir.)</span><span class="sxs-lookup"><span data-stu-id="e0dda-176">(**Note:**  hello data channel port range may change during hello preview period.)</span></span>

<span data-ttu-id="e0dda-177">İle Visual Studio uzaktan hata ayıklama kullanılırsa, nasıl toogrant erişim kuralları aşağıdaki hello göstermektedir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-177">If remote debugging with Visual Studio is used, hello following rules demonstrate how toogrant access.</span></span>  <span data-ttu-id="e0dda-178">Her bir sürümü uzaktan hata ayıklama için farklı bir bağlantı noktasını kullandığından Visual Studio'nun desteklenen her sürümü için ayrı bir kural yok.</span><span class="sxs-lookup"><span data-stu-id="e0dda-178">There is a separate rule for each supported version of Visual Studio since each version uses a different port for remote debugging.</span></span>  <span data-ttu-id="e0dda-179">FTP erişimli olarak, uzaktan hata ayıklama trafiği geleneksel WAF ya da proxy aygıt akışı düzgün değil.</span><span class="sxs-lookup"><span data-stu-id="e0dda-179">As with FTP access, remote debugging traffic may not flow properly through a traditional WAF or proxy device.</span></span>  <span data-ttu-id="e0dda-180">Merhaba *SourceAddressPrefix* bunun yerine Visual Studio çalıştıran Geliştirici makinelerinde toohello IP adres aralığı ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-180">hello *SourceAddressPrefix* can instead be set toohello IP address range of developer machines running Visual Studio.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2012" -Type Inbound -Priority 600 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4016' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2013" -Type Inbound -Priority 700 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4018' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2015" -Type Inbound -Priority 800 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4020' -Protocol TCP

## <a name="assigning-a-network-security-group-tooa-subnet"></a><span data-ttu-id="e0dda-181">Ağ güvenlik grubu tooa alt ağ atama</span><span class="sxs-lookup"><span data-stu-id="e0dda-181">Assigning a Network Security Group tooa Subnet</span></span>
<span data-ttu-id="e0dda-182">Bir ağ güvenlik grubu erişim tooall dış trafiği engelleyen bir varsayılan güvenlik kuralını sahiptir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-182">A network security group has a default security rule which denies access tooall external traffic.</span></span>  <span data-ttu-id="e0dda-183">Merhaba, yukarıda açıklanan hello ağ güvenlik kuralları birleştirme gelen sonuç ve hello gelen trafiği engelleyen varsayılan güvenlik kuralı, yalnızca kaynak adres aralıklarından trafiği ile ilişkili olan bir *izin* eylem erişebilir Uygulama hizmeti ortamı'nda çalışan toosend trafiği tooapps.</span><span class="sxs-lookup"><span data-stu-id="e0dda-183">hello result from combining hello network security rules described above, and hello default security rule blocking inbound traffic, is that only traffic from source address ranges associated with an *Allow* action will be able toosend traffic tooapps running in an App Service Environment.</span></span>

<span data-ttu-id="e0dda-184">Bir ağ güvenlik grubu güvenlik kuralları ile doldurulduktan sonra hello uygulama hizmeti ortamı içeren atanan toobe toohello alt ağ gerekir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-184">After a network security group is populated with security rules, it needs toobe assigned toohello subnet containing hello App Service Environment.</span></span>  <span data-ttu-id="e0dda-185">Merhaba atama komutu hello sanal ağın hello uygulama hizmeti ortamı, hello uygulama hizmeti ortamı oluşturulduğu hello alt hello adını hem de bulunduğu her iki hello adı başvurur.</span><span class="sxs-lookup"><span data-stu-id="e0dda-185">hello assignment command references both hello name of hello virtual network where hello App Service Environment resides, as well as hello name of hello subnet where hello App Service Environment was created.</span></span>  

<span data-ttu-id="e0dda-186">Aşağıdaki Hello örnek, bir ağ güvenlik grubu tooa alt ağ ve sanal ağ atanmasını gösterir:</span><span class="sxs-lookup"><span data-stu-id="e0dda-186">hello example below shows a network security group being assigned tooa subnet and virtual network:</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityGroupToSubnet -VirtualNetworkName 'testVNet' -SubnetName 'Subnet-test'

<span data-ttu-id="e0dda-187">Merhaba ağ güvenlik grubu ataması başarılı olduktan sonra (Merhaba atama uzun süre çalışan işlemleri olduğu ve birkaç dakika toocomplete sürebilir), yalnızca trafik eşleşen gelen *izin* kuralları başarıyla hello uygulama uygulamalarında ulaşmak Hizmet ortamı.</span><span class="sxs-lookup"><span data-stu-id="e0dda-187">Once hello network security group assignment succeeds (hello assignment is a long-running operations and can take a few minutes toocomplete), only inbound traffic matching *Allow* rules will successfully reach apps in hello App Service Environment.</span></span>

<span data-ttu-id="e0dda-188">Bütünlük hello için aşağıdaki örnekte nasıl hello alt ağdan tooremove ve bu nedenle parçalanmış ilişkilendirme hello ağ güvenlik grubu gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="e0dda-188">For completeness hello following example shows how tooremove and thus dis-associate hello network security group from hello subnet:</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Remove-AzureNetworkSecurityGroupFromSubnet -VirtualNetworkName 'testVNet' -SubnetName 'Subnet-test'

## <a name="special-considerations-for-explicit-ip-ssl"></a><span data-ttu-id="e0dda-189">Açık IP SSL için özel hususlar</span><span class="sxs-lookup"><span data-stu-id="e0dda-189">Special Considerations for Explicit IP-SSL</span></span>
<span data-ttu-id="e0dda-190">Bir uygulama olan açık bir IP SSL adresi yapılandırılmışsa (uygulanabilir *yalnızca* genel VIP'ye sahip tooASEs), uygulama hizmeti ortamı hello hello varsayılan IP adresini kullanmak yerine, HTTP ve HTTPS trafiği hello alt akar 80 ve 443 numaralı bağlantı noktaları dışındaki bağlantı noktaları farklı bir küme üzerinde.</span><span class="sxs-lookup"><span data-stu-id="e0dda-190">If an app is configured with an explicit IP-SSL address (applicable *only* tooASEs that have a public VIP), instead of using hello default IP address of hello App Service Environment, both HTTP and HTTPS traffic flows into hello subnet over a different set of ports other than ports 80 and 443.</span></span>

<span data-ttu-id="e0dda-191">Merhaba tek tek her IP SSL adresi tarafından kullanılan bağlantı noktaları çiftinin hello uygulama hizmeti ortamı'nın ayrıntıları UX dikey penceresinden hello portal kullanıcı arabiriminde bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-191">hello individual pair of ports used by each IP-SSL address can be found in hello portal user interface from hello App Service Environment's details UX blade.</span></span>  <span data-ttu-id="e0dda-192">Select "tüm ayarları", "IP adreslerini"-->.</span><span class="sxs-lookup"><span data-stu-id="e0dda-192">Select "All settings" --> "IP addresses".</span></span>  <span data-ttu-id="e0dda-193">Merhaba "IP adreslerini" dikey penceresinde hello uygulama hizmeti ortamı için açıkça yapılandırılmış tüm IP SSL adresleri bir tablosu gösterir kullanılan tooroute hello özel bağlantı noktası çifti birlikte HTTP ve HTTPS trafiğini her IP SSL adresi ile ilişkili.</span><span class="sxs-lookup"><span data-stu-id="e0dda-193">hello "IP addresses" blade shows a table of all explicitly configured IP-SSL addresses for hello App Service Environment, along with hello special port pair that is used tooroute HTTP and HTTPS traffic associated with each IP-SSL address.</span></span>  <span data-ttu-id="e0dda-194">Bu kuralları içinde bir ağ güvenlik grubu yapılandırırken hello DestinationPortRange parametreleri için kullanılan toobe gerektiren bu bağlantı noktası çiftidir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-194">It is this port pair that needs toobe used for hello DestinationPortRange parameters when configuring rules in a network security group.</span></span>

<span data-ttu-id="e0dda-195">Bir uygulama bir ana üzerinde yapılandırılmış toouse IP SSL olduğunda, dış müşterileri görmezsiniz ve tooworry hello özel bağlantı noktası çifti eşlemesi hakkında gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-195">When an app on an ASE is configured toouse IP-SSL, external customers will not see and do not need tooworry about hello special port pair mapping.</span></span>  <span data-ttu-id="e0dda-196">Trafiği toohello uygulamalar, normalde toohello yapılandırılmış IP SSL adresi akar.</span><span class="sxs-lookup"><span data-stu-id="e0dda-196">Traffic toohello apps will flow normally toohello configured IP-SSL address.</span></span>  <span data-ttu-id="e0dda-197">Merhaba çeviri toohello özel bağlantı noktası çifti otomatik olarak dahili sırasında hello son leg yönlendirme trafiği hello alt ağ içeren hello ana gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="e0dda-197">hello translation toohello special port pair automatically happens internally during hello final leg of routing traffic into hello subnet containing hello ASE.</span></span> 

## <a name="getting-started"></a><span data-ttu-id="e0dda-198">Başlarken</span><span class="sxs-lookup"><span data-stu-id="e0dda-198">Getting started</span></span>
<span data-ttu-id="e0dda-199">Uygulama hizmeti ortamları ile çalışmaya tooget bakın [giriş tooApp hizmeti ortamı][IntroToAppServiceEnvironment]</span><span class="sxs-lookup"><span data-stu-id="e0dda-199">tooget started with App Service Environments, see [Introduction tooApp Service Environment][IntroToAppServiceEnvironment]</span></span>

<span data-ttu-id="e0dda-200">Tüm makaleler ve nasıl-için uygulama hizmeti ortamları hello kullanılabilir için kullanıcının [uygulama hizmeti ortamları için Benioku](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="e0dda-200">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="e0dda-201">Güvenli bir uygulama hizmeti ortamındaki toobackend kaynak bağlanan uygulamalara geçici daha fazla bilgi için bkz [güvenli bir uygulama hizmeti ortamındaki tooBackend kaynaklarına bağlanma][SecurelyConnecttoBackend]</span><span class="sxs-lookup"><span data-stu-id="e0dda-201">For details around apps securely connecting toobackend resource from an App Service Environment, see [Securely connecting tooBackend resources from an App Service Environment][SecurelyConnecttoBackend]</span></span>

<span data-ttu-id="e0dda-202">Hello Azure App Service platformu hakkında daha fazla bilgi için bkz: [Azure App Service][AzureAppService].</span><span class="sxs-lookup"><span data-stu-id="e0dda-202">For more information about hello Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[virtualnetwork]: https://azure.microsoft.com/documentation/articles/virtual-networks-faq/
[HowToCreateAnAppServiceEnvironment]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[NetworkSecurityGroups]: https://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[IntroToAppServiceEnvironment]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[SecurelyConnecttoBackend]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-securely-connecting-to-backend-resources/
[NewPortal]:  https://portal.azure.com  

<!-- IMAGES -->

