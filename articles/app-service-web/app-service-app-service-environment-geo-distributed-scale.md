---
title: "Uygulama hizmeti ortamları dağıtılmış ölçekli aaaGeo"
description: "Nasıl toohorizontally ölçeklendirme Traffic Manager ve App Service ortamları coğrafi dağıtım kullanarak uygulamaları hakkında bilgi edinin."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 9b441f637d8b7f679b3d83240baf99b8ee57e8f3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="8d4dd-103">App Service Ortamları ile Coğrafi Olarak Dağıtılmış Ölçek</span><span class="sxs-lookup"><span data-stu-id="8d4dd-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="8d4dd-104">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="8d4dd-104">Overview</span></span>
<span data-ttu-id="8d4dd-105">Çok büyük ölçekli gerektiren uygulama senaryoları hello işlem kaynak kapasite kullanılabilir tooa tek dağıtım, bir uygulamanın aşabilir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-105">Application scenarios which require very high scale can exceed hello compute resource capacity available tooa single deployment of an app.</span></span>  <span data-ttu-id="8d4dd-106">Uygulamaları oylama, spor olaylar ve televised eğlence olaylar tüm son derece yüksek ölçekli gerektiren senaryolara verilen örneklerdir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="8d4dd-107">Yüksek ölçekli gereksinimleri yatay uygulamalarını, tek bir bölge içinde ve aynı zamanda bölgelere, toohandle aşırı yük gereksinimlerine yapılan birden çok uygulama dağıtımı ile ölçeklendirme tarafından karşılanabilir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, toohandle extreme load requirements.</span></span>

<span data-ttu-id="8d4dd-108">Uygulama hizmeti ortamları yatay ölçek genişletme için ideal bir platform ' dir.  Bir uygulama hizmeti ortamı yapılandırma seçildiğinde bilinen istek hızı destekleyen, geliştiricilerin "Tanımlama Bilgisi kesici" şekilde tooattain istenen yoğun yük kapasitesi ek uygulama hizmeti ortamlarında dağıtabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-108">App Service Environments are an ideal platform for horizontal scale out.  Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion tooattain a desired peak load capacity.</span></span>

<span data-ttu-id="8d4dd-109">Örneğin bir uygulama hizmeti ortamı yapılandırması üzerinde çalışan bir uygulama sınanan toohandle 20 K istekleri / saniye (RPS) bırakıldı varsayalım.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-109">For example suppose an app running on an App Service Environment configuration has been tested toohandle 20K requests per second (RPS).</span></span>  <span data-ttu-id="8d4dd-110">Merhaba istenen yoğun yüklerseniz 100 K RPS kapasitesi ise, sonra beş (5) App Service ortamları oluşturulabilir ve yapılandırılmış tooensure Merhaba uygulaması hello en fazla tahmini yükleme işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-110">If hello desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured tooensure hello application can handle hello maximum projected load.</span></span>

<span data-ttu-id="8d4dd-111">Müşteriler genellikle bir özel (ya da gösterim) etki alanı, geliştiricilerin gerek kullanarak uygulamalara erişim bu yana bir şekilde toodistribute uygulaması tüm hello uygulama hizmeti ortamı örnekleri arasında ister.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-111">Since customers typically access apps using a custom (or vanity) domain, developers need a way toodistribute app requests across all of hello App Service Environment instances.</span></span>  <span data-ttu-id="8d4dd-112">Bu harika bir şekilde tooaccomplish tooresolve hello özel etki alanı kullanarak bir [Azure Traffic Manager profilini][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="8d4dd-112">A great way tooaccomplish this is tooresolve hello custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="8d4dd-113">tek tek uygulama hizmeti ortamları hello Hello trafik Yöneticisi profili tüm yapılandırılmış toopoint olabilir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-113">hello Traffic Manager profile can be configured toopoint at all of hello individual App Service Environments.</span></span>  <span data-ttu-id="8d4dd-114">Trafik Yöneticisi tüm hello yük dengeleme ayarlarını hello trafik Yöneticisi profili, uygulama hizmeti ortamları dayalı hello müşteriler dağıtma otomatik olarak işler.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-114">Traffic Manager will automatically handle distributing customers across all of hello App Service Environments based on hello load balancing settings in hello Traffic Manager profile.</span></span>  <span data-ttu-id="8d4dd-115">Bu yaklaşım mı hello App Service ortamları tümünün tek bir Azure bölgesinde dağıtılan veya birçok Azure bölgesinde dünya çapında dağıtılan bağımsız olarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-115">This approach works regardless of whether all of hello App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="8d4dd-116">Ayrıca, müşteriler uygulamaları üzerinden hello gösterim etki alanına erişim bu yana müşteriler bir uygulamayı çalıştıran uygulama hizmeti ortamları hello sayısı farkında değildir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-116">Furthermore, since customers access apps through hello vanity domain, customers are unaware of hello number of App Service Environments running an app.</span></span>  <span data-ttu-id="8d4dd-117">Sonuç olarak geliştiricilerin hızla ve kolayca, ekleyip kaldırabilirsiniz, App Service ortamları gözlemlenen trafiği yüküne göre.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-117">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="8d4dd-118">Merhaba kavramsal diyagram aşağıdaki yatay çıkışı tek bir bölge içinde üç uygulama hizmeti ortamları boyunca ölçeklendirilmiş bir uygulamayı gösterir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-118">hello conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Kavramsal mimarisi][ConceptualArchitecture] 

<span data-ttu-id="8d4dd-120">Bu konuda Hello kalanı hello örnek uygulaması kullanarak birden fazla App Service ortamları için Dağıtılmış bir topolojiyi ayarlama ile ilgili hello adım adım anlatılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-120">hello remainder of this topic walks through hello steps involved with setting up a distributed topology for hello sample app using multiple App Service Environments.</span></span>

## <a name="planning-hello-topology"></a><span data-ttu-id="8d4dd-121">Merhaba topolojisini planlama</span><span class="sxs-lookup"><span data-stu-id="8d4dd-121">Planning hello Topology</span></span>
<span data-ttu-id="8d4dd-122">Dağıtılmış uygulama ayak izini çıkışı yapılandırmadan önce toohave vaktinden birkaç parça bilgiler sağlar.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-122">Before building out a distributed app footprint, it helps toohave a few pieces information ahead of time.</span></span>

* <span data-ttu-id="8d4dd-123">**Merhaba uygulaması için özel etki alanı:** müşteriler tooaccess hello uygulama kullanır hello özel etki alanı adı nedir?</span><span class="sxs-lookup"><span data-stu-id="8d4dd-123">**Custom domain for hello app:**  What is hello custom domain name that customers will use tooaccess hello app?</span></span>  <span data-ttu-id="8d4dd-124">Merhaba örnek uygulama hello özel etki alanı adıdır *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="8d4dd-124">For hello sample app hello custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="8d4dd-125">**Trafik yöneticisi etki alanı:** toobe oluştururken, seçilen bir etki alanı adı gerekli bir [Azure Traffic Manager profilini][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="8d4dd-125">**Traffic Manager domain:**  A domain name needs toobe chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="8d4dd-126">Bu ada hello birleştirilecek *trafficmanager.net* tooregister trafik Yöneticisi tarafından yönetilen bir etki alanı girişi soneki.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-126">This name will be combined with hello *trafficmanager.net* suffix tooregister a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="8d4dd-127">Merhaba adı seçilen Hello örnek uygulama için olduğunu *ana demo ölçeklenebilir*.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-127">For hello sample app, hello name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="8d4dd-128">Sonuç olarak, trafik Yöneticisi tarafından yönetilen hello tam etki alanı adıdır *ana demo.trafficmanager.net ölçeklenebilir*.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-128">As a result hello full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="8d4dd-129">**Merhaba uygulama ayak izini ölçeklendirmeye yönelik stratejisi:** hello uygulama kaplama alanı için tek bir bölge içinde birden fazla App Service ortamları arasında dağıtılmış?</span><span class="sxs-lookup"><span data-stu-id="8d4dd-129">**Strategy for scaling hello app footprint:**  Will hello application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="8d4dd-130">Birden çok bölgeye?</span><span class="sxs-lookup"><span data-stu-id="8d4dd-130">Multiple regions?</span></span>  <span data-ttu-id="8d4dd-131">Bir karışımını-ve-eşleşme her iki yaklaşımın?</span><span class="sxs-lookup"><span data-stu-id="8d4dd-131">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="8d4dd-132">Merhaba karar bir uygulamanın arka uç altyapısı destekleme iyi hello rest ölçeklendirebilirsiniz nasıl burada müşteri trafik, de kaynaklanan, beklentileri üzerine.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-132">hello decision should be based on expectations of where customer traffic will originate, as well as how well hello rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="8d4dd-133">Örneğin, durum bilgisi olmayan bir % 100 uygulaması ile bir uygulama yüksek düzeyde birçok Azure bölgesinde dağıtılan uygulama hizmeti ortamları çarpılmasıyla Azure bölgesi başına birden fazla App Service ortamları birleşimini kullanarak genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-133">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="8d4dd-134">15 + ortak Azure bölgeleri kullanılabilir toochoose ile müşterilerin gerçekten dünya çapında hiper ölçekli uygulama ayak izini oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-134">With 15+ public Azure regions available toochoose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="8d4dd-135">Bu makale için kullanılan hello örnek uygulama için üç uygulama hizmeti ortamları bir tek Azure bölgesinde (Orta Güney ABD) oluşturuldu.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-135">For hello sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="8d4dd-136">**Uygulama hizmeti ortamları hello için adlandırma:** her uygulama hizmeti ortamı benzersiz bir ad gerektirir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-136">**Naming convention for hello App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="8d4dd-137">İsteğe bağlı olarak bir veya iki uygulama hizmeti ortamları yararlı toohave bir adlandırma kuralı olan toohelp her uygulama hizmeti ortamı tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-137">Beyond one or two App Service Environments it is helpful toohave a naming convention toohelp identify each App Service Environment.</span></span>  <span data-ttu-id="8d4dd-138">Merhaba örnek uygulama için basit bir adlandırma kuralı kullanıldı.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-138">For hello sample app a simple naming convention was used.</span></span>  <span data-ttu-id="8d4dd-139">Merhaba hello üç uygulama hizmeti ortamları adlarıdır *fe1ase*, *fe2ase*, ve *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-139">hello names of hello three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="8d4dd-140">**Merhaba uygulamaları için adlandırma:** hello uygulama birden çok örneğini dağıtılacak olduğundan, dağıtılan hello uygulama her örneği için bir ad gereklidir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-140">**Naming convention for hello apps:**  Since multiple instances of hello app will be deployed, a name is needed for each instance of hello deployed app.</span></span>  <span data-ttu-id="8d4dd-141">Bir bilinen az, ancak çok kullanışlı uygulama hizmeti ortamları aynı uygulama adı birden fazla App Service ortamları kullanılabilir o hello özelliğidir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-141">One little-known but very convenient feature of App Service Environments is that hello same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="8d4dd-142">Her uygulama hizmeti ortamı benzersiz etki alanı soneki olduğundan, geliştiricilerin her ortamda toore kullanımlı hello tam aynı uygulama adı seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-142">Since each App Service Environment has a unique domain suffix, developers can choose toore-use hello exact same app name in each environment.</span></span>  <span data-ttu-id="8d4dd-143">Örneğin, bir geliştirici uygulamalar gibi adlı sahip olabilir: *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, vb..  Merhaba örnek uygulama için yine de her bir uygulama örneği de benzersiz bir ada sahip.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-143">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For hello sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="8d4dd-144">Merhaba kullanılan uygulama örnek adları olan *webfrontend1*, *webfrontend2*, ve *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-144">hello app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-hello-traffic-manager-profile"></a><span data-ttu-id="8d4dd-145">Merhaba trafik Yöneticisi profili ayarlama</span><span class="sxs-lookup"><span data-stu-id="8d4dd-145">Setting up hello Traffic Manager Profile</span></span>
<span data-ttu-id="8d4dd-146">Bir uygulama birden çok örneği üzerinde birden fazla App Service ortamları dağıtıldığında hello tek tek uygulama örnekleri ile trafik Yöneticisi kaydedilebilir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-146">Once multiple instances of an app are deployed on multiple App Service Environments, hello  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="8d4dd-147">Merhaba örnek uygulama için bir trafik Yöneticisi profili için gerekli *ana demo.trafficmanager.net ölçeklenebilir* müşteriler aşağıdaki Merhaba, dağıtılan tooany app örnekleri yönlendirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="8d4dd-147">For hello sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers tooany of hello following deployed app instances:</span></span>

* <span data-ttu-id="8d4dd-148">**webfrontend1.fe1ase.p.azurewebsites.NET:** dağıtılan hello örnek uygulaması örneğini hello ilk uygulama hizmeti ortamı.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-148">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello first App Service Environment.</span></span>
* <span data-ttu-id="8d4dd-149">**webfrontend2.fe2ase.p.azurewebsites.NET:** dağıtılan hello örnek uygulaması örneğini hello ikinci uygulama hizmeti ortamı.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-149">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello second App Service Environment.</span></span>
* <span data-ttu-id="8d4dd-150">**webfrontend3.fe3ase.p.azurewebsites.NET:** dağıtılan hello örnek uygulaması örneğini hello üçüncü uygulama hizmeti ortamı.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-150">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello third App Service Environment.</span></span>

<span data-ttu-id="8d4dd-151">birden fazla Azure Uygulama Hizmeti uç noktası, hello tüm çalışan en kolay yolu tooregister hello **aynı** Azure bölgesi olan hello Powershell ile [Azure Kaynak Yöneticisi trafik Yöneticisi Destek] [ ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="8d4dd-151">hello easiest way tooregister multiple Azure App Service endpoints, all running in hello **same** Azure region, is with hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="8d4dd-152">Merhaba ilk adımı toocreate bir Azure Traffic Manager profilini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-152">hello first step is toocreate an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="8d4dd-153">Aşağıdaki Hello kodu hello profil hello örnek uygulama için nasıl oluşturulduğuna gösterir:</span><span class="sxs-lookup"><span data-stu-id="8d4dd-153">hello code below shows how hello profile was created for hello sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="8d4dd-154">Nasıl hello fark *RelativeDnsName* parametresi çok ayarlandığı*ana demo ölçeklenebilir*.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-154">Notice how hello *RelativeDnsName* parameter was set too*scalable-ase-demo*.</span></span>  <span data-ttu-id="8d4dd-155">Bu olduğunu nasıl hello etki alanı adı *ana demo.trafficmanager.net ölçeklenebilir* oluşturulur ve bir trafik Yöneticisi profili ile ilişkilendirilmiş.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-155">This is how hello domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="8d4dd-156">Merhaba *TrafficRoutingMethod* parametre tanımlar hello Yük Dengeleme İlkesi trafik Yöneticisi nasıl toospread müşteri yükünü tüm hello kullanılabilir uç noktaları arasında toodetermine kullanır.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-156">hello *TrafficRoutingMethod* parameter defines hello load balancing policy Traffic Manager will use toodetermine how toospread customer load across all of hello available endpoints.</span></span>  <span data-ttu-id="8d4dd-157">Bu örnek hello içinde *Weighted* yöntemi seçildi.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-157">In this example hello *Weighted* method was chosen.</span></span>  <span data-ttu-id="8d4dd-158">Bu tüm kayıtlı hello uygulama uç hello göreli ağırlığı her bitiş noktasıyla ilişkili temel yayılmasını müşteri isteklerine neden olur.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-158">This will result in customer requests being spread across all of hello registered application endpoints based on hello relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="8d4dd-159">Oluşturulan hello profiliyle her uygulama örneği toohello profili yerel bir Azure uç noktası olarak eklenir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-159">With hello profile created, each app instance is added toohello profile as a native Azure endpoint.</span></span>  <span data-ttu-id="8d4dd-160">Aşağıdaki Hello kodu bir başvuru tooeach ön uç web uygulaması getirir ve hello yapmamanız trafik Yöneticisi uç noktası olarak her uygulama ekler *uç noktası Targetresourceıd* parametresi.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-160">hello code below fetches a reference tooeach front end web app, and then adds each app as a Traffic Manager endpoint by way of hello *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="8d4dd-161">Nasıl bir çağrı çok fark*Ekle AzureTrafficManagerEndpointConfig* her tek tek uygulama örneği.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-161">Notice how there is one call too*Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="8d4dd-162">Merhaba *uç noktası Targetresourceıd* her Powershell komutunu parametresinde bir hello üç dağıtılan uygulama örneklerinin başvuruyor.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-162">hello *TargetResourceId* parameter in each Powershell command references one of hello three deployed app instances.</span></span>  <span data-ttu-id="8d4dd-163">Merhaba trafik Yöneticisi profili yük hello profilinde kayıtlı tüm üç uç noktaları arasında yayılır.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-163">hello Traffic Manager profile will spread load across all three endpoints registered in hello profile.</span></span>

<span data-ttu-id="8d4dd-164">Tüm üç uç noktaları kullanma hello hello hello için aynı değeri (10) *ağırlık* parametresi.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-164">All of hello three endpoints use hello same value (10) for hello *Weight* parameter.</span></span>  <span data-ttu-id="8d4dd-165">Bu trafik Yöneticisi yayılmasından müşteri isteklerine tüm üç uygulama örneklerde görece eşit olur.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-165">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-hello-apps-custom-domain-at-hello-traffic-manager-domain"></a><span data-ttu-id="8d4dd-166">Merhaba Traffic Manager etki alanına işaret hello uygulamanın özel etki alanı</span><span class="sxs-lookup"><span data-stu-id="8d4dd-166">Pointing hello App's Custom Domain at hello Traffic Manager Domain</span></span>
<span data-ttu-id="8d4dd-167">Merhaba son adım gerekli toopoint hello özel etki hello uygulama hello trafik yöneticisi etki alanıdır.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-167">hello final step necessary is toopoint hello custom domain of hello app at hello Traffic Manager domain.</span></span>  <span data-ttu-id="8d4dd-168">Merhaba örnek uygulama için bu işaret eden anlamına gelir *www.scalableasedemo.com* adresindeki *ana demo.trafficmanager.net ölçeklenebilir*.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-168">For hello sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="8d4dd-169">Bu adım hello özel etki alanı yöneten hello etki alanı kayıt şirketinizle tamamlandı toobe gerekir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-169">This step needs toobe completed with hello domain registrar that manages hello custom domain.</span></span>  

<span data-ttu-id="8d4dd-170">Kayıt şirketinizin etki alanı Yönetim Araçları'nı kullanarak bir CNAME kayıtları gereksinimlerini toobe hello Traffic Manager etki alanına hangi noktaları hello özel etki alanı oluşturuldu.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-170">Using your registrar's domain management tools, a CNAME records needs toobe created which points hello custom domain at hello Traffic Manager domain.</span></span>  <span data-ttu-id="8d4dd-171">Merhaba resimde bu CNAME yapılandırma benzer bir örnek gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="8d4dd-171">hello picture below shows an example of what this CNAME configuration looks like:</span></span>

![Özel etki alanı için CNAME][CNAMEforCustomDomain] 

<span data-ttu-id="8d4dd-173">Bu konuda ele değil de, her tek tek uygulama örneği ile de kayıtlı toohave hello özel etki alanı gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-173">Although not covered in this topic, remember that each individual app instance needs toohave hello custom domain registered with it as well.</span></span>  <span data-ttu-id="8d4dd-174">Aksi takdirde Merhaba uygulaması hello uygulamayla kayıtlı hello özel etki alanı yok ve bir istek tooan uygulama örneği kolaylaştırır, hello isteği başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-174">Otherwise if a request makes it tooan app instance, and hello application does not have hello custom domain registered with hello app, hello request will fail.</span></span>  

<span data-ttu-id="8d4dd-175">Bu örnek hello özel etki alanı içinde *www.scalableasedemo.com*, ve her uygulama örneğinin ilişkili hello özel etki alanı vardır.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-175">In this example hello custom domain is *www.scalableasedemo.com*, and each application instance has hello custom domain associated with it.</span></span>

![Özel Etki Alanı][CustomDomain] 

<span data-ttu-id="8d4dd-177">Azure uygulama hizmeti uygulamaları ile özel bir etki alanı kaydı bir özeti için aşağıdaki makaleye bakın hello bkz [özel etki alanlarını kaydetme][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="8d4dd-177">For a recap of of registering a custom domain with Azure App Service apps, see hello following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-hello-distributed-topology"></a><span data-ttu-id="8d4dd-178">Dağıtılmış topoloji Hello çalışıyor</span><span class="sxs-lookup"><span data-stu-id="8d4dd-178">Trying out hello Distributed Topology</span></span>
<span data-ttu-id="8d4dd-179">Merhaba son hello trafik Yöneticisi ve DNS yapılandırması yönelik isteklere sonucudur *www.scalableasedemo.com* dizisi aşağıdaki hello akar:</span><span class="sxs-lookup"><span data-stu-id="8d4dd-179">hello end result of hello Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through hello following sequence:</span></span>

1. <span data-ttu-id="8d4dd-180">DNS araması yapmak bir tarayıcı veya aygıt *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="8d4dd-180">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="8d4dd-181">Merhaba hello etki alanı kayıt CNAME girdisi hello DNS Arama yeniden yönlendirilen toobe tooAzure trafik Yöneticisi neden olur.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-181">hello CNAME entry at hello domain registrar causes hello DNS lookup toobe redirected tooAzure Traffic Manager.</span></span>
3. <span data-ttu-id="8d4dd-182">DNS araması yapılan *ana demo.trafficmanager.net ölçeklenebilir* hello Azure trafik Yöneticisi DNS sunucularından birinde karşı.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-182">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of hello Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="8d4dd-183">Merhaba Yük Dengeleme İlkesi tabanlı (Merhaba *TrafficRoutingMethod* hello trafik Yöneticisi profili oluştururken daha önce kullanılan parametresi), hello biri uç noktaları yapılandırılmış seçip dönüş trafik Yöneticisi Merhaba, FQDN'si uç nokta toohello tarayıcı veya aygıt.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-183">Based on hello load balancing policy (hello *TrafficRoutingMethod* parameter used earlier when creating hello Traffic Manager profile), Traffic Manager will select one of hello configured endpoints and return hello FQDN of that endpoint toohello browser or device.</span></span>
5. <span data-ttu-id="8d4dd-184">Bir uygulama hizmeti ortamı üzerinde çalışan bir uygulama örneğine hello URL'sini Hello hello uç noktası FQDN'si olduğuna göre hello tarayıcı veya aygıt bir Microsoft Azure DNS sunucusu tooresolve hello FQDN tooan IP adresi sorar.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-184">Since hello FQDN of hello endpoint is hello Url of an app instance running on an App Service Environment, hello browser or device will ask a Microsoft Azure DNS server tooresolve hello FQDN tooan IP address.</span></span> 
6. <span data-ttu-id="8d4dd-185">Merhaba tarayıcı veya aygıt hello HTTP/S isteği toohello IP adresine gönderir.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-185">hello browser or device will send hello HTTP/S request toohello IP address.</span></span>  
7. <span data-ttu-id="8d4dd-186">Merhaba isteği hello App Service ortamları biri üzerinde çalışan hello app örnekleri birinde ulaşırsınız.</span><span class="sxs-lookup"><span data-stu-id="8d4dd-186">hello request will arrive at one of hello app instances running on one of hello App Service Environments.</span></span>

<span data-ttu-id="8d4dd-187">Merhaba konsol resimde gösterilmektedir hello üç örnek uygulama hizmeti ortamları biri üzerinde çalışan hello örnek uygulamanın özel etki alanı başarıyla çözümleme tooan uygulama örneği için DNS araması (Bu durumda hello hello üç uygulama hizmeti ortamları saniye):</span><span class="sxs-lookup"><span data-stu-id="8d4dd-187">hello console picture below shows a DNS lookup for hello sample app's custom domain successfully resolving tooan app instance running on one of hello three sample App Service Environments (in this case hello second of hello three App Service Environments):</span></span>

![DNS araması][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="8d4dd-189">Ek bağlantıları ve bilgileri</span><span class="sxs-lookup"><span data-stu-id="8d4dd-189">Additional Links and Information</span></span>
<span data-ttu-id="8d4dd-190">Tüm makaleler ve nasıl-için uygulama hizmeti ortamları hello kullanılabilir için kullanıcının [uygulama hizmeti ortamları için Benioku](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="8d4dd-190">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="8d4dd-191">Merhaba Powershell belgelerine [Azure Kaynak Yöneticisi trafik Yöneticisi Destek][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="8d4dd-191">Documentation on hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
