---
title: "App Service Ortamları ile Coğrafi Olarak Dağıtılmış Ölçek"
description: "Trafik Yöneticisi ve App Service ortamları coğrafi dağıtım kullanarak uygulamaları yatay ölçek öğrenin."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 505301b2650c9b8bafdad352055f30e55148ab0c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="9b71b-103">App Service Ortamları ile Coğrafi Olarak Dağıtılmış Ölçek</span><span class="sxs-lookup"><span data-stu-id="9b71b-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="9b71b-104">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="9b71b-104">Overview</span></span>
<span data-ttu-id="9b71b-105">Çok büyük ölçekli gerektiren uygulama senaryoları tek bir uygulama dağıtım için kullanılabilir olan işlem kaynak kapasitesini aşamaz.</span><span class="sxs-lookup"><span data-stu-id="9b71b-105">Application scenarios which require very high scale can exceed the compute resource capacity available to a single deployment of an app.</span></span>  <span data-ttu-id="9b71b-106">Uygulamaları oylama, spor olaylar ve televised eğlence olaylar tüm son derece yüksek ölçekli gerektiren senaryolara verilen örneklerdir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="9b71b-107">Yüksek ölçekli gereksinimleri, birden çok uygulama dağıtımı tek bir bölge içinde ve aynı zamanda bölgelere, aşırı yük gereksinimlerini karşılamak için yapılan uygulamalarını, yatay olarak ölçekleme tarafından karşılanabilir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, to handle extreme load requirements.</span></span>

<span data-ttu-id="9b71b-108">Uygulama hizmeti ortamları yatay ölçek genişletme için ideal bir platform ' dir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-108">App Service Environments are an ideal platform for horizontal scale out.</span></span>  <span data-ttu-id="9b71b-109">Bir kez bir uygulama hizmeti yapılandırması seçili bilinen istek hızı destekleyen ortamı, geliştiricilerin ek App Service istenen yoğun yük kapasitesi elde etmek için ortamları "Tanımlama Bilgisi kesici" şekilde dağıtabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9b71b-109">Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion to attain a desired peak load capacity.</span></span>

<span data-ttu-id="9b71b-110">Örneğin bir uygulama hizmeti ortamı yapılandırması üzerinde çalışan bir uygulama (RPS) saniyede 20 K isteklerini işlemek için test varsayalım.</span><span class="sxs-lookup"><span data-stu-id="9b71b-110">For example suppose an app running on an App Service Environment configuration has been tested to handle 20K requests per second (RPS).</span></span>  <span data-ttu-id="9b71b-111">İstenen yoğun yük kapasitesi 100 K RPS ise, sonra beş (5) App Service ortamları oluşturulabilir ve uygulamanın en fazla tahmini yükleme işleyebilir emin olmak için yapılandırılmış.</span><span class="sxs-lookup"><span data-stu-id="9b71b-111">If the desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured to ensure the application can handle the maximum projected load.</span></span>

<span data-ttu-id="9b71b-112">Müşteriler genellikle bir özel (ya da gösterim) etki alanını kullanan uygulamalara erişim olduğundan, geliştiricilerin uygulama isteklerini tüm uygulama hizmeti ortamı örnekleri arasında dağıtmak için bir yol gerekir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-112">Since customers typically access apps using a custom (or vanity) domain, developers need a way to distribute app requests across all of the App Service Environment instances.</span></span>  <span data-ttu-id="9b71b-113">Bunu gerçekleştirmek için harika bir özel etki alanı kullanarak çözümlemeye yoludur bir [Azure Traffic Manager profilini][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="9b71b-113">A great way to accomplish this is to resolve the custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="9b71b-114">Trafik Yöneticisi profili, tek tek uygulama hizmeti ortamları hiç işaret edecek şekilde yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-114">The Traffic Manager profile can be configured to point at all of the individual App Service Environments.</span></span>  <span data-ttu-id="9b71b-115">Trafik Yöneticisi otomatik olarak dağıtma müşteriler tüm App Service ortamları Yük Dengeleme trafik Yöneticisi profili ayarlarında göre işler.</span><span class="sxs-lookup"><span data-stu-id="9b71b-115">Traffic Manager will automatically handle distributing customers across all of the App Service Environments based on the load balancing settings in the Traffic Manager profile.</span></span>  <span data-ttu-id="9b71b-116">Bu yaklaşım olup tüm App Service ortamları tek bir Azure bölgesinde dağıtılan veya birçok Azure bölgesinde dünya çapında dağıtılan bağımsız olarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="9b71b-116">This approach works regardless of whether all of the App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="9b71b-117">Ayrıca, müşteriler uygulamaları üzerinden gösterim etki alanına erişim bu yana müşteriler bir uygulamayı çalıştıran uygulama hizmeti ortamları sayısı farkında değildir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-117">Furthermore, since customers access apps through the vanity domain, customers are unaware of the number of App Service Environments running an app.</span></span>  <span data-ttu-id="9b71b-118">Sonuç olarak geliştiricilerin hızla ve kolayca, ekleyip kaldırabilirsiniz, App Service ortamları gözlemlenen trafiği yüküne göre.</span><span class="sxs-lookup"><span data-stu-id="9b71b-118">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="9b71b-119">Aşağıdaki alanlara yönelik kavramsal diyagram yatay çıkışı tek bir bölge içinde üç uygulama hizmeti ortamları boyunca ölçeklendirilmiş bir uygulama gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-119">The conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Kavramsal mimarisi][ConceptualArchitecture] 

<span data-ttu-id="9b71b-121">Bu konunun geri kalanında birden fazla App Service ortamları kullanarak örnek uygulama için Dağıtılmış bir topolojiyi ayarlama ile ilgili adım adım anlatılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="9b71b-121">The remainder of this topic walks through the steps involved with setting up a distributed topology for the sample app using multiple App Service Environments.</span></span>

## <a name="planning-the-topology"></a><span data-ttu-id="9b71b-122">Topoloji planlama</span><span class="sxs-lookup"><span data-stu-id="9b71b-122">Planning the Topology</span></span>
<span data-ttu-id="9b71b-123">Dağıtılmış uygulama ayak izini çıkışı yapılandırmadan önce önceden birkaç parça bilgiye sahip yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-123">Before building out a distributed app footprint, it helps to have a few pieces information ahead of time.</span></span>

* <span data-ttu-id="9b71b-124">**Uygulama için özel etki alanı:** müşteriler uygulamaya erişmek için kullanacağı özel etki alanı adı nedir?</span><span class="sxs-lookup"><span data-stu-id="9b71b-124">**Custom domain for the app:**  What is the custom domain name that customers will use to access the app?</span></span>  <span data-ttu-id="9b71b-125">İçin örnek uygulama özel etki alanı adıdır *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="9b71b-125">For the sample app the custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="9b71b-126">**Trafik yöneticisi etki alanı:** bir etki alanı adı oluştururken seçilmesi gerekir bir [Azure Traffic Manager profilini][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="9b71b-126">**Traffic Manager domain:**  A domain name needs to be chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="9b71b-127">Bu ad ile birleştirilmiş *trafficmanager.net* soneki trafik Yöneticisi tarafından yönetilen bir etki alanı girişi kaydeder.</span><span class="sxs-lookup"><span data-stu-id="9b71b-127">This name will be combined with the *trafficmanager.net* suffix to register a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="9b71b-128">Örnek uygulama için ad seçilmiş olan *ana demo ölçeklenebilir*.</span><span class="sxs-lookup"><span data-stu-id="9b71b-128">For the sample app, the name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="9b71b-129">Sonuç olarak, trafik Yöneticisi tarafından yönetilen tam etki alanı adıdır *ana demo.trafficmanager.net ölçeklenebilir*.</span><span class="sxs-lookup"><span data-stu-id="9b71b-129">As a result the full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="9b71b-130">**Uygulama ayak ölçeklendirmeye yönelik stratejisi:** uygulama ayak tek bir bölge içinde birden fazla App Service ortamları arasında dağıtılmış?</span><span class="sxs-lookup"><span data-stu-id="9b71b-130">**Strategy for scaling the app footprint:**  Will the application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="9b71b-131">Birden çok bölgeye?</span><span class="sxs-lookup"><span data-stu-id="9b71b-131">Multiple regions?</span></span>  <span data-ttu-id="9b71b-132">Bir karışımını-ve-eşleşme her iki yaklaşımın?</span><span class="sxs-lookup"><span data-stu-id="9b71b-132">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="9b71b-133">Karar ne kadar iyi bir uygulamanın arka uç altyapısı destekleme rest ölçeklendirebilirsiniz yanı sıra burada müşteri trafiği kaynaklanan beklentilerini bağlı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9b71b-133">The decision should be based on expectations of where customer traffic will originate, as well as how well the rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="9b71b-134">Örneğin, durum bilgisi olmayan bir % 100 uygulaması ile bir uygulama yüksek düzeyde birçok Azure bölgesinde dağıtılan uygulama hizmeti ortamları çarpılmasıyla Azure bölgesi başına birden fazla App Service ortamları birleşimini kullanarak genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-134">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="9b71b-135">15 + ortak Azure bölgeler ile seçim yapabileceğiniz, müşterilerin gerçekten dünya çapında hiper ölçekli uygulama ayak izini oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9b71b-135">With 15+ public Azure regions available to choose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="9b71b-136">Bu makale için kullanılan örnek uygulama için üç uygulama hizmeti ortamları bir tek Azure bölgesinde (Orta Güney ABD) oluşturuldu.</span><span class="sxs-lookup"><span data-stu-id="9b71b-136">For the sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="9b71b-137">**Uygulama hizmeti ortamları için adlandırma:** her uygulama hizmeti ortamı benzersiz bir ad gerektirir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-137">**Naming convention for the App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="9b71b-138">Bir veya iki uygulama hizmeti ortamları her uygulama hizmeti ortamı belirlemenize yardımcı olması için bir adlandırma kuralı yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="9b71b-138">Beyond one or two App Service Environments it is helpful to have a naming convention to help identify each App Service Environment.</span></span>  <span data-ttu-id="9b71b-139">Örnek uygulama için basit bir adlandırma kuralı kullanıldı.</span><span class="sxs-lookup"><span data-stu-id="9b71b-139">For the sample app a simple naming convention was used.</span></span>  <span data-ttu-id="9b71b-140">Üç uygulama hizmeti ortamları adlarının *fe1ase*, *fe2ase*, ve *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="9b71b-140">The names of the three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="9b71b-141">**Uygulamalar için adlandırma:** uygulama birden çok örneğini dağıtılacak olmadığından dağıtılan uygulama her örneği için bir ad gerekli.</span><span class="sxs-lookup"><span data-stu-id="9b71b-141">**Naming convention for the apps:**  Since multiple instances of the app will be deployed, a name is needed for each instance of the deployed app.</span></span>  <span data-ttu-id="9b71b-142">Bir bilinen az, ancak çok kullanışlı uygulama hizmeti ortamları aynı uygulama adı birden fazla App Service ortamları kullanılabilir özelliğidir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-142">One little-known but very convenient feature of App Service Environments is that the same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="9b71b-143">Her uygulama hizmeti ortamı benzersiz etki alanı soneki olduğundan, geliştiricilerin her ortamda tam aynı uygulama adı yeniden kullanmayı seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9b71b-143">Since each App Service Environment has a unique domain suffix, developers can choose to re-use the exact same app name in each environment.</span></span>  <span data-ttu-id="9b71b-144">Örneğin, bir geliştirici uygulamalar gibi adlı sahip olabilir: *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, vb..  Örnek uygulama için yine de her bir uygulama örneği de benzersiz bir ada sahip.</span><span class="sxs-lookup"><span data-stu-id="9b71b-144">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For the sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="9b71b-145">Kullanılan uygulama örneği adları *webfrontend1*, *webfrontend2*, ve *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="9b71b-145">The app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-the-traffic-manager-profile"></a><span data-ttu-id="9b71b-146">Trafik Yöneticisi profili ayarlama</span><span class="sxs-lookup"><span data-stu-id="9b71b-146">Setting up the Traffic Manager Profile</span></span>
<span data-ttu-id="9b71b-147">Bir uygulama birden çok örneği üzerinde birden fazla App Service ortamları dağıtıldığında, tek tek uygulama örnekleri ile trafik Yöneticisi kaydedilebilir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-147">Once multiple instances of an app are deployed on multiple App Service Environments, the  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="9b71b-148">Örnek uygulama için bir trafik Yöneticisi profili için gerekli *ana demo.trafficmanager.net ölçeklenebilir* , yönlendirebilirsiniz müşteriler herhangi şu dağıtılmış bir uygulamayı örnekleri:</span><span class="sxs-lookup"><span data-stu-id="9b71b-148">For the sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers to any of the following deployed app instances:</span></span>

* <span data-ttu-id="9b71b-149">**webfrontend1.fe1ase.p.azurewebsites.NET:** ilk uygulama hizmeti ortamı üzerinde dağıtılan örnek uygulama örneği.</span><span class="sxs-lookup"><span data-stu-id="9b71b-149">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of the sample app deployed on the first App Service Environment.</span></span>
* <span data-ttu-id="9b71b-150">**webfrontend2.fe2ase.p.azurewebsites.NET:** ikinci uygulama hizmeti ortamı üzerinde dağıtılan örnek uygulama örneği.</span><span class="sxs-lookup"><span data-stu-id="9b71b-150">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of the sample app deployed on the second App Service Environment.</span></span>
* <span data-ttu-id="9b71b-151">**webfrontend3.fe3ase.p.azurewebsites.NET:** üçüncü uygulama hizmeti ortamı üzerinde dağıtılan örnek uygulama örneği.</span><span class="sxs-lookup"><span data-stu-id="9b71b-151">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of the sample app deployed on the third App Service Environment.</span></span>

<span data-ttu-id="9b71b-152">Birden fazla Azure Uygulama Hizmeti uç noktası, içindeki tüm çalışan kaydetmek için en kolay yolu **aynı** Azure bölgesi Powershell ile olan [Azure Kaynak Yöneticisi trafik Yöneticisi Destek][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="9b71b-152">The easiest way to register multiple Azure App Service endpoints, all running in the **same** Azure region, is with the Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="9b71b-153">İlk adım, bir Azure Traffic Manager profilini oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="9b71b-153">The first step is to create an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="9b71b-154">Aşağıdaki kod, profil için örnek uygulama nasıl oluşturulduğuna gösterir:</span><span class="sxs-lookup"><span data-stu-id="9b71b-154">The code below shows how the profile was created for the sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="9b71b-155">Bildirim nasıl *RelativeDnsName* parametresi ayarlandığı *ana demo ölçeklenebilir*.</span><span class="sxs-lookup"><span data-stu-id="9b71b-155">Notice how the *RelativeDnsName* parameter was set to *scalable-ase-demo*.</span></span>  <span data-ttu-id="9b71b-156">Bunun nasıl etki alanı adı *ana demo.trafficmanager.net ölçeklenebilir* oluşturulur ve bir trafik Yöneticisi profili ile ilişkilendirilmiş.</span><span class="sxs-lookup"><span data-stu-id="9b71b-156">This is how the domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="9b71b-157">*TrafficRoutingMethod* parametre tanımlar Yük Dengeleme İlkesi trafik Yöneticisi nasıl müşteri yük tüm kullanılabilir uç noktaları arasında yayılan belirlemek için kullanır.</span><span class="sxs-lookup"><span data-stu-id="9b71b-157">The *TrafficRoutingMethod* parameter defines the load balancing policy Traffic Manager will use to determine how to spread customer load across all of the available endpoints.</span></span>  <span data-ttu-id="9b71b-158">Bu örnekte *Weighted* yöntemi seçildi.</span><span class="sxs-lookup"><span data-stu-id="9b71b-158">In this example the *Weighted* method was chosen.</span></span>  <span data-ttu-id="9b71b-159">Bu tüm her bitiş noktasıyla ilişkili göreli ağırlığı göre kayıtlı uygulama uç noktaları yayılmasını müşteri isteklerine neden olur.</span><span class="sxs-lookup"><span data-stu-id="9b71b-159">This will result in customer requests being spread across all of the registered application endpoints based on the relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="9b71b-160">Oluşturulan profiliyle her uygulama örneği profiline bir yerel Azure uç noktası olarak eklenir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-160">With the profile created, each app instance is added to the profile as a native Azure endpoint.</span></span>  <span data-ttu-id="9b71b-161">Aşağıdaki kodu her ön uç web uygulaması için bir başvuru getirir ve bir trafik Yöneticisi uç noktası tarafından yolu olarak her uygulama ekler *uç noktası Targetresourceıd* parametresi.</span><span class="sxs-lookup"><span data-stu-id="9b71b-161">The code below fetches a reference to each front end web app, and then adds each app as a Traffic Manager endpoint by way of the *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="9b71b-162">Nasıl yapılan bir çağrı fark *Ekle AzureTrafficManagerEndpointConfig* her tek tek uygulama örneği.</span><span class="sxs-lookup"><span data-stu-id="9b71b-162">Notice how there is one call to *Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="9b71b-163">*Uç noktası Targetresourceıd* her Powershell komutunu parametresinde üç dağıtılmış bir uygulamayı örneklerden birini başvuruyor.</span><span class="sxs-lookup"><span data-stu-id="9b71b-163">The *TargetResourceId* parameter in each Powershell command references one of the three deployed app instances.</span></span>  <span data-ttu-id="9b71b-164">Trafik Yöneticisi profili yükleme profilinde kayıtlı tüm üç uç noktaları arasında yayılır.</span><span class="sxs-lookup"><span data-stu-id="9b71b-164">The Traffic Manager profile will spread load across all three endpoints registered in the profile.</span></span>

<span data-ttu-id="9b71b-165">Üç bitiş noktalarının tümü için aynı değeri (10) kullanması *ağırlık* parametresi.</span><span class="sxs-lookup"><span data-stu-id="9b71b-165">All of the three endpoints use the same value (10) for the *Weight* parameter.</span></span>  <span data-ttu-id="9b71b-166">Bu trafik Yöneticisi yayılmasından müşteri isteklerine tüm üç uygulama örneklerde görece eşit olur.</span><span class="sxs-lookup"><span data-stu-id="9b71b-166">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-the-apps-custom-domain-at-the-traffic-manager-domain"></a><span data-ttu-id="9b71b-167">Uygulamanın özel etki alanı trafik yöneticisi etki alanına işaret eden</span><span class="sxs-lookup"><span data-stu-id="9b71b-167">Pointing the App's Custom Domain at the Traffic Manager Domain</span></span>
<span data-ttu-id="9b71b-168">Son gerekli özel etki alanı trafik yöneticisi etki alanındaki uygulamanın işaret edecek şekilde adımdır.</span><span class="sxs-lookup"><span data-stu-id="9b71b-168">The final step necessary is to point the custom domain of the app at the Traffic Manager domain.</span></span>  <span data-ttu-id="9b71b-169">Örnek uygulama için bu işaret eden anlamına gelir *www.scalableasedemo.com* adresindeki *ana demo.trafficmanager.net ölçeklenebilir*.</span><span class="sxs-lookup"><span data-stu-id="9b71b-169">For the sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="9b71b-170">Bu adım, özel etki alanı yöneten etki alanı kayıt şirketi ile tamamlanması gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="9b71b-170">This step needs to be completed with the domain registrar that manages the custom domain.</span></span>  

<span data-ttu-id="9b71b-171">Kayıt şirketinizin etki alanı Yönetim Araçları'nı kullanarak bir CNAME özel etki alanı trafik yöneticisi etki alanına işaret ettiği oluşturulacak gereksinimlerini kaydeder.</span><span class="sxs-lookup"><span data-stu-id="9b71b-171">Using your registrar's domain management tools, a CNAME records needs to be created which points the custom domain at the Traffic Manager domain.</span></span>  <span data-ttu-id="9b71b-172">Aşağıdaki resimde bu CNAME yapılandırma benzer bir örnek gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="9b71b-172">The picture below shows an example of what this CNAME configuration looks like:</span></span>

![Özel etki alanı için CNAME][CNAMEforCustomDomain] 

<span data-ttu-id="9b71b-174">Bu konuda ele değil de, her tek tek uygulama örneği ile de kayıtlı özel etki alanı sahip olması gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="9b71b-174">Although not covered in this topic, remember that each individual app instance needs to have the custom domain registered with it as well.</span></span>  <span data-ttu-id="9b71b-175">Aksi takdirde, uygulama örneğini istekte bulunur ve uygulamanın uygulamayla kayıtlı özel etki alanı yok, isteği başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="9b71b-175">Otherwise if a request makes it to an app instance, and the application does not have the custom domain registered with the app, the request will fail.</span></span>  

<span data-ttu-id="9b71b-176">Bu örnekte özel etki alanıdır *www.scalableasedemo.com*, ve ilişkili özel etki alanı her uygulama örneği vardır.</span><span class="sxs-lookup"><span data-stu-id="9b71b-176">In this example the custom domain is *www.scalableasedemo.com*, and each application instance has the custom domain associated with it.</span></span>

![Özel Etki Alanı][CustomDomain] 

<span data-ttu-id="9b71b-178">Azure uygulama hizmeti uygulamaları ile özel bir etki alanı kaydı bir özeti için aşağıdaki makaleye bakın [özel etki alanlarını kaydetme][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="9b71b-178">For a recap of of registering a custom domain with Azure App Service apps, see the following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-the-distributed-topology"></a><span data-ttu-id="9b71b-179">Dağıtılmış topoloji çalışıyor</span><span class="sxs-lookup"><span data-stu-id="9b71b-179">Trying out the Distributed Topology</span></span>
<span data-ttu-id="9b71b-180">Trafik Yöneticisi ve DNS yapılandırması nihai sonucu isteklerine için olan *www.scalableasedemo.com* aşağıdakiler akar:</span><span class="sxs-lookup"><span data-stu-id="9b71b-180">The end result of the Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through the following sequence:</span></span>

1. <span data-ttu-id="9b71b-181">DNS araması yapmak bir tarayıcı veya aygıt *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="9b71b-181">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="9b71b-182">Etki alanı kayıt CNAME girdisi Azure trafik Yöneticisi için yeniden yönlendirilmesi için DNS araması neden olur.</span><span class="sxs-lookup"><span data-stu-id="9b71b-182">The CNAME entry at the domain registrar causes the DNS lookup to be redirected to Azure Traffic Manager.</span></span>
3. <span data-ttu-id="9b71b-183">DNS araması yapılan *ana demo.trafficmanager.net ölçeklenebilir* Azure trafik Yöneticisi DNS sunucularını birini karşı.</span><span class="sxs-lookup"><span data-stu-id="9b71b-183">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of the Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="9b71b-184">Yük Dengeleme İlkesi göre ( *TrafficRoutingMethod* trafik Yöneticisi profili oluştururken daha önce kullanılan parametresi), trafik Yöneticisi yapılandırılmış uç birini seçin ve bu uç FQDN'sini tarayıcı veya aygıt geri dönün.</span><span class="sxs-lookup"><span data-stu-id="9b71b-184">Based on the load balancing policy (the *TrafficRoutingMethod* parameter used earlier when creating the Traffic Manager profile), Traffic Manager will select one of the configured endpoints and return the FQDN of that endpoint to the browser or device.</span></span>
5. <span data-ttu-id="9b71b-185">Uç nokta FQDN'sini bir uygulama hizmeti ortamı üzerinde çalışan bir uygulama örneğine URL'sini olduğundan, tarayıcı veya aygıt IP adresine FQDN'yi çözümlemek için bir Microsoft Azure DNS sunucusu sorar.</span><span class="sxs-lookup"><span data-stu-id="9b71b-185">Since the FQDN of the endpoint is the Url of an app instance running on an App Service Environment, the browser or device will ask a Microsoft Azure DNS server to resolve the FQDN to an IP address.</span></span> 
6. <span data-ttu-id="9b71b-186">HTTP/S isteği, tarayıcı veya aygıt IP adresine gönderir.</span><span class="sxs-lookup"><span data-stu-id="9b71b-186">The browser or device will send the HTTP/S request to the IP address.</span></span>  
7. <span data-ttu-id="9b71b-187">İstek, App Service ortamları biri üzerinde çalışan uygulama örnekleri birinde ulaşırsınız.</span><span class="sxs-lookup"><span data-stu-id="9b71b-187">The request will arrive at one of the app instances running on one of the App Service Environments.</span></span>

<span data-ttu-id="9b71b-188">Konsol resimde üç örnek uygulama hizmeti ortamları (Bu durumda ikinci üç uygulama hizmeti ortamları,) biri üzerinde çalışan bir uygulama örneği başarıyla çözümleme örnek uygulamanın özel etki alanı için DNS araması gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="9b71b-188">The console picture below shows a DNS lookup for the sample app's custom domain successfully resolving to an app instance running on one of the three sample App Service Environments (in this case the second of the three App Service Environments):</span></span>

![DNS araması][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="9b71b-190">Ek bağlantıları ve bilgileri</span><span class="sxs-lookup"><span data-stu-id="9b71b-190">Additional Links and Information</span></span>
<span data-ttu-id="9b71b-191">Tüm makaleler ve nasıl-için uygulama hizmeti ortamları kullanılabilir için kullanıcının [uygulama hizmeti ortamları için Benioku](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="9b71b-191">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="9b71b-192">Belgeleri, Powershell [Azure Kaynak Yöneticisi trafik Yöneticisi Destek][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="9b71b-192">Documentation on the Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
