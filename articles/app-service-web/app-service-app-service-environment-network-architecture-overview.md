---
title: "App Service Ortamlarının Ağ Mimarisine Genel Bakış"
description: "Ağ topolojisi ofApp hizmeti ortamları mimarisine genel bakış."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: 13d03a37-1fe2-4e3e-9d57-46dfb330ba52
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/04/2016
ms.author: stefsch
ms.openlocfilehash: b2afe86d8774b449a257312d4e60b5f6125336ca
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="network-architecture-overview-of-app-service-environments"></a><span data-ttu-id="f1280-103">App Service Ortamlarının Ağ Mimarisine Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="f1280-103">Network Architecture Overview of App Service Environments</span></span>
## <a name="introduction"></a><span data-ttu-id="f1280-104">Giriş</span><span class="sxs-lookup"><span data-stu-id="f1280-104">Introduction</span></span>
<span data-ttu-id="f1280-105">Uygulama hizmeti ortamları her zaman bir alt ağ içinde oluşturulmuş bir [sanal ağ] [ virtualnetwork] -uygulama hizmeti ortamı'nda çalışan uygulamalar aynı içinde sanal bulunan özel uç noktalar ile iletişim kurabilir Ağ topolojisi.</span><span class="sxs-lookup"><span data-stu-id="f1280-105">App Service Environments are always created within a subnet of a [virtual network][virtualnetwork] - apps running in an App Service Environment can communicate with private endpoints located within the same virtual network topology.</span></span>  <span data-ttu-id="f1280-106">Müşteriler kendi sanal ağ altyapısı bölümlerini kilitlemek, bir uygulama hizmeti ortamı ile ortaya ağ iletişimi akışları türlerini anlamak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="f1280-106">Since customers may lock down parts of their virtual network infrastructure, it is important to understand the types of network communication flows that occur with an App Service Environment.</span></span>

## <a name="general-network-flow"></a><span data-ttu-id="f1280-107">Genel ağ akışı</span><span class="sxs-lookup"><span data-stu-id="f1280-107">General Network Flow</span></span>
<span data-ttu-id="f1280-108">Uygulama hizmeti ortamı (ana) uygulamaları için ortak bir sanal IP adresi (VIP) kullandığında, tüm gelen trafiği, genel VIP ulaşır.</span><span class="sxs-lookup"><span data-stu-id="f1280-108">When an App Service Environment (ASE) uses a public virtual IP address (VIP) for apps, all inbound traffic arrives on that public VIP.</span></span>  <span data-ttu-id="f1280-109">Bu uygulamalar için HTTP ve HTTPS trafiğini yanı sıra, diğer trafik FTP, uzaktan hata ayıklama işlevselliği ve Azure yönetim işlemleri için içerir.</span><span class="sxs-lookup"><span data-stu-id="f1280-109">This includes HTTP and HTTPS traffic for apps, as well as other traffic for FTP, remote debugging functionality, and Azure management operations.</span></span>  <span data-ttu-id="f1280-110">Ortak VIP kullanılabilen belirli bağlantı noktaları (gerekli ve isteğe bağlı) tam listesi için makaleyi bakın [gelen trafik denetleme] [ controllinginboundtraffic] bir uygulama hizmeti ortamı.</span><span class="sxs-lookup"><span data-stu-id="f1280-110">For a full list of the specific ports (both required and optional) that are available on the public VIP see the article on [controlling inbound traffic][controllinginboundtraffic] to an App Service Environment.</span></span> 

<span data-ttu-id="f1280-111">Uygulama hizmeti ortamları, aynı zamanda bir ILB (iç yük dengeleyici) adresi olarak da adlandırılan yalnızca bir sanal ağ iç adresine bağlı çalışan uygulamaları destekler.</span><span class="sxs-lookup"><span data-stu-id="f1280-111">App Service Environments also support running apps that are bound only to a virtual network internal address, also referred to as an ILB (internal load balancer) address.</span></span>  <span data-ttu-id="f1280-112">Uygulamalar ve bunun yanı sıra uzaktan hata ayıklama çağrıları için etkin ana, HTTP ve HTTPS trafiği üzerinde bir ILB ILB adresinde ulaşır.</span><span class="sxs-lookup"><span data-stu-id="f1280-112">On an ILB enabled ASE, HTTP and HTTPS traffic for apps as well as remote debugging calls, arrive on the ILB address.</span></span>  <span data-ttu-id="f1280-113">ILB ana yapılandırmaların çoğu için FTP/FTPS trafiğinin de ILB adresinde ulaşırsınız.</span><span class="sxs-lookup"><span data-stu-id="f1280-113">For most common ILB-ASE configurations, FTP/FTPS traffic will also arrive on the ILB address.</span></span>  <span data-ttu-id="f1280-114">Ancak Azure yönetim işlemlerini hala bir ILB, genel VIP bağlantı noktalarına 454/455 akar ana etkin.</span><span class="sxs-lookup"><span data-stu-id="f1280-114">However Azure management operations will still flow to ports 454/455 on the public VIP of an ILB enabled ASE.</span></span>

<span data-ttu-id="f1280-115">Aşağıdaki diyagram, burada uygulamaları bir genel sanal IP adresine bağlı olan bir uygulama hizmeti ortamı için çeşitli gelen ve giden ağ akışına genel bir bakış gösterir:</span><span class="sxs-lookup"><span data-stu-id="f1280-115">The diagram below shows an overview of the various inbound and outbound network flows for an App Service Environment where the apps are bound to a public virtual IP address:</span></span>

![Genel ağ akışlar][GeneralNetworkFlows]

<span data-ttu-id="f1280-117">Bir uygulama hizmeti ortamı çeşitli özel müşteri uç noktalar ile iletişim kurabilir.</span><span class="sxs-lookup"><span data-stu-id="f1280-117">An App Service Environment can communicate with a variety of private customer endpoints.</span></span>  <span data-ttu-id="f1280-118">Örneğin, uygulama hizmeti ortamı'nda çalışan uygulamalar aynı sanal ağ topolojisinde Iaas sanal makinelerde çalışan veritabanı sunucuları bağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="f1280-118">For example, apps running in the App Service Environment can connect to database server(s) running on IaaS virtual machines in the same virtual network topology.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f1280-119">Ağ Diyagramı baktığınızda, diğer işlem kaynaklarını"" uygulama hizmeti ortamı'ndan farklı bir alt ağ dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="f1280-119">Looking at the network diagram, the "Other Compute Resources" are deployed in a different Subnet from the App Service Environment.</span></span> <span data-ttu-id="f1280-120">Ana ile aynı alt ağdaki kaynakları dağıtma (dışında belirli içi ana yönlendirme) kaynaklarla ana bağlantısını engeller.</span><span class="sxs-lookup"><span data-stu-id="f1280-120">Deploying resources in the same Subnet with the ASE will block connectivity from ASE to those resources (except for specific intra-ASE routing).</span></span> <span data-ttu-id="f1280-121">Farklı bir alt ağa, bunun yerine (aynı VNET içinde) dağıtın.</span><span class="sxs-lookup"><span data-stu-id="f1280-121">Deploy to a different Subnet instead (in the same VNET).</span></span> <span data-ttu-id="f1280-122">Uygulama hizmeti ortamı sonra bağlanabiliyor olacaktır.</span><span class="sxs-lookup"><span data-stu-id="f1280-122">The App Service Environment will then be able to connect.</span></span> <span data-ttu-id="f1280-123">Hiçbir ek yapılandırma gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="f1280-123">No additional configuration is necessary.</span></span>
> 
> 

<span data-ttu-id="f1280-124">Uygulama hizmeti ortamları yönetme ve bir uygulama hizmeti ortamı işletim için gerekli kaynaklar da Sql DB ve Azure Storage ile iletişim kurar.</span><span class="sxs-lookup"><span data-stu-id="f1280-124">App Service Environments also communicate with Sql DB and Azure Storage resources necessary for managing and operating an App Service Environment.</span></span>  <span data-ttu-id="f1280-125">Diğer uzak Azure bölgelerinde bulunan bir uygulama hizmeti ortamı kurduğu Sql ve depolama kaynaklarını bazıları uygulama hizmeti ortamı ile aynı bölgede yer alır.</span><span class="sxs-lookup"><span data-stu-id="f1280-125">Some of the Sql and Storage resources that an App Service Environment communicates with are located in the same region as the App Service Environment, while others are located in remote Azure regions.</span></span>  <span data-ttu-id="f1280-126">Sonuç olarak, giden Internet bağlantısı her zaman düzgün çalışması uygulama hizmeti ortamı için gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="f1280-126">As a result, outbound connectivity to the Internet is always required for an App Service Environment to function properly.</span></span> 

<span data-ttu-id="f1280-127">Bir uygulama hizmeti ortamı bir alt ağda dağıtılan olduğundan, alt ağa gelen trafiği denetlemek için ağ güvenlik grupları kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="f1280-127">Since an App Service Environment is deployed in a subnet, network security groups can be used to control inbound traffic to the subnet.</span></span>  <span data-ttu-id="f1280-128">Bir uygulama hizmeti ortamına gelen trafiği denetlemek nasıl ilgili ayrıntılar için şu [makale][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="f1280-128">For details on how to control inbound traffic to an App Service Environment, see the following [article][controllinginboundtraffic].</span></span>

<span data-ttu-id="f1280-129">Uygulama hizmeti ortamı ', giden Internet bağlantısına izin vermek nasıl ilgili ayrıntılar için aşağıdaki makaleyi ile çalışma hakkında [hızlı rota][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="f1280-129">For details on how to allow outbound Internet connectivity from an App Service Environment, see the following article about working with [Express Route][ExpressRoute].</span></span>  <span data-ttu-id="f1280-130">Ve kullanarak zorlanan tünel siteden siteye bağlantı ile çalışırken makalesinde açıklanan aynı yaklaşımı geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="f1280-130">The same approach described in the article applies when working with Site-to-Site connectivity and using forced tunneling.</span></span>

## <a name="outbound-network-addresses"></a><span data-ttu-id="f1280-131">Giden ağ adresleri</span><span class="sxs-lookup"><span data-stu-id="f1280-131">Outbound Network Addresses</span></span>
<span data-ttu-id="f1280-132">Bir IP adresi, her zaman bir uygulama hizmeti ortamı giden çağrıları yaptığında, giden çağrıları ile ilişkilidir.</span><span class="sxs-lookup"><span data-stu-id="f1280-132">When an App Service Environment makes outbound calls, an IP Address is always associated with the outbound calls.</span></span>  <span data-ttu-id="f1280-133">Kullanılan belirli bir IP adresi çağrılan uç sanal ağ topolojisi içinde ya da sanal ağ topolojisi dışında bulunan olmasına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="f1280-133">The specific IP address that is used depends on whether the endpoint being called is located within the virtual network topology, or outside of the virtual network topology.</span></span>

<span data-ttu-id="f1280-134">Çağrılan uç nokta ise **dışında** sanal ağ topolojisini, ardından kullanılan giden (diğer adıyla giden NAT adresi) uygulama hizmeti ortamı genel VIP adresidir.</span><span class="sxs-lookup"><span data-stu-id="f1280-134">If the endpoint being called is **outside** of the virtual network topology, then the outbound address (aka the outbound NAT address) that is used is the public VIP of the App Service Environment.</span></span>  <span data-ttu-id="f1280-135">Bu adres özellikleri dikey penceresinde uygulama hizmeti ortamı için portal kullanıcı arabiriminde bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="f1280-135">This address can be found in the portal user interface for the App Service Environment in Properties blade.</span></span>

![Giden IP adresi][OutboundIPAddress]

<span data-ttu-id="f1280-137">Bu adres, genel VIP uygulama hizmeti ortamı'nda bir uygulama oluşturma ve ardından gerçekleştirme yeterlidir ASEs için de belirlenebilir bir *nslookup* uygulamanın adresinde.</span><span class="sxs-lookup"><span data-stu-id="f1280-137">This address can also be determined for ASEs that only have a public VIP by creating an app in the App Service Environment, and then performing an *nslookup* on the app's address.</span></span> <span data-ttu-id="f1280-138">Sonuç IP adresi, hem genel VIP yanı sıra uygulama hizmeti ortamı'nın giden NAT adresi değil.</span><span class="sxs-lookup"><span data-stu-id="f1280-138">The resultant IP address is both the public VIP, as well as the App Service Environment's outbound NAT address.</span></span>

<span data-ttu-id="f1280-139">Çağrılan uç nokta ise **içinde** sanal ağ topolojisini, çağıran uygulama giden adresini uygulamayı çalıştıran tek işlem kaynağının iç IP adresi olacaktır.</span><span class="sxs-lookup"><span data-stu-id="f1280-139">If the endpoint being called is **inside** of the virtual network topology, the outbound address of the calling app will be the internal IP address of the individual compute resource running the app.</span></span>  <span data-ttu-id="f1280-140">Ancak yok kalıcı uygulamalara iç IP adresleri sanal ağ eşlemesi.</span><span class="sxs-lookup"><span data-stu-id="f1280-140">However there is not a persistent mapping of virtual network internal IP addresses to apps.</span></span>  <span data-ttu-id="f1280-141">Uygulamaları farklı işlem kaynakları ve kaynakları bir uygulama hizmeti ortamı ölçeklendirme işlemleri nedeniyle değiştirebilirsiniz kullanılabilir işlem havuzu arasında taşıyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f1280-141">Apps can move around across different compute resources, and the pool of available compute resources in an App Service Environment can change due to scaling operations.</span></span>

<span data-ttu-id="f1280-142">Ancak, bir uygulama hizmeti ortamı her zaman bir alt ağ içinde bulunduğundan, bir uygulama çalıştıran bir işlem kaynağın iç IP adresi her zaman alt ağ CIDR aralığı içinde kalan sağlanır.</span><span class="sxs-lookup"><span data-stu-id="f1280-142">However, since an App Service Environment is always located within a subnet, you are guaranteed that the internal IP address of a compute resource running an app will always lie within the CIDR range of the subnet.</span></span>  <span data-ttu-id="f1280-143">Diğer uç noktaları sanal ağda güvenli şekilde hassas ACL'leri ya da ağ güvenlik grupları kullanıldığında, sonuç olarak, uygulama hizmeti ortamı içeren alt ağ aralığı erişim verilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="f1280-143">As a result, when fine-grained ACLs or network security groups are used to secure access to other endpoints within the virtual network, the subnet range containing the App Service Environment needs to be granted access.</span></span>

<span data-ttu-id="f1280-144">Aşağıdaki diyagramda bu kavramları daha ayrıntılı olarak gösterilmiştir:</span><span class="sxs-lookup"><span data-stu-id="f1280-144">The following diagram shows these concepts in more detail:</span></span>

![Giden ağ adresleri][OutboundNetworkAddresses]

<span data-ttu-id="f1280-146">Yukarıdaki diyagramda:</span><span class="sxs-lookup"><span data-stu-id="f1280-146">In the above diagram:</span></span>

* <span data-ttu-id="f1280-147">Uygulama hizmeti ortamı genel VIP 192.23.1.2 olduğundan, "Internet" Uç noktalara çağrıları yapılırken kullanılan giden IP adresidir.</span><span class="sxs-lookup"><span data-stu-id="f1280-147">Since the public VIP of the App Service Environment is 192.23.1.2, that is the outbound IP address used when making calls to "Internet" endpoints.</span></span>
* <span data-ttu-id="f1280-148">Uygulama hizmeti ortamı için içeren alt ağ CIDR aralığı 10.0.1.0/26 ' dir.</span><span class="sxs-lookup"><span data-stu-id="f1280-148">The CIDR range of the containing subnet for the App Service Environment is 10.0.1.0/26.</span></span>  <span data-ttu-id="f1280-149">Diğer uç noktalar aynı sanal ağ altyapısı içinde çağrıları uygulamalardan herhangi bir yerde bu adres aralığı içinde kaynaklanan olarak görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="f1280-149">Other endpoints within the same virtual network infrastructure will see calls from apps as originating from somewhere within this address range.</span></span>

## <a name="calls-between-app-service-environments"></a><span data-ttu-id="f1280-150">Uygulama hizmeti ortamları arasında çağrıları</span><span class="sxs-lookup"><span data-stu-id="f1280-150">Calls Between App Service Environments</span></span>
<span data-ttu-id="f1280-151">Daha karmaşık bir senaryo, aynı sanal ağda birden çok uygulama hizmeti ortamında dağıtmak ve başka bir uygulama hizmeti ortamı için bir uygulama hizmeti ortamı'ndan giden çağrıları yapma ortaya çıkabilir.</span><span class="sxs-lookup"><span data-stu-id="f1280-151">A more complex scenario can occur if you deploy multiple App Service Environments in the same virtual network, and make outbound calls from one App Service Environment to another App Service Environment.</span></span>  <span data-ttu-id="f1280-152">Bu tür uygulama hizmeti ortamı'nın çağrıları ayrıca "Internet" çağrısı olarak kabul edilecek arası.</span><span class="sxs-lookup"><span data-stu-id="f1280-152">These types of cross App Service Environment calls will also be treated as "Internet" calls.</span></span>

<span data-ttu-id="f1280-153">(Örneğin bir uygulama hizmeti ortamı üzerinde Aşağıdaki diyagramda uygulamalarıyla katmanlı mimari örneği gösterilmektedir Web uygulamaları "Ön kapı") uygulamaları (örn. iç uç API uygulamaları amaçlanmayan Internet'ten erişilebilir) ikinci bir uygulama hizmeti ortamı çağrılması.</span><span class="sxs-lookup"><span data-stu-id="f1280-153">The following diagram shows an example of a layered architecture with apps on one App Service Environment (e.g. "Front door" web apps) calling apps on a second App Service Environment (e.g. internal back-end API apps not intended to be accessible from the Internet).</span></span> 

![Uygulama hizmeti ortamları arasında çağrıları][CallsBetweenAppServiceEnvironments] 

<span data-ttu-id="f1280-155">Yukarıdaki örnekte, uygulama hizmeti ortamı'nı "Ana bir" 192.23.1.2 giden IP adresi vardır.</span><span class="sxs-lookup"><span data-stu-id="f1280-155">In the example above the App Service Environment "ASE One" has an outbound IP address of 192.23.1.2.</span></span>  <span data-ttu-id="f1280-156">Bu bilgisayarda çalışan bir uygulama, uygulama hizmeti ortamı'nın bir ikinci uygulama hizmeti ortamı üzerinde ("ana iki") çalışan bir uygulama için giden bir çağrı aynı sanal ağda, giden çağrı bulunan yapar olacak bir "Internet" çağrısı olarak kabul.</span><span class="sxs-lookup"><span data-stu-id="f1280-156">If an app running on this App Service Environment makes an outbound call to an app running on a second App Service Environment ("ASE Two") located in the same virtual network, the outbound call will be treated as an "Internet" call.</span></span>  <span data-ttu-id="f1280-157">Uygulama hizmeti ortamı ikinci gelen ağ trafiğini sonuç olarak gösterir (örn. alt ağ adres aralığı ilk uygulama hizmeti ortamı) 192.23.1.2 kaynaklanan olarak.</span><span class="sxs-lookup"><span data-stu-id="f1280-157">As a result the network traffic arriving on the second App Service Environment will show as originating from 192.23.1.2 (i.e. not the subnet address range of the first App Service Environment).</span></span>

<span data-ttu-id="f1280-158">Her iki uygulama hizmeti ortamları aynı Azure bölgesinde bulunduğunda çağrıları farklı uygulama hizmeti ortamları arasında "Internet" çağrısı olarak kabul edilir olsa bile ağ trafiğini bölgesel Azure ağ üzerinde kalır ve fiziksel olarak akış üzerinden almayacak ortak Internet.</span><span class="sxs-lookup"><span data-stu-id="f1280-158">Even though calls between different App Service Environments are treated as "Internet" calls, when both App Service Environments are located in the same Azure region the network traffic will remain on the regional Azure network and will not physically flow over the public Internet.</span></span>  <span data-ttu-id="f1280-159">Sonuç olarak bir ağ güvenlik grubu ikinci uygulama hizmeti ortamı alt ağda yalnızca ortamından ilk App Service (giden IP adresini 192.23.1.2 olduğu) böylece uygulama arasında güvenli iletişim sağlamak, gelen çağrılarına izin vermek için kullanabileceğiniz Hizmeti ortamları.</span><span class="sxs-lookup"><span data-stu-id="f1280-159">As a result you can use a network security group on the subnet of the second App Service Environment to only allow inbound calls from the first App Service Environment (whose outbound IP address is 192.23.1.2), thus ensuring secure communication between the App Service Environments.</span></span>

## <a name="additional-links-and-information"></a><span data-ttu-id="f1280-160">Ek bağlantıları ve bilgileri</span><span class="sxs-lookup"><span data-stu-id="f1280-160">Additional Links and Information</span></span>
<span data-ttu-id="f1280-161">Tüm makaleler ve nasıl-için uygulama hizmeti ortamları kullanılabilir için kullanıcının [uygulama hizmeti ortamları için Benioku](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="f1280-161">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="f1280-162">App Service ortamları tarafından kullanılan bağlantı noktaları hakkında ayrıntılar gelen ve gelen trafiği denetlemek için ağ güvenlik gruplarını kullanarak kullanılabilir [burada][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="f1280-162">Details on inbound ports used by App Service Environments and using network security groups to control inbound traffic is available [here][controllinginboundtraffic].</span></span>

<span data-ttu-id="f1280-163">Kullanıcı kullanımıyla ilgili ayrıntılar tanımlanan yollar giden Internet erişimi App Service ortamları için bu konuda kullanılabilir verin [makale][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="f1280-163">Details on using user defined routes to grant outbound Internet access to App Service Environments is available in this [article][ExpressRoute].</span></span> 

<!-- LINKS -->
[virtualnetwork]: http://azure.microsoft.com/services/virtual-network/
[controllinginboundtraffic]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[ExpressRoute]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-network-configuration-expressroute/

<!-- IMAGES -->
[GeneralNetworkFlows]: ./media/app-service-app-service-environment-network-architecture-overview/NetworkOverview-1.png
[OutboundIPAddress]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundIPAddress-1.png
[OutboundNetworkAddresses]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundNetworkAddresses-1.png
[CallsBetweenAppServiceEnvironments]: ./media/app-service-app-service-environment-network-architecture-overview/CallsBetweenEnvironments-1.png

