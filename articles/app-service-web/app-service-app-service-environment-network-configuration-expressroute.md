---
title: "Hızlı rota ile çalışmak için ağ yapılandırma ayrıntıları"
description: "Uygulama hizmeti ortamları sanal ağlarda çalıştırmak için ağ yapılandırma ayrıntıları bir expressroute bağlantı hattı bağlı."
services: app-service
documentationcenter: 
author: stefsch
manager: nirma
editor: 
ms.assetid: 34b49178-2595-4d32-9b41-110c96dde6bf
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/14/2016
ms.author: stefsch
ms.openlocfilehash: de1d998ee86c127149dee18e9df577705054ddb4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="network-configuration-details-for-app-service-environments-with-expressroute"></a><span data-ttu-id="57b52-103">ExpressRoute Bağlantılı App Service Ortamları için Ağ Yapılandırması Ayrıntıları</span><span class="sxs-lookup"><span data-stu-id="57b52-103">Network Configuration Details for App Service Environments with ExpressRoute</span></span>
## <a name="overview"></a><span data-ttu-id="57b52-104">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="57b52-104">Overview</span></span>
<span data-ttu-id="57b52-105">Müşteriler bağlanabileceği bir [Azure ExpressRoute] [ ExpressRoute] böylece Azure için kendi şirket içi ağ genişletme sanal ağ altyapılarını devresine.</span><span class="sxs-lookup"><span data-stu-id="57b52-105">Customers can connect an [Azure ExpressRoute][ExpressRoute] circuit to their virtual network infrastructure, thus extending their on-premises network to Azure.</span></span>  <span data-ttu-id="57b52-106">Bu alt ağda bir uygulama hizmeti ortamı oluşturulabilir [sanal ağ] [ virtualnetwork] altyapı.</span><span class="sxs-lookup"><span data-stu-id="57b52-106">An App Service Environment can  be created in a subnet of this [virtual network][virtualnetwork] infrastructure.</span></span>  <span data-ttu-id="57b52-107">Uygulama hizmeti ortamı üzerinde çalışan uygulamalar, ardından yalnızca ExpressRoute bağlantısı üzerinden erişilebilir arka uç kaynaklarına güvenli bağlantı kurabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57b52-107">Apps running on the App Service Environment can then establish secure connections to back-end resources accessible only over the ExpressRoute connection.</span></span>  

<span data-ttu-id="57b52-108">Bir uygulama hizmeti ortamı oluşturulabilir **ya da** bir Azure Resource Manager sanal ağ **veya** Klasik dağıtım modeli sanal ağı.</span><span class="sxs-lookup"><span data-stu-id="57b52-108">An App Service Environment can be created in **either** an Azure Resource Manager virtual network, **or** a classic deployment model virtual network.</span></span>  <span data-ttu-id="57b52-109">Haziran 2016'da yapılan son bir değişiklikle ASEs ayrıca artık, ortak adres aralıkları veya RFC1918 adres alanlarını (örn.) kullanan sanal ağlar dağıtılabilir</span><span class="sxs-lookup"><span data-stu-id="57b52-109">With a recent change made in June 2016, ASEs can also now be deployed into virtual networks that use either public address ranges, or RFC1918 address spaces (i.e.</span></span> <span data-ttu-id="57b52-110">özel adresler).</span><span class="sxs-lookup"><span data-stu-id="57b52-110">private addresses).</span></span> 

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="required-network-connectivity"></a><span data-ttu-id="57b52-111">Gerekli ağ bağlantısı</span><span class="sxs-lookup"><span data-stu-id="57b52-111">Required Network Connectivity</span></span>
<span data-ttu-id="57b52-112">Başlangıçta bir Expressroute'a bağlı bir sanal ağdaki karşılaşabileceğini değil, App Service ortamları için ağ bağlantı gereksinimleri vardır.</span><span class="sxs-lookup"><span data-stu-id="57b52-112">There are network connectivity requirements for App Service Environments that may not be initially met in a virtual network connected to an ExpressRoute.</span></span>  <span data-ttu-id="57b52-113">Uygulama hizmeti ortamları düzgün çalışması için aşağıdakilerin tümü gerektirir:</span><span class="sxs-lookup"><span data-stu-id="57b52-113">App Service Environments require all of the following in order to function properly:</span></span>

* <span data-ttu-id="57b52-114">Azure depolama üzerindeki uç noktaları dünya çapında her iki bağlantı noktası 80 ve 443 giden ağ bağlantısı.</span><span class="sxs-lookup"><span data-stu-id="57b52-114">Outbound network connectivity to Azure Storage endpoints worldwide on both ports 80 and 443.</span></span>  <span data-ttu-id="57b52-115">Bu uygulama hizmeti ortamı ile aynı bölgede bulunan uç noktalar olarak bulunan depolama uç noktaları içerir **diğer** Azure bölgeleri.</span><span class="sxs-lookup"><span data-stu-id="57b52-115">This includes endpoints located in the same region as the App Service Environment, as well as storage endpoints located in **other** Azure regions.</span></span>  <span data-ttu-id="57b52-116">Azure depolama uç noktaları çözmek aşağıdaki DNS etki alanı altında: *table.core.windows.net*, *blob.core.windows.net*, *queue.core.windows.net* ve *file.core.windows.net*.</span><span class="sxs-lookup"><span data-stu-id="57b52-116">Azure Storage endpoints resolve under the following DNS domains: *table.core.windows.net*, *blob.core.windows.net*, *queue.core.windows.net* and *file.core.windows.net*.</span></span>  
* <span data-ttu-id="57b52-117">Azure dosyaları hizmet bağlantı noktası 445 giden ağ bağlantısı.</span><span class="sxs-lookup"><span data-stu-id="57b52-117">Outbound network connectivity to the Azure Files service on port 445.</span></span>
* <span data-ttu-id="57b52-118">Uygulama hizmeti ortamı ile aynı bölgede bulunan Sql DB uç noktalarına giden ağ bağlantısı.</span><span class="sxs-lookup"><span data-stu-id="57b52-118">Outbound network connectivity to Sql DB endpoints located in the same region as the App Service Environment.</span></span>  <span data-ttu-id="57b52-119">SQL DB uç noktaları altında aşağıdaki etki alanı çözümlenemiyor: *database.windows.net*.</span><span class="sxs-lookup"><span data-stu-id="57b52-119">Sql DB endpoints resolve under the following domain:  *database.windows.net*.</span></span>  <span data-ttu-id="57b52-120">Bu bağlantı noktası 1433'tür 11000 11999 ve 14000 14999 erişimi açma gerektirir.</span><span class="sxs-lookup"><span data-stu-id="57b52-120">This requires opening access to ports 1433, 11000-11999 and 14000-14999.</span></span>  <span data-ttu-id="57b52-121">Daha fazla bilgi için bkz [bu makalede Sql Database V12 bağlantı noktası kullanımı](../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="57b52-121">For more details see [this article on Sql Database V12 port usage](../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>
* <span data-ttu-id="57b52-122">Azure yönetim düzlemi uç noktaları (ASM ve ARM uç noktaları) giden ağ bağlantısı.</span><span class="sxs-lookup"><span data-stu-id="57b52-122">Outbound network connectivity to the Azure management plane endpoints (both ASM and ARM endpoints).</span></span>  <span data-ttu-id="57b52-123">Bu, hem de giden bağlantı içerir *management.core.windows.net* ve *management.azure.com*.</span><span class="sxs-lookup"><span data-stu-id="57b52-123">This includes outbound connectivity to both *management.core.windows.net* and *management.azure.com*.</span></span> 
* <span data-ttu-id="57b52-124">Giden ağ bağlantısı *ocsp.msocsp.com*, *mscrl.microsoft.com* ve *crl.microsoft.com*.</span><span class="sxs-lookup"><span data-stu-id="57b52-124">Outbound network connectivity to *ocsp.msocsp.com*, *mscrl.microsoft.com* and *crl.microsoft.com*.</span></span>  <span data-ttu-id="57b52-125">Bu, SSL işlevleri desteklemek için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="57b52-125">This is needed to support SSL functionality.</span></span>
* <span data-ttu-id="57b52-126">Sanal ağ için DNS yapılandırmasını tüm uç noktaları ve önceki noktaların belirtilen etki alanları çözme yeteneğinin olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="57b52-126">The DNS configuration for the virtual network must be capable of resolving all of the endpoints and domains mentioned in the earlier points.</span></span>  <span data-ttu-id="57b52-127">Bu uç noktalar çözümlenemezse, uygulama hizmeti ortamı oluşturma denemeleri başarısız olur ve var olan uygulama hizmeti ortamları gibi sağlıksız olarak işaretlenecek.</span><span class="sxs-lookup"><span data-stu-id="57b52-127">If these endpoints cannot be resolved, App Service Environment creation attempts will fail, and existing App Service Environments will be marked as unhealthy.</span></span>
* <span data-ttu-id="57b52-128">DNS sunucuları ile iletişim için bağlantı noktası 53 giden erişim gereklidir.</span><span class="sxs-lookup"><span data-stu-id="57b52-128">Outbound access on port 53 is required for communication with DNS servers.</span></span>
* <span data-ttu-id="57b52-129">Özel bir DNS sunucusu bir VPN ağ geçidi diğer ucundaki varsa, DNS sunucusu uygulama hizmeti ortamı içeren alt ağ üzerinden erişilebilir olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="57b52-129">If a custom DNS server exists on the other end of a VPN gateway, the DNS server must be reachable from the subnet containing the App Service Environment.</span></span> 
* <span data-ttu-id="57b52-130">Giden ağ yolu iç kurumsal proxy'leri seyahat olamaz ve şirket içi tünelli zorla olabilir.</span><span class="sxs-lookup"><span data-stu-id="57b52-130">The outbound network path cannot travel through internal corporate proxies, nor can it be force tunneled to on-premises.</span></span>  <span data-ttu-id="57b52-131">Bunun yapılması uygulama hizmeti ortamındaki giden ağ trafiğini etkili NAT adresini değiştirir.</span><span class="sxs-lookup"><span data-stu-id="57b52-131">Doing so changes the effective NAT address of outbound network traffic from the App Service Environment.</span></span>  <span data-ttu-id="57b52-132">Uygulama hizmeti ortamı'nın giden ağ trafiğini NAT adresini değiştirmek yukarıda listelenen uç noktaları çoğuna bağlantısı hataları neden olacak.</span><span class="sxs-lookup"><span data-stu-id="57b52-132">Changing the NAT address of an App Service Environment's outbound network traffic will cause connectivity failures to many of the endpoints listed above.</span></span>  <span data-ttu-id="57b52-133">Bu, başarısız uygulama hizmeti ortamı oluşturma girişimi, aynı zamanda daha önce sağlıklı App Service ortamları sorunlu olarak işaretlenen sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="57b52-133">This results in failed App Service Environment creation attempts, as well as previously healthy App Service Environments being marked as unhealthy.</span></span>  
* <span data-ttu-id="57b52-134">Uygulama hizmeti ortamları, bu konuda açıklandığı gibi izin verilmelidir için ağ erişimi için gereken bağlantı noktalarını gelen [makale][requiredports].</span><span class="sxs-lookup"><span data-stu-id="57b52-134">Inbound network access to required ports for App Service Environments must be allowed as described in this [article][requiredports].</span></span>

<span data-ttu-id="57b52-135">Geçerli bir DNS altyapısının yapılandırılmış ve sanal ağ için tutulan sağlayarak DNS gereksinimleri karşılanabilir.</span><span class="sxs-lookup"><span data-stu-id="57b52-135">The DNS requirements can be met by ensuring a valid DNS infrastructure is configured and maintained for the virtual network.</span></span>  <span data-ttu-id="57b52-136">Bir uygulama hizmeti ortamı oluşturulduktan sonra DNS yapılandırmasını herhangi bir nedenle değiştirilirse, geliştiricilerin yeni DNS yapılandırmasını almak için bir uygulama hizmeti ortamı zorlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57b52-136">If for any reason the DNS configuration is changed after an App Service Environment has been created, developers can force an App Service Environment to pick up the new DNS configuration.</span></span>  <span data-ttu-id="57b52-137">"Yeniden Başlat" simgesini kullanarak çalışırken bir ortamı yeniden başlatma tetikleme bulunan uygulama hizmeti ortamı yönetim dikey penceresinde üstündeki [Azure portal] [ NewPortal] yeni DNS araması seçmek ortam neden olur yapılandırma.</span><span class="sxs-lookup"><span data-stu-id="57b52-137">Triggering a rolling environment reboot using the "Restart" icon located at the top of the App Service Environment management blade in the [Azure portal][NewPortal] will cause the environment to pick up the new DNS configuration.</span></span>

<span data-ttu-id="57b52-138">Gelen ağ erişim gereksinimlerini yapılandırarak karşılanır bir [ağ güvenlik grubu] [ NetworkSecurityGroups] bu konuda açıklandığı gibi gerekli erişime izin vermek için uygulama hizmeti ortamı'nın alt ağdaki [ makale][requiredports].</span><span class="sxs-lookup"><span data-stu-id="57b52-138">The inbound network access requirements can be met by configuring a [network security group][NetworkSecurityGroups] on the App Service Environment's subnet to allow the required access as described in this [article][requiredports].</span></span>

## <a name="enabling-outbound-network-connectivity-for-an-app-service-environment"></a><span data-ttu-id="57b52-139">Uygulama hizmeti ortamı için etkinleştirme giden ağ bağlantısı</span><span class="sxs-lookup"><span data-stu-id="57b52-139">Enabling Outbound Network Connectivity for an App Service Environment</span></span>
<span data-ttu-id="57b52-140">Varsayılan olarak, yeni oluşturulan bir expressroute bağlantı hattı giden Internet bağlantısı sağlayan bir varsayılan yol tanıtır.</span><span class="sxs-lookup"><span data-stu-id="57b52-140">By default, a newly created ExpressRoute circuit advertises a default route that allows outbound Internet connectivity.</span></span>  <span data-ttu-id="57b52-141">Bu yapılandırma ile bir uygulama hizmeti ortamı Azure diğer Uç noktalara bağlanmak mümkün olacaktır.</span><span class="sxs-lookup"><span data-stu-id="57b52-141">With this configuration an App Service Environment will be able to connect to other Azure endpoints.</span></span>

<span data-ttu-id="57b52-142">Ancak bir ortak müşteri bunun yerine şirket içi giden Internet akışına zorlar kendi varsayılan yol (0.0.0.0/0) tanımlamak için yapılandırmadır.</span><span class="sxs-lookup"><span data-stu-id="57b52-142">However a common customer configuration is to define their own default route (0.0.0.0/0) which forces outbound Internet traffic to instead flow on-premises.</span></span>  <span data-ttu-id="57b52-143">Bu trafik akışı App Service ortamları ya da engellenen şirket içi giden trafik olduğundan veya tanınmayan bir artık çeşitli Azure uç noktaları ile çalışma adresleri kümesini NAT ister neredeyse şaşmaz biçimde keser.</span><span class="sxs-lookup"><span data-stu-id="57b52-143">This traffic flow invariably breaks App Service Environments because the outbound traffic is either blocked on-premises, or NAT'd to an unrecognizable set of addresses that no longer work with various Azure endpoints.</span></span>

<span data-ttu-id="57b52-144">Uygulama hizmeti ortamı içeren alt ağda bir (veya daha fazla) kullanıcı tanımlı yollar (Udr'ler) tanımlamak için kullanılan çözümüdür.</span><span class="sxs-lookup"><span data-stu-id="57b52-144">The solution is to define one (or more) user defined routes (UDRs) on the subnet that contains the App Service Environment.</span></span>  <span data-ttu-id="57b52-145">Bir UDR yerine varsayılan yol uyulacaktır alt özel yollar tanımlar.</span><span class="sxs-lookup"><span data-stu-id="57b52-145">A UDR defines subnet-specific routes that will be honored instead of the default route.</span></span>

<span data-ttu-id="57b52-146">Mümkünse, aşağıdaki yapılandırmayı kullanmak için önerilir:</span><span class="sxs-lookup"><span data-stu-id="57b52-146">If possible, it is recommended to use the following configuration:</span></span>

* <span data-ttu-id="57b52-147">ExpressRoute yapılandırma 0.0.0.0/0 tanıtır ve varsayılan olarak tüm giden trafiği şirket içi zorlamalı tünel oluşturur.</span><span class="sxs-lookup"><span data-stu-id="57b52-147">The ExpressRoute configuration advertises 0.0.0.0/0 and by default force tunnels all outbound traffic on-premises.</span></span>
* <span data-ttu-id="57b52-148">Uygulama hizmeti ortamı içeren alt ağa uygulanan UDR (buna örnek olarak bu makaledeki uzağına aşağı) Internet sonraki atlama türü olan 0.0.0.0/0 tanımlar.</span><span class="sxs-lookup"><span data-stu-id="57b52-148">The UDR applied to the subnet containing the App Service Environment defines 0.0.0.0/0 with a next hop type of Internet (an example of this is farther down in this article).</span></span>

<span data-ttu-id="57b52-149">Bu adımları etkilerini, alt düzey UDR öncelik böylece uygulama hizmeti ortamındaki giden Internet erişimi sağlama tünel, zorunlu ExpressRoute kazanır ' dir.</span><span class="sxs-lookup"><span data-stu-id="57b52-149">The combined effect of these steps is that the subnet level UDR will take precedence over the ExpressRoute forced tunneling, thus ensuring outbound Internet access from the App Service Environment.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="57b52-150">Bir UDR tanımlanan rotalar **gerekir** ExpressRoute yapılandırma tarafından tanıtılan rotaları önceliklidir için belirli olabilir.</span><span class="sxs-lookup"><span data-stu-id="57b52-150">The routes defined in a UDR **must** be specific enough to  take precedence over any routes advertised by the ExpressRoute configuration.</span></span>  <span data-ttu-id="57b52-151">Aşağıdaki örnek geniş 0.0.0.0/0 adres aralığını kullanır ve bu nedenle olası yanlışlıkla daha belirli adres aralıkları kullanarak Yol tanıtımlarını tarafından geçersiz kılınabilir.</span><span class="sxs-lookup"><span data-stu-id="57b52-151">The example below uses the broad 0.0.0.0/0 address range, and as such can potentially be accidentally overridden by route advertisements using more specific address ranges.</span></span>
> 
> <span data-ttu-id="57b52-152">Uygulama hizmeti ortamları ExpressRoute yapılandırmalarla desteklenmiyor, **ortak eşleme yolu yolları özel eşleme yoluna arası tanıtma**.</span><span class="sxs-lookup"><span data-stu-id="57b52-152">App Service Environments are not supported with ExpressRoute configurations that **cross-advertise routes from the public peering path to the private peering path**.</span></span>  <span data-ttu-id="57b52-153">Yapılandırılmış, ortak eşleme sahip ExpressRoute yapılandırmaları alacağı Yol tanıtımlarını Microsoft'tan çok sayıda Microsoft Azure IP adres aralıkları için.</span><span class="sxs-lookup"><span data-stu-id="57b52-153">ExpressRoute configurations that have public peering configured, will receive route advertisements from Microsoft for a large set of Microsoft Azure IP address ranges.</span></span>  <span data-ttu-id="57b52-154">Özel eşleme yoluna üzerinde çapraz tanıtılan bu adres aralıkları, sonuç tüm giden ağ paketlerinin uygulama hizmeti ortamı'nın alt ağdan bir müşterinin şirket içi ağ altyapısına zorlamalı tünel olacağını olur.</span><span class="sxs-lookup"><span data-stu-id="57b52-154">If these address ranges are cross-advertised on the private peering path, the end result is that all outbound network packets from the App Service Environment's subnet will be force-tunneled to a customer's on-premises network infrastructure.</span></span>  <span data-ttu-id="57b52-155">Bu ağ akışı ile uygulama hizmeti ortamları şu anda desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="57b52-155">This network flow is currently not supported with App Service Environments.</span></span>  <span data-ttu-id="57b52-156">Bu sorun için bir çözüm, ortak eşleme yolu arası reklam yolları özel eşleme yoluna önlemektir.</span><span class="sxs-lookup"><span data-stu-id="57b52-156">One solution to this problem is to stop cross-advertising routes from the public peering path to the private peering path.</span></span>
> 
> 

<span data-ttu-id="57b52-157">Kullanıcı tanımlı yollar hakkında arka plan bilgileri kullanılabilir bu [genel bakış][UDROverview].</span><span class="sxs-lookup"><span data-stu-id="57b52-157">Background information on user defined routes is available in this [overview][UDROverview].</span></span>  

<span data-ttu-id="57b52-158">Oluşturma ve kullanıcı tanımlı yollar yapılandırma ile ilgili ayrıntılar bu konuda kullanılabilir [kılavuzuna nasıl][UDRHowTo].</span><span class="sxs-lookup"><span data-stu-id="57b52-158">Details on creating and configuring user defined routes is available in this [How To Guide][UDRHowTo].</span></span>

## <a name="example-udr-configuration-for-an-app-service-environment"></a><span data-ttu-id="57b52-159">Uygulama hizmeti ortamı için örnek UDR yapılandırma</span><span class="sxs-lookup"><span data-stu-id="57b52-159">Example UDR Configuration for an App Service Environment</span></span>
<span data-ttu-id="57b52-160">**Ön koşullar**</span><span class="sxs-lookup"><span data-stu-id="57b52-160">**Pre-requisites**</span></span>

1. <span data-ttu-id="57b52-161">Azure Powershell gelen yükleme [Azure indirmeler sayfası] [ AzureDownloads] (Haziran 2015 veya sonraki tarihli).</span><span class="sxs-lookup"><span data-stu-id="57b52-161">Install Azure Powershell from the [Azure Downloads page][AzureDownloads] (dated June 2015 or later).</span></span>  <span data-ttu-id="57b52-162">"Altında komut satırı araçları" son Powershell cmdlet'lerini yükler "Windows Powershell" altında "Yükle" bağlantısı yoktur.</span><span class="sxs-lookup"><span data-stu-id="57b52-162">Under "Command-line tools" there is an "Install" link under "Windows Powershell" that will install the latest Powershell cmdlets.</span></span>
2. <span data-ttu-id="57b52-163">Benzersiz bir alt ağ bir uygulama hizmeti ortamı tarafından özel kullanım için oluşturulan önerilir.</span><span class="sxs-lookup"><span data-stu-id="57b52-163">It is recommended that a unique subnet is created for exclusive use by an App Service Environment.</span></span>  <span data-ttu-id="57b52-164">Bu uygulama hizmeti ortamı için giden trafik, alt ağa uygulanan Udr'ler yalnızca açılır sağlar.</span><span class="sxs-lookup"><span data-stu-id="57b52-164">This ensures that the UDRs applied to the subnet will only open outbound traffic for the App Service Environment.</span></span>
3. <span data-ttu-id="57b52-165">**Önemli**: uygulama hizmeti ortamı kadar dağıtmayın **sonra** aşağıdaki yapılandırma adımlarını izlenir.</span><span class="sxs-lookup"><span data-stu-id="57b52-165">**Important**:  do not deploy the App Service Environment until **after** the following configuration steps are followed.</span></span>  <span data-ttu-id="57b52-166">Bu uygulama hizmeti ortamını dağıtmaya çalışmadan önce giden ağ bağlantısı kullanılabilir olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="57b52-166">This ensures that outbound network connectivity is available before attempting to deploy an App Service Environment.</span></span>

<span data-ttu-id="57b52-167">**1. adım: bir adlandırılmış yol tablosu oluşturma**</span><span class="sxs-lookup"><span data-stu-id="57b52-167">**Step 1:  Create a named route table**</span></span>

<span data-ttu-id="57b52-168">Aşağıdaki kod parçacığında Batı ABD Azure bölgesinde "DirectInternetRouteTable" adında bir yol tablosu oluşturur:</span><span class="sxs-lookup"><span data-stu-id="57b52-168">The following snippet creates a route table called "DirectInternetRouteTable" in the West US Azure region:</span></span>

    New-AzureRouteTable -Name 'DirectInternetRouteTable' -Location uswest

<span data-ttu-id="57b52-169">**2. adım: bir veya daha fazla yol rota tablosunda oluşturma**</span><span class="sxs-lookup"><span data-stu-id="57b52-169">**Step 2:  Create one or more routes in the route table**</span></span>

<span data-ttu-id="57b52-170">Giden Internet erişimi etkinleştirmek için yol tablosu bir veya daha fazla yol eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="57b52-170">You will need to add one or more routes to the route table in order to enable outbound Internet access.</span></span>  

<span data-ttu-id="57b52-171">Giden Internet erişimi yapılandırmak için önerilen yaklaşım, aşağıda gösterildiği gibi 0.0.0.0/0 için bir rota tanımlamaktır.</span><span class="sxs-lookup"><span data-stu-id="57b52-171">The recommended approach for configuring outbound access to the Internet is to define a route for 0.0.0.0/0 as shown below.</span></span>

    Get-AzureRouteTable -Name 'DirectInternetRouteTable' | Set-AzureRoute -RouteName 'Direct Internet Range 0' -AddressPrefix 0.0.0.0/0 -NextHopType Internet

<span data-ttu-id="57b52-172">Bu 0.0.0.0/0 geniş adres aralığı ve bu nedenle daha belirli adres aralıkları ExpressRoute tarafından tanıtılan tarafından geçersiz kılınacaktır unutmayın.</span><span class="sxs-lookup"><span data-stu-id="57b52-172">Remember that 0.0.0.0/0 is a broad address range, and as such will be overridden by more specific address ranges advertised by the ExpressRoute.</span></span>  <span data-ttu-id="57b52-173">Önceki öneri yeniden yinelemek için UDR 0.0.0.0/0 yol ile yalnızca 0.0.0.0/0 de tanıtır ExressRoute yapılandırma ile birlikte kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="57b52-173">To re-iterate the earlier recommendation, a UDR with a 0.0.0.0/0 route should be used in conjunction with an ExressRoute configuration that only advertises 0.0.0.0/0 as well.</span></span> 

<span data-ttu-id="57b52-174">Alternatif olarak, Azure tarafından kullanılıyor CIDR aralıkları, kapsamlı ve güncelleştirilmiş listesini indirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57b52-174">As an alternative, you can download a comprehensive and updated list of CIDR ranges in use by Azure.</span></span>  <span data-ttu-id="57b52-175">Tüm Azure IP adres aralıklarını içeren Xml dosyasını kullanılabilir [Microsoft Download Center][DownloadCenterAddressRanges].</span><span class="sxs-lookup"><span data-stu-id="57b52-175">The Xml file containing all of the Azure IP address ranges is available from the [Microsoft Download Center][DownloadCenterAddressRanges].</span></span>  

<span data-ttu-id="57b52-176">Bu aralıklar böylece düzenli el ile eşitlenmiş tutmak için kullanıcı tanımlı yollar yapılan güncelleştirmeler araya zaman içinde değişip unutmayın.</span><span class="sxs-lookup"><span data-stu-id="57b52-176">Note though that these ranges change over time, thus necessitating periodic manual updates to the user defined routes to keep in sync.</span></span>  <span data-ttu-id="57b52-177">Varsayılan üst sınır tek UDR 100 yolların olduğundan, ayrıca, "100 rota sınırı içinde uyacak şekilde Azure IP adres aralıklarını özetlemek" gerekir UDR yollar yolları ayrıntılı olması gerekiyor tanımlanan aklınızda tutarak, ExpressRo tarafından tanıtılan ute.</span><span class="sxs-lookup"><span data-stu-id="57b52-177">Also, since there is a default upper limit of 100 routes in a single UDR, you will need to "summarize" the Azure IP address ranges to fit within the 100 route limit, keeping in mind that UDR defined routes need to be more specific than the routes advertised by your ExpressRoute.</span></span>  

<span data-ttu-id="57b52-178">**3. adım: uygulama hizmeti ortamı içeren alt ağ için yol tablosu ilişkilendirme**</span><span class="sxs-lookup"><span data-stu-id="57b52-178">**Step 3:  Associate the route table to the subnet containing the App Service Environment**</span></span>

<span data-ttu-id="57b52-179">Son yapılandırma adımı alt ağ için yol tablosu ilişkilendirmek için uygulama hizmeti ortamı dağıtılacağı ' dir.</span><span class="sxs-lookup"><span data-stu-id="57b52-179">The last  configuration step is to associate the route table to the subnet where the App Service Environment will be deployed.</span></span>  <span data-ttu-id="57b52-180">Aşağıdaki komut, "Bir uygulama hizmeti ortamı sonunda içerecek ASESubnet" için "DirectInternetRouteTable" ilişkilendirir.</span><span class="sxs-lookup"><span data-stu-id="57b52-180">The following command associates the "DirectInternetRouteTable" to the "ASESubnet" that will eventually contain an App Service Environment.</span></span>

    Set-AzureSubnetRouteTable -VirtualNetworkName 'YourVirtualNetworkNameHere' -SubnetName 'ASESubnet' -RouteTableName 'DirectInternetRouteTable'


<span data-ttu-id="57b52-181">**4. adım: Son adımlar**</span><span class="sxs-lookup"><span data-stu-id="57b52-181">**Step 4:  Final Steps**</span></span>

<span data-ttu-id="57b52-182">Yol tablosu alt ağına bağlandıktan sonra önce test ve hedeflenen etkisi onaylamak için önerilir.</span><span class="sxs-lookup"><span data-stu-id="57b52-182">Once the route table is bound to the subnet, it is recommended to first test and confirm the intended effect.</span></span>  <span data-ttu-id="57b52-183">Örneğin, alt ağ bir sanal makine dağıtabilir ve onaylayın:</span><span class="sxs-lookup"><span data-stu-id="57b52-183">For example, deploy a virtual machine into the subnet and confirm that:</span></span>

* <span data-ttu-id="57b52-184">Bu makalede hem Azure hem de Azure olmayan uç noktaları giden trafik daha önce bahsedilen **değil** expressroute bağlantı hattı akar.</span><span class="sxs-lookup"><span data-stu-id="57b52-184">Outbound traffic to both Azure and non-Azure endpoints mentioned earlier in this article is **not** flowing down the ExpressRoute circuit.</span></span>  <span data-ttu-id="57b52-185">Bu davranış, alt ağdan giden trafiği ise şirket içi, uygulama hizmeti ortamı oluşturma her zaman başarısız olur hala zorlamalı tünel beri doğrulamak çok önemlidir.</span><span class="sxs-lookup"><span data-stu-id="57b52-185">It is very important to verify this behavior, since if outbound traffic from the subnet is still being forced tunneled on-premises, App Service Environment creation will always fail.</span></span> 
* <span data-ttu-id="57b52-186">Uç noktaları için DNS araması tüm düzgün çözme daha önce bahsedilen.</span><span class="sxs-lookup"><span data-stu-id="57b52-186">DNS lookups for the endpoints mentioned earlier are all resolving properly.</span></span> 

<span data-ttu-id="57b52-187">Yukarıdaki adımları onaylandıktan sonra alt ağ uygulama hizmeti ortamı oluşturulduğunda "boş" olması gerektiğinden sanal makine silmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="57b52-187">Once the above steps are confirmed, you will need to delete the virtual machine because the subnet needs to be "empty" at the time the App Service Environment is created.</span></span>

<span data-ttu-id="57b52-188">Bir uygulama hizmeti ortamı oluşturma ile devam edin!</span><span class="sxs-lookup"><span data-stu-id="57b52-188">Then proceed with creating an App Service Environment!</span></span>

## <a name="getting-started"></a><span data-ttu-id="57b52-189">Başlarken</span><span class="sxs-lookup"><span data-stu-id="57b52-189">Getting started</span></span>
<span data-ttu-id="57b52-190">Tüm makaleler ve nasıl-için uygulama hizmeti ortamları kullanılabilir için kullanıcının [uygulama hizmeti ortamları için Benioku](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="57b52-190">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="57b52-191">Uygulama hizmeti ortamları ile çalışmaya başlamak için bkz: [uygulama hizmeti ortamı giriş][IntroToAppServiceEnvironment]</span><span class="sxs-lookup"><span data-stu-id="57b52-191">To get started with App Service Environments, see [Introduction to App Service Environment][IntroToAppServiceEnvironment]</span></span>

<span data-ttu-id="57b52-192">Azure App Service platformu hakkında daha fazla bilgi için bkz: [Azure App Service][AzureAppService].</span><span class="sxs-lookup"><span data-stu-id="57b52-192">For more information about the Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

<!-- LINKS -->
[virtualnetwork]: http://azure.microsoft.com/services/virtual-network/
[ExpressRoute]: http://azure.microsoft.com/services/expressroute/
[requiredports]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[NetworkSecurityGroups]: http://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[UDROverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-udr-overview/
[UDRHowTo]: http://azure.microsoft.com/documentation/articles/virtual-networks-udr-how-to/
[HowToCreateAnAppServiceEnvironment]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[AzureDownloads]: http://azure.microsoft.com/en-us/downloads/ 
[DownloadCenterAddressRanges]: http://www.microsoft.com/download/details.aspx?id=41653  
[NetworkSecurityGroups]: https://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[IntroToAppServiceEnvironment]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[NewPortal]:  https://portal.azure.com


<!-- IMAGES -->
