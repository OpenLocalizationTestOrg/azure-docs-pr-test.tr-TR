---
title: "IIS Kimlik Doğrulaması ve Azure MFA Sunucusu | Microsoft Docs"
description: "Bu, IIS Kimlik Doğrulaması ve Azure Multi-Factor Authentication Sunucusu’nu dağıtmada yardımcı olacak Azure Multi-factor authentication sayfasıdır."
services: multi-factor-authentication
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: d1bf1c8a-2c10-4ae6-9f4b-75f0c3df43eb
ms.service: multi-factor-authentication
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 06/16/2017
ms.author: kgremban
ms.reviewer: yossib
ms.custom: H1Hack27Feb2017,it-pro
ms.openlocfilehash: ab6f9110dccd3cfc15092f535650e8d8cb1af13c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="configure-azure-multi-factor-authentication-server-for-iis-web-apps"></a><span data-ttu-id="3b311-103">IIS web uygulamaları için Azure Multi-Factor Authentication Sunucusu</span><span class="sxs-lookup"><span data-stu-id="3b311-103">Configure Azure Multi-Factor Authentication Server for IIS web apps</span></span>

<span data-ttu-id="3b311-104">Microsoft IIS web uygulamaları ile IIS kimlik doğrulamasını etkinleştirmek ve yapılandırmak için Azure Multi-Factor Authentication (MFA) Sunucusu’nun IIS Kimlik Doğrulaması bölümünü kullanın.</span><span class="sxs-lookup"><span data-stu-id="3b311-104">Use the IIS Authentication section of the Azure Multi-Factor Authentication (MFA) Server to enable and configure IIS authentication for integration with Microsoft IIS web applications.</span></span> <span data-ttu-id="3b311-105">Azure MFA Sunucusu, Azure Multi-Factor Authentication eklemek üzere IIS web sunucusuna yapılan istekleri filtreleyebilen bir eklenti yükler.</span><span class="sxs-lookup"><span data-stu-id="3b311-105">The Azure MFA Server installs a plug-in that can filter requests being made to the IIS web server to add Azure Multi-Factor Authentication.</span></span> <span data-ttu-id="3b311-106">IIS eklentisi Form Tabanlı Kimlik Doğrulaması ve Tümleşik Windows HTTP Kimlik Doğrulaması için destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="3b311-106">The IIS plug-in provides support for Form-Based Authentication and Integrated Windows HTTP Authentication.</span></span> <span data-ttu-id="3b311-107">Güvenilen IP’ler iç IP adreslerini iki öğeli kimlik doğrulamasından muaf tutmak için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="3b311-107">Trusted IPs can also be configured to exempt internal IP addresses from two-factor authentication.</span></span>

![IIS Kimlik Doğrulaması](./media/multi-factor-authentication-get-started-server-iis/iis.png)

## <a name="using-form-based-iis-authentication-with-azure-multi-factor-authentication-server"></a><span data-ttu-id="3b311-109">Azure Multi-Factor Authentication Sunucusu ile Form Tabanlı IIS Kimlik Doğrulaması kullanma</span><span class="sxs-lookup"><span data-stu-id="3b311-109">Using Form-Based IIS Authentication with Azure Multi-Factor Authentication Server</span></span>
<span data-ttu-id="3b311-110">Form tabanlı kimlik doğrulaması kullanan bir IIS web uygulamasını güvenli hale getirmek için, IIS web sunucusuna Azure Multi-Factor Authentication Sunucusu’nu yükleyin ve Sunucu’yu aşağıdaki yordama göre yapılandırın:</span><span class="sxs-lookup"><span data-stu-id="3b311-110">To secure an IIS web application that uses form-based authentication, install the Azure Multi-Factor Authentication Server on the IIS web server and configure the Server per the following procedure:</span></span>

1. <span data-ttu-id="3b311-111">Azure Multi-Factor Authentication Sunucusu’nun soldaki menüsünde IIS Kimlik Doğrulaması simgesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-111">In the Azure Multi-Factor Authentication Server, click the IIS Authentication icon in the left menu.</span></span>
2. <span data-ttu-id="3b311-112">**Form Tabanlı** sekmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-112">Click the **Form-Based** tab.</span></span>
3. <span data-ttu-id="3b311-113">**Ekle**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-113">Click **Add**.</span></span>
4. <span data-ttu-id="3b311-114">Kullanıcı adı, parola ve etki alanı değişkenlerini otomatik olarak algılamak için, Otomatik Yapılandırma Form Tabanlı Web Sitesi iletişim kutusuna Oturum Açma URL’sini (https://localhost/contoso/auth/login.aspx gibi) girin ve **Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-114">To detect username, password and domain variables automatically, enter the Login URL (like https://localhost/contoso/auth/login.aspx) within the Auto-Configure Form-Based Website dialog box and click **OK**.</span></span>
5. <span data-ttu-id="3b311-115">Tüm kullanıcılar Sunucu’ya aktarılmışsa ya da aktarılacaksa ve multi-factor authentication’a tabi olacaksa, **Multi-Factor Authentication İste kullanıcı eşleme** kutusunu işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="3b311-115">Check the **Require Multi-Factor Authentication user match** box if all users have been or will be imported into the Server and subject to multi-factor authentication.</span></span> <span data-ttu-id="3b311-116">Çok sayıda kullanıcı Sunucu’ya henüz aktarılmadı ve/veya multi-factor authentication’da muaf tutulacaksa, kutunun işaretini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="3b311-116">If a significant number of users have not yet been imported into the Server and/or will be exempt from multi-factor authentication, leave the box unchecked.</span></span>
6. <span data-ttu-id="3b311-117">Sayfa değişkenleri otomatik olarak algılanamıyorsa Otomatik Yapılandırma Form Tabanlı Web Sitesi iletişim kutusunda **Elle Belirt**’e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-117">If the page variables cannot be detected automatically, click **Specify Manually** in the Auto-Configure Form-Based Website dialog box.</span></span>
7. <span data-ttu-id="3b311-118">Otomatik Yapılandırma Form Tabanlı Web Sitesi iletişim kutusunda, URL Gönder alanına oturum açma sayfası URL’sini girin ve Uygulama adı girin (isteğe bağlı).</span><span class="sxs-lookup"><span data-stu-id="3b311-118">In the Add Form-Based Website dialog box, enter the URL to the login page in the Submit URL field and enter an Application name (optional).</span></span> <span data-ttu-id="3b311-119">Uygulama adı Azure Multi-Factor Authentication raporlarında görünür ve SMS veya Mobil Uygulama kimlik doğrulama iletilerinde görüntülenebilir.</span><span class="sxs-lookup"><span data-stu-id="3b311-119">The Application name appears in Azure Multi-Factor Authentication reports and may be displayed within SMS or Mobile App authentication messages.</span></span>
8. <span data-ttu-id="3b311-120">Doğru İstek biçimini seçin.</span><span class="sxs-lookup"><span data-stu-id="3b311-120">Select the correct Request format.</span></span> <span data-ttu-id="3b311-121">Bu, çoğu web uygulaması için **POST or GET** olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="3b311-121">This is set to **POST or GET** for most web applications.</span></span>
9. <span data-ttu-id="3b311-122">Kullanıcı adı değişkenini, Parola değişkenini ve Etki alanı değişkenini (oturum açma sayfasında görünüyorsa) girin.</span><span class="sxs-lookup"><span data-stu-id="3b311-122">Enter the Username variable, Password variable, and Domain variable (if it appears on the login page).</span></span> <span data-ttu-id="3b311-123">Girdi kutularının adlarını bulmak için bir web tarayıcısında oturum açma sayfasına gidin, sayfaya sağ tıklayın ve **Kaynağı Görüntüle**’yi seçin.</span><span class="sxs-lookup"><span data-stu-id="3b311-123">To find the names of the input boxes, navigate to the login page in a web browser, right-click on the page, and select **View Source**.</span></span>
10. <span data-ttu-id="3b311-124">Tüm kullanıcılar Sunucu’ya aktarılmışsa ya da aktarılacaksa ve multi-factor authentication’a tabi olacaksa, **Azure Multi-Factor Authentication İste kullanıcı eşleme** kutusunu işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="3b311-124">Check the **Require Azure Multi-Factor Authentication user match** box if all users have been or will be imported into the Server and subject to multi-factor authentication.</span></span> <span data-ttu-id="3b311-125">Çok sayıda kullanıcı Sunucu’ya henüz aktarılmadı ve/veya multi-factor authentication’da muaf tutulacaksa, kutunun işaretini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="3b311-125">If a significant number of users have not yet been imported into the Server and/or will be exempt from multi-factor authentication, leave the box unchecked.</span></span>
11. <span data-ttu-id="3b311-126">Aşağıdaki gibi gelişmiş ayarları gözden geçirmek için **Gelişmiş**’e tıklayın:</span><span class="sxs-lookup"><span data-stu-id="3b311-126">Click **Advanced** to review advanced settings, including:</span></span>

  - <span data-ttu-id="3b311-127">Özel bir reddetme sayfa dosyası seçme</span><span class="sxs-lookup"><span data-stu-id="3b311-127">Select a custom denial page file</span></span>
  - <span data-ttu-id="3b311-128">Tanımlama bilgilerini kullanarak web sitesinde başarılı kimlik doğrulamalarını belirli bir dönem boyunca önbelleğe alma</span><span class="sxs-lookup"><span data-stu-id="3b311-128">Cache successful authentications to the website for a period of time using cookies</span></span>
  - <span data-ttu-id="3b311-129">Birincil kimlik bilgilerinin bir Windows Etki Alanı, LDAP dizinine göre mi yoksa</span><span class="sxs-lookup"><span data-stu-id="3b311-129">Select whether to authenticate the primary credentials against a Windows Domain, LDAP directory.</span></span> <span data-ttu-id="3b311-130">RADIUS sunucusuna göre mi doğrulanacağını belirtin.</span><span class="sxs-lookup"><span data-stu-id="3b311-130">or RADIUS server.</span></span>

12. <span data-ttu-id="3b311-131">Form Tabanlı Web Sitesi Ekle iletişim kutusuna dönmek için **Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-131">Click **OK** to return to the Add Form-Based Website dialog box.</span></span>
13. <span data-ttu-id="3b311-132">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-132">Click **OK**.</span></span>
14. <span data-ttu-id="3b311-133">URL ve sayfa değişkenleri algılandığında veya girildiğinde, web sitesi verileri Form Tabanlı panelde görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="3b311-133">Once the URL and page variables have been detected or entered, the website data displays in the Form-Based panel.</span></span>

## <a name="using-integrated-windows-authentication-with-azure-multi-factor-authentication-server"></a><span data-ttu-id="3b311-134">Azure Multi-Factor Authentication Sunucusu ile Tümleşik Windows Kimlik Doğrulaması kullanma</span><span class="sxs-lookup"><span data-stu-id="3b311-134">Using Integrated Windows Authentication with Azure Multi-Factor Authentication Server</span></span>
<span data-ttu-id="3b311-135">Tümleşik Windows HTTP kimlik doğrulaması kullanan bir IIS web uygulamasını güvenli hale getirmek için, IIS web sunucusuna Azure MFA Sunucusu’nu yükleyin ve aşağıdaki adımları izleyerek Sunucu’yu yapılandırın:</span><span class="sxs-lookup"><span data-stu-id="3b311-135">To secure an IIS web application that uses Integrated Windows HTTP authentication, install the Azure MFA Server on the IIS web server, then configure the Server with the following steps:</span></span>

1. <span data-ttu-id="3b311-136">Azure Multi-Factor Authentication Sunucusu’nun soldaki menüsünde IIS Kimlik Doğrulaması simgesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-136">In the Azure Multi-Factor Authentication Server, click the IIS Authentication icon in the left menu.</span></span>
2. <span data-ttu-id="3b311-137">**HTTP** sekmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-137">Click the **HTTP** tab.</span></span>
3. <span data-ttu-id="3b311-138">**Ekle**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-138">Click **Add**.</span></span>
4. <span data-ttu-id="3b311-139">Taban URL’si Ekle iletişim kutusuna, HTTP kimlik doğrulamasının gerçekleştirileceği web sitesinin URL’sini (http://localhost/owa gibi) girin ve bir Uygulama adı sağlayın (isteğe bağlı).</span><span class="sxs-lookup"><span data-stu-id="3b311-139">In the Add Base URL dialogue box, enter the URL for the website where HTTP authentication is performed (like http://localhost/owa) and provide an Application name (optional).</span></span> <span data-ttu-id="3b311-140">Uygulama adı Azure Multi-Factor Authentication raporlarında görünür ve SMS veya Mobil Uygulama kimlik doğrulama iletilerinde görüntülenebilir.</span><span class="sxs-lookup"><span data-stu-id="3b311-140">The Application name appears in Azure Multi-Factor Authentication reports and may be displayed within SMS or Mobile App authentication messages.</span></span>
5. <span data-ttu-id="3b311-141">Varsayılan yeterli değilse, Boşta kalma zaman aşımı ve Maksimum oturum sürelerini ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-141">Adjust the Idle timeout and Maximum session times if the default is not sufficient.</span></span>
6. <span data-ttu-id="3b311-142">Tüm kullanıcılar Sunucu’ya aktarılmışsa ya da aktarılacaksa ve multi-factor authentication’a tabi olacaksa, **Multi-Factor Authentication İste kullanıcı eşleme** kutusunu işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="3b311-142">Check the **Require Multi-Factor Authentication user match** box if all users have been or will be imported into the Server and subject to multi-factor authentication.</span></span> <span data-ttu-id="3b311-143">Çok sayıda kullanıcı Sunucu’ya henüz aktarılmadı ve/veya multi-factor authentication’da muaf tutulacaksa, kutunun işaretini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="3b311-143">If a significant number of users have not yet been imported into the Server and/or will be exempt from multi-factor authentication, leave the box unchecked.</span></span>
7. <span data-ttu-id="3b311-144">İsterseniz **Tanımlama bilgisi önbelleği** kutusunu işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="3b311-144">Check the **Cookie cache** box if desired.</span></span>
8. <span data-ttu-id="3b311-145">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-145">Click **OK**.</span></span>

## <a name="enable-iis-plug-ins-for-azure-multi-factor-authentication-server"></a><span data-ttu-id="3b311-146">Azure Multi-Factor Authentication Sunucusu için IIS Eklentilerini Etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="3b311-146">Enable IIS Plug-ins for Azure Multi-Factor Authentication Server</span></span>
<span data-ttu-id="3b311-147">Form Tabanlı ya da HTTP kimlik doğrulaması URL’lerini ve ayarlarını yapılandırdıktan sonra, Azure Multi-Factor Authentication IIS eklentilerinin IIS’de yüklenmesi ve etkinleştirilmesi gereken konumları seçin.</span><span class="sxs-lookup"><span data-stu-id="3b311-147">After configuring the Form-Based or HTTP authentication URLs and settings, select the locations where the Azure Multi-Factor Authentication IIS plug-ins should be loaded and enabled in IIS.</span></span> <span data-ttu-id="3b311-148">Aşağıdaki yordamı kullanın:</span><span class="sxs-lookup"><span data-stu-id="3b311-148">Use the following procedure:</span></span>

1. <span data-ttu-id="3b311-149">IIS 6'da çalıştırılıyorsa **ISAPI** sekmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-149">If running on IIS 6, click the **ISAPI** tab.</span></span> <span data-ttu-id="3b311-150">Bu site için Azure Multi-Factor Authentication ISAPI filtresi eklentisini etkinleştirmek için web uygulamasının altında çalıştığı web sitesini (örneğin, Varsayılan Web Sitesi) seçin.</span><span class="sxs-lookup"><span data-stu-id="3b311-150">Select the website that the web application is running under (e.g. Default Web Site) to enable the Azure Multi-Factor Authentication ISAPI filter plug-in for that site.</span></span>
2. <span data-ttu-id="3b311-151">IIS 7 veya üzeri çalıştırılıyorsa **Yerel Modül** sekmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-151">If running on IIS 7 or higher, click the **Native Module** tab.</span></span> <span data-ttu-id="3b311-152">IIS eklentisini istenen düzeylerde etkinleştirmek için sunucu, web siteleri veya uygulamaları seçin.</span><span class="sxs-lookup"><span data-stu-id="3b311-152">Select the server, websites, or applications to enable the IIS plug-in at the desired levels.</span></span>
3. <span data-ttu-id="3b311-153">Ekranın üst kısmındaki **IIS kimlik doğrulamasını etkinleştir** kutusuna tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-153">Click the **Enable IIS authentication** box at the top of the screen.</span></span> <span data-ttu-id="3b311-154">Azure Multi-Factor Authentication artık seçilen IIS uygulamasını güvenli hale getirir.</span><span class="sxs-lookup"><span data-stu-id="3b311-154">Azure Multi-Factor Authentication is now securing the selected IIS application.</span></span> <span data-ttu-id="3b311-155">Kullanıcıların sunucuya aktarıldığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="3b311-155">Ensure that users have been imported into the Server.</span></span>

## <a name="trusted-ips"></a><span data-ttu-id="3b311-156">Güvenilen IP'ler</span><span class="sxs-lookup"><span data-stu-id="3b311-156">Trusted IPs</span></span>
<span data-ttu-id="3b311-157">Güvenilen IP'ler kullanıcıların belirli IP adresleri veya alt ağlardan kaynaklanan web sitesi istekleri için Azure Multi-Factor Authentication’ı atlamasına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="3b311-157">The Trusted IPs allows users to bypass Azure Multi-Factor Authentication for website requests originating from specific IP addresses or subnets.</span></span> <span data-ttu-id="3b311-158">Örneğin, ofisten oturum açarken kullanıcıların Azure Multi-Factor Authentication’dan muaf tutulmasını isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3b311-158">For example, you may want to exempt users from Azure Multi-Factor Authentication while logging in from the office.</span></span> <span data-ttu-id="3b311-159">Bunun için ofis alt ağını Güvenilen IP’ler girişi olarak belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3b311-159">For this, you would specify the office subnet as a Trusted IPs entry.</span></span> <span data-ttu-id="3b311-160">Güvenilen IP’leri yapılandırmak için aşağıdaki yordamı kullanın:</span><span class="sxs-lookup"><span data-stu-id="3b311-160">To configure Trusted IPs, use the following procedure:</span></span>

1. <span data-ttu-id="3b311-161">IIS Kimlik Doğrulaması bölümünde **Güvenilen IP'ler** sekmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-161">In the IIS Authentication section, click the **Trusted IPs** tab.</span></span>
2. <span data-ttu-id="3b311-162">**Ekle**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-162">Click **Add**.</span></span>
3. <span data-ttu-id="3b311-163">Güvenilen IP'leri Ekle iletişim kutusu göründüğünde **Tek IP**, **IP aralığı** veya **Alt ağ** radyo düğmesini seçin.</span><span class="sxs-lookup"><span data-stu-id="3b311-163">When the Add Trusted IPs dialog box appears, select the **Single IP**, **IP range**, or **Subnet** radio button.</span></span>
4. <span data-ttu-id="3b311-164">Güvenilir listesinde olması gereken IP adresini, IP adresleri aralığını ya da alt ağı girin.</span><span class="sxs-lookup"><span data-stu-id="3b311-164">Enter the IP address, range of IP addresses or subnet that should be whitelisted.</span></span> <span data-ttu-id="3b311-165">Bir alt ağ giriyorsanız uygun Ağ maskesini seçip **Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3b311-165">If entering a subnet, select the appropriate Netmask and click **OK**.</span></span> <span data-ttu-id="3b311-166">Güvenilir listesi şimdi eklendi.</span><span class="sxs-lookup"><span data-stu-id="3b311-166">The whitelist has now been added.</span></span>
