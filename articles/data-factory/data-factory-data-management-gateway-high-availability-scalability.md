---
title: "Azure Data factory'de veri yönetimi ağ geçidi ile yüksek kullanılabilirlik | Microsoft Docs"
description: "Bu makalede daha fazla düğüm ve ölçek ekleyerek veri yönetimi ağ geçidi nasıl ölçeklendirebilirsiniz açıklanmaktadır yukarı bir düğümde çalıştırılabilen eşzamanlı iş sayısını artırarak."
services: data-factory
documentationcenter: 
author: nabhishek
manager: jhubbard
editor: 
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: abnarain
ms.openlocfilehash: b6bf353a2bad28b0db3a88e971e5c6b209b7ab2b
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/18/2017
---
# <a name="data-management-gateway---high-availability-and-scalability-preview"></a><span data-ttu-id="4d392-103">Veri Yönetimi ağ geçidi - yüksek kullanılabilirlik ve ölçeklenebilirlik (Önizleme)</span><span class="sxs-lookup"><span data-stu-id="4d392-103">Data Management Gateway - high availability and scalability (Preview)</span></span>
<span data-ttu-id="4d392-104">Bu makalede veri yönetimi ağ geçidi ile yüksek kullanılabilirlik ve ölçeklenebilirlik çözümü yapılandırmanıza yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="4d392-104">This article helps you configure high availability and scalability solution with Data Management Gateway.</span></span>    

> [!NOTE]
> <span data-ttu-id="4d392-105">Bu makale, veri yönetimi ağ geçidi temelleri ile bilginiz olduğunu varsayar.</span><span class="sxs-lookup"><span data-stu-id="4d392-105">This article assumes that you are already familiar with basics of Data Management Gateway.</span></span> <span data-ttu-id="4d392-106">Emin değilseniz, bkz: [veri yönetimi ağ geçidi](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="4d392-106">If you are not, see [Data Management Gateway](data-factory-data-management-gateway.md).</span></span>

><span data-ttu-id="4d392-107">**Bu önizleme özelliği resmi olarak veri yönetimi ağ geçidi sürümü 2.12.xxxx.x ve üzeri sürümlerde desteklenen**.</span><span class="sxs-lookup"><span data-stu-id="4d392-107">**This preview feature is officially supported on Data Management Gateway version 2.12.xxxx.x and above**.</span></span> <span data-ttu-id="4d392-108">Lütfen sürüm 2.12.xxxx.x kullandığınızdan emin olun veya üstü.</span><span class="sxs-lookup"><span data-stu-id="4d392-108">Please make sure you are using version 2.12.xxxx.x or above.</span></span> <span data-ttu-id="4d392-109">Veri Yönetimi ağ geçidi en son sürümünü indirme [burada](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="4d392-109">Download the latest version of Data Management Gateway [here](https://www.microsoft.com/download/details.aspx?id=39717).</span></span>

## <a name="overview"></a><span data-ttu-id="4d392-110">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="4d392-110">Overview</span></span>
<span data-ttu-id="4d392-111">Tek bir mantıksal ağ geçidi portalından sahip birden çok şirket içi makinelerde yüklü veri yönetimi ağ geçidi ilişkilendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d392-111">You can associate data management gateways that are installed on multiple on-premises machines with a single logical gateway from the portal.</span></span> <span data-ttu-id="4d392-112">Bu makineler adlı **düğümleri**.</span><span class="sxs-lookup"><span data-stu-id="4d392-112">These machines are called **nodes**.</span></span> <span data-ttu-id="4d392-113">En fazla olabilir **dört düğüm** mantıksal bir ağ geçidi ile ilişkilendirilmiş.</span><span class="sxs-lookup"><span data-stu-id="4d392-113">You can have up to **four nodes** associated with a logical gateway.</span></span> <span data-ttu-id="4d392-114">Mantıksal bir ağ geçidi için birden çok düğüm (yüklü ağ geçidi ile şirket içi makineler) sahip avantajları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="4d392-114">The benefits of having multiple nodes (on-premises machines with gateway installed) for a logical gateway are:</span></span>  

- <span data-ttu-id="4d392-115">Şirket içi ve bulut arasında veri taşıma performansını verileri depolar.</span><span class="sxs-lookup"><span data-stu-id="4d392-115">Improve performance of data movement between on-premises and cloud data stores.</span></span>  
- <span data-ttu-id="4d392-116">Herhangi bir nedenden dolayı düğümlerinden biri arıza yaparsa, diğer düğümler veri taşımak için hala kullanılabilmektedir.</span><span class="sxs-lookup"><span data-stu-id="4d392-116">If one of the nodes goes down for some reason, other nodes are still available for moving the data.</span></span> 
- <span data-ttu-id="4d392-117">Bir düğümünde bakım için çevrimdışı duruma ihtiyacınız varsa, diğer düğümler veri taşımak için hala kullanılabilir durumdadır.</span><span class="sxs-lookup"><span data-stu-id="4d392-117">If one of the nodes need to be taken offline for maintenance, other nodes are still available for moving the data.</span></span>

<span data-ttu-id="4d392-118">Sayısı da yapılandırabilirsiniz **eş zamanlı veri taşıma işleri** şirket içi ve bulut arasında veri taşıma özelliği ölçeklendirmek için bir düğüm üzerinde çalışabilir veri depolarına.</span><span class="sxs-lookup"><span data-stu-id="4d392-118">You can also configure the number of **concurrent data movement jobs** that can run on a node to scale up the capability of moving data between on-premises and cloud data stores.</span></span> 

<span data-ttu-id="4d392-119">Azure Portalı'nı kullanarak, bir düğüm mantıksal ağ geçidi'nden ekleyip karar vermenize yardımcı olan bu düğümler durumunu izleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d392-119">Using the Azure portal, you can monitor the status of these nodes, which helps you decide whether to add or remove a node from the logical gateway.</span></span> 

## <a name="architecture"></a><span data-ttu-id="4d392-120">Mimari</span><span class="sxs-lookup"><span data-stu-id="4d392-120">Architecture</span></span> 
<span data-ttu-id="4d392-121">Aşağıdaki diyagramda mimari genel bakış ölçeklenebilirlik ve kullanılabilirlik özelliği veri yönetimi ağ geçidi sağlar:</span><span class="sxs-lookup"><span data-stu-id="4d392-121">The following diagram provides the architecture overview of scalability and availability feature of the Data Management Gateway:</span></span> 

![Veri Yönetimi ağ geçidi - yüksek kullanılabilirlik ve ölçeklenebilirlik](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-high-availability-and-scalability.png)

<span data-ttu-id="4d392-123">A **mantıksal ağ geçidi** Azure Portal'daki data factory eklediğiniz ağ geçididir.</span><span class="sxs-lookup"><span data-stu-id="4d392-123">A **logical gateway** is the gateway you add to a data factory in the Azure portal.</span></span> <span data-ttu-id="4d392-124">Daha önce veri yönetimi ağ geçidi mantıksal bir ağ geçidi ile yüklü olan yalnızca bir şirket içi Windows makine ilişkilendirme.</span><span class="sxs-lookup"><span data-stu-id="4d392-124">Earlier, you could associate only one on-premises Windows machine with Data Management Gateway installed with a logical gateway.</span></span> <span data-ttu-id="4d392-125">Bu ağ geçidi makinesi bir düğüm olarak adlandırılan şirket içi.</span><span class="sxs-lookup"><span data-stu-id="4d392-125">This on-premises gateway machine is called a node.</span></span> <span data-ttu-id="4d392-126">En fazla şimdi ilişkilendirebilirsiniz **dört fiziksel düğüm** mantıksal bir ağ geçidi ile.</span><span class="sxs-lookup"><span data-stu-id="4d392-126">Now, you can associate up to **four physical nodes** with a logical gateway.</span></span> <span data-ttu-id="4d392-127">Mantıksal bir ağ geçidi birden çok düğüm ile adlı bir **çok düğümlü ağ geçidi**.</span><span class="sxs-lookup"><span data-stu-id="4d392-127">A logical gateway with multiple nodes is called a **multi-node gateway**.</span></span>  

<span data-ttu-id="4d392-128">Bu düğümler **etkin**.</span><span class="sxs-lookup"><span data-stu-id="4d392-128">All these nodes are **active**.</span></span> <span data-ttu-id="4d392-129">Tüm şirket içi ve bulut arasında veri taşımak için veri taşıma işleri işleyebilmesi için verileri depolar.</span><span class="sxs-lookup"><span data-stu-id="4d392-129">They all can process data movement jobs to move data between on-premises and cloud data stores.</span></span> <span data-ttu-id="4d392-130">Düğümlerden birinde dağıtıcısı ve çalışan davranır.</span><span class="sxs-lookup"><span data-stu-id="4d392-130">One of the nodes act as both dispatcher and worker.</span></span> <span data-ttu-id="4d392-131">Diğer düğümlere gruplar halinde çalışan düğümleri ' dir.</span><span class="sxs-lookup"><span data-stu-id="4d392-131">Other nodes in the groups are worker nodes.</span></span> <span data-ttu-id="4d392-132">A **dağıtıcısı** düğümü veri taşıma görevleri/işleri bulut hizmetinden çeker ve çalışan düğümlerine (kendisi dahil) gönderir.</span><span class="sxs-lookup"><span data-stu-id="4d392-132">A **dispatcher** node pulls data movement tasks/jobs from the cloud service and dispatches them to worker nodes (including itself).</span></span> <span data-ttu-id="4d392-133">A **çalışan** düğümü şirket içi ve bulut arasında veri taşımak için veri taşıma işlerini yürütür verileri depolar.</span><span class="sxs-lookup"><span data-stu-id="4d392-133">A **worker** node executes data movement jobs to move data between on-premises and cloud data stores.</span></span> <span data-ttu-id="4d392-134">Tüm düğümleri çalışanlardır.</span><span class="sxs-lookup"><span data-stu-id="4d392-134">All nodes are workers.</span></span> <span data-ttu-id="4d392-135">Yalnızca bir düğüm, gönderme ve çalışan olabilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-135">Only one node can be both dispatch and worker.</span></span>    

<span data-ttu-id="4d392-136">Tek bir düğüm genellikle başlayabilir ve **ölçeğini** varolan düğümlerini veri taşıma yük ile çok gibi daha fazla düğüm eklemek için.</span><span class="sxs-lookup"><span data-stu-id="4d392-136">You may typically start with one node and **scale out** to add more nodes as the existing node(s) are overwhelmed with the data movement load.</span></span> <span data-ttu-id="4d392-137">Ayrıca **ölçeği** düğümde çalışmasına izin verilen eşzamanlı iş sayısını artırarak bir ağ geçidi düğümü, veri taşıma özelliği.</span><span class="sxs-lookup"><span data-stu-id="4d392-137">You can also **scale up** the data movement capability of a gateway node by increasing the number of concurrent jobs that are allowed to run on the node.</span></span> <span data-ttu-id="4d392-138">Bu özellik, tek bir düğüm ile ağ geçidi (ölçeklenebilirlik ve kullanılabilirlik özelliği etkin değilse bile) de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-138">This capability is also available with a single-node gateway (even when the scalability and availability feature is not enabled).</span></span> 

<span data-ttu-id="4d392-139">Bir ağ geçidi birden çok düğüm ile veri deposu kimlik tüm düğümlere eşitlenmiş tutar.</span><span class="sxs-lookup"><span data-stu-id="4d392-139">A gateway with multiple nodes keeps the data store credentials in sync across all nodes.</span></span> <span data-ttu-id="4d392-140">Bir düğümden düğüme bağlantı sorunu varsa, kimlik bilgileri eşitlenmemiş olabilir. Bir ağ geçidi kullanan bir şirket içi veri deposu için kimlik bilgilerini ayarladığınızda, dağıtıcı/çalışan düğümünde kimlik bilgileri kaydeder.</span><span class="sxs-lookup"><span data-stu-id="4d392-140">If there is a node-to-node connectivity issue, the credentials may be out of sync. When you set credentials for an on-premises data store that uses a gateway, it saves credentials on the dispatcher/worker node.</span></span> <span data-ttu-id="4d392-141">Dağıtıcı düğümü eşitlemeler diğer alt düğümü.</span><span class="sxs-lookup"><span data-stu-id="4d392-141">The dispatcher node syncs with other worker nodes.</span></span> <span data-ttu-id="4d392-142">Bu işlem olarak bilinir **kimlik eşitleme**. Düğümler arasındaki iletişim kanalını olabilir **şifrelenmiş** ortak SSL/TLS sertifikası tarafından.</span><span class="sxs-lookup"><span data-stu-id="4d392-142">This process is known as **credentials sync**. The communication channel between nodes can be **encrypted** by a public SSL/TLS certificate.</span></span> 

## <a name="set-up-a-multi-node-gateway"></a><span data-ttu-id="4d392-143">Bir çok düğümlü ağ geçidi kurun</span><span class="sxs-lookup"><span data-stu-id="4d392-143">Set up a multi-node gateway</span></span>
<span data-ttu-id="4d392-144">Bu bölümde, aşağıdaki iki makaleler veya bu makalelerde kavramları tanıdık aracılığıyla geçmiş olabileceğini varsayar:</span><span class="sxs-lookup"><span data-stu-id="4d392-144">This section assumes that you have gone through the following two articles or familiar with concepts in these articles:</span></span> 

- <span data-ttu-id="4d392-145">[Veri Yönetimi ağ geçidi](data-factory-data-management-gateway.md) -ağ geçidi ayrıntılı bir genel bakış sağlar.</span><span class="sxs-lookup"><span data-stu-id="4d392-145">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of the gateway.</span></span>
- <span data-ttu-id="4d392-146">[Şirket içi ve bulut arasında veri taşıma veri depolarına](data-factory-move-data-between-onprem-and-cloud.md) -bir ağ geçidi ile tek bir düğüm kullanmak için adım adım yönergeleri içeren bir kılavuz içerir.</span><span class="sxs-lookup"><span data-stu-id="4d392-146">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span>  

> [!NOTE]
> <span data-ttu-id="4d392-147">Bir şirket içi Windows makinesinde veri yönetimi ağ geçidi'ni yüklemeden önce listelenen önkoşullara bakın [Ana Makalesi](data-factory-data-management-gateway.md#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="4d392-147">Before you install a data management gateway on an on-premises Windows machine, see prerequisites listed in [the main article](data-factory-data-management-gateway.md#prerequisites).</span></span>

1. <span data-ttu-id="4d392-148">İçinde [izlenecek](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), mantıksal bir ağ geçidi oluştururken, etkinleştirme **yüksek kullanılabilirlik ve ölçeklenebilirlik** özelliği.</span><span class="sxs-lookup"><span data-stu-id="4d392-148">In the [walkthrough](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), while creating a logical gateway, enable the **High Availability & Scalability** feature.</span></span> 

    ![Veri Yönetimi ağ geçidi - enable yüksek kullanılabilirlik ve ölçeklenebilirlik](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-enable-high-availability-scalability.png)
2. <span data-ttu-id="4d392-150">İçinde **yapılandırma** sayfasında, kullanın ya da **Express Kurulum** veya **el ile Kurulum** ilk düğümde (şirket içi Windows makine) bir ağ geçidi yüklemek için bağlantı.</span><span class="sxs-lookup"><span data-stu-id="4d392-150">In the **Configure** page, use either **Express Setup** or **Manual Setup** link to install a gateway on the first node (an on-premises Windows machine).</span></span>

    ![Veri Yönetimi ağ geçidi - hızlı veya el ile Kurulum](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-express-manual-setup.png)

    > [!NOTE]
    > <span data-ttu-id="4d392-152">Hızlı kurulum seçeneğini kullanırsanız, düğüm düğüme iletişim şifreleme olmadan yapılır.</span><span class="sxs-lookup"><span data-stu-id="4d392-152">If you use the express setup option, the node-to-node communication is done without encryption.</span></span> <span data-ttu-id="4d392-153">Düğüm adı, makine adı olarak aynıdır.</span><span class="sxs-lookup"><span data-stu-id="4d392-153">The node name is same as the machine name.</span></span> <span data-ttu-id="4d392-154">El ile kuruluma düğümler iletişimi şifrelenmesi gerekiyor veya tercih ettiğiniz bir düğüm adı belirtmek istiyorsanız kullanın.</span><span class="sxs-lookup"><span data-stu-id="4d392-154">Use manual setup if the node-node communication needs to be encrypted or you want to specify a node name of your choice.</span></span> <span data-ttu-id="4d392-155">Düğüm adı daha sonra düzenlenemez.</span><span class="sxs-lookup"><span data-stu-id="4d392-155">Node names cannot be edited later.</span></span>
3. <span data-ttu-id="4d392-156">Seçerseniz **hızlı kurulumu**</span><span class="sxs-lookup"><span data-stu-id="4d392-156">If you choose **express setup**</span></span>
    1. <span data-ttu-id="4d392-157">Ağ geçidi başarıyla yüklendikten sonra aşağıdaki iletiyi görürsünüz:</span><span class="sxs-lookup"><span data-stu-id="4d392-157">You see the following message after the gateway is successfully installed:</span></span>

        ![Veri Yönetimi ağ geçidi - hızlı Kurulumu başarılı](media/data-factory-data-management-gateway-high-availability-scalability/express-setup-success.png)
    2. <span data-ttu-id="4d392-159">Aşağıdaki ağ geçidi için veri yönetimi Yapılandırma Yöneticisi başlatma [bu yönergeleri](data-factory-data-management-gateway.md#configuration-manager).</span><span class="sxs-lookup"><span data-stu-id="4d392-159">Launch Data Management Configuration Manager for the gateway by following [these instructions](data-factory-data-management-gateway.md#configuration-manager).</span></span> <span data-ttu-id="4d392-160">Ağ geçidi adı, düğüm adı, durumu, vb. görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="4d392-160">You see the gateway name, node name, status, etc.</span></span>

        ![Veri Yönetimi ağ geçidi - yükleme başarılı](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)
4. <span data-ttu-id="4d392-162">Seçerseniz **el ile kuruluma**:</span><span class="sxs-lookup"><span data-stu-id="4d392-162">If you choose **manual setup**:</span></span>
    1. <span data-ttu-id="4d392-163">Ağ geçidini makinenize yüklemek için çalıştırın Microsoft Download Center, yükleme paketini indirin.</span><span class="sxs-lookup"><span data-stu-id="4d392-163">Download the installation package from the Microsoft Download Center, run it to install gateway on your machine.</span></span>
    2. <span data-ttu-id="4d392-164">Kullanım **kimlik doğrulama anahtarı** gelen **yapılandırma** ağ geçidini kaydetmek için sayfa.</span><span class="sxs-lookup"><span data-stu-id="4d392-164">Use the **authentication key** from the **Configure** page to register the gateway.</span></span>
    
        ![Veri Yönetimi ağ geçidi - yükleme başarılı](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-authentication-key.png)
    3. <span data-ttu-id="4d392-166">İçinde **yeni ağ geçidi düğümü** sayfasında, özel bir sağlayabilir **adı** ağ geçidi düğümü.</span><span class="sxs-lookup"><span data-stu-id="4d392-166">In the **New gateway node** page, you can provide a custom **name** to the gateway node.</span></span> <span data-ttu-id="4d392-167">Varsayılan olarak, makine adı olarak aynı düğüm adı.</span><span class="sxs-lookup"><span data-stu-id="4d392-167">By default, node name is same as the machine name.</span></span>    

        ![Veri Yönetimi ağ geçidi - adını belirtin](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-name.png)
    4. <span data-ttu-id="4d392-169">Sonraki sayfada, seçtiğiniz kullanılıp kullanılmayacağını **düğümü düğümü iletişimi için şifrelemeyi etkinleştirmeniz**.</span><span class="sxs-lookup"><span data-stu-id="4d392-169">In the next page, you can choose whether to **enable encryption for node-to-node communication**.</span></span> <span data-ttu-id="4d392-170">Tıklatın **atla** şifreleme (varsayılan) devre dışı bırakmak için.</span><span class="sxs-lookup"><span data-stu-id="4d392-170">Click **Skip** to disable encryption (default).</span></span>

        ![Veri Yönetimi ağ geçidi - enable şifreleme](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-node-encryption.png)  
    
        > [!NOTE]
        > <span data-ttu-id="4d392-172">Şifreleme modunu değiştirme, yalnızca bir tek ağ geçidi düğümü mantıksal ağ geçidi olduğunda desteklenir.</span><span class="sxs-lookup"><span data-stu-id="4d392-172">Changing of encryption mode is only supported when you have a single gateway node in the logical gateway.</span></span> <span data-ttu-id="4d392-173">Bir ağ geçidi birden fazla düğüme sahip olduğunda şifreleme modunu değiştirmek için aşağıdaki adımları uygulayın: bir düğüm dışındaki tüm düğümleri silerseniz, şifreleme modunu değiştirin ve ardından düğümler yeniden ekleyin.</span><span class="sxs-lookup"><span data-stu-id="4d392-173">To change the encryption mode when a gateway has multiple nodes, do the following steps: delete all the nodes except one node, change the encryption mode, and then add the nodes again.</span></span>
        > 
        > <span data-ttu-id="4d392-174">Bkz: [TLS/SSL sertifika gereksinimlerini](#tlsssl-certificate-requirements) bir TLS/SSL sertifikası kullanmak için gereksinimleri listesi bölümü.</span><span class="sxs-lookup"><span data-stu-id="4d392-174">See [TLS/SSL certificate requirements](#tlsssl-certificate-requirements) section for a list of requirements for using an TLS/SSL certificate.</span></span> 
    5. <span data-ttu-id="4d392-175">Ağ geçidi başarıyla yüklendikten sonra başlatma Configuration Manager'ı tıklatın:</span><span class="sxs-lookup"><span data-stu-id="4d392-175">After the gateway is successfully installed, click Launch Configuration Manager:</span></span>
    
        ![El ile kuruluma - başlatma Yapılandırma Yöneticisi](media/data-factory-data-management-gateway-high-availability-scalability/manual-setup-launch-configuration-manager.png)   
    6. <span data-ttu-id="4d392-177">Veri Yönetimi ağ geçidi Yapılandırma Yöneticisi bağlantısı durumunu gösteren, düğümde (şirket içi Windows makine), bkz. **ağ geçidi adı**, ve **düğüm adı**.</span><span class="sxs-lookup"><span data-stu-id="4d392-177">you see Data Management Gateway Configuration Manager on the node (on-premises Windows machine), which shows connectivity status, **gateway name**, and **node name**.</span></span>  

        ![Veri Yönetimi ağ geçidi - yükleme başarılı](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)

        > [!NOTE]
        > <span data-ttu-id="4d392-179">Bir Azure VM ağ geçidinde sağlıyorsanız, kullanabileceğiniz [github'daki bu Azure Resource Manager şablonu](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="4d392-179">If you are provisioning the gateway on an Azure VM, you can use [this Azure Resource Manager template on GitHub](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span></span> <span data-ttu-id="4d392-180">Bu komut, mantıksal bir ağ geçidi oluşturur, veri yönetimi ağ geçidi yazılımı yüklü Vm'leri ayarlar ve mantıksal ağ geçidi ile kaydeder.</span><span class="sxs-lookup"><span data-stu-id="4d392-180">This script creates a logical gateway, sets up VMs with Data Management Gateway software installed, and registers them with the logical gateway.</span></span> 
6. <span data-ttu-id="4d392-181">Azure portalında başlatma **ağ geçidi** sayfa:</span><span class="sxs-lookup"><span data-stu-id="4d392-181">In Azure portal, launch the **Gateway** page:</span></span> 
    1. <span data-ttu-id="4d392-182">Portalı'nda veri fabrikası giriş sayfasında tıklatın **bağlı hizmetler**.</span><span class="sxs-lookup"><span data-stu-id="4d392-182">On the data factory home page in the portal, click **Linked Services**.</span></span>
    
        ![Data factory giriş sayfası](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-home-page.png)
    2. <span data-ttu-id="4d392-184">seçin **ağ geçidi** görmek için **ağ geçidi** sayfa:</span><span class="sxs-lookup"><span data-stu-id="4d392-184">select the **gateway** to see the **Gateway** page:</span></span>
    
        ![Data factory giriş sayfası](media/data-factory-data-management-gateway-high-availability-scalability/linked-services-gateway.png)
    4. <span data-ttu-id="4d392-186">Gördüğünüz **ağ geçidi** sayfa:</span><span class="sxs-lookup"><span data-stu-id="4d392-186">You see the **Gateway** page:</span></span>   

        ![Tek düğüm görünümü ile ağ geçidi](media/data-factory-data-management-gateway-high-availability-scalability/gateway-first-node-portal-view.png) 
7. <span data-ttu-id="4d392-188">Tıklatın **düğüm Ekle** mantıksal ağ geçidi için bir düğüm eklemek için araç çubuğunda.</span><span class="sxs-lookup"><span data-stu-id="4d392-188">Click **Add Node** on the toolbar to add a node to the logical gateway.</span></span> <span data-ttu-id="4d392-189">Hızlı Kurulum kullanmayı planlıyorsanız, ağ geçidi için bir düğüm olarak eklenecek şirket içi makineden bu adımı uygulayın.</span><span class="sxs-lookup"><span data-stu-id="4d392-189">If you are planning to use express setup, do this step from the on-premises machine that will be added as a node to the gateway.</span></span> 

    ![Veri Yönetimi ağ geçidi - düğüm menü ekleme](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)
8. <span data-ttu-id="4d392-191">Adımlar, ilk düğümü ayarını benzer.</span><span class="sxs-lookup"><span data-stu-id="4d392-191">Steps are similar to setting up the first node.</span></span> <span data-ttu-id="4d392-192">Yapılandırma Yöneticisi kullanıcı Arabirimi, el ile yükleme seçeneğini seçerseniz, düğüm adı ayarlamanızı sağlar:</span><span class="sxs-lookup"><span data-stu-id="4d392-192">The Configuration Manager UI lets you set the node name if you choose the manual installation option:</span></span> 

    ![Configuration Manager - yükleme ikinci ağ geçidi](media/data-factory-data-management-gateway-high-availability-scalability/install-second-gateway.png)
9. <span data-ttu-id="4d392-194">Ağ geçidi düğümüne başarıyla yüklendikten sonra Configuration Manager aracını aşağıdaki ekran görüntüler:</span><span class="sxs-lookup"><span data-stu-id="4d392-194">After the gateway is installed successfully on the node, the Configuration Manager tool displays the following screen:</span></span>  

    ![Configuration Manager - yükleme ikinci ağ geçidi başarılı](media/data-factory-data-management-gateway-high-availability-scalability/second-gateway-installation-successful.png)
10. <span data-ttu-id="4d392-196">Açarsanız **ağ geçidi** sayfa Portalı'nda, iki ağ geçidi düğümleri şimdi görürsünüz:</span><span class="sxs-lookup"><span data-stu-id="4d392-196">If you open the **Gateway** page in the portal, you see two gateway nodes now:</span></span> 

    ![Ağ geçidi portalında iki düğümü](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)
11. <span data-ttu-id="4d392-198">Bir ağ geçidi düğümü silmek için tıklatın **silmek düğümü** araç çubuğunda, silme ve ardından istediğiniz düğümü seçin **silmek** araç çubuğundan.</span><span class="sxs-lookup"><span data-stu-id="4d392-198">To delete a gateway node, click **Delete Node** on the toolbar, select the node you want to delete, and then click **Delete** from the toolbar.</span></span> <span data-ttu-id="4d392-199">Bu eylem seçili düğümün grubundan siler.</span><span class="sxs-lookup"><span data-stu-id="4d392-199">This action deletes the selected node from the group.</span></span> <span data-ttu-id="4d392-200">Bu eylem düğümden (şirket içi Windows makine) veri yönetimi ağ geçidi yazılımını kaldırmaz unutmayın.</span><span class="sxs-lookup"><span data-stu-id="4d392-200">Note that this action does not uninstall the data management gateway software from the node (on-premises Windows machine).</span></span> <span data-ttu-id="4d392-201">Kullanım **Program Ekle veya Kaldır'ı** ağ geçidini kaldırmak için Denetim Masası şirket içi'nda.</span><span class="sxs-lookup"><span data-stu-id="4d392-201">Use **Add or remove programs** in Control Panel on the on-premises to uninstall the gateway.</span></span> <span data-ttu-id="4d392-202">Ağ geçidi düğümü kaldırdığınızda, Portalı'nda otomatik olarak silinir.</span><span class="sxs-lookup"><span data-stu-id="4d392-202">When you uninstall gateway from the node, it's automatically deleted in the portal.</span></span>   

## <a name="upgrade-an-existing-gateway"></a><span data-ttu-id="4d392-203">Mevcut bir ağ geçidi yükseltme</span><span class="sxs-lookup"><span data-stu-id="4d392-203">Upgrade an existing gateway</span></span>
<span data-ttu-id="4d392-204">Yüksek kullanılabilirlik ve ölçeklenebilirlik özelliği kullanmak için mevcut bir ağ geçidi yükseltme yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d392-204">You can upgrade an existing gateway to use the high availability and scalability feature.</span></span> <span data-ttu-id="4d392-205">Bu özellik, veri yönetimi ağ geçidi sürümü sahip düğümüyle çalışır > 2.12.xxxx =.</span><span class="sxs-lookup"><span data-stu-id="4d392-205">This feature works only with nodes that have the data management gateway of version >= 2.12.xxxx.</span></span> <span data-ttu-id="4d392-206">Veri Yönetimi ağ geçidi bir makinede yüklü sürümünü görmek **yardımcı** sekmesi, veri yönetimi ağ geçidi Yapılandırma Yöneticisi.</span><span class="sxs-lookup"><span data-stu-id="4d392-206">You can see the version of data management gateway installed on a machine in the **Help** tab of the Data Management Gateway Configuration Manager.</span></span> 

1. <span data-ttu-id="4d392-207">Ağ geçidi şirket içi makinede aşağıdaki tarafından yükleyerek güncelleştirin ve Kurulum paketinden bir MSI çalıştıran [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="4d392-207">Update the gateway on the on-premises machine to the latest version by following by downloading and running an MSI setup package from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span></span> <span data-ttu-id="4d392-208">Bkz: [yükleme](data-factory-data-management-gateway.md#installation) ayrıntıları bölümü.</span><span class="sxs-lookup"><span data-stu-id="4d392-208">See [installation](data-factory-data-management-gateway.md#installation) section for details.</span></span>  
2. <span data-ttu-id="4d392-209">Azure portalına gidin.</span><span class="sxs-lookup"><span data-stu-id="4d392-209">Navigate to the Azure portal.</span></span> <span data-ttu-id="4d392-210">Başlatma **Data Factory sayfasını** veri fabrikanızın.</span><span class="sxs-lookup"><span data-stu-id="4d392-210">Launch the **Data Factory page** for your data factory.</span></span> <span data-ttu-id="4d392-211">Bağlı hizmetler kutucuğunda başlatmak için tıklatın **bağlantılı Hizmetler Sayfası**.</span><span class="sxs-lookup"><span data-stu-id="4d392-211">Click Linked services tile to launch the **linked services page**.</span></span> <span data-ttu-id="4d392-212">Başlatmak için ağ geçidi seçin **ağ geçidi sayfa**.</span><span class="sxs-lookup"><span data-stu-id="4d392-212">Select the gateway to launch the **gateway page**.</span></span> <span data-ttu-id="4d392-213">' I tıklatın ve etkinleştirme **önizleme özelliği** aşağıdaki görüntüde gösterildiği gibi:</span><span class="sxs-lookup"><span data-stu-id="4d392-213">Click and enable **Preview Feature** as shown in the following image:</span></span> 

    ![Veri Yönetimi ağ geçidi - önizleme özelliğini etkinleştir](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-existing-gateway-enable-high-availability.png)   
2. <span data-ttu-id="4d392-215">Önizleme özelliğini portalda etkinleştirildikten sonra tüm sayfaları kapatın.</span><span class="sxs-lookup"><span data-stu-id="4d392-215">Once the preview feature is enabled in the portal, close all pages.</span></span> <span data-ttu-id="4d392-216">Yeniden **ağ geçidi sayfa** yeni önizleme kullanıcı arabirimi (UI) görmek için.</span><span class="sxs-lookup"><span data-stu-id="4d392-216">Reopen the **gateway page** to see the new preview user interface (UI).</span></span>
 
    ![Veri Yönetimi ağ geçidi - enable önizleme özelliği başarılı](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview-success.png)

    ![Veri Yönetimi ağ geçidi - UI Önizleme](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview.png)

    > [!NOTE]
    > <span data-ttu-id="4d392-219">Yükseltme sırasında ilk düğümü adı makinenin adıdır.</span><span class="sxs-lookup"><span data-stu-id="4d392-219">During the upgrade, name of the first node is the name of the machine.</span></span> 
3. <span data-ttu-id="4d392-220">Şimdi, bir düğüm ekleyin.</span><span class="sxs-lookup"><span data-stu-id="4d392-220">Now, add a node.</span></span> <span data-ttu-id="4d392-221">İçinde **ağ geçidi** sayfasında, **düğüm Ekle**.</span><span class="sxs-lookup"><span data-stu-id="4d392-221">In the **Gateway** page, click **Add Node**.</span></span>  

    ![Veri Yönetimi ağ geçidi - düğüm menü ekleme](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)

    <span data-ttu-id="4d392-223">Düğümü ayarlamak için önceki bölümdeki yönergeleri izleyin.</span><span class="sxs-lookup"><span data-stu-id="4d392-223">Follow instructions from the previous section to set up the node.</span></span> 

### <a name="installation-best-practices"></a><span data-ttu-id="4d392-224">Yükleme için en iyi yöntemler</span><span class="sxs-lookup"><span data-stu-id="4d392-224">Installation best practices</span></span>

- <span data-ttu-id="4d392-225">Makine değil hazırda bekletme güç planı ağ geçidi için konak makinedeki yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="4d392-225">Configure power plan on the host machine for the gateway so that the machine does not hibernate.</span></span> <span data-ttu-id="4d392-226">Konak makine hazırda bekleme, ağ geçidi veri isteklere yanıt vermez.</span><span class="sxs-lookup"><span data-stu-id="4d392-226">If the host machine hibernates, the gateway does not respond to data requests.</span></span>
- <span data-ttu-id="4d392-227">Ağ geçidi ile ilişkili sertifika yedekleyin.</span><span class="sxs-lookup"><span data-stu-id="4d392-227">Back up the certificate associated with the gateway.</span></span>
- <span data-ttu-id="4d392-228">Tüm düğümler (ideal performans için önerilen) benzer yapılandırmasının emin olun.</span><span class="sxs-lookup"><span data-stu-id="4d392-228">Ensure all nodes are of similar configuration (recommended) for ideal performance.</span></span> 
- <span data-ttu-id="4d392-229">Yüksek kullanılabilirlik sağlamak için en az iki düğüm ekleyin.</span><span class="sxs-lookup"><span data-stu-id="4d392-229">Add at least two nodes to ensure high availability.</span></span>  

### <a name="tlsssl-certificate-requirements"></a><span data-ttu-id="4d392-230">TLS/SSL sertifika gereksinimleri</span><span class="sxs-lookup"><span data-stu-id="4d392-230">TLS/SSL certificate requirements</span></span>
<span data-ttu-id="4d392-231">Ağ geçidi düğümleri arasındaki iletişimi korumak için kullanılan TLS/SSL sertifika için gereksinimler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="4d392-231">Here are the requirements for the TLS/SSL certificate that is used for securing communications between gateway nodes:</span></span>

- <span data-ttu-id="4d392-232">Sertifika genel olarak güvenilir X509 olmalıdır v3 sertifikası.</span><span class="sxs-lookup"><span data-stu-id="4d392-232">The certificate must be a publicly trusted X509 v3 certificate.</span></span>
- <span data-ttu-id="4d392-233">Tüm ağ geçidi düğümleri bu sertifikaya güvenmeleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="4d392-233">All gateway nodes must trust this certificate.</span></span> 
- <span data-ttu-id="4d392-234">Ortak (üçüncü taraf) sertifika yetkilisi (CA) tarafından verilen sertifikaların kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="4d392-234">We recommend that you use certificates that are issued by a public (third-party) certification authority (CA).</span></span>
- <span data-ttu-id="4d392-235">SSL sertifikaları için Windows Server 2012 R2 tarafından desteklenen herhangi bir anahtar boyutunu destekler.</span><span class="sxs-lookup"><span data-stu-id="4d392-235">Supports any key size supported by Windows Server 2012 R2 for SSL certificates.</span></span>
- <span data-ttu-id="4d392-236">CNG anahtarları kullanan sertifikaları desteklemez.</span><span class="sxs-lookup"><span data-stu-id="4d392-236">Does not support certificates that use CNG keys.</span></span>
- <span data-ttu-id="4d392-237">Joker karakteriyle sertifikalar desteklenir.</span><span class="sxs-lookup"><span data-stu-id="4d392-237">Wild-card certificates are supported.</span></span> 


## <a name="monitor-a-multi-node-gateway"></a><span data-ttu-id="4d392-238">İzleyici bir çok düğümlü ağ geçidi</span><span class="sxs-lookup"><span data-stu-id="4d392-238">Monitor a multi-node gateway</span></span>
### <a name="multi-node-gateway-monitoring"></a><span data-ttu-id="4d392-239">Birden çok düğümlü ağ geçidi izleme</span><span class="sxs-lookup"><span data-stu-id="4d392-239">Multi-node gateway monitoring</span></span>
<span data-ttu-id="4d392-240">Azure portalında, ağ geçidi düğümleri durumları yanı sıra her bir düğümde neredeyse gerçek zamanlı anlık görüntüsünü kaynak kullanımı (CPU, bellek, network(in/out), vb.) görüntüleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d392-240">In the Azure portal, you can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on each node along with statuses of gateway nodes.</span></span> 

![Veri Yönetimi ağ geçidi - birden çok düğüm izleme](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)

<span data-ttu-id="4d392-242">Etkinleştirebilirsiniz **Gelişmiş ayarları** içinde **ağ geçidi** gibi gelişmiş ölçümlerini görmek için sayfayı **ağ**(in/out), **rol & kimlik bilgisi durum**, ağ geçidi sorunları, hata ayıklamaya yardımcı olduğu ve **eşzamanlı iş** (çalışan / sınırlamak) hangi olması değiştirilmiş / sırasında buna göre değişen performans ayarlama.</span><span class="sxs-lookup"><span data-stu-id="4d392-242">You can enable **Advanced Settings** in the **Gateway** page to see advanced metrics like **Network**(in/out), **Role & Credential Status**, which is helpful in debugging gateway issues, and **Concurrent Jobs** (Running/ Limit) which can be modified/ changed accordingly during performance tuning.</span></span> <span data-ttu-id="4d392-243">Aşağıdaki tabloda yer alan sütun açıklanmakta **ağ geçidi düğümleri** listesi:</span><span class="sxs-lookup"><span data-stu-id="4d392-243">The following table provides descriptions of columns in the **Gateway Nodes** list:</span></span>  

<span data-ttu-id="4d392-244">İzleme özelliği</span><span class="sxs-lookup"><span data-stu-id="4d392-244">Monitoring Property</span></span> | <span data-ttu-id="4d392-245">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4d392-245">Description</span></span>
:------------------ | :---------- 
<span data-ttu-id="4d392-246">Ad</span><span class="sxs-lookup"><span data-stu-id="4d392-246">Name</span></span> | <span data-ttu-id="4d392-247">Ağ geçidi ile ilişkili düğümleri ve mantıksal ağ geçidi adı.</span><span class="sxs-lookup"><span data-stu-id="4d392-247">Name of the logical gateway and nodes associated with the gateway.</span></span>  
<span data-ttu-id="4d392-248">Durum</span><span class="sxs-lookup"><span data-stu-id="4d392-248">Status</span></span> | <span data-ttu-id="4d392-249">Mantıksal ağ geçidi ve ağ geçidi düğümleri durumu.</span><span class="sxs-lookup"><span data-stu-id="4d392-249">Status of the logical gateway and the gateway nodes.</span></span> <span data-ttu-id="4d392-250">Örnek: Çevrimiçi/çevrimdışı/sınırlı/vs. Bu durumlar hakkında daha fazla bilgi için bkz: [ağ geçidi durumu](#gateway-status) bölümü.</span><span class="sxs-lookup"><span data-stu-id="4d392-250">Example: Online/Offline/Limited/etc. For information about these statuses, See [Gateway status](#gateway-status) section.</span></span> 
<span data-ttu-id="4d392-251">Sürüm</span><span class="sxs-lookup"><span data-stu-id="4d392-251">Version</span></span> | <span data-ttu-id="4d392-252">Mantıksal ağ geçidi ve her ağ geçidi düğümü sürümünü gösterir.</span><span class="sxs-lookup"><span data-stu-id="4d392-252">Shows the version of the logical gateway and each gateway node.</span></span> <span data-ttu-id="4d392-253">Mantıksal ağ geçidi sürümü grubu düğüm çoğunluğu sürümüne göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="4d392-253">The version of the logical gateway is determined based on version of majority of nodes in the group.</span></span> <span data-ttu-id="4d392-254">Varsa düğümleri mantıksal ağ geçidi kurulumunda yalnızca mantıksal ağ geçidi işlevi aynı sürüm numarasına sahip farklı sürümleriyle düzgün.</span><span class="sxs-lookup"><span data-stu-id="4d392-254">If there are nodes with different versions in the logical gateway setup, only the nodes with the same version number as the logical gateway function properly.</span></span> <span data-ttu-id="4d392-255">Başkalarının sınırlı modda ve (yalnızca otomatik güncelleştirmeler başarısız olursa) el ile güncelleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="4d392-255">Others are in the limited mode and need to be manually updated (only in case auto-update fails).</span></span> 
<span data-ttu-id="4d392-256">Kullanılabilir bellek</span><span class="sxs-lookup"><span data-stu-id="4d392-256">Available memory</span></span> | <span data-ttu-id="4d392-257">Bir ağ geçidi düğümü kullanılabilir bellek.</span><span class="sxs-lookup"><span data-stu-id="4d392-257">Available memory on a gateway node.</span></span> <span data-ttu-id="4d392-258">Bu değer yakın gerçek zamanlı anlık görüntüsüdür.</span><span class="sxs-lookup"><span data-stu-id="4d392-258">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="4d392-259">CPU kullanımı</span><span class="sxs-lookup"><span data-stu-id="4d392-259">CPU utilization</span></span> | <span data-ttu-id="4d392-260">Bir ağ geçidi düğümünün CPU kullanımı.</span><span class="sxs-lookup"><span data-stu-id="4d392-260">CPU utilization of a gateway node.</span></span> <span data-ttu-id="4d392-261">Bu değer yakın gerçek zamanlı anlık görüntüsüdür.</span><span class="sxs-lookup"><span data-stu-id="4d392-261">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="4d392-262">Ağ (çıkış)</span><span class="sxs-lookup"><span data-stu-id="4d392-262">Networking (In/Out)</span></span> | <span data-ttu-id="4d392-263">Bir ağ geçidi düğümünün ağ kullanımı.</span><span class="sxs-lookup"><span data-stu-id="4d392-263">Network utilization of a gateway node.</span></span> <span data-ttu-id="4d392-264">Bu değer yakın gerçek zamanlı anlık görüntüsüdür.</span><span class="sxs-lookup"><span data-stu-id="4d392-264">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="4d392-265">(Çalışan / sınırlamak) eşzamanlı işleri</span><span class="sxs-lookup"><span data-stu-id="4d392-265">Concurrent Jobs (Running/ Limit)</span></span> | <span data-ttu-id="4d392-266">İşlerini veya her bir düğümde çalışan görevlerin sayısıdır.</span><span class="sxs-lookup"><span data-stu-id="4d392-266">Number of jobs or tasks running on each node.</span></span> <span data-ttu-id="4d392-267">Bu değer yakın gerçek zamanlı anlık görüntüsüdür.</span><span class="sxs-lookup"><span data-stu-id="4d392-267">This value is a near real-time snapshot.</span></span> <span data-ttu-id="4d392-268">Her düğüm için en fazla eşzamanlı iş sınırı belirtir.</span><span class="sxs-lookup"><span data-stu-id="4d392-268">Limit signifies the maximum concurrent jobs for each node.</span></span> <span data-ttu-id="4d392-269">Bu değeri makine boyutuna göre tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="4d392-269">This value is defined based on the machine size.</span></span> <span data-ttu-id="4d392-270">Gelişmiş senaryolarda eşzamanlı iş yürütme ölçeklendirin sınırı artırabilirsiniz burada CPU / bellek / ağ altında kullanılan ancak etkinlik zaman aşımı. Bu özellik, tek bir düğüm ile ağ geçidi (ölçeklenebilirlik ve kullanılabilirlik özelliği etkin değilse bile) de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-270">You can increase the limit to scale up concurrent job execution in advanced scenarios, where CPU/ memory/ network is under-utilized, but activities are timing out. This capability is also available with a single-node gateway (even when the scalability and availability feature is not enabled).</span></span> <span data-ttu-id="4d392-271">Daha fazla bilgi için bkz: [ölçeklendirme konuları](#scale-considerations) bölümü.</span><span class="sxs-lookup"><span data-stu-id="4d392-271">For more information, see [scale considerations](#scale-considerations) section.</span></span> 
<span data-ttu-id="4d392-272">Rol</span><span class="sxs-lookup"><span data-stu-id="4d392-272">Role</span></span> | <span data-ttu-id="4d392-273">Dağıtıcı ve çalışan rolleri – iki tür vardır.</span><span class="sxs-lookup"><span data-stu-id="4d392-273">There are two types of roles – Dispatcher and worker.</span></span> <span data-ttu-id="4d392-274">Tüm düğümleri, tüm işleri yürütmek için kullanılabilmesi için başka bir deyişle, çalışanlardır.</span><span class="sxs-lookup"><span data-stu-id="4d392-274">All nodes are workers, which means they can all be used to execute jobs.</span></span> <span data-ttu-id="4d392-275">Görevler/işleri bulut hizmetlerinden çekmek ve bunları farklı çalışan düğümlerine (kendisi dahil) gönderme için kullanılan tek bir dağıtıcı düğüm yok.</span><span class="sxs-lookup"><span data-stu-id="4d392-275">There is only one dispatcher node, which is used to pull tasks/jobs from cloud services and dispatch them to different worker nodes (including itself).</span></span> 

![Veri Yönetimi ağ geçidi - Gelişmiş birden çok düğüm izleme](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-advanced.png)

### <a name="gateway-status"></a><span data-ttu-id="4d392-277">Ağ geçidi durumu</span><span class="sxs-lookup"><span data-stu-id="4d392-277">Gateway status</span></span>

<span data-ttu-id="4d392-278">Aşağıdaki tabloda, olası durumlar sağlayan bir **ağ geçidi düğümü**:</span><span class="sxs-lookup"><span data-stu-id="4d392-278">The following table provides possible statuses of a **gateway node**:</span></span> 

<span data-ttu-id="4d392-279">Durum</span><span class="sxs-lookup"><span data-stu-id="4d392-279">Status</span></span>  | <span data-ttu-id="4d392-280">Yorumlar/senaryoları</span><span class="sxs-lookup"><span data-stu-id="4d392-280">Comments/Scenarios</span></span>
:------- | :------------------
<span data-ttu-id="4d392-281">Çevrimiçi</span><span class="sxs-lookup"><span data-stu-id="4d392-281">Online</span></span> | <span data-ttu-id="4d392-282">Düğümü, veri fabrikası hizmetine bağlı.</span><span class="sxs-lookup"><span data-stu-id="4d392-282">Node connected to Data Factory service.</span></span>
<span data-ttu-id="4d392-283">Çevrimdışı</span><span class="sxs-lookup"><span data-stu-id="4d392-283">Offline</span></span> | <span data-ttu-id="4d392-284">Çevrimdışı düğümdür.</span><span class="sxs-lookup"><span data-stu-id="4d392-284">Node is offline.</span></span>
<span data-ttu-id="4d392-285">Yükseltme</span><span class="sxs-lookup"><span data-stu-id="4d392-285">Upgrading</span></span> | <span data-ttu-id="4d392-286">Düğüm, otomatik olarak güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-286">The node is being auto-updated.</span></span>
<span data-ttu-id="4d392-287">Sınırlı</span><span class="sxs-lookup"><span data-stu-id="4d392-287">Limited</span></span> | <span data-ttu-id="4d392-288">Bağlantı sorunundan kaynaklanıyor.</span><span class="sxs-lookup"><span data-stu-id="4d392-288">Due to Connectivity issue.</span></span> <span data-ttu-id="4d392-289">HTTP bağlantı noktası 8050 sorunu, hizmet veri yolu bağlantı sorunu veya kimlik bilgisi eşitleme sorunu nedeniyle olabilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-289">May be due to HTTP port 8050 issue, service bus connectivity issue, or credential sync issue.</span></span> 
<span data-ttu-id="4d392-290">Etkin olmayan</span><span class="sxs-lookup"><span data-stu-id="4d392-290">Inactive</span></span> | <span data-ttu-id="4d392-291">Diğer Çoğunluk düğüm yapılandırmasından farklı bir yapılandırmada düğümdür.</span><span class="sxs-lookup"><span data-stu-id="4d392-291">Node is in a configuration different from the configuration of other majority nodes.</span></span><br/><br/> <span data-ttu-id="4d392-292">Diğer düğümlere bağlanamadığında bir düğüm etkin olabilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-292">A node can be inactive when it cannot connect to other nodes.</span></span> 


<span data-ttu-id="4d392-293">Aşağıdaki tabloda, olası durumlar sağlayan bir **mantıksal ağ geçidi**.</span><span class="sxs-lookup"><span data-stu-id="4d392-293">The following table provides possible statuses of a **logical gateway**.</span></span> <span data-ttu-id="4d392-294">Ağ geçidi durumu üzerinde ağ geçidi düğümleri durumlar değişir.</span><span class="sxs-lookup"><span data-stu-id="4d392-294">The gateway status depends on statuses of the gateway nodes.</span></span> 

<span data-ttu-id="4d392-295">Durum</span><span class="sxs-lookup"><span data-stu-id="4d392-295">Status</span></span> | <span data-ttu-id="4d392-296">Yorumlar</span><span class="sxs-lookup"><span data-stu-id="4d392-296">Comments</span></span>
:----- | :-------
<span data-ttu-id="4d392-297">Kaydedilmesi gerekiyor</span><span class="sxs-lookup"><span data-stu-id="4d392-297">Needs Registration</span></span> | <span data-ttu-id="4d392-298">Hiçbir düğümü için bu mantıksal ağ geçidi henüz kayıtlı değil</span><span class="sxs-lookup"><span data-stu-id="4d392-298">No node is yet registered to this logical gateway</span></span>
<span data-ttu-id="4d392-299">Çevrimiçi</span><span class="sxs-lookup"><span data-stu-id="4d392-299">Online</span></span> | <span data-ttu-id="4d392-300">Ağ geçidi düğümleri çevrimiçi</span><span class="sxs-lookup"><span data-stu-id="4d392-300">Gateway Nodes are online</span></span>
<span data-ttu-id="4d392-301">Çevrimdışı</span><span class="sxs-lookup"><span data-stu-id="4d392-301">Offline</span></span> | <span data-ttu-id="4d392-302">Çevrimiçi durumu düğümü yok.</span><span class="sxs-lookup"><span data-stu-id="4d392-302">No node in online status.</span></span>
<span data-ttu-id="4d392-303">Sınırlı</span><span class="sxs-lookup"><span data-stu-id="4d392-303">Limited</span></span> | <span data-ttu-id="4d392-304">Bu ağ geçidi tüm düğümler sağlıklı durumda.</span><span class="sxs-lookup"><span data-stu-id="4d392-304">Not all nodes in this gateway are in healthy state.</span></span> <span data-ttu-id="4d392-305">Bu durum bazı düğümü kapalı olabilir bir uyarıdır!</span><span class="sxs-lookup"><span data-stu-id="4d392-305">This status is a warning that some node might be down!</span></span> <br/><br/><span data-ttu-id="4d392-306">Dağıtıcı/çalışan düğümünde kimlik bilgisi eşitleme sorunu nedeniyle olabilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-306">Could be due to credential sync issue on dispatcher/worker node.</span></span> 

### <a name="pipeline-activities-monitoring"></a><span data-ttu-id="4d392-307">Ardışık Düzen / etkinliklerini izleme</span><span class="sxs-lookup"><span data-stu-id="4d392-307">Pipeline/ activities monitoring</span></span>
<span data-ttu-id="4d392-308">Azure portal, izleme deneyimine ayrıntılı düğümü düzey ayrıntılara sahip bir işlem hattı sağlar.</span><span class="sxs-lookup"><span data-stu-id="4d392-308">The Azure portal provides a pipeline monitoring experience with granular node level details.</span></span> <span data-ttu-id="4d392-309">Örneğin, hangi etkinlikler hangi düğümde çalışan gösterir.</span><span class="sxs-lookup"><span data-stu-id="4d392-309">For example, it shows which activities ran on which node.</span></span> <span data-ttu-id="4d392-310">Bu bilgiler, belirli bir düğümde performans sorunları anlamak yararlı olabilir, ağ azaltma nedeniyle söyleyin.</span><span class="sxs-lookup"><span data-stu-id="4d392-310">This information can be helpful in understanding performance issues on a particular node, say due to network throttling.</span></span> 

![Veri Yönetimi ağ geçidi - birden çok düğüm işlem hatlarını izleme](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-pipelines.png)

![Veri Yönetimi ağ geçidi - ardışık düzen ayrıntıları](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-pipeline-details.png)

## <a name="scale-considerations"></a><span data-ttu-id="4d392-313">Ölçek konuları</span><span class="sxs-lookup"><span data-stu-id="4d392-313">Scale considerations</span></span>

### <a name="scale-out"></a><span data-ttu-id="4d392-314">Ölçeği genişletme</span><span class="sxs-lookup"><span data-stu-id="4d392-314">Scale out</span></span>
<span data-ttu-id="4d392-315">Zaman **kullanılabilir bellek düşük** ve **CPU kullanımının yüksek olduğu**, makine genelinde yardımcı yük genişletme yeni bir düğüm ekleme.</span><span class="sxs-lookup"><span data-stu-id="4d392-315">When the **available memory is low** and the **CPU usage is high**, adding a new node helps scale out the load across machines.</span></span> <span data-ttu-id="4d392-316">Etkinlik zaman aşımı veya ağ geçidi düğümü çevrimdışı olmasından dolayı başarısız oluyorsa, ağ geçidi için bir düğüm eklerseniz yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="4d392-316">If activities are failing due to time-out or gateway node being offline, it helps if you add a node to the gateway.</span></span>
 
### <a name="scale-up"></a><span data-ttu-id="4d392-317">Ölçeği artırma</span><span class="sxs-lookup"><span data-stu-id="4d392-317">Scale up</span></span>
<span data-ttu-id="4d392-318">Kullanılabilir bellek ve CPU iyi kullanılmaz, ancak boşta kapasitesi 0 ise, bir düğümde çalıştırılabilen eşzamanlı iş sayısını artırarak ölçeği.</span><span class="sxs-lookup"><span data-stu-id="4d392-318">When the available memory and CPU are not utilized well, but the idle capacity is 0, you should scale up by increasing the number of concurrent jobs that can run on a node.</span></span> <span data-ttu-id="4d392-319">Ağ geçidi aşırı yüklendiği için etkinlikler zaman aşımına uğruyor zaman ölçeği isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d392-319">You may also want to scale up when activities are timing out because the gateway is overloaded.</span></span> <span data-ttu-id="4d392-320">Aşağıdaki görüntüde gösterildiği gibi bir düğüm için maksimum kapasiteyi artırabilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-320">As shown in the following image, you can increase the maximum capacity for a node.</span></span> <span data-ttu-id="4d392-321">İle başlamak Katlama öneririz.</span><span class="sxs-lookup"><span data-stu-id="4d392-321">We suggest doubling it to start with.</span></span>  

![Veri Yönetimi ağ geçidi - ölçek konuları](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-scale-considerations.png)


## <a name="known-issuesbreaking-changes"></a><span data-ttu-id="4d392-323">Bilinen sorunlar/sonu değiştirir</span><span class="sxs-lookup"><span data-stu-id="4d392-323">Known issues/breaking changes</span></span>

- <span data-ttu-id="4d392-324">Şu anda, tek bir mantıksal ağ geçidi için en fazla dört fiziksel ağ geçidi düğümleri bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-324">Currently, you can have up to four physical gateway nodes for a single logical gateway.</span></span> <span data-ttu-id="4d392-325">Performansı artırmak için dörtten fazla düğüm gerekirse, e-posta Gönder [ DMGHelp@microsoft.com ](mailto:DMGHelp@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="4d392-325">If you need more than four nodes for performance reasons, send an email to [DMGHelp@microsoft.com](mailto:DMGHelp@microsoft.com).</span></span>
- <span data-ttu-id="4d392-326">Bir ağ geçidi düğümü geçerli mantıksal ağ geçidi'nden geçiş yapmak için başka bir mantıksal ağ geçidi kimlik doğrulaması anahtarla yeniden kaydedilemiyor.</span><span class="sxs-lookup"><span data-stu-id="4d392-326">You cannot re-register a gateway node with the authentication key from another logical gateway to switch from the current logical gateway.</span></span> <span data-ttu-id="4d392-327">Yeniden kaydetmek için ağ geçidi düğümden kaldırmak, ağ geçidini yeniden yükleyin ve diğer mantıksal ağ geçidi için kimlik doğrulama anahtarı ile kaydeder.</span><span class="sxs-lookup"><span data-stu-id="4d392-327">To re-register, uninstall the gateway from the node, reinstall the gateway, and register it with the authentication key for the other logical gateway.</span></span> 
- <span data-ttu-id="4d392-328">Tüm ağ geçidi düğümleri için HTTP proxy gerekiyorsa, proxy diahost.exe.config ve diawp.exe.config ayarlayın ve tüm düğümleri aynı diahost.exe.config ve diawip.exe.config emin olmak için Sunucu Yöneticisi'ni kullanın. Bkz: [proxy ayarlarını yapılandırma](data-factory-data-management-gateway.md#configure-proxy-server-settings) ayrıntıları bölümü.</span><span class="sxs-lookup"><span data-stu-id="4d392-328">If HTTP proxy is required for all your gateway nodes, set the proxy in diahost.exe.config and diawp.exe.config, and use the server manager to make sure all nodes have the same diahost.exe.config and diawip.exe.config. See [configure proxy settings](data-factory-data-management-gateway.md#configure-proxy-server-settings) section for details.</span></span> 
- <span data-ttu-id="4d392-329">Ağ geçidi Yapılandırma Yöneticisi'nde düğümü düğümü iletişimi için şifreleme modunu değiştirmek için portal dışındaki tüm düğümleri silin.</span><span class="sxs-lookup"><span data-stu-id="4d392-329">To change encryption mode for node-to-node communication in Gateway Configuration Manager, delete all the nodes in the portal except one.</span></span> <span data-ttu-id="4d392-330">Ardından düğümler şifreleme modu geri değiştirdikten sonra ekleyin.</span><span class="sxs-lookup"><span data-stu-id="4d392-330">Then, add nodes back after changing the encryption mode.</span></span>
- <span data-ttu-id="4d392-331">Düğümü düğümü iletişim kanalını şifrelemek isterseniz resmi bir SSL sertifikası kullanın.</span><span class="sxs-lookup"><span data-stu-id="4d392-331">Use an official SSL certificate if you choose to encrypt the node-to-node communication channel.</span></span> <span data-ttu-id="4d392-332">Aynı sertifikayı diğer makinelere sertifika yetkilisi listesinin içinde güvenilmiyor gibi otomatik olarak imzalanan sertifika bağlantı sorunlarına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-332">Self-signed certificate may cause connectivity issues as the same certificate may not be trusted in certifying authority list on other machines.</span></span> 
- <span data-ttu-id="4d392-333">Düğüm sürüm mantıksal ağ geçidi sürümden daha düşük olduğunda bir mantıksal ağ geçidi için ağ geçidi düğümü kaydedilemiyor.</span><span class="sxs-lookup"><span data-stu-id="4d392-333">You cannot register a gateway node to a logical gateway when the node version is lower than the logical gateway version.</span></span> <span data-ttu-id="4d392-334">Mantıksal ağ geçidi'nin tüm düğümleri portalından silmeniz daha düşük bir sürüm node(downgrade) kaydedebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d392-334">Delete all nodes of the logical gateway from portal so that you can register a lower version node(downgrade) it.</span></span> <span data-ttu-id="4d392-335">Mantıksal bir ağ geçidi'nin tüm düğümleri silerseniz, el ile yükleyin ve yeni düğümler bu mantıksal ağ geçidine kaydedin.</span><span class="sxs-lookup"><span data-stu-id="4d392-335">If you delete all nodes of a logical gateway, manually install and register new nodes to that logical gateway.</span></span> <span data-ttu-id="4d392-336">Hızlı Kurulum, bu durumda desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="4d392-336">Express setup is not supported in this case.</span></span>
- <span data-ttu-id="4d392-337">Düğümleri hala bulut kimlik bilgilerini kullanan mevcut bir mantıksal ağ geçidi için yüklemek için hızlı kurulum kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="4d392-337">You cannot use express setup to install nodes to an existing logical gateway, which is still using cloud credentials.</span></span> <span data-ttu-id="4d392-338">Kimlik bilgilerini ayarlar sekmesinde ağ geçidi Yapılandırma Yöneticisi'nden depolandığı kontrol edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d392-338">You can check where the credentials are stored from the Gateway Configuration Manager on the Settings tab.</span></span>
- <span data-ttu-id="4d392-339">Düğümleri düğümü düğümü şifreleme etkin olan mevcut bir mantıksal ağ geçidi için yüklemek için hızlı kurulum kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="4d392-339">You cannot use express setup to install nodes to an existing logical gateway, which has node-to-node encryption enabled.</span></span> <span data-ttu-id="4d392-340">Şifreleme modu ayarı sertifikaları el ile ekleyerek içerir gibi hızlı yükleme hiçbir daha fazla bir seçenektir.</span><span class="sxs-lookup"><span data-stu-id="4d392-340">As setting the encryption mode involves manually adding certificates, express install is no more an option.</span></span> 
- <span data-ttu-id="4d392-341">Şirket içi ortamından bir dosya kopyalama için kullanılamaz \\localhost veya artık bu yana localhost veya yerel sürücü C:\files olabilir tüm düğümler erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="4d392-341">For a file copy from on-premises environment, you should not use \\localhost or C:\files anymore since localhost or local drive might not be accessible via all nodes.</span></span> <span data-ttu-id="4d392-342">Bunun yerine, kullanın \\ServerName\files dosyalarının konumunu belirtin.</span><span class="sxs-lookup"><span data-stu-id="4d392-342">Instead, use \\ServerName\files to specify files’ location.</span></span>


## <a name="rolling-back-from-the-preview"></a><span data-ttu-id="4d392-343">Önizlemesi'nden geri alınıyor</span><span class="sxs-lookup"><span data-stu-id="4d392-343">Rolling back from the preview</span></span> 
<span data-ttu-id="4d392-344">Önizlemesi'nden geri almak için bir düğüm dışındaki tüm düğümleri silin.</span><span class="sxs-lookup"><span data-stu-id="4d392-344">To roll back from the preview, delete all nodes but one node.</span></span> <span data-ttu-id="4d392-345">Silme, ancak mantıksal ağ geçidi en azından bir düğümün sahip olduğundan emin olun hangi düğümlerin önemli değildir.</span><span class="sxs-lookup"><span data-stu-id="4d392-345">It doesn’t matter which nodes you delete, but ensure you have at least one node in the logical gateway.</span></span> <span data-ttu-id="4d392-346">Bir düğüm makinedeki ağ geçidi kaldırma veya Azure portalını kullanarak silebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d392-346">You can delete a node either by uninstalling gateway on the machine or by using the Azure portal.</span></span> <span data-ttu-id="4d392-347">Azure portalında içinde **Data Factory** sayfasında, bağlı hizmetleri başlatmak için **bağlantılı Hizmetleri** sayfası.</span><span class="sxs-lookup"><span data-stu-id="4d392-347">In the Azure portal, in the **Data Factory** page, click Linked services to launch the **Linked services** page.</span></span> <span data-ttu-id="4d392-348">Başlatmak için ağ geçidi seçin **ağ geçidi** sayfası.</span><span class="sxs-lookup"><span data-stu-id="4d392-348">Select the gateway to launch the **Gateway** page.</span></span> <span data-ttu-id="4d392-349">Ağ geçidi sayfasında, ağ geçidi ile ilişkili düğümleri görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4d392-349">In the Gateway page, you can see the nodes associated with the gateway.</span></span> <span data-ttu-id="4d392-350">Sayfa bir düğüm ağ geçidi'nden silmenize olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="4d392-350">The page lets you delete a node from the gateway.</span></span>
 
<span data-ttu-id="4d392-351">Sildikten sonra tıklatın **Önizleme özellikleri** aynı Azure portal sayfası ve önizleme özelliğini devre dışı bırakın.</span><span class="sxs-lookup"><span data-stu-id="4d392-351">After deleting, click **preview features** in the same Azure portal page, and disable the preview feature.</span></span> <span data-ttu-id="4d392-352">Bir düğüm GA (genel kullanılabilirlik) ağ geçidi için ağ geçidiniz sıfırladınız.</span><span class="sxs-lookup"><span data-stu-id="4d392-352">You have reset your gateway to one node GA (general availability) gateway.</span></span>


## <a name="next-steps"></a><span data-ttu-id="4d392-353">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="4d392-353">Next steps</span></span>
<span data-ttu-id="4d392-354">Aşağıdaki makaleleri gözden geçirin:</span><span class="sxs-lookup"><span data-stu-id="4d392-354">Review the following articles:</span></span>
- <span data-ttu-id="4d392-355">[Veri Yönetimi ağ geçidi](data-factory-data-management-gateway.md) -ağ geçidi ayrıntılı bir genel bakış sağlar.</span><span class="sxs-lookup"><span data-stu-id="4d392-355">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of the gateway.</span></span>
- <span data-ttu-id="4d392-356">[Şirket içi ve bulut arasında veri taşıma veri depolarına](data-factory-move-data-between-onprem-and-cloud.md) -bir ağ geçidi ile tek bir düğüm kullanmak için adım adım yönergeleri içeren bir kılavuz içerir.</span><span class="sxs-lookup"><span data-stu-id="4d392-356">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span> 
