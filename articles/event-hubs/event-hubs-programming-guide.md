---
title: "Azure Event Hubs için aaaProgramming Kılavuzu | Microsoft Docs"
description: "Hello Azure .NET SDK kullanarak Azure Event Hubs için kod yazma."
services: event-hubs
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 64cbfd3d-4a0e-4455-a90a-7f3d4f080323
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 43bebd126c2311af9e3daeb52324132b66cf0884
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="event-hubs-programming-guide"></a><span data-ttu-id="1a1e0-103">Event Hubs programlama kılavuzu</span><span class="sxs-lookup"><span data-stu-id="1a1e0-103">Event Hubs programming guide</span></span>

<span data-ttu-id="1a1e0-104">Bu makalede Azure olay hub'ları ve hello Azure .NET SDK'sını kullanarak kod yazarken bazı genel senaryolar açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-104">This article discusses some common scenarios in writing code using Azure Event Hubs and hello Azure .NET SDK.</span></span> <span data-ttu-id="1a1e0-105">Burada Event Hubs’ın önceden bilindiği varsayılır.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-105">It assumes a preliminary understanding of Event Hubs.</span></span> <span data-ttu-id="1a1e0-106">Olay hub'ları kavramsal bir genel bakış için bkz: Merhaba [Event Hubs'a genel bakış](event-hubs-what-is-event-hubs.md).</span><span class="sxs-lookup"><span data-stu-id="1a1e0-106">For a conceptual overview of Event Hubs, see hello [Event Hubs overview](event-hubs-what-is-event-hubs.md).</span></span>

## <a name="event-publishers"></a><span data-ttu-id="1a1e0-107">Olay yayımcıları</span><span class="sxs-lookup"><span data-stu-id="1a1e0-107">Event publishers</span></span>

<span data-ttu-id="1a1e0-108">Olayları tooan olay hub'ı ya da HTTP POST veya bir AMQP 1.0 bağlantısı üzerinden kullanarak gönderin.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-108">You send events tooan event hub either using HTTP POST or via an AMQP 1.0 connection.</span></span> <span data-ttu-id="1a1e0-109">Merhaba hangi toouse seçimine ve ne zaman ele alınan hello belirli senaryoya bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-109">hello choice of which toouse and when depends on hello specific scenario being addressed.</span></span> <span data-ttu-id="1a1e0-110">AMQP 1.0 bağlantıları Service Bus içinde aracılı bağlantılar olarak ölçülür ve sıklıkla daha yüksek ileti hacimlerine ve düşük gecikme gereksinimlerine sahip senaryolar kalıcı bir mesajlaşma kanalı sağladığından bu senaryolarda daha uygundur.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-110">AMQP 1.0 connections are metered as brokered connections in Service Bus and are more appropriate in scenarios with frequent higher message volumes and lower latency requirements, as they provide a persistent messaging channel.</span></span>

<span data-ttu-id="1a1e0-111">Oluşturma ve olay hub'ın hello kullanarak yönetme [NamespaceManager][] sınıfı.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-111">You create and manage Event Hubs using hello [NamespaceManager][] class.</span></span> <span data-ttu-id="1a1e0-112">Veri tooEvent yayımlama hello birincil Hello .NET ile yönetilen API'ler kullanılırken oluşturur hub olan hello [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) ve [EventData][] sınıfları.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-112">When using hello .NET managed APIs, hello primary constructs for publishing data tooEvent Hubs are hello [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) and [EventData][] classes.</span></span> <span data-ttu-id="1a1e0-113">[EventHubClient][] üzerinde olayları toohello olay hub'ı gönderilir hello AMQP iletişim kanalını sağlar.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-113">[EventHubClient][] provides hello AMQP communication channel over which events are sent toohello event hub.</span></span> <span data-ttu-id="1a1e0-114">Merhaba [EventData][] sınıfı bir olayı temsil eder ve kullanılan toopublish iletileri tooan olay hub'ı.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-114">hello [EventData][] class represents an event, and is used toopublish messages tooan event hub.</span></span> <span data-ttu-id="1a1e0-115">Bu sınıf hello gövdesi, bazı meta verileri ve üstbilgisine hello olay hakkında bilgi içerir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-115">This class includes hello body, some metadata, and header information about hello event.</span></span> <span data-ttu-id="1a1e0-116">Diğer özellikler toohello eklenir [EventData][] bir olay hub'ından geçtikçe nesne.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-116">Other properties are added toohello [EventData][] object as it passes through an event hub.</span></span>

## <a name="get-started"></a><span data-ttu-id="1a1e0-117">başlarken</span><span class="sxs-lookup"><span data-stu-id="1a1e0-117">Get started</span></span>

<span data-ttu-id="1a1e0-118">Olay hub'ları destekleyen hello .NET sınıfları Microsoft.ServiceBus.dll bütünleştirilmiş hello sağlanır.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-118">hello .NET classes that support Event Hubs are provided in hello Microsoft.ServiceBus.dll assembly.</span></span> <span data-ttu-id="1a1e0-119">en kolay yolu tooreference hello hizmet veri yolu API'sini ve tooconfigure hello tüm hello Service Bus bağımlılıklarıyla uygulamanızla toodownload hello olan [Service Bus NuGet paketini](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span><span class="sxs-lookup"><span data-stu-id="1a1e0-119">hello easiest way tooreference hello Service Bus API and tooconfigure your application with all of hello Service Bus dependencies is toodownload hello [Service Bus NuGet package](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span></span> <span data-ttu-id="1a1e0-120">Alternatif olarak, hello kullanabilirsiniz [Paket Yöneticisi Konsolu](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-120">Alternatively, you can use hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) in Visual Studio.</span></span> <span data-ttu-id="1a1e0-121">toodo bu nedenle, sorunu hello komutunda aşağıdaki hello [Paket Yöneticisi Konsolu](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) penceresi:</span><span class="sxs-lookup"><span data-stu-id="1a1e0-121">toodo so, issue hello following command in hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) window:</span></span>

```
Install-Package WindowsAzure.ServiceBus
```

## <a name="create-an-event-hub"></a><span data-ttu-id="1a1e0-122">Olay hub’ı oluşturma</span><span class="sxs-lookup"><span data-stu-id="1a1e0-122">Create an event hub</span></span>
<span data-ttu-id="1a1e0-123">Merhaba kullanabilirsiniz [NamespaceManager][] toocreate olay hub'ları sınıfı.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-123">You can use hello [NamespaceManager][] class toocreate Event Hubs.</span></span> <span data-ttu-id="1a1e0-124">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="1a1e0-124">For example:</span></span>

```csharp
var manager = new Microsoft.ServiceBus.NamespaceManager("mynamespace.servicebus.windows.net");
var description = manager.CreateEventHub("MyEventHub");
```

<span data-ttu-id="1a1e0-125">Çoğu durumda, hello kullanmanız önerilir [Createeventhubıfnotexists][] hello hizmetin yeniden başlatılması halinde özel durumlar oluşturma yöntemleri tooavoid.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-125">In most cases, it is recommended that you use hello [CreateEventHubIfNotExists][] methods tooavoid generating exceptions if hello service restarts.</span></span> <span data-ttu-id="1a1e0-126">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="1a1e0-126">For example:</span></span>

```csharp
var description = manager.CreateEventHubIfNotExists("MyEventHub");
```

<span data-ttu-id="1a1e0-127">Tüm olay hub'ları oluşturma işlemleri dahil olmak üzere, [Createeventhubıfnotexists][], gerektiren **Yönet** hello ad alanı söz konusu izinleri.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-127">All Event Hubs creation operations, including [CreateEventHubIfNotExists][], require **Manage** permissions on hello namespace in question.</span></span> <span data-ttu-id="1a1e0-128">Yayımcı veya tüketici uygulamanızın toolimit hello izinlerinin istiyorsanız, bu önleyebilirsiniz sınırlı izinlere sahip kimlik bilgileri kullanırken üretim kodunda işlemi çağrılarından oluşturun.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-128">If you want toolimit hello permissions of your publisher or consumer applications, you can avoid these create operation calls in production code when you use credentials with limited permissions.</span></span>

<span data-ttu-id="1a1e0-129">Merhaba [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) sınıfı hello yetkilendirme kuralları, hello ileti elde tutma aralığı, bölüm kimlikleri, durum ve yol dahil olmak üzere bir event hub ile ilgili ayrıntılar içerir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-129">hello [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) class contains details about an event hub, including hello authorization rules, hello message retention interval, partition IDs, status, and path.</span></span> <span data-ttu-id="1a1e0-130">Bu sınıf tooupdate hello meta veriler bir olay hub'ına kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-130">You can use this class tooupdate hello metadata on an event hub.</span></span>

## <a name="create-an-event-hubs-client"></a><span data-ttu-id="1a1e0-131">Event Hubs istemcisi oluşturma</span><span class="sxs-lookup"><span data-stu-id="1a1e0-131">Create an Event Hubs client</span></span>
<span data-ttu-id="1a1e0-132">Event Hubs ile etkileşim için birincil sınıf hello [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span><span class="sxs-lookup"><span data-stu-id="1a1e0-132">hello primary class for interacting with Event Hubs is [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span></span> <span data-ttu-id="1a1e0-133">Bu sınıf hem gönderen hem de alıcı özellikleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-133">This class provides both sender and receiver capabilities.</span></span> <span data-ttu-id="1a1e0-134">Hello kullanarak bu sınıfın örneği [oluşturma](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) hello aşağıdaki örnekte gösterildiği gibi yöntemi.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-134">You can instantiate this class using hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) method, as shown in hello following example.</span></span>

```csharp
var client = EventHubClient.Create(description.Path);
```

<span data-ttu-id="1a1e0-135">Bu yöntem hello App.config dosyasında hello hello Service Bus bağlantı bilgilerini kullanır, `appSettings` bölümü.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-135">This method uses hello Service Bus connection information in hello App.config file, in hello `appSettings` section.</span></span> <span data-ttu-id="1a1e0-136">Merhaba ilişkin bir örnek `appSettings` XML kullanılan toostore hello Service Bus bağlantı bilgilerini, hello hello belgelerine bakın [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) yöntemi.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-136">For an example of hello `appSettings` XML used toostore hello Service Bus connection information, see hello documentation for hello [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method.</span></span>

<span data-ttu-id="1a1e0-137">Bir bağlantı dizesi toocreate hello istemciden başka bir seçenektir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-137">Another option is toocreate hello client from a connection string.</span></span> <span data-ttu-id="1a1e0-138">Hello yapılandırma özelliklerinde hello çalışan hello dize depolayabileceğiniz bu seçenek Azure çalışan rolleri kullanırken iyi çalışır.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-138">This option works well when using Azure worker roles, because you can store hello string in hello configuration properties for hello worker.</span></span> <span data-ttu-id="1a1e0-139">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="1a1e0-139">For example:</span></span>

```csharp
EventHubClient.CreateFromConnectionString("your_connection_string");
```

<span data-ttu-id="1a1e0-140">Merhaba bağlantı dizesi hello önceki yöntemler için hello App.config dosyasında göründüğü gibi aynı biçimi hello olacaktır:</span><span class="sxs-lookup"><span data-stu-id="1a1e0-140">hello connection string will be in hello same format as it appears in hello App.config file for hello previous methods:</span></span>

```
Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[key]
```

<span data-ttu-id="1a1e0-141">Son olarak, olası toocreate de olan bir [EventHubClient][] nesnesinin bir [Eventhubclient](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) hello aşağıdaki örnekte gösterildiği gibi örneği.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-141">Finally, it is also possible toocreate an [EventHubClient][] object from a [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) instance, as shown in hello following example.</span></span>

```csharp
var factory = MessagingFactory.CreateFromConnectionString("your_connection_string");
var client = factory.CreateEventHubClient("MyEventHub");
```

<span data-ttu-id="1a1e0-142">Önemli toonote ek olan [EventHubClient][] bir Mesajlaşma fabrikası örneğinden oluşturulan nesneler hello yeniden kullanacaktır aynı temel alınan TCP bağlantı.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-142">It is important toonote that additional [EventHubClient][] objects created from a messaging factory instance will reuse hello same underlying TCP connection.</span></span> <span data-ttu-id="1a1e0-143">Bu nedenle, bu nesneler işlemede istemci tarafı sınırlamasına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-143">Therefore, these objects have a client-side limit on throughput.</span></span> <span data-ttu-id="1a1e0-144">Merhaba [oluşturma](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) yöntemi tek bir Mesajlaşma altyapısını yeniden kullanır.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-144">hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method reuses a single messaging factory.</span></span> <span data-ttu-id="1a1e0-145">Tek bir gönderenden çok yüksek işleme gerekiyorsa birden fazla ileti altyapısı ve her mesajlaşma altyapısından bir [EventHubClient][] nesnesi oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-145">If you need very high throughput from a single sender, then you can create multiple message factories and one [EventHubClient][] object from each messaging factory.</span></span>

## <a name="send-events-tooan-event-hub"></a><span data-ttu-id="1a1e0-146">Olayları tooan olay hub'ı Gönder</span><span class="sxs-lookup"><span data-stu-id="1a1e0-146">Send events tooan event hub</span></span>
<span data-ttu-id="1a1e0-147">Oluşturarak tooan event hub'ı olayları göndermek bir [EventData][] örneği ve hello gönderme [Gönder](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) yöntemi.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-147">You send events tooan event hub by creating an [EventData][] instance and sending it via hello [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) method.</span></span> <span data-ttu-id="1a1e0-148">Bu yöntem tek bir alır [EventData][] örnek parametresini ve zaman uyumlu olarak tooan olay hub'ı gönderir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-148">This method takes a single [EventData][] instance parameter and synchronously sends it tooan event hub.</span></span>

## <a name="event-serialization"></a><span data-ttu-id="1a1e0-149">Olayı seri hale getirme</span><span class="sxs-lookup"><span data-stu-id="1a1e0-149">Event serialization</span></span>
<span data-ttu-id="1a1e0-150">Merhaba [EventData][] sınıfına sahip [dört aşırı yüklü Oluşturucu](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) parametreleri, bir nesne ve seri hale getirici, bayt dizisi veya akış gibi çeşitli alın.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-150">hello [EventData][] class has [four overloaded constructors](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) that take a variety of parameters, such as an object and serializer, a byte array, or a stream.</span></span> <span data-ttu-id="1a1e0-151">Aynı zamanda olası tooinstantiate hello olan [EventData][] sınıfı ve daha sonra hello gövdesi akışına ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-151">It is also possible tooinstantiate hello [EventData][] class and set hello body stream afterwards.</span></span> <span data-ttu-id="1a1e0-152">JSON ile kullanırken [EventData][], kullanabileceğiniz **Encoding.UTF8.GetBytes()** tooretrieve hello bayt dizisi JSON olarak kodlanmış bir dize.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-152">When using JSON with [EventData][], you can use **Encoding.UTF8.GetBytes()** tooretrieve hello byte array for a JSON-encoded string.</span></span>

## <a name="partition-key"></a><span data-ttu-id="1a1e0-153">Bölüm anahtarı</span><span class="sxs-lookup"><span data-stu-id="1a1e0-153">Partition key</span></span>
<span data-ttu-id="1a1e0-154">Merhaba [EventData][] sınıfına sahip bir [PartitionKey][] hello gönderen toospecify olan bir değer sağlayan özelliği karma tooproduce bir bölüm ataması.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-154">hello [EventData][] class has a [PartitionKey][] property that enables hello sender toospecify a value that is hashed tooproduce a partition assignment.</span></span> <span data-ttu-id="1a1e0-155">Bir bölüm anahtarının kullanılması sağlar tüm olayları ile aynı anahtarı gönderilir hello hello aynı bölüm hello event hub'ında toohello.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-155">Using a partition key ensures that all hello events with hello same key are sent toohello same partition in hello event hub.</span></span> <span data-ttu-id="1a1e0-156">Yaygın bölüm anahtarları kullanıcı oturum kimlikleri ve benzersiz gönderen kimlikleridir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-156">Common partition keys include user session IDs and unique sender IDs.</span></span> <span data-ttu-id="1a1e0-157">Merhaba [PartitionKey][] özellik isteğe bağlıdır ve hello kullanılırken sağlanabilir [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) veya [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-157">hello [PartitionKey][] property is optional and can be provided when using hello [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) or [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) methods.</span></span> <span data-ttu-id="1a1e0-158">İçin bir değer belirtmezseniz, [PartitionKey][], olayları hepsini modelini kullanarak dağıtılmış toopartitions gönderilir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-158">If you do not provide a value for [PartitionKey][], sent events are distributed toopartitions using a round-robin model.</span></span>

### <a name="availability-considerations"></a><span data-ttu-id="1a1e0-159">Kullanılabilirlik konusunda dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="1a1e0-159">Availability considerations</span></span>

<span data-ttu-id="1a1e0-160">Bir bölüm anahtarının kullanılması isteğe bağlıdır ve dikkatle düşünmelisiniz desteklemediğini toouse biri.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-160">Using a partition key is optional, and you should consider carefully whether or not toouse one.</span></span> <span data-ttu-id="1a1e0-161">Olay sıralama önemliyse, çoğu durumda, bir bölüm anahtarının kullanılması iyi bir seçimdir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-161">In many cases, using a partition key is a good choice if event ordering is important.</span></span> <span data-ttu-id="1a1e0-162">Bölüm anahtarı kullandığınızda, bu bölümler kullanılabilirlik tek bir düğümde gerektirir ve zaman içinde kesintiler; Örneğin, düğümlerin yeniden başlatma ve düzeltme zaman işlem.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-162">When you use a partition key, these partitions require availability on a single node, and outages can occur over time; for example, when compute nodes reboot and patch.</span></span> <span data-ttu-id="1a1e0-163">Bu nedenle, bölüm kimliği ayarlamak ve bu bölümü için herhangi bir nedenle kullanılamaz duruma gelir, bu bölüm bir girişim tooaccess hello verilerde başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-163">As such, if you set a partition ID and that partition becomes unavailable for some reason, an attempt tooaccess hello data in that partition will fail.</span></span> <span data-ttu-id="1a1e0-164">Bölüm anahtarı yüksek oranda kullanılabilirlik en önemli ise belirtmeyin; Bu durumda olayları daha önce açıklanan hello hepsini modelini kullanarak toopartitions gönderilir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-164">If high availability is most important, do not specify a partition key; in that case events will be sent toopartitions using hello round-robin model described previously.</span></span> <span data-ttu-id="1a1e0-165">Bu senaryoda, kullanılabilirlik (bölüm kimliği) ve tutarlılık (olayları tooa bölüm kimliği sabitleme) arasında açık bir seçim getirirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-165">In this scenario, you are making an explicit choice between availability (no partition ID) and consistency (pinning events tooa partition ID).</span></span>

<span data-ttu-id="1a1e0-166">Başka bir göz önünde bulundurarak olayları işleme gecikme işliyor.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-166">Another consideration is handling delays in processing events.</span></span> <span data-ttu-id="1a1e0-167">Bazı durumlarda daha iyi toodrop veriler tootry yeniden deneyin ve daha aşağı akış işleme gecikmelere neden olabilir işlemeyle takip edin.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-167">In some cases it might be better toodrop data and retry than tootry and keep up with processing, which can potentially cause further downstream processing delays.</span></span> <span data-ttu-id="1a1e0-168">Örneğin, onu tam olmasa bile borsa ile daha iyi toowait tam güncel verileri, ancak bir canlı sohbet ya da hello verileri hızlı bir şekilde, bunun yerine olurdu VoIP senaryo olur.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-168">For example, with a stock ticker it's better toowait for complete up-to-date data, but in a live chat or VOIP scenario you'd rather have hello data quickly, even if it isn't complete.</span></span>

<span data-ttu-id="1a1e0-169">Bu kullanılabilirlik noktalar bu senaryolarda hata işleme stratejileri aşağıdaki hello birini seçebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="1a1e0-169">Given these availability considerations, in these scenarios you might choose one of hello following error handling strategies:</span></span>

- <span data-ttu-id="1a1e0-170">Durdur (stop şeyler çözülene kadar olay hub'larından okuma)</span><span class="sxs-lookup"><span data-stu-id="1a1e0-170">Stop (stop reading from Event Hubs until things are fixed)</span></span>
- <span data-ttu-id="1a1e0-171">Bırakma (iletileri önemli olmayan sürükleyip bırakın)</span><span class="sxs-lookup"><span data-stu-id="1a1e0-171">Drop (messages aren’t important, drop them)</span></span>
- <span data-ttu-id="1a1e0-172">(Yeniden deneme hello iletileri gördüğünüz gibi uygun) yeniden deneyin</span><span class="sxs-lookup"><span data-stu-id="1a1e0-172">Retry (retry hello messages as you see fit)</span></span>
- <span data-ttu-id="1a1e0-173">[Sahipsiz](../service-bus-messaging/service-bus-dead-letter-queues.md) (bir sıraya veya başka bir olay hub'ı toodead hello iletileri yalnızca harf kullanımı işleyemedi)</span><span class="sxs-lookup"><span data-stu-id="1a1e0-173">[Dead letter](../service-bus-messaging/service-bus-dead-letter-queues.md) (use a queue or another event hub toodead letter only hello messages you couldn’t process)</span></span>

<span data-ttu-id="1a1e0-174">Daha fazla bilgi ve hello dengelemeler kullanılabilirlik ve tutarlılık arasında hakkında tartışma için bkz: [kullanılabilirlik ve Event Hubs tutarlılığını](event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="1a1e0-174">For more information and a discussion about hello trade-offs between availability and consistency, see [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md).</span></span> 

## <a name="batch-event-send-operations"></a><span data-ttu-id="1a1e0-175">Toplu olay gönderme işlemleri</span><span class="sxs-lookup"><span data-stu-id="1a1e0-175">Batch event send operations</span></span>
<span data-ttu-id="1a1e0-176">Olayların toplu olarak gönderilmesi üretilen işi çarpıcı biçimde artırabilir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-176">Sending events in batches can dramatically increase throughput.</span></span> <span data-ttu-id="1a1e0-177">Merhaba [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) metodu bir **IEnumerable** türünde parametresi [EventData][] ve hello toplu işin tamamını atomik işlemi toohello olay hub'ı olarak gönderir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-177">hello [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) method takes an **IEnumerable** parameter of type [EventData][] and sends hello entire batch as an atomic operation toohello event hub.</span></span>

```csharp
public void SendBatch(IEnumerable<EventData> eventDataList);
```

<span data-ttu-id="1a1e0-178">Tek bir toplu bir olay hello 256 KB'lik sınırını aşmamalıdır unutmayın.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-178">Note that a single batch must not exceed hello 256 KB limit of an event.</span></span> <span data-ttu-id="1a1e0-179">Ayrıca, her ileti hello toplu hello kullanır aynı yayımcı kimliği.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-179">Additionally, each message in hello batch uses hello same publisher identity.</span></span> <span data-ttu-id="1a1e0-180">Bu toplu hello hello gönderen tooensure hello sorumluluğunda hello en fazla olay boyutu aşmayan olur.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-180">It is hello responsibility of hello sender tooensure that hello batch does not exceed hello maximum event size.</span></span> <span data-ttu-id="1a1e0-181">Aşması durumunda bir istemci **Gönderme** hatası oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-181">If it does, a client **Send** error is generated.</span></span>

## <a name="send-asynchronously-and-send-at-scale"></a><span data-ttu-id="1a1e0-182">Zaman uyumsuz olarak gönderme ve ölçekli gönderme</span><span class="sxs-lookup"><span data-stu-id="1a1e0-182">Send asynchronously and send at scale</span></span>
<span data-ttu-id="1a1e0-183">Olayları tooan olay hub'ı zaman uyumsuz olarak da gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-183">You can also send events tooan event hub asynchronously.</span></span> <span data-ttu-id="1a1e0-184">Zaman uyumsuz gönderme bir istemcinin mümkün toosend olayları olduğu hello hızı artırabilir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-184">Sending asynchronously can increase hello rate at which a client is able toosend events.</span></span> <span data-ttu-id="1a1e0-185">Her iki hello [Gönder](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) ve [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) yöntemleri döndüren zaman uyumsuz sürümlerde kullanılabilir bir [görev](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) nesnesi.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-185">Both hello [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) and [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) methods are available in asynchronous versions that return a [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) object.</span></span> <span data-ttu-id="1a1e0-186">Bu teknik üretilen işi artırabilse, hatta hello Event Hubs hizmeti tarafından kısıtlanan ve hello istemcinin hata veya kayıp iletilerle karşılaşmasına yol açabilir ancak hello istemci toocontinue toosend olayları da neden olabilir düzgün uygulanmaması durumunda.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-186">While this technique can increase throughput, it can also cause hello client toocontinue toosend events even while it is being throttled by hello Event Hubs service and can result in hello client experiencing failures or lost messages if not properly implemented.</span></span> <span data-ttu-id="1a1e0-187">Ayrıca, hello kullanabilirsiniz [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) hello istemci toocontrol istemci yeniden deneme seçeneklerini özelliği.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-187">In addition, you can use hello [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) property on hello client toocontrol client retry options.</span></span>

## <a name="create-a-partition-sender"></a><span data-ttu-id="1a1e0-188">Bölüm göndereni oluşturma</span><span class="sxs-lookup"><span data-stu-id="1a1e0-188">Create a partition sender</span></span>
<span data-ttu-id="1a1e0-189">Bazı durumlarda en yaygın toosend olayları tooan olay hub'ı bölüm anahtarı olmayan olmasına karşın, toosend olayları isteyebilirsiniz doğrudan bölüm verilen tooa.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-189">Although it is most common toosend events tooan event hub without a partition key, in some cases you might want toosend events directly tooa given partition.</span></span> <span data-ttu-id="1a1e0-190">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="1a1e0-190">For example:</span></span>

```csharp
var partitionedSender = client.CreatePartitionedSender(description.PartitionIds[0]);
```

<span data-ttu-id="1a1e0-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) döndüren bir [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) toopublish olayları tooa belirli olay hub'ı bölüm kullanabileceğiniz nesne.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) returns an [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) object that you can use toopublish events tooa specific event hub partition.</span></span>

## <a name="event-consumers"></a><span data-ttu-id="1a1e0-192">Olay tüketicileri</span><span class="sxs-lookup"><span data-stu-id="1a1e0-192">Event consumers</span></span>
<span data-ttu-id="1a1e0-193">Event Hubs olay tüketimi için iki adet birincil modele sahiptir: doğrudan alıcılar ve [EventProcessorHost][] gibi üst düzey soyutlamalar.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-193">Event Hubs has two primary models for event consumption: direct receivers and higher-level abstractions, such as [EventProcessorHost][].</span></span> <span data-ttu-id="1a1e0-194">Doğrudan alıcılar bir tüketici grubundaki erişim toopartitions kendi eşgüdümünü sorumludur.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-194">Direct receivers are responsible for their own coordination of access toopartitions within a consumer group.</span></span>

### <a name="direct-consumer"></a><span data-ttu-id="1a1e0-195">Doğrudan tüketici</span><span class="sxs-lookup"><span data-stu-id="1a1e0-195">Direct consumer</span></span>
<span data-ttu-id="1a1e0-196">Merhaba en doğrudan yolu tooread bir tüketici grubundaki bölümden olduğu toouse hello [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) sınıfı.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-196">hello most direct way tooread from a partition within a consumer group is toouse hello [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) class.</span></span> <span data-ttu-id="1a1e0-197">toocreate bu sınıfın örneği bir hello örneği kullanmalıdır [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) sınıfı.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-197">toocreate an instance of this class, you must use an instance of hello [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) class.</span></span> <span data-ttu-id="1a1e0-198">Aşağıdaki örneğine hello hello tüketici grubu için hello alıcı oluştururken hello bölüm kimliği belirtilmelidir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-198">In hello following example, hello partition ID must be specified when creating hello receiver for hello consumer group.</span></span>

```csharp
EventHubConsumerGroup group = client.GetDefaultConsumerGroup();
var receiver = group.CreateReceiver(client.GetRuntimeInformation().PartitionIds[0]);
```

<span data-ttu-id="1a1e0-199">Merhaba [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) yöntemi oluşturulmakta hello okuyucu üzerinde denetimi kolaylaştıran birkaç aşırı sahiptir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-199">hello [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) method has several overloads that facilitate control over hello reader being created.</span></span> <span data-ttu-id="1a1e0-200">Bu yöntemler bir uzaklığı dize veya zaman damgası olarak belirtmeyi içerir ve olup tooinclude hello belirtilen bu uzaklığın döndürülen akışla aktarmak veya bundan sonra Başlat özelliği toospecify hello.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-200">These methods include specifying an offset as either a string or timestamp, and hello ability toospecify whether tooinclude this specified offset in hello returned stream, or start after it.</span></span> <span data-ttu-id="1a1e0-201">Merhaba alıcıyı oluşturduktan sonra nesne döndürdü hello olayları almaya başlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-201">After you create hello receiver, you can start receiving events on hello returned object.</span></span> <span data-ttu-id="1a1e0-202">Merhaba [alma](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) yöntemi, bu denetim hello dört aşırı sahip toplu iş boyutu gibi işlem parametrelerini alır ve bir süre bekleyin.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-202">hello [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) method has four overloads that control hello receive operation parameters, such as batch size and wait time.</span></span> <span data-ttu-id="1a1e0-203">Bir tüketicinin bu yöntemleri tooincrease hello verimliliğini hello zaman uyumsuz sürümlerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-203">You can use hello asynchronous versions of these methods tooincrease hello throughput of a consumer.</span></span> <span data-ttu-id="1a1e0-204">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="1a1e0-204">For example:</span></span>

```csharp
bool receive = true;
string myOffset;
while(receive)
{
    var message = receiver.Receive();
    myOffset = message.Offset;
    string body = Encoding.UTF8.GetString(message.GetBytes());
    Console.WriteLine(String.Format("Received message offset: {0} \nbody: {1}", myOffset, body));
}
```

<span data-ttu-id="1a1e0-205">Saygı tooa belirli bölümü ile Merhaba iletileri toohello olay hub'ı gönderildikleri hello sırayla alınır.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-205">With respect tooa specific partition, hello messages are received in hello order in which they were sent toohello event hub.</span></span> <span data-ttu-id="1a1e0-206">Merhaba, bir dize belirteci kullanılan tooidentify bir bölümdeki bir iletiyi uzaklığı.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-206">hello offset is a string token used tooidentify a message in a partition.</span></span>

<span data-ttu-id="1a1e0-207">Bir tüketici grubundaki tek bir bölüm aynı anda 5'ten fazla eşzamanlı okuyucunun bağlanmasına izin vermez.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-207">Note that a single partition within a consumer group cannot have more than 5 concurrent readers connected at any time.</span></span> <span data-ttu-id="1a1e0-208">Okuyucular bağlandığında veya bağlantıları kesildiğinde gibi oturumlarını hello hizmet bağlantı kesilmesini algılamasından önce birkaç dakika boyunca etkin kalabilir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-208">As readers connect or become disconnected, their sessions might stay active for several minutes before hello service recognizes that they have disconnected.</span></span> <span data-ttu-id="1a1e0-209">Bu süre boyunca tooa bölüm bağlanılması başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-209">During this time, reconnecting tooa partition may fail.</span></span> <span data-ttu-id="1a1e0-210">Event Hubs için doğrudan alıcı yazmaya tam örnek için bkz: Merhaba [Event Hubs doğrudan alıcıları](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) örnek.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-210">For a complete example of writing a direct receiver for Event Hubs, see hello [Event Hubs Direct Receivers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) sample.</span></span>

### <a name="event-processor-host"></a><span data-ttu-id="1a1e0-211">Olay işlemcisi konağı</span><span class="sxs-lookup"><span data-stu-id="1a1e0-211">Event processor host</span></span>
<span data-ttu-id="1a1e0-212">Merhaba [EventProcessorHost][] sınıfı Event Hubs verilerini işler.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-212">hello [EventProcessorHost][] class processes data from Event Hubs.</span></span> <span data-ttu-id="1a1e0-213">Merhaba .NET platformu üzerinde olay okuyucuları oluştururken bu uygulamayı kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-213">You should use this implementation when building event readers on hello .NET platform.</span></span> <span data-ttu-id="1a1e0-214">[EventProcessorHost][] aynı zamanda denetim noktası oluşturma ve bölüm kiralama yönetimi sağlayan olay işlemcisi uygulamaları için iş parçacığı güvenli, çok işlemli, güvenli bir çalışma zamanı ortamı sağlar.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-214">[EventProcessorHost][] provides a thread-safe, multi-process, safe runtime environment for event processor implementations that also provides checkpointing and partition lease management.</span></span>

<span data-ttu-id="1a1e0-215">toouse hello [EventProcessorHost][] sınıfı, uygulayabilirsiniz [Ieventprocessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span><span class="sxs-lookup"><span data-stu-id="1a1e0-215">toouse hello [EventProcessorHost][] class, you can implement [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span></span> <span data-ttu-id="1a1e0-216">Bu arabirim üç yöntem içerir:</span><span class="sxs-lookup"><span data-stu-id="1a1e0-216">This interface contains three methods:</span></span>

* [<span data-ttu-id="1a1e0-217">OpenAsync</span><span class="sxs-lookup"><span data-stu-id="1a1e0-217">OpenAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_OpenAsync_Microsoft_ServiceBus_Messaging_PartitionContext_)
* [<span data-ttu-id="1a1e0-218">CloseAsync</span><span class="sxs-lookup"><span data-stu-id="1a1e0-218">CloseAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_CloseAsync_Microsoft_ServiceBus_Messaging_PartitionContext_Microsoft_ServiceBus_Messaging_CloseReason_)
* [<span data-ttu-id="1a1e0-219">ProcessEventsAsync</span><span class="sxs-lookup"><span data-stu-id="1a1e0-219">ProcessEventsAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_ProcessEventsAsync_Microsoft_ServiceBus_Messaging_PartitionContext_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__)

<span data-ttu-id="1a1e0-220">toostart olay işleme, örneği [EventProcessorHost][], event hub'ınıza uygun parametreleri hello sağlama.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-220">toostart event processing, instantiate [EventProcessorHost][], providing hello appropriate parameters for your event hub.</span></span> <span data-ttu-id="1a1e0-221">Ardından, çağıran [Ieventprocessor](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) tooregister, [Ieventprocessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) uygulama hello çalışma zamanı ile.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-221">Then, call [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) tooregister your [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementation with hello runtime.</span></span> <span data-ttu-id="1a1e0-222">Bu noktada, hello konak tooacquire "Hızlı" algoritma kullanarak hello event hub'ındaki her bölüm üzerinde bir kira deneyecek.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-222">At this point, hello host will attempt tooacquire a lease on every partition in hello event hub using a "greedy" algorithm.</span></span> <span data-ttu-id="1a1e0-223">Bu kiralar belirli bir zaman çerçevesi boyunca sürer ve sonrasında yenilenmelidir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-223">These leases will last for a given timeframe and must then be renewed.</span></span> <span data-ttu-id="1a1e0-224">Yeni düğüm olarak çalışan örnekleri bu durumda, çevrimiçi olması, kiralama ayırmaları yapar ve her tooacquire daha fazla kira girişimleri olarak zaman içinde hello yük düğümler arasında kayar..</span><span class="sxs-lookup"><span data-stu-id="1a1e0-224">As new nodes, worker instances in this case, come online, they place lease reservations and over time hello load shifts between nodes as each attempts tooacquire more leases.</span></span>

![Olay İşlemcisi Konağı](./media/event-hubs-programming-guide/IC759863.png)

<span data-ttu-id="1a1e0-226">Zaman içerisinde bir denge sağlanır.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-226">Over time, an equilibrium is established.</span></span> <span data-ttu-id="1a1e0-227">Bu dinamik özellik hem ölçek büyütme ve ölçek azaltma için CPU tabanlı otomatik ölçeklendirmenin uygulanan toobe tooconsumers sağlar.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-227">This dynamic capability enables CPU-based autoscaling toobe applied tooconsumers for both scale-up and scale-down.</span></span> <span data-ttu-id="1a1e0-228">Olay hub'ları ileti sayısı doğrudan kavramına sahip olmadığından ortalama CPU kullanımı hello en iyi mekanizması toomeasure arka uç veya tüketici ölçeğini görülür.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-228">Because Event Hubs do not have a direct concept of message counts, average CPU utilization is often hello best mechanism toomeasure back end or consumer scale.</span></span> <span data-ttu-id="1a1e0-229">Yayımcılar tüketicilerin'den daha fazla olay işleyebilir toopublish başlarsa, tüketiciler üzerindeki CPU artışı hello çalışan örnek sayısı üzerinde otomatik ölçeklendirmeye kullanılan toocause olabilir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-229">If publishers begin toopublish more events than consumers can process, hello CPU increase on consumers can be used toocause an auto-scale on worker instance count.</span></span>

<span data-ttu-id="1a1e0-230">Merhaba [EventProcessorHost][] sınıfı ayrıca bir Azure depolama tabanlı denetim noktası oluşturma mekanizması uygular.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-230">hello [EventProcessorHost][] class also implements an Azure storage-based checkpointing mechanism.</span></span> <span data-ttu-id="1a1e0-231">Her bir tüketici hangi hello son denetim noktasından hello önceki tüketicinin belirleyebilmesi bölüm başına temelinde uzaklığı Bu mekanizma depolarını hello oluştu.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-231">This mechanism stores hello offset on a per partition basis, so that each consumer can determine what hello last checkpoint from hello previous consumer was.</span></span> <span data-ttu-id="1a1e0-232">Geçiş bölümler kiralamalar aracılığıyla düğümler arasında yaptığında yük kaymasını kolaylaştıran hello eşitleme mekanizması budur.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-232">As partitions transition between nodes via leases, this is hello synchronization mechanism that facilitates load shifting.</span></span>

## <a name="publisher-revocation"></a><span data-ttu-id="1a1e0-233">Yayımcı iptali</span><span class="sxs-lookup"><span data-stu-id="1a1e0-233">Publisher revocation</span></span>
<span data-ttu-id="1a1e0-234">Toohello çalışma zamanı özelliklerine ek olarak Gelişmiş [EventProcessorHost][], olay hub'ları yayımcı iptalini sipariş tooblock belirli yayımcıları tooan event hub'ı olay göndermesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-234">In addition toohello advanced run-time features of [EventProcessorHost][], Event Hubs enables publisher revocation in order tooblock specific publishers from sending event tooan event hub.</span></span> <span data-ttu-id="1a1e0-235">Bu özellikleri özellikle bir yayımcı belirteci tehlike ya da bir yazılım güncelleştirme onları toobehave açamayacağı neden yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-235">These features are particularly useful if a publisher token has been compromised, or a software update is causing them toobehave inappropriately.</span></span> <span data-ttu-id="1a1e0-236">Bu durumlarda SAS belirtecinin bir parçası olan hello yayımcı kimliğinin olayları yayımlaması engellenebilir.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-236">In these situations, hello publisher's identity, which is part of their SAS token, can be blocked from publishing events.</span></span>

<span data-ttu-id="1a1e0-237">Yayımcı iptali ve toosend tooEvent hub'ları bir yayımcı olarak nasıl görürüm hakkında daha fazla bilgi için hello [olay hub'ları büyük ölçekli güvenli yayımlama](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) örnek.</span><span class="sxs-lookup"><span data-stu-id="1a1e0-237">For more information about publisher revocation and how toosend tooEvent Hubs as a publisher, see hello [Event Hubs Large Scale Secure Publishing](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) sample.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1a1e0-238">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="1a1e0-238">Next steps</span></span>
<span data-ttu-id="1a1e0-239">Event Hubs senaryoları hakkında daha fazla toolearn bu bağlantıları ziyaret edin:</span><span class="sxs-lookup"><span data-stu-id="1a1e0-239">toolearn more about Event Hubs scenarios, visit these links:</span></span>

* [<span data-ttu-id="1a1e0-240">Event Hubs API’sine genel bakış</span><span class="sxs-lookup"><span data-stu-id="1a1e0-240">Event Hubs API overview</span></span>](event-hubs-api-overview.md)
* [<span data-ttu-id="1a1e0-241">Event Hubs nedir</span><span class="sxs-lookup"><span data-stu-id="1a1e0-241">What is Event Hubs</span></span>](event-hubs-what-is-event-hubs.md)
* [<span data-ttu-id="1a1e0-242">Event Hubs’da kullanılabilirlik ve tutarlılık</span><span class="sxs-lookup"><span data-stu-id="1a1e0-242">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="1a1e0-243">Olay işlemcisi konağı API başvurusu</span><span class="sxs-lookup"><span data-stu-id="1a1e0-243">Event processor host API reference</span></span>](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost)

[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager
[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient
[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata
[Createeventhubıfnotexists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists
[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey
[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost
