---
title: "Node.js modülleriyle çalışma"
description: "Azure uygulama hizmeti veya Bulut hizmetlerini kullanırken node.js modüllerini ile çalışmayı öğrenin."
services: 
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: c0e6cd3d-932d-433e-b72d-e513e23b4eb6
ms.service: multiple
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2016
ms.author: tarcher
ms.openlocfilehash: 1418c19594f19a15402d494880514298826445df
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/18/2017
---
# <a name="using-nodejs-modules-with-azure-applications"></a><span data-ttu-id="256b7-103">Azure uygulamalarıyla Node.js Modüllerini kullanma</span><span class="sxs-lookup"><span data-stu-id="256b7-103">Using Node.js Modules with Azure applications</span></span>
<span data-ttu-id="256b7-104">Bu belge, Azure üzerinde barındırılan uygulamalarıyla Node.js modüllerini kullanma yönergeleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="256b7-104">This document provides guidance on using Node.js modules with applications hosted on Azure.</span></span> <span data-ttu-id="256b7-105">Ayrıca, uygulamanızda modülün belirli bir sürümünün kullanıldığından nasıl emin olacağınız ve Azure'la yerel modülleri nasıl kullanacağınız da anlatılır.</span><span class="sxs-lookup"><span data-stu-id="256b7-105">It provides guidance on ensuring that your application uses a specific version of module as well as using native modules with Azure.</span></span>

<span data-ttu-id="256b7-106">Node.js modüllerini kullanma ile bilginiz varsa **package.json** ve **npm shrinkwrap.json** dosyaları, aşağıdaki bilgileri bu makalede ele alınan kısa bir Özet sağlar:</span><span class="sxs-lookup"><span data-stu-id="256b7-106">If you are already familiar with using Node.js modules, **package.json** and **npm-shrinkwrap.json** files, the following information provides a quick summary of what is discussed in this article:</span></span>

* <span data-ttu-id="256b7-107">Azure uygulama hizmeti anlar **package.json** ve **npm shrinkwrap.json** dosyaları ve bu dosyalardaki girişleri temel modülleri yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="256b7-107">Azure App Service understands **package.json** and **npm-shrinkwrap.json** files and can install modules based on entries in these files.</span></span>

* <span data-ttu-id="256b7-108">Azure bulut Hizmetleri beklediğiniz geliştirme ortamında, yüklü olan tüm modülleri ve **düğümü\_modülleri** dağıtım paketinin bir parçası olarak dahil olacak şekilde dizini.</span><span class="sxs-lookup"><span data-stu-id="256b7-108">Azure Cloud Services expect all modules to be installed on the development environment, and the **node\_modules** directory to be included as part of the deployment package.</span></span> <span data-ttu-id="256b7-109">Kullanarak modüllerini yüklemeden desteğini etkinleştirmek mümkündür **package.json** veya **npm shrinkwrap.json** dosyalarını bulut Hizmetleri; ancak, bu yapılandırma varsayılan özelleştirmesini gerektirir Bulut hizmeti projeleri tarafından kullanılan komutlar.</span><span class="sxs-lookup"><span data-stu-id="256b7-109">It is possible to enable support for installing modules using **package.json** or **npm-shrinkwrap.json** files on Cloud Services; however, this configuration requires customization of the default scripts used by Cloud Service projects.</span></span> <span data-ttu-id="256b7-110">Bu ortam yapılandırma konusunda bir örnek için bkz: [düğümü modülleri dağıtma önlemek için npm yükleme çalıştırmak için Azure başlangıç görevi](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)</span><span class="sxs-lookup"><span data-stu-id="256b7-110">For an example of how to configure this environment, see [Azure Startup task to run npm install to avoid deploying node modules](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)</span></span>

> [!NOTE]
> <span data-ttu-id="256b7-111">VM Dağıtım deneyimi sanal makine tarafından barındırılan işletim sistemine bağlı olarak bu makalede, azure sanal makineleri açıklanmamaktadır.</span><span class="sxs-lookup"><span data-stu-id="256b7-111">Azure Virtual Machines are not discussed in this article, as the deployment experience in a VM is dependent on the operating system hosted by the Virtual Machine.</span></span>
> 
> 

## <a name="nodejs-modules"></a><span data-ttu-id="256b7-112">Node.js modüllerini</span><span class="sxs-lookup"><span data-stu-id="256b7-112">Node.js Modules</span></span>
<span data-ttu-id="256b7-113">Modüller, uygulamanız için belirli işlevler sağlayan yüklenebilir JavaScript paketlerdir.</span><span class="sxs-lookup"><span data-stu-id="256b7-113">Modules are loadable JavaScript packages that provide specific functionality for your application.</span></span> <span data-ttu-id="256b7-114">Modüller, kullanarak genellikle yüklenir **npm** komut satırı aracı, ancak bazı modüller (örneğin, http Modülü) çekirdek Node.js paketinin bir parçası sağlanır.</span><span class="sxs-lookup"><span data-stu-id="256b7-114">Modules are usually installed using the **npm** command-line tool, however some modules (such as the http module) are provided as part of the core Node.js package.</span></span>

<span data-ttu-id="256b7-115">Modülleri yüklendiğinde depolandıkları **düğümü\_modülleri** uygulama dizin yapısının kökü, dizin.</span><span class="sxs-lookup"><span data-stu-id="256b7-115">When modules are installed, they are stored in the **node\_modules** directory at the root of your application directory structure.</span></span> <span data-ttu-id="256b7-116">İçinde her modül **düğümü\_modülleri** directory tutar kendi **düğümü\_modülleri** bağlıdır ve bu davranış yinelenir tüm modülleri içeren dizini Her bir modüle tüm bağımlılık zinciri kapalı.</span><span class="sxs-lookup"><span data-stu-id="256b7-116">Each module within the **node\_modules** directory maintains its own **node\_modules** directory that contains any modules that it depends on, and this behavior repeats for every module all the way down the dependency chain.</span></span> <span data-ttu-id="256b7-117">Bu ortamda, ancak bu oldukça büyük dizin yapısında sonuçlanabilir, bağlı olduğu modülleri kendi sürüm gereksinimleri yüklü modüllerin sağlar.</span><span class="sxs-lookup"><span data-stu-id="256b7-117">This environment allows each module installed to have its own version requirements for the modules it depends on, however it can result in quite a large directory structure.</span></span>

<span data-ttu-id="256b7-118">Dağıtma **düğümü\_modülleri** uygulamanızın parçası kullanmaya karşılaştırıldığında dağıtımın boyutu arttıkça dizin bir **package.json** veya  **npm shrinkwrap.json** dosya; üretimde kullanılan modülleri sürümleri geliştirme kullanılan modülleri aynı olduğunu ancak garanti etmez.</span><span class="sxs-lookup"><span data-stu-id="256b7-118">Deploying the **node\_modules** directory as part of your application increases the size of the deployment when compared to using a **package.json** or **npm-shrinkwrap.json** file; however, it does guarantee that the versions of the modules used in production are the same as the modules used in development.</span></span>

### <a name="native-modules"></a><span data-ttu-id="256b7-119">Yerel modülleri</span><span class="sxs-lookup"><span data-stu-id="256b7-119">Native Modules</span></span>
<span data-ttu-id="256b7-120">Çoğu Modüller yalnızca düz metin JavaScript dosyaları olsa da, bazı platforma özgü ikili görüntülerini modüllerdir.</span><span class="sxs-lookup"><span data-stu-id="256b7-120">While most modules are simply plain-text JavaScript files, some modules are platform-specific binary images.</span></span> <span data-ttu-id="256b7-121">Bu modüller yükleme zamanında Python ve düğüm gyp kullanarak genellikle derlenir.</span><span class="sxs-lookup"><span data-stu-id="256b7-121">These modules are compiled at install time, usually by using Python and node-gyp.</span></span> <span data-ttu-id="256b7-122">Azure Cloud Services bağlı olduğundan **düğümü\_modülleri** yüklü olduğu sürece, klasör yüklü modülleri bir parçası olarak dahil edilen uygulama, tüm yerel modül bir parçası olarak dağıtılan bir bulut hizmetinde iş ve bir Windows geliştirme sisteminde derlenmiş.</span><span class="sxs-lookup"><span data-stu-id="256b7-122">Since Azure Cloud Services rely on the **node\_modules** folder being deployed as part of the application, any native module included as part of the installed modules should work in a cloud service as long as it was installed and compiled on a Windows development system.</span></span>

<span data-ttu-id="256b7-123">Azure uygulama hizmeti, tüm yerel modülleri desteklemez ve belirli önkoşulları modüllerle derlerken başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="256b7-123">Azure App Service does not support all native modules, and might fail when compiling modules with specific prerequisites.</span></span> <span data-ttu-id="256b7-124">MongoDB gibi bazı popüler modülleri isteğe bağlı yerel bağımlılıkları vardır ve onlar olmadan uygundur olsa da, iki geçici çözüm bugün neredeyse tüm yerel modülleri ile kullanılabilir başarılı oluyor uygulamasına yol açıyordu:</span><span class="sxs-lookup"><span data-stu-id="256b7-124">While some popular modules like MongoDB have optional native dependencies and work fine without them, two workarounds proved successful with almost all native modules available today:</span></span>

* <span data-ttu-id="256b7-125">Çalıştırma **npm yükleme** bir Windows makinesinde yüklü tüm yerel modülün önkoşulları vardır.</span><span class="sxs-lookup"><span data-stu-id="256b7-125">Run **npm install** on a Windows machine that has all the native module's prerequisites installed.</span></span> <span data-ttu-id="256b7-126">Sonra oluşturulan dağıtmak **düğümü\_modülleri** klasörü uygulamanın Azure App Service'e bir parçası olarak.</span><span class="sxs-lookup"><span data-stu-id="256b7-126">Then, deploy the created **node\_modules** folder as part of the application to Azure App Service.</span></span>

  * <span data-ttu-id="256b7-127">Derleme önce yerel Node.js yüklemenizi eşleşen mimariye sahip ve sürüm mümkün olduğunca yakın bir Azure içinde kullanılan olup olmadığını denetleyin (geçerli değerler çalışma zamanında özelliklerinden denetlenebilir **process.arch** ve **process.version**).</span><span class="sxs-lookup"><span data-stu-id="256b7-127">Before compiling, check that your local Node.js installation has matching architecture and the version is as close as possible to the one used in Azure (the current values can be checked on runtime from properties **process.arch** and **process.version**).</span></span>

* <span data-ttu-id="256b7-128">Azure uygulama hizmeti yapılandırılabilir özel bash veya kabuk betikleri dağıtımı sırasında yürütülecek özel komutları yürütün ve tam olarak şekilde yapılandırmak için fırsat vermiş **npm yükleme** çalıştırılıyor.</span><span class="sxs-lookup"><span data-stu-id="256b7-128">Azure App Service can be configured to execute custom bash or shell scripts during deployment, giving you the opportunity to execute custom commands and precisely configure the way **npm install** is being run.</span></span> <span data-ttu-id="256b7-129">Bu ortamda yapılandırmak nasıl gösteren bir video için bkz: [özel Web sitesi dağıtım betikleri Kudu ile].</span><span class="sxs-lookup"><span data-stu-id="256b7-129">For a video showing how to configure that environment, see [Custom Website Deployment Scripts with Kudu].</span></span>

### <a name="using-a-packagejson-file"></a><span data-ttu-id="256b7-130">Bir package.json dosyası kullanma</span><span class="sxs-lookup"><span data-stu-id="256b7-130">Using a package.json file</span></span>
<span data-ttu-id="256b7-131">**Package.json** dosyasıdır uygulamanızın gerektirdiği barındırma platformuna eklemenizi gerektirmek yerine bağımlılıkları yükleyebilmek için en üst düzey bağımlılıkları belirtmek için bir yol **düğümü\_ paketleri** klasörü dağıtımının bir parçası olarak.</span><span class="sxs-lookup"><span data-stu-id="256b7-131">The **package.json** file is a way to specify the top-level dependencies your application requires so that the hosting platform can install the dependencies, rather than requiring you to include the **node\_packages** folder as part of the deployment.</span></span> <span data-ttu-id="256b7-132">Uygulama dağıtıldıktan sonra **npm yükleme** ayrıştırmak için kullanılan komut **package.json** dosya ve listelenen tüm bağımlılıkları yükler.</span><span class="sxs-lookup"><span data-stu-id="256b7-132">After the application has been deployed, the **npm install** command is used to parse the **package.json** file and install all the dependencies listed.</span></span>

<span data-ttu-id="256b7-133">Geliştirme sırasında kullandığınız **--Kaydet**, **--Kaydet geliştirme**, veya **--Kaydet isteğe bağlı** , Modüliçinbirgirişeklemekiçinmodülleriyüklerkenparametreleri**package.json** dosya otomatik olarak.</span><span class="sxs-lookup"><span data-stu-id="256b7-133">During development, you can use the **--save**, **--save-dev**, or **--save-optional** parameters when installing modules to add an entry for the module to your **package.json** file automatically.</span></span> <span data-ttu-id="256b7-134">Daha fazla bilgi için bkz: [npm yükleme](https://docs.npmjs.com/cli/install).</span><span class="sxs-lookup"><span data-stu-id="256b7-134">For more information, see [npm-install](https://docs.npmjs.com/cli/install).</span></span>

<span data-ttu-id="256b7-135">Olası bir sorun **package.json** dosyadır, yalnızca üst düzey bağımlılıklar için sürümünü belirtir.</span><span class="sxs-lookup"><span data-stu-id="256b7-135">One potential problem with the **package.json** file is that it only specifies the version for top-level dependencies.</span></span> <span data-ttu-id="256b7-136">Her modül yüklü olabilir veya bağımlı modülleri sürümü belirtemezsiniz ve bu nedenle, farklı bir bağımlılığı geliştirme kullanılan fazla ile anlamayabilir olduğunu mümkündür.</span><span class="sxs-lookup"><span data-stu-id="256b7-136">Each module installed may or may not specify the version of the modules it depends on, and so it is possible that you may end up with a different dependency chain than the one used in development.</span></span>

> [!NOTE]
> <span data-ttu-id="256b7-137">Azure App Service'e dağıtırken yüklendiğinde, <b>package.json</b> dosyaya başvuruda bulunan bir yerel modül Git kullanarak uygulama yayımlama sırasında aşağıdaki örneğe benzer bir hata görebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="256b7-137">When deploying to Azure App Service, if your <b>package.json</b> file references a native module you might see an error similar to the following example when publishing the application using Git:</span></span>
> 
> <span data-ttu-id="256b7-138">npm hata!</span><span class="sxs-lookup"><span data-stu-id="256b7-138">npm ERR!</span></span> <span data-ttu-id="256b7-139">module-name@0.6.0yükleyin: 'düğümü gyp Yapılandır yapı'</span><span class="sxs-lookup"><span data-stu-id="256b7-139">module-name@0.6.0 install: 'node-gyp configure build'</span></span>
> 
> <span data-ttu-id="256b7-140">npm hata!</span><span class="sxs-lookup"><span data-stu-id="256b7-140">npm ERR!</span></span> <span data-ttu-id="256b7-141">' cmd "/ c" "düğümü gyp yapılandırma derleme" ' 1 ile başarısız oldu</span><span class="sxs-lookup"><span data-stu-id="256b7-141">'cmd "/c" "node-gyp configure build"' failed with 1</span></span>
> 
> 

### <a name="using-a-npm-shrinkwrapjson-file"></a><span data-ttu-id="256b7-142">Bir npm shrinkwrap.json dosyası kullanma</span><span class="sxs-lookup"><span data-stu-id="256b7-142">Using a npm-shrinkwrap.json file</span></span>
<span data-ttu-id="256b7-143">**Npm shrinkwrap.json** dosyasıdır modülü sürüm oluşturma sınırlamaları adres girişimi **package.json** dosya.</span><span class="sxs-lookup"><span data-stu-id="256b7-143">The **npm-shrinkwrap.json** file is an attempt to address the module versioning limitations of the **package.json** file.</span></span> <span data-ttu-id="256b7-144">Sırada **package.json** dosyası, yalnızca üst düzey modüller için sürümleri içerir **npm shrinkwrap.json** dosyası tam modül bağımlılık zinciri sürüm gereksinimlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="256b7-144">While the **package.json** file only includes versions for the top-level modules, the **npm-shrinkwrap.json** file contains the version requirements for the full module dependency chain.</span></span>

<span data-ttu-id="256b7-145">Uygulamanızın üretime hazır olduğunda, kilitleme sürüm gereksinimlerini ve oluşturma bir **npm shrinkwrap.json** kullanarak dosya **npm shrinkwrap** komutu.</span><span class="sxs-lookup"><span data-stu-id="256b7-145">When your application is ready for production, you can lock down version requirements and create an **npm-shrinkwrap.json** file by using the **npm shrinkwrap** command.</span></span> <span data-ttu-id="256b7-146">Bu komut şu anda yüklü sürümleri kullanacağı **düğümü\_modülleri** klasörünü ve bu sürümleri için kayıt **npm shrinkwrap.json** dosya.</span><span class="sxs-lookup"><span data-stu-id="256b7-146">This command will use the versions currently installed in the **node\_modules** folder, and record these versions to the **npm-shrinkwrap.json** file.</span></span> <span data-ttu-id="256b7-147">Uygulama barındırma ortamına dağıtıldıktan sonra **npm yükleme** ayrıştırmak için kullanılan komut **npm shrinkwrap.json** dosya ve listelenen tüm bağımlılıkları yükler.</span><span class="sxs-lookup"><span data-stu-id="256b7-147">After the application has been deployed to the hosting environment, the **npm install** command is used to parse the **npm-shrinkwrap.json** file and install all the dependencies listed.</span></span> <span data-ttu-id="256b7-148">Daha fazla bilgi için bkz: [npm shrinkwrap](https://docs.npmjs.com/cli/shrinkwrap).</span><span class="sxs-lookup"><span data-stu-id="256b7-148">For more information, see [npm-shrinkwrap](https://docs.npmjs.com/cli/shrinkwrap).</span></span>

> [!NOTE]
> <span data-ttu-id="256b7-149">Azure App Service'e dağıtırken yüklendiğinde, <b>npm shrinkwrap.json</b> dosyaya başvuruda bulunan bir yerel modül Git kullanarak uygulama yayımlama sırasında aşağıdaki örneğe benzer bir hata görebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="256b7-149">When deploying to Azure App Service, if your <b>npm-shrinkwrap.json</b> file references a native module you might see an error similar to the following example when publishing the application using Git:</span></span>
> 
> <span data-ttu-id="256b7-150">npm hata!</span><span class="sxs-lookup"><span data-stu-id="256b7-150">npm ERR!</span></span> <span data-ttu-id="256b7-151">module-name@0.6.0yükleyin: 'düğümü gyp Yapılandır yapı'</span><span class="sxs-lookup"><span data-stu-id="256b7-151">module-name@0.6.0 install: 'node-gyp configure build'</span></span>
> 
> <span data-ttu-id="256b7-152">npm hata!</span><span class="sxs-lookup"><span data-stu-id="256b7-152">npm ERR!</span></span> <span data-ttu-id="256b7-153">' cmd "/ c" "düğümü gyp yapılandırma derleme" ' 1 ile başarısız oldu</span><span class="sxs-lookup"><span data-stu-id="256b7-153">'cmd "/c" "node-gyp configure build"' failed with 1</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="256b7-154">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="256b7-154">Next steps</span></span>
<span data-ttu-id="256b7-155">Azure ile Node.js modüllerini kullanma anladığınıza göre bilgi nasıl [Node.js sürümünü belirtme], [derleme ve Node.js web uygulamasına dağıtma](app-service-web/app-service-web-get-started-nodejs.md), ve [Azure komut satırı kullanma Mac ve Linux için arabirimi].</span><span class="sxs-lookup"><span data-stu-id="256b7-155">Now that you understand how to use Node.js modules with Azure, learn how to [specify the Node.js version], [build and deploy a Node.js web app](app-service-web/app-service-web-get-started-nodejs.md), and [How to use the Azure Command-Line Interface for Mac and Linux].</span></span>

<span data-ttu-id="256b7-156">Daha fazla bilgi için bkz. [Node.js Geliştirici Merkezi](/nodejs/azure/).</span><span class="sxs-lookup"><span data-stu-id="256b7-156">For more information, see the [Node.js Developer Center](/nodejs/azure/).</span></span>

<span data-ttu-id="256b7-157">[Node.js sürümünü belirtme]: nodejs-specify-node-version-azure-apps.md</span><span class="sxs-lookup"><span data-stu-id="256b7-157">[specify the Node.js version]: nodejs-specify-node-version-azure-apps.md</span></span>
<span data-ttu-id="256b7-158">[Azure komut satırı kullanma Mac ve Linux için arabirimi]:cli-install-nodejs.md</span><span class="sxs-lookup"><span data-stu-id="256b7-158">[How to use the Azure Command-Line Interface for Mac and Linux]:cli-install-nodejs.md</span></span>
<span data-ttu-id="256b7-159">[özel Web sitesi dağıtım betikleri Kudu ile]: https://channel9.msdn.com/Shows/Azure-Friday/Custom-Web-Site-Deployment-Scripts-with-Kudu-with-David-Ebbo</span><span class="sxs-lookup"><span data-stu-id="256b7-159">[Custom Website Deployment Scripts with Kudu]: https://channel9.msdn.com/Shows/Azure-Friday/Custom-Web-Site-Deployment-Scripts-with-Kudu-with-David-Ebbo</span></span>
