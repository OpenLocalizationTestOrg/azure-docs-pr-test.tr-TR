---
title: "aaaUsing paylaşılan erişim imzaları (SAS) Azure storage'da | Microsoft Docs"
description: "BLOB, kuyruklar, tablolar ve dosyaları da dahil olmak üzere toouse paylaşılan erişim imzaları (SAS) toodelegate erişim tooAzure, depolama kaynaklarını öğrenin."
services: storage
documentationcenter: 
author: mmacy
manager: timlt
editor: tysonn
ms.assetid: 46fd99d7-36b3-4283-81e3-f214b29f1152
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 04/18/2017
ms.author: marsma
ms.openlocfilehash: 5b75a3c25bcfb9f1ceb81f31dc2d42376bd105cb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="using-shared-access-signatures-sas"></a><span data-ttu-id="41238-103">Paylaşılan erişim imzaları (SAS) kullanma</span><span class="sxs-lookup"><span data-stu-id="41238-103">Using shared access signatures (SAS)</span></span>

<span data-ttu-id="41238-104">Paylaşılan erişim imzası (SAS) depolama hesabınızdaki bir şekilde toogrant sınırlı erişim tooobjects tooother istemciler, hesap anahtarınızı sokmadan sağlar.</span><span class="sxs-lookup"><span data-stu-id="41238-104">A shared access signature (SAS) provides you with a way toogrant limited access tooobjects in your storage account tooother clients, without exposing your account key.</span></span> <span data-ttu-id="41238-105">Bu makalede, biz hello SAS modeline genel bakış sağlayan, SAS en iyi uygulamaları incelemek ve bazı örneklere bakın.</span><span class="sxs-lookup"><span data-stu-id="41238-105">In this article, we provide an overview of hello SAS model, review SAS best practices, and look at some examples.</span></span>

<span data-ttu-id="41238-106">Burada sunulan olanlar SAS kullanarak ek kod örnekleri için bkz: [.NET içinde Azure Blob Storage ile çalışmaya başlama](https://azure.microsoft.com/documentation/samples/storage-blob-dotnet-getting-started/) ve diğer örnekler hello kullanılabilir [Azure Kod örnekleri](https://azure.microsoft.com/documentation/samples/?service=storage) kitaplığı.</span><span class="sxs-lookup"><span data-stu-id="41238-106">For additional code examples using SAS beyond those presented here, see [Getting Started with Azure Blob Storage in .NET](https://azure.microsoft.com/documentation/samples/storage-blob-dotnet-getting-started/) and other samples available in hello [Azure Code Samples](https://azure.microsoft.com/documentation/samples/?service=storage) library.</span></span> <span data-ttu-id="41238-107">Merhaba örnek uygulamaları indir ve bunları çalıştırma veya hello kodu github'da göz atın.</span><span class="sxs-lookup"><span data-stu-id="41238-107">You can download hello sample applications and run them, or browse hello code on GitHub.</span></span>

## <a name="what-is-a-shared-access-signature"></a><span data-ttu-id="41238-108">Paylaşılan erişim imzası nedir?</span><span class="sxs-lookup"><span data-stu-id="41238-108">What is a shared access signature?</span></span>
<span data-ttu-id="41238-109">Paylaşılan erişim imzası depolama hesabınızda atanmış erişim tooresources sağlar.</span><span class="sxs-lookup"><span data-stu-id="41238-109">A shared access signature provides delegated access tooresources in your storage account.</span></span> <span data-ttu-id="41238-110">Bir SAS ile hesap anahtarlarınızı paylaşmadan tooresources depolama hesabınızdaki istemciler erişim izni verebilir.</span><span class="sxs-lookup"><span data-stu-id="41238-110">With a SAS, you can grant clients access tooresources in your storage account, without sharing your account keys.</span></span> <span data-ttu-id="41238-111">Bu, uygulamalarınızı--SAS paylaşılan erişim imzaları kullanma hello anahtar noktasıdır hesap anahtarlarınızı tehlikeye olmadan depolama kaynaklarınıza güvenli şekilde tooshare olduğu.</span><span class="sxs-lookup"><span data-stu-id="41238-111">This is hello key point of using shared access signatures in your applications--a SAS is a secure way tooshare your storage resources without compromising your account keys.</span></span>

[!INCLUDE [storage-account-key-note-include](../../../includes/storage-account-key-note-include.md)]

<span data-ttu-id="41238-112">Bir SAS hello dahil olmak üzere SAS sahip tooclients vermek erişim hello türü üzerinde ayrıntılı denetim sağlar:</span><span class="sxs-lookup"><span data-stu-id="41238-112">A SAS gives you granular control over hello type of access you grant tooclients who have hello SAS, including:</span></span>

* <span data-ttu-id="41238-113">hello aralığı hangi hello SAS hello başlangıç saati ve hello sona erme saati dahil olmak üzere, geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="41238-113">hello interval over which hello SAS is valid, including hello start time and hello expiry time.</span></span>
* <span data-ttu-id="41238-114">SAS Hello tarafından hello izinler.</span><span class="sxs-lookup"><span data-stu-id="41238-114">hello permissions granted by hello SAS.</span></span> <span data-ttu-id="41238-115">Örneğin, bir blob için bir SAS okuma izni ve izinleri toothat blob yazma, ancak izinleri silmemeniz.</span><span class="sxs-lookup"><span data-stu-id="41238-115">For example, a SAS for a blob might grant read and write permissions toothat blob, but not delete permissions.</span></span>
* <span data-ttu-id="41238-116">İsteğe bağlı bir IP adresi veya Azure Storage kabul edeceği IP adresleri aralığı SAS hello.</span><span class="sxs-lookup"><span data-stu-id="41238-116">An optional IP address or range of IP addresses from which Azure Storage will accept hello SAS.</span></span> <span data-ttu-id="41238-117">Örneğin, tooyour kuruluş ait bir IP adresi aralığı belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-117">For example, you might specify a range of IP addresses belonging tooyour organization.</span></span>
* <span data-ttu-id="41238-118">Merhaba protokolü üzerinden Azure Storage hello SAS kabul eder.</span><span class="sxs-lookup"><span data-stu-id="41238-118">hello protocol over which Azure Storage will accept hello SAS.</span></span> <span data-ttu-id="41238-119">HTTPS kullanarak bu isteğe bağlı bir parametre toorestrict erişim tooclients kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-119">You can use this optional parameter toorestrict access tooclients using HTTPS.</span></span>

## <a name="when-should-you-use-a-shared-access-signature"></a><span data-ttu-id="41238-120">Ne zaman bir paylaşılan erişim imzası kullanmalısınız?</span><span class="sxs-lookup"><span data-stu-id="41238-120">When should you use a shared access signature?</span></span>
<span data-ttu-id="41238-121">Depolama hesabınızın erişim anahtarlarını işlediği değil, depolama hesabı tooany istemcisinde tooprovide erişim tooresources istediğinizde bir SAS kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-121">You can use a SAS when you want tooprovide access tooresources in your storage account tooany client not possessing your storage account's access keys.</span></span> <span data-ttu-id="41238-122">Depolama hesabınızı hem her ikisi de yönetici erişimi tooyour hesaba verin bir birincil ve ikincil erişim anahtarını ve içerdiği tüm kaynaklar içerir.</span><span class="sxs-lookup"><span data-stu-id="41238-122">Your storage account includes both a primary and secondary access key, both of which grant administrative access tooyour account, and all resources within it.</span></span> <span data-ttu-id="41238-123">Bu anahtarları birini gösterme, kötü amaçlı ya da ihmalkar kullanım hesap toohello olasılığını açılır.</span><span class="sxs-lookup"><span data-stu-id="41238-123">Exposing either of these keys opens your account toohello possibility of malicious or negligent use.</span></span> <span data-ttu-id="41238-124">Paylaşılan erişim imzaları tooread, yazma ve silme verilerini açıkça verilen toohello izinlerine göre depolama hesabınızda ve hesap anahtarı gereksinimi olmadan istemcilerin güvenli bir alternatif sunar.</span><span class="sxs-lookup"><span data-stu-id="41238-124">Shared access signatures provide a safe alternative that allows clients tooread, write, and delete data in your storage account according toohello permissions you've explicitly granted, and without need for an account key.</span></span>

<span data-ttu-id="41238-125">Bir SAS yararlı olduğu yaygın bir senaryo, kullanıcıların okuma ve yazma kendi veri tooyour depolama hesabı bir hizmettir.</span><span class="sxs-lookup"><span data-stu-id="41238-125">A common scenario where a SAS is useful is a service where users read and write their own data tooyour storage account.</span></span> <span data-ttu-id="41238-126">Bir depolama hesabı kullanıcı verilerini depoladığı bir senaryoda, iki tipik tasarım modeli vardır:</span><span class="sxs-lookup"><span data-stu-id="41238-126">In a scenario where a storage account stores user data, there are two typical design patterns:</span></span>

1. <span data-ttu-id="41238-127">İstemciler, indirin ve kimlik doğrulaması yapan bir ön uç proxy hizmeti aracılığıyla veri yükleyin.</span><span class="sxs-lookup"><span data-stu-id="41238-127">Clients upload and download data via a front-end proxy service, which performs authentication.</span></span> <span data-ttu-id="41238-128">Bu ön uç proxy hizmeti iş kuralları doğrulanması izin vererek hello avantajına sahiptir, ancak büyük miktarlarda veri veya yüksek hacimli işlemleri için toomatch talep ölçeklenebilen bir hizmet oluşturuluyor pahalı ya da zor olabilir.</span><span class="sxs-lookup"><span data-stu-id="41238-128">This front-end proxy service has hello advantage of allowing validation of business rules, but for large amounts of data or high-volume transactions, creating a service that can scale toomatch demand may be expensive or difficult.</span></span>

  ![Senaryo diyagramı: ön uç proxy hizmeti](./media/storage-dotnet-shared-access-signature-part-1/sas-storage-fe-proxy-service.png)   

1. <span data-ttu-id="41238-130">Basit bir hizmet hello istemci gerektiği şekilde doğrular ve ardından bir SAS oluşturur.</span><span class="sxs-lookup"><span data-stu-id="41238-130">A lightweight service authenticates hello client as needed and then generates a SAS.</span></span> <span data-ttu-id="41238-131">Merhaba SAS Hello istemci aldıktan sonra doğrudan hello SAS tarafından ve SAS hello tarafından izin verilen hello aralığı için tanımlanan hello izinlerine sahip depolama hesabı kaynaklarına erişebilir.</span><span class="sxs-lookup"><span data-stu-id="41238-131">Once hello client receives hello SAS, they can access storage account resources directly with hello permissions defined by hello SAS and for hello interval allowed by hello SAS.</span></span> <span data-ttu-id="41238-132">Merhaba SAS hello ön uç proxy hizmeti üzerinden tüm verileri yönlendirme hello gereksinimini azaltır.</span><span class="sxs-lookup"><span data-stu-id="41238-132">hello SAS mitigates hello need for routing all data through hello front-end proxy service.</span></span>

  ![Senaryo diyagramı: SAS sağlayıcı hizmeti](./media/storage-dotnet-shared-access-signature-part-1/sas-storage-provider-service.png)   

<span data-ttu-id="41238-134">Pek çok gerçek dünya hizmet bu iki yaklaşımdan karma kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="41238-134">Many real-world services may use a hybrid of these two approaches.</span></span> <span data-ttu-id="41238-135">Örneğin, bazı veriler işlenen ve diğer verileri kaydedilen ve/veya SAS kullanarak doğrudan okuma sırasında hello ön uç proxy doğrulanabilir.</span><span class="sxs-lookup"><span data-stu-id="41238-135">For example, some data might be processed and validated via hello front-end proxy, while other data is saved and/or read directly using SAS.</span></span>

<span data-ttu-id="41238-136">Ayrıca, belirli senaryolarda bir kopyalama işleminde SAS tooauthenticate hello kaynak nesne toouse gerekir:</span><span class="sxs-lookup"><span data-stu-id="41238-136">Additionally, you will need toouse a SAS tooauthenticate hello source object in a copy operation in certain scenarios:</span></span>

* <span data-ttu-id="41238-137">Farklı depolama hesabında bulunduğu bir blob tooanother blob kopyaladığınızda, SAS tooauthenticate hello kaynak blob kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="41238-137">When you copy a blob tooanother blob that resides in a different storage account, you must use a SAS tooauthenticate hello source blob.</span></span> <span data-ttu-id="41238-138">İsteğe bağlı olarak bir SAS tooauthenticate hello hedef blob de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-138">You can optionally use a SAS tooauthenticate hello destination blob as well.</span></span>
* <span data-ttu-id="41238-139">Farklı depolama hesabında bulunduğu bir dosya tooanother dosya kopyaladığınızda, SAS tooauthenticate hello kaynak dosyası kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="41238-139">When you copy a file tooanother file that resides in a different storage account, you must use a SAS tooauthenticate hello source file.</span></span> <span data-ttu-id="41238-140">İsteğe bağlı olarak bir SAS tooauthenticate hello hedef dosya de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-140">You can optionally use a SAS tooauthenticate hello destination file as well.</span></span>
* <span data-ttu-id="41238-141">Bir blob tooa dosyası veya dosya tooa blob kopyaladığınızda, hello kaynak ve hedef nesneler hello içinde aynı bulunurlar olsa bile bir SAS tooauthenticate hello kaynak nesnesi kullanmalısınız depolama hesabı.</span><span class="sxs-lookup"><span data-stu-id="41238-141">When you copy a blob tooa file, or a file tooa blob, you must use a SAS tooauthenticate hello source object, even if hello source and destination objects reside within hello same storage account.</span></span>

## <a name="types-of-shared-access-signatures"></a><span data-ttu-id="41238-142">Paylaşılan erişim imzaları türleri</span><span class="sxs-lookup"><span data-stu-id="41238-142">Types of shared access signatures</span></span>
<span data-ttu-id="41238-143">İki tür paylaşılan erişim imzası oluşturabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="41238-143">You can create two types of shared access signatures:</span></span>

* <span data-ttu-id="41238-144">**Hizmet SAS.**</span><span class="sxs-lookup"><span data-stu-id="41238-144">**Service SAS.**</span></span> <span data-ttu-id="41238-145">Merhaba hizmet SAS temsilciler erişim tooa kaynak yalnızca bir hello depolama hizmetleri: Blob, kuyruk, tablo veya dosya hizmeti hello.</span><span class="sxs-lookup"><span data-stu-id="41238-145">hello service SAS delegates access tooa resource in just one of hello storage services: hello Blob, Queue, Table, or File service.</span></span> <span data-ttu-id="41238-146">Bkz: [hizmet SAS oluşturma](https://msdn.microsoft.com/library/dn140255.aspx) ve [hizmet SAS örnekler](https://msdn.microsoft.com/library/dn140256.aspx) hello hizmet SAS belirteci oluşturma hakkında ayrıntılı bilgi.</span><span class="sxs-lookup"><span data-stu-id="41238-146">See [Constructing a Service SAS](https://msdn.microsoft.com/library/dn140255.aspx) and [Service SAS Examples](https://msdn.microsoft.com/library/dn140256.aspx) for in-depth information about constructing hello service SAS token.</span></span>
* <span data-ttu-id="41238-147">**Hesap SAS.**</span><span class="sxs-lookup"><span data-stu-id="41238-147">**Account SAS.**</span></span> <span data-ttu-id="41238-148">bir veya daha fazla hello depolama hizmet tooresources Hello hesap SAS temsilcileri erişin.</span><span class="sxs-lookup"><span data-stu-id="41238-148">hello account SAS delegates access tooresources in one or more of hello storage services.</span></span> <span data-ttu-id="41238-149">Tüm hizmet SAS kullanılabilir hello işlemlerinin de hesap SAS kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="41238-149">All of hello operations available via a service SAS are also available via an account SAS.</span></span> <span data-ttu-id="41238-150">Ayrıca, hello hesap SAS ile hizmeti gibi verilen tooa uygulamak erişim toooperations devredebilirsiniz **Get/Set hizmet özellikleri** ve **hizmeti istatistikleri almak**. Ayrıca, erişim tooread, yazma ve silme işlemleri blob kapsayıcılar, tablolar, kuyruklar ve hizmet SAS ile izin verilmiyor dosya paylaşımları üzerinde devredebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-150">Additionally, with hello account SAS, you can delegate access toooperations that apply tooa given service, such as **Get/Set Service Properties** and **Get Service Stats**. You can also delegate access tooread, write, and delete operations on blob containers, tables, queues, and file shares that are not permitted with a service SAS.</span></span> <span data-ttu-id="41238-151">Bkz: [bir hesap SAS oluşturma](https://msdn.microsoft.com/library/mt584140.aspx) hello hesap SAS belirteci oluşturma hakkında ayrıntılı bilgi.</span><span class="sxs-lookup"><span data-stu-id="41238-151">See [Constructing an Account SAS](https://msdn.microsoft.com/library/mt584140.aspx) for in-depth information about constructing hello account SAS token.</span></span>

## <a name="how-a-shared-access-signature-works"></a><span data-ttu-id="41238-152">Paylaşılan erişim imzası nasıl çalışır?</span><span class="sxs-lookup"><span data-stu-id="41238-152">How a shared access signature works</span></span>
<span data-ttu-id="41238-153">Paylaşılan erişim imzası tooone ya da daha fazla depolama kaynaklarını işaret ve özel bir sorgu parametreleri kümesini içeren bir belirteç içeren imzalı bir URI değil.</span><span class="sxs-lookup"><span data-stu-id="41238-153">A shared access signature is a signed URI that points tooone or more storage resources and includes a token that contains a special set of query parameters.</span></span> <span data-ttu-id="41238-154">Merhaba belirteci nasıl hello istemci tarafından hello kaynaklara erişebilir gösterir.</span><span class="sxs-lookup"><span data-stu-id="41238-154">hello token indicates how hello resources may be accessed by hello client.</span></span> <span data-ttu-id="41238-155">Merhaba sorgu parametrelerden biri, imza Merhaba, hello SAS parametrelerinden oluşturulur ve hello hesap anahtarı ile imzalanmış.</span><span class="sxs-lookup"><span data-stu-id="41238-155">One of hello query parameters, hello signature, is constructed from hello SAS parameters and signed with hello account key.</span></span> <span data-ttu-id="41238-156">Bu imza Azure Storage tooauthenticate hello SAS tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="41238-156">This signature is used by Azure Storage tooauthenticate hello SAS.</span></span>

<span data-ttu-id="41238-157">Bir SAS URI'sini, gösteren hello kaynak URI'si ve hello SAS belirteci bir örneği burada verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="41238-157">Here's an example of a SAS URI, showing hello resource URI and hello SAS token:</span></span>

![SAS URI'sini bileşenleri](./media/storage-dotnet-shared-access-signature-part-1/sas-storage-uri.png)   

<span data-ttu-id="41238-159">Merhaba SAS belirteci hello üzerinde oluşturduğunuz bir dizedir *istemci* yan (Merhaba bkz [SAS örnekler](#sas-examples) bölüm kod örnekleri için).</span><span class="sxs-lookup"><span data-stu-id="41238-159">hello SAS token is a string you generate on hello *client* side (see hello [SAS examples](#sas-examples) section for code examples).</span></span> <span data-ttu-id="41238-160">Merhaba depolama istemci kitaplığı ile oluşturduğunuz bir SAS belirteci Örneğin, Azure Storage tarafından herhangi bir şekilde izlenmez.</span><span class="sxs-lookup"><span data-stu-id="41238-160">A SAS token you generate with hello storage client library, for example, is not tracked by Azure Storage in any way.</span></span> <span data-ttu-id="41238-161">SAS belirteci sınırsız sayıda hello istemci tarafında oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-161">You can create an unlimited number of SAS tokens on hello client side.</span></span>

<span data-ttu-id="41238-162">Bir istemci isteğinin bir parçası bir SAS URI'sini tooAzure depolama sağladığında, hello hizmeti hello SAS parametreleri ve imza tooverify hello isteği kimlik doğrulaması için geçerli olduğunu denetler.</span><span class="sxs-lookup"><span data-stu-id="41238-162">When a client provides a SAS URI tooAzure Storage as part of a request, hello service checks hello SAS parameters and signature tooverify that it is valid for authenticating hello request.</span></span> <span data-ttu-id="41238-163">Merhaba hizmeti bu hello imza geçerli doğrularsa hello isteği doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="41238-163">If hello service verifies that hello signature is valid, then hello request is authenticated.</span></span> <span data-ttu-id="41238-164">Aksi takdirde, 403 (Yasak) hata koduyla hello isteği reddedildi.</span><span class="sxs-lookup"><span data-stu-id="41238-164">Otherwise, hello request is declined with error code 403 (Forbidden).</span></span>

## <a name="shared-access-signature-parameters"></a><span data-ttu-id="41238-165">Paylaşılan erişim imzası parametreleri</span><span class="sxs-lookup"><span data-stu-id="41238-165">Shared access signature parameters</span></span>
<span data-ttu-id="41238-166">Hello hesap SAS ve hizmet SAS belirteci bazı ortak parametreler içerir ve ayrıca bazı parametreler farklı alın.</span><span class="sxs-lookup"><span data-stu-id="41238-166">hello account SAS and service SAS tokens include some common parameters, and also take a few parameters that that are different.</span></span>

### <a name="parameters-common-tooaccount-sas-and-service-sas-tokens"></a><span data-ttu-id="41238-167">Parametreleri ortak tooaccount SAS ve hizmet SAS belirteci</span><span class="sxs-lookup"><span data-stu-id="41238-167">Parameters common tooaccount SAS and service SAS tokens</span></span>
* <span data-ttu-id="41238-168">**API sürümü** hello depolama hizmeti sürüm toouse tooexecute hello isteğini belirten isteğe bağlı bir parametre.</span><span class="sxs-lookup"><span data-stu-id="41238-168">**Api version** An optional parameter that specifies hello storage service version toouse tooexecute hello request.</span></span>
* <span data-ttu-id="41238-169">**Hizmet sürümünü** hello depolama hizmeti sürüm toouse tooauthenticate hello isteğini belirten gerekli bir parametre.</span><span class="sxs-lookup"><span data-stu-id="41238-169">**Service version** A required parameter that specifies hello storage service version toouse tooauthenticate hello request.</span></span>
* <span data-ttu-id="41238-170">**Başlangıç zamanı.**</span><span class="sxs-lookup"><span data-stu-id="41238-170">**Start time.**</span></span> <span data-ttu-id="41238-171">Bu hangi hello SAS geçerli hale geldiği hello zamandır.</span><span class="sxs-lookup"><span data-stu-id="41238-171">This is hello time at which hello SAS becomes valid.</span></span> <span data-ttu-id="41238-172">paylaşılan erişim imzası için Hello başlangıç saati isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="41238-172">hello start time for a shared access signature is optional.</span></span> <span data-ttu-id="41238-173">Bir başlangıç saati atlanırsa hello SAS hemen etkili olur.</span><span class="sxs-lookup"><span data-stu-id="41238-173">If a start time is omitted, hello SAS is effective immediately.</span></span> <span data-ttu-id="41238-174">Merhaba başlangıç saati UTC (Eşgüdümlü Evrensel Saat), bir özel UTC göstergesi ("Z") ile örneğin ifade edilmesi gerekir `1994-11-05T13:15:30Z`.</span><span class="sxs-lookup"><span data-stu-id="41238-174">hello start time must be expressed in UTC (Coordinated Universal Time), with a special UTC designator ("Z"), for example `1994-11-05T13:15:30Z`.</span></span>
* <span data-ttu-id="41238-175">**Sona erme saati.**</span><span class="sxs-lookup"><span data-stu-id="41238-175">**Expiry time.**</span></span> <span data-ttu-id="41238-176">Bu sonra hello SAS artık geçerli olmayan hello zamandır.</span><span class="sxs-lookup"><span data-stu-id="41238-176">This is hello time after which hello SAS is no longer valid.</span></span> <span data-ttu-id="41238-177">En iyi uygulamalar için bir SAS bir sona erme saati belirtin veya bir saklı erişim ilkesi ile ilişkilendirebilirsiniz öneririz.</span><span class="sxs-lookup"><span data-stu-id="41238-177">Best practices recommend that you either specify an expiry time for a SAS, or associate it with a stored access policy.</span></span> <span data-ttu-id="41238-178">Merhaba sona erme saati UTC (Eşgüdümlü Evrensel Saat), bir özel UTC göstergesi ("Z") ile örneğin ifade edilmesi gerekir `1994-11-05T13:15:30Z` (daha aşağıya bakın).</span><span class="sxs-lookup"><span data-stu-id="41238-178">hello expiry time must be expressed in UTC (Coordinated Universal Time), with a special UTC designator ("Z"), for example `1994-11-05T13:15:30Z` (see more below).</span></span>
* <span data-ttu-id="41238-179">**İzinler.**</span><span class="sxs-lookup"><span data-stu-id="41238-179">**Permissions.**</span></span> <span data-ttu-id="41238-180">SAS Hello üzerinde belirtilen hello izinlerini hello istemci hello depolama kaynağı karşı hello SAS kullanarak gerçekleştirebilirsiniz hangi işlemleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="41238-180">hello permissions specified on hello SAS indicate what operations hello client can perform against hello storage resource using hello SAS.</span></span> <span data-ttu-id="41238-181">İzinleri hesap SAS ve hizmet SAS için farklıdır.</span><span class="sxs-lookup"><span data-stu-id="41238-181">Available permissions differ for an account SAS and a service SAS.</span></span>
* <span data-ttu-id="41238-182">**IP.**</span><span class="sxs-lookup"><span data-stu-id="41238-182">**IP.**</span></span> <span data-ttu-id="41238-183">Bir IP adresi veya bir IP adresi aralığı Azure dışında belirten isteğe bağlı bir parametre (Merhaba bölümüne bakın [yönlendirme oturum yapılandırma durumu](../../expressroute/expressroute-workflows.md#routing-session-configuration-state) hızlı rota için) hangi tooaccept istekler.</span><span class="sxs-lookup"><span data-stu-id="41238-183">An optional parameter that specifies an IP address or a range of IP addresses outside of Azure (see hello section [Routing session configuration state](../../expressroute/expressroute-workflows.md#routing-session-configuration-state) for Express Route) from which tooaccept requests.</span></span>
* <span data-ttu-id="41238-184">**Protokol.**</span><span class="sxs-lookup"><span data-stu-id="41238-184">**Protocol.**</span></span> <span data-ttu-id="41238-185">Hello protokolü belirten isteğe bağlı parametresi bir istek için izin verilir.</span><span class="sxs-lookup"><span data-stu-id="41238-185">An optional parameter that specifies hello protocol permitted for a request.</span></span> <span data-ttu-id="41238-186">Olası değerler şunlardır: HTTPS ve HTTP (`https,http`), olduğu hello varsayılan değer veya HTTPS yalnızca (`https`).</span><span class="sxs-lookup"><span data-stu-id="41238-186">Possible values are both HTTPS and HTTP (`https,http`), which is hello default value, or HTTPS only (`https`).</span></span> <span data-ttu-id="41238-187">HTTP yalnızca izin verilen değeri olmadığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="41238-187">Note that HTTP only is not a permitted value.</span></span>
* <span data-ttu-id="41238-188">**İmza.**</span><span class="sxs-lookup"><span data-stu-id="41238-188">**Signature.**</span></span> <span data-ttu-id="41238-189">Merhaba imza hello oluşturulan diğer parametreleri bölümü belirteci olarak belirtilen ve sonra da şifrelenir.</span><span class="sxs-lookup"><span data-stu-id="41238-189">hello signature is constructed from hello other parameters specified as part token and then encrypted.</span></span> <span data-ttu-id="41238-190">Tooauthenticate hello SAS kullandı.</span><span class="sxs-lookup"><span data-stu-id="41238-190">It's used tooauthenticate hello SAS.</span></span>

### <a name="parameters-for-a-service-sas-token"></a><span data-ttu-id="41238-191">Hizmet SAS belirteci için parametreler</span><span class="sxs-lookup"><span data-stu-id="41238-191">Parameters for a service SAS token</span></span>
* <span data-ttu-id="41238-192">**Depolama kaynağı.**</span><span class="sxs-lookup"><span data-stu-id="41238-192">**Storage resource.**</span></span> <span data-ttu-id="41238-193">Bir hizmeti ile erişim devredebilirsiniz depolama kaynaklarını SAS şunlardır:</span><span class="sxs-lookup"><span data-stu-id="41238-193">Storage resources for which you can delegate access with a service SAS include:</span></span>
  * <span data-ttu-id="41238-194">Kapsayıcılar ve bloblar</span><span class="sxs-lookup"><span data-stu-id="41238-194">Containers and blobs</span></span>
  * <span data-ttu-id="41238-195">Dosya paylaşımları ve dosyaları</span><span class="sxs-lookup"><span data-stu-id="41238-195">File shares and files</span></span>
  * <span data-ttu-id="41238-196">Kuyruklar</span><span class="sxs-lookup"><span data-stu-id="41238-196">Queues</span></span>
  * <span data-ttu-id="41238-197">Tabloları ve tablo varlıkları aralıkları.</span><span class="sxs-lookup"><span data-stu-id="41238-197">Tables and ranges of table entities.</span></span>

### <a name="parameters-for-an-account-sas-token"></a><span data-ttu-id="41238-198">Bir hesap SAS belirteci için parametreler</span><span class="sxs-lookup"><span data-stu-id="41238-198">Parameters for an account SAS token</span></span>
* <span data-ttu-id="41238-199">**Hizmet veya hizmetleri.**</span><span class="sxs-lookup"><span data-stu-id="41238-199">**Service or services.**</span></span> <span data-ttu-id="41238-200">Hesap SAS erişim tooone veya daha fazla hello depolama hizmet devredebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-200">An account SAS can delegate access tooone or more of hello storage services.</span></span> <span data-ttu-id="41238-201">Örneğin, temsilciler toohello Blob ve dosya hizmetine erişim hesap SAS oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-201">For example, you can create an account SAS that delegates access toohello Blob and File service.</span></span> <span data-ttu-id="41238-202">Veya temsilciler tooall dört Hizmetleri (Blob, kuyruk, tablo ve dosya) erişim SAS oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-202">Or you can create a SAS that delegates access tooall four services (Blob, Queue, Table, and File).</span></span>
* <span data-ttu-id="41238-203">**Depolama kaynak türleri.**</span><span class="sxs-lookup"><span data-stu-id="41238-203">**Storage resource types.**</span></span> <span data-ttu-id="41238-204">Hesap SAS tooone veya belirli bir kaynak yerine depolama kaynaklarını daha fazla sınıflar için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="41238-204">An account SAS applies tooone or more classes of storage resources, rather than a specific resource.</span></span> <span data-ttu-id="41238-205">Bir hesap SAS toodelegate erişim oluşturabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="41238-205">You can create an account SAS toodelegate access to:</span></span>
  * <span data-ttu-id="41238-206">Hizmet düzeyi API'leri karşı hello depolama hesabı kaynağı olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="41238-206">Service-level APIs, which are called against hello storage account resource.</span></span> <span data-ttu-id="41238-207">Örnekler **Get/Set hizmet özellikleri**, **alma hizmeti istatistikleri**, ve **kapsayıcıları/sıraları/tablolar/paylaşımları**.</span><span class="sxs-lookup"><span data-stu-id="41238-207">Examples include **Get/Set Service Properties**, **Get Service Stats**, and **List Containers/Queues/Tables/Shares**.</span></span>
  * <span data-ttu-id="41238-208">Her hizmet için hello kapsayıcı nesneleri karşı çağrılan kapsayıcı düzeyi API'leri: blob kapsayıcılar, kuyruklar, tablolar ve dosya paylaşımları.</span><span class="sxs-lookup"><span data-stu-id="41238-208">Container-level APIs, which are called against hello container objects for each service: blob containers, queues, tables, and file shares.</span></span> <span data-ttu-id="41238-209">Örnekler **oluşturma/silme kapsayıcı**, **oluşturma/silme sıra**, **oluşturma/silme tablo**, **oluşturma/silme paylaşımı**, ve **listesi BLOB'lar/dosyaları ve dizinleri**.</span><span class="sxs-lookup"><span data-stu-id="41238-209">Examples include **Create/Delete Container**, **Create/Delete Queue**, **Create/Delete Table**, **Create/Delete Share**, and **List Blobs/Files and Directories**.</span></span>
  * <span data-ttu-id="41238-210">BLOB, kuyruk iletileri, tablo varlıkları ve dosyaları karşı adlı nesne düzeyinde API'leri.</span><span class="sxs-lookup"><span data-stu-id="41238-210">Object-level APIs, which are called against blobs, queue messages, table entities, and files.</span></span> <span data-ttu-id="41238-211">Örneğin, **Put Blob**, **sorgu varlık**, **iletileri almak**, ve **dosyası oluştur**.</span><span class="sxs-lookup"><span data-stu-id="41238-211">For example, **Put Blob**, **Query Entity**, **Get Messages**, and **Create File**.</span></span>

## <a name="examples-of-sas-uris"></a><span data-ttu-id="41238-212">SAS URI'ler örnekleri</span><span class="sxs-lookup"><span data-stu-id="41238-212">Examples of SAS URIs</span></span>

### <a name="service-sas-uri-example"></a><span data-ttu-id="41238-213">Hizmet SAS URİ'si örneği</span><span class="sxs-lookup"><span data-stu-id="41238-213">Service SAS URI example</span></span>

<span data-ttu-id="41238-214">Bir hizmet sağlar SAS URI'sini okuma ve yazma izinleri tooa blob bir örneği burada verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="41238-214">Here is an example of a service SAS URI that provides read and write permissions tooa blob.</span></span> <span data-ttu-id="41238-215">Merhaba tablo nasıl toohello SAS katkıda bulunan hello URI toounderstand her parçası keser:</span><span class="sxs-lookup"><span data-stu-id="41238-215">hello table breaks down each part of hello URI toounderstand how it contributes toohello SAS:</span></span>

```
https://myaccount.blob.core.windows.net/sascontainer/sasblob.txt?sv=2015-04-05&st=2015-04-29T22%3A18%3A26Z&se=2015-04-30T02%3A23%3A26Z&sr=b&sp=rw&sip=168.1.5.60-168.1.5.70&spr=https&sig=Z%2FRHIX5Xcg0Mq2rqI3OlWTjEg2tYkboXr1P9ZUXDtkk%3D
```

| <span data-ttu-id="41238-216">Ad</span><span class="sxs-lookup"><span data-stu-id="41238-216">Name</span></span> | <span data-ttu-id="41238-217">SAS bölümü</span><span class="sxs-lookup"><span data-stu-id="41238-217">SAS portion</span></span> | <span data-ttu-id="41238-218">Açıklama</span><span class="sxs-lookup"><span data-stu-id="41238-218">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="41238-219">BLOB URI'si</span><span class="sxs-lookup"><span data-stu-id="41238-219">Blob URI</span></span> |`https://myaccount.blob.core.windows.net/sascontainer/sasblob.txt` |<span data-ttu-id="41238-220">Merhaba blob Hello adresi.</span><span class="sxs-lookup"><span data-stu-id="41238-220">hello address of hello blob.</span></span> <span data-ttu-id="41238-221">HTTPS kullanarak önerilir unutmayın.</span><span class="sxs-lookup"><span data-stu-id="41238-221">Note that using HTTPS is highly recommended.</span></span> |
| <span data-ttu-id="41238-222">Depolama Hizmetleri sürümü</span><span class="sxs-lookup"><span data-stu-id="41238-222">Storage services version</span></span> |`sv=2015-04-05` |<span data-ttu-id="41238-223">Depolama Hizmetleri sürüm 2012-02-12 ve daha sonra bu parametre hello sürüm toouse gösterir.</span><span class="sxs-lookup"><span data-stu-id="41238-223">For storage services version 2012-02-12 and later, this parameter indicates hello version toouse.</span></span> |
| <span data-ttu-id="41238-224">Başlangıç zamanı</span><span class="sxs-lookup"><span data-stu-id="41238-224">Start time</span></span> |`st=2015-04-29T22%3A18%3A26Z` |<span data-ttu-id="41238-225">UTC saati belirtilmiş.</span><span class="sxs-lookup"><span data-stu-id="41238-225">Specified in UTC time.</span></span> <span data-ttu-id="41238-226">Merhaba SAS toobe geçerli hemen isterseniz, hello başlangıç saati atlayın.</span><span class="sxs-lookup"><span data-stu-id="41238-226">If you want hello SAS toobe valid immediately, omit hello start time.</span></span> |
| <span data-ttu-id="41238-227">Sona erme saati</span><span class="sxs-lookup"><span data-stu-id="41238-227">Expiry time</span></span> |`se=2015-04-30T02%3A23%3A26Z` |<span data-ttu-id="41238-228">UTC saati belirtilmiş.</span><span class="sxs-lookup"><span data-stu-id="41238-228">Specified in UTC time.</span></span> |
| <span data-ttu-id="41238-229">Kaynak</span><span class="sxs-lookup"><span data-stu-id="41238-229">Resource</span></span> |`sr=b` |<span data-ttu-id="41238-230">Merhaba, bir blob kaynaktır.</span><span class="sxs-lookup"><span data-stu-id="41238-230">hello resource is a blob.</span></span> |
| <span data-ttu-id="41238-231">İzinler</span><span class="sxs-lookup"><span data-stu-id="41238-231">Permissions</span></span> |`sp=rw` |<span data-ttu-id="41238-232">SAS Hello tarafından hello izinler ve yazma (w) Read (r) içerir.</span><span class="sxs-lookup"><span data-stu-id="41238-232">hello permissions granted by hello SAS include Read (r) and Write (w).</span></span> |
| <span data-ttu-id="41238-233">IP aralığı</span><span class="sxs-lookup"><span data-stu-id="41238-233">IP range</span></span> |`sip=168.1.5.60-168.1.5.70` |<span data-ttu-id="41238-234">bir isteği kabul edilecek hello IP adresleri aralığı.</span><span class="sxs-lookup"><span data-stu-id="41238-234">hello range of IP addresses from which a request will be accepted.</span></span> |
| <span data-ttu-id="41238-235">Protokol</span><span class="sxs-lookup"><span data-stu-id="41238-235">Protocol</span></span> |`spr=https` |<span data-ttu-id="41238-236">Yalnızca HTTPS kullanarak isteklerine izin verilir.</span><span class="sxs-lookup"><span data-stu-id="41238-236">Only requests using HTTPS are permitted.</span></span> |
| <span data-ttu-id="41238-237">İmza</span><span class="sxs-lookup"><span data-stu-id="41238-237">Signature</span></span> |`sig=Z%2FRHIX5Xcg0Mq2rqI3OlWTjEg2tYkboXr1P9ZUXDtkk%3D` |<span data-ttu-id="41238-238">Tooauthenticate erişim toohello blobu kullanılır.</span><span class="sxs-lookup"><span data-stu-id="41238-238">Used tooauthenticate access toohello blob.</span></span> <span data-ttu-id="41238-239">Merhaba imza dize oturum ve hello SHA256 algoritmasını kullanarak anahtarı üzerinden hesaplanır ve Base64 kodlama kullanılarak kodlanan bir HMAC değil.</span><span class="sxs-lookup"><span data-stu-id="41238-239">hello signature is an HMAC computed over a string-to-sign and key using hello SHA256 algorithm, and then encoded using Base64 encoding.</span></span> |

### <a name="account-sas-uri-example"></a><span data-ttu-id="41238-240">Hesap SAS URI'sini örneği</span><span class="sxs-lookup"><span data-stu-id="41238-240">Account SAS URI example</span></span>

<span data-ttu-id="41238-241">Hesap SAS kullandığı aynı ortak parametreler hello belirtecine hello örneği aşağıda verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="41238-241">Here is an example of an account SAS that uses hello same common parameters on hello token.</span></span> <span data-ttu-id="41238-242">Bu parametreler, yukarıda açıklanan olduğundan, burada açıklanmamaktadır.</span><span class="sxs-lookup"><span data-stu-id="41238-242">Since these parameters are described above, they are not described here.</span></span> <span data-ttu-id="41238-243">Yalnızca Merhaba, SAS hello aşağıdaki tabloda açıklanan belirli tooaccount parametreleridir.</span><span class="sxs-lookup"><span data-stu-id="41238-243">Only hello parameters that are specific tooaccount SAS are described in hello table below.</span></span>

```
https://myaccount.blob.core.windows.net/?restype=service&comp=properties&sv=2015-04-05&ss=bf&srt=s&st=2015-04-29T22%3A18%3A26Z&se=2015-04-30T02%3A23%3A26Z&sr=b&sp=rw&sip=168.1.5.60-168.1.5.70&spr=https&sig=F%6GRVAZ5Cdj2Pw4tgU7IlSTkWgn7bUkkAg8P6HESXwmf%4B
```

| <span data-ttu-id="41238-244">Ad</span><span class="sxs-lookup"><span data-stu-id="41238-244">Name</span></span> | <span data-ttu-id="41238-245">SAS bölümü</span><span class="sxs-lookup"><span data-stu-id="41238-245">SAS portion</span></span> | <span data-ttu-id="41238-246">Açıklama</span><span class="sxs-lookup"><span data-stu-id="41238-246">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="41238-247">Kaynak URI'si</span><span class="sxs-lookup"><span data-stu-id="41238-247">Resource URI</span></span> |`https://myaccount.blob.core.windows.net/?restype=service&comp=properties` |<span data-ttu-id="41238-248">Merhaba Blob Hizmeti uç noktası, (GET ile çağrıldığında) hizmeti özelliklerini alma veya (KÜMESİYLE çağrıldığında) hizmet özelliklerini ayarlama parametrelere sahip.</span><span class="sxs-lookup"><span data-stu-id="41238-248">hello Blob service endpoint, with parameters for getting service properties (when called with GET) or setting service properties (when called with SET).</span></span> |
| <span data-ttu-id="41238-249">Hizmetler</span><span class="sxs-lookup"><span data-stu-id="41238-249">Services</span></span> |`ss=bf` |<span data-ttu-id="41238-250">Merhaba SAS toohello Blob ve Dosya Hizmetleri için geçerlidir</span><span class="sxs-lookup"><span data-stu-id="41238-250">hello SAS applies toohello Blob and File services</span></span> |
| <span data-ttu-id="41238-251">Kaynak türleri</span><span class="sxs-lookup"><span data-stu-id="41238-251">Resource types</span></span> |`srt=s` |<span data-ttu-id="41238-252">Merhaba SAS tooservice düzeyindeki işlemleri uygular.</span><span class="sxs-lookup"><span data-stu-id="41238-252">hello SAS applies tooservice-level operations.</span></span> |
| <span data-ttu-id="41238-253">İzinler</span><span class="sxs-lookup"><span data-stu-id="41238-253">Permissions</span></span> |`sp=rw` |<span data-ttu-id="41238-254">Merhaba izinler erişim tooread vermek ve yazma işlemleri.</span><span class="sxs-lookup"><span data-stu-id="41238-254">hello permissions grant access tooread and write operations.</span></span> |

<span data-ttu-id="41238-255">İzinler sınırlı olduğuna toohello hizmet düzeyi, bu SAS erişilebilir işlemleriyle olan **Blob hizmeti özellik alma** (okuma) ve **Blob hizmeti özelliklerini ayarla** (yazma).</span><span class="sxs-lookup"><span data-stu-id="41238-255">Given that permissions are restricted toohello service level, accessible operations with this SAS are **Get Blob Service Properties** (read) and **Set Blob Service Properties** (write).</span></span> <span data-ttu-id="41238-256">Bununla birlikte, farklı olan bir kaynak URI, hello aynı SAS belirteci de etkilenebilir toodelegate erişimi çok kullanılan**Blob hizmeti istatistikleri almak** (okuma).</span><span class="sxs-lookup"><span data-stu-id="41238-256">However, with a different resource URI, hello same SAS token could also be used toodelegate access too**Get Blob Service Stats** (read).</span></span>

## <a name="controlling-a-sas-with-a-stored-access-policy"></a><span data-ttu-id="41238-257">Bir SAS depolanmış erişim ilkesi ile denetleme</span><span class="sxs-lookup"><span data-stu-id="41238-257">Controlling a SAS with a stored access policy</span></span>
<span data-ttu-id="41238-258">Paylaşılan erişim imzası iki biçimlerden birini gerçekleştirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="41238-258">A shared access signature can take one of two forms:</span></span>

* <span data-ttu-id="41238-259">**Geçici SAS:** oluştururken bir geçici SAS hello başlangıç zamanı, bitiş saati ve hello SAS izinlerini tüm belirtilir SAS URI'sini hello (veya kapsanan, başlangıç saati burada atlanırsa hello durumda).</span><span class="sxs-lookup"><span data-stu-id="41238-259">**Ad hoc SAS:** When you create an ad hoc SAS, hello start time, expiry time, and permissions for hello SAS are all specified in hello SAS URI (or implied, in hello case where start time is omitted).</span></span> <span data-ttu-id="41238-260">Bu tür bir SAS hesap SAS veya hizmet SAS olarak oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="41238-260">This type of SAS can be created as an account SAS or a service SAS.</span></span>
* <span data-ttu-id="41238-261">**Saklı erişim ilkesi ile SAS:** depolanmış erişim ilkesi bir kaynak kapsayıcı--bir blob kapsayıcısını tanımlanır, tablo, kuyruk, veya dosya paylaşımı--ve bir veya daha fazla paylaşılan erişim imzalar için kullanılan toomanage kısıtlamaları olabilir.</span><span class="sxs-lookup"><span data-stu-id="41238-261">**SAS with stored access policy:** A stored access policy is defined on a resource container--a blob container, table, queue, or file share--and can be used toomanage constraints for one or more shared access signatures.</span></span> <span data-ttu-id="41238-262">Bir SAS depolanmış erişim ilkesi ile ilişkilendirdiğinizde, hello SAS hello kısıtlamaları--hello başlangıç saati, sona erme saati ve depolanan hello erişim ilkesi için tanımlanan izinleri--devralır.</span><span class="sxs-lookup"><span data-stu-id="41238-262">When you associate a SAS with a stored access policy, hello SAS inherits hello constraints--hello start time, expiry time, and permissions--defined for hello stored access policy.</span></span>

> [!NOTE]
> <span data-ttu-id="41238-263">Şu anda hesap SAS geçici bir SAS olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="41238-263">Currently, an account SAS must be an ad hoc SAS.</span></span> <span data-ttu-id="41238-264">Depolanmış. erişim ilkeleri SA hesabı için henüz desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="41238-264">Stored access policies are not yet supported for account SAS.</span></span>

<span data-ttu-id="41238-265">Merhaba fark hello iki formlar arasında önemli bir senaryo için önemlidir: iptal.</span><span class="sxs-lookup"><span data-stu-id="41238-265">hello difference between hello two forms is important for one key scenario: revocation.</span></span> <span data-ttu-id="41238-266">Bir SAS URI'si bir URL olduğundan hello alacağı herhangi bir kişi SAS, kimin ilk oluşturulduğu bağımsız olarak kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-266">Because a SAS URI is a URL, anyone that obtains hello SAS can use it, regardless of who originally created it.</span></span> <span data-ttu-id="41238-267">Bir SAS yayımlandığını, hello world herkes tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="41238-267">If a SAS is published publicly, it can be used by anyone in hello world.</span></span> <span data-ttu-id="41238-268">Dört özelliklerinden biri işlem yapılana kadar işlediği bir SAS verir erişim tooresources tooanyone:</span><span class="sxs-lookup"><span data-stu-id="41238-268">A SAS grants access tooresources tooanyone possessing it until one of four things happens:</span></span>

1. <span data-ttu-id="41238-269">SAS ulaşıldığında hello üzerinde belirtilen hello bitiş saati.</span><span class="sxs-lookup"><span data-stu-id="41238-269">hello expiry time specified on hello SAS is reached.</span></span>
2. <span data-ttu-id="41238-270">SAS (depolanmış erişim ilkesi başvurulduğunda ve bir süre sonu zamanı belirtiyorsa) ulaşıldığında hello tarafından başvurulan depolanan hello erişim ilkesinde belirtilen hello bitiş saati.</span><span class="sxs-lookup"><span data-stu-id="41238-270">hello expiry time specified on hello stored access policy referenced by hello SAS is reached (if a stored access policy is referenced, and if it specifies an expiry time).</span></span> <span data-ttu-id="41238-271">Bu, başlangıç aralığı sona erdiğinde olduğundan veya tek yönlü toorevoke hello SAS olan depolanan hello erişim ilkesi hello geçmiş, içinde bir sona erme saati ile değiştirdiğinden ortaya çıkabilir.</span><span class="sxs-lookup"><span data-stu-id="41238-271">This can occur either because hello interval elapses, or because you've modified hello stored access policy with an expiry time in hello past, which is one way toorevoke hello SAS.</span></span>
3. <span data-ttu-id="41238-272">Merhaba, başka bir şekilde toorevoke hello SAS SAS silinir, hello tarafından başvurulan erişim ilkesi depolanır.</span><span class="sxs-lookup"><span data-stu-id="41238-272">hello stored access policy referenced by hello SAS is deleted, which is another way toorevoke hello SAS.</span></span> <span data-ttu-id="41238-273">Depolanan hello erişim ilkesi ile tam olarak yeniden aynı adı, tüm mevcut SAS hello açtıysanız belirteçler yeniden geçerli according toohello izinleri ile ilişkili olabilir (Bu SAS değil geçtikten hello hello bitiş zamanında varsayılarak) Bu saklı erişim ilkesi.</span><span class="sxs-lookup"><span data-stu-id="41238-273">Note that if you recreate hello stored access policy with exactly hello same name, all existing SAS tokens will again be valid according toohello permissions associated with that stored access policy (assuming that hello expiry time on hello SAS has not passed).</span></span> <span data-ttu-id="41238-274">Toorevoke hello SAS amaçlanıyorsa hello erişim ilkesi hello gelecekteki içinde bir sona erme saati ile yeniden farklı bir ad emin toouse olması.</span><span class="sxs-lookup"><span data-stu-id="41238-274">If you are intending toorevoke hello SAS, be sure toouse a different name if you recreate hello access policy with an expiry time in hello future.</span></span>
4. <span data-ttu-id="41238-275">kullanılan toocreate hello SAS olduğu hello hesap anahtarını yeniden oluşturur.</span><span class="sxs-lookup"><span data-stu-id="41238-275">hello account key that was used toocreate hello SAS is regenerated.</span></span> <span data-ttu-id="41238-276">Hesap anahtarı yeniden oluşturuluyor edilirse, bu anahtar toofail tooauthenticate kullanarak tüm uygulama bileşenleri güncelleştirilmiş kadar toouse ya da hello diğer geçerli hesap anahtarı veya hello yeni yeniden hesap anahtarı.</span><span class="sxs-lookup"><span data-stu-id="41238-276">Regenerating an account key will cause all application components using that key toofail tooauthenticate until they're updated toouse either hello other valid account key or hello newly regenerated account key.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="41238-277">Paylaşılan erişim imzası URI hello hesabı anahtar kullanılan toocreate hello imza ile ilişkili ve hello depolanmış erişim ilkesi (varsa) ilişkili.</span><span class="sxs-lookup"><span data-stu-id="41238-277">A shared access signature URI is associated with hello account key used toocreate hello signature, and hello associated stored access policy (if any).</span></span> <span data-ttu-id="41238-278">Hiçbir depolanmış erişim ilkesi belirtilirse, hello yalnızca yolu toorevoke paylaşılan erişim imzası toochange hello hesap anahtardır.</span><span class="sxs-lookup"><span data-stu-id="41238-278">If no stored access policy is specified, hello only way toorevoke a shared access signature is toochange hello account key.</span></span>

## <a name="authenticating-from-a-client-application-with-a-sas"></a><span data-ttu-id="41238-279">Bir istemci uygulamadan bir SAS ile kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="41238-279">Authenticating from a client application with a SAS</span></span>
<span data-ttu-id="41238-280">Bir SAS elinde olan bir istemci hello SAS tooauthenticate bir isteği hello hesabı anahtarları sahip olmayan bir depolama hesabı kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-280">A client who is in possession of a SAS can use hello SAS tooauthenticate a request against a storage account for which they do not possess hello account keys.</span></span> <span data-ttu-id="41238-281">Bir SAS bağlantı dizesi ile birlikte veya doğrudan hello uygun oluşturucunun ya da yöntemi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="41238-281">A SAS can be included in a connection string, or used directly from hello appropriate constructor or method.</span></span>

### <a name="using-a-sas-in-a-connection-string"></a><span data-ttu-id="41238-282">Bir SAS bağlantı dizesiyle</span><span class="sxs-lookup"><span data-stu-id="41238-282">Using a SAS in a connection string</span></span>
[!INCLUDE [storage-use-sas-in-connection-string-include](../../../includes/storage-use-sas-in-connection-string-include.md)]

### <a name="using-a-sas-in-a-constructor-or-method"></a><span data-ttu-id="41238-283">SAS Oluşturucusu veya yöntemi kullanarak</span><span class="sxs-lookup"><span data-stu-id="41238-283">Using a SAS in a constructor or method</span></span>
<span data-ttu-id="41238-284">İstek toohello hizmet SAS ile doğrulanabilmesi birkaç Azure Storage istemci kitaplığı oluşturucular ve yöntemi aşırı bir SAS parametre sunar.</span><span class="sxs-lookup"><span data-stu-id="41238-284">Several Azure Storage client library constructors and method overloads offer a SAS parameter, so that you can authenticate a request toohello service with a SAS.</span></span>

<span data-ttu-id="41238-285">Örneğin, burada bir SAS URI'sini kullanılan toocreate başvuru tooa blok blobu verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="41238-285">For example, here a SAS URI is used toocreate a reference tooa block blob.</span></span> <span data-ttu-id="41238-286">Merhaba SAS hello istek için gereken hello yalnızca kimlik bilgileri sağlar.</span><span class="sxs-lookup"><span data-stu-id="41238-286">hello SAS provides hello only credentials needed for hello request.</span></span> <span data-ttu-id="41238-287">Merhaba blok blob başvurusu daha sonra bir yazma işlemi için kullanılır:</span><span class="sxs-lookup"><span data-stu-id="41238-287">hello block blob reference is then used for a write operation:</span></span>

```csharp
string sasUri = "https://storagesample.blob.core.windows.net/sample-container/" +
    "sampleBlob.txt?sv=2015-07-08&sr=b&sig=39Up9JzHkxhUIhFEjEH9594DJxe7w6cIRCg0V6lCGSo%3D" +
    "&se=2016-10-18T21%3A51%3A37Z&sp=rcw";

CloudBlockBlob blob = new CloudBlockBlob(new Uri(sasUri));

// Create operation: Upload a blob with hello specified name toohello container.
// If hello blob does not exist, it will be created. If it does exist, it will be overwritten.
try
{
    MemoryStream msWrite = new MemoryStream(Encoding.UTF8.GetBytes(blobContent));
    msWrite.Position = 0;
    using (msWrite)
    {
        await blob.UploadFromStreamAsync(msWrite);
    }

    Console.WriteLine("Create operation succeeded for SAS {0}", sasUri);
    Console.WriteLine();
}
catch (StorageException e)
{
    if (e.RequestInformation.HttpStatusCode == 403)
    {
        Console.WriteLine("Create operation failed for SAS {0}", sasUri);
        Console.WriteLine("Additional error information: " + e.Message);
        Console.WriteLine();
    }
    else
    {
        Console.WriteLine(e.Message);
        Console.ReadLine();
        throw;
    }
}

```

## <a name="best-practices-when-using-sas"></a><span data-ttu-id="41238-288">SAS kullanırken en iyi uygulamalar</span><span class="sxs-lookup"><span data-stu-id="41238-288">Best practices when using SAS</span></span>
<span data-ttu-id="41238-289">Paylaşılan erişim imzaları uygulamalarınızda kullandığınızda, toobe iki olası riskleri farkında gerekir:</span><span class="sxs-lookup"><span data-stu-id="41238-289">When you use shared access signatures in your applications, you need toobe aware of two potential risks:</span></span>

* <span data-ttu-id="41238-290">Bir SAS sızmasını varsa, depolama hesabınız tehlikeye atabilir aldığı herkes tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="41238-290">If a SAS is leaked, it can be used by anyone who obtains it, which can potentially compromise your storage account.</span></span>
* <span data-ttu-id="41238-291">Bir SAS tooa istemci uygulamanın süresi dolduktan ve hello uygulamanın oluşturulamıyor tooretrieve hizmetinizden yeni bir SAS verdiyse, hello uygulamanın işlevselliğini engelliyordu.</span><span class="sxs-lookup"><span data-stu-id="41238-291">If a SAS provided tooa client application expires and hello application is unable tooretrieve a new SAS from your service, then hello application's functionality may be hindered.</span></span>

<span data-ttu-id="41238-292">Merhaba paylaşılan erişim imzaları kullanma aşağıdaki öneriler bu riskleri azaltmaya yardımcı:</span><span class="sxs-lookup"><span data-stu-id="41238-292">hello following recommendations for using shared access signatures can help mitigate these risks:</span></span>

1. <span data-ttu-id="41238-293">**Her zaman HTTPS kullanmak** toocreate veya bir SAS dağıtabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-293">**Always use HTTPS** toocreate or distribute a SAS.</span></span> <span data-ttu-id="41238-294">Bir SAS ise ve HTTP üzerinden geçirilen ele man-in--middle saldırısı gerçekleştiren bir saldırgan mümkün tooread hello SAS olduğu ve yalnızca olası hassas verileri tehlikeye veya veri bozulması hello tarafından izin vererek kullanıcı olabilir hello tasarlandığı gibi kullanın kötü amaçlı kullanıcı.</span><span class="sxs-lookup"><span data-stu-id="41238-294">If a SAS is passed over HTTP and intercepted, an attacker performing a man-in-the-middle attack is able tooread hello SAS and then use it just as hello intended user could have, potentially compromising sensitive data or allowing for data corruption by hello malicious user.</span></span>
2. <span data-ttu-id="41238-295">**Başvuru erişim ilkeleri, mümkün olduğunda depolanır.**</span><span class="sxs-lookup"><span data-stu-id="41238-295">**Reference stored access policies where possible.**</span></span> <span data-ttu-id="41238-296">Erişim ilkeleri verin tooregenerate hello depolama hesabı anahtarlarını gerek kalmadan seçeneği toorevoke izinleri hello depolanır.</span><span class="sxs-lookup"><span data-stu-id="41238-296">Stored access policies give you hello option toorevoke permissions without having tooregenerate hello storage account keys.</span></span> <span data-ttu-id="41238-297">Merhaba sona erme süresini ayarlamanıza bu kadar çok hello üzerinde gelecekteki (veya sonsuz) ve emin toomove düzenli olarak güncelleştirdi uzağa hello gelecekteki içine.</span><span class="sxs-lookup"><span data-stu-id="41238-297">Set hello expiration on these very far in hello future (or infinite) and make sure it's regularly updated toomove it farther into hello future.</span></span>
3. <span data-ttu-id="41238-298">**Zaman aşımı değeri yakın dönemde üzerinde geçici bir SAS kullanın.**</span><span class="sxs-lookup"><span data-stu-id="41238-298">**Use near-term expiration times on an ad hoc SAS.**</span></span> <span data-ttu-id="41238-299">Bir SAS tehlikede olsa bile bu şekilde, onu yalnızca kısa bir süre için geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="41238-299">In this way, even if a SAS is compromised, it's valid only for a short time.</span></span> <span data-ttu-id="41238-300">Bu yöntem, depolanmış erişim ilkesi başvuramaz, özellikle önemlidir.</span><span class="sxs-lookup"><span data-stu-id="41238-300">This practice is especially important if you cannot reference a stored access policy.</span></span> <span data-ttu-id="41238-301">Yakın dönemde zaman aşımı değeri de hello tooa blob hello zaman kullanılabilir tooupload tooit sınırlayarak yazılabilir veri miktarını sınırlayın.</span><span class="sxs-lookup"><span data-stu-id="41238-301">Near-term expiration times also limit hello amount of data that can be written tooa blob by limiting hello time available tooupload tooit.</span></span>
4. <span data-ttu-id="41238-302">**İstemcilerin otomatik olarak hello SAS gerekirse yenileme yoktur.**</span><span class="sxs-lookup"><span data-stu-id="41238-302">**Have clients automatically renew hello SAS if necessary.**</span></span> <span data-ttu-id="41238-303">İstemcileri hello SAS iyi hello geçerliliği sona ermeden önce sipariş tooallow zamanında hello SAS sağlayan hello hizmet kullanılamıyorsa, yeniden deneme yenilemeniz.</span><span class="sxs-lookup"><span data-stu-id="41238-303">Clients should renew hello SAS well before hello expiration, in order tooallow time for retries if hello service providing hello SAS is unavailable.</span></span> <span data-ttu-id="41238-304">Az sayıda hemen için kullanılan toobe, SAS istediyseniz, kısa süreli işlemleri hello sona erme süresi içinde tamamlandı toobe beklenen sonra bu SAS değil hello yenilendi toobe beklendiği gibi gereksiz olabilir.</span><span class="sxs-lookup"><span data-stu-id="41238-304">If your SAS is meant toobe used for a small number of immediate, short-lived operations that are expected toobe completed within hello expiration period, then this may be unnecessary as hello SAS is not expected toobe renewed.</span></span> <span data-ttu-id="41238-305">Ancak, düzenli olarak SAS aracılığıyla istek yapıyor istemciniz varsa, sona erme hello olasılığını oyuna gelir.</span><span class="sxs-lookup"><span data-stu-id="41238-305">However, if you have client that is routinely making requests via SAS, then hello possibility of expiration comes into play.</span></span> <span data-ttu-id="41238-306">(daha önce belirtildiği gibi) hello SAS toobe kısa süreli istemci hello hello gerek tooensure ile yenileme erken isteyen için hello anahtar toobalance hello gerek husustur yeterli (tooavoid kesintisi) toohello SAS süresi dolan önceki toosuccessful yenileme son.</span><span class="sxs-lookup"><span data-stu-id="41238-306">hello key consideration is toobalance hello need for hello SAS toobe short-lived (as previously stated) with hello need tooensure that hello client is requesting renewal early enough (tooavoid disruption due toohello SAS expiring prior toosuccessful renewal).</span></span>
5. <span data-ttu-id="41238-307">**SAS başlangıç tarihine sahip dikkatli olun.**</span><span class="sxs-lookup"><span data-stu-id="41238-307">**Be careful with SAS start time.**</span></span> <span data-ttu-id="41238-308">Hello başlangıç zamanı için bir SAS çok ayarlarsanız**şimdi**, sonra da tooclock eğme (toodifferent makineler göre geçerli saat farklılıkları) hataları aralıklı hello için ilk birkaç dakika gözlenecek.</span><span class="sxs-lookup"><span data-stu-id="41238-308">If you set hello start time for a SAS too**now**, then due tooclock skew (differences in current time according toodifferent machines), failures may be observed intermittently for hello first few minutes.</span></span> <span data-ttu-id="41238-309">Genel olarak, hello başlangıç saati toobe en az 15 dakika hello geçmiş ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="41238-309">In general, set hello start time toobe at least 15 minutes in hello past.</span></span> <span data-ttu-id="41238-310">Ya da hiç, bunu hemen tüm durumlarda geçerli yapacak ayarlamanız gerekmez.</span><span class="sxs-lookup"><span data-stu-id="41238-310">Or, don't set it at all, which will make it valid immediately in all cases.</span></span> <span data-ttu-id="41238-311">aynı genellikle de--tooexpiry zaman geçerlidir hello unutmayın saatinin too15 dakikada herhangi bir istek üzerinde herhangi bir yönde eğme gözlemlemek.</span><span class="sxs-lookup"><span data-stu-id="41238-311">hello same generally applies tooexpiry time as well--remember that you may observe up too15 minutes of clock skew in either direction on any request.</span></span> <span data-ttu-id="41238-312">Bir REST sürüm önceki too2012-02-12 kullanan istemciler için bir saklı erişim ilkesi başvurmayan bir SAS için en uzun süre hello 1 saat, başarısız olur daha uzun vadeli belirterek tüm ilkeleri ise.</span><span class="sxs-lookup"><span data-stu-id="41238-312">For clients using a REST version prior too2012-02-12, hello maximum duration for a SAS that does not reference a stored access policy is 1 hour, and any policies specifying longer term than that will fail.</span></span>
6. <span data-ttu-id="41238-313">**Merhaba kaynak toobe erişilen özgün olmalıdır.**</span><span class="sxs-lookup"><span data-stu-id="41238-313">**Be specific with hello resource toobe accessed.**</span></span> <span data-ttu-id="41238-314">En iyi güvenlik uygulaması tooprovide hello minimum gerekli ayrıcalıklara sahip bir kullanıcı değil.</span><span class="sxs-lookup"><span data-stu-id="41238-314">A security best practice is tooprovide a user with hello minimum required privileges.</span></span> <span data-ttu-id="41238-315">Bir kullanıcının yalnızca okuma erişimi tooa tek bir varlık gerekirse, daha sonra bunları okuma erişimi toothat tek bir varlık ve değil okuma/yazma/silme erişim tooall varlıkları verin.</span><span class="sxs-lookup"><span data-stu-id="41238-315">If a user only needs read access tooa single entity, then grant them read access toothat single entity, and not read/write/delete access tooall entities.</span></span> <span data-ttu-id="41238-316">Bu, aynı zamanda hello SAS saldırgan hello elinizde daha az güç olduğundan SAS aşılıp aşılmadığını hello hasar azaltmak yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="41238-316">This also helps lessen hello damage if a SAS is compromised because hello SAS has less power in hello hands of an attacker.</span></span>
7. <span data-ttu-id="41238-317">**Hesabınız ile SAS yapılan dahil olmak üzere tüm kullanım için Fatura edilecek anlayın.**</span><span class="sxs-lookup"><span data-stu-id="41238-317">**Understand that your account will be billed for any usage, including that done with SAS.**</span></span> <span data-ttu-id="41238-318">Yazma erişimi tooa blob sağlarsanız, bir kullanıcı 200 GB blob tooupload seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-318">If you provide write access tooa blob, a user may choose tooupload a 200GB blob.</span></span> <span data-ttu-id="41238-319">Okuma erişimi verdiniz, toodownload seçebilir, 10 kez 2 TB çıkış yansıtılmasını maliyetleri sizin için.</span><span class="sxs-lookup"><span data-stu-id="41238-319">If you've given them read access as well, they may choose toodownload it 10 times, incurring 2 TB in egress costs for you.</span></span> <span data-ttu-id="41238-320">Yeniden sınırlı izinleri sağlayan toohelp kötü amaçlı kullanıcılar olası eylemleri hello etkisini azaltır.</span><span class="sxs-lookup"><span data-stu-id="41238-320">Again, provide limited permissions toohelp mitigate hello potential actions of malicious users.</span></span> <span data-ttu-id="41238-321">Bu tehdit kısa süreli SAS tooreduce kullanın (ancak saatinin hello son saat eğriltme oluşturduğunu).</span><span class="sxs-lookup"><span data-stu-id="41238-321">Use short-lived SAS tooreduce this threat (but be mindful of clock skew on hello end time).</span></span>
8. <span data-ttu-id="41238-322">**SAS kullanarak yazılan veriler doğrulayın.**</span><span class="sxs-lookup"><span data-stu-id="41238-322">**Validate data written using SAS.**</span></span> <span data-ttu-id="41238-323">Bir istemci uygulaması veri tooyour depolama hesabı yazarken, verileri sorunları olabilir aklınızda bulundurun.</span><span class="sxs-lookup"><span data-stu-id="41238-323">When a client application writes data tooyour storage account, keep in mind that there can be problems with that data.</span></span> <span data-ttu-id="41238-324">Uygulamanız, veri doğrulanması gereken ya hazır toouse önce yetkili gerektiriyorsa, bu doğrulama hello veri yazıldıktan sonra ve uygulamanız tarafından kullanılan önce gerçekleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="41238-324">If your application requires that that data be validated or authorized before it is ready toouse, you should perform this validation after hello data is written and before it is used by your application.</span></span> <span data-ttu-id="41238-325">Bu yöntem aynı zamanda tooyour hesabı düzgün bir şekilde hello SAS alınan bir kullanıcı tarafından veya bir sızan SAS yararlanmasını bir kullanıcı tarafından yazılan bozuk veya kötü amaçlı veriler korur.</span><span class="sxs-lookup"><span data-stu-id="41238-325">This practice also protects against corrupt or malicious data being written tooyour account, either by a user who properly acquired hello SAS, or by a user exploiting a leaked SAS.</span></span>
9. <span data-ttu-id="41238-326">**Her zaman SAS kullanmayın.**</span><span class="sxs-lookup"><span data-stu-id="41238-326">**Don't always use SAS.**</span></span> <span data-ttu-id="41238-327">Bazen, depolama hesabınız karşı belirli bir işlemle ilişkili hello riskleri SAS hello avantajlarından daha ağır basar.</span><span class="sxs-lookup"><span data-stu-id="41238-327">Sometimes hello risks associated with a particular operation against your storage account outweigh hello benefits of SAS.</span></span> <span data-ttu-id="41238-328">Bu tür işlemler için iş gerçekleştirildikten sonra tooyour depolama hesabı Yazar bir orta katman hizmet oluşturma kuralı doğrulama, kimlik doğrulaması ve denetim.</span><span class="sxs-lookup"><span data-stu-id="41238-328">For such operations, create a middle-tier service that writes tooyour storage account after performing business rule validation, authentication, and auditing.</span></span> <span data-ttu-id="41238-329">Ayrıca, bazen onu diğer yollarla daha basit toomanage erişimi vardır.</span><span class="sxs-lookup"><span data-stu-id="41238-329">Also, sometimes it's simpler toomanage access in other ways.</span></span> <span data-ttu-id="41238-330">Bir kapsayıcıdaki tüm blob'lara toomake herkes tarafından okunabilir istiyorsanız örneğin, kapsayıcı Ortak, hello yapabileceğiniz bir SAS tooevery istemci erişimi için sağlama yerine.</span><span class="sxs-lookup"><span data-stu-id="41238-330">For example, if you want toomake all blobs in a container publically readable, you can make hello container Public, rather than providing a SAS tooevery client for access.</span></span>
10. <span data-ttu-id="41238-331">**Storage Analytics toomonitor uygulamanızın kullanın.**</span><span class="sxs-lookup"><span data-stu-id="41238-331">**Use Storage Analytics toomonitor your application.**</span></span> <span data-ttu-id="41238-332">Günlüğe kaydetme ve herhangi bir kimlik doğrulama hatalarına tooan kesinti, SAS sağlayıcısı hizmeti toohello yanlışlıkla kaldırma veya depolanmış erişim ilkesi, son çıkmasına ölçümleri tooobserve kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-332">You can use logging and metrics tooobserve any spike in authentication failures due tooan outage in your SAS provider service or toohello inadvertent removal of a stored access policy.</span></span> <span data-ttu-id="41238-333">Merhaba bkz [Azure depolama ekibi blogu](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/08/03/windows-azure-storage-logging-using-logs-to-track-storage-requests.aspx) ek bilgi için.</span><span class="sxs-lookup"><span data-stu-id="41238-333">See hello [Azure Storage Team Blog](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/08/03/windows-azure-storage-logging-using-logs-to-track-storage-requests.aspx) for additional information.</span></span>

## <a name="sas-examples"></a><span data-ttu-id="41238-334">SAS örnekleri</span><span class="sxs-lookup"><span data-stu-id="41238-334">SAS examples</span></span>
<span data-ttu-id="41238-335">Aşağıda bazı örnekler her iki tür paylaşılan erişim imzalar, hesap SAS ve SAS hizmet.</span><span class="sxs-lookup"><span data-stu-id="41238-335">Below are some examples of both types of shared access signatures, account SAS and service SAS.</span></span>

<span data-ttu-id="41238-336">toorun bu C# örnekleri, projenizdeki NuGet paketlerini aşağıdaki tooreference hello gerekir:</span><span class="sxs-lookup"><span data-stu-id="41238-336">toorun these C# examples, you need tooreference hello following NuGet packages in your project:</span></span>

* <span data-ttu-id="41238-337">[.NET için Azure Storage istemci Kitaplığı](http://www.nuget.org/packages/WindowsAzure.Storage), sürüm 6.x veya üzeri (toouse hesap SAS).</span><span class="sxs-lookup"><span data-stu-id="41238-337">[Azure Storage Client Library for .NET](http://www.nuget.org/packages/WindowsAzure.Storage), version 6.x or later (toouse account SAS).</span></span>
* [<span data-ttu-id="41238-338">Azure Configuration Manager</span><span class="sxs-lookup"><span data-stu-id="41238-338">Azure Configuration Manager</span></span>](http://www.nuget.org/packages/Microsoft.WindowsAzure.ConfigurationManager)

<span data-ttu-id="41238-339">Toocreate ve test bir SAS nasıl görürüm gösteren ek örnekler için [depolama için Azure Kod örnekleri](https://azure.microsoft.com/documentation/samples/?service=storage).</span><span class="sxs-lookup"><span data-stu-id="41238-339">For additional examples that show how toocreate and test a SAS, see [Azure Code Samples for Storage](https://azure.microsoft.com/documentation/samples/?service=storage).</span></span>

### <a name="example-create-and-use-an-account-sas"></a><span data-ttu-id="41238-340">Örnek: Oluşturma ve hesap SAS kullanma</span><span class="sxs-lookup"><span data-stu-id="41238-340">Example: Create and use an account SAS</span></span>
<span data-ttu-id="41238-341">Merhaba aşağıdaki kod örneği oluşturur hesap hello Blob ve Dosya Hizmetleri için geçerli olan SAS ve istemci izinleri okuma, yazma ve listeleme izinleri verir hello tooaccess hizmet düzeyi API'leri.</span><span class="sxs-lookup"><span data-stu-id="41238-341">hello following code example creates an account SAS that is valid for hello Blob and File services, and gives hello client permissions read, write, and list permissions tooaccess service-level APIs.</span></span> <span data-ttu-id="41238-342">Merhaba istek HTTPS ile yapılmalıdır şekilde hello hesap SAS hello Protokolü tooHTTPS kısıtlar.</span><span class="sxs-lookup"><span data-stu-id="41238-342">hello account SAS restricts hello protocol tooHTTPS, so hello request must be made with HTTPS.</span></span>

```csharp
static string GetAccountSASToken()
{
    // toocreate hello account SAS, you need toouse your shared key credentials. Modify for your account.
    const string ConnectionString = "DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key";
    CloudStorageAccount storageAccount = CloudStorageAccount.Parse(ConnectionString);

    // Create a new access policy for hello account.
    SharedAccessAccountPolicy policy = new SharedAccessAccountPolicy()
        {
            Permissions = SharedAccessAccountPermissions.Read | SharedAccessAccountPermissions.Write | SharedAccessAccountPermissions.List,
            Services = SharedAccessAccountServices.Blob | SharedAccessAccountServices.File,
            ResourceTypes = SharedAccessAccountResourceTypes.Service,
            SharedAccessExpiryTime = DateTime.UtcNow.AddHours(24),
            Protocols = SharedAccessProtocol.HttpsOnly
        };

    // Return hello SAS token.
    return storageAccount.GetSharedAccessSignature(policy);
}
```

<span data-ttu-id="41238-343">toouse hello hesap SAS tooaccess hello Blob hizmeti için API hizmet düzeyi, hello SAS kullanarak bir Blob istemci nesnesi oluşturun ve depolama hesabınız için Blob storage uç hello.</span><span class="sxs-lookup"><span data-stu-id="41238-343">toouse hello account SAS tooaccess service-level APIs for hello Blob service, construct a Blob client object using hello SAS and hello Blob storage endpoint for your storage account.</span></span>

```csharp
static void UseAccountSAS(string sasToken)
{
    // Create new storage credentials using hello SAS token.
    StorageCredentials accountSAS = new StorageCredentials(sasToken);
    // Use these credentials and hello account name toocreate a Blob service client.
    CloudStorageAccount accountWithSAS = new CloudStorageAccount(accountSAS, "account-name", endpointSuffix: null, useHttps: true);
    CloudBlobClient blobClientWithSAS = accountWithSAS.CreateCloudBlobClient();

    // Now set hello service properties for hello Blob client created with hello SAS.
    blobClientWithSAS.SetServiceProperties(new ServiceProperties()
    {
        HourMetrics = new MetricsProperties()
        {
            MetricsLevel = MetricsLevel.ServiceAndApi,
            RetentionDays = 7,
            Version = "1.0"
        },
        MinuteMetrics = new MetricsProperties()
        {
            MetricsLevel = MetricsLevel.ServiceAndApi,
            RetentionDays = 7,
            Version = "1.0"
        },
        Logging = new LoggingProperties()
        {
            LoggingOperations = LoggingOperations.All,
            RetentionDays = 14,
            Version = "1.0"
        }
    });

    // hello permissions granted by hello account SAS also permit you tooretrieve service properties.
    ServiceProperties serviceProperties = blobClientWithSAS.GetServiceProperties();
    Console.WriteLine(serviceProperties.HourMetrics.MetricsLevel);
    Console.WriteLine(serviceProperties.HourMetrics.RetentionDays);
    Console.WriteLine(serviceProperties.HourMetrics.Version);
}
```

### <a name="example-create-a-stored-access-policy"></a><span data-ttu-id="41238-344">Örnek: bir saklı erişim ilkesi oluşturma</span><span class="sxs-lookup"><span data-stu-id="41238-344">Example: Create a stored access policy</span></span>
<span data-ttu-id="41238-345">Merhaba aşağıdaki kod bir saklı erişim ilkesi bir kapsayıcıda oluşturur.</span><span class="sxs-lookup"><span data-stu-id="41238-345">hello following code creates a stored access policy on a container.</span></span> <span data-ttu-id="41238-346">Hizmet SAS hello kapsayıcısı üzerinde veya bloblarını hello erişim ilkesi toospecify kısıtlamalarını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-346">You can use hello access policy toospecify constraints for a service SAS on hello container or its blobs.</span></span>

```csharp
private static async Task CreateSharedAccessPolicyAsync(CloudBlobContainer container, string policyName)
{
    // Create a new shared access policy and define its constraints.
    // hello access policy provides create, write, read, list, and delete permissions.
    SharedAccessBlobPolicy sharedPolicy = new SharedAccessBlobPolicy()
    {
        // When hello start time for hello SAS is omitted, hello start time is assumed toobe hello time when hello storage service receives hello request.
        // Omitting hello start time for a SAS that is effective immediately helps tooavoid clock skew.
        SharedAccessExpiryTime = DateTime.UtcNow.AddHours(24),
        Permissions = SharedAccessBlobPermissions.Read | SharedAccessBlobPermissions.List |
            SharedAccessBlobPermissions.Write | SharedAccessBlobPermissions.Create | SharedAccessBlobPermissions.Delete
    };

    // Get hello container's existing permissions.
    BlobContainerPermissions permissions = await container.GetPermissionsAsync();

    // Add hello new policy toohello container's permissions, and set hello container's permissions.
    permissions.SharedAccessPolicies.Add(policyName, sharedPolicy);
    await container.SetPermissionsAsync(permissions);
}
```

### <a name="example-create-a-service-sas-on-a-container"></a><span data-ttu-id="41238-347">Örnek: bir kapsayıcıda hizmet SAS oluşturma</span><span class="sxs-lookup"><span data-stu-id="41238-347">Example: Create a service SAS on a container</span></span>
<span data-ttu-id="41238-348">koddan hello SAS bir kapsayıcıda oluşturur.</span><span class="sxs-lookup"><span data-stu-id="41238-348">hello following code creates a SAS on a container.</span></span> <span data-ttu-id="41238-349">Varolan bir depolanmış erişim ilkesinin Hello adı sağlanmazsa, bu ilkeyi hello SAS ile ilişkilidir.</span><span class="sxs-lookup"><span data-stu-id="41238-349">If hello name of an existing stored access policy is provided, that policy is associated with hello SAS.</span></span> <span data-ttu-id="41238-350">Hiçbir depolanmış erişim ilkesi sağlanırsa, hello kod geçici SAS hello kapsayıcısını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="41238-350">If no stored access policy is provided, then hello code creates an ad-hoc SAS on hello container.</span></span>

```csharp
private static string GetContainerSasUri(CloudBlobContainer container, string storedPolicyName = null)
{
    string sasContainerToken;

    // If no stored policy is specified, create a new access policy and define its constraints.
    if (storedPolicyName == null)
    {
        // Note that hello SharedAccessBlobPolicy class is used both toodefine hello parameters of an ad-hoc SAS, and
        // tooconstruct a shared access policy that is saved toohello container's shared access policies.
        SharedAccessBlobPolicy adHocPolicy = new SharedAccessBlobPolicy()
        {
            // When hello start time for hello SAS is omitted, hello start time is assumed toobe hello time when hello storage service receives hello request.
            // Omitting hello start time for a SAS that is effective immediately helps tooavoid clock skew.
            SharedAccessExpiryTime = DateTime.UtcNow.AddHours(24),
            Permissions = SharedAccessBlobPermissions.Write | SharedAccessBlobPermissions.List
        };

        // Generate hello shared access signature on hello container, setting hello constraints directly on hello signature.
        sasContainerToken = container.GetSharedAccessSignature(adHocPolicy, null);

        Console.WriteLine("SAS for blob container (ad hoc): {0}", sasContainerToken);
        Console.WriteLine();
    }
    else
    {
        // Generate hello shared access signature on hello container. In this case, all of hello constraints for the
        // shared access signature are specified on hello stored access policy, which is provided by name.
        // It is also possible toospecify some constraints on an ad-hoc SAS and others on hello stored access policy.
        sasContainerToken = container.GetSharedAccessSignature(null, storedPolicyName);

        Console.WriteLine("SAS for blob container (stored access policy): {0}", sasContainerToken);
        Console.WriteLine();
    }

    // Return hello URI string for hello container, including hello SAS token.
    return container.Uri + sasContainerToken;
}
```

### <a name="example-create-a-service-sas-on-a-blob"></a><span data-ttu-id="41238-351">Örnek: bir blob üzerindeki hizmet SAS oluşturma</span><span class="sxs-lookup"><span data-stu-id="41238-351">Example: Create a service SAS on a blob</span></span>
<span data-ttu-id="41238-352">koddan hello üzerinde bir blob SAS oluşturur.</span><span class="sxs-lookup"><span data-stu-id="41238-352">hello following code creates a SAS on a blob.</span></span> <span data-ttu-id="41238-353">Varolan bir depolanmış erişim ilkesinin Hello adı sağlanmazsa, bu ilkeyi hello SAS ile ilişkilidir.</span><span class="sxs-lookup"><span data-stu-id="41238-353">If hello name of an existing stored access policy is provided, that policy is associated with hello SAS.</span></span> <span data-ttu-id="41238-354">Hiçbir depolanmış erişim ilkesi sağlanırsa, hello kod hello blob üzerindeki bir geçici SAS oluşturur.</span><span class="sxs-lookup"><span data-stu-id="41238-354">If no stored access policy is provided, then hello code creates an ad-hoc SAS on hello blob.</span></span>

```csharp
private static string GetBlobSasUri(CloudBlobContainer container, string blobName, string policyName = null)
{
    string sasBlobToken;

    // Get a reference tooa blob within hello container.
    // Note that hello blob may not exist yet, but a SAS can still be created for it.
    CloudBlockBlob blob = container.GetBlockBlobReference(blobName);

    if (policyName == null)
    {
        // Create a new access policy and define its constraints.
        // Note that hello SharedAccessBlobPolicy class is used both toodefine hello parameters of an ad-hoc SAS, and
        // tooconstruct a shared access policy that is saved toohello container's shared access policies.
        SharedAccessBlobPolicy adHocSAS = new SharedAccessBlobPolicy()
        {
            // When hello start time for hello SAS is omitted, hello start time is assumed toobe hello time when hello storage service receives hello request.
            // Omitting hello start time for a SAS that is effective immediately helps tooavoid clock skew.
            SharedAccessExpiryTime = DateTime.UtcNow.AddHours(24),
            Permissions = SharedAccessBlobPermissions.Read | SharedAccessBlobPermissions.Write | SharedAccessBlobPermissions.Create
        };

        // Generate hello shared access signature on hello blob, setting hello constraints directly on hello signature.
        sasBlobToken = blob.GetSharedAccessSignature(adHocSAS);

        Console.WriteLine("SAS for blob (ad hoc): {0}", sasBlobToken);
        Console.WriteLine();
    }
    else
    {
        // Generate hello shared access signature on hello blob. In this case, all of hello constraints for the
        // shared access signature are specified on hello container's stored access policy.
        sasBlobToken = blob.GetSharedAccessSignature(null, policyName);

        Console.WriteLine("SAS for blob (stored access policy): {0}", sasBlobToken);
        Console.WriteLine();
    }

    // Return hello URI string for hello container, including hello SAS token.
    return blob.Uri + sasBlobToken;
}
```

## <a name="conclusion"></a><span data-ttu-id="41238-355">Sonuç</span><span class="sxs-lookup"><span data-stu-id="41238-355">Conclusion</span></span>
<span data-ttu-id="41238-356">Paylaşılan erişim imzalar, sınırlı izinlere hello hesap anahtarı olmamalıdır tooyour depolama hesabı tooclients sağlamak için yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="41238-356">Shared access signatures are useful for providing limited permissions tooyour storage account tooclients that should not have hello account key.</span></span> <span data-ttu-id="41238-357">Bu nedenle, Azure Storage kullanarak herhangi bir uygulama için hello güvenlik modelinin önemli bir parçası olan.</span><span class="sxs-lookup"><span data-stu-id="41238-357">As such, they are a vital part of hello security model for any application using Azure Storage.</span></span> <span data-ttu-id="41238-358">Burada listelenen hello en iyi uygulamaları izlerseniz, uygulamanızın hello güvenliği tehlikeye atmadan SAS tooprovide esneklik erişim tooresources, depolama hesabınızı kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="41238-358">If you follow hello best practices listed here, you can use SAS tooprovide greater flexibility of access tooresources in your storage account, without compromising hello security of your application.</span></span>

## <a name="next-steps"></a><span data-ttu-id="41238-359">Sonraki Adımlar</span><span class="sxs-lookup"><span data-stu-id="41238-359">Next Steps</span></span>
* [<span data-ttu-id="41238-360">Anonim okuma erişimini toocontainers ve BLOB'ları yönetme</span><span class="sxs-lookup"><span data-stu-id="41238-360">Manage anonymous read access toocontainers and blobs</span></span>](../blobs/storage-manage-access-to-resources.md)
* [<span data-ttu-id="41238-361">Paylaşılan Erişim İmzası ile Erişim için Temsilci Seçme</span><span class="sxs-lookup"><span data-stu-id="41238-361">Delegating Access with a Shared Access Signature</span></span>](http://msdn.microsoft.com/library/azure/ee395415.aspx)
* [<span data-ttu-id="41238-362">Tablo ve kuyruk SAS Tanıtımı</span><span class="sxs-lookup"><span data-stu-id="41238-362">Introducing Table and Queue SAS</span></span>](http://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/introducing-table-sas-shared-access-signature-queue-sas-and-update-to-blob-sas.aspx)
