---
title: "Microsoft Azure Depolama'da Eşzamanlılığı Yönetme"
description: "Blob, kuyruk, tablo ve Dosya Hizmetleri için eşzamanlılık yönetme"
services: storage
documentationcenter: 
author: jasontang501
manager: tadb
editor: tysonn
ms.assetid: cc6429c4-23ee-46e3-b22d-50dd68bd4680
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 05/11/2017
ms.author: jasontang501
ms.openlocfilehash: 8b894af2f15cd22f04701c545d8250e20b99a094
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="managing-concurrency-in-microsoft-azure-storage"></a><span data-ttu-id="46b79-103">Microsoft Azure Depolama'da Eşzamanlılığı Yönetme</span><span class="sxs-lookup"><span data-stu-id="46b79-103">Managing Concurrency in Microsoft Azure Storage</span></span>
## <a name="overview"></a><span data-ttu-id="46b79-104">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="46b79-104">Overview</span></span>
<span data-ttu-id="46b79-105">Modern Internet tabanlı uygulamalar genellikle görüntüleme ve verileri aynı anda güncelleştirme birden çok kullanıcı sahiptir.</span><span class="sxs-lookup"><span data-stu-id="46b79-105">Modern Internet based applications usually have multiple users viewing and updating data simultaneously.</span></span> <span data-ttu-id="46b79-106">Bu, uygulama geliştiricilerin kendi son kullanıcıları için özellikle birden çok kullanıcı aynı verileri nerede güncelleştirebilirsiniz senaryoları için öngörülebilir bir deneyim sağlamaya nasıl dikkatlice düşünün gerektirir.</span><span class="sxs-lookup"><span data-stu-id="46b79-106">This requires application developers to think carefully about how to provide a predictable experience to their end users, particularly for scenarios where multiple users can update the same data.</span></span> <span data-ttu-id="46b79-107">Geliştiriciler genellikle değerlendirir üç ana veri eşzamanlılık stratejisi vardır:</span><span class="sxs-lookup"><span data-stu-id="46b79-107">There are three main data concurrency strategies developers will typically consider:</span></span>  

1. <span data-ttu-id="46b79-108">İyimser eşzamanlılık – bir güncelleştirme, güncelleştirme bir parçası olarak veri uygulama itibaren değişip değişmediğini doğrulayın gerçekleştiren bir uygulama bu verileri son okuyun.</span><span class="sxs-lookup"><span data-stu-id="46b79-108">Optimistic concurrency – An application performing an update will as part of its update verify if the data has changed since the application last read that data.</span></span> <span data-ttu-id="46b79-109">Bir wiki sayfa görüntüleme iki kullanıcı aynı sayfaya bir güncelleştirme yaparsanız Örneğin, ardından wiki platform ikinci güncelleştirmeyi ilk güncelleştirmesi – üzerine değildir ve her iki kullanıcı kendi güncelleştirme başarılı olup olmadığını anlamak emin olmalısınız.</span><span class="sxs-lookup"><span data-stu-id="46b79-109">For example, if two users viewing a wiki page make an update to the same page then the wiki platform must ensure that the second update does not overwrite the first update – and that both users understand whether their update was successful or not.</span></span> <span data-ttu-id="46b79-110">Bu strateji, web uygulamaları en sık kullanılır.</span><span class="sxs-lookup"><span data-stu-id="46b79-110">This strategy is most often used in web applications.</span></span>
2. <span data-ttu-id="46b79-111">Eşzamanlılık – bir güncelleştirme gerçekleştirmek için bir uygulama arayan bir kilit diğer kullanıcıların kilidi serbest kadar verileri güncelleştirme engelleyen bir nesne üzerinde olur.</span><span class="sxs-lookup"><span data-stu-id="46b79-111">Pessimistic concurrency – An application looking to perform an update will take a lock on an object preventing other users from updating the data until the lock is released.</span></span> <span data-ttu-id="46b79-112">Örneğin, yalnızca ana güncelleştirmeleri nerede gerçekleştirecek ana/bağımlı veri çoğaltma senaryoda asıl genellikle özel bir kilit kimsenin güncelleştirebilirsiniz emin olmak için verileri zamanında uzun bir süre için tutar.</span><span class="sxs-lookup"><span data-stu-id="46b79-112">For example, in a master/slave data replication scenario where only the master will perform updates the master will typically hold an exclusive lock for an extended period of time on the data to ensure no one else can update it.</span></span>
3. <span data-ttu-id="46b79-113">Son yazıcı WINS – başka bir uygulama verileri bu yana uygulama ilk güncelleştirdi, doğrulamadan devam etmek tüm güncelleştirme işlemlerine izin veren bir yaklaşım verilerini okur.</span><span class="sxs-lookup"><span data-stu-id="46b79-113">Last writer wins – An approach that allows any update operations to proceed without verifying if any other application has updated the data since the application first read the data.</span></span> <span data-ttu-id="46b79-114">Bu strateji (veya bir resmi stratejisi eksikliği) genellikle veri birden çok kullanıcı aynı verilere erişecek hiçbir olasılığı olan yolu burada bölümlenmiş kullanılır.</span><span class="sxs-lookup"><span data-stu-id="46b79-114">This strategy (or lack of a formal strategy) is usually used where data is partitioned in such a way that there is no likelihood that multiple users will access the same data.</span></span> <span data-ttu-id="46b79-115">Bu da kısa süreli veri akışlarını burada işlenen yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="46b79-115">It can also be useful where short-lived data streams are being processed.</span></span>  

<span data-ttu-id="46b79-116">Bu makalede bu eşzamanlılık stratejileri üçü için birinci sınıf destek sağlayan Azure Storage platform geliştirme nasıl basitleştirir genel bir bakış sağlar.</span><span class="sxs-lookup"><span data-stu-id="46b79-116">This article provides an overview of how the Azure Storage platform simplifies development by providing first class support for all three of these concurrency strategies.</span></span>  

## <a name="azure-storage--simplifies-cloud-development"></a><span data-ttu-id="46b79-117">Azure Storage – bulut geliştirme basitleştirir</span><span class="sxs-lookup"><span data-stu-id="46b79-117">Azure Storage – Simplifies Cloud Development</span></span>
<span data-ttu-id="46b79-118">Depolama hizmetinin veri ekleme kaydeder veya güncelleştirme işlemi tüm daha fazla için verileri en son güncelleştirmeyi görürler erişir garanti bir güçlü tutarlılık modelini kapsayacak şekilde tasarlandığından iyimser ve kötümser eşzamanlılık için tam destek sağlamak yeteneğini farklı olmasına rağmen Azure depolama hizmeti tüm üç stratejileri destekler.</span><span class="sxs-lookup"><span data-stu-id="46b79-118">The Azure storage service supports all three strategies, although it is distinctive in its ability to provide full support for optimistic and pessimistic concurrency because it was designed to embrace a strong consistency model which guarantees that when the Storage service commits a data insert or update operation all further accesses to that data will see the latest update.</span></span> <span data-ttu-id="46b79-119">Bir kullanıcı tarafından ve güncelleştirilmiş verileri, böylece tutarsızlıklar son kullanıcıların etkilemesini önlemek için istemci uygulamaları geliştirme karmaşıklaştırarak diğer kullanıcılar tarafından görülebilir yazma gerçekleştirildiğinde nihai tutarlılık modelini kullanan depolama platformları arasında bir gecikme vardır.</span><span class="sxs-lookup"><span data-stu-id="46b79-119">Storage platforms that use an eventual consistency model have a lag between when a write is performed by one user and when the updated data can be seen by other users thus complicating development of client applications in order to prevent inconsistencies from affecting end users.</span></span>  

<span data-ttu-id="46b79-120">Uygun eşzamanlılık stratejisi seçmenin yanı sıra geliştiriciler ayrıca bir depolama platform değişiklikler – özellikle de aynı nesneye işlemleri arasında nasıl yalıtır bilmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="46b79-120">In addition to selecting an appropriate concurrency strategy developers should also be aware of how a storage platform isolates changes – particularly changes to the same object across transactions.</span></span> <span data-ttu-id="46b79-121">Azure depolama hizmeti anlık görüntü yalıtımı yazma işlemlerini tek bir bölüm içinde eşzamanlı olarak gerçekleşecek şekilde okuma işlemleri izin vermek için kullanır.</span><span class="sxs-lookup"><span data-stu-id="46b79-121">The Azure storage service uses snapshot isolation to allow read operations to happen concurrently with write operations within a single partition.</span></span> <span data-ttu-id="46b79-122">Diğer yalıtım düzeyi farklı olarak, tüm okuma verilerin tutarlı bir anlık görüntü gördüğünüz bile güncelleştirmeleri yaşanan – temelde son kabul edilen değerlerin bir güncelleştirme sırasında döndürerek işlem işleniyor sırada anlık görüntü yalıtımı garanti eder.</span><span class="sxs-lookup"><span data-stu-id="46b79-122">Unlike other isolation levels, snapshot isolation guarantees that all reads see a consistent snapshot of the data even while updates are occurring – essentially by returning the last committed values while an update transaction is being processed.</span></span>  

## <a name="managing-concurrency-in-blob-storage"></a><span data-ttu-id="46b79-123">Blob depolama alanına eşzamanlılık yönetme</span><span class="sxs-lookup"><span data-stu-id="46b79-123">Managing Concurrency in Blob storage</span></span>
<span data-ttu-id="46b79-124">BLOB'ları ve blob hizmetinde kapsayıcıları erişimi yönetmek için ya da iyimser veya kötümser eşzamanlılık modelleriyle kullanmayı tercih edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="46b79-124">You can opt to use either optimistic or pessimistic concurrency models to manage access to blobs and containers in the blob service.</span></span> <span data-ttu-id="46b79-125">Bir strateji son yazma WINS açıkça belirtmezseniz varsayılandır.</span><span class="sxs-lookup"><span data-stu-id="46b79-125">If you do not explicitly specify a strategy last writes wins is the default.</span></span>  

### <a name="optimistic-concurrency-for-blobs-and-containers"></a><span data-ttu-id="46b79-126">BLOB'ları ve kapsayıcıları için iyimser eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="46b79-126">Optimistic concurrency for blobs and containers</span></span>
<span data-ttu-id="46b79-127">Depolama Birimi hizmeti depolanan her nesne için bir tanımlayıcı atar.</span><span class="sxs-lookup"><span data-stu-id="46b79-127">The Storage service assigns an identifier to every object stored.</span></span> <span data-ttu-id="46b79-128">Bu tanımlayıcı, bir nesne üzerinde her bir güncelleştirme işlemi gerçekleştirildiğinde güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="46b79-128">This identifier is updated every time an update operation is performed on an object.</span></span> <span data-ttu-id="46b79-129">Tanımlayıcı, istemci HTTP Protokolü içinde tanımlanan ETag (varlık etiketi) üstbilgisi kullanarak bir HTTP GET yanıtında bir parçası olarak döndürülür.</span><span class="sxs-lookup"><span data-stu-id="46b79-129">The identifier is returned to the client as part of an HTTP GET response using the ETag (entity tag) header that is defined within the HTTP protocol.</span></span> <span data-ttu-id="46b79-130">Böyle bir nesnenin bir güncelleştirmesi gerçekleştiren bir kullanıcı bir güncelleştirme yalnızca oluşacağını belirli bir koşulun yerine – bu durumda güncelleştirme isteğinde belirtilen ETag değeri depolama hizmetinde depolanan aynı olduğundan emin olmak depolama birimi hizmeti gerektiren bir "If-Match" üst bilgisi bir durumdur, emin olmak için koşullu üstbilgi birlikte özgün ETag gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="46b79-130">A user performing an update on such an object can send in the original ETag along with a conditional header to ensure that an update will only occur if a certain condition has been met – in this case the condition is an "If-Match" header which requires the Storage Service to ensure the value of the ETag specified in the update request is the same as that stored in the Storage Service.</span></span>  

<span data-ttu-id="46b79-131">Bu işlem anahat aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="46b79-131">The outline of this process is as follows:</span></span>  

1. <span data-ttu-id="46b79-132">Bir blob Depolama hizmetinden alın, yanıt nesnesinin geçerli sürümü, depolama hizmetindeki tanımlayan bir HTTP ETag üstbilgi değeri içeriyor.</span><span class="sxs-lookup"><span data-stu-id="46b79-132">Retrieve a blob from the storage service, the response includes an HTTP ETag Header value that identifies the current version of the object in the storage service.</span></span>
2. <span data-ttu-id="46b79-133">Blob'ı güncelleştirdiğinizde, adım 1'de alınan ETag değeri içeren **IF-Match** hizmete gönderme isteği koşullu üstbilgi.</span><span class="sxs-lookup"><span data-stu-id="46b79-133">When you update the blob, include the ETag value you received in step 1 in the **If-Match** conditional header of the request you send to the service.</span></span>
3. <span data-ttu-id="46b79-134">Hizmet isteği ETag değeri blob geçerli ETag değeri ile karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="46b79-134">The service compares the ETag value in the request with the current ETag value of the blob.</span></span>
4. <span data-ttu-id="46b79-135">BLOB geçerli ETag değeri ETag sürümünden farklı bir sürüm ise **IF-Match** hizmet isteği koşullu üstbilgisinde istemciye 412 hata döndürür.</span><span class="sxs-lookup"><span data-stu-id="46b79-135">If the current ETag value of the blob is a different version than the ETag in the **If-Match** conditional header in the request, the service returns a 412 error to the client.</span></span> <span data-ttu-id="46b79-136">Bu, istemciye, istemcinin alınan bu yana başka bir işlem blob güncelleştirdi gösterir.</span><span class="sxs-lookup"><span data-stu-id="46b79-136">This indicates to the client that another process has updated the blob since the client retrieved it.</span></span>
5. <span data-ttu-id="46b79-137">BLOB geçerli ETag değeri ETag ile aynı sürüme ise **IF-Match** hizmet isteği koşullu üstbilgisinde istenen işlem gerçekleştirir ve yeni bir sürümü oluşturdu göstermek için blob geçerli ETag değeri güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="46b79-137">If the current ETag value of the blob is the same version as the ETag in the **If-Match** conditional header in the request, the service performs the requested operation and updates the current ETag value of the blob to show that it has created a new version.</span></span>  

<span data-ttu-id="46b79-138">(İstemci depolama kitaplığı 4.2.0 kullanarak) aşağıdaki C# kod parçacığını nasıl oluşturulacağını basit bir örneği gösterir bir **IF-Match AccessCondition** , daha önce kopya alınan eklenmiş veya silinmiş bir blob özelliklerinden erişilen ETag değere göre.</span><span class="sxs-lookup"><span data-stu-id="46b79-138">The following C# snippet (using the Client Storage Library 4.2.0) shows a simple example of how to construct an **If-Match AccessCondition** based on the ETag value that is accessed from the properties of a blob that was previously either retrieved or inserted.</span></span> <span data-ttu-id="46b79-139">Daha sonra kullanır **AccessCondition** nesne olduğunda, blob güncelleştiriliyor: **AccessCondition** nesnesi ekler **IF-Match** isteği üstbilgisi.</span><span class="sxs-lookup"><span data-stu-id="46b79-139">It then uses the **AccessCondition** object when it updating the blob: the **AccessCondition** object adds the **If-Match** header to the request.</span></span> <span data-ttu-id="46b79-140">Başka bir işlem blob güncelleştirdi, blob hizmeti bir HTTP 412 (önkoşul başarısız oldu) durum iletisi döndürür.</span><span class="sxs-lookup"><span data-stu-id="46b79-140">If another process has updated the blob, the blob service returns an HTTP 412 (Precondition Failed) status message.</span></span> <span data-ttu-id="46b79-141">Tam örnek buradan indirebilirsiniz: [Azure Storage kullanarak eşzamanlılık yönetme](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span><span class="sxs-lookup"><span data-stu-id="46b79-141">You can download the full sample here: [Managing Concurrency using Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span></span>  

```csharp
// Retrieve the ETag from the newly created blob
// Etag is already populated as UploadText should cause a PUT Blob call
// to storage blob service which returns the etag in response.
string orignalETag = blockBlob.Properties.ETag;

// This code simulates an update by a third party.
string helloText = "Blob updated by a third party.";

// No etag, provided so orignal blob is overwritten (thus generating a new etag)
blockBlob.UploadText(helloText);
Console.WriteLine("Blob updated. Updated ETag = {0}",
blockBlob.Properties.ETag);

// Now try to update the blob using the orignal ETag provided when the blob was created
try
{
    Console.WriteLine("Trying to update blob using orignal etag to generate if-match access condition");
    blockBlob.UploadText(helloText,accessCondition:
    AccessCondition.GenerateIfMatchCondition(orignalETag));
}
catch (StorageException ex)
{
    if (ex.RequestInformation.HttpStatusCode == (int)HttpStatusCode.PreconditionFailed)
    {
        Console.WriteLine("Precondition failure as expected. Blob's orignal etag no longer matches");
        // TODO: client can decide on how it wants to handle the 3rd party updated content.
    }
    else
        throw;
}  
```

<span data-ttu-id="46b79-142">Depolama hizmeti için de destek ek koşullu üstbilgileri gibi içerir **If-Modified-Since**, **IF-Unmodified-Since** ve **If-None-Match** birleşimleri bunların yanı sıra.</span><span class="sxs-lookup"><span data-stu-id="46b79-142">The Storage Service also includes support for additional conditional headers such as **If-Modified-Since**, **If-Unmodified-Since** and **If-None-Match** as well as combinations thereof.</span></span> <span data-ttu-id="46b79-143">Daha fazla bilgi için bkz: [Blob hizmeti işlemleri için koşullu üstbilgileri belirtme](http://msdn.microsoft.com/library/azure/dd179371.aspx) konusuna bakın.</span><span class="sxs-lookup"><span data-stu-id="46b79-143">For more information see [Specifying Conditional Headers for Blob Service Operations](http://msdn.microsoft.com/library/azure/dd179371.aspx) on MSDN.</span></span>  

<span data-ttu-id="46b79-144">Aşağıdaki tabloda koşullu üstbilgileri gibi kabul kapsayıcı işlemleri özetlenmektedir **IF-Match** istek ve yanıtta bir ETag değeri döndürür.</span><span class="sxs-lookup"><span data-stu-id="46b79-144">The following table summarizes the container operations that accept conditional headers such as **If-Match** in the request and that return an ETag value in the response.</span></span>  

| <span data-ttu-id="46b79-145">İşlem</span><span class="sxs-lookup"><span data-stu-id="46b79-145">Operation</span></span> | <span data-ttu-id="46b79-146">Kapsayıcı ETag değeri döndürür</span><span class="sxs-lookup"><span data-stu-id="46b79-146">Returns Container ETag value</span></span> | <span data-ttu-id="46b79-147">Koşullu üstbilgileri kabul eder</span><span class="sxs-lookup"><span data-stu-id="46b79-147">Accepts conditional headers</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="46b79-148">Kapsayıcı oluşturma</span><span class="sxs-lookup"><span data-stu-id="46b79-148">Create Container</span></span> |<span data-ttu-id="46b79-149">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-149">Yes</span></span> |<span data-ttu-id="46b79-150">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-150">No</span></span> |
| <span data-ttu-id="46b79-151">Kapsayıcı özellikleri Al</span><span class="sxs-lookup"><span data-stu-id="46b79-151">Get Container Properties</span></span> |<span data-ttu-id="46b79-152">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-152">Yes</span></span> |<span data-ttu-id="46b79-153">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-153">No</span></span> |
| <span data-ttu-id="46b79-154">Kapsayıcı meta verileri alma</span><span class="sxs-lookup"><span data-stu-id="46b79-154">Get Container Metadata</span></span> |<span data-ttu-id="46b79-155">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-155">Yes</span></span> |<span data-ttu-id="46b79-156">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-156">No</span></span> |
| <span data-ttu-id="46b79-157">Kapsayıcı meta verileri ayarlama</span><span class="sxs-lookup"><span data-stu-id="46b79-157">Set Container Metadata</span></span> |<span data-ttu-id="46b79-158">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-158">Yes</span></span> |<span data-ttu-id="46b79-159">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-159">Yes</span></span> |
| <span data-ttu-id="46b79-160">Kapsayıcı ACL Al</span><span class="sxs-lookup"><span data-stu-id="46b79-160">Get Container ACL</span></span> |<span data-ttu-id="46b79-161">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-161">Yes</span></span> |<span data-ttu-id="46b79-162">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-162">No</span></span> |
| <span data-ttu-id="46b79-163">Kapsayıcı ACL ayarlayın</span><span class="sxs-lookup"><span data-stu-id="46b79-163">Set Container ACL</span></span> |<span data-ttu-id="46b79-164">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-164">Yes</span></span> |<span data-ttu-id="46b79-165">Evet (*)</span><span class="sxs-lookup"><span data-stu-id="46b79-165">Yes (*)</span></span> |
| <span data-ttu-id="46b79-166">Kapsayıcısını silmek</span><span class="sxs-lookup"><span data-stu-id="46b79-166">Delete Container</span></span> |<span data-ttu-id="46b79-167">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-167">No</span></span> |<span data-ttu-id="46b79-168">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-168">Yes</span></span> |
| <span data-ttu-id="46b79-169">Kira kapsayıcısı</span><span class="sxs-lookup"><span data-stu-id="46b79-169">Lease Container</span></span> |<span data-ttu-id="46b79-170">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-170">Yes</span></span> |<span data-ttu-id="46b79-171">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-171">Yes</span></span> |
| <span data-ttu-id="46b79-172">Liste BLOB'ları</span><span class="sxs-lookup"><span data-stu-id="46b79-172">List Blobs</span></span> |<span data-ttu-id="46b79-173">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-173">No</span></span> |<span data-ttu-id="46b79-174">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-174">No</span></span> |

<span data-ttu-id="46b79-175">(*) SetContainerACL tarafından tanımlanan izinleri önbelleğe alınır ve bu izinleri güncelleştirmeleri 30 yaymak için hangi dönemde güncelleştirmeleri tutarlı olması garanti edilmez saniye sürebilir.</span><span class="sxs-lookup"><span data-stu-id="46b79-175">(*) The permissions defined by SetContainerACL are cached and updates to these permissions take 30 seconds to propagate during which period updates are not guaranteed to be consistent.</span></span>  

<span data-ttu-id="46b79-176">Aşağıdaki tabloda koşullu üstbilgileri gibi kabul blobu işlemleri özetlenmektedir **IF-Match** istek ve yanıtta bir ETag değeri döndürür.</span><span class="sxs-lookup"><span data-stu-id="46b79-176">The following table summarizes the blob operations that accept conditional headers such as **If-Match** in the request and that return an ETag value in the response.</span></span>

| <span data-ttu-id="46b79-177">İşlem</span><span class="sxs-lookup"><span data-stu-id="46b79-177">Operation</span></span> | <span data-ttu-id="46b79-178">ETag değeri döndürür</span><span class="sxs-lookup"><span data-stu-id="46b79-178">Returns ETag value</span></span> | <span data-ttu-id="46b79-179">Koşullu üstbilgileri kabul eder</span><span class="sxs-lookup"><span data-stu-id="46b79-179">Accepts conditional headers</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="46b79-180">BLOB yerleştirme</span><span class="sxs-lookup"><span data-stu-id="46b79-180">Put Blob</span></span> |<span data-ttu-id="46b79-181">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-181">Yes</span></span> |<span data-ttu-id="46b79-182">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-182">Yes</span></span> |
| <span data-ttu-id="46b79-183">BLOB alma</span><span class="sxs-lookup"><span data-stu-id="46b79-183">Get Blob</span></span> |<span data-ttu-id="46b79-184">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-184">Yes</span></span> |<span data-ttu-id="46b79-185">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-185">Yes</span></span> |
| <span data-ttu-id="46b79-186">BLOB özelliklerini alma</span><span class="sxs-lookup"><span data-stu-id="46b79-186">Get Blob Properties</span></span> |<span data-ttu-id="46b79-187">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-187">Yes</span></span> |<span data-ttu-id="46b79-188">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-188">Yes</span></span> |
| <span data-ttu-id="46b79-189">Blob özelliklerini ayarlama</span><span class="sxs-lookup"><span data-stu-id="46b79-189">Set Blob Properties</span></span> |<span data-ttu-id="46b79-190">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-190">Yes</span></span> |<span data-ttu-id="46b79-191">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-191">Yes</span></span> |
| <span data-ttu-id="46b79-192">BLOB meta verileri alma</span><span class="sxs-lookup"><span data-stu-id="46b79-192">Get Blob Metadata</span></span> |<span data-ttu-id="46b79-193">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-193">Yes</span></span> |<span data-ttu-id="46b79-194">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-194">Yes</span></span> |
| <span data-ttu-id="46b79-195">BLOB meta verileri ayarlama</span><span class="sxs-lookup"><span data-stu-id="46b79-195">Set Blob Metadata</span></span> |<span data-ttu-id="46b79-196">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-196">Yes</span></span> |<span data-ttu-id="46b79-197">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-197">Yes</span></span> |
| <span data-ttu-id="46b79-198">Kira blob'u (*)</span><span class="sxs-lookup"><span data-stu-id="46b79-198">Lease Blob (*)</span></span> |<span data-ttu-id="46b79-199">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-199">Yes</span></span> |<span data-ttu-id="46b79-200">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-200">Yes</span></span> |
| <span data-ttu-id="46b79-201">Anlık görüntü Blob</span><span class="sxs-lookup"><span data-stu-id="46b79-201">Snapshot Blob</span></span> |<span data-ttu-id="46b79-202">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-202">Yes</span></span> |<span data-ttu-id="46b79-203">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-203">Yes</span></span> |
| <span data-ttu-id="46b79-204">BLOB kopyalama</span><span class="sxs-lookup"><span data-stu-id="46b79-204">Copy Blob</span></span> |<span data-ttu-id="46b79-205">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-205">Yes</span></span> |<span data-ttu-id="46b79-206">Evet (kaynak ve hedef blob için)</span><span class="sxs-lookup"><span data-stu-id="46b79-206">Yes (for source and destination blob)</span></span> |
| <span data-ttu-id="46b79-207">Kopya Blob Durdur</span><span class="sxs-lookup"><span data-stu-id="46b79-207">Abort Copy Blob</span></span> |<span data-ttu-id="46b79-208">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-208">No</span></span> |<span data-ttu-id="46b79-209">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-209">No</span></span> |
| <span data-ttu-id="46b79-210">BLOB Sil</span><span class="sxs-lookup"><span data-stu-id="46b79-210">Delete Blob</span></span> |<span data-ttu-id="46b79-211">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-211">No</span></span> |<span data-ttu-id="46b79-212">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-212">Yes</span></span> |
| <span data-ttu-id="46b79-213">Blok yerleştirme</span><span class="sxs-lookup"><span data-stu-id="46b79-213">Put Block</span></span> |<span data-ttu-id="46b79-214">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-214">No</span></span> |<span data-ttu-id="46b79-215">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-215">No</span></span> |
| <span data-ttu-id="46b79-216">Engelleme listesi yerleştirme</span><span class="sxs-lookup"><span data-stu-id="46b79-216">Put Block List</span></span> |<span data-ttu-id="46b79-217">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-217">Yes</span></span> |<span data-ttu-id="46b79-218">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-218">Yes</span></span> |
| <span data-ttu-id="46b79-219">Engelleme listesi al</span><span class="sxs-lookup"><span data-stu-id="46b79-219">Get Block List</span></span> |<span data-ttu-id="46b79-220">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-220">Yes</span></span> |<span data-ttu-id="46b79-221">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-221">No</span></span> |
| <span data-ttu-id="46b79-222">Sayfa yerleştirin</span><span class="sxs-lookup"><span data-stu-id="46b79-222">Put Page</span></span> |<span data-ttu-id="46b79-223">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-223">Yes</span></span> |<span data-ttu-id="46b79-224">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-224">Yes</span></span> |
| <span data-ttu-id="46b79-225">Sayfa aralıklarını alma</span><span class="sxs-lookup"><span data-stu-id="46b79-225">Get Page Ranges</span></span> |<span data-ttu-id="46b79-226">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-226">Yes</span></span> |<span data-ttu-id="46b79-227">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-227">Yes</span></span> |

<span data-ttu-id="46b79-228">(*) Kira blob'u blob üzerinde ETag değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="46b79-228">(*) Lease Blob does not change the ETag on a blob.</span></span>  

### <a name="pessimistic-concurrency-for-blobs"></a><span data-ttu-id="46b79-229">Eşzamanlılık BLOB'lar için</span><span class="sxs-lookup"><span data-stu-id="46b79-229">Pessimistic concurrency for blobs</span></span>
<span data-ttu-id="46b79-230">Özel kullanım için bir blob kilitlemek için elde edebilirsiniz bir [kira](http://msdn.microsoft.com/library/azure/ee691972.aspx) üzerindeki.</span><span class="sxs-lookup"><span data-stu-id="46b79-230">To lock a blob for exclusive use, you can acquire a [lease](http://msdn.microsoft.com/library/azure/ee691972.aspx) on it.</span></span> <span data-ttu-id="46b79-231">Bir kira aldığınızda, kira ne kadar süreyle ihtiyacınız belirtin: Bu için 15-60 saniye arasında bir değer veya sonsuz olduğu için özel bir kilit tutar olabilir.</span><span class="sxs-lookup"><span data-stu-id="46b79-231">When you acquire a lease, you specify for how long you need the lease: this can be for between 15 to 60 seconds or infinite which amounts to an exclusive lock.</span></span> <span data-ttu-id="46b79-232">Genişletmek için sınırlı bir kira yenileme ve ile işiniz bittiğinde, tüm kira serbest bırakabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="46b79-232">You can renew a finite lease to extend it, and you can release any lease when you are finished with it.</span></span> <span data-ttu-id="46b79-233">Bunlar sona erdiğinde blob hizmeti otomatik olarak sınırlı kira serbest bırakır.</span><span class="sxs-lookup"><span data-stu-id="46b79-233">The blob service automatically releases finite leases when they expire.</span></span>  

<span data-ttu-id="46b79-234">Kira farklı eşitleme stratejileri desteklenmesi özel yazma dahil olmak üzere etkinleştir / okuma, özel yazma paylaşılan / özel okuma ve yazma paylaşılan / özel okuyun.</span><span class="sxs-lookup"><span data-stu-id="46b79-234">Leases enable different synchronization strategies to be supported, including exclusive write / shared read, exclusive write / exclusive read and shared write / exclusive read.</span></span> <span data-ttu-id="46b79-235">Bir kira var. burada Depolama Birimi Hizmeti (put, ayarlayın ve silme işlemleri) yazma gerektirir tüm istemci uygulamaları bir kira kimliği ve yalnızca bir istemci aynı anda kullandığınızdan emin olmak Geliştirici exclusivity okuma işlemleri için sağlama ancak geçerli bir kira kimliğe sahip özel zorlar.</span><span class="sxs-lookup"><span data-stu-id="46b79-235">Where a lease exists the storage service enforces exclusive writes (put, set and delete operations) however ensuring exclusivity for read operations requires the developer to ensure that all client applications use a lease ID and that only one client at a time has a valid lease ID.</span></span> <span data-ttu-id="46b79-236">Bir kira kimliği sonucu paylaşılan okuma içermez okuma işlemleri.</span><span class="sxs-lookup"><span data-stu-id="46b79-236">Read operations that do not include a lease ID result in shared reads.</span></span>  

<span data-ttu-id="46b79-237">Aşağıdaki C# kod parçacığını bir blob 30 saniye için özel bir kira alınırken, blob içeriği güncelleştirme ve kira serbest bırakma bir örneği gösterir.</span><span class="sxs-lookup"><span data-stu-id="46b79-237">The following C# snippet shows an example of acquiring an exclusive lease for 30 seconds on a blob, updating the content of the blob, and then releasing the lease.</span></span> <span data-ttu-id="46b79-238">Blob hizmeti zaten varsa geçerli bir kira blob üzerindeki yeni bir kira almaya çalıştığında, bir "HTTP (409) çakışma" durum sonucunu döndürür.</span><span class="sxs-lookup"><span data-stu-id="46b79-238">If there is already a valid lease on the blob when you try to acquire a new lease, the blob service returns an "HTTP (409) Conflict" status result.</span></span> <span data-ttu-id="46b79-239">Kullandığı aşağıdaki kod parçacığını bir **AccessCondition** blob depolama hizmetindeki güncelleştirmek için bir istek yaptığında, kiralama bilgileri yalıtan nesne.</span><span class="sxs-lookup"><span data-stu-id="46b79-239">The snippet below uses an **AccessCondition** object to encapsulate the lease information when it makes a request to update the blob in the storage service.</span></span>  <span data-ttu-id="46b79-240">Tam örnek buradan indirebilirsiniz: [Azure Storage kullanarak eşzamanlılık yönetme](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span><span class="sxs-lookup"><span data-stu-id="46b79-240">You can download the full sample here: [Managing Concurrency using Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span></span>

```csharp
// Acquire lease for 15 seconds
string lease = blockBlob.AcquireLease(TimeSpan.FromSeconds(15), null);
Console.WriteLine("Blob lease acquired. Lease = {0}", lease);

// Update blob using lease. This operation will succeed
const string helloText = "Blob updated";
var accessCondition = AccessCondition.GenerateLeaseCondition(lease);
blockBlob.UploadText(helloText, accessCondition: accessCondition);
Console.WriteLine("Blob updated using an exclusive lease");

//Simulate third party update to blob without lease
try
{
    // Below operation will fail as no valid lease provided
    Console.WriteLine("Trying to update blob without valid lease");
    blockBlob.UploadText("Update without lease, will fail");
}
catch (StorageException ex)
{
    if (ex.RequestInformation.HttpStatusCode == (int)HttpStatusCode.PreconditionFailed)
        Console.WriteLine("Precondition failure as expected. Blob's lease does not match");
    else
        throw;
}  
```

<span data-ttu-id="46b79-241">Bir yazma işlemi kiralık blob kira kimliği geçmeden çalışırsanız, istek 412 bir hata ile başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="46b79-241">If you attempt a write operation on a leased blob without passing the lease ID, the request fails with a 412 error.</span></span> <span data-ttu-id="46b79-242">Çağırmadan önce kira süresi dolarsa unutmayın **UploadText** yöntem, ancak hala kira kimliği geçişi, istek ile de başarısız bir **412** hata.</span><span class="sxs-lookup"><span data-stu-id="46b79-242">Note that if the lease expires before calling the **UploadText** method but you still pass the lease ID, the request also fails with a **412** error.</span></span> <span data-ttu-id="46b79-243">Kira bitiş zamanları ve kira kimlikleri yönetme hakkında daha fazla bilgi için bkz: [kira blob'u](http://msdn.microsoft.com/library/azure/ee691972.aspx) REST belgeleri.</span><span class="sxs-lookup"><span data-stu-id="46b79-243">For more information about managing lease expiry times and lease ids, see the [Lease Blob](http://msdn.microsoft.com/library/azure/ee691972.aspx) REST documentation.</span></span>  

<span data-ttu-id="46b79-244">Aşağıdaki blobu işlemleri kiraları eşzamanlılık yönetmek için kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="46b79-244">The following blob operations can use leases to manage pessimistic concurrency:</span></span>  

* <span data-ttu-id="46b79-245">BLOB yerleştirme</span><span class="sxs-lookup"><span data-stu-id="46b79-245">Put Blob</span></span>
* <span data-ttu-id="46b79-246">BLOB alma</span><span class="sxs-lookup"><span data-stu-id="46b79-246">Get Blob</span></span>
* <span data-ttu-id="46b79-247">BLOB özelliklerini alma</span><span class="sxs-lookup"><span data-stu-id="46b79-247">Get Blob Properties</span></span>
* <span data-ttu-id="46b79-248">Blob özelliklerini ayarlama</span><span class="sxs-lookup"><span data-stu-id="46b79-248">Set Blob Properties</span></span>
* <span data-ttu-id="46b79-249">BLOB meta verileri alma</span><span class="sxs-lookup"><span data-stu-id="46b79-249">Get Blob Metadata</span></span>
* <span data-ttu-id="46b79-250">BLOB meta verileri ayarlama</span><span class="sxs-lookup"><span data-stu-id="46b79-250">Set Blob Metadata</span></span>
* <span data-ttu-id="46b79-251">BLOB Sil</span><span class="sxs-lookup"><span data-stu-id="46b79-251">Delete Blob</span></span>
* <span data-ttu-id="46b79-252">Blok yerleştirme</span><span class="sxs-lookup"><span data-stu-id="46b79-252">Put Block</span></span>
* <span data-ttu-id="46b79-253">Engelleme listesi yerleştirme</span><span class="sxs-lookup"><span data-stu-id="46b79-253">Put Block List</span></span>
* <span data-ttu-id="46b79-254">Engelleme listesi al</span><span class="sxs-lookup"><span data-stu-id="46b79-254">Get Block List</span></span>
* <span data-ttu-id="46b79-255">Sayfa yerleştirin</span><span class="sxs-lookup"><span data-stu-id="46b79-255">Put Page</span></span>
* <span data-ttu-id="46b79-256">Sayfa aralıklarını alma</span><span class="sxs-lookup"><span data-stu-id="46b79-256">Get Page Ranges</span></span>
* <span data-ttu-id="46b79-257">Anlık görüntü Blob - kira kimliği bir kira varsa, isteğe bağlı</span><span class="sxs-lookup"><span data-stu-id="46b79-257">Snapshot Blob - lease ID optional if a lease exists</span></span>
* <span data-ttu-id="46b79-258">BLOB - bir kira hedef blob üzerindeki var olup olmadığını kimliği gerekli kira kopyalama</span><span class="sxs-lookup"><span data-stu-id="46b79-258">Copy Blob - lease ID required if a lease exists on the destination blob</span></span>
* <span data-ttu-id="46b79-259">Sonsuz bir kira hedef blob üzerindeki var olup olmadığını kira kimliği durdurma kopyalama Blob - gerekli</span><span class="sxs-lookup"><span data-stu-id="46b79-259">Abort Copy Blob - lease ID required if an infinite lease exists on the destination blob</span></span>
* <span data-ttu-id="46b79-260">Kira blob'u</span><span class="sxs-lookup"><span data-stu-id="46b79-260">Lease Blob</span></span>  

### <a name="pessimistic-concurrency-for-containers"></a><span data-ttu-id="46b79-261">Eşzamanlılık kapsayıcıları için</span><span class="sxs-lookup"><span data-stu-id="46b79-261">Pessimistic concurrency for containers</span></span>
<span data-ttu-id="46b79-262">Kiraları kapsayıcılarında BLOB olarak desteklenmesi aynı eşitleme stratejileri etkinleştirme (özel yazma / okuma, özel yazma paylaşılan / özel okuma ve yazma paylaşılan / özel okuma) ancak BLOB Depolama hizmetinin yalnızca silme işlemlerini exclusivity zorlar.</span><span class="sxs-lookup"><span data-stu-id="46b79-262">Leases on containers enable the same synchronization strategies to be supported as on blobs (exclusive write / shared read, exclusive write / exclusive read and shared write / exclusive read) however unlike blobs the storage service only enforces exclusivity on delete operations.</span></span> <span data-ttu-id="46b79-263">Etkin bir kira kapsayıcıyla silmek için bir istemci silme isteği etkin kira Kimliğiyle eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="46b79-263">To delete a container with an active lease, a client must include the active lease ID with the delete request.</span></span> <span data-ttu-id="46b79-264">Kira kimliği dahil olmak üzere diğer tüm kapsayıcı işlemleri kiralık bir kapsayıcıda başarılı durumda olduklarını işlemleri paylaşılan.</span><span class="sxs-lookup"><span data-stu-id="46b79-264">All other container operations succeed on a leased container without including the lease ID in which case they are shared operations.</span></span> <span data-ttu-id="46b79-265">Güncelleştirme (put veya kümesi) veya okuma işlemleri exclusivity gerekliyse, ardından geliştiriciler aynı anda bir istemci geçerli bir kira kimliğe sahip yalnızca bir kira kimliği ve, tüm istemcilerin kullanın emin olmalısınız</span><span class="sxs-lookup"><span data-stu-id="46b79-265">If exclusivity of update (put or set) or read operations is required then developers should ensure all clients use a lease ID and that only one client at a time has a valid lease ID.</span></span>  

<span data-ttu-id="46b79-266">Aşağıdaki kapsayıcı işlemleri kiraları eşzamanlılık yönetmek için kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="46b79-266">The following container operations can use leases to manage pessimistic concurrency:</span></span>  

* <span data-ttu-id="46b79-267">Kapsayıcısını silmek</span><span class="sxs-lookup"><span data-stu-id="46b79-267">Delete Container</span></span>
* <span data-ttu-id="46b79-268">Kapsayıcı özellikleri Al</span><span class="sxs-lookup"><span data-stu-id="46b79-268">Get Container Properties</span></span>
* <span data-ttu-id="46b79-269">Kapsayıcı meta verileri alma</span><span class="sxs-lookup"><span data-stu-id="46b79-269">Get Container Metadata</span></span>
* <span data-ttu-id="46b79-270">Kapsayıcı meta verileri ayarlama</span><span class="sxs-lookup"><span data-stu-id="46b79-270">Set Container Metadata</span></span>
* <span data-ttu-id="46b79-271">Kapsayıcı ACL Al</span><span class="sxs-lookup"><span data-stu-id="46b79-271">Get Container ACL</span></span>
* <span data-ttu-id="46b79-272">Kapsayıcı ACL ayarlayın</span><span class="sxs-lookup"><span data-stu-id="46b79-272">Set Container ACL</span></span>
* <span data-ttu-id="46b79-273">Kira kapsayıcısı</span><span class="sxs-lookup"><span data-stu-id="46b79-273">Lease Container</span></span>  

<span data-ttu-id="46b79-274">Daha fazla bilgi için bkz:</span><span class="sxs-lookup"><span data-stu-id="46b79-274">For more information see:</span></span>  

* [<span data-ttu-id="46b79-275">Blob hizmeti işlemleri için koşullu üstbilgileri belirtme</span><span class="sxs-lookup"><span data-stu-id="46b79-275">Specifying Conditional Headers for Blob Service Operations</span></span>](http://msdn.microsoft.com/library/azure/dd179371.aspx)
* [<span data-ttu-id="46b79-276">Kira kapsayıcısı</span><span class="sxs-lookup"><span data-stu-id="46b79-276">Lease Container</span></span>](http://msdn.microsoft.com/library/azure/jj159103.aspx)
* [<span data-ttu-id="46b79-277">Kira blob'u</span><span class="sxs-lookup"><span data-stu-id="46b79-277">Lease Blob </span></span>](http://msdn.microsoft.com/library/azure/ee691972.aspx)

## <a name="managing-concurrency-in-the-table-service"></a><span data-ttu-id="46b79-278">Tablo hizmetinde eşzamanlılık yönetme</span><span class="sxs-lookup"><span data-stu-id="46b79-278">Managing Concurrency in the Table Service</span></span>
<span data-ttu-id="46b79-279">Tablo hizmeti iyimser eşzamanlılık burada açıkça iyimser eşzamanlılık denetimleri gerçekleştirmek için seçtiğiniz gerekir blob hizmeti aksine varlıklarla çalışırken varsayılan davranış olarak denetler kullanır.</span><span class="sxs-lookup"><span data-stu-id="46b79-279">The table service uses optimistic concurrency checks as the default behavior when you are working with entities, unlike the blob service where you must explicitly choose to perform optimistic concurrency checks.</span></span> <span data-ttu-id="46b79-280">Diğer tablo ve blob hizmetleri arasında blob hizmetiyle kapsayıcılar ve bloblar eşzamanlılığı yönetebilir ancak varlıklar eşzamanlılık davranışını yalnızca yönetebilir farktır.</span><span class="sxs-lookup"><span data-stu-id="46b79-280">The other difference between the table and blob services is that you can only manage the concurrency behavior of entities whereas with the blob service you can manage the concurrency of both containers and blobs.</span></span>  

<span data-ttu-id="46b79-281">İyimser eşzamanlılık kullanın ve tablo Depolama hizmetinden alınan bu yana başka bir işlem varlıkta değişiklik olmadığını denetlemek için tablo hizmeti bir varlık döndürdüğünde aldığınız ETag değeri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="46b79-281">To use optimistic concurrency and to check if another process modified an entity since you retrieved it from the table storage service, you can use the ETag value you receive when the table service returns an entity.</span></span> <span data-ttu-id="46b79-282">Bu işlem anahat aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="46b79-282">The outline of this process is as follows:</span></span>  

1. <span data-ttu-id="46b79-283">Bir varlık tablo Depolama hizmetinden alın, yanıt depolama hizmetindeki varlık ile ilişkili geçerli bir tanımlayıcı tanımlayan bir ETag değeri içeriyor.</span><span class="sxs-lookup"><span data-stu-id="46b79-283">Retrieve an entity from the table storage service, the response includes an ETag value that identifies the current identifier associated with that entity in the storage service.</span></span>
2. <span data-ttu-id="46b79-284">Varlık güncelleştirdiğinizde, zorunlu olarak 1. adımda alınan ETag değeri içeren **IF-Match** hizmete gönderme isteği üstbilgisi.</span><span class="sxs-lookup"><span data-stu-id="46b79-284">When you update the entity, include the ETag value you received in step 1 in the mandatory **If-Match** header of the request you send to the service.</span></span>
3. <span data-ttu-id="46b79-285">Hizmet isteği ETag değeri varlık geçerli ETag değeri ile karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="46b79-285">The service compares the ETag value in the request with the current ETag value of the entity.</span></span>
4. <span data-ttu-id="46b79-286">Varlık geçerli ETag değeri zorunlu ETag farklı ise **IF-Match** hizmet istek üstbilgisinde istemciye 412 hata döndürür.</span><span class="sxs-lookup"><span data-stu-id="46b79-286">If the current ETag value of the entity is different than the ETag in the mandatory **If-Match** header in the request, the service returns a 412 error to the client.</span></span> <span data-ttu-id="46b79-287">Bu, istemciye, istemcinin alınan bu yana başka bir işlem varlık güncelleştirdi gösterir.</span><span class="sxs-lookup"><span data-stu-id="46b79-287">This indicates to the client that another process has updated the entity since the client retrieved it.</span></span>
5. <span data-ttu-id="46b79-288">Varlık geçerli ETag değeri ETag zorunlu ile aynı olduğunda **IF-Match** istek üstbilgisinde veya **IF-Match** üst bilgiyi içeren joker karakter (*), hizmet istenen işlem gerçekleştirir ve güncelleştirilmiş göstermek için varlık geçerli ETag değeri güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="46b79-288">If the current ETag value of the entity is the same as the ETag in the mandatory **If-Match** header in the request or the **If-Match** header contains the wildcard character (*), the service performs the requested operation and updates the current ETag value of the entity to show that it has been updated.</span></span>  

<span data-ttu-id="46b79-289">Blob hizmeti, dahil etmek istemci tablo hizmeti gerektirdiğini Not bir **IF-Match** güncelleştirme isteği üstbilgisi.</span><span class="sxs-lookup"><span data-stu-id="46b79-289">Note that unlike the blob service, the table service requires the client to include an **If-Match** header in update requests.</span></span> <span data-ttu-id="46b79-290">Ancak, bir koşulsuz zorlama mümkündür (son yazıcı WINS stratejisi) güncelleştirin ve istemci ayarlar eşzamanlılık denetimleri atlanmasına **IF-Match** joker karakter (*) istekteki üstbilgi.</span><span class="sxs-lookup"><span data-stu-id="46b79-290">However, it is possible to force an unconditional update (last writer wins strategy) and bypass concurrency checks if the client sets the **If-Match** header to the wildcard character (*) in the request.</span></span>  

<span data-ttu-id="46b79-291">Aşağıdaki C# kod parçacığını ya da daha önce oluşturulmuş veya güncelleştirilmiş kendi e-posta adresi alınan bir müşteri varlığı gösterir.</span><span class="sxs-lookup"><span data-stu-id="46b79-291">The following C# snippet shows a customer entity that was previously either created or retrieved having their email address updated.</span></span> <span data-ttu-id="46b79-292">İlk ekleme işlemi depoları ETag değeri veya müşteri nesnesindeki ve değiştirme işlemi yürüttüğünde örnek aynı nesne örneğini kullandığından, otomatik olarak ETag değeri eşzamanlılık ihlali denetlemek hizmet etkinleştirme geri tablo hizmetine gönderir.</span><span class="sxs-lookup"><span data-stu-id="46b79-292">The initial insert or retrieve operation stores the ETag value in the customer object, and because the sample uses the same object instance when it executes the replace operation, it automatically sends the ETag value back to the table service, enabling the service to check for concurrency violations.</span></span> <span data-ttu-id="46b79-293">Başka bir işlem tablo depolama varlıkta güncelleştirdi, hizmeti bir HTTP 412 (önkoşul başarısız oldu) durum iletisi döndürür.</span><span class="sxs-lookup"><span data-stu-id="46b79-293">If another process has updated the entity in table storage, the service returns an HTTP 412 (Precondition Failed) status message.</span></span>  <span data-ttu-id="46b79-294">Tam örnek buradan indirebilirsiniz: [Azure Storage kullanarak eşzamanlılık yönetme](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span><span class="sxs-lookup"><span data-stu-id="46b79-294">You can download the full sample here: [Managing Concurrency using Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span></span>

```csharp
try
{
    customer.Email = "updatedEmail@contoso.org";
    TableOperation replaceCustomer = TableOperation.Replace(customer);
    customerTable.Execute(replaceCustomer);
    Console.WriteLine("Replace operation succeeded.");
}
catch (StorageException ex)
{
    if (ex.RequestInformation.HttpStatusCode == 412)
        Console.WriteLine("Optimistic concurrency violation – entity has changed since it was retrieved.");
    else
        throw;
}  
```

<span data-ttu-id="46b79-295">Açıkça eşzamanlılık denetimi devre dışı bırakmak için ayarlamalısınız **ETag** özelliği **çalışan** nesnesine "*" değiştirme işlemini yürütmeden önce.</span><span class="sxs-lookup"><span data-stu-id="46b79-295">To explicitly disable the concurrency check, you should set the **ETag** property of the **employee** object to "*" before you execute the replace operation.</span></span>  

```csharp
customer.ETag = "*";  
```

<span data-ttu-id="46b79-296">Aşağıdaki tabloda, tablo varlık işlemleri ETag değerleri kullanma özetlenmektedir:</span><span class="sxs-lookup"><span data-stu-id="46b79-296">The following table summarizes how the table entity operations use ETag values:</span></span>

| <span data-ttu-id="46b79-297">İşlem</span><span class="sxs-lookup"><span data-stu-id="46b79-297">Operation</span></span> | <span data-ttu-id="46b79-298">ETag değeri döndürür</span><span class="sxs-lookup"><span data-stu-id="46b79-298">Returns ETag value</span></span> | <span data-ttu-id="46b79-299">IF-Match istek üstbilgisi gerektirir</span><span class="sxs-lookup"><span data-stu-id="46b79-299">Requires If-Match request header</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="46b79-300">Sorgu varlıklar</span><span class="sxs-lookup"><span data-stu-id="46b79-300">Query Entities</span></span> |<span data-ttu-id="46b79-301">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-301">Yes</span></span> |<span data-ttu-id="46b79-302">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-302">No</span></span> |
| <span data-ttu-id="46b79-303">Varlık ekleme</span><span class="sxs-lookup"><span data-stu-id="46b79-303">Insert Entity</span></span> |<span data-ttu-id="46b79-304">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-304">Yes</span></span> |<span data-ttu-id="46b79-305">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-305">No</span></span> |
| <span data-ttu-id="46b79-306">Varlık güncelleştir</span><span class="sxs-lookup"><span data-stu-id="46b79-306">Update Entity</span></span> |<span data-ttu-id="46b79-307">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-307">Yes</span></span> |<span data-ttu-id="46b79-308">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-308">Yes</span></span> |
| <span data-ttu-id="46b79-309">Varlık birleştirme</span><span class="sxs-lookup"><span data-stu-id="46b79-309">Merge Entity</span></span> |<span data-ttu-id="46b79-310">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-310">Yes</span></span> |<span data-ttu-id="46b79-311">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-311">Yes</span></span> |
| <span data-ttu-id="46b79-312">Varlığı silme</span><span class="sxs-lookup"><span data-stu-id="46b79-312">Delete Entity</span></span> |<span data-ttu-id="46b79-313">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-313">No</span></span> |<span data-ttu-id="46b79-314">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-314">Yes</span></span> |
| <span data-ttu-id="46b79-315">Ekleme veya değiştirme varlık</span><span class="sxs-lookup"><span data-stu-id="46b79-315">Insert or Replace Entity</span></span> |<span data-ttu-id="46b79-316">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-316">Yes</span></span> |<span data-ttu-id="46b79-317">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-317">No</span></span> |
| <span data-ttu-id="46b79-318">INSERT veya birleştirme varlık</span><span class="sxs-lookup"><span data-stu-id="46b79-318">Insert or Merge Entity</span></span> |<span data-ttu-id="46b79-319">Evet</span><span class="sxs-lookup"><span data-stu-id="46b79-319">Yes</span></span> |<span data-ttu-id="46b79-320">Hayır</span><span class="sxs-lookup"><span data-stu-id="46b79-320">No</span></span> |

<span data-ttu-id="46b79-321">Unutmayın **ekleme veya değiştirme varlık** ve **ekleme veya birleştirme varlık** işlemleri yapıp *değil* tablo hizmetine bir ETag değeri göndermeyin her eşzamanlılık denetim gerçekleştirilemiyor.</span><span class="sxs-lookup"><span data-stu-id="46b79-321">Note that the **Insert or Replace Entity** and **Insert or Merge Entity** operations do *not* perform any concurrency checks because they do not send an ETag value to the table service.</span></span>  

<span data-ttu-id="46b79-322">Genel tabloları kullanarak geliştiricilerin ölçeklenebilir uygulamalar geliştirirken üzerinde iyimser eşzamanlılık yararlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="46b79-322">In general developers using tables should rely on optimistic concurrency when developing scalable applications.</span></span> <span data-ttu-id="46b79-323">Kötümser kilitleme gerekirse tabloları erişen her tablo için atanmış bir blob atayın ve tabloda işletim önce blob üzerindeki bir kira yararlanmaya çalışan olduğunda bir yaklaşım geliştiriciler alabilir.</span><span class="sxs-lookup"><span data-stu-id="46b79-323">If pessimistic locking is needed, one approach developers can take when accessing Tables is to assign a designated blob for each table and try to take a lease on the blob before operating on the table.</span></span> <span data-ttu-id="46b79-324">Bu yaklaşım, tüm veri erişim yolları tabloda işletim önce kira elde emin olmak için uygulama gerektirir.</span><span class="sxs-lookup"><span data-stu-id="46b79-324">This approach does require the application to ensure all data access paths obtain the lease prior to operating on the table.</span></span> <span data-ttu-id="46b79-325">Ayrıca, ölçeklenebilirlik için dikkat gerektiren 15 saniye minimum kira süresi olan unutmamalısınız.</span><span class="sxs-lookup"><span data-stu-id="46b79-325">You should also note that the minimum lease time is 15 seconds which requires careful consideration for scalability.</span></span>  

<span data-ttu-id="46b79-326">Daha fazla bilgi için bkz:</span><span class="sxs-lookup"><span data-stu-id="46b79-326">For more information see:</span></span>  

* [<span data-ttu-id="46b79-327">Varlıklar üzerinde işlemler</span><span class="sxs-lookup"><span data-stu-id="46b79-327">Operations on Entities</span></span>](http://msdn.microsoft.com/library/azure/dd179375.aspx)  

## <a name="managing-concurrency-in-the-queue-service"></a><span data-ttu-id="46b79-328">Kuyruk hizmetinde eşzamanlılık yönetme</span><span class="sxs-lookup"><span data-stu-id="46b79-328">Managing Concurrency in the Queue Service</span></span>
<span data-ttu-id="46b79-329">Hangi eşzamanlılık Çağrısı hizmetindeki bir sorun olduğu bir senaryo, burada birden çok istemciye iletilerin bir kuyruktan alıyor ' dir.</span><span class="sxs-lookup"><span data-stu-id="46b79-329">One scenario in which concurrency is a concern in the queueing service is where multiple clients are retrieving messages from a queue.</span></span> <span data-ttu-id="46b79-330">Kuyruktan bir ileti alındığında, yanıt iletisi ve ileti silmek için gerekli bir pop giriş değeri içeriyor.</span><span class="sxs-lookup"><span data-stu-id="46b79-330">When a message is retrieved from the queue, the response includes the message and a pop receipt value, which is required to delete the message.</span></span> <span data-ttu-id="46b79-331">İletiyi kuyruktan otomatik olarak silinmez, ancak bunu alındıktan sonra visibilitytimeout parametresi tarafından belirtilen zaman aralığı için diğer istemcilere görünür değil.</span><span class="sxs-lookup"><span data-stu-id="46b79-331">The message is not automatically deleted from the queue, but after it has been retrieved, it is not visible to other clients for the time interval specified by the visibilitytimeout parameter.</span></span> <span data-ttu-id="46b79-332">İletiyi alır istemci ileti işlendikten sonra TimeNextVisible tarafından belirtilen süreden önce hesaplanır yanıt öğesinin visibilitytimeout parametre değeri temel alınarak silme bekleniyor.</span><span class="sxs-lookup"><span data-stu-id="46b79-332">The client that retrieves the message is expected to delete the message after it has been processed, and before the time specified by the TimeNextVisible element of the response, which is calculated based on the value of the visibilitytimeout parameter.</span></span> <span data-ttu-id="46b79-333">Visibilitytimeout değerini TimeNextVisible değerini belirlemek için hangi ileti alınır zaman eklenir.</span><span class="sxs-lookup"><span data-stu-id="46b79-333">The value of visibilitytimeout is added to the time at which the message is retrieved to determine the value of TimeNextVisible.</span></span>  

<span data-ttu-id="46b79-334">Sıra Hizmeti iyimser veya kötümser eşzamanlılık desteği yok ve bir ıdempotent şekilde işlenen iletileri bir sıradan alınan iletileri işleme neden istemcileri bu için emin olmalısınız.</span><span class="sxs-lookup"><span data-stu-id="46b79-334">The queue service does not have support for either optimistic or pessimistic concurrency and for this reason clients processing messages retrieved from a queue should ensure messages are processed in an idempotent manner.</span></span> <span data-ttu-id="46b79-335">Bir son yazıcı WINS stratejisi SetQueueServiceProperties, SetQueueMetaData, SetQueueACL ve UpdateMessage gibi güncelleştirme işlemleri için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="46b79-335">A last writer wins strategy is used for update operations such as SetQueueServiceProperties, SetQueueMetaData, SetQueueACL and UpdateMessage.</span></span>  

<span data-ttu-id="46b79-336">Daha fazla bilgi için bkz:</span><span class="sxs-lookup"><span data-stu-id="46b79-336">For more information see:</span></span>  

* [<span data-ttu-id="46b79-337">Kuyruk hizmeti REST API'si</span><span class="sxs-lookup"><span data-stu-id="46b79-337">Queue Service REST API</span></span>](http://msdn.microsoft.com/library/azure/dd179363.aspx)
* [<span data-ttu-id="46b79-338">İletileri alma</span><span class="sxs-lookup"><span data-stu-id="46b79-338">Get Messages</span></span>](http://msdn.microsoft.com/library/azure/dd179474.aspx)  

## <a name="managing-concurrency-in-the-file-service"></a><span data-ttu-id="46b79-339">Dosya hizmeti eşzamanlılık yönetme</span><span class="sxs-lookup"><span data-stu-id="46b79-339">Managing Concurrency in the File Service</span></span>
<span data-ttu-id="46b79-340">Dosya hizmeti, iki farklı protokol uç noktalarını – SMB ve REST kullanarak erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="46b79-340">The file service can be accessed using two different protocol endpoints – SMB and REST.</span></span> <span data-ttu-id="46b79-341">REST hizmeti İyimser kilitleme veya kötümser kilitleme desteği yoktur ve tüm güncelleştirmeleri bir son yazıcı WINS stratejisi izler.</span><span class="sxs-lookup"><span data-stu-id="46b79-341">The REST service does not have support for either optimistic locking or pessimistic locking and all updates will follow a last writer wins strategy.</span></span> <span data-ttu-id="46b79-342">Dosya paylaşımları bağlama SMB istemcileri paylaşılan dosyaları – kötümser kilitleme gerçekleştirme yeteneğini de dahil olmak üzere erişimi yönetmek için dosya sistemi kilitleme mekanizmaları yararlanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="46b79-342">SMB clients that mount file shares can leverage file system locking mechanisms to manage access to shared files – including the ability to perform pessimistic locking.</span></span> <span data-ttu-id="46b79-343">SMB istemcisi bir dosyayı açtığında dosya erişim ve Paylaşım belirtir modu.</span><span class="sxs-lookup"><span data-stu-id="46b79-343">When an SMB client opens a file, it specifies both the file access and share mode.</span></span> <span data-ttu-id="46b79-344">Dosya erişimi seçeneği "Yazma" veya "Okuma/yazma" bir dosya paylaşımı modu birlikte "None" dosya kapatılana kadar bir SMB istemci tarafından kilitleniyor dosyasında neden olur.</span><span class="sxs-lookup"><span data-stu-id="46b79-344">Setting a File Access option of "Write" or "Read/Write" along with a File Share mode of "None" will result in the file being locked by an SMB client until the file is closed.</span></span> <span data-ttu-id="46b79-345">SMB istemci kilitli dosyanın bulunduğu bir dosya REST işleminin denenmesi durumunda REST hizmeti hata kodu SharingViolation durum koduyla 409 (Çakışma) döndürür.</span><span class="sxs-lookup"><span data-stu-id="46b79-345">If REST operation is attempted on a file where an SMB client has the file locked the REST service will return status code 409 (Conflict) with error code SharingViolation.</span></span>  

<span data-ttu-id="46b79-346">SMB istemcisi silme için bir dosya açıldığında, bu dosyada açık tanıtıcıların bekleyen silme diğer tüm SMB istemci kadar kapalı olarak dosyayı işaretler.</span><span class="sxs-lookup"><span data-stu-id="46b79-346">When an SMB client opens a file for delete, it marks the file as pending delete until all other SMB client open handles on that file are closed.</span></span> <span data-ttu-id="46b79-347">Bir dosya bekleyen silme olarak işaretlenmiş, ancak bu dosya üzerinde herhangi bir REST işlemi hata kodu SMBDeletePending durum koduyla 409 (Çakışma) döndürür.</span><span class="sxs-lookup"><span data-stu-id="46b79-347">While a file is marked as pending delete, any REST operation on that file will return status code 409 (Conflict) with error code SMBDeletePending.</span></span> <span data-ttu-id="46b79-348">Dosyayı kapatmadan önce bekleyen silme bayrağı kaldırmak SMB istemcisi için olası olduğundan durum kodu 404 (bulunamadı) döndürülmez.</span><span class="sxs-lookup"><span data-stu-id="46b79-348">Status code 404 (Not Found) is not returned since it is possible for the SMB client to remove the pending deletion flag prior to closing the file.</span></span> <span data-ttu-id="46b79-349">Diğer bir deyişle, durum kodu 404 (bulunamadı), yalnızca dosya kaldırıldığında beklenir.</span><span class="sxs-lookup"><span data-stu-id="46b79-349">In other words, status code 404 (Not Found) is only expected when the file has been removed.</span></span> <span data-ttu-id="46b79-350">Delete durumu bekleyen bir SMB dosya olarak kullanılırken, liste dosyaları sonuçlarında katılmaz olduğunu unutmayın. Ayrıca REST Dosya Sil ve REST dizin silme işlemlerini otomatik olarak uygulanır ve silme durumu yol açmamasını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="46b79-350">Note that while a file is in a SMB pending delete state, it will not be included in the List Files results.Also note that the REST Delete File and REST Delete Directory operations are committed atomically and do not result in pending delete state.</span></span>  

<span data-ttu-id="46b79-351">Daha fazla bilgi için bkz:</span><span class="sxs-lookup"><span data-stu-id="46b79-351">For more information see:</span></span>  

* [<span data-ttu-id="46b79-352">Dosya Yönetimi kilitler</span><span class="sxs-lookup"><span data-stu-id="46b79-352">Managing File Locks</span></span>](http://msdn.microsoft.com/library/azure/dn194265.aspx)  

## <a name="summary-and-next-steps"></a><span data-ttu-id="46b79-353">Özet ve sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="46b79-353">Summary and Next Steps</span></span>
<span data-ttu-id="46b79-354">Microsoft Azure depolama hizmeti, geliştiricilerin tehlikeye veya için verilen alın gelmiş eşzamanlılık ve veri tutarlılığı gibi temel tasarım varsayımları zorlanıyor zorlamadan en karmaşık çevrimiçi uygulamalar ihtiyaçlarını karşılamak üzere tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="46b79-354">The Microsoft Azure Storage service has been designed to meet the needs of the most complex online applications without forcing developers to compromise or rethink key design assumptions such as concurrency and data consistency that they have come to take for granted.</span></span>  

<span data-ttu-id="46b79-355">Bu Web Günlüğü'ndeki başvurulan tam örnek uygulama için:</span><span class="sxs-lookup"><span data-stu-id="46b79-355">For the complete sample application referenced in this blog:</span></span>  

* [<span data-ttu-id="46b79-356">Azure Storage - örnek uygulaması kullanarak eşzamanlılık yönetme</span><span class="sxs-lookup"><span data-stu-id="46b79-356">Managing Concurrency using Azure Storage - Sample Application</span></span>](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114)  

<span data-ttu-id="46b79-357">Azure Storage bakın hakkında daha fazla bilgi için:</span><span class="sxs-lookup"><span data-stu-id="46b79-357">For more information on Azure Storage see:</span></span>  

* [<span data-ttu-id="46b79-358">Microsoft Azure depolama giriş sayfası</span><span class="sxs-lookup"><span data-stu-id="46b79-358">Microsoft Azure Storage Home Page</span></span>](https://azure.microsoft.com/services/storage/)
* [<span data-ttu-id="46b79-359">Azure Storage'a giriş</span><span class="sxs-lookup"><span data-stu-id="46b79-359">Introduction to Azure Storage</span></span>](storage-introduction.md)
* <span data-ttu-id="46b79-360">Başlarken depolama [Blob](storage-dotnet-how-to-use-blobs.md), [tablo](storage-dotnet-how-to-use-tables.md), [sıraları](storage-dotnet-how-to-use-queues.md), ve [dosyaları](storage-dotnet-how-to-use-files.md)</span><span class="sxs-lookup"><span data-stu-id="46b79-360">Storage Getting Started for [Blob](storage-dotnet-how-to-use-blobs.md), [Table](storage-dotnet-how-to-use-tables.md),  [Queues](storage-dotnet-how-to-use-queues.md), and [Files](storage-dotnet-how-to-use-files.md)</span></span>
* <span data-ttu-id="46b79-361">Depolama mimarisi – [Azure Storage: güçlü tutarlılık sahip yüksek oranda kullanılabilir bulut depolama hizmeti](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx)</span><span class="sxs-lookup"><span data-stu-id="46b79-361">Storage Architecture – [Azure Storage : A Highly Available Cloud Storage Service with Strong Consistency](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx)</span></span>

