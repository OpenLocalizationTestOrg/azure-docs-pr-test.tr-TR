---
title: "Öğretici: Azure BizTalk Services kullanarak EDIFACT faturaları işlem | Microsoft Docs"
description: "Oluşturma ve kutusunu Bağlayıcısı veya API uygulamasını yapılandırma ve Azure App Service'te bir mantıksal uygulama içinde kullanma"
services: biztalk-services
documentationcenter: .net,nodejs,java
author: msftman
manager: erikre
editor: 
ms.assetid: 7e0b93fa-3e2b-4a9c-89ef-abf1d3aa8fa9
ms.service: biztalk-services
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 05/31/2016
ms.author: deonhe
ms.openlocfilehash: 4597ee28e4c3b797c0ab050b21a126a95d9e8191
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/03/2017
---
# <a name="tutorial-process-edifact-invoices-using-azure-biztalk-services"></a><span data-ttu-id="da326-103">Öğretici: Azure BizTalk Services kullanarak işlem EDIFACT faturalar</span><span class="sxs-lookup"><span data-stu-id="da326-103">Tutorial: Process EDIFACT invoices using Azure BizTalk Services</span></span>

> [!INCLUDE [BizTalk Services is being retired, and replaced with Azure Logic Apps](../../includes/biztalk-services-retirement.md)]

<span data-ttu-id="da326-104">BizTalk Services Portalı'nı yapılandırmak ve X12 ve EDIFACT sözleşmelerini dağıtmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="da326-104">You can use the BizTalk Services Portal to configure and deploy X12 and EDIFACT agreements.</span></span> <span data-ttu-id="da326-105">Bu öğreticide, faturalar ticaret iş ortakları arasında değiş tokuşu için EDIFACT sözleşmesi oluşturma ele.</span><span class="sxs-lookup"><span data-stu-id="da326-105">In this tutorial, we look at how to create an EDIFACT agreement for exchanging invoices between trading partners.</span></span> <span data-ttu-id="da326-106">Bu öğretici EDIFACT ileti değiş tokuşu Northwind ve Contoso olmak üzere iki ticari ortaklar içeren bir uçtan uca iş çözüm yazılır.</span><span class="sxs-lookup"><span data-stu-id="da326-106">This tutorial is written around an end-to-end business solution involving two trading partners, Northwind and Contoso that exchange EDIFACT messages.</span></span>  

## <a name="sample-based-on-this-tutorial"></a><span data-ttu-id="da326-107">Bu öğretici temel örnek</span><span class="sxs-lookup"><span data-stu-id="da326-107">Sample based on this tutorial</span></span>
<span data-ttu-id="da326-108">Bu öğretici bir örnek yazılır **EDIFACT faturaları kullanarak BizTalk Services gönderme**, indirin kullanılabilen [MSDN kod Galerisi'nden](http://go.microsoft.com/fwlink/?LinkId=401005).</span><span class="sxs-lookup"><span data-stu-id="da326-108">This tutorial is written around a sample, **Sending EDIFACT Invoices Using BizTalk Services**, which is available to download from the [MSDN Code Gallery](http://go.microsoft.com/fwlink/?LinkId=401005).</span></span> <span data-ttu-id="da326-109">Örnek kullanın ve örnek nasıl oluşturulmuş anlamak için bu öğreticiyi.</span><span class="sxs-lookup"><span data-stu-id="da326-109">You could use the sample and go through this tutorial to understand how the sample was built.</span></span> <span data-ttu-id="da326-110">Veya, kendi çözümü başından başlayarak yukarı oluşturmak için bu öğreticiyi kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="da326-110">Or, you could use this tutorial to create your own solution ground-up.</span></span> <span data-ttu-id="da326-111">Bu çözümün nasıl oluşturulmuş anlamanız Bu öğreticinin ikinci bir yaklaşım yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="da326-111">This tutorial is targeted towards the second approach so that you understand how this solution was built.</span></span> <span data-ttu-id="da326-112">Ayrıca, mümkün olduğunca öğretici örneği ile tutarlıdır ve yapılar (örneğin, şemalar, Dönüşümlerin) için aynı adları olarak örnekteki kullanılan kullanır.</span><span class="sxs-lookup"><span data-stu-id="da326-112">Also, as much as possible, the tutorial is consistent with the sample and uses the same names for artifacts (for example, schemas, transforms) as used in the sample.</span></span>  

> [!NOTE]
> <span data-ttu-id="da326-113">Bu çözüm EDI köprüsüne EAI köprü ileti gönderme içerdiğinden yeniden kullanır [BizTalk Services örnek zincirleme köprüsü](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) örnek.</span><span class="sxs-lookup"><span data-stu-id="da326-113">Because this solution involves sending a message from an EAI bridge to an EDI bridge, it reuses the [BizTalk Services Bridge chaining sample](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) sample.</span></span>  
> 
> 

## <a name="what-does-the-solution-do"></a><span data-ttu-id="da326-114">Çözüm ne yapar?</span><span class="sxs-lookup"><span data-stu-id="da326-114">What does the solution do?</span></span>
<span data-ttu-id="da326-115">Bu çözümde, Northwind EDIFACT faturalar Contoso alır.</span><span class="sxs-lookup"><span data-stu-id="da326-115">In this solution, Northwind receives EDIFACT invoices from Contoso.</span></span> <span data-ttu-id="da326-116">Bu faturalar standart EDI biçimde değil.</span><span class="sxs-lookup"><span data-stu-id="da326-116">These invoices are not in a standard EDI format.</span></span> <span data-ttu-id="da326-117">Bu nedenle, Northwind için fatura göndermeden önce bir EDIFACT (INVOIC olarak da bilinir) fatura belgeye dönüştürülmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="da326-117">So, before sending the invoice to Northwind, it must be transformed to an EDIFACT invoice (also called INVOIC) document.</span></span> <span data-ttu-id="da326-118">Alındığında, Northwind EDIFACT fatura işlemek ve Contoso için (CONTRL olarak da bilinir) bir denetim iletisi döndürmek gerekir.</span><span class="sxs-lookup"><span data-stu-id="da326-118">On receipt, Northwind must process the EDIFACT invoice, and return a control message (also called CONTRL) to Contoso.</span></span>

![][1]  

<span data-ttu-id="da326-119">Bu iş senaryosu elde etmek için Microsoft Azure BizTalk Services ile sağlanan özellikler Contoso kullanır.</span><span class="sxs-lookup"><span data-stu-id="da326-119">To achieve this business scenario, Contoso uses the features provided with Microsoft Azure BizTalk Services.</span></span>

* <span data-ttu-id="da326-120">Contoso EAI köprüleri orijinal faturayı EDIFACT INVOIC dönüştürmek için kullanır.</span><span class="sxs-lookup"><span data-stu-id="da326-120">Contoso uses EAI bridges to transform the original invoice to EDIFACT INVOIC.</span></span>
* <span data-ttu-id="da326-121">EAI köprü bu durumda BizTalk Services Portalı'nda yapılandırılmış anlaşmanın bir parçası olarak dağıtılan bir EDI gönderme köprüsü iletiyi gönderir.</span><span class="sxs-lookup"><span data-stu-id="da326-121">The EAI bridge then sends the message to an EDI send bridge deployed as part of an agreement configured in the BizTalk Services Portal.</span></span>
* <span data-ttu-id="da326-122">EDI gönderme köprüsü EDIFACT INVOIC işler ve Northwind olarak yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="da326-122">The EDI send bridge processes the EDIFACT INVOIC and routes it to Northwind.</span></span>
* <span data-ttu-id="da326-123">Fatura aldıktan sonra Northwind döner bir CONTRL iletisi EDI anlaşmanın bir parçası dağıtılan köprüsü alırsınız.</span><span class="sxs-lookup"><span data-stu-id="da326-123">After receiving the invoice, Northwind returns a CONTRL message to the EDI receive bridge deployed as part of the agreement.</span></span>  

> [!NOTE]
> <span data-ttu-id="da326-124">İsteğe bağlı olarak, bu çözüm Ayrıca toplu işleme yığınlardaki ayrı ayrı her bir fatura göndermek yerine faturaları göndermek için nasıl kullanılacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="da326-124">Optionally, this solution also demonstrates how to use batching to send the invoices in batches, instead of sending each invoice separately.</span></span>  
> 
> 

<span data-ttu-id="da326-125">Senaryonun tamamlanması için Service Bus kuyruklarını fatura Contoso Northwind olarak göndermek veya Northwind onay almak için kullanırız.</span><span class="sxs-lookup"><span data-stu-id="da326-125">To complete the scenario, we use Service Bus queues to send invoice from Contoso to Northwind or receive acknowledgement from Northwind.</span></span> <span data-ttu-id="da326-126">Bu kuyruklar, bir yükleme olarak kullanılabilir ve kullanılabilir olan örnek paketine dahil olan bir istemci uygulaması kullanılarak oluşturulabilir Bu öğreticinin bir parçası olarak.</span><span class="sxs-lookup"><span data-stu-id="da326-126">These queues can be created using a client application, which is available as a download and is included in the sample package that is available as part of this tutorial.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="da326-127">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="da326-127">Prerequisites</span></span>
* <span data-ttu-id="da326-128">Hizmet veri yolu ad alanı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="da326-128">You must have a Service Bus namespace.</span></span> <span data-ttu-id="da326-129">Bir ad alanı oluşturma ile ilgili yönergeler için bkz: [nasıl yapılır: oluşturmak veya bir hizmet veri yolu hizmet Namespace değiştirmek](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span><span class="sxs-lookup"><span data-stu-id="da326-129">For instructions on creating a namespace, see [How To: Create or Modify a Service Bus Service Namespace](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span></span> <span data-ttu-id="da326-130">Bize sağlanan, bir hizmet veri yolu ad alanı zaten sahip olduğunuzu varsaymaktadır adlı **edifactbts**.</span><span class="sxs-lookup"><span data-stu-id="da326-130">Let us assume that you already have a Service Bus namespace provisioned, called **edifactbts**.</span></span>
* <span data-ttu-id="da326-131">BizTalk Services aboneliğinizin olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="da326-131">You must have a BizTalk Services subscription.</span></span> <span data-ttu-id="da326-132">Yönergeler için bkz: [Klasik Azure portalını kullanarak BizTalk hizmeti oluşturma](http://go.microsoft.com/fwlink/?LinkID=302280).</span><span class="sxs-lookup"><span data-stu-id="da326-132">For instructions, see [Create a BizTalk Service using Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=302280).</span></span> <span data-ttu-id="da326-133">Bu öğretici için bize adlı bir BizTalk Services abonelik olduğunu varsayın **contosowabs**.</span><span class="sxs-lookup"><span data-stu-id="da326-133">For this tutorial, let us assume you have a BizTalk Services subscription, called **contosowabs**.</span></span>
* <span data-ttu-id="da326-134">BizTalk Hizmetleri aboneliğinize BizTalk Hizmetleri portalındaki kaydedin.</span><span class="sxs-lookup"><span data-stu-id="da326-134">Register your BizTalk Services subscription on the BizTalk Services Portal.</span></span> <span data-ttu-id="da326-135">Yönergeler için bkz: [bir BizTalk hizmeti dağıtımı BizTalk Hizmetleri portalındaki kaydetme](https://msdn.microsoft.com/library/hh689837.aspx)</span><span class="sxs-lookup"><span data-stu-id="da326-135">For instructions, see [Registering a BizTalk Service Deployment on the BizTalk Services Portal](https://msdn.microsoft.com/library/hh689837.aspx)</span></span>
* <span data-ttu-id="da326-136">Visual Studio yüklü olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="da326-136">You must have Visual Studio installed.</span></span>
* <span data-ttu-id="da326-137">BizTalk Services SDK'sı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="da326-137">You must have BizTalk Services SDK installed.</span></span> <span data-ttu-id="da326-138">SDK'dan gelen indirebilirsiniz [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span><span class="sxs-lookup"><span data-stu-id="da326-138">You can download the SDK from [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span></span>  

## <a name="step-1-create-the-service-bus-queues"></a><span data-ttu-id="da326-139">1. adım: hizmet veri yolu Kuyrukları Oluşturma</span><span class="sxs-lookup"><span data-stu-id="da326-139">Step 1: Create the Service Bus queues</span></span>
<span data-ttu-id="da326-140">Bu çözüm, ileti ticaret iş ortakları arasında değiş tokuşu için Service Bus kuyruklarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="da326-140">This solution uses Service Bus queues to exchange messages between trading partners.</span></span> <span data-ttu-id="da326-141">Contoso ve Northwind iletileri EAI ve/veya EDI köprüleri bunları burada tüketen gelen sıralara gönderir.</span><span class="sxs-lookup"><span data-stu-id="da326-141">Contoso and Northwind send messages to the queues from where the EAI and/or EDI bridges consume them.</span></span> <span data-ttu-id="da326-142">Bu çözüm için üç hizmet veri yolu kuyrukları gerekir:</span><span class="sxs-lookup"><span data-stu-id="da326-142">For this solution, you need three Service Bus queues:</span></span>

* <span data-ttu-id="da326-143">**northwindreceive** – Northwind Contoso fatura bu sırayı alır.</span><span class="sxs-lookup"><span data-stu-id="da326-143">**northwindreceive** – Northwind receives the invoice from Contoso over this queue.</span></span>
* <span data-ttu-id="da326-144">**contosoreceive** – Contoso Bu kuyruk Northwind bildirim alır.</span><span class="sxs-lookup"><span data-stu-id="da326-144">**contosoreceive** – Contoso receives the acknowledgement from Northwind over this queue.</span></span>
* <span data-ttu-id="da326-145">**askıya** – tüm askıya alınan iletileri bu kuyruğa yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="da326-145">**suspended** – All suspended messages are routed to this queue.</span></span> <span data-ttu-id="da326-146">İşleme sırasında başarısız olursa iletileri askıya alınır.</span><span class="sxs-lookup"><span data-stu-id="da326-146">Messages are suspended if they fail during processing.</span></span>

<span data-ttu-id="da326-147">Bu hizmet veri yolu kuyrukları örnek paketinde bulunan bir istemci uygulaması kullanarak oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="da326-147">You can create these Service Bus queues by using a client application included in the sample package.</span></span>  

1. <span data-ttu-id="da326-148">Örnek indirdiğiniz konumdan açmak **öğretici gönderme faturaları kullanarak BizTalk Services EDI Bridges.sln**.</span><span class="sxs-lookup"><span data-stu-id="da326-148">From the location where you downloaded the sample, open **Tutorial Sending Invoices Using BizTalk Services EDI Bridges.sln**.</span></span>
2. <span data-ttu-id="da326-149">Tuşuna **F5** oluşturun ve başlatın **öğretici istemci** uygulama.</span><span class="sxs-lookup"><span data-stu-id="da326-149">Press **F5** to build and start the **Tutorial Client** application.</span></span>
3. <span data-ttu-id="da326-150">Ekranında, hizmet veri yolu ACS ad alanı, verenin adı ve verenin anahtarı girin.</span><span class="sxs-lookup"><span data-stu-id="da326-150">In the screen, enter the Service Bus ACS namespace, issuer name, and issuer key.</span></span>
   
   ![][2]  
4. <span data-ttu-id="da326-151">Bir ileti kutusu üç sıraları hizmet veri yolu ad alanınız içinde oluşturulacak ister.</span><span class="sxs-lookup"><span data-stu-id="da326-151">A message box prompts that three queues will be created in your Service Bus namespace.</span></span> <span data-ttu-id="da326-152">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="da326-152">Click **OK**.</span></span>
5. <span data-ttu-id="da326-153">Öğretici çalıştıran istemci bırakın.</span><span class="sxs-lookup"><span data-stu-id="da326-153">Leave the Tutorial Client running.</span></span> <span data-ttu-id="da326-154">Açık öğesini **Service Bus** > ***hizmet veri yolu ad alanınız*** > **sıraları**ve üç sıraları oluşturulduğunu doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="da326-154">Open the , click **Service Bus** > ***your Service Bus namespace*** > **Queues**, and verify that the three queues are created.</span></span>  

## <a name="step-2-create-and-deploy-trading-partner-agreement"></a><span data-ttu-id="da326-155">2. adım: Oluşturma ve ticari ortak sözleşmesi dağıtma</span><span class="sxs-lookup"><span data-stu-id="da326-155">Step 2: Create and deploy trading partner agreement</span></span>
<span data-ttu-id="da326-156">Contoso Northwind arasındaki ticari ortak sözleşmesi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="da326-156">Create a trading partner agreement between Contoso and Northwind.</span></span> <span data-ttu-id="da326-157">Ticari ortak sözleşmesi hangi ileti şeması kullanmak için hangi Mesajlaşma protokolünü kullanmak için vb. gibi iki iş ortakları arasında bir ticari sözleşme tanımlar. Ticari ortak sözleşmesi, bir ticaret ortakları iletileri göndermek için iki EDI köprüleri içerir (adlı **EDI gönderme köprüsü**) ve bir ticaret ortaklarından gelen iletileri almak için (adlı **EDI alma köprüsü**).</span><span class="sxs-lookup"><span data-stu-id="da326-157">A trading partner agreement defines a trade contract between the two business partners, such as which message schema to use, which messaging protocol to use, etc. A trading partner agreement includes two EDI bridges, one to send messages to trading partners (called the **EDI Send bridge**) and one to receive messages from trading partners (called the **EDI Receive bridge**).</span></span>

<span data-ttu-id="da326-158">Bu çözüm bağlamında EDI gönderme köprüsü gönderme tarafı Sözleşmesi'nin karşılık gelir ve EDIFACT fatura Contoso Northwind olarak göndermek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="da326-158">In the context of this solution, the EDI send bridge corresponds to the send-side of the agreement and is used to send the EDIFACT invoice from Contoso to Northwind.</span></span> <span data-ttu-id="da326-159">Benzer şekilde, EDI alma köprüsü alış tarafı Sözleşmesi'nin karşılık gelen ve Northwind alma bildirimleri için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="da326-159">Similarly, the EDI receive bridge corresponds to the receive-side of the agreement and is used to receive acknowledgements from Northwind.</span></span>  

### <a name="create-the-trading-partners"></a><span data-ttu-id="da326-160">Ticari ortaklar oluşturma</span><span class="sxs-lookup"><span data-stu-id="da326-160">Create the trading partners</span></span>
<span data-ttu-id="da326-161">İle başlamak ticari ortaklar Contoso Northwind oluşturun.</span><span class="sxs-lookup"><span data-stu-id="da326-161">To start with, create trading partners for Contoso and Northwind.</span></span>  

1. <span data-ttu-id="da326-162">BizTalk Services Portalı'nda üzerinde **ortakları** sekmesini tıklatın, **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="da326-162">In the BizTalk Services Portal, on the **Partners** tab, click **Add**.</span></span>
2. <span data-ttu-id="da326-163">Yeni iş ortağı sayfasındaki girin **Contoso** bir ortak adı ve ardından olarak **kaydetmek**.</span><span class="sxs-lookup"><span data-stu-id="da326-163">In the New partner page, enter **Contoso** as a partner name, and then click **Save**.</span></span>
3. <span data-ttu-id="da326-164">İkinci iş ortağı oluşturmak için adımı tekrarlayın **Northwind**.</span><span class="sxs-lookup"><span data-stu-id="da326-164">Repeat the step to create the second partner, **Northwind**.</span></span>  

### <a name="create-the-agreement"></a><span data-ttu-id="da326-165">Sözleşmesi oluşturma</span><span class="sxs-lookup"><span data-stu-id="da326-165">Create the agreement</span></span>
<span data-ttu-id="da326-166">Ticari ortak sözleşmeleri ortakları ticari iş profilleri arasında oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="da326-166">Trading partner agreements are created between business profiles of trading partners.</span></span> <span data-ttu-id="da326-167">Bu çözüm ortakları oluşturduğumuz olduğunda otomatik olarak oluşturulan varsayılan iş ortağı profilleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="da326-167">This solution uses the default partner profiles that are automatically created when we created the partners.</span></span>  

1. <span data-ttu-id="da326-168">BizTalk Services Portalı'nda tıklatın **anlaşmaları** > **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="da326-168">In the BizTalk Services Portal, click **Agreements** > **Add**.</span></span>
2. <span data-ttu-id="da326-169">Yeni anlaşmanın içinde **genel ayarları** sayfasında, aşağıdaki resimde gösterildiği gibi değerleri belirtin ve ardından **devam**.</span><span class="sxs-lookup"><span data-stu-id="da326-169">In the new agreement’s **General Settings** page, specify the values as shown in the image below, and then click **Continue**.</span></span>
   
   ![][3]  
   
   <span data-ttu-id="da326-170">Tıklattıktan sonra **devam**, iki sekme **alma ayarı** ve **gönderme ayarları** kullanılabilir hale gelir.</span><span class="sxs-lookup"><span data-stu-id="da326-170">After you click **Continue**, two tabs, **Receive Settings** and **Send Settings** become available.</span></span>
3. <span data-ttu-id="da326-171">Contoso Northwind arasındaki gönderme sözleşmesi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="da326-171">Create the send agreement between Contoso and Northwind.</span></span> <span data-ttu-id="da326-172">Bu anlaşma, Contoso EDIFACT fatura Northwind olarak nasıl göndereceğini yönetir.</span><span class="sxs-lookup"><span data-stu-id="da326-172">This agreement governs how Contoso sends the EDIFACT invoice to Northwind.</span></span>
   
   1. <span data-ttu-id="da326-173">Tıklatın **gönderme ayarları**.</span><span class="sxs-lookup"><span data-stu-id="da326-173">Click **Send Settings**.</span></span>
   2. <span data-ttu-id="da326-174">Varsayılan değerleri üzerinde korumak **gelen URL**, **dönüştürme**, ve **Batching** sekmeleri.</span><span class="sxs-lookup"><span data-stu-id="da326-174">Retain the default values on the **Inbound URL**, **Transform**, and **Batching** tabs.</span></span>
   3. <span data-ttu-id="da326-175">Üzerinde **Protokolü** sekmesinde, altında **şemaları** bölümünde, karşıya yükleme **EFACT_D93A_INVOIC.xsd** şema.</span><span class="sxs-lookup"><span data-stu-id="da326-175">On the **Protocol** tab, under the **Schemas** section, upload the **EFACT_D93A_INVOIC.xsd** schema.</span></span> <span data-ttu-id="da326-176">Bu şema örnek paketi ile birlikte kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="da326-176">This schema is available with the sample package.</span></span>
      
      ![][4]  
   4. <span data-ttu-id="da326-177">Üzerinde **aktarım** sekmesinde, Service Bus kuyruklarını ayrıntılarını belirtin.</span><span class="sxs-lookup"><span data-stu-id="da326-177">On the **Transport** tab, specify the details for the Service Bus queues.</span></span> <span data-ttu-id="da326-178">Gönderme tarafı anlaşması için kullandığımız **northwindreceive** EDIFACT fatura Northwind olarak göndermek için sıra ve **askıya** işleme sırasında başarısız ve askıya alınan iletileri yönlendirmek için sıra.</span><span class="sxs-lookup"><span data-stu-id="da326-178">For the send-side agreement, we use the **northwindreceive** queue to send the EDIFACT invoice to Northwind, and the **suspended** queue to route any messages that fail during processing and are suspended.</span></span> <span data-ttu-id="da326-179">Bu kuyruklar oluşturulan **1. adım: hizmet veri yolu Kuyrukları Oluşturma** (Bu konudaki).</span><span class="sxs-lookup"><span data-stu-id="da326-179">You created these queues in **Step 1: Create the Service Bus queues** (in this topic).</span></span>
      
      ![][5]  
      
      <span data-ttu-id="da326-180">Altında **Aktarım Ayarları > taşıma türü** ve **ileti askıya Ayarları > taşıma türü**, Azure hizmet veri yolu seçin ve değerleri görüntüde gösterildiği gibi girin.</span><span class="sxs-lookup"><span data-stu-id="da326-180">Under **Transport Settings > Transport type** and **Message Suspension Settings > Transport type**, select Azure Service Bus and provide the values as shown in the image.</span></span>
4. <span data-ttu-id="da326-181">Alma sözleşmesinde Contoso Northwind arasındaki oluşturun.</span><span class="sxs-lookup"><span data-stu-id="da326-181">Create the receive agreement between Contoso and Northwind.</span></span> <span data-ttu-id="da326-182">Bu anlaşma nasıl Contoso Northwind alındısı yönetir.</span><span class="sxs-lookup"><span data-stu-id="da326-182">This agreement governs how Contoso receives the acknowledgement from Northwind.</span></span>
   
   1. <span data-ttu-id="da326-183">Tıklatın **alma ayarlarını**.</span><span class="sxs-lookup"><span data-stu-id="da326-183">Click **Receive Settings**.</span></span>
   2. <span data-ttu-id="da326-184">Varsayılan değerleri üzerinde korumak **aktarım** ve **dönüştürme** sekmeleri.</span><span class="sxs-lookup"><span data-stu-id="da326-184">Retain the default values on the **Transport** and **Transform** tabs.</span></span>
   3. <span data-ttu-id="da326-185">Üzerinde **Protokolü** sekmesinde, altında **şemaları** bölümünde, karşıya yükleme **EFACT_4.1_CONTRL.xsd** şema.</span><span class="sxs-lookup"><span data-stu-id="da326-185">On the **Protocol** tab, under the **Schemas** section, upload the **EFACT_4.1_CONTRL.xsd** schema.</span></span> <span data-ttu-id="da326-186">Bu şema örnek paketi ile birlikte kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="da326-186">This schema is available with the sample package.</span></span>
   4. <span data-ttu-id="da326-187">Üzerinde **rota** sekmesinde, yalnızca onayları Northwind gelen Contoso için yönlendirildiğinden emin olmak için bir filtre oluşturun.</span><span class="sxs-lookup"><span data-stu-id="da326-187">On the **Route** tab, create a filter to ensure that only acknowledgements from Northwind are routed to Contoso.</span></span> <span data-ttu-id="da326-188">Altında **yönlendirme ayarlarını**, tıklatın **Ekle** yönlendirme filtre oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="da326-188">Under **Route Settings**, click **Add** to create the routing filter.</span></span>
      
      ![][6]  
      
      1. <span data-ttu-id="da326-189">İçin değerler sağlayın **kural adı**, **yol kuralı**, ve **rota hedef** görüntüde gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="da326-189">Provide values for **Rule Name**, **Route rule**, and **Route destination** as shown in the image.</span></span>
      2. <span data-ttu-id="da326-190">**Kaydet** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="da326-190">Click **Save**.</span></span>
   5. <span data-ttu-id="da326-191">Üzerinde **rota** yeniden sekmesinde, askıya alınmış onayları (işleme sırasında başarısız onayları) burada yönlendirilir belirtin.</span><span class="sxs-lookup"><span data-stu-id="da326-191">On the **Route** tab again, specify where suspended acknowledgements (acknowledgements that fail during processing) are routed to.</span></span> <span data-ttu-id="da326-192">Azure Service Bus aktarım türü ayarlayın, rota hedef türüne **sıra**, kimlik doğrulama türü için **paylaşılan erişim imzası** (SAS), hizmet veri yolu ad alanı için SAS bağlantı dizesi girin ve sıra adı enter **askıya**.</span><span class="sxs-lookup"><span data-stu-id="da326-192">Set the transport type to Azure Service Bus, route destination type to **Queue**, authentication type to **Shared Access Signature** (SAS), provide the SAS connection string for the Service Bus namespace, and then enter the queue name as **suspended**.</span></span>
5. <span data-ttu-id="da326-193">Son olarak, tıklatın **dağıtma** sözleşmesi dağıtmak için.</span><span class="sxs-lookup"><span data-stu-id="da326-193">Finally, click **Deploy** to deploy the agreement.</span></span> <span data-ttu-id="da326-194">Uç noktaları unutmayın burada gönderme ve alma anlaşmaları dağıtılan.</span><span class="sxs-lookup"><span data-stu-id="da326-194">Note the endpoints where the send and receive agreements get deployed.</span></span>
   
   * <span data-ttu-id="da326-195">Üzerinde **gönderme ayarları** sekmesinde, altında **gelen URL**, uç nokta unutmayın.</span><span class="sxs-lookup"><span data-stu-id="da326-195">On the **Send Settings** tab, under **Inbound URL**, note the endpoint.</span></span> <span data-ttu-id="da326-196">EDI gönderme köprüsü kullanarak Northwind Contoso ileti göndermek için bu uç noktaya bir ileti göndermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="da326-196">To send a message from Contoso to Northwind using the EDI send bridge, you must send a message to this endpoint.</span></span>
   * <span data-ttu-id="da326-197">Üzerinde **alma ayarı** sekmesinde, altında **aktarım**, uç nokta unutmayın.</span><span class="sxs-lookup"><span data-stu-id="da326-197">On the **Receive Settings** tab, under **Transport**, note the endpoint.</span></span> <span data-ttu-id="da326-198">Contoso için Northwind ileti göndermek için EDI almak kullanarak köprüsü, bu uç noktaya bir ileti göndermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="da326-198">To send a message from Northwind to Contoso using the EDI receive bridge, you must send a message to this endpoint.</span></span>  

## <a name="step-3-create-and-deploy-the-biztalk-services-project"></a><span data-ttu-id="da326-199">3. adım: Oluşturma ve BizTalk Services projesi dağıtma</span><span class="sxs-lookup"><span data-stu-id="da326-199">Step 3: Create and deploy the BizTalk Services project</span></span>
<span data-ttu-id="da326-200">Önceki adımda EDI gönderme dağıtılan ve EDIFACT faturaları ve onayları işleme anlaşmaları alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="da326-200">In the previous step, you deployed the EDI send and receive agreements to process EDIFACT invoices and acknowledgements.</span></span> <span data-ttu-id="da326-201">Bu sözleşmeler, yalnızca standart EDIFACT ileti şemaya uygun işlem iletileri görüntüleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="da326-201">These agreements can only process messages that conform to the standard EDIFACT message schema.</span></span> <span data-ttu-id="da326-202">Bununla birlikte, senaryo için bu çözüm, Contoso fatura Northwind için şirket içi bir özel şemada gönderir.</span><span class="sxs-lookup"><span data-stu-id="da326-202">However, per the scenario for this solution, Contoso sends an invoice to Northwind in an in-house proprietary schema.</span></span> <span data-ttu-id="da326-203">EDI gönderme köprüsü için ileti gönderilmeden önce bu nedenle, bu şirket içi şemadan standart EDIFACT fatura şemaya dönüştürülmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="da326-203">So, before the message is sent to the EDI send bridge, it must be transformed from the in-house schema to the standard EDIFACT invoice schema.</span></span> <span data-ttu-id="da326-204">BizTalk Services EAI proje gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="da326-204">The BizTalk Services EAI project does that.</span></span>

<span data-ttu-id="da326-205">BizTalk Services projesi **InvoiceProcessingBridge**, Dönüşümlerin ileti Ayrıca, indirdiğiniz örnek bir parçası olarak yer almaktadır.</span><span class="sxs-lookup"><span data-stu-id="da326-205">The BizTalk Services project, **InvoiceProcessingBridge**, that transforms the message is also included as part of the sample you downloaded.</span></span> <span data-ttu-id="da326-206">Proje aşağıdaki yapılar içerir:</span><span class="sxs-lookup"><span data-stu-id="da326-206">The project includes the following artifacts:</span></span>

* <span data-ttu-id="da326-207">**INHOUSEINVOICE. XSD** – Northwind olarak gönderilen şirket içi faturayı şeması.</span><span class="sxs-lookup"><span data-stu-id="da326-207">**INHOUSEINVOICE.XSD** – Schema of the in-house invoice that is sent to Northwind.</span></span>
* <span data-ttu-id="da326-208">**EFACT_D93A_INVOIC. XSD** – standart EDIFACT fatura şeması.</span><span class="sxs-lookup"><span data-stu-id="da326-208">**EFACT_D93A_INVOIC.XSD** – Schema of the standard EDIFACT invoice.</span></span>
* <span data-ttu-id="da326-209">**EFACT_4.1_CONTRL. XSD** – Contoso için Northwind gönderir EDIFACT bildirim şeması.</span><span class="sxs-lookup"><span data-stu-id="da326-209">**EFACT_4.1_CONTRL.XSD** – Schema of the EDIFACT acknowledgement that Northwind sends to Contoso.</span></span>
* <span data-ttu-id="da326-210">**INHOUSEINVOICE_to_D93AINVOIC. TRFM** – şirket içi faturayı şema standart EDIFACT fatura şemaya eşlemeleri Dönüştür.</span><span class="sxs-lookup"><span data-stu-id="da326-210">**INHOUSEINVOICE_to_D93AINVOIC.TRFM** – The transform that maps the in-house invoice schema to the standard EDIFACT invoice schema.</span></span>  

### <a name="create-the-biztalk-services-project"></a><span data-ttu-id="da326-211">BizTalk Services projesi oluşturma</span><span class="sxs-lookup"><span data-stu-id="da326-211">Create the BizTalk Services project</span></span>
1. <span data-ttu-id="da326-212">Visual Studio çözümünde InvoiceProcessingBridge projenizi genişletin ve ardından açın **MessageFlowItinerary.bcs** dosya.</span><span class="sxs-lookup"><span data-stu-id="da326-212">In the Visual Studio solution, expand the InvoiceProcessingBridge project, and then open the **MessageFlowItinerary.bcs** file.</span></span>
2. <span data-ttu-id="da326-213">Tuvalde herhangi bir yere tıklayın ve ayarlayın **BizTalk hizmeti URL'si** özelliği kutusunda BizTalk Services abonelik adını belirtin.</span><span class="sxs-lookup"><span data-stu-id="da326-213">Click anywhere on the canvas and set the **BizTalk Service URL** in the property box to specify your BizTalk Services subscription name.</span></span> <span data-ttu-id="da326-214">Örneğin, `https://contosowabs.biztalk.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="da326-214">For example, `https://contosowabs.biztalk.windows.net`.</span></span>
   
   ![][7]  
3. <span data-ttu-id="da326-215">Araç Kutusu'ndan sürükleyin bir **Xml One-Way köprüsü** tuvale.</span><span class="sxs-lookup"><span data-stu-id="da326-215">From the toolbox, drag an **Xml One-Way Bridge** to the canvas.</span></span> <span data-ttu-id="da326-216">Ayarlama **varlık adı** ve **göreli adres** köprüsüne özelliklerini **ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="da326-216">Set the **Entity Name** and **Relative Address** properties of the bridge to **ProcessInvoiceBridge**.</span></span> <span data-ttu-id="da326-217">Çift **ProcessInvoiceBridge** köprüsü yapılandırması yüzeyini açın.</span><span class="sxs-lookup"><span data-stu-id="da326-217">Double-click **ProcessInvoiceBridge** to open the bridge configuration surface.</span></span>
4. <span data-ttu-id="da326-218">İçinde **ileti türleri** kutusunda, artı (**+**) düğmesini gelen ileti şemasını belirtin.</span><span class="sxs-lookup"><span data-stu-id="da326-218">Within the **Message Types** box, click the plus (**+**) button to specify the schema of the incoming message.</span></span> <span data-ttu-id="da326-219">Gelen ileti EAI köprü için her zaman şirket içi faturayı olduğundan, bu ayar **INHOUSEINVOICE**.</span><span class="sxs-lookup"><span data-stu-id="da326-219">Because the incoming message for the EAI bridge is always the in-house invoice, set this to **INHOUSEINVOICE**.</span></span>
   
   ![][8]  
5. <span data-ttu-id="da326-220">Tıklatın **Xml dönüştürme** şekli ve özellik kutusuna için **eşlemeleri** özelliği, üç nokta düğmesine (**...** ) düğmesi.</span><span class="sxs-lookup"><span data-stu-id="da326-220">Click the **Xml Transform** shape, and in the property box, for the **Maps** property, click the ellipsis (**...**) button.</span></span> <span data-ttu-id="da326-221">İçinde **eşlemeleri seçimi** iletişim kutusunda **INHOUSEINVOICE_to_D93AINVOIC** dönüşüm dosyasında ve ardından **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="da326-221">In the **Maps Selection** dialog box, select the **INHOUSEINVOICE_to_D93AINVOIC** transform file, and then click **OK**.</span></span>
   
   ![][9]  
6. <span data-ttu-id="da326-222">Geri dönerek **MessageFlowItinerary.bcs**, araç kutusu'ndan sürükleyin bir **iki yönlü dış hizmet uç noktası** sağındaki **ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="da326-222">Go back to **MessageFlowItinerary.bcs**, and from the toolbox, drag a **Two-Way External Service Endpoint** to the right of the **ProcessInvoiceBridge**.</span></span> <span data-ttu-id="da326-223">Ayarlama, **varlık adı** özelliğine **EDIBridge**.</span><span class="sxs-lookup"><span data-stu-id="da326-223">Set its **Entity Name** property to **EDIBridge**.</span></span>
7. <span data-ttu-id="da326-224">Çözüm Gezgini'nde genişletin **MessageFlowItinerary.bcs** çift tıklayın ve **EDIBridge.config** dosya.</span><span class="sxs-lookup"><span data-stu-id="da326-224">In the Solution Explorer, expand the **MessageFlowItinerary.bcs** and double-click the **EDIBridge.config** file.</span></span> <span data-ttu-id="da326-225">İçeriğinin yerine geçecek **EDIBridge.config** aşağıdaki.</span><span class="sxs-lookup"><span data-stu-id="da326-225">Replace the content of the **EDIBridge.config** with the following.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="da326-226">.Config dosyasını düzenlemek neden gerekiyor mu?</span><span class="sxs-lookup"><span data-stu-id="da326-226">Why do I need to edit the .config file?</span></span> <span data-ttu-id="da326-227">Köprü Tasarımcı tuvaline eklediğimiz dış hizmet uç noktası, daha önce dağıttığınız EDI köprüleri temsil eder.</span><span class="sxs-lookup"><span data-stu-id="da326-227">The external service endpoint that we added to the bridge designer canvas represents the EDI bridges that we deployed earlier.</span></span> <span data-ttu-id="da326-228">EDI köprüleri gönderme ile iki yönlü köprüleri olan ve alma tarafı.</span><span class="sxs-lookup"><span data-stu-id="da326-228">EDI bridges are two-way bridges, with a send and receive side.</span></span> <span data-ttu-id="da326-229">Ancak, tek yönlü bir köprü köprüsü Designer'a eklediğimiz EAI köprü olur.</span><span class="sxs-lookup"><span data-stu-id="da326-229">However, the EAI bridge that we added to the bridge designer is a one-way bridge.</span></span> <span data-ttu-id="da326-230">Bu nedenle, iki köprüleri farklı ileti exchange desenlerini işlemek için bir özel köprüsü davranış .config dosyasına yapılandırmasına dahil olmak üzere kullanırız.</span><span class="sxs-lookup"><span data-stu-id="da326-230">So, to handle the different message exchange patterns of the two bridges, we use a custom bridge behavior by including its configuration in the .config file.</span></span> <span data-ttu-id="da326-231">Ayrıca, özel davranış da EDI gönderme köprüsü uç kimlik doğrulaması gerçekleştirir. Bu özel davranış ayrı bir örnek olarak kullanılabilir [BizTalk Services örnek - EDI EAI zincirleme köprüsü](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span><span class="sxs-lookup"><span data-stu-id="da326-231">Additionally, the custom behavior also handles the authentication to the EDI send bridge endpoint.This custom behavior is available as a separate sample at [BizTalk Services Bridge chaining sample - EAI to EDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span></span> <span data-ttu-id="da326-232">Bu çözüm örneği yeniden kullanır.</span><span class="sxs-lookup"><span data-stu-id="da326-232">This solution reuses the sample.</span></span>  
   > 
   > 
   
   ```
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <system.serviceModel>
       <extensions>
         <behaviorExtensions>
           <add name="BridgeAuthentication" 
                 type="Microsoft.BizTalk.Bridge.Behaviour.BridgeBehaviorElement, Microsoft.BizTalk.Bridge.Behaviour, Version=1.0.0.0, Culture=neutral, PublicKeyToken=ae58f69b69495c05" />
         </behaviorExtensions>
       </extensions>
       <behaviors>
         <endpointBehaviors>
           <behavior name="BridgeAuthenticationConfiguration">
             <!-- Enter the ACS namespace, issuer name and issuer secret of the BizTalk Services deployment -->
             <BridgeAuthentication acsnamespace="[YOUR ACS NAMESPACE]" 
                                   issuername="owner" 
                                   issuersecret="[YOUR ACS SECRET]" />
             <webHttp />
           </behavior>
         </endpointBehaviors>
       </behaviors>
       <bindings>
         <webHttpBinding>
           <binding name="BridgeBindingConfiguration">
             <security mode="Transport" />
           </binding>
         </webHttpBinding>
       </bindings>
       <client>
         <clear />
         <!--
           Go BizTalk Portal > Agreement > Send Settings > Inbound URL
           Copy the Endpoint URL and paste it in the below address field
         -->
         <endpoint name="TwoWayExternalServiceEndpointReference1" 
                   address="[YOUR EDI BRIDGE SEND URI]" 
                   behaviorConfiguration="BridgeAuthenticationConfiguration" 
                   binding="webHttpBinding" 
                   bindingConfiguration="BridgeBindingConfiguration" 
                   contract="System.ServiceModel.Routing.IRequestReplyRouter" />
       </client>
     </system.serviceModel>
   </configuration>
   
   ```
8. <span data-ttu-id="da326-233">Yapılandırma ayrıntıları dahil etmek için EDIBridge.config dosyasını güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="da326-233">Update the EDIBridge.config file to include configuration details</span></span>
   
   * <span data-ttu-id="da326-234">Altında  *<behaviors>* , ACS ad alanı ve BizTalk Services aboneliğiyle ilişkili anahtarı sağlayın.</span><span class="sxs-lookup"><span data-stu-id="da326-234">Under *<behaviors>*, provide the ACS namespace and key associated with the BizTalk Services subscription.</span></span>
   * <span data-ttu-id="da326-235">Altında  *<client>* , EDI Gönderme Sözleşmesi dağıtıldığı uç noktası sağlar.</span><span class="sxs-lookup"><span data-stu-id="da326-235">Under *<client>*, provide the endpoint where the EDI send agreement is deployed.</span></span>
   
   <span data-ttu-id="da326-236">Değişiklikleri kaydetmek ve yapılandırma dosyasını kapatın.</span><span class="sxs-lookup"><span data-stu-id="da326-236">Save changes and close the configuration file.</span></span>
9. <span data-ttu-id="da326-237">Araç Kutusu'ndan tıklatın **bağlayıcı** ve katılma **ProcessInvoiceBridge** ve **EDIBridge** bileşenleri.</span><span class="sxs-lookup"><span data-stu-id="da326-237">From the Toolbox, click the **Connector** and join the **ProcessInvoiceBridge** and **EDIBridge** components.</span></span> <span data-ttu-id="da326-238">Bağlayıcıyı seçin ve Özellikler kutusunda ayarlanan **filtre koşulu** için **eşleşen tüm**.</span><span class="sxs-lookup"><span data-stu-id="da326-238">Select the connector, and in Properties box, set **Filter Condition** to **Match All**.</span></span> <span data-ttu-id="da326-239">Bu EAI köprü tarafından işlenen tüm iletileri EDI köprüsüne yönlendirilir sağlar.</span><span class="sxs-lookup"><span data-stu-id="da326-239">This ensures that all messages processed by the EAI bridge are routed to the EDI bridge.</span></span>
   
   ![][10]  
10. <span data-ttu-id="da326-240">Çözüme değişiklikleri kaydedin.</span><span class="sxs-lookup"><span data-stu-id="da326-240">Save changes to the solution.</span></span>  

### <a name="deploy-the-project"></a><span data-ttu-id="da326-241">Projeyi dağıtın</span><span class="sxs-lookup"><span data-stu-id="da326-241">Deploy the project</span></span>
1. <span data-ttu-id="da326-242">BizTalk Services projesi oluşturulduğu bilgisayarda indirin ve BizTalk Services aboneliğiniz için SSL sertifikası yükleyin.</span><span class="sxs-lookup"><span data-stu-id="da326-242">On the computer where you created the BizTalk Services project, download and install the SSL certificate for your BizTalk Services subscription.</span></span> <span data-ttu-id="da326-243">BizTalk Services'ın altında tıklatın **Pano**ve ardından **SSL sertifikası indir**.</span><span class="sxs-lookup"><span data-stu-id="da326-243">From , under BizTalk Services, click **Dashboard**, and then click **Download SSL Certificate**.</span></span> <span data-ttu-id="da326-244">Sertifikaya çift tıklayın ve yüklemeyi tamamlamak için istemi izleyin.</span><span class="sxs-lookup"><span data-stu-id="da326-244">Double-click the certificate and follow the prompt to complete the installation.</span></span> <span data-ttu-id="da326-245">Altına sertifikayı yüklediğinizden emin olun **güvenilen kök sertifika yetkilileri** sertifika deposu.</span><span class="sxs-lookup"><span data-stu-id="da326-245">Make sure you install the certificate under **Trusted Root Certification Authorities** certificate store.</span></span>
2. <span data-ttu-id="da326-246">Visual Studio Çözüm Gezgini'nde sağ **InvoiceProcessingBridge** proje ve ardından **dağıtma**.</span><span class="sxs-lookup"><span data-stu-id="da326-246">In Visual Studio Solution Explorer, right-click the **InvoiceProcessingBridge** project, and then click **Deploy**.</span></span>
3. <span data-ttu-id="da326-247">Görüntüde gösterildiği gibi değerler sağlayın ve ardından **dağıtma**.</span><span class="sxs-lookup"><span data-stu-id="da326-247">Provide the values as shown in the image, and then click **Deploy**.</span></span> <span data-ttu-id="da326-248">Tıklayarak BizTalk Services için ACS kimlik bilgilerini alabilirsiniz **bağlantı bilgilerini** BizTalk Services panosundan.</span><span class="sxs-lookup"><span data-stu-id="da326-248">You can get the ACS credentials for BizTalk Services by clicking **Connection Information** from the BizTalk Services dashboard.</span></span>
   
   ![][11]  
   
   <span data-ttu-id="da326-249">Çıkış Bölmesi'nden, EAI köprü dağıtıldığı, örneğin, uç noktasını kopyalayın `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span><span class="sxs-lookup"><span data-stu-id="da326-249">From the output pane, copy the endpoint where the EAI bridge is deployed, for example, `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span></span> <span data-ttu-id="da326-250">Bu uç nokta URL'si daha sonra ihtiyacınız olacak.</span><span class="sxs-lookup"><span data-stu-id="da326-250">You will need this endpoint URL later.</span></span>  

## <a name="step-4-test-the-solution"></a><span data-ttu-id="da326-251">4. adım: Test çözümü</span><span class="sxs-lookup"><span data-stu-id="da326-251">Step 4: Test the solution</span></span>
<span data-ttu-id="da326-252">Bu konuda, çözümü kullanarak test etmek nasıl ele **öğretici istemci** örnek bir parçası olarak sağlanan uygulama.</span><span class="sxs-lookup"><span data-stu-id="da326-252">In this topic, we look at how to test the solution by using the **Tutorial Client** application provided as part of the sample.</span></span>  

1. <span data-ttu-id="da326-253">Visual Studio'da başlatmak için F5 tuşuna basarak **öğretici istemci**.</span><span class="sxs-lookup"><span data-stu-id="da326-253">In Visual Studio, press F5 to start the **Tutorial Client**.</span></span>
2. <span data-ttu-id="da326-254">Ekran, Service Bus kuyruklarını burada oluşturduğumuz adımından önceden doldurulmaz değerlere sahip olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="da326-254">The screen must have the values prepopulated from the step where we created the Service Bus queues.</span></span> <span data-ttu-id="da326-255">**İleri**’ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="da326-255">Click **Next**.</span></span>
3. <span data-ttu-id="da326-256">BizTalk Services abonelik için ACS kimlik bilgilerini ve uç noktaları sonraki penceresinde sağlamak burada EAI ve EDI (Al) köprüleri dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="da326-256">In the next window, provide ACS credentials for BizTalk Services subscription, and the endpoints where EAI and EDI (receive) bridges are deployed.</span></span>
   
   <span data-ttu-id="da326-257">EAI köprü uç noktası önceki adımda kopyaladığınız.</span><span class="sxs-lookup"><span data-stu-id="da326-257">You had copied the EAI bridge endpoint in the previous step.</span></span> <span data-ttu-id="da326-258">EDI köprüsü uç noktası, BizTalk Services Portalı'nda alırsınız, anlaşmayı Git > alma ayarı > aktarım > uç nokta.</span><span class="sxs-lookup"><span data-stu-id="da326-258">For EDI receive bridge endpoint, in the BizTalk Services Portal, go to the agreement > Receive Settings > Transport > Endpoint.</span></span>
   
   ![][12]  
4. <span data-ttu-id="da326-259">Contoso altında sonraki penceresinde tıklatın **şirket içi faturayı gönderin** düğmesi.</span><span class="sxs-lookup"><span data-stu-id="da326-259">In the next window, under Contoso, click the **Send In-house Invoice** button.</span></span> <span data-ttu-id="da326-260">Dosya Aç iletişim kutusu, INHOUSEINVOICE.txt dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="da326-260">In the File open dialog box, open the INHOUSEINVOICE.txt file.</span></span> <span data-ttu-id="da326-261">Dosya içeriğini inceleyin ve ardından **Tamam** fatura göndermek için.</span><span class="sxs-lookup"><span data-stu-id="da326-261">Examine the content of the file and then click **OK** to send the invoice.</span></span>
   
   ![][13]  
5. <span data-ttu-id="da326-262">Birkaç saniye içinde Northwind fatura alınır.</span><span class="sxs-lookup"><span data-stu-id="da326-262">In a few seconds the invoice is received at Northwind.</span></span> <span data-ttu-id="da326-263">Tıklatın **iletiyi görüntüle** Northwind tarafından alınan fatura görmek için bağlantı.</span><span class="sxs-lookup"><span data-stu-id="da326-263">Click the **View Message** link to see the invoice received by Northwind.</span></span> <span data-ttu-id="da326-264">Contoso tarafından gönderilen bir şirket içi bir şema ederken Northwind tarafından alınan fatura standart EDIFACT şemada nasıl olduğuna dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="da326-264">Notice how the invoice received by Northwind is in standard EDIFACT schema while the one sent by Contoso was an in-house schema.</span></span>
   
   ![][14]  
6. <span data-ttu-id="da326-265">Fatura'yı seçin ve ardından **gönderin alındısı**.</span><span class="sxs-lookup"><span data-stu-id="da326-265">Select the invoice and then click **Send Acknowledgement**.</span></span> <span data-ttu-id="da326-266">Açılan iletişim kutusunda, değişim kimliği alınan fatura ve gönderilen bildirim aynı olduğuna dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="da326-266">In the dialog box that pops up, notice that the interchange ID is same in the received invoice and the acknowledgement being sent.</span></span> <span data-ttu-id="da326-267">Tamam'ı **gönderin alındısı** iletişim kutusu.</span><span class="sxs-lookup"><span data-stu-id="da326-267">Click OK in the **Send Acknowledgement** dialog box.</span></span>
   
   ![][15]  
7. <span data-ttu-id="da326-268">Birkaç saniye içinde bildirim başarıyla Contoso alındı.</span><span class="sxs-lookup"><span data-stu-id="da326-268">In a few seconds, the acknowledgement is successfully received at Contoso.</span></span>
   
   ![][16]  

## <a name="step-5-optional-send-edifact-invoice-in-batches"></a><span data-ttu-id="da326-269">(İsteğe bağlı) 5. adım: gönderme EDIFACT fatura gruplar halinde</span><span class="sxs-lookup"><span data-stu-id="da326-269">Step 5 (optional): Send EDIFACT invoice in batches</span></span>
<span data-ttu-id="da326-270">BizTalk Services EDI köprüleri de destekler giden iletiler toplu işleme.</span><span class="sxs-lookup"><span data-stu-id="da326-270">BizTalk Services EDI bridges also supports batching of outgoing messages.</span></span> <span data-ttu-id="da326-271">Bu özellik, toplu iletiler (belirli ölçütlerine uyan) yerine tek bir ileti almak için tercih ettiğiniz iş ortakları almak için kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="da326-271">This feature is useful for receiving partners that prefer to receive a batch of messages (meeting certain criterion) instead of individual messages.</span></span>

<span data-ttu-id="da326-272">Toplu işlemler ile çalışırken en önemli en boy toplu sürüm ölçütlerini olarak da bilinir gerçek sürümüdür.</span><span class="sxs-lookup"><span data-stu-id="da326-272">The most important aspect when working with batches is the actual release of the batch, also called the release criteria.</span></span> <span data-ttu-id="da326-273">Sürüm ölçütlerini nasıl alıcı ortağın iletileri almak istediği üzerinde bağlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="da326-273">The release criteria can be based on how the receiving partner wants to receive messages.</span></span> <span data-ttu-id="da326-274">Toplu işleme etkinleştirilirse sürüm ölçütlerini verildikten kadar EDI köprüsü giden ileti alıcı ortağın göndermez.</span><span class="sxs-lookup"><span data-stu-id="da326-274">If batching is enabled, the EDI bridge does not send the outgoing message to the receiving partner until the release criteria is fulfilled.</span></span> <span data-ttu-id="da326-275">Örneğin, bir toplu işleme ölçütlerini toplu ileti boyutu gönderileri üzerinde temel yalnızca 'n' iletileri toplu.</span><span class="sxs-lookup"><span data-stu-id="da326-275">For example, a batching criteria based on message size dispatches a batch only when ‘n’ messages are batched.</span></span> <span data-ttu-id="da326-276">Sağlayacak şekilde her gün sabit bir saatte bir toplu gönderilen bir toplu iş ölçütlerini de zamana dayalı olabilir.</span><span class="sxs-lookup"><span data-stu-id="da326-276">A batch criteria can also be time-based, such that a batch is sent at a fixed time every day.</span></span> <span data-ttu-id="da326-277">Bu çözümde, ileti boyutu tabanlı ölçütleri deneyin.</span><span class="sxs-lookup"><span data-stu-id="da326-277">In this solution, we try the message-size based criteria.</span></span>

1. <span data-ttu-id="da326-278">BizTalk Services Portalı'nda daha önce oluşturduğunuz Sözleşmesi'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="da326-278">In the BizTalk Services Portal, click the agreement you created earlier.</span></span> <span data-ttu-id="da326-279">Gönderme Ayarları > Toplu işleme > Toplu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="da326-279">Click Send Settings > Batching > Add Batch.</span></span>
2. <span data-ttu-id="da326-280">Batch, adı **InvoiceBatch**, bir açıklama girin ve ardından **sonraki**.</span><span class="sxs-lookup"><span data-stu-id="da326-280">For batch name, enter **InvoiceBatch**, provide a description, and then click **Next**.</span></span>
3. <span data-ttu-id="da326-281">Hangi iletilerin toplu tanımlayan bir toplu ölçütü belirtin.</span><span class="sxs-lookup"><span data-stu-id="da326-281">Specify a batch criteria, that defines which messages must be batched.</span></span> <span data-ttu-id="da326-282">Bu çözümde, tüm iletileri toplu.</span><span class="sxs-lookup"><span data-stu-id="da326-282">In this solution, we batch all messages.</span></span> <span data-ttu-id="da326-283">Bu nedenle, Gelişmiş tanımları seçeneği kullan'ı seçin ve girin **1 = 1**.</span><span class="sxs-lookup"><span data-stu-id="da326-283">So, select the Use advanced definitions option, and enter **1 = 1**.</span></span> <span data-ttu-id="da326-284">Bu her zaman true olacak bir durumdur ve bu nedenle tüm iletileri toplu.</span><span class="sxs-lookup"><span data-stu-id="da326-284">This is a condition which will always be true, and hence all messages will be batched.</span></span> <span data-ttu-id="da326-285">**İleri**’ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="da326-285">Click **Next**.</span></span>
   
   ![][17]  
4. <span data-ttu-id="da326-286">Toplu sürüm ölçütlerini belirtin.</span><span class="sxs-lookup"><span data-stu-id="da326-286">Specify a batch release criteria.</span></span> <span data-ttu-id="da326-287">Açılan kutusundan seçin **MessageCountBased**ve **sayısı**, belirtin **3**.</span><span class="sxs-lookup"><span data-stu-id="da326-287">From the drop-box, select **MessageCountBased**, and for **Count**, specify **3**.</span></span> <span data-ttu-id="da326-288">Başka bir deyişle, toplu üç iletiler Northwind olarak gönderilir.</span><span class="sxs-lookup"><span data-stu-id="da326-288">This means that a batch of three messages will be sent to Northwind.</span></span> <span data-ttu-id="da326-289">**İleri**’ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="da326-289">Click **Next**.</span></span>
   
   ![][18]  
5. <span data-ttu-id="da326-290">Özeti gözden geçirin ve ardından **kaydetmek**.</span><span class="sxs-lookup"><span data-stu-id="da326-290">Review the summary and then click **Save**.</span></span> <span data-ttu-id="da326-291">Tıklatın **dağıtma** sözleşmesi yeniden dağıtılamadı.</span><span class="sxs-lookup"><span data-stu-id="da326-291">Click **Deploy** to redeploy the agreement.</span></span>
6. <span data-ttu-id="da326-292">Geri dönerek **öğretici istemci**, tıklatın **şirket içi faturayı gönderin**ve fatura göndermek için istemleri izleyin.</span><span class="sxs-lookup"><span data-stu-id="da326-292">Go back to the **Tutorial Client**, click **Send In-house Invoice**, and follow the prompts to send the invoice.</span></span> <span data-ttu-id="da326-293">Toplu iş boyutu karşılanmadı çünkü hiçbir fatura Northwind aldığınızı fark edeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="da326-293">You will notice that no invoice is received at Northwind because the batch size is not met.</span></span> <span data-ttu-id="da326-294">Böylece Northwind olarak gönderilen üç fatura iletileri sahip iki kez daha, bu adımı yineleyin.</span><span class="sxs-lookup"><span data-stu-id="da326-294">Repeat this step two more times, so that you have three invoice messages sent to Northwind.</span></span> <span data-ttu-id="da326-295">Bu, 3 mesaj toplu sürüm ölçütlerini karşılayan ve northwind'de faturayı görmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="da326-295">This satisfies the batch release criteria of 3 messages and you should now see an invoice at Northwind.</span></span>

<!--Image references-->
[1]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-1.PNG  
[2]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-2.PNG  
[3]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-3.PNG
[4]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-4.PNG  
[5]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-5.PNG  
[6]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-6.PNG  
[7]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-7.PNG  
[8]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-8.PNG
[9]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-9.PNG  
[10]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-10.PNG  
[11]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-11.PNG  
[12]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-12.PNG  
[13]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-13.PNG
[14]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-14.PNG  
[15]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-15.PNG  
[16]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-16.PNG  
[17]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-17.PNG  
[18]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-18.PNG

