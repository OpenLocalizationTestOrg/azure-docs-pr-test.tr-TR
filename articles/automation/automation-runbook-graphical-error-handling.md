---
title: "Grafik Azure Automation runbook'ları işleme aaaError | Microsoft Docs"
description: "Bu makalede nasıl tooimplement hata Azure Automation grafik runbook mantığının işleme."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 12/26/2016
ms.author: magoedte
ms.openlocfilehash: b9ff01361d2ebd9c0174b074a7a290b1cc2fd1c8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="error-handling-in-azure-automation-graphical-runbooks"></a><span data-ttu-id="cec7c-103">Azure Otomasyonu grafik runbook’larında hata işleme</span><span class="sxs-lookup"><span data-stu-id="cec7c-103">Error handling in Azure Automation graphical runbooks</span></span>

<span data-ttu-id="cec7c-104">Bir anahtar runbook tasarım asıl tooconsider bir runbook karşılaşabilirsiniz farklı sorunları tanımlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cec7c-104">A key runbook design principal tooconsider is identifying different issues that a runbook might experience.</span></span> <span data-ttu-id="cec7c-105">Bu sorunlar arasında başarı, beklenen hata durumları ve beklenmeyen hata koşulları sayılabilir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-105">These issues can include success, expected error states, and unexpected error conditions.</span></span>

<span data-ttu-id="cec7c-106">Runbook’lar hata işleme özelliğini içermelidir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-106">Runbooks should include error handling.</span></span> <span data-ttu-id="cec7c-107">toovalidate etkinliğin çıktı hello veya grafik runbook'lar hatayla işlemek, bir Windows PowerShell kodunu aktivite kullanın, koşullu mantık hello etkinliğin çıktı bağlantıyı hello tanımlayın veya başka bir yöntem uygulayın.</span><span class="sxs-lookup"><span data-stu-id="cec7c-107">toovalidate hello output of an activity or handle an error with graphical runbooks, you could use a Windows PowerShell code activity, define conditional logic on hello output link of hello activity, or apply another method.</span></span>          

<span data-ttu-id="cec7c-108">Genellikle, bir runbook etkinliğinden oluşur Sonlandırıcı olmayan bir hata varsa, aşağıdaki herhangi bir etkinlik hello hata bağımsız olarak işlenir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-108">Often, if there is a non-terminating error that occurs with a runbook activity, any activity that follows is processed regardless of hello error.</span></span> <span data-ttu-id="cec7c-109">Merhaba hata, büyük olasılıkla toogenerate bir özel durum olmakla birlikte hello sonraki etkinliği toorun izin verilir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-109">hello error is likely toogenerate an exception, but hello next activity is still allowed toorun.</span></span> <span data-ttu-id="cec7c-110">Bu PowerShell tasarlanmış toohandle hatalar olduğunu hello yoludur.</span><span class="sxs-lookup"><span data-stu-id="cec7c-110">This is hello way that PowerShell is designed toohandle errors.</span></span>    

<span data-ttu-id="cec7c-111">yürütme sırasında oluşabilecek PowerShell hataları Hello türlerini sonlandırma veya Sonlandırıcı olmayan.</span><span class="sxs-lookup"><span data-stu-id="cec7c-111">hello types of PowerShell errors that can occur during execution are terminating or non-terminating.</span></span> <span data-ttu-id="cec7c-112">sonlandırma ve sonlandırıcı olmayan hataları Hello farklarını aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="cec7c-112">hello differences between terminating and non-terminating errors are as follows:</span></span>

* <span data-ttu-id="cec7c-113">**Hata sonlandırma**: hello komutu (veya komut dosyası yürütme) tamamen durdurur yürütme sırasında önemli bir hata.</span><span class="sxs-lookup"><span data-stu-id="cec7c-113">**Terminating error**: A serious error during execution that halts hello command (or script execution) completely.</span></span> <span data-ttu-id="cec7c-114">Örnek olarak mevcut olmayan cmdlet’ler, bir cmdlet’in çalışmasını önleyecek söz dizimi hataları veya diğer önemli hatalar verilebilir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-114">Examples include non-existent cmdlets, syntax errors that prevent a cmdlet from running, or other fatal errors.</span></span>

* <span data-ttu-id="cec7c-115">**Olmayan sonlandırma hata**: yürütme toocontinue hello hatası rağmen izin veren ciddi olmayan bir hata oluştu.</span><span class="sxs-lookup"><span data-stu-id="cec7c-115">**Non-terminating error**: A non-serious error that allows execution toocontinue despite hello failure.</span></span> <span data-ttu-id="cec7c-116">Örnek olarak bir dosyanın bulunamaması, hatalar ve izin sorunları yaşanması gibi işlemsel hatalar verilebilir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-116">Examples include operational errors such as file not found errors and permissions problems.</span></span>

<span data-ttu-id="cec7c-117">Azure Otomasyonu grafik runbook hello yetenek tooinclude hata işleme ile geliştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-117">Azure Automation graphical runbooks have been improved with hello capability tooinclude error handling.</span></span> <span data-ttu-id="cec7c-118">Bundan böyle özel durumları sonlandırıcı olmayan hatalara dönüştürebilir ve etkinlikler arasında hata bağlantıları oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cec7c-118">You can now turn exceptions into non-terminating errors and create error links between activities.</span></span> <span data-ttu-id="cec7c-119">Bu işlem bir runbook yazarı toocatch hataları sağlar ve gerçekleştirilen veya beklenmeyen koşulları yönetin.</span><span class="sxs-lookup"><span data-stu-id="cec7c-119">This process allows a runbook author toocatch errors and manage realized or unexpected conditions.</span></span>  

## <a name="when-toouse-error-handling"></a><span data-ttu-id="cec7c-120">Zaman toouse hata işleme</span><span class="sxs-lookup"><span data-stu-id="cec7c-120">When toouse error handling</span></span>

<span data-ttu-id="cec7c-121">Bir hata veya özel durum atar kritik bir etkinlik olduğunda, önemli tooprevent hello sonraki işleme ve toohandle hello hatadan runbook'unuzda uygun şekilde etkinliktir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-121">Whenever there is a critical activity that throws an error or exception, it's important tooprevent hello next activity in your runbook from processing and toohandle hello error appropriately.</span></span> <span data-ttu-id="cec7c-122">Bu, özellikle de runbook’larınızın bir işletmeyi ya da hizmet işlemleri sürecini desteklediği durumlarda gereklidir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-122">This is especially critical when your runbooks are supporting a business or service operations process.</span></span>

<span data-ttu-id="cec7c-123">Bir hata üretebilir her etkinlik için hello runbook yazarı tooany diğer etkinliklerin işaret eden bir hata bağlantı ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cec7c-123">For each activity that can produce an error, hello runbook author can add an error link pointing tooany other activity.</span></span>  <span data-ttu-id="cec7c-124">Merhaba hedef etkinlik, bir cmdlet başka bir runbook çağırma çağırma kodu etkinlikler dahil olmak üzere herhangi bir türde, olması ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="cec7c-124">hello destination activity can be of any type, including code activities, invoking a cmdlet, invoking another runbook, and so on.</span></span>

<span data-ttu-id="cec7c-125">Ayrıca, hello hedef etkinlik giden bağlantıları da sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cec7c-125">In addition, hello destination activity can also have outgoing links.</span></span> <span data-ttu-id="cec7c-126">Bu bağlantılar normal bağlantılar veya hata bağlantıları olabilir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-126">These links can be regular links or error links.</span></span> <span data-ttu-id="cec7c-127">Merhaba runbook yazarı yeniden ayırma tooa olmadan karmaşık hata işleme mantığı uygulayabilirsiniz yani kod etkinlik.</span><span class="sxs-lookup"><span data-stu-id="cec7c-127">This means hello runbook author can implement complex error-handling logic without resorting tooa code activity.</span></span> <span data-ttu-id="cec7c-128">Merhaba toocreate ortak işlevselliği ile ayrılmış bir hata işleme runbook yöntemdir, ancak bu zorunlu değildir önerilir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-128">hello recommended practice is toocreate a dedicated error-handling runbook with common functionality, but it's not mandatory.</span></span> <span data-ttu-id="cec7c-129">Hata işleme mantığı öyle olmadığı bir PowerShell kodunu aktivite içinde hello yalnızca seçeneği.</span><span class="sxs-lookup"><span data-stu-id="cec7c-129">Error-handling logic in a PowerShell code activity it isn't hello only option.</span></span>  

<span data-ttu-id="cec7c-130">Örneğin, toostart çalışır bir runbook bir VM düşünün ve bir uygulamayı yükleyin.</span><span class="sxs-lookup"><span data-stu-id="cec7c-130">For example, consider a runbook that tries toostart a VM and install an application on it.</span></span> <span data-ttu-id="cec7c-131">Merhaba VM doğru başlamazsa, iki eylemleri gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="cec7c-131">If hello VM doesn't start correctly, it performs two actions:</span></span>

1. <span data-ttu-id="cec7c-132">Bu sorun hakkında bir bildirim gönderir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-132">It sends a notification about this problem.</span></span>
2. <span data-ttu-id="cec7c-133">Bunun yerine otomatik olarak yeni bir VM sağlayan başka bir runbook başlatır.</span><span class="sxs-lookup"><span data-stu-id="cec7c-133">It starts another runbook that automatically provisions a new VM instead.</span></span>

<span data-ttu-id="cec7c-134">Bir çözüm toohave tanıtıcıları bir adım tooan etkinlik işaret eden bir hata bağlantıdır.</span><span class="sxs-lookup"><span data-stu-id="cec7c-134">One solution is toohave an error link pointing tooan activity that handles step one.</span></span> <span data-ttu-id="cec7c-135">Örneğin, hello bağlantı kurulamadı **Write-Warning** hello gibi iki adımı için cmdlet tooan etkinlik **başlangıç AzureRmAutomationRunbook** cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="cec7c-135">For example, you could connect hello **Write-Warning** cmdlet tooan activity for step two, such as hello **Start-AzureRmAutomationRunbook** cmdlet.</span></span>

<span data-ttu-id="cec7c-136">Birçok runbook'ları kullanmak için bu davranış generalize ayrı bir hata işleme runbook ve daha önce önerilen aşağıdaki hello kılavuz içinde bu iki etkinlik koyarak.</span><span class="sxs-lookup"><span data-stu-id="cec7c-136">You could also generalize this behavior for use in many runbooks by putting these two activities in a separate error handling runbook and following hello guidance suggested earlier.</span></span> <span data-ttu-id="cec7c-137">Bu hata işleme runbook çağırmadan önce hello özgün runbook'taki hello verilerden özel bir ileti oluşturun ve bir parametre toohello hata işleme runbook geçirin.</span><span class="sxs-lookup"><span data-stu-id="cec7c-137">Before calling this error-handling runbook, you could construct a custom message from hello data in hello original runbook, and then pass it as a parameter toohello error-handling runbook.</span></span>

## <a name="how-toouse-error-handling"></a><span data-ttu-id="cec7c-138">Nasıl toouse hata işleme</span><span class="sxs-lookup"><span data-stu-id="cec7c-138">How toouse error handling</span></span>

<span data-ttu-id="cec7c-139">Her etkinliğin özel durumları sonlandırıcı olmayan hatalara dönüştürmeye yönelik bir yapılandırma ayarı vardır.</span><span class="sxs-lookup"><span data-stu-id="cec7c-139">Each activity has a configuration setting that turns exceptions into non-terminating errors.</span></span> <span data-ttu-id="cec7c-140">Bu ayar varsayılan olarak devre dışıdır.</span><span class="sxs-lookup"><span data-stu-id="cec7c-140">By default, this setting is disabled.</span></span> <span data-ttu-id="cec7c-141">Toohandle hataları istediğiniz herhangi bir etkinliğin bu ayarı etkinleştirmenizi öneririz.</span><span class="sxs-lookup"><span data-stu-id="cec7c-141">We recommend that you enable this setting on any activity where you want toohandle errors.</span></span>  

<span data-ttu-id="cec7c-142">Bu yapılandırma etkinleştirerek hello etkinlik sonlandırma ve sonlandırıcı olmayan hataları Sonlandırıcı olmayan hata olarak ele alınır ve bir hata bağlantısıyla işlenebilir modemlerin.</span><span class="sxs-lookup"><span data-stu-id="cec7c-142">By enabling this configuration, you are assuring that both terminating and non-terminating errors in hello activity are handled as non-terminating errors, and can be handled with an error link.</span></span>  

<span data-ttu-id="cec7c-143">Bu ayar yapılandırdıktan sonra hello hata işleme bir etkinlik oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cec7c-143">After configuring this setting, you create an activity that handles hello error.</span></span> <span data-ttu-id="cec7c-144">Bir etkinlik herhangi bir hata oluşturursa, bağlantılar ve ardından giden hata hello ve hello etkinlik de normal bir çıktı üretir olsa bile hello normal bağlantılar değildir.</span><span class="sxs-lookup"><span data-stu-id="cec7c-144">If an activity produces any error, then hello outgoing error links are followed, and hello regular links are not, even if hello activity produces regular output as well.</span></span><br><br> ![Otomasyon runbook’u hata bağlantısı örneği](media/automation-runbook-graphical-error-handling/error-link-example.png)

<span data-ttu-id="cec7c-146">Aşağıdaki örneğine hello bir runbook bir sanal makine hello bilgisayar adını içeren bir değişkeni alır.</span><span class="sxs-lookup"><span data-stu-id="cec7c-146">In hello following example, a runbook retrieves a variable that contains hello computer name of a virtual machine.</span></span> <span data-ttu-id="cec7c-147">Daha sonra toostart hello sanal makine hello sonraki etkinliği ile çalışır.</span><span class="sxs-lookup"><span data-stu-id="cec7c-147">It then attempts toostart hello virtual machine with hello next activity.</span></span><br><br> ![Otomasyon runbook’u hata işleme örneği](media/automation-runbook-graphical-error-handling/runbook-example-error-handling.png)<br><br>      

<span data-ttu-id="cec7c-149">Merhaba **Get-AutomationVariable** etkinlik ve **Start-AzureRmVm** yapılandırılmış tooconvert özel durumları tooerrors şunlardır.</span><span class="sxs-lookup"><span data-stu-id="cec7c-149">hello **Get-AutomationVariable** activity and **Start-AzureRmVm** are configured tooconvert exceptions tooerrors.</span></span>  <span data-ttu-id="cec7c-150">Varsa VM hello değişken veya başlangıç alma sorunları hello sonra bir hata oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="cec7c-150">If there are problems getting hello variable or starting hello VM, then errors are generated.</span></span><br><br> <span data-ttu-id="cec7c-151">![Otomasyon runbook’u hata işleme etkinlik ayarları](media/automation-runbook-graphical-error-handling/activity-blade-convertexception-option.png)</span><span class="sxs-lookup"><span data-stu-id="cec7c-151">![Automation runbook error-handling activity settings](media/automation-runbook-graphical-error-handling/activity-blade-convertexception-option.png)</span></span>

<span data-ttu-id="cec7c-152">Hata bağlantıları akış bu etkinlikleri tooa tek **hata Yönetim** etkinliğine (kod etkinliği).</span><span class="sxs-lookup"><span data-stu-id="cec7c-152">Error links flow from these activities tooa single **error management** activity (a code activity).</span></span> <span data-ttu-id="cec7c-153">Bu etkinlik hello kullanan basit bir PowerShell ifadesiyle yapılandırılmış *Throw* , bunların ile işleme anahtar sözcüğü toostop *$Error.Exception.Message* hello açıklayan tooget hello iletisi Geçerli özel durumu.</span><span class="sxs-lookup"><span data-stu-id="cec7c-153">This activity is configured with a simple PowerShell expression that uses hello *Throw* keyword toostop processing, along with *$Error.Exception.Message* tooget hello message that describes hello current exception.</span></span><br><br> <span data-ttu-id="cec7c-154">![Otomasyon runbook’u hata işleme kod örneği](media/automation-runbook-graphical-error-handling/runbook-example-error-handling-code.png)</span><span class="sxs-lookup"><span data-stu-id="cec7c-154">![Automation runbook error-handling code example](media/automation-runbook-graphical-error-handling/runbook-example-error-handling-code.png)</span></span>


## <a name="next-steps"></a><span data-ttu-id="cec7c-155">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="cec7c-155">Next steps</span></span>

* <span data-ttu-id="cec7c-156">bağlantılar ve grafik runbook'lardaki bağlantı türleri hakkında daha fazla toolearn bkz [Azure Automation'da grafik yazma](automation-graphical-authoring-intro.md#links-and-workflow).</span><span class="sxs-lookup"><span data-stu-id="cec7c-156">toolearn more about links and link types in graphical runbooks, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md#links-and-workflow).</span></span>

* <span data-ttu-id="cec7c-157">toolearn hakkında daha fazla runbook yürütme toomonitor runbook işleri ve diğer teknik ayrıntıları görmek nasıl [bir runbook işi izlenemedi](automation-runbook-execution.md).</span><span class="sxs-lookup"><span data-stu-id="cec7c-157">toolearn more about runbook execution, how toomonitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md).</span></span>
