---
title: "Azure Automation’da ilk grafik runbook uygulamam | Microsoft Belgeleri"
description: "Basit bir grafik runbook uygulaması oluşturma, test etme ve yayımlama adımlarını anlatan öğretici."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: "runbook, runbook şablonu, runbook otomasyonu, azure runbook"
ms.assetid: dcb88f19-ed2b-4372-9724-6625cd287c8a
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/17/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 9d4b28416376482247127698bec7c99b83308885
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="my-first-graphical-runbook"></a><span data-ttu-id="2d630-104">İlk grafik runbook uygulamam</span><span class="sxs-lookup"><span data-stu-id="2d630-104">My first graphical runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="2d630-105">Grafik</span><span class="sxs-lookup"><span data-stu-id="2d630-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="2d630-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="2d630-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="2d630-107">PowerShell İş Akışı</span><span class="sxs-lookup"><span data-stu-id="2d630-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="2d630-108">Bu öğretici, Azure Automation’da bir [grafik runbook uygulaması](automation-runbook-types.md#graphical-runbooks) oluşturulmasını adım adım göstermektedir.</span><span class="sxs-lookup"><span data-stu-id="2d630-108">This tutorial walks you through the creation of a [graphical runbook](automation-runbook-types.md#graphical-runbooks) in Azure Automation.</span></span>  <span data-ttu-id="2d630-109">Runbook işi durumunun nasıl izleneceğini açıklarken test edip yayımlayan basit bir runbook ile başlayacağız.</span><span class="sxs-lookup"><span data-stu-id="2d630-109">We start with a simple runbook that tests and publishes while we explain how to track the status of the runbook job.</span></span>  <span data-ttu-id="2d630-110">Ardından, bir Azure sanal makinesini başlatmayı içeren bir örnekle, bu runbook’u gerçekten Azure kaynaklarını yönetmek üzere değiştireceğiz.</span><span class="sxs-lookup"><span data-stu-id="2d630-110">Then we modify the runbook to actually manage Azure resources, in this case starting an Azure virtual machine.</span></span>  <span data-ttu-id="2d630-111">Daha sonra, runbook parametreleri ve koşullu bağlantılar ekleme yoluyla runbook’u daha sağlam hale getirerek öğreticiyi tamamlayacağız.</span><span class="sxs-lookup"><span data-stu-id="2d630-111">Then we complete the tutorial by making the runbook more robust by adding runbook parameters and conditional links.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="2d630-112">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="2d630-112">Prerequisites</span></span>
<span data-ttu-id="2d630-113">Bu öğreticiyi tamamlamak için aşağıdakiler gerekir:</span><span class="sxs-lookup"><span data-stu-id="2d630-113">To complete this tutorial, you will need the following.</span></span>

* <span data-ttu-id="2d630-114">Azure aboneliği.</span><span class="sxs-lookup"><span data-stu-id="2d630-114">Azure subscription.</span></span>  <span data-ttu-id="2d630-115">Henüz bir aboneliğiniz yoksa [MSDN abone avantajlarınızı etkinleştirebilir](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) ya da <a href="/pricing/free-account/" target="_blank">[ücretsiz hesap için kaydolabilirsiniz](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="2d630-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="2d630-116">Runbook’u tutacak ve Azure kaynaklarında kimlik doğrulamasını yapacak bir [Azure Otomasyonu hesabı](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="2d630-116">[Azure Automation account](automation-sec-configure-azure-runas-account.md) to hold the runbook and authenticate to Azure resources.</span></span>  <span data-ttu-id="2d630-117">Bu hesabın sanal makineyi başlatma ve durdurma izni olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="2d630-117">This account must have permission to start and stop the virtual machine.</span></span>
* <span data-ttu-id="2d630-118">Azure sanal makinesi.</span><span class="sxs-lookup"><span data-stu-id="2d630-118">An Azure virtual machine.</span></span>  <span data-ttu-id="2d630-119">Bu makineyi durdurup başlatacağımız için makinenin üretime yönelik olmaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="2d630-119">We will stop and start this machine so it should not be production.</span></span>

## <a name="step-1---create-runbook"></a><span data-ttu-id="2d630-120">1. Adım - Runbook oluşturma</span><span class="sxs-lookup"><span data-stu-id="2d630-120">Step 1 - Create runbook</span></span>
<span data-ttu-id="2d630-121">Çıktı olarak *Hello World* metnini veren basit bir runbook oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="2d630-121">We start by creating a simple runbook that outputs the text *Hello World*.</span></span>

1. <span data-ttu-id="2d630-122">Azure portalında, Otomasyon hesabınızı açın.</span><span class="sxs-lookup"><span data-stu-id="2d630-122">In the Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="2d630-123">Automation hesabı sayfası size bu hesaptaki kaynakların hızlı bir görünümünü sağlar.</span><span class="sxs-lookup"><span data-stu-id="2d630-123">The Automation account page gives you a quick view of the resources in this account.</span></span>  <span data-ttu-id="2d630-124">Birkaç Varlığınız zaten olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="2d630-124">You should already have some Assets.</span></span>  <span data-ttu-id="2d630-125">Bunların çoğu, yeni bir Automation hesabına otomatik olarak dahil edilen modüllerdir.</span><span class="sxs-lookup"><span data-stu-id="2d630-125">Most of those are the modules that are automatically included in a new Automation account.</span></span>  <span data-ttu-id="2d630-126">Burada ayrıca [önkoşullarda](#prerequisites) belirtilen Kimlik Bilgileri varlığınız da bulunmalıdır.</span><span class="sxs-lookup"><span data-stu-id="2d630-126">You should also have the Credential asset that's mentioned in the [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="2d630-127">Runbook'ların listesini açmak için **Runbook'lar** kutucuğuna tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-127">Click the **Runbooks** tile to open the list of runbooks.</span></span><br> <span data-ttu-id="2d630-128">![Runbook denetimi](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-128">![Runbooks control](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span></span>
3. <span data-ttu-id="2d630-129">**Runbook ekle** düğmesine ve ardından **Yeni bir runbook oluştur**’a tıklayarak yeni bir runbook oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2d630-129">Create a new runbook by clicking on the **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="2d630-130">Runbook’a *MyFirstRunbook-Graphical* adını verin.</span><span class="sxs-lookup"><span data-stu-id="2d630-130">Give the runbook the name *MyFirstRunbook-Graphical*.</span></span>
5. <span data-ttu-id="2d630-131">Bu örneğimizde bir [grafik runbook uygulaması](automation-graphical-authoring-intro.md) oluşturacağız, bu nedenle **Runbook türü** olarak **Grafik**’i seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-131">In this case, we're going to create a [graphical runbook](automation-graphical-authoring-intro.md) so select **Graphical** for **Runbook type**.</span></span><br> <span data-ttu-id="2d630-132">![Yeni runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-132">![New runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span></span><br>
6. <span data-ttu-id="2d630-133">Runbook’u oluşturmak için **Oluştur**’a tıklayın ve grafik düzenleyicisini açın.</span><span class="sxs-lookup"><span data-stu-id="2d630-133">Click **Create** to create the runbook and open the graphical editor.</span></span>

## <a name="step-2---add-activities-to-the-runbook"></a><span data-ttu-id="2d630-134">2. Adım - Runbook’a etkinlikler ekleme</span><span class="sxs-lookup"><span data-stu-id="2d630-134">Step 2 - Add activities to the runbook</span></span>
<span data-ttu-id="2d630-135">Düzenleyicinin sol tarafındaki Kitaplık denetimi runbook uygulamanıza eklenecek etkinlikleri seçmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="2d630-135">The Library control on the left side of the editor allows you to select activities to add to your runbook.</span></span>  <span data-ttu-id="2d630-136">Runbook uygulamasından çıktı metnine **Write-Output** cmdlet’ini ekleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="2d630-136">We're going to add a **Write-Output** cmdlet to output text from the runbook.</span></span>

1. <span data-ttu-id="2d630-137">Kitaplık denetiminde, arama metin kutusuna tıklayın ve **Write-Output** yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-137">In the Library control, click in the search textbox and type **Write-Output**.</span></span>  <span data-ttu-id="2d630-138">Arama sonuçları altında görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="2d630-138">The search results will be displayed below.</span></span> <br> <span data-ttu-id="2d630-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span></span>
2. <span data-ttu-id="2d630-140">Listenin aşağısına kaydırın.</span><span class="sxs-lookup"><span data-stu-id="2d630-140">Scroll down to the bottom of the list.</span></span>  <span data-ttu-id="2d630-141">**Write-Output**’a sağ tıklayıp **Tuvale ekle**’yi seçebilir ya da cmdlet’in yanındaki elipse tıklayıp ardından **Tuvale ekle**’yi seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2d630-141">You can either right-click **Write-Output** and select **Add to canvas** or click the ellipse next to the cmdlet and then select **Add to canvas**.</span></span>
3. <span data-ttu-id="2d630-142">Tuvalde **Write-Output** etkinliğine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-142">Click the **Write-Output** activity on the canvas.</span></span>  <span data-ttu-id="2d630-143">Bu işlem, etkinliği yapılandırmanızı sağlayan Yapılandırma denetimi dikey penceresini açar.</span><span class="sxs-lookup"><span data-stu-id="2d630-143">This opens the Configuration control blade, which allows you to configure the activity.</span></span>
4. <span data-ttu-id="2d630-144">**Etiket** cmdlet’in adını varsayılan olarak alır ancak bunu daha kolay bir şeyle değiştirebiliriz.</span><span class="sxs-lookup"><span data-stu-id="2d630-144">The **Label** defaults to the name of the cmdlet, but we can change it to something more friendly.</span></span> <span data-ttu-id="2d630-145">Bunu *çıkışa Hello World yazmak* üzere değiştirin.</span><span class="sxs-lookup"><span data-stu-id="2d630-145">Change it to *Write Hello World to output*.</span></span>
5. <span data-ttu-id="2d630-146">Cmdlet parametreleri değerlerini sağlamak için **Parametreler**’e tıklayın. </span><span class="sxs-lookup"><span data-stu-id="2d630-146">Click **Parameters** to provide values for the cmdlet's parameters.</span></span>  
   <span data-ttu-id="2d630-147">Bazı cmdlet’ler birden fazla parametre kümesine sahiptir ve kullanacağınız cmdlet’i seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="2d630-147">Some cmdlets have multiple parameter sets, and you need to select which you one to use.</span></span> <span data-ttu-id="2d630-148">Bu durumda, **Write-Output** yalnızca bir parametre kümesine sahip olur, bu nedenle seçmeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="2d630-148">In this case, **Write-Output** has only one parameter set, so you don't need to select one.</span></span> <br> <span data-ttu-id="2d630-149">![Write-Output özellikleri](media/automation-first-runbook-graphical/write-output-properties-b.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-149">![Write-Output properties](media/automation-first-runbook-graphical/write-output-properties-b.png)</span></span>
6. <span data-ttu-id="2d630-150">**InputObject** parametresini seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-150">Select the **InputObject** parameter.</span></span>  <span data-ttu-id="2d630-151">Bu, çıkış akışına göndermek üzere metin belirttiğimiz parametredir.</span><span class="sxs-lookup"><span data-stu-id="2d630-151">This is the parameter where we specify the text to send to the output stream.</span></span>
7. <span data-ttu-id="2d630-152">**Veri kaynağı** açılır listesinde, **PowerShell ifadesi**’nı seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-152">In the **Data source** dropdown, select **PowerShell expression**.</span></span>  <span data-ttu-id="2d630-153">**Veri kaynağı** açılır penceresi bir parametre değerini doldurmak için kullandığınız farklı kaynaklar sağlar.</span><span class="sxs-lookup"><span data-stu-id="2d630-153">The **Data source** dropdown provides different sources that you use to populate a parameter value.</span></span>  
   <span data-ttu-id="2d630-154">Başka bir etkinlik, Automation varlığı ya da PowerShell ifadesi gibi böyle kaynaklardan alınan çıktıları kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2d630-154">You can use output from such sources such as another activity, an Automation asset, or a PowerShell expression.</span></span>  <span data-ttu-id="2d630-155">Bu durumda, yalnızca *Hello World* için metin çıktısı istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="2d630-155">In this case, we just want to output the text *Hello World*.</span></span> <span data-ttu-id="2d630-156">Bir PowerShell ifadesi kullanabilir ve dize belirtebiliriz.</span><span class="sxs-lookup"><span data-stu-id="2d630-156">We can use a PowerShell expression and specify a string.</span></span>
8. <span data-ttu-id="2d630-157">**İfade** kutusuna *"Hello World"* yazın ve ardından tuvale döndürmek için iki kez **Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-157">In the **Expression** box, type *"Hello World"* and then click **OK** twice to return to the canvas.</span></span><br> <span data-ttu-id="2d630-158">![PowerShell İfadesi](media/automation-first-runbook-graphical/expression-hello-world.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span></span>
9. <span data-ttu-id="2d630-159">**Kaydet**’e tıklayarak runbook’u kaydedin.</span><span class="sxs-lookup"><span data-stu-id="2d630-159">Save the runbook by clicking **Save**.</span></span><br> <span data-ttu-id="2d630-160">![Runbook’u kaydetme](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-160">![Save runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span></span>

## <a name="step-3---test-the-runbook"></a><span data-ttu-id="2d630-161">3. Adım - Runbook'u test etme</span><span class="sxs-lookup"><span data-stu-id="2d630-161">Step 3 - Test the runbook</span></span>
<span data-ttu-id="2d630-162">Runbook’u üretimde kullanılabilir hale getirmek üzere yayımlamadan önce düzgün çalıştığından emin olmak için test etmek istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="2d630-162">Before we publish the runbook to make it available in production, we want to test it to make sure that it works properly.</span></span>  <span data-ttu-id="2d630-163">Bir runbook'u test ettiğinizde, bunun **Taslak** sürümünü çalıştırır ve çıktısını etkileşimli olarak görüntülersiniz.</span><span class="sxs-lookup"><span data-stu-id="2d630-163">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="2d630-164">Test dikey penceresini açmak için **Test bölmesi**’ne tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-164">Click **Test pane** to open the Test blade.</span></span><br> <span data-ttu-id="2d630-165">![Test bölmesi](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-165">![Test pane](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span></span>
2. <span data-ttu-id="2d630-166">Testi başlatmak için **Başlat**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-166">Click **Start** to start the test.</span></span>  <span data-ttu-id="2d630-167">Etkinleştirilen tek seçenek bu olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="2d630-167">This should be the only enabled option.</span></span>
3. <span data-ttu-id="2d630-168">Bölmede bir [runbook işi](automation-runbook-execution.md) oluşturulur ve durumu görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="2d630-168">A [runbook job](automation-runbook-execution.md) is created and its status displayed in the pane.</span></span>  
   <span data-ttu-id="2d630-169">İş durumu, bulutta bir runbook çalışanının kullanılabilir hale gelmesinin beklendiğini gösteren şekilde *Sırada* olarak başlar.</span><span class="sxs-lookup"><span data-stu-id="2d630-169">The job status starts as *Queued* indicating that it is waiting for a runbook worker in the cloud to become available.</span></span>  <span data-ttu-id="2d630-170">Ardından, bir çalışan işi talep ettiğinde *Başlatılıyor* olarak ve runbook gerçekten çalışmaya başladığında *Çalışıyor* olarak değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="2d630-170">It then moves to *Starting* when a worker claims the job, and then *Running* when the runbook actually starts running.</span></span>  
4. <span data-ttu-id="2d630-171">Runbook işi tamamlandığında çıktısı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="2d630-171">When the runbook job completes, its output is displayed.</span></span> <span data-ttu-id="2d630-172">Örneğimizde, *Hello World* metnini görmeliyiz.</span><span class="sxs-lookup"><span data-stu-id="2d630-172">In our case, we should see *Hello World*.</span></span><br> <span data-ttu-id="2d630-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span></span>
5. <span data-ttu-id="2d630-174">Tuvale geri dönmek için Test dikey penceresini kapatın.</span><span class="sxs-lookup"><span data-stu-id="2d630-174">Close the Test blade to return to the canvas.</span></span>

## <a name="step-4---publish-and-start-the-runbook"></a><span data-ttu-id="2d630-175">4. Adım - Runbook’u yayımlama ve başlatma</span><span class="sxs-lookup"><span data-stu-id="2d630-175">Step 4 - Publish and start the runbook</span></span>
<span data-ttu-id="2d630-176">Oluşturduğumuz runbook hala Taslak modundadır.</span><span class="sxs-lookup"><span data-stu-id="2d630-176">The runbook that we created is still in Draft mode.</span></span> <span data-ttu-id="2d630-177">Runbook’un üretimde çalıştırılabilmesi için önce yayımlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="2d630-177">We need to publish it before we can run it in production.</span></span>  <span data-ttu-id="2d630-178">Bir runbook yayımladığınızda, Taslak sürümü mevcut Yayımlanmış sürümün üzerine yazarsınız.</span><span class="sxs-lookup"><span data-stu-id="2d630-178">When you publish a runbook, you overwrite the existing Published version with the Draft version.</span></span>  <span data-ttu-id="2d630-179">Örneğimizde, runbook’u henüz oluşturduğumuzdan, Yayımlanmış sürümümüz yok.</span><span class="sxs-lookup"><span data-stu-id="2d630-179">In our case, we don't have a Published version yet because we just created the runbook.</span></span>

1. <span data-ttu-id="2d630-180">Runbook’u yayımlamak için **Yayımla**’ya tıklayın ve sorulduğunda **Evet**’e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-180">Click **Publish** to publish the runbook and then **Yes** when prompted.</span></span><br> <span data-ttu-id="2d630-181">![Yayımlama](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-181">![Publish](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span></span>
2. <span data-ttu-id="2d630-182">Şimdi runbook'u **Runbook'lar** dikey penceresinde görüntülemek için sola kaydırırsanız, **Yazma Durumu** olarak **Yayımlandı** gösterilir.</span><span class="sxs-lookup"><span data-stu-id="2d630-182">If you scroll left to view the runbook in the **Runbooks** blade, it shows an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="2d630-183">**MyFirstRunbook** için dikey pencereyi görüntülemek üzere geri sağa kaydırın.</span><span class="sxs-lookup"><span data-stu-id="2d630-183">Scroll back to the right to view the blade for **MyFirstRunbook**.</span></span>  
   <span data-ttu-id="2d630-184">Üst kısımdaki seçenekler runbook’u başlatmamıza, gelecekte bir zamanda başlatmak üzere zamanlamamıza ya da bir HTTP çağrısıyla başlatılabilmesi için [web kancası](automation-webhooks.md) oluşturmamıza olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="2d630-184">The options across the top allow us to start the runbook, schedule it to start at some time in the future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="2d630-185">Yalnızca runbook'u başlatmak istiyoruz, bu nedenle **Başlat**’a ve ardından sorulduğunda **Evet**’e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-185">We just want to start the runbook so click **Start** and then **Yes** when prompted.</span></span><br> <span data-ttu-id="2d630-186">![Runbook’u başlatma](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-186">![Start runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span></span>
5. <span data-ttu-id="2d630-187">Oluşturduğumuz runbook için bir iş dikey penceresi açılır.</span><span class="sxs-lookup"><span data-stu-id="2d630-187">A job blade is opened for the runbook job that we created.</span></span>  <span data-ttu-id="2d630-188">Bu dikey pencere kapatılabilir, ancak bu kez işin ilerleme durumunu izleyebilmek için açık bırakacağız.</span><span class="sxs-lookup"><span data-stu-id="2d630-188">We can close this blade, but in this case we leave it open so we can watch the job's progress.</span></span>
6. <span data-ttu-id="2d630-189">İş durumu **İş Özeti**’nde gösterilir ve runbook’u test ettiğimizde gördüğümüz durumların aynısıdır.</span><span class="sxs-lookup"><span data-stu-id="2d630-189">The job status is shown in **Job Summary** and matches the statuses that we saw when we tested the runbook.</span></span><br> <span data-ttu-id="2d630-190">![İş Özeti](media/automation-first-runbook-graphical/runbook-job-summary.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-190">![Job Summary](media/automation-first-runbook-graphical/runbook-job-summary.png)</span></span>
7. <span data-ttu-id="2d630-191">Runbook durumu olarak *Tamamlandı* gösterilince **Çıktı**’ya tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-191">Once the runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="2d630-192">**Çıktı** dikey penceresi açılır ve bölmede *Hello World* metnimizi görebiliriz.</span><span class="sxs-lookup"><span data-stu-id="2d630-192">The **Output** blade is opened, and we can see our *Hello World* in the pane.</span></span><br> <span data-ttu-id="2d630-193">![İş Özeti](media/automation-first-runbook-graphical/runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-193">![Job Summary](media/automation-first-runbook-graphical/runbook-job-output.png)</span></span>  
8. <span data-ttu-id="2d630-194">Çıktı dikey penceresini kapatın.</span><span class="sxs-lookup"><span data-stu-id="2d630-194">Close the Output blade.</span></span>
9. <span data-ttu-id="2d630-195">Runbook işine ait Akışlar dikey penceresini açmak için **Tüm Günlükler**’e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-195">Click **All Logs** to open the Streams blade for the runbook job.</span></span>  <span data-ttu-id="2d630-196">Çıktı akışında yalnızca *Hello World* metnini görmeliyiz, ancak bu bölmede, runbook bunlara yazıyorsa Ayrıntılı ve Hata gibi runbook işine yönelik diğer akışlar da gösterilebilir.</span><span class="sxs-lookup"><span data-stu-id="2d630-196">We should only see *Hello World* in the output stream, but this can show other streams for a runbook job such as Verbose and Error if the runbook writes to them.</span></span><br> <span data-ttu-id="2d630-197">![İş Özeti](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-197">![Job Summary](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span></span>
10. <span data-ttu-id="2d630-198">Tüm Günlükler dikey penceresini ve İş dikey penceresini kapatarak MyFirstRunbook dikey penceresine dönün.</span><span class="sxs-lookup"><span data-stu-id="2d630-198">Close the All Logs blade and the Job blade to return to the MyFirstRunbook blade.</span></span>
11. <span data-ttu-id="2d630-199">Bu runbook’a ait İşler dikey penceresini açmak için **İşler**’e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-199">Click **Jobs** to open the Jobs blade for this runbook.</span></span>  <span data-ttu-id="2d630-200">Bu bölmede, bu runbook tarafından oluşturulan tüm işler listelenir.</span><span class="sxs-lookup"><span data-stu-id="2d630-200">This lists all the jobs created by this runbook.</span></span> <span data-ttu-id="2d630-201">İşi yalnızca bir kez çalıştırdığımız için sadece bir işin listelendiğini görmeliyiz.</span><span class="sxs-lookup"><span data-stu-id="2d630-201">We should only see one job listed since we only ran the job once.</span></span><br> <span data-ttu-id="2d630-202">![İşler](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-202">![Jobs](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span></span>
12. <span data-ttu-id="2d630-203">Runbook’u başlattığımızda, görüntülediğimiz iş bölmesini açmak için bu işe tıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2d630-203">You can click this job to open the same Job pane that we viewed when we started the runbook.</span></span>  <span data-ttu-id="2d630-204">Böylece zaman içinde geri dönerek, belirli bir runbook için oluşturulan herhangi bir işin ayrıntılarını görüntüleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2d630-204">This allows you to go back in time and view the details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---create-variable-assets"></a><span data-ttu-id="2d630-205">5. Adım - Değişken varlıkları oluşturma</span><span class="sxs-lookup"><span data-stu-id="2d630-205">Step 5 - Create variable assets</span></span>
<span data-ttu-id="2d630-206">Runbook uygulamamızı test ettik ve yayımladık, ancak şu ana kadar faydalı bir şey yapmadı.</span><span class="sxs-lookup"><span data-stu-id="2d630-206">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="2d630-207">Bu runbook’un Azure kaynaklarını yönetmesini istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="2d630-207">We want to have it manage Azure resources.</span></span>  <span data-ttu-id="2d630-208">Kimlik doğrulaması için runbook uygulamamızı yapılandırmadan önce, aşağıda 6. adımda kimlik doğrulamak üzere abonelik kimliğini tutmak için bir değişken oluşturacağız ve etkinliği ayarladıktan sonra buna başvuracağız.</span><span class="sxs-lookup"><span data-stu-id="2d630-208">Before we configure the runbook to authenticate, we  create a variable to hold the subscription ID and reference it after we set up the activity to authenticate in step 6 below.</span></span>  <span data-ttu-id="2d630-209">Abonelik bağlamına başvuru eklemek birden fazla abonelik arasından kolayca çalışmanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="2d630-209">Including a reference to the subscription context allows you to easily work between multiple subscriptions.</span></span>  <span data-ttu-id="2d630-210">Devam etmeden önce, Gezinti bölmesindeki Abonelik seçeneği kapalı’daki abonelik kimliğinizi kopyalayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-210">Before proceeding, copy your subscription ID from the Subscriptions option off the Navigation pane.</span></span>  

1. <span data-ttu-id="2d630-211">Otomasyon hesapları dikey penceresinde **Varlıklar** kutucuğuna tıkladığınızda **Varlıklar** dikey penceresi açılır.</span><span class="sxs-lookup"><span data-stu-id="2d630-211">In the Automation Accounts blade, click the **Assets** tile and the **Assets** blade is opened.</span></span>
2. <span data-ttu-id="2d630-212">Varlıklar dikey penceresinde, **Değişkenler** kutucuğuna tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-212">In the Assets blade, click the **Variables** tile.</span></span>
3. <span data-ttu-id="2d630-213">Değişkenleri dikey penceresinde, **Değişken ekle**’ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-213">On the Variables blade, click **Add a variable**.</span></span><br><span data-ttu-id="2d630-214">![Automation Değişkeni](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-214">![Automation Variable](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span></span>
4. <span data-ttu-id="2d630-215">Yeni değişken dikey penceresinde, **Ad** kutusuna, **AzureSubscriptionId** girin ve **Değer** kutusuna Abonelik kimliğinizi yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-215">In the New variable blade, in the **Name** box, enter **AzureSubscriptionId** and in the **Value** box enter your Subscription ID.</span></span>  <span data-ttu-id="2d630-216">**Tür** için *dizeyi* **Şifreleme** için değeri koruyun.</span><span class="sxs-lookup"><span data-stu-id="2d630-216">Keep *string* for the **Type** and the default value for **Encryption**.</span></span>  
5. <span data-ttu-id="2d630-217">Değişkeni oluşturmak için **Oluştur**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-217">Click **Create** to create the variable.</span></span>  

## <a name="step-6---add-authentication-to-manage-azure-resources"></a><span data-ttu-id="2d630-218">6. Adım- Azure kaynaklarını yönetmek için kimlik doğrulaması ekleme</span><span class="sxs-lookup"><span data-stu-id="2d630-218">Step 6 - Add authentication to manage Azure resources</span></span>
<span data-ttu-id="2d630-219">Abonelik kimliğimizi tutmak üzere bir değişkene sahip olduğumuza göre, runbook uygulamamızı [ön koşullarda](#prerequisites) başvurulan Farklı Çalıştır kimlik bilgileri ile kimlik doğrulamak üzere yapılandırabiliriz.</span><span class="sxs-lookup"><span data-stu-id="2d630-219">Now that we have a variable to hold our subscription ID, we can configure our runbook to authenticate with the Run As credentials that are referred to in the [prerequisites](#prerequisites).</span></span>  <span data-ttu-id="2d630-220">Bunu tuvale Azure Farklı Çalıştır bağlantısı **Varlığı** ve **Add-AzureRMAccount** cmdlet’i ekleyerek yaparız.</span><span class="sxs-lookup"><span data-stu-id="2d630-220">We do that by adding the Azure Run As connection **Asset** and **Add-AzureRMAccount** cmdlet to the canvas.</span></span>  

1. <span data-ttu-id="2d630-221">MyFirstRunbook dikey penceresinde **Düzenle**’ye tıklayarak grafik düzenleyicisini açın.</span><span class="sxs-lookup"><span data-stu-id="2d630-221">Open the graphical editor by clicking **Edit** on the MyFirstRunbook blade.</span></span><br> <span data-ttu-id="2d630-222">![Runbook’u düzenleme](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-222">![Edit runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span></span>
2. <span data-ttu-id="2d630-223">Artık **çıktıya Merhaba Dünya yazmamız** gerekmez, bu nedenle sağ tıklayın ve **Sil**’i seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-223">We don't need the **Write Hello World to output** anymore, so right-click it and select **Delete**.</span></span>
3. <span data-ttu-id="2d630-224">Kitaplık denetiminde, **Bağlantılar**’ı genişletin ve **Tuvale Ekle**’yi seçerek **AzureRunAsConnection**’ı ekleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-224">In the Library control, expand **Connections** and add **AzureRunAsConnection** to the canvas by selecting **Add to canvas**.</span></span>
4. <span data-ttu-id="2d630-225">Tuvalde, **AzureRunAsConnection**’ı seçin ve Yapılandırma denetim bölmesinde **Etiket** metin kutusuna **Farklı Çalıştır Bağlantısını Al** yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-225">On the canvas, select **AzureRunAsConnection** and in the Configuration control pane, type **Get Run As Connection** in the **Label** textbox.</span></span>  <span data-ttu-id="2d630-226">Bu bağlantıdır</span><span class="sxs-lookup"><span data-stu-id="2d630-226">This is the connection</span></span>
5. <span data-ttu-id="2d630-227">Kitaplık denetiminde, arama metin kutusuna **Add-AzureRmAccount** yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-227">In the Library control, type **Add-AzureRmAccount** in the search textbox.</span></span>
6. <span data-ttu-id="2d630-228">Tuvale **Add-AzureRmAccount** ekleme</span><span class="sxs-lookup"><span data-stu-id="2d630-228">Add **Add-AzureRmAccount** to the canvas.</span></span><br> <span data-ttu-id="2d630-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span></span>
7. <span data-ttu-id="2d630-230">Şeklin altında bir daire görünene kadar **Farklı Çalıştır Bağlantısını Al** üzerinde bekleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-230">Hover over **Get Run As Connection** until a circle appears on the bottom of the shape.</span></span> <span data-ttu-id="2d630-231">Daireye tıklayın ve oku **Add-AzureRmAccount**’a sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-231">Click the circle and drag the arrow to **Add-AzureRmAccount**.</span></span>  <span data-ttu-id="2d630-232">Oluşturduğunuz ok bir *bağlantıdır*.</span><span class="sxs-lookup"><span data-stu-id="2d630-232">The arrow that you created is a *link*.</span></span>  <span data-ttu-id="2d630-233">Runbook **Farklı Çalıştır Bağlantısını Al** ile başlar ve ardından **Add-AzureRmAccount**’ı çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="2d630-233">The runbook starts with **Get Run As Connection** and then run **Add-AzureRmAccount**.</span></span><br> <span data-ttu-id="2d630-234">![Etkinlikler arasında bağlantı oluşturma](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-234">![Create link between activities](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span></span>
8. <span data-ttu-id="2d630-235">Tuvalde, **Add-AzureRmAccount**’ı seçin ve Yapılandırma denetim bölmesinde **Etiket** metin kutusuna **Azure’da Oturum Aç** yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-235">On the canvas, select **Add-AzureRmAccount** and in the Configuration control pane type **Login to Azure** in the **Label** textbox.</span></span>
9. <span data-ttu-id="2d630-236">**Parametreler**’e tıklayın, Parametre Yapılandırma dikey penceresi görünür.</span><span class="sxs-lookup"><span data-stu-id="2d630-236">Click **Parameters** and the Activity Parameter Configuration blade appears.</span></span>
10. <span data-ttu-id="2d630-237">**Add-AzureRmAccount** birden fazla parametre kümesine sahiptir, bu nedenle parametre değerleri sağlamadan önce birini seçmeliyiz.</span><span class="sxs-lookup"><span data-stu-id="2d630-237">**Add-AzureRmAccount** has multiple parameter sets, so we need to select one before we can provide parameter values.</span></span>  <span data-ttu-id="2d630-238">**Parametre Kümesi**’ne tıklayın ve ardından **ServicePrincipalCertificatewithSubscriptionId** parametre kümesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-238">Click **Parameter Set** and then select the **ServicePrincipalCertificatewithSubscriptionId** parameter set.</span></span>
11. <span data-ttu-id="2d630-239">Parametre kümesini seçtiğinizde, parametreleri Etkinlik Parametresi yapılandırma dikey penceresinde parametreler görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="2d630-239">Once you select the parameter set, the parameters are displayed in the Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="2d630-240">**APPLICATIONID**’ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-240">Click **APPLICATIONID**.</span></span><br> <span data-ttu-id="2d630-241">![Azure RM hesabı parametreleri ekleme](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-241">![Add Azure RM account parameters](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span></span>
12. <span data-ttu-id="2d630-242">Parametre değeri dikey penceresinde **Veri kaynağı** için **Etkinlik çıkışı**’nı seçin ve listede **Farklı Çalıştır Bağlantısını Al**’ı seçin, **Alan yolu** metin kutusuna **ApplicationId** yazın ve ardından **Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-242">In the Parameter Value blade, select **Activity output** for the **Data source** and select **Get Run As Connection** from the list, in the **Field path** textbox type **ApplicationId**, and then click **OK**.</span></span>  <span data-ttu-id="2d630-243">Etkinlik birden fazla özelliğe sahip bir nesne çıkardığından, Alan yolu için özellik adını belirtiyoruz.</span><span class="sxs-lookup"><span data-stu-id="2d630-243">We are specifying the name of the property for the Field path because the activity outputs an object with multiple properties.</span></span>
13. <span data-ttu-id="2d630-244">**CERTIFICATETHUMBPRINT**’ tıklayın ve Parametre Değeri dikey penceresinde, **Veri kaynağı** için **Etkinlik çıkışı**’nı seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-244">Click **CERTIFICATETHUMBPRINT**, and in the Parameter Value blade, select **Activity output** for the **Data source**.</span></span>  <span data-ttu-id="2d630-245">Listede **Farklı Çalıştır Bağlantısını Al**’ı seçin **Alan yolu** metin kutusuna **CertificateThumbprint** yazın ve ardından **Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-245">Select **Get Run As Connection** from the list, in the **Field path** textbox type **CertificateThumbprint**, and then click **OK**.</span></span>
14. <span data-ttu-id="2d630-246">**SERVICEPRINCIPAL**’e tıklayın ve Parametre Değeri dikey penceresinde, **Veri kaynağı** için **ConstantValue** ‘yu seçin, **True** seçeneğine tıklayın ve **Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-246">Click **SERVICEPRINCIPAL**, and in the Parameter Value blade, select **ConstantValue** for the **Data source**, click the option **True**, and then click **OK**.</span></span>
15. <span data-ttu-id="2d630-247">**TENANTID**’ye tıklayın ve Parametre Değeri dikey penceresinde, **Veri kaynağı** için **Etkinlik çıkışı**’nı seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-247">Click **TENANTID**, and in the Parameter Value blade, select **Activity output** for the **Data source**.</span></span>  <span data-ttu-id="2d630-248">Listede **Farklı Çalıştır Bağlantısını Al**’ı seçin **Alan yolu** metin kutusuna **TenantId** yazın ve ardından iki kez **Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-248">Select **Get Run As Connection** from the list, in the **Field path** textbox type **TenantId**, and then click **OK** twice.</span></span>  
16. <span data-ttu-id="2d630-249">Kitaplık denetiminde, arama metin kutusuna **Set-AzureRmContext** yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-249">In the Library control, type **Set-AzureRmContext** in the search textbox.</span></span>
17. <span data-ttu-id="2d630-250">Tuvale **Set-AzureRmContext** ekleme</span><span class="sxs-lookup"><span data-stu-id="2d630-250">Add **Set-AzureRmContext** to the canvas.</span></span>
18. <span data-ttu-id="2d630-251">Tuvalde, **Set-AzureRmContext**’i seçin ve Yapılandırma denetim bölmesinde **Etiket** metin kutusuna **Abonelik Kimliği Belirt** yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-251">On the canvas, select **Set-AzureRmContext** and in the Configuration control pane type **Specify Subscription Id** in the **Label** textbox.</span></span>
19. <span data-ttu-id="2d630-252">**Parametreler**’e tıklayın, Parametre Yapılandırma dikey penceresi görünür.</span><span class="sxs-lookup"><span data-stu-id="2d630-252">Click **Parameters** and the Activity Parameter Configuration blade appears.</span></span>
20. <span data-ttu-id="2d630-253">**Set-AzureRmContext** birden fazla parametre kümesine sahiptir, bu nedenle parametre değerleri sağlamadan önce birini seçmeliyiz.</span><span class="sxs-lookup"><span data-stu-id="2d630-253">**Set-AzureRmContext** has multiple parameter sets, so we need to select one before we can provide parameter values.</span></span>  <span data-ttu-id="2d630-254">**Parametre Kümesi**’ne tıklayın ve ardından **SubscriptionId** parametre kümesini seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-254">Click **Parameter Set** and then select the **SubscriptionId** parameter set.</span></span>  
21. <span data-ttu-id="2d630-255">Parametre kümesini seçtiğinizde, parametreleri Etkinlik Parametresi yapılandırma dikey penceresinde parametreler görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="2d630-255">Once you select the parameter set, the parameters are displayed in the Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="2d630-256">**SubscriptionID**’e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-256">Click **SubscriptionID**</span></span>
22. <span data-ttu-id="2d630-257">Parametre Değeri dikey penceresinde, **Veri kaynağı** için **Değişken Varlığı**’nı seçin ve listede **AzureSubscriptionId**’yi seçin ve iki kez **Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-257">In the Parameter Value blade, select **Variable Asset** for the **Data source** and select **AzureSubscriptionId** from the list and then click **OK** twice.</span></span>   
23. <span data-ttu-id="2d630-258">Şeklin altında bir daire görünene kadar **Azure’da Oturum Aç** üzerinde bekleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-258">Hover over **Login to Azure** until a circle appears on the bottom of the shape.</span></span> <span data-ttu-id="2d630-259">Daireye tıklayın ve oku **Abonelik Kimliği Belirt**’e sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-259">Click the circle and drag the arrow to **Specify Subscription Id**.</span></span>

<span data-ttu-id="2d630-260">Runbook'unuzda bu noktada aşağıdakine benzer:</span><span class="sxs-lookup"><span data-stu-id="2d630-260">Your runbook should look like the following at this point:</span></span> <br>![Runbook kimlik doğrulama yapılandırması](media/automation-first-runbook-graphical/runbook-auth-config.png)

## <a name="step-7---add-activity-to-start-a-virtual-machine"></a><span data-ttu-id="2d630-262">7. Adım - Sanal makineyi başlatmak üzere etkinlik ekleme</span><span class="sxs-lookup"><span data-stu-id="2d630-262">Step 7 - Add activity to start a virtual machine</span></span>
<span data-ttu-id="2d630-263">Burada bir sanal makineyi başlatmak için **Start-AzureRmVM** etkinliği ekleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="2d630-263">Here we add a **Start-AzureRmVM** activity to start a virtual machine.</span></span>  <span data-ttu-id="2d630-264">Azure aboneliğinizdeki herhangi bir sanal makineyi seçebilirsiniz, şimdilik bu adı cmdlet’e kod olarak ekleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-264">You can pick any virtual machine in your Azure subscription, and for now you hardcode that name into the cmdlet.</span></span>

1. <span data-ttu-id="2d630-265">Kitaplık denetiminde, arama metin kutusuna **Start-AzureRm** yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-265">In the Library control, type **Start-AzureRm** in the search textbox.</span></span>
2. <span data-ttu-id="2d630-266">Tuvale **Start-AzureRmVM** ekleyin ve ardından **Abonelik Kimliği Belirt** altına tıklayarak sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-266">Add **Start-AzureRmVM** to the canvas and then click and drag it underneath **Specify Subscription Id**.</span></span>
3. <span data-ttu-id="2d630-267">Şeklin altında bir daire görünene kadar **Abonelik Kimliği Belirt** üzerinde bekleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-267">Hover over **Specify Subscription Id** until a circle appears on the bottom of the shape.</span></span>  <span data-ttu-id="2d630-268">Daireye tıklayın ve oku **Start-AzureRmVM**’ye sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-268">Click the circle and drag the arrow to **Start-AzureRmVM**.</span></span>
4. <span data-ttu-id="2d630-269">**Start-AzureRmVM**’yi seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-269">Select **Start-AzureRmVM**.</span></span>  <span data-ttu-id="2d630-270">**Start-AzureRmVM** için kümeleri görüntülemek üzere **Parametreler**’i ve ardından **Parametre kümesi**’ni seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-270">Click **Parameters** and then **Parameter Set** to view the sets for **Start-AzureRmVM**.</span></span>  <span data-ttu-id="2d630-271">**ResourceGroupNameParameterSetName** parametre kümesini seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-271">Select the **ResourceGroupNameParameterSetName** parameter set.</span></span> <span data-ttu-id="2d630-272">**ResourceGroupName** ve **Ad**’ın yanında ünlem işareti olduğuna dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="2d630-272">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="2d630-273">Bu, bunların gerekli parametreler olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="2d630-273">This indicates that they are required parameters.</span></span>  <span data-ttu-id="2d630-274">Ayrıca, her ikisinin de dize değerleri beklediğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-274">Also note both expect string values.</span></span>
5. <span data-ttu-id="2d630-275">**Ad**’ı seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-275">Select **Name**.</span></span>  <span data-ttu-id="2d630-276">**Veri Kaynağı** için **PowerShell ifadesi**’ni seçin ve çift tırnakların arasına, bu runbook uygulamasını başlatacağımız sanal makine adını yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-276">Select **PowerShell expression** for the **Data source** and type in the name of the virtual machine surrounded with double quotes that we start with this runbook.</span></span>  <span data-ttu-id="2d630-277">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-277">Click **OK**.</span></span><br><span data-ttu-id="2d630-278">![Start-AzureRmVM Adı Parametre Değeri](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-278">![Start-AzureRmVM Name Parameter Value](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span></span>
6. <span data-ttu-id="2d630-279">**ResourceGroupName**’i seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-279">Select **ResourceGroupName**.</span></span> <span data-ttu-id="2d630-280">**Veri Kaynağı** için **PowerShell ifadesi**’ni seçin ve çift tırnakların arasına kaynak grubu adını yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-280">Use **PowerShell expression** for the **Data source** and type in the name of the resource group surrounded with double quotes.</span></span>  <span data-ttu-id="2d630-281">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-281">Click **OK**.</span></span><br> <span data-ttu-id="2d630-282">![Start-AzureRmVM Parametreleri](media/automation-first-runbook-graphical/startazurermvm-params.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-282">![Start-AzureRmVM Parameters](media/automation-first-runbook-graphical/startazurermvm-params.png)</span></span>
7. <span data-ttu-id="2d630-283">Runbook’u test edebilmemiz için Test bölmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-283">Click Test pane so that we can test the runbook.</span></span>
8. <span data-ttu-id="2d630-284">Testi başlatmak için **Başlat**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-284">Click **Start** to start the test.</span></span>  <span data-ttu-id="2d630-285">Tamamlandığında, sanal makinenin başlatıldığını kontrol edin.</span><span class="sxs-lookup"><span data-stu-id="2d630-285">Once it completes, check that the virtual machine was started.</span></span>

<span data-ttu-id="2d630-286">Runbook'unuzda bu noktada aşağıdakine benzer:</span><span class="sxs-lookup"><span data-stu-id="2d630-286">Your runbook should look like the following at this point:</span></span> <br>![Runbook kimlik doğrulama yapılandırması](media/automation-first-runbook-graphical/runbook-startvm.png)

## <a name="step-8---add-additional-input-parameters-to-the-runbook"></a><span data-ttu-id="2d630-288">8. Adım - Runbook’a ek giriş parametreleri ekleme</span><span class="sxs-lookup"><span data-stu-id="2d630-288">Step 8 - Add additional input parameters to the runbook</span></span>
<span data-ttu-id="2d630-289">Runbook’umuz şu anda **Start-AzureRmVM** cmdlet’inde belirttiğimiz kaynak grubunda sanal makineyi başlatır.</span><span class="sxs-lookup"><span data-stu-id="2d630-289">Our runbook currently starts the virtual machine in the resource group that we specified in the **Start-AzureRmVM** cmdlet.</span></span>  <span data-ttu-id="2d630-290">Runbook’umuz, runbook başlatıldığında her ikisini de belirtmemiz durumunda daha kullanışlı olur.</span><span class="sxs-lookup"><span data-stu-id="2d630-290">Our runbook would be more useful if we could specify both when the runbook is started.</span></span>  <span data-ttu-id="2d630-291">Şimdi bu işlevi sağlamak için runbook’a girdi parametreleri ekleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="2d630-291">We now add input parameters to the runbook to provide that functionality.</span></span>

1. <span data-ttu-id="2d630-292">**MyFirstRunbook** bölmesinde **Düzenle**’ye tıklayarak grafik düzenleyicisini açın.</span><span class="sxs-lookup"><span data-stu-id="2d630-292">Open the graphical editor by clicking **Edit** on the **MyFirstRunbook** pane.</span></span>
2. <span data-ttu-id="2d630-293">**Giriş ve çıkış**’a tıklayın ve ardından Runbook Giriş Parametresi bölmesini açmak için **Giriş ekle**’ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-293">Click **Input and output** and then **Add input** to open the Runbook Input Parameter pane.</span></span><br> <span data-ttu-id="2d630-294">![Runbook Giriş ve Çıkış](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-294">![Runbook Input and Output](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span></span>
3. <span data-ttu-id="2d630-295">**Ad** için *VMName* belirtin.</span><span class="sxs-lookup"><span data-stu-id="2d630-295">Specify *VMName* for the **Name**.</span></span>  <span data-ttu-id="2d630-296">**Tür** *dizesini* koruyun ancak, **Zorunlu**’yu *Evet* olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="2d630-296">Keep *string* for the **Type**, but change **Mandatory** to *Yes*.</span></span>  <span data-ttu-id="2d630-297">**Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-297">Click **OK**.</span></span>
4. <span data-ttu-id="2d630-298">*ResourceGroupName* adlı ikinci bir zorunlu giriş parametresi oluşturun ve ardından **Giriş ve Çıkış** bölmesini kapatmak için **Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-298">Create a second mandatory input parameter called *ResourceGroupName* and then click **OK** to close the **Input and Output** pane.</span></span><br> <span data-ttu-id="2d630-299">![Runbook Giriş Parametreleri](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-299">![Runbook Input Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span></span>
5. <span data-ttu-id="2d630-300">**Start-AzureRmVM** etkinliğini seçin ve ardından **Parametreler**’e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-300">Select the **Start-AzureRmVM** activity and then click **Parameters**.</span></span>
6. <span data-ttu-id="2d630-301">**Ad** için **Veri kaynağı**’nı, **Runbook girişi** olarak değiştirin ve ardından **VMName**’i seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-301">Change the **Data source** for **Name** to **Runbook input** and then select **VMName**.</span></span><br>
7. <span data-ttu-id="2d630-302">**ResourceGroupName** için **Veri kaynağı**’nı, **Runbook girişi** olarak değiştirin ve ardından **ResourceGroupName**’i seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-302">Change the **Data source** for **ResourceGroupName** to **Runbook input** and then select **ResourceGroupName**.</span></span><br> <span data-ttu-id="2d630-303">![Start-AzureVM Parametreleri](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-303">![Start-AzureVM Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span></span>
8. <span data-ttu-id="2d630-304">Runbook'u kaydedin ve Test bölmesini açın.</span><span class="sxs-lookup"><span data-stu-id="2d630-304">Save the runbook and open the Test pane.</span></span>  <span data-ttu-id="2d630-305">Şimdi testte kullanılacak olan iki girdi değişkeni için değerleri sağlayabileceğinizi unutmayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-305">Note that you can now provide values for the two input variables that you use in the test.</span></span>
9. <span data-ttu-id="2d630-306">Test bölmesini kapatın.</span><span class="sxs-lookup"><span data-stu-id="2d630-306">Close the Test pane.</span></span>
10. <span data-ttu-id="2d630-307">Runbook’un yeni sürümünü yayımlamak için **Yayımla**’ya tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-307">Click **Publish** to publish the new version of the runbook.</span></span>
11. <span data-ttu-id="2d630-308">Önceki adımda başlattığınız sanal makineyi durdurun.</span><span class="sxs-lookup"><span data-stu-id="2d630-308">Stop the virtual machine that you started in the previous step.</span></span>
12. <span data-ttu-id="2d630-309">Runbook'u başlatmak için **Başlat**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-309">Click **Start** to start the runbook.</span></span>  <span data-ttu-id="2d630-310">Başlatacağınız sanal makinenin **VMName** ve **ResourceGroupName** bilgilerini yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-310">Type in the **VMName** and **ResourceGroupName** for the virtual machine that you're going to start.</span></span><br> <span data-ttu-id="2d630-311">![Runbook’u başlatma](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span></span>
13. <span data-ttu-id="2d630-312">Runbook tamamlandığında, sanal makinenin başladığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="2d630-312">When the runbook completes, check that the virtual machine was started.</span></span>

## <a name="step-9---create-a-conditional-link"></a><span data-ttu-id="2d630-313">9. Adım - Koşullu bağlantı oluşturma</span><span class="sxs-lookup"><span data-stu-id="2d630-313">Step 9 - Create a conditional link</span></span>
<span data-ttu-id="2d630-314">Hala başlatılmamışsa, yalnızca sanal makineyi başlatmayı deneyecek şekilde runbook’u değiştireceğiz.</span><span class="sxs-lookup"><span data-stu-id="2d630-314">We now modify the runbook so that it only attempts to start the virtual machine if it is not already started.</span></span>  <span data-ttu-id="2d630-315">Bunu, runbook’a sanal makinenin örnek düzeyi durumunu alan **Get-AzureRmVM** cmdlet’ini ekleyerek yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2d630-315">You do this by adding a **Get-AzureRmVM** cmdlet to the runbook that gets the instance level status of the virtual machine.</span></span> <span data-ttu-id="2d630-316">Ardından, sanal makine durumunun çalışıyor veya durduruldu olduğunu belirlemek amacıyla PowerShell kodu kod parçacığıyla birlikte **Durumu Al** adlı PowerShell İş Akışı kodu modülü ekleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-316">Then you add a PowerShell Workflow code module called **Get Status** with a snippet of PowerShell code to determine if the virtual machine state is running or stopped.</span></span>  <span data-ttu-id="2d630-317">**Durumu Al** modülünden alınan bir koşullu bağlantı yalnızca, geçerli çalışma durumu durduruldu ise, **Start-AzureRmVM** cmdlet’ini çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="2d630-317">A conditional link from the **Get Status** module only runs **Start-AzureRmVM** if the current running state is stopped.</span></span>  <span data-ttu-id="2d630-318">Son olarak, sanal makinin başarıyla başlatılıp başlatılmadığını veya PowerShell Write-Output cmdlet’ini kullanmadığını size bildirmek üzere bir çıktı mesajı göndereceğiz.</span><span class="sxs-lookup"><span data-stu-id="2d630-318">Finally, we output a message to inform you if the VM was successfully started or not using the PowerShell Write-Output cmdlet.</span></span>

1. <span data-ttu-id="2d630-319">Grafik düzenleyicisinde **MyFirstRunbook**’u açın.</span><span class="sxs-lookup"><span data-stu-id="2d630-319">Open **MyFirstRunbook** in the graphical editor.</span></span>
2. <span data-ttu-id="2d630-320">Üzerine tıklayarak ve ardından *Sil* tuşuna basarak **Specify Subscription Id** ve **Start-AzureRmVM** arasındaki bağlantıyı kaldırın.</span><span class="sxs-lookup"><span data-stu-id="2d630-320">Remove the link between **Specify Subscription Id** and **Start-AzureRmVM** by clicking on it and then pressing the *Delete* key.</span></span>
3. <span data-ttu-id="2d630-321">Kitaplık denetiminde, arama metin kutusuna **Get-AzureRm** yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-321">In the Library control, type **Get-AzureRm** in the search textbox.</span></span>
4. <span data-ttu-id="2d630-322">Tuvale **Get-AzureRmVM** ekleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-322">Add **Get-AzureRmVM** to the canvas.</span></span>
5. <span data-ttu-id="2d630-323">**Get-AzureRmVM** için kümeleri görüntülemek üzere **Get-AzureRmVM**’yi ve ardından **Parametre kümesi**’ni seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-323">Select **Get-AzureRmVM** and then **Parameter Set** to view the sets for **Get-AzureRmVM**.</span></span>  <span data-ttu-id="2d630-324">**GetVirtualMachineInResourceGroupNameParamSet** parametre kümesini seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-324">Select the **GetVirtualMachineInResourceGroupNameParamSet** parameter set.</span></span>  <span data-ttu-id="2d630-325">**ResourceGroupName** ve **Ad**’ın yanında ünlem işareti olduğuna dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="2d630-325">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="2d630-326">Bu, bunların gerekli parametreler olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="2d630-326">This indicates that they are required parameters.</span></span>  <span data-ttu-id="2d630-327">Ayrıca, her ikisinin de dize değerleri beklediğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-327">Also note both expect string values.</span></span>
6. <span data-ttu-id="2d630-328">**Ad** için **Veri kaynağı** altında, **Runbook girişi**’ni ve ardından **VMName**’i seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-328">Under **Data source** for **Name**, select **Runbook input** and then select **VMName**.</span></span>  <span data-ttu-id="2d630-329">**Tamam**’a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-329">Click **OK**.</span></span>
7. <span data-ttu-id="2d630-330">**ResourceGroupName** için **Veri kaynağı** altında, **Runbook girişi**’ni ve ardından **ResourceGroupName**’i seçin.</span><span class="sxs-lookup"><span data-stu-id="2d630-330">Under **Data source** for **ResourceGroupName**, select **Runbook input** and then select **ResourceGroupName**.</span></span>  <span data-ttu-id="2d630-331">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-331">Click **OK**.</span></span>
8. <span data-ttu-id="2d630-332">**Durum** için **Veri kaynağı** altında, **Sabit değer**’i seçin ve ardından **True** öğesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-332">Under **Data source** for **Status**, select **Constant value** and then click  **True**.</span></span>  <span data-ttu-id="2d630-333">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="2d630-333">Click **OK**.</span></span>  
9. <span data-ttu-id="2d630-334">**Abonelik Kimliği Belirt**’ten **Get-AzureRmVM**’ye bir bağlantı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2d630-334">Create a link from **Specify Subscription Id** to **Get-AzureRmVM**.</span></span>
10. <span data-ttu-id="2d630-335">Kitaplık denetiminde, **Runbook Denetimi**’ni genişletin ve tuvale **Kod** ekleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-335">In the library control, expand **Runbook Control** and add **Code** to the canvas.</span></span>  
11. <span data-ttu-id="2d630-336">**Get-AzureRmVM**’den **Kod**’a bir bağlantı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2d630-336">Create a link from **Get-AzureRmVM** to **Code**.</span></span>  
12. <span data-ttu-id="2d630-337">**Kod**’a tıklayın ve Yapılandırma bölmesinde etiketi **Durumu Al** olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="2d630-337">Click **Code** and in the Configuration pane, change label to **Get Status**.</span></span>
13. <span data-ttu-id="2d630-338">**Kod** parametresini seçin, **Kod Düzenleyicisi** dikey penceresi görünür.</span><span class="sxs-lookup"><span data-stu-id="2d630-338">Select **Code** parameter, and the **Code Editor** blade appears.</span></span>  
14. <span data-ttu-id="2d630-339">Kod düzenleyicisine, aşağıdaki kod parçacığını yapıştırın:</span><span class="sxs-lookup"><span data-stu-id="2d630-339">In the code editor, paste the following snippet of code:</span></span>
    
     ```
     $StatusesJson = $ActivityOutput['Get-AzureRmVM'].StatusesText
     $Statuses = ConvertFrom-Json $StatusesJson
     $StatusOut =""
     foreach ($Status in $Statuses){
     if($Status.Code -eq "Powerstate/running"){$StatusOut = "running"}
     elseif ($Status.Code -eq "Powerstate/deallocated") {$StatusOut = "stopped"}
     }
     $StatusOut
     ```
15. <span data-ttu-id="2d630-340">**Durumu Al**’dan **Start-AzureRmVM**’ye bir bağlantı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2d630-340">Create a link from **Get Status** to **Start-AzureRmVM**.</span></span><br> <span data-ttu-id="2d630-341">![Kod Modülü ile Runbook](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-341">![Runbook with Code Module](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span></span>  
16. <span data-ttu-id="2d630-342">Bağlantıyı seçin ve Yapılandırma bölmesinde, **Koşul uygula**’yı **Evet** olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="2d630-342">Select the link and in the Configuration pane, change **Apply condition** to **Yes**.</span></span>   <span data-ttu-id="2d630-343">Bağlantının, hedef etkinliğin yalnızca koşulun true olarak çözümlemesi halinde çalıştırılacağını belirten kesikli çizgiye döndüğüne dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="2d630-343">Note the link turns to a dashed line indicating that the target activity only runs if the condition resolves to true.</span></span>  
17. <span data-ttu-id="2d630-344">**Koşul ifadesi** için *$ActivityOutput['Get Status'] -eq "Stopped"* yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-344">For the **Condition expression**, type *$ActivityOutput['Get Status'] -eq "Stopped"*.</span></span>  <span data-ttu-id="2d630-345">**Start-AzureRmVM** artık yalnızca sanal makine durursa çalışır.</span><span class="sxs-lookup"><span data-stu-id="2d630-345">**Start-AzureRmVM** now only runs if the virtual machine is stopped.</span></span>
18. <span data-ttu-id="2d630-346">Kitaplık denetiminde, **Cmdlet'leri** ve ardından **Microsoft.PowerShell.Utility**’yi genişletin.</span><span class="sxs-lookup"><span data-stu-id="2d630-346">In the Library control, expand **Cmdlets** and then **Microsoft.PowerShell.Utility**.</span></span>
19. <span data-ttu-id="2d630-347">Tuvale iki kez **Write-Output** ekleyin.</span><span class="sxs-lookup"><span data-stu-id="2d630-347">Add **Write-Output** to the canvas twice.</span></span><br> <span data-ttu-id="2d630-348">![Write-Output ile Runbook](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span><span class="sxs-lookup"><span data-stu-id="2d630-348">![Runbook with Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span></span>
20. <span data-ttu-id="2d630-349">İlk **Write-Output** denetiminde, **Parametreler**’e tıklayın ve **Etiket** değerini *VM Başlatıldığında Bildir* olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="2d630-349">On the first **Write-Output** control, click **Parameters** and change the **Label** value to *Notify VM Started*.</span></span>
21. <span data-ttu-id="2d630-350">**InputObject** için, **Veri kaynağını** **PowerShell ifadesi** olarak değiştirin ve ifadeye *"$VMName successfully started."* yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-350">For **InputObject**, change **Data source** to **PowerShell expression** and type in the expression *"$VMName successfully started."*.</span></span>
22. <span data-ttu-id="2d630-351">Birinci **Write-Output** denetiminde, **Parametreler**’e tıklayın ve **Etiket** değerini *VM Başlatılamadığında Bildir* olarak değiştirin</span><span class="sxs-lookup"><span data-stu-id="2d630-351">On the second **Write-Output** control, click **Parameters** and change the **Label** value to *Notify VM Start Failed*</span></span>
23. <span data-ttu-id="2d630-352">**InputObject** için, **Veri kaynağını** **PowerShell ifadesi** olarak değiştirin ve ifadeye *"$VMName could not start."* yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-352">For **InputObject**, change **Data source** to **PowerShell expression** and type in the expression *"$VMName could not start."*.</span></span>
24. <span data-ttu-id="2d630-353">**Start-AzureRmVM**’den **VM Başlatıldığında Bildir** ve **VM Başlatma Başarısız Olduğunda Bildir**’e bir bağlantı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="2d630-353">Create a link from **Start-AzureRmVM** to **Notify VM Started** and **Notify VM Start Failed**.</span></span>
25. <span data-ttu-id="2d630-354">**VM Başlatıldığında Bildir** bağlantısını seçin ve **Koşul uygula**’yı **True** olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="2d630-354">Select the link to **Notify VM Started** and change **Apply condition** to **True**.</span></span>
26. <span data-ttu-id="2d630-355">**Koşul ifadesi** için, *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true* yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-355">For the **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true*.</span></span>  <span data-ttu-id="2d630-356">Write-Output denetimi artık yalnızca sanal makine başarıyla başlatıldığında çalışır.</span><span class="sxs-lookup"><span data-stu-id="2d630-356">This Write-Output control now only runs if the virtual machine is successfully started.</span></span>
27. <span data-ttu-id="2d630-357">**VM Başlatma Başarısız Olduğunda Bildir** bağlantısını seçin ve **Koşul uygula**’yı **True** olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="2d630-357">Select the link to **Notify VM Start Failed** and change **Apply condition** to **True**.</span></span>
28. <span data-ttu-id="2d630-358">**Koşul ifadesi** için, *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true* yazın.</span><span class="sxs-lookup"><span data-stu-id="2d630-358">For the **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true*.</span></span>  <span data-ttu-id="2d630-359">Write-Output denetimi artık yalnızca sanal makine başarıyla başlatılmadığında çalışır.</span><span class="sxs-lookup"><span data-stu-id="2d630-359">This Write-Output control now only runs if the virtual machine is not successfully started.</span></span>
29. <span data-ttu-id="2d630-360">Runbook'u kaydedin ve Test bölmesini açın.</span><span class="sxs-lookup"><span data-stu-id="2d630-360">Save the runbook and open the Test pane.</span></span>
30. <span data-ttu-id="2d630-361">Sanal makine kapalı iken runbook’u çalıştırın, başlamalıdır.</span><span class="sxs-lookup"><span data-stu-id="2d630-361">Start the runbook with the virtual machine stopped, and it should start.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2d630-362">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="2d630-362">Next steps</span></span>
* <span data-ttu-id="2d630-363">Grafik Yazma hakkında daha fazla bilgi için bkz. [Azure Automation’da grafik yazma](automation-graphical-authoring-intro.md)</span><span class="sxs-lookup"><span data-stu-id="2d630-363">To learn more about Graphical Authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md)</span></span>
* <span data-ttu-id="2d630-364">PowerShell runbook'ları kullanmaya başlamak için bkz. [İlk PowerShell runbook uygulamam](automation-first-runbook-textual-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="2d630-364">To get started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md)</span></span>
* <span data-ttu-id="2d630-365">PowerShell iş akışı runbook'larını kullanmaya başlamak için bkz. [İlk PowerShell iş akışı runbook uygulamam](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="2d630-365">To get started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span>

