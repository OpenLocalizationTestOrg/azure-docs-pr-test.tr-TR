---
title: Azure automation'da ilk PowerShell runbook aaaMy | Microsoft Docs
description: "Test ve basit bir PowerShell runbook yayımlama hello oluşturma adımlarını anlatan öğretici."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: "azure powershell, powershell betik öğreticisi, powershell otomasyonu"
ms.assetid: a43b395a-e740-41a3-ae62-40eac9d0ec00
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 03/26/2017
ms.author: magoedte;sngun
ms.openlocfilehash: abff94abe666cd8423c35b970b4162ba9247bcf8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="my-first-powershell-runbook"></a><span data-ttu-id="78274-104">İlk PowerShell runbook’um</span><span class="sxs-lookup"><span data-stu-id="78274-104">My first PowerShell runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="78274-105">Grafik</span><span class="sxs-lookup"><span data-stu-id="78274-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="78274-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="78274-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="78274-107">PowerShell İş Akışı</span><span class="sxs-lookup"><span data-stu-id="78274-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="78274-108">Bu öğreticide, hello oluşturulmasını açıklanmaktadır bir [PowerShell runbook](automation-runbook-types.md#powershell-runbooks) Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="78274-108">This tutorial walks you through hello creation of a [PowerShell runbook](automation-runbook-types.md#powershell-runbooks) in Azure Automation.</span></span> <span data-ttu-id="78274-109">Biz, test ve biz nasıl tootrack hello hello runbook işinin durumunu açıklarken basit bir runbook ile başlatın.</span><span class="sxs-lookup"><span data-stu-id="78274-109">We start with a simple runbook that we test and publish while we explain how tootrack hello status of hello runbook job.</span></span> <span data-ttu-id="78274-110">Biz hello runbook değiştirebilir sonra tooactually yönetmek Azure kaynaklarını, bu durumda bir Azure sanal makinesi başlatılıyor.</span><span class="sxs-lookup"><span data-stu-id="78274-110">Then we modify hello runbook tooactually manage Azure resources, in this case starting an Azure virtual machine.</span></span> <span data-ttu-id="78274-111">Son olarak, runbook parametreleri ekleyerek runbook'u daha sağlam hello olun.</span><span class="sxs-lookup"><span data-stu-id="78274-111">Lastly, we make hello runbook more robust by adding runbook parameters.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="78274-112">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="78274-112">Prerequisites</span></span>
<span data-ttu-id="78274-113">toocomplete Bu öğretici, aşağıdaki hello gerekir:</span><span class="sxs-lookup"><span data-stu-id="78274-113">toocomplete this tutorial, you need hello following:</span></span>

* <span data-ttu-id="78274-114">Azure aboneliği.</span><span class="sxs-lookup"><span data-stu-id="78274-114">Azure subscription.</span></span> <span data-ttu-id="78274-115">Henüz bir aboneliğiniz yoksa [MSDN abone avantajlarınızı etkinleştirebilir](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) ya da <a href="/pricing/free-account/" target="_blank">[ücretsiz hesap için kaydolabilirsiniz](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="78274-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="78274-116">[Otomasyon hesabı](automation-sec-configure-azure-runas-account.md) toohold runbook hello ve tooAzure kaynakları kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="78274-116">[Automation account](automation-sec-configure-azure-runas-account.md) toohold hello runbook and authenticate tooAzure resources.</span></span>  <span data-ttu-id="78274-117">Bu hesap, izin toostart sahip ve hello sanal makineyi durdurun.</span><span class="sxs-lookup"><span data-stu-id="78274-117">This account must have permission toostart and stop hello virtual machine.</span></span>
* <span data-ttu-id="78274-118">Azure sanal makinesi.</span><span class="sxs-lookup"><span data-stu-id="78274-118">An Azure virtual machine.</span></span> <span data-ttu-id="78274-119">Bu makineyi durdurup başlatacağımız için makinenin üretime yönelik bir VM olmaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="78274-119">We stop and start this machine so it should not be a production VM.</span></span>

## <a name="step-1---create-new-runbook"></a><span data-ttu-id="78274-120">1. Adım - Yeni runbook oluşturma</span><span class="sxs-lookup"><span data-stu-id="78274-120">Step 1 - Create new runbook</span></span>
<span data-ttu-id="78274-121">Merhaba metnini veren basit bir runbook oluşturarak başlayacağız *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="78274-121">We'll start by creating a simple runbook that outputs hello text *Hello World*.</span></span>

1. <span data-ttu-id="78274-122">Hello Azure portal, Automation hesabınızı açın.</span><span class="sxs-lookup"><span data-stu-id="78274-122">In hello Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="78274-123">Merhaba Automation hesabı sayfası, bu hesapta hello kaynakların hızlı bir görünümünü sağlar.</span><span class="sxs-lookup"><span data-stu-id="78274-123">hello Automation account page gives you a quick view of hello resources in this account.</span></span> <span data-ttu-id="78274-124">Birkaç varlığınız zaten olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="78274-124">You should already have some assets.</span></span> <span data-ttu-id="78274-125">Bunların çoğu, yeni bir Otomasyon hesabı içinde otomatik olarak dahil edilen hello modüllerdir.</span><span class="sxs-lookup"><span data-stu-id="78274-125">Most of those are hello modules that are automatically included in a new Automation account.</span></span> <span data-ttu-id="78274-126">Hello belirtiliyor hello kimlik bilgisi varlığı de olmalıdır [Önkoşullar](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="78274-126">You should also have hello Credential asset that's mentioned in hello [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="78274-127">Merhaba tıklatın **Runbook'lar** döşeme tooopen hello listesini.</span><span class="sxs-lookup"><span data-stu-id="78274-127">Click hello **Runbooks** tile tooopen hello list of runbooks.</span></span><br><br> <span data-ttu-id="78274-128">![RunbooksControl](media/automation-first-runbook-textual-powershell/runbooks-control-tiles.png)</span><span class="sxs-lookup"><span data-stu-id="78274-128">![RunbooksControl](media/automation-first-runbook-textual-powershell/runbooks-control-tiles.png)</span></span>  
3. <span data-ttu-id="78274-129">Merhaba tıklatarak yeni bir runbook oluşturmak **runbook Ekle** düğmesine ve ardından **yeni bir runbook oluşturmak**.</span><span class="sxs-lookup"><span data-stu-id="78274-129">Create a new runbook by clicking hello **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="78274-130">Merhaba runbook hello adlandırın *MyFirstRunbook-PowerShell*.</span><span class="sxs-lookup"><span data-stu-id="78274-130">Give hello runbook hello name *MyFirstRunbook-PowerShell*.</span></span>
5. <span data-ttu-id="78274-131">Bu durumda, toocreate yapacağız bir [PowerShell runbook](automation-runbook-types.md#powershell-runbooks) şekilde select **Powershell** için **Runbook türü**.</span><span class="sxs-lookup"><span data-stu-id="78274-131">In this case, we're going toocreate a [PowerShell runbook](automation-runbook-types.md#powershell-runbooks) so select **Powershell** for **Runbook type**.</span></span><br><br> <span data-ttu-id="78274-132">![Runbook Türü](media/automation-first-runbook-textual-powershell/automation-runbook-type.png)</span><span class="sxs-lookup"><span data-stu-id="78274-132">![Runbook Type](media/automation-first-runbook-textual-powershell/automation-runbook-type.png)</span></span>  
6. <span data-ttu-id="78274-133">Tıklatın **oluşturma** toocreate hello runbook ve açık hello metin düzenleyicisini.</span><span class="sxs-lookup"><span data-stu-id="78274-133">Click **Create** toocreate hello runbook and open hello textual editor.</span></span>

## <a name="step-2---add-code-toohello-runbook"></a><span data-ttu-id="78274-134">2. adım - kod toohello runbook Ekle</span><span class="sxs-lookup"><span data-stu-id="78274-134">Step 2 - Add code toohello runbook</span></span>
<span data-ttu-id="78274-135">Doğrudan hello runbook'a kodu olabilir veya bunları toohello runbook ilgili parametrelerle ekledikten ve kitaplığı denetimi hello cmdlet'leri, runbook'ları ve varlıkları seçebilir.</span><span class="sxs-lookup"><span data-stu-id="78274-135">You can either type code directly into hello runbook, or you can select cmdlets, runbooks, and assets from hello Library control and have them added toohello runbook with any related parameters.</span></span> <span data-ttu-id="78274-136">Bu kılavuzda doğrudan hello runbook'ta yazın.</span><span class="sxs-lookup"><span data-stu-id="78274-136">For this walkthrough, we type directly in hello runbook.</span></span>

1. <span data-ttu-id="78274-137">Runbook şu anda boş, *Write-Output "Hello World."* yazın.</span><span class="sxs-lookup"><span data-stu-id="78274-137">Our runbook is currently empty, type *Write-Output "Hello World."*.</span></span><br><br> <span data-ttu-id="78274-138">![Hello World](media/automation-first-runbook-textual-powershell/automation-helloworld.png)</span><span class="sxs-lookup"><span data-stu-id="78274-138">![Hello World](media/automation-first-runbook-textual-powershell/automation-helloworld.png)</span></span>  
2. <span data-ttu-id="78274-139">Tıklayarak Hello runbook'u kaydetmek **kaydetmek**.</span><span class="sxs-lookup"><span data-stu-id="78274-139">Save hello runbook by clicking **Save**.</span></span><br><br> <span data-ttu-id="78274-140">![Kaydet Düğmesi](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-save.png)</span><span class="sxs-lookup"><span data-stu-id="78274-140">![Save Button](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-save.png)</span></span>  

## <a name="step-3---test-hello-runbook"></a><span data-ttu-id="78274-141">3. adım - hello runbook sınaması</span><span class="sxs-lookup"><span data-stu-id="78274-141">Step 3 - Test hello runbook</span></span>
<span data-ttu-id="78274-142">Biz hello runbook toomake yayımlamadan önce onu üretimde kullanılabilir tootest istiyoruz, toomake düzgün çalıştığından emin.</span><span class="sxs-lookup"><span data-stu-id="78274-142">Before we publish hello runbook toomake it available in production, we want tootest it toomake sure that it works properly.</span></span> <span data-ttu-id="78274-143">Bir runbook'u test ettiğinizde, bunun **Taslak** sürümünü çalıştırır ve çıktısını etkileşimli olarak görüntülersiniz.</span><span class="sxs-lookup"><span data-stu-id="78274-143">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="78274-144">Tıklatın **Test bölmesi** tooopen hello Test bölmesi.</span><span class="sxs-lookup"><span data-stu-id="78274-144">Click **Test pane** tooopen hello Test pane.</span></span><br><br> <span data-ttu-id="78274-145">![Test Bölmesi](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-test.png)</span><span class="sxs-lookup"><span data-stu-id="78274-145">![Test Pane](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-test.png)</span></span>  
2. <span data-ttu-id="78274-146">Tıklatın **Başlat** toostart hello test.</span><span class="sxs-lookup"><span data-stu-id="78274-146">Click **Start** toostart hello test.</span></span> <span data-ttu-id="78274-147">Bu, yalnızca etkin hello seçeneği olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="78274-147">This should be hello only enabled option.</span></span>
3. <span data-ttu-id="78274-148">Bir [runbook işi](automation-runbook-execution.md) oluşturulur ve durumu görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="78274-148">A [runbook job](automation-runbook-execution.md) is created and its status displayed.</span></span>  
   <span data-ttu-id="78274-149">Merhaba iş durumunu başlatır olarak *sıraya alınan* bir runbook worker'hello bulut toocome için bekleyen belirten.</span><span class="sxs-lookup"><span data-stu-id="78274-149">hello job status starts as *Queued* indicating that it is waiting for a runbook worker in hello cloud toocome available.</span></span> <span data-ttu-id="78274-150">Ardından, çok taşınır*başlangıç* bir çalışan hello işi talep ettiğinde ve ardından *çalıştıran* hello runbook gerçekten çalışmaya başladığında.</span><span class="sxs-lookup"><span data-stu-id="78274-150">It will then move too*Starting* when a worker claims hello job, and then *Running* when hello runbook actually starts running.</span></span>  
4. <span data-ttu-id="78274-151">Merhaba runbook işi tamamlandığında çıktısı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="78274-151">When hello runbook job completes, its output is displayed.</span></span> <span data-ttu-id="78274-152">Örneğimizde, *Hello World* metnini görmeliyiz.</span><span class="sxs-lookup"><span data-stu-id="78274-152">In our case, we should see *Hello World*.</span></span><br><br> <span data-ttu-id="78274-153">![Test Bölmesi Çıktısı](media/automation-first-runbook-textual-powershell/automation-testpane-output.png)</span><span class="sxs-lookup"><span data-stu-id="78274-153">![Test Pane Output](media/automation-first-runbook-textual-powershell/automation-testpane-output.png)</span></span>  
5. <span data-ttu-id="78274-154">Merhaba Test bölmesi tooreturn toohello tuvale kapatın.</span><span class="sxs-lookup"><span data-stu-id="78274-154">Close hello Test pane tooreturn toohello canvas.</span></span>

## <a name="step-4---publish-and-start-hello-runbook"></a><span data-ttu-id="78274-155">4. adım - yayımlama ve hello runbook başlatın</span><span class="sxs-lookup"><span data-stu-id="78274-155">Step 4 - Publish and start hello runbook</span></span>
<span data-ttu-id="78274-156">oluşturduğumuz hello runbook hala taslak modunda değil.</span><span class="sxs-lookup"><span data-stu-id="78274-156">hello runbook that we created is still in Draft mode.</span></span> <span data-ttu-id="78274-157">Toopublish ihtiyacımız, biz üretimde çalıştırılabilmesi için önce.</span><span class="sxs-lookup"><span data-stu-id="78274-157">We need toopublish it before we can run it in production.</span></span>  <span data-ttu-id="78274-158">Bir runbook yayımladığınızda, hello Taslak sürümü hello mevcut yayımlanmış sürümün üzerine.</span><span class="sxs-lookup"><span data-stu-id="78274-158">When you publish a runbook, you overwrite hello existing Published version with hello Draft version.</span></span>  <span data-ttu-id="78274-159">Merhaba runbook oluşturduğumuz çünkü Örneğimizde, yayımlanan sürümü biz henüz yok.</span><span class="sxs-lookup"><span data-stu-id="78274-159">In our case, we don't have a Published version yet because we just created hello runbook.</span></span>

1. <span data-ttu-id="78274-160">Tıklatın **Yayımla** toopublish hello runbook ardından **Evet** istendiğinde.</span><span class="sxs-lookup"><span data-stu-id="78274-160">Click **Publish** toopublish hello runbook and then **Yes** when prompted.</span></span><br><br> <span data-ttu-id="78274-161">![Yayımla düğmesi](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-publish.png)</span><span class="sxs-lookup"><span data-stu-id="78274-161">![Publish button](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-publish.png)</span></span>  
2. <span data-ttu-id="78274-162">Sol tooview hello hello runbook'ta kaydırırsanız **Runbook'lar** bölmesinde şimdi gösterilir bir **yazma durumu** , **yayımlanan**.</span><span class="sxs-lookup"><span data-stu-id="78274-162">If you scroll left tooview hello runbook in hello **Runbooks** pane now, it will show an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="78274-163">Kaydırma geri toohello sağ tooview hello bölmesini için **MyFirstRunbook-PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="78274-163">Scroll back toohello right tooview hello pane for **MyFirstRunbook-PowerShell**.</span></span>  
   <span data-ttu-id="78274-164">Merhaba seçenekleri hello üstte bize toostart hello runbook izin, hello runbook görüntülemek, hello gelecekteki bazı zamanında toostart zamanlama veya oluşturma bir [Web kancası](automation-webhooks.md) başlatılmış olması için bir HTTP çağrısı aracılığıyla.</span><span class="sxs-lookup"><span data-stu-id="78274-164">hello options across hello top allow us toostart hello runbook, view hello runbook, schedule it toostart at some time in hello future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="78274-165">Toostart hello runbook istediğiniz, bu nedenle tıklatın **Başlat** ve ardından **Tamam** zaman hello Runbook'u Başlat dikey pencere açılır.</span><span class="sxs-lookup"><span data-stu-id="78274-165">We want toostart hello runbook, so click **Start** and then click **Ok** when hello Start Runbook blade opens.</span></span><br><br> <span data-ttu-id="78274-166">![Başlat düğmesi](media/automation-first-runbook-textual-powershell/automation-runbook-controls-start.png)</span><span class="sxs-lookup"><span data-stu-id="78274-166">![Start button](media/automation-first-runbook-textual-powershell/automation-runbook-controls-start.png)</span></span><br>    
5. <span data-ttu-id="78274-167">Oluşturduğumuz hello runbook işi için bir iş bölmesi açıldı.</span><span class="sxs-lookup"><span data-stu-id="78274-167">A job pane is opened for hello runbook job that we created.</span></span> <span data-ttu-id="78274-168">Biz bu bölme kapatılabilir, ancak biz hello işin ilerleme durumunu izleyebilmek için bu durumda biz açık bırakın.</span><span class="sxs-lookup"><span data-stu-id="78274-168">We can close this pane, but in this case we leave it open so we can watch hello job's progress.</span></span>
6. <span data-ttu-id="78274-169">Merhaba iş durumu gösterilir **iş özeti** ve eşleşmeleri hello zaman hello runbook test gördüğümüz durumların.</span><span class="sxs-lookup"><span data-stu-id="78274-169">hello job status is shown in **Job Summary** and matches hello statuses that we saw when we tested hello runbook.</span></span><br><br> <span data-ttu-id="78274-170">![İş Özeti](media/automation-first-runbook-textual-powershell/job-pane-status-blade-jobsummary.png)</span><span class="sxs-lookup"><span data-stu-id="78274-170">![Job Summary](media/automation-first-runbook-textual-powershell/job-pane-status-blade-jobsummary.png)</span></span><br>  
7. <span data-ttu-id="78274-171">Runbook durumu gösterir'bir kez hello *tamamlandı*, tıklatın **çıkış**.</span><span class="sxs-lookup"><span data-stu-id="78274-171">Once hello runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="78274-172">Merhaba çıktı bölmesi açılır ve görebiliriz bizim *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="78274-172">hello Output pane is opened, and we can see our *Hello World*.</span></span><br><br> <span data-ttu-id="78274-173">![İş Çıktısı](media/automation-first-runbook-textual-powershell/job-pane-status-blade-outputtile.png)</span><span class="sxs-lookup"><span data-stu-id="78274-173">![Job Output](media/automation-first-runbook-textual-powershell/job-pane-status-blade-outputtile.png)</span></span><br> 
8. <span data-ttu-id="78274-174">Kapat hello çıkış bölmesi.</span><span class="sxs-lookup"><span data-stu-id="78274-174">Close hello Output pane.</span></span>
9. <span data-ttu-id="78274-175">Tıklatın **tüm günlükleri** tooopen hello akışlar bölmesini hello runbook işi için.</span><span class="sxs-lookup"><span data-stu-id="78274-175">Click **All Logs** tooopen hello Streams pane for hello runbook job.</span></span> <span data-ttu-id="78274-176">Yalnızca görmeliyiz *Hello World* hello çıkış akışı, ancak bu ayrıntılı ve hata gibi runbook işine yönelik diğer akışlar hello runbook toothem yazıyorsa gösterebilir.</span><span class="sxs-lookup"><span data-stu-id="78274-176">We should only see *Hello World* in hello output stream, but this can show other streams for a runbook job such as Verbose and Error if hello runbook writes toothem.</span></span><br><br> <span data-ttu-id="78274-177">![Tüm Günlükler](media/automation-first-runbook-textual-powershell/job-pane-status-blade-alllogstile.png)</span><span class="sxs-lookup"><span data-stu-id="78274-177">![All Logs](media/automation-first-runbook-textual-powershell/job-pane-status-blade-alllogstile.png)</span></span><br>   
10. <span data-ttu-id="78274-178">Merhaba akışlar bölmesini ve hello iş tooreturn toohello MyFirstRunbook-PowerShell bölmesini kapatın.</span><span class="sxs-lookup"><span data-stu-id="78274-178">Close hello Streams pane and hello Job pane tooreturn toohello MyFirstRunbook-PowerShell pane.</span></span>
11. <span data-ttu-id="78274-179">Tıklatın **işleri** tooopen hello işleri bölmesinde bu runbook için.</span><span class="sxs-lookup"><span data-stu-id="78274-179">Click **Jobs** tooopen hello Jobs pane for this runbook.</span></span> <span data-ttu-id="78274-180">Bu, tüm bu runbook tarafından oluşturulan hello işlerini listeler.</span><span class="sxs-lookup"><span data-stu-id="78274-180">This lists all of hello jobs created by this runbook.</span></span> <span data-ttu-id="78274-181">Yalnızca bir işin yalnızca hello iş kez karşılaştık beri listelendiğini görmeliyiz.</span><span class="sxs-lookup"><span data-stu-id="78274-181">We should only see one job listed since we only ran hello job once.</span></span><br><br> <span data-ttu-id="78274-182">![İş Listesi](media/automation-first-runbook-textual-powershell/runbook-control-job-tile.png)</span><span class="sxs-lookup"><span data-stu-id="78274-182">![Job List](media/automation-first-runbook-textual-powershell/runbook-control-job-tile.png)</span></span>  
12. <span data-ttu-id="78274-183">Bu iş tıklayabilirsiniz tooopen hello biz hello runbook'u başlattığımızda, görüntülediğimiz iş bölmesini.</span><span class="sxs-lookup"><span data-stu-id="78274-183">You can click this job tooopen hello same Job pane that we viewed when we started hello runbook.</span></span> <span data-ttu-id="78274-184">Bu, toogo geri belirli bir runbook için oluşturulan herhangi bir işi zaman ve görünüm hello ayrıntılarını sağlar.</span><span class="sxs-lookup"><span data-stu-id="78274-184">This allows you toogo back in time and view hello details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---add-authentication-toomanage-azure-resources"></a><span data-ttu-id="78274-185">5. adım - kimlik doğrulama toomanage ekleme Azure kaynakları</span><span class="sxs-lookup"><span data-stu-id="78274-185">Step 5 - Add authentication toomanage Azure resources</span></span>
<span data-ttu-id="78274-186">Runbook uygulamamızı test ettik ve yayımladık, ancak şu ana kadar faydalı bir şey yapmadı.</span><span class="sxs-lookup"><span data-stu-id="78274-186">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="78274-187">Azure kaynaklarını yönetmek toohave istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="78274-187">We want toohave it manage Azure resources.</span></span> <span data-ttu-id="78274-188">Biz kimlik doğrulaması ancak hello kimlik bilgilerini kullanarak tooin hello başvurulan olduğunu mümkün toodo olmayacaktır [Önkoşullar](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="78274-188">It won't be able toodo that though unless we have it authenticate using hello credentials that are referred tooin hello [prerequisites](#prerequisites).</span></span> <span data-ttu-id="78274-189">Merhaba ile bunu **Add-AzureRmAccount** cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="78274-189">We do that with hello **Add-AzureRmAccount** cmdlet.</span></span>

1. <span data-ttu-id="78274-190">Tıklayarak metin düzenleyicisini açın hello **Düzenle** hello MyFirstRunbook-PowerShell bölmesinde.</span><span class="sxs-lookup"><span data-stu-id="78274-190">Open hello textual editor by clicking **Edit** on hello MyFirstRunbook-PowerShell pane.</span></span><br><br> <span data-ttu-id="78274-191">![Runbook’u Düzenleme](media/automation-first-runbook-textual-powershell/automation-runbook-controls-edit.png)</span><span class="sxs-lookup"><span data-stu-id="78274-191">![Edit Runbook](media/automation-first-runbook-textual-powershell/automation-runbook-controls-edit.png)</span></span><br>   
2. <span data-ttu-id="78274-192">Merhaba gerekmez **Write-Output** satırı artık, bu nedenle bir tane silin.</span><span class="sxs-lookup"><span data-stu-id="78274-192">We don't need hello **Write-Output** line anymore, so go ahead and delete it.</span></span>
3. <span data-ttu-id="78274-193">Yazın veya kopyalayıp hello kimlik doğrulaması Automation farklı çalıştır hesabınız ile işleyen kodu aşağıdaki hello yapıştırın:</span><span class="sxs-lookup"><span data-stu-id="78274-193">Type or copy and paste hello following code that handles hello authentication with your Automation Run As account:</span></span>
   
   ```
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID `
   -ApplicationId $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   ```
   <br>
4. <span data-ttu-id="78274-194">Tıklatın **Test bölmesi** böylece hello runbook test edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="78274-194">Click **Test pane** so that we can test hello runbook.</span></span>
5. <span data-ttu-id="78274-195">Tıklatın **Başlat** toostart hello test.</span><span class="sxs-lookup"><span data-stu-id="78274-195">Click **Start** toostart hello test.</span></span> <span data-ttu-id="78274-196">Tamamlandığında, aşağıdaki, hesabınızdaki temel bilgileri görüntüleyen benzer toohello çıkış almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="78274-196">Once it completes, you should receive output similar toohello following, displaying basic information from your account.</span></span> <span data-ttu-id="78274-197">Bu, o hello kimlik bilgisi geçerli olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="78274-197">This confirms that hello credential is valid.</span></span><br><br> <span data-ttu-id="78274-198">![Kimlik Doğrulaması](media/automation-first-runbook-textual-powershell/runbook-auth-output.png)</span><span class="sxs-lookup"><span data-stu-id="78274-198">![Authenticate](media/automation-first-runbook-textual-powershell/runbook-auth-output.png)</span></span>

## <a name="step-6---add-code-toostart-a-virtual-machine"></a><span data-ttu-id="78274-199">6. adım - kod toostart bir sanal makine ekleme</span><span class="sxs-lookup"><span data-stu-id="78274-199">Step 6 - Add code toostart a virtual machine</span></span>
<span data-ttu-id="78274-200">Runbook uygulamamız tooour Azure aboneliği kimlik doğrulaması, kaynakları yönetebiliriz.</span><span class="sxs-lookup"><span data-stu-id="78274-200">Now that our runbook is authenticating tooour Azure subscription, we can manage resources.</span></span> <span data-ttu-id="78274-201">Şu komutu toostart bir sanal makine ekleyin.</span><span class="sxs-lookup"><span data-stu-id="78274-201">We add a command toostart a virtual machine.</span></span> <span data-ttu-id="78274-202">Tüm sanal makineler Azure aboneliğinizde seçebilirsiniz ve şimdilik biz stillerinizin hello runbook ad olacaktır.</span><span class="sxs-lookup"><span data-stu-id="78274-202">You can pick any virtual machine in your Azure subscription, and for now we will hardcode that name in hello runbook.</span></span>

1. <span data-ttu-id="78274-203">Sonra *Add-AzureRmAccount*, türü *Start-AzureRmVM-Name 'VMName' - ResourceGroupName 'NameofResourceGroup'* hello adını ve kaynak grubu adını hello sanal makine toostart sağlama.</span><span class="sxs-lookup"><span data-stu-id="78274-203">After *Add-AzureRmAccount*, type *Start-AzureRmVM -Name 'VMName' -ResourceGroupName 'NameofResourceGroup'* providing hello name and Resource Group name of hello virtual machine toostart.</span></span>  
   
   ```
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID `
   -ApplicationID $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   Start-AzureRmVM -Name 'VMName' -ResourceGroupName 'ResourceGroupName'
   ```
   <br>
2. <span data-ttu-id="78274-204">Merhaba runbook'u kaydedin ve ardından **Test bölmesi** böylece test edebiliriz.</span><span class="sxs-lookup"><span data-stu-id="78274-204">Save hello runbook and then click **Test pane** so that we can test it.</span></span>
3. <span data-ttu-id="78274-205">Tıklatın **Başlat** toostart hello test.</span><span class="sxs-lookup"><span data-stu-id="78274-205">Click **Start** toostart hello test.</span></span> <span data-ttu-id="78274-206">Tamamlandığında, sanal makine hello onay başlatıldı.</span><span class="sxs-lookup"><span data-stu-id="78274-206">Once it completes, check that hello virtual machine was started.</span></span>

## <a name="step-7---add-an-input-parameter-toohello-runbook"></a><span data-ttu-id="78274-207">7. adım - bir giriş parametresi toohello runbook Ekle</span><span class="sxs-lookup"><span data-stu-id="78274-207">Step 7 - Add an input parameter toohello runbook</span></span>
<span data-ttu-id="78274-208">Runbook uygulamamız şu anda başlar hello sanal makineyi sabit kodlanmış hello runbook'taki ancak hello runbook başlatıldığında biz hello sanal makine belirtirseniz, daha kullanışlı olurdu.</span><span class="sxs-lookup"><span data-stu-id="78274-208">Our runbook currently starts hello virtual machine that we hardcoded in hello runbook, but it would be more useful if we specify hello virtual machine when hello runbook is started.</span></span> <span data-ttu-id="78274-209">Giriş parametreleri toohello runbook tooprovide şimdi bu işlevselliği ekleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="78274-209">We will now add input parameters toohello runbook tooprovide that functionality.</span></span>

1. <span data-ttu-id="78274-210">Parametrelerini ekleyin *VMName* ve *ResourceGroupName* toohello runbook ve bu değişkenleri ile Merhaba **Start-AzureRmVM** hello örnekte olduğu gibi cmdlet.</span><span class="sxs-lookup"><span data-stu-id="78274-210">Add parameters for *VMName* and *ResourceGroupName* toohello runbook and use these variables with hello **Start-AzureRmVM** cmdlet as in hello example below.</span></span>  
   
   ```
   Param(
    [string]$VMName,
    [string]$ResourceGroupName
   )
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID `
   -ApplicationID $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   Start-AzureRmVM -Name $VMName -ResourceGroupName $ResourceGroupName
   ```
   <br>
2. <span data-ttu-id="78274-211">Merhaba runbook'u kaydedin ve hello Test bölmesini açın.</span><span class="sxs-lookup"><span data-stu-id="78274-211">Save hello runbook and open hello Test pane.</span></span> <span data-ttu-id="78274-212">Şimdi, Merhaba hello testinde kullanılan iki girdi değişkeni değerleri sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="78274-212">You can now provide values for hello two input variables that are used in hello test.</span></span>
3. <span data-ttu-id="78274-213">Kapat hello Test bölmesi.</span><span class="sxs-lookup"><span data-stu-id="78274-213">Close hello Test pane.</span></span>
4. <span data-ttu-id="78274-214">Tıklatın **Yayımla** toopublish hello yeni sürümünü hello runbook.</span><span class="sxs-lookup"><span data-stu-id="78274-214">Click **Publish** toopublish hello new version of hello runbook.</span></span>
5. <span data-ttu-id="78274-215">Merhaba önceki adımda başlattığınız Hello sanal makineyi durdurun.</span><span class="sxs-lookup"><span data-stu-id="78274-215">Stop hello virtual machine that you started in hello previous step.</span></span>
6. <span data-ttu-id="78274-216">Tıklatın **Başlat** toostart hello runbook.</span><span class="sxs-lookup"><span data-stu-id="78274-216">Click **Start** toostart hello runbook.</span></span> <span data-ttu-id="78274-217">Merhaba türü **VMName** ve **ResourceGroupName** hello sanal makine toostart oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="78274-217">Type in hello **VMName** and **ResourceGroupName** for hello virtual machine that you're going toostart.</span></span><br><br> <span data-ttu-id="78274-218">![Parametre Geçirme](media/automation-first-runbook-textual-powershell/automation-pass-params.png)</span><span class="sxs-lookup"><span data-stu-id="78274-218">![Pass Parameter](media/automation-first-runbook-textual-powershell/automation-pass-params.png)</span></span><br>  
7. <span data-ttu-id="78274-219">Merhaba runbook tamamlandığında, sanal makine hello onay başlatıldı.</span><span class="sxs-lookup"><span data-stu-id="78274-219">When hello runbook completes, check that hello virtual machine was started.</span></span>

## <a name="differences-from-powershell-workflow"></a><span data-ttu-id="78274-220">PowerShell İş Akışı ile arasındaki farklar</span><span class="sxs-lookup"><span data-stu-id="78274-220">Differences from PowerShell Workflow</span></span>
<span data-ttu-id="78274-221">PowerShell runbook'ları sahip hello aynı yaşam döngüsü, yetenekler ve yönetim PowerShell iş akışı runbook'ları olarak ancak bazı farklar ve sınırlamalar vardır:</span><span class="sxs-lookup"><span data-stu-id="78274-221">PowerShell runbooks have hello same lifecycle, capabilities, and management as PowerShell Workflow runbooks but there are some differences and limitations:</span></span>

1. <span data-ttu-id="78274-222">Derleme adımı yok gibi PowerShell runbook'ları hızlı karşılaştırılan tooPowerShell iş akışı runbook'ları çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="78274-222">PowerShell runbooks run fast compared tooPowerShell Workflow runbooks as they don’t have compilation step.</span></span>
2. <span data-ttu-id="78274-223">PowerShell iş akışı runbook'ları kontrol noktalarının kullanılması destek, PowerShell runbook'ları yalnızca hello baştan devam edebilirsiniz ancak PowerShell iş akışı runbook'ları hello runbook'ta herhangi bir noktadan sürdürebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="78274-223">PowerShell Workflow runbooks support checkpoints, using checkpoints, PowerShell Workflow runbooks can resume from any point in hello runbook whereas PowerShell runbooks can only resume from hello beginning.</span></span>
3. <span data-ttu-id="78274-224">PowerShell İş Akışı runbook'ları paralel ve seri yürütmeyi desteklerken, PowerShell runbook'ları yalnızca komutların seri olarak yürütülmesini destekler.</span><span class="sxs-lookup"><span data-stu-id="78274-224">PowerShell Workflow runbooks support parallel and serial execution whereas PowerShell runbooks can only execute commands serially.</span></span>
4. <span data-ttu-id="78274-225">PowerShell İş Akışı runbook'unda bir etkinliğin, komutun veya betik bloğunun kendi çalışma alanı bulunabilirken, PowerShell runbook'unda betikteki her şey tek bir çalışma alanında çalıştırılır.</span><span class="sxs-lookup"><span data-stu-id="78274-225">In a PowerShell Workflow runbook, an activity, a command, or a script block can have its own runspace whereas in a PowerShell runbook, everything in a script runs in a single runspace.</span></span> <span data-ttu-id="78274-226">Ayrıca yerel bir PowerShell runbook'u ile bir PowerShell İş Akışı runbook'u arasında bazı [söz dizimi farklılıkları](https://technet.microsoft.com/magazine/dn151046.aspx) vardır.</span><span class="sxs-lookup"><span data-stu-id="78274-226">There are also some [syntactic differences](https://technet.microsoft.com/magazine/dn151046.aspx) between a native PowerShell runbook and a PowerShell Workflow runbook.</span></span>

## <a name="next-steps"></a><span data-ttu-id="78274-227">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="78274-227">Next steps</span></span>
* <span data-ttu-id="78274-228">Grafik runbook'ları ile çalışmaya tooget bakın [ilk grafik runbook Uygulamam](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="78274-228">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="78274-229">PowerShell iş akışı runbook'ları ile başlatılan tooget bakın [ilk PowerShell iş akışı runbook Uygulamam](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="78274-229">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span>
* <span data-ttu-id="78274-230">runbook türleri, avantajları ve sınırlamaları, hakkında daha fazla tooknow bakın [Azure Automation runbook türleri](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="78274-230">tooknow more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
* <span data-ttu-id="78274-231">PowerShell betik desteği özelliği hakkında daha fazla bilgi için bkz. [Azure Automation’da Yerel PowerShell betik desteği](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span><span class="sxs-lookup"><span data-stu-id="78274-231">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>

