---
title: "Azure automation'da ilk PowerShell iş akışı runbook aaaMy | Microsoft Docs"
description: "Test ve PowerShell iş akışı kullanarak basit bir runbook yayımlama hello oluşturma adımlarını anlatan öğretici."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: "powershell iş akışı, powershell iş akışı örnekleri, iş akışı powershell"
ms.assetid: 0002d7f7-e2b5-46e3-b5eb-4596b84fd526
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 03/26/2017
ms.author: magoedte;bwren
ms.openlocfilehash: b5a34d363ef4865878f3f68119833367b5280f83
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="my-first-powershell-workflow-runbook"></a><span data-ttu-id="8e36a-104">İlk PowerShell İş Akışı runbook uygulamam</span><span class="sxs-lookup"><span data-stu-id="8e36a-104">My first PowerShell Workflow runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="8e36a-105">Grafik</span><span class="sxs-lookup"><span data-stu-id="8e36a-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="8e36a-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="8e36a-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="8e36a-107">PowerShell İş Akışı</span><span class="sxs-lookup"><span data-stu-id="8e36a-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="8e36a-108">Bu öğreticide, hello oluşturulmasını açıklanmaktadır bir [PowerShell iş akışı runbook'u](automation-runbook-types.md#powershell-workflow-runbooks) Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="8e36a-108">This tutorial walks you through hello creation of a [PowerShell Workflow runbook](automation-runbook-types.md#powershell-workflow-runbooks) in Azure Automation.</span></span> <span data-ttu-id="8e36a-109">Test ve nasıl tootrack hello hello runbook işinin durumunu açıklayan sırasında yayımlama basit bir runbook ile başlatın.</span><span class="sxs-lookup"><span data-stu-id="8e36a-109">We start with a simple runbook that we test and publish while explaining how tootrack hello status of hello runbook job.</span></span> <span data-ttu-id="8e36a-110">Biz hello runbook değiştirebilir sonra tooactually yönetmek Azure kaynaklarını, bu durumda bir Azure sanal makinesi başlatılıyor.</span><span class="sxs-lookup"><span data-stu-id="8e36a-110">Then we modify hello runbook tooactually manage Azure resources, in this case starting an Azure virtual machine.</span></span> <span data-ttu-id="8e36a-111">Son olarak runbook parametreleri ekleyerek runbook'u daha sağlam hello olun.</span><span class="sxs-lookup"><span data-stu-id="8e36a-111">Lastly we make hello runbook more robust by adding runbook parameters.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="8e36a-112">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="8e36a-112">Prerequisites</span></span>
<span data-ttu-id="8e36a-113">toocomplete Bu öğreticiyi izleyerek hello gerekir:</span><span class="sxs-lookup"><span data-stu-id="8e36a-113">toocomplete this tutorial, you will need hello following:</span></span>

* <span data-ttu-id="8e36a-114">Azure aboneliği.</span><span class="sxs-lookup"><span data-stu-id="8e36a-114">Azure subscription.</span></span> <span data-ttu-id="8e36a-115">Henüz bir aboneliğiniz yoksa [MSDN abone avantajlarınızı etkinleştirebilir](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) ya da <a href="/pricing/free-account/" target="_blank">[ücretsiz hesap için kaydolabilirsiniz](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="8e36a-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="8e36a-116">[Otomasyon hesabı](automation-sec-configure-azure-runas-account.md) toohold runbook hello ve tooAzure kaynakları kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="8e36a-116">[Automation account](automation-sec-configure-azure-runas-account.md) toohold hello runbook and authenticate tooAzure resources.</span></span>  <span data-ttu-id="8e36a-117">Bu hesap, izin toostart sahip ve hello sanal makineyi durdurun.</span><span class="sxs-lookup"><span data-stu-id="8e36a-117">This account must have permission toostart and stop hello virtual machine.</span></span>
* <span data-ttu-id="8e36a-118">Azure sanal makinesi.</span><span class="sxs-lookup"><span data-stu-id="8e36a-118">An Azure virtual machine.</span></span> <span data-ttu-id="8e36a-119">Bu makineyi durdurup başlatacağımız için makinenin üretime yönelik bir VM olmaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="8e36a-119">We stop and start this machine so it should not be a production VM.</span></span>

## <a name="step-1---create-new-runbook"></a><span data-ttu-id="8e36a-120">1. Adım - Yeni runbook oluşturma</span><span class="sxs-lookup"><span data-stu-id="8e36a-120">Step 1 - Create new runbook</span></span>
<span data-ttu-id="8e36a-121">Merhaba metnini veren basit bir runbook oluşturarak başlayacağız *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="8e36a-121">We'll start by creating a simple runbook that outputs hello text *Hello World*.</span></span>

1. <span data-ttu-id="8e36a-122">Hello Azure portal, Automation hesabınızı açın.</span><span class="sxs-lookup"><span data-stu-id="8e36a-122">In hello Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="8e36a-123">Merhaba Automation hesabı sayfası, bu hesapta hello kaynakların hızlı bir görünümünü sağlar.</span><span class="sxs-lookup"><span data-stu-id="8e36a-123">hello Automation account page gives you a quick view of hello resources in this account.</span></span> <span data-ttu-id="8e36a-124">Birkaç varlığınız zaten olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="8e36a-124">You should already have some assets.</span></span> <span data-ttu-id="8e36a-125">Bunların çoğu, yeni bir Otomasyon hesabı içinde otomatik olarak dahil edilen hello modüllerdir.</span><span class="sxs-lookup"><span data-stu-id="8e36a-125">Most of those are hello modules that are automatically included in a new Automation account.</span></span> <span data-ttu-id="8e36a-126">Hello belirtiliyor hello kimlik bilgisi varlığı de olmalıdır [Önkoşullar](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="8e36a-126">You should also have hello Credential asset that's mentioned in hello [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="8e36a-127">Tıklatın hello üzerinde **Runbook'lar** döşeme tooopen hello listesini.</span><span class="sxs-lookup"><span data-stu-id="8e36a-127">Click on hello **Runbooks** tile tooopen hello list of runbooks.</span></span><br><br> <span data-ttu-id="8e36a-128">![Runbook denetimi](media/automation-first-runbook-textual/runbooks-control-tiles.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-128">![Runbooks control](media/automation-first-runbook-textual/runbooks-control-tiles.png)</span></span>
3. <span data-ttu-id="8e36a-129">Merhaba üzerinde tıklatarak yeni bir runbook oluşturmak **runbook Ekle** düğmesine ve ardından **yeni bir runbook oluşturmak**.</span><span class="sxs-lookup"><span data-stu-id="8e36a-129">Create a new runbook by clicking on hello **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="8e36a-130">Merhaba runbook hello adlandırın *MyFirstRunbook-Workflow*.</span><span class="sxs-lookup"><span data-stu-id="8e36a-130">Give hello runbook hello name *MyFirstRunbook-Workflow*.</span></span>
5. <span data-ttu-id="8e36a-131">Bu durumda, toocreate yapacağız bir [PowerShell iş akışı runbook'u](automation-runbook-types.md#powershell-workflow-runbooks) şekilde select **Powershell iş akışı** için **Runbook türü**.</span><span class="sxs-lookup"><span data-stu-id="8e36a-131">In this case, we're going toocreate a [PowerShell Workflow runbook](automation-runbook-types.md#powershell-workflow-runbooks) so select **Powershell Workflow** for **Runbook type**.</span></span><br><br> <span data-ttu-id="8e36a-132">![Yeni runbook](media/automation-first-runbook-textual/new-runbook-properties.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-132">![New runbook](media/automation-first-runbook-textual/new-runbook-properties.png)</span></span>
6. <span data-ttu-id="8e36a-133">Tıklatın **oluşturma** toocreate hello runbook ve açık hello metin düzenleyicisini.</span><span class="sxs-lookup"><span data-stu-id="8e36a-133">Click **Create** toocreate hello runbook and open hello textual editor.</span></span>

## <a name="step-2---add-code-toohello-runbook"></a><span data-ttu-id="8e36a-134">2. adım - kod toohello runbook Ekle</span><span class="sxs-lookup"><span data-stu-id="8e36a-134">Step 2 - Add code toohello runbook</span></span>
<span data-ttu-id="8e36a-135">Doğrudan hello runbook'a kodu olabilir veya bunları toohello runbook ilgili parametrelerle ekledikten ve kitaplığı denetimi hello cmdlet'leri, runbook'ları ve varlıkları seçebilir.</span><span class="sxs-lookup"><span data-stu-id="8e36a-135">You can either type code directly into hello runbook, or you can select cmdlets, runbooks, and assets from hello Library control and have them added toohello runbook with any related parameters.</span></span> <span data-ttu-id="8e36a-136">Bu kılavuz için sizi doğrudan hello runbook'a yazmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="8e36a-136">For this walkthrough, we'll type directly into hello runbook.</span></span>

1. <span data-ttu-id="8e36a-137">Yalnızca gerekli hello ile runbook uygulamamız şu anda boş *iş akışı* anahtar sözcüğü, bizim runbook ve hello tüm iş akışını içerecek hello küme ayraçları hello adı.</span><span class="sxs-lookup"><span data-stu-id="8e36a-137">Our runbook is currently empty with only hello required *workflow* keyword, hello name of our runbook, and hello braces that will encase hello entire workflow.</span></span>

   ```
   Workflow MyFirstRunbook-Workflow
   {
   }
   ```
2. <span data-ttu-id="8e36a-138">Ayraçlar arasına *Write-Output "Hello World."*</span><span class="sxs-lookup"><span data-stu-id="8e36a-138">Type *Write-Output "Hello World."*</span></span> <span data-ttu-id="8e36a-139">Hello yazın.</span><span class="sxs-lookup"><span data-stu-id="8e36a-139">between hello braces.</span></span>

   ```
   Workflow MyFirstRunbook-Workflow
   {
   Write-Output "Hello World"
   }
   ```
3. <span data-ttu-id="8e36a-140">Tıklayarak Hello runbook'u kaydetmek **kaydetmek**.</span><span class="sxs-lookup"><span data-stu-id="8e36a-140">Save hello runbook by clicking **Save**.</span></span><br><br> <span data-ttu-id="8e36a-141">![Runbook’u kaydetme](media/automation-first-runbook-textual/automation-runbook-edit-controls-save.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-141">![Save runbook](media/automation-first-runbook-textual/automation-runbook-edit-controls-save.png)</span></span>

## <a name="step-3---test-hello-runbook"></a><span data-ttu-id="8e36a-142">3. adım - hello runbook sınaması</span><span class="sxs-lookup"><span data-stu-id="8e36a-142">Step 3 - Test hello runbook</span></span>
<span data-ttu-id="8e36a-143">Biz hello runbook toomake yayımlamadan önce onu üretimde kullanılabilir tootest istiyoruz, toomake düzgün çalıştığından emin.</span><span class="sxs-lookup"><span data-stu-id="8e36a-143">Before we publish hello runbook toomake it available in production, we want tootest it toomake sure that it works properly.</span></span> <span data-ttu-id="8e36a-144">Bir runbook'u test ettiğinizde, bunun **Taslak** sürümünü çalıştırır ve çıktısını etkileşimli olarak görüntülersiniz.</span><span class="sxs-lookup"><span data-stu-id="8e36a-144">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="8e36a-145">Tıklatın **Test bölmesi** tooopen hello Test bölmesi.</span><span class="sxs-lookup"><span data-stu-id="8e36a-145">Click **Test pane** tooopen hello Test pane.</span></span><br><br> <span data-ttu-id="8e36a-146">![Test bölmesi](media/automation-first-runbook-textual/automation-runbook-edit-controls-test.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-146">![Test pane](media/automation-first-runbook-textual/automation-runbook-edit-controls-test.png)</span></span>
2. <span data-ttu-id="8e36a-147">Tıklatın **Başlat** toostart hello test.</span><span class="sxs-lookup"><span data-stu-id="8e36a-147">Click **Start** toostart hello test.</span></span> <span data-ttu-id="8e36a-148">Bu, yalnızca etkin hello seçeneği olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="8e36a-148">This should be hello only enabled option.</span></span>
3. <span data-ttu-id="8e36a-149">Bir [runbook işi](automation-runbook-execution.md) oluşturulur ve durumu görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="8e36a-149">A [runbook job](automation-runbook-execution.md) is created and its status displayed.</span></span>  
   <span data-ttu-id="8e36a-150">Merhaba iş durumu olarak başlayacak *sıraya alınan* bir runbook worker'hello bulut toocome için bekleyen belirten.</span><span class="sxs-lookup"><span data-stu-id="8e36a-150">hello job status will start as *Queued* indicating that it is waiting for a runbook worker in hello cloud toocome available.</span></span> <span data-ttu-id="8e36a-151">Ardından, çok taşınır*başlangıç* bir çalışan hello işi talep ettiğinde ve ardından *çalıştıran* hello runbook gerçekten çalışmaya başladığında.</span><span class="sxs-lookup"><span data-stu-id="8e36a-151">It will then move too*Starting* when a worker claims hello job, and then *Running* when hello runbook actually starts running.</span></span>  
4. <span data-ttu-id="8e36a-152">Merhaba runbook işi tamamlandığında çıktısı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="8e36a-152">When hello runbook job completes, its output is displayed.</span></span> <span data-ttu-id="8e36a-153">Örneğimizde, *Hello World* metnini görmeliyiz.</span><span class="sxs-lookup"><span data-stu-id="8e36a-153">In our case, we should see *Hello World*.</span></span><br><br> <span data-ttu-id="8e36a-154">![Hello World](media/automation-first-runbook-textual/test-output-hello-world.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-154">![Hello World](media/automation-first-runbook-textual/test-output-hello-world.png)</span></span>
5. <span data-ttu-id="8e36a-155">Merhaba Test bölmesi tooreturn toohello tuvale kapatın.</span><span class="sxs-lookup"><span data-stu-id="8e36a-155">Close hello Test pane tooreturn toohello canvas.</span></span>

## <a name="step-4---publish-and-start-hello-runbook"></a><span data-ttu-id="8e36a-156">4. adım - yayımlama ve hello runbook başlatın</span><span class="sxs-lookup"><span data-stu-id="8e36a-156">Step 4 - Publish and start hello runbook</span></span>
<span data-ttu-id="8e36a-157">Yeni oluşturduğumuz hello runbook hala taslak modunda değil.</span><span class="sxs-lookup"><span data-stu-id="8e36a-157">hello runbook that we just created is still in Draft mode.</span></span> <span data-ttu-id="8e36a-158">Toopublish ihtiyacımız, biz üretimde çalıştırılabilmesi için önce.</span><span class="sxs-lookup"><span data-stu-id="8e36a-158">We need toopublish it before we can run it in production.</span></span> <span data-ttu-id="8e36a-159">Bir runbook yayımladığınızda, hello Taslak sürümü hello mevcut yayımlanmış sürümün üzerine.</span><span class="sxs-lookup"><span data-stu-id="8e36a-159">When you publish a runbook, you overwrite hello existing Published version with hello Draft version.</span></span> <span data-ttu-id="8e36a-160">Merhaba runbook oluşturduğumuz çünkü Örneğimizde, yayımlanan sürümü biz henüz yok.</span><span class="sxs-lookup"><span data-stu-id="8e36a-160">In our case, we don't have a Published version yet because we just created hello runbook.</span></span>

1. <span data-ttu-id="8e36a-161">Tıklatın **Yayımla** toopublish hello runbook ardından **Evet** istendiğinde.</span><span class="sxs-lookup"><span data-stu-id="8e36a-161">Click **Publish** toopublish hello runbook and then **Yes** when prompted.</span></span><br><br> <span data-ttu-id="8e36a-162">![Yayımlama](media/automation-first-runbook-textual/automation-runbook-edit-controls-publish.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-162">![Publish](media/automation-first-runbook-textual/automation-runbook-edit-controls-publish.png)</span></span>
2. <span data-ttu-id="8e36a-163">Sol tooview hello hello runbook'ta kaydırırsanız **Runbook'lar** bölmesinde şimdi gösterilir bir **yazma durumu** , **yayımlanan**.</span><span class="sxs-lookup"><span data-stu-id="8e36a-163">If you scroll left tooview hello runbook in hello **Runbooks** pane now, it will show an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="8e36a-164">Kaydırma geri toohello sağ tooview hello bölmesini için **MyFirstRunbook-Workflow**.</span><span class="sxs-lookup"><span data-stu-id="8e36a-164">Scroll back toohello right tooview hello pane for **MyFirstRunbook-Workflow**.</span></span>  
   <span data-ttu-id="8e36a-165">Merhaba seçenekleri hello üstte bize toostart hello runbook izin, gelecekteki hello bazı zamanında toostart zamanlama veya oluşturma bir [Web kancası](automation-webhooks.md) başlatılmış olması için bir HTTP çağrısı aracılığıyla.</span><span class="sxs-lookup"><span data-stu-id="8e36a-165">hello options across hello top allow us toostart hello runbook, schedule it toostart at some time in hello future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="8e36a-166">Yalnızca toostart hello runbook istiyoruz böylece tıklatın **Başlat** ve ardından **Evet** istendiğinde.</span><span class="sxs-lookup"><span data-stu-id="8e36a-166">We just want toostart hello runbook so click **Start** and then **Yes** when prompted.</span></span><br><br> <span data-ttu-id="8e36a-167">![Runbook’u başlatma](media/automation-first-runbook-textual/automation-runbook-controls-start.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-167">![Start runbook](media/automation-first-runbook-textual/automation-runbook-controls-start.png)</span></span>
5. <span data-ttu-id="8e36a-168">Yeni oluşturduğumuz hello runbook işi için bir iş bölmesi açıldı.</span><span class="sxs-lookup"><span data-stu-id="8e36a-168">A job pane is opened for hello runbook job that we just created.</span></span> <span data-ttu-id="8e36a-169">Biz bu bölme kapatılabilir, ancak biz hello işin ilerleme durumunu izleyebilmek için bu durumda, açık bırakacağız.</span><span class="sxs-lookup"><span data-stu-id="8e36a-169">We can close this pane, but in this case we'll leave it open so we can watch hello job's progress.</span></span>
6. <span data-ttu-id="8e36a-170">Merhaba iş durumu gösterilir **iş özeti** ve eşleşmeleri hello zaman hello runbook test gördüğümüz durumların.</span><span class="sxs-lookup"><span data-stu-id="8e36a-170">hello job status is shown in **Job Summary** and matches hello statuses that we saw when we tested hello runbook.</span></span><br><br> <span data-ttu-id="8e36a-171">![İş Özeti](media/automation-first-runbook-textual/job-pane-status-blade-jobsummary.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-171">![Job Summary](media/automation-first-runbook-textual/job-pane-status-blade-jobsummary.png)</span></span>
7. <span data-ttu-id="8e36a-172">Runbook durumu gösterir'bir kez hello *tamamlandı*, tıklatın **çıkış**.</span><span class="sxs-lookup"><span data-stu-id="8e36a-172">Once hello runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="8e36a-173">Merhaba çıktı bölmesi açılır ve görebiliriz bizim *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="8e36a-173">hello Output pane is opened, and we can see our *Hello World*.</span></span><br><br> <span data-ttu-id="8e36a-174">![İş Özeti](media/automation-first-runbook-textual/job-pane-status-blade-outputtile.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-174">![Job Summary](media/automation-first-runbook-textual/job-pane-status-blade-outputtile.png)</span></span>  
8. <span data-ttu-id="8e36a-175">Kapat hello çıkış bölmesi.</span><span class="sxs-lookup"><span data-stu-id="8e36a-175">Close hello Output pane.</span></span>
9. <span data-ttu-id="8e36a-176">Tıklatın **tüm günlükleri** tooopen hello akışlar bölmesini hello runbook işi için.</span><span class="sxs-lookup"><span data-stu-id="8e36a-176">Click **All Logs** tooopen hello Streams pane for hello runbook job.</span></span> <span data-ttu-id="8e36a-177">Yalnızca görmeliyiz *Hello World* hello çıkış akışı, ancak bu ayrıntılı ve hata gibi runbook işine yönelik diğer akışlar hello runbook toothem yazıyorsa gösterebilir.</span><span class="sxs-lookup"><span data-stu-id="8e36a-177">We should only see *Hello World* in hello output stream, but this can show other streams for a runbook job such as Verbose and Error if hello runbook writes toothem.</span></span><br><br> <span data-ttu-id="8e36a-178">![İş Özeti](media/automation-first-runbook-textual/job-pane-status-blade-alllogstile.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-178">![Job Summary](media/automation-first-runbook-textual/job-pane-status-blade-alllogstile.png)</span></span>
10. <span data-ttu-id="8e36a-179">Merhaba akışlar bölmesini ve hello iş tooreturn toohello MyFirstRunbook bölmesini kapatın.</span><span class="sxs-lookup"><span data-stu-id="8e36a-179">Close hello Streams pane and hello Job pane tooreturn toohello MyFirstRunbook pane.</span></span>
11. <span data-ttu-id="8e36a-180">Tıklatın **işleri** tooopen hello işleri bölmesinde bu runbook için.</span><span class="sxs-lookup"><span data-stu-id="8e36a-180">Click **Jobs** tooopen hello Jobs pane for this runbook.</span></span> <span data-ttu-id="8e36a-181">Bu, tüm bu runbook tarafından oluşturulan hello işlerini listeler.</span><span class="sxs-lookup"><span data-stu-id="8e36a-181">This lists all of hello jobs created by this runbook.</span></span> <span data-ttu-id="8e36a-182">Yalnızca bir işin yalnızca hello iş kez karşılaştık beri listelendiğini görmeliyiz.</span><span class="sxs-lookup"><span data-stu-id="8e36a-182">We should only see one job listed since we only ran hello job once.</span></span><br><br> <span data-ttu-id="8e36a-183">![İşler](media/automation-first-runbook-textual/runbook-control-job-tile.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-183">![Jobs](media/automation-first-runbook-textual/runbook-control-job-tile.png)</span></span>
12. <span data-ttu-id="8e36a-184">Bu iş tooopen hello aynı tıklatabilirsiniz biz hello runbook'u başlattığımızda, görüntülediğimiz iş bölmesini.</span><span class="sxs-lookup"><span data-stu-id="8e36a-184">You can click on this job tooopen hello same Job pane that we viewed when we started hello runbook.</span></span> <span data-ttu-id="8e36a-185">Bu, toogo geri belirli bir runbook için oluşturulan herhangi bir işi zaman ve görünüm hello ayrıntılarını sağlar.</span><span class="sxs-lookup"><span data-stu-id="8e36a-185">This allows you toogo back in time and view hello details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---add-authentication-toomanage-azure-resources"></a><span data-ttu-id="8e36a-186">5. adım - kimlik doğrulama toomanage ekleme Azure kaynakları</span><span class="sxs-lookup"><span data-stu-id="8e36a-186">Step 5 - Add authentication toomanage Azure resources</span></span>
<span data-ttu-id="8e36a-187">Runbook uygulamamızı test ettik ve yayımladık, ancak şu ana kadar faydalı bir şey yapmadı.</span><span class="sxs-lookup"><span data-stu-id="8e36a-187">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="8e36a-188">Azure kaynaklarını yönetmek toohave istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="8e36a-188">We want toohave it manage Azure resources.</span></span> <span data-ttu-id="8e36a-189">Biz kimlik doğrulaması ancak hello kimlik bilgilerini kullanarak tooin hello başvurulan olduğunu mümkün toodo olmayacaktır [Önkoşullar](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="8e36a-189">It won't be able toodo that though unless we have it authenticate using hello credentials that are referred tooin hello [prerequisites](#prerequisites).</span></span> <span data-ttu-id="8e36a-190">Merhaba ile bunu **Add-AzureRMAccount** cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="8e36a-190">We do that with hello **Add-AzureRMAccount** cmdlet.</span></span>

1. <span data-ttu-id="8e36a-191">Tıklayarak metin düzenleyicisini açın hello **Düzenle** hello MyFirstRunbook-Workflow bölmesi.</span><span class="sxs-lookup"><span data-stu-id="8e36a-191">Open hello textual editor by clicking **Edit** on hello MyFirstRunbook-Workflow pane.</span></span><br><br> <span data-ttu-id="8e36a-192">![Runbook’u düzenleme](media/automation-first-runbook-textual/automation-runbook-controls-edit.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-192">![Edit runbook](media/automation-first-runbook-textual/automation-runbook-controls-edit.png)</span></span>
2. <span data-ttu-id="8e36a-193">Merhaba gerekmez **Write-Output** satırı artık, bu nedenle bir tane silin.</span><span class="sxs-lookup"><span data-stu-id="8e36a-193">We don't need hello **Write-Output** line anymore, so go ahead and delete it.</span></span>
3. <span data-ttu-id="8e36a-194">Merhaba ayraçlar arasında boş bir satıra Hello imleç Konumlandır.</span><span class="sxs-lookup"><span data-stu-id="8e36a-194">Position hello cursor on a blank line between hello braces.</span></span>
4. <span data-ttu-id="8e36a-195">Yazın veya kopyalayıp Automation farklı çalıştır hesabınız ile Merhaba kimlik doğrulamasını işleyecek kod aşağıdaki hello yapıştırın:</span><span class="sxs-lookup"><span data-stu-id="8e36a-195">Type or copy and paste hello following code that will handle hello authentication with your Automation Run As account:</span></span>

   ```
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID `
   -ApplicationId $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   ```
5. <span data-ttu-id="8e36a-196">Tıklatın **Test bölmesi** böylece hello runbook test edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e36a-196">Click **Test pane** so that we can test hello runbook.</span></span>
6. <span data-ttu-id="8e36a-197">Tıklatın **Başlat** toostart hello test.</span><span class="sxs-lookup"><span data-stu-id="8e36a-197">Click **Start** toostart hello test.</span></span> <span data-ttu-id="8e36a-198">Tamamlandığında, aşağıdaki, hesabınızdaki temel bilgileri görüntüleyen benzer toohello çıkış almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="8e36a-198">Once it completes, you should receive output similar toohello following, displaying basic information from your account.</span></span> <span data-ttu-id="8e36a-199">Bu, o hello kimlik bilgisi geçerli olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="8e36a-199">This confirms that hello credential is valid.</span></span><br><br> <span data-ttu-id="8e36a-200">![Kimlik Doğrulaması](media/automation-first-runbook-textual/runbook-auth-output.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-200">![Authenticate](media/automation-first-runbook-textual/runbook-auth-output.png)</span></span>

## <a name="step-6---add-code-toostart-a-virtual-machine"></a><span data-ttu-id="8e36a-201">6. adım - kod toostart bir sanal makine ekleme</span><span class="sxs-lookup"><span data-stu-id="8e36a-201">Step 6 - Add code toostart a virtual machine</span></span>
<span data-ttu-id="8e36a-202">Runbook uygulamamız tooour Azure aboneliği kimlik doğrulaması, kaynakları yönetebiliriz.</span><span class="sxs-lookup"><span data-stu-id="8e36a-202">Now that our runbook is authenticating tooour Azure subscription, we can manage resources.</span></span> <span data-ttu-id="8e36a-203">Şu komutu toostart bir sanal makine ekleyin.</span><span class="sxs-lookup"><span data-stu-id="8e36a-203">We add a command toostart a virtual machine.</span></span> <span data-ttu-id="8e36a-204">Azure aboneliğinizde herhangi bir sanal makine seçin ve şu an için biz hello runbook'ta adı cmdlet'e kod olacaktır.</span><span class="sxs-lookup"><span data-stu-id="8e36a-204">You can pick any virtual machine in your Azure subscription, and for now we will be hardcoding that name in hello runbook.</span></span>

1. <span data-ttu-id="8e36a-205">Sonra *Add-AzureRmAccount*, türü *Start-AzureRmVM-Name 'VMName' - ResourceGroupName 'NameofResourceGroup'* hello adını ve kaynak grubu adını hello sanal makine toostart sağlama.</span><span class="sxs-lookup"><span data-stu-id="8e36a-205">After *Add-AzureRmAccount*, type *Start-AzureRmVM -Name 'VMName' -ResourceGroupName 'NameofResourceGroup'* providing hello name and Resource Group name of hello virtual machine toostart.</span></span>  

   ```
   workflow MyFirstRunbook-Workflow
   {
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID -ApplicationId $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   Start-AzureRmVM -Name 'VMName' -ResourceGroupName 'ResourceGroupName'
   }
   ```
2. <span data-ttu-id="8e36a-206">Merhaba runbook'u kaydedin ve ardından **Test bölmesi** böylece test edebiliriz.</span><span class="sxs-lookup"><span data-stu-id="8e36a-206">Save hello runbook and then click **Test pane** so that we can test it.</span></span>
3. <span data-ttu-id="8e36a-207">Tıklatın **Başlat** toostart hello test.</span><span class="sxs-lookup"><span data-stu-id="8e36a-207">Click **Start** toostart hello test.</span></span> <span data-ttu-id="8e36a-208">Tamamlandığında, sanal makine hello onay başlatıldı.</span><span class="sxs-lookup"><span data-stu-id="8e36a-208">Once it completes, check that hello virtual machine was started.</span></span>

## <a name="step-7---add-an-input-parameter-toohello-runbook"></a><span data-ttu-id="8e36a-209">7. adım - bir giriş parametresi toohello runbook Ekle</span><span class="sxs-lookup"><span data-stu-id="8e36a-209">Step 7 - Add an input parameter toohello runbook</span></span>
<span data-ttu-id="8e36a-210">Runbook uygulamamız şu anda başlar hello sanal makineyi sabit kodlanmış hello runbook'taki ancak hello runbook başlatıldığında hello sanal makine belirtirseniz, daha kullanışlı olurdu.</span><span class="sxs-lookup"><span data-stu-id="8e36a-210">Our runbook currently starts hello virtual machine that we hardcoded in hello runbook, but it would be more useful if we could specify hello virtual machine when hello runbook is started.</span></span> <span data-ttu-id="8e36a-211">Giriş parametreleri toohello runbook tooprovide şimdi bu işlevselliği ekleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="8e36a-211">We will now add input parameters toohello runbook tooprovide that functionality.</span></span>

1. <span data-ttu-id="8e36a-212">Parametrelerini ekleyin *VMName* ve *ResourceGroupName* toohello runbook ve bu değişkenleri ile Merhaba **Start-AzureRmVM** hello örnekte olduğu gibi cmdlet.</span><span class="sxs-lookup"><span data-stu-id="8e36a-212">Add parameters for *VMName* and *ResourceGroupName* toohello runbook and use these variables with hello **Start-AzureRmVM** cmdlet as in hello example below.</span></span>

   ```
   workflow MyFirstRunbook-Workflow
   {
    Param(
     [string]$VMName,
     [string]$ResourceGroupName
    )  
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID -ApplicationId $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   Start-AzureRmVM -Name $VMName -ResourceGroupName $ResourceGroupName
   }
   ```
2. <span data-ttu-id="8e36a-213">Merhaba runbook'u kaydedin ve hello Test bölmesini açın.</span><span class="sxs-lookup"><span data-stu-id="8e36a-213">Save hello runbook and open hello Test pane.</span></span> <span data-ttu-id="8e36a-214">Artık değerleri Merhaba hello testte kullanılacak olan iki girdi değişkeni sağlayabileceğinizi unutmayın.</span><span class="sxs-lookup"><span data-stu-id="8e36a-214">Note that you can now provide values for hello two input variables that will be used in hello test.</span></span>
3. <span data-ttu-id="8e36a-215">Kapat hello Test bölmesi.</span><span class="sxs-lookup"><span data-stu-id="8e36a-215">Close hello Test pane.</span></span>
4. <span data-ttu-id="8e36a-216">Tıklatın **Yayımla** toopublish hello yeni sürümünü hello runbook.</span><span class="sxs-lookup"><span data-stu-id="8e36a-216">Click **Publish** toopublish hello new version of hello runbook.</span></span>
5. <span data-ttu-id="8e36a-217">Merhaba önceki adımda başlattığınız Hello sanal makineyi durdurun.</span><span class="sxs-lookup"><span data-stu-id="8e36a-217">Stop hello virtual machine that you started in hello previous step.</span></span>
6. <span data-ttu-id="8e36a-218">Tıklatın **Başlat** toostart hello runbook.</span><span class="sxs-lookup"><span data-stu-id="8e36a-218">Click **Start** toostart hello runbook.</span></span> <span data-ttu-id="8e36a-219">Merhaba türü **VMName** ve **ResourceGroupName** hello sanal makine toostart oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="8e36a-219">Type in hello **VMName** and **ResourceGroupName** for hello virtual machine that you're going toostart.</span></span><br><br> <span data-ttu-id="8e36a-220">![Runbook’u başlatma](media/automation-first-runbook-textual/automation-pass-params.png)</span><span class="sxs-lookup"><span data-stu-id="8e36a-220">![Start Runbook](media/automation-first-runbook-textual/automation-pass-params.png)</span></span><br>  
7. <span data-ttu-id="8e36a-221">Merhaba runbook tamamlandığında, sanal makine hello onay başlatıldı.</span><span class="sxs-lookup"><span data-stu-id="8e36a-221">When hello runbook completes, check that hello virtual machine was started.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="8e36a-222">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="8e36a-222">Next steps</span></span>
* <span data-ttu-id="8e36a-223">Grafik runbook'ları ile çalışmaya tooget bakın [ilk grafik runbook Uygulamam](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="8e36a-223">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="8e36a-224">PowerShell runbook'ları ile çalışmaya tooget bakın [ilk PowerShell runbook'um](automation-first-runbook-textual-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="8e36a-224">tooget started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md)</span></span>
* <span data-ttu-id="8e36a-225">runbook türleri, avantajları ve sınırlamaları, hakkında daha fazla toolearn bakın [Azure Automation runbook türleri](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="8e36a-225">toolearn more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
* <span data-ttu-id="8e36a-226">PowerShell betik desteği özelliği hakkında daha fazla bilgi için bkz. [Azure Automation’da Yerel PowerShell betik desteği](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span><span class="sxs-lookup"><span data-stu-id="8e36a-226">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>
