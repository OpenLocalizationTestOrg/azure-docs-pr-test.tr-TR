---
title: "ExpressRoute ilişkili sanal ağları Klasikten Resource Manager geçirme: Azure: PowerShell | Microsoft Docs"
description: "Bu sayfayı hattınız taşıdıktan sonra ilişkili sanal ağlar için Resource Manager geçirmeyi açıklar."
documentationcenter: na
services: expressroute
author: ganesr
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: expressroute
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/06/2017
ms.author: ganesr;cherylmc
ms.openlocfilehash: 964ea38569062a7127f60dd6309b328db263bf6f
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/03/2017
---
# <a name="migrate-expressroute-associated-virtual-networks-from-classic-to-resource-manager"></a><span data-ttu-id="1cc11-103">ExpressRoute ilişkili sanal ağları Klasikten Resource Manager geçirme</span><span class="sxs-lookup"><span data-stu-id="1cc11-103">Migrate ExpressRoute associated virtual networks from classic to Resource Manager</span></span>

<span data-ttu-id="1cc11-104">Bu makalede Azure ExpressRoute ilişkili sanal ağlar Klasik dağıtım modelinden Azure Resource Manager dağıtım modeli için expressroute bağlantı hattı taşıdıktan sonra nasıl geçirileceği açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="1cc11-104">This article explains how to migrate Azure ExpressRoute associated virtual networks from the classic deployment model to the Azure Resource Manager deployment model after moving your ExpressRoute circuit.</span></span> 


## <a name="before-you-begin"></a><span data-ttu-id="1cc11-105">Başlamadan önce</span><span class="sxs-lookup"><span data-stu-id="1cc11-105">Before you begin</span></span>
* <span data-ttu-id="1cc11-106">Azure PowerShell modüllerinin en son sürümüne sahip olduğunuzu doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="1cc11-106">Verify that you have the latest version of the Azure PowerShell modules.</span></span> <span data-ttu-id="1cc11-107">Daha fazla bilgi için bkz. [Azure PowerShell’i yükleme ve yapılandırma](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="1cc11-107">For more information, see [How to install and configure Azure PowerShell](/powershell/azure/overview).</span></span>
* <span data-ttu-id="1cc11-108">Gözden geçirdiğinizden emin olun [Önkoşullar](expressroute-prerequisites.md), [yönlendirme gereksinimleri](expressroute-routing.md), ve [iş akışları](expressroute-workflows.md) yapılandırmaya başlamadan önce.</span><span class="sxs-lookup"><span data-stu-id="1cc11-108">Make sure that you have reviewed the [prerequisites](expressroute-prerequisites.md), [routing requirements](expressroute-routing.md), and [workflows](expressroute-workflows.md) before you begin configuration.</span></span>
* <span data-ttu-id="1cc11-109">Altında sağlanan bilgileri gözden [bir expressroute bağlantı hattını Klasikten Resource Manager taşıma](expressroute-move.md).</span><span class="sxs-lookup"><span data-stu-id="1cc11-109">Review the information that is provided under [Moving an ExpressRoute circuit from classic to Resource Manager](expressroute-move.md).</span></span> <span data-ttu-id="1cc11-110">Tam olarak sınırları ve kısıtlamaları anladığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="1cc11-110">Make sure that you fully understand the limits and limitations.</span></span>
* <span data-ttu-id="1cc11-111">Bağlantı hattı Klasik dağıtım modelinde tam olarak işlevsel olduğunu doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="1cc11-111">Verify that the circuit is fully operational in the classic deployment model.</span></span>
* <span data-ttu-id="1cc11-112">Resource Manager dağıtım modelinde oluşturulmuş bir kaynak grubu olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="1cc11-112">Ensure that you have a resource group that was created in the Resource Manager deployment model.</span></span>
* <span data-ttu-id="1cc11-113">Aşağıdaki kaynak geçişi belgelerini gözden geçirin:</span><span class="sxs-lookup"><span data-stu-id="1cc11-113">Review the following resource-migration documentation:</span></span>

    * [<span data-ttu-id="1cc11-114">Iaas Klasik kaynaklardan Azure Resource Manager'a Platform desteklenen geçişini</span><span class="sxs-lookup"><span data-stu-id="1cc11-114">Platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](../virtual-machines/virtual-machines-windows-migration-classic-resource-manager.md)
    * [<span data-ttu-id="1cc11-115">Teknik ya ilişkin ayrıntılar platform desteklenen geçiş Klasik'ten Azure Kaynak Yöneticisi</span><span class="sxs-lookup"><span data-stu-id="1cc11-115">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](../virtual-machines/virtual-machines-windows-migration-classic-resource-manager-deep-dive.md)
    * [<span data-ttu-id="1cc11-116">Sık sorulan sorular: Iaas Klasik kaynaklardan Azure Resource Manager Platform desteklenen geçişi</span><span class="sxs-lookup"><span data-stu-id="1cc11-116">FAQs: Platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](../virtual-machines/virtual-machines-windows-migration-classic-resource-manager.md)
    * [<span data-ttu-id="1cc11-117">En yaygın Geçiş hataları ve bunları azaltmanın yollarını gözden geçirin</span><span class="sxs-lookup"><span data-stu-id="1cc11-117">Review most common migration errors and mitigations</span></span>](../virtual-machines/windows/migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)

## <a name="supported-and-unsupported-scenarios"></a><span data-ttu-id="1cc11-118">Desteklenen ve desteklenmeyen senaryolar</span><span class="sxs-lookup"><span data-stu-id="1cc11-118">Supported and unsupported scenarios</span></span>

* <span data-ttu-id="1cc11-119">Bir expressroute bağlantı hattı Resource Manager ortamına herhangi kesinti olmadan Klasikten yeniden taşınabilir.</span><span class="sxs-lookup"><span data-stu-id="1cc11-119">An ExpressRoute circuit can be moved from the classic to the Resource Manager environment without any downtime.</span></span> <span data-ttu-id="1cc11-120">Kapalı kalma süresi olmadan Resource Manager ortamına Klasikten tüm expressroute bağlantı hattını taşıyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1cc11-120">You can move any ExpressRoute circuit from the classic to the Resource Manager environment with no downtime.</span></span> <span data-ttu-id="1cc11-121">' Ndaki yönergeleri izleyin [ExpressRoute bağlantı hatlarını Klasikten PowerShell kullanarak Resource Manager dağıtım modeline taşıma](expressroute-howto-move-arm.md).</span><span class="sxs-lookup"><span data-stu-id="1cc11-121">Follow the instructions in [moving ExpressRoute circuits from the classic to the Resource Manager deployment model using PowerShell](expressroute-howto-move-arm.md).</span></span> <span data-ttu-id="1cc11-122">Bu sanal ağa bağlı kaynakları taşımak için bir önkoşuldur.</span><span class="sxs-lookup"><span data-stu-id="1cc11-122">This is a prerequisite to move resources connected to the virtual network.</span></span>
* <span data-ttu-id="1cc11-123">Sanal ağlar, ağ geçitleri ve sanal ağ içinde bir expressroute bağlantı hattı aynı abonelikte bağlı ilişkili dağıtımları herhangi kesinti olmadan Resource Manager ortamına geçirilebilir.</span><span class="sxs-lookup"><span data-stu-id="1cc11-123">Virtual networks, gateways, and associated deployments within the virtual network that are attached to an ExpressRoute circuit in the same subscription can be migrated to the Resource Manager environment without any downtime.</span></span> <span data-ttu-id="1cc11-124">Daha sonra sanal ağlar, ağ geçitleri ve sanal ağ içindeki dağıtılan sanal makineleri gibi kaynakları geçirmek için açıklanan adımları izleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1cc11-124">You can follow the steps described later to migrate resources such as virtual networks, gateways, and virtual machines deployed within the virtual network.</span></span> <span data-ttu-id="1cc11-125">Bunlar geçirilmeden önce sanal ağlar doğru şekilde yapılandırıldığından emin olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="1cc11-125">You must ensure that the virtual networks are configured correctly before they are migrated.</span></span> 
* <span data-ttu-id="1cc11-126">Sanal ağlar, ağ geçitleri ve expressroute bağlantı hattı ile aynı abonelikte değil ilişkili dağıtımlar sanal ağ içinde geçiş işlemini tamamlamak için bazı kapalı kalma süresi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="1cc11-126">Virtual networks, gateways, and associated deployments within the virtual network that are not in the same subscription as the ExpressRoute circuit require some downtime to complete the migration.</span></span> <span data-ttu-id="1cc11-127">Belge son Kısım kaynaklarını geçirmek için izlenmesi gereken adımları açıklar.</span><span class="sxs-lookup"><span data-stu-id="1cc11-127">The last section of the document describes the steps to be followed to migrate resources.</span></span>
* <span data-ttu-id="1cc11-128">Bir sanal ağ ExpressRoute ağ geçidi ve VPN ağ geçidi ile geçirilemez.</span><span class="sxs-lookup"><span data-stu-id="1cc11-128">A virtual network with both ExpressRoute Gateway and VPN Gateway can't be migrated.</span></span>

## <a name="move-an-expressroute-circuit-from-classic-to-resource-manager"></a><span data-ttu-id="1cc11-129">Bir expressroute bağlantı hattını Klasikten Resource Manager taşımak</span><span class="sxs-lookup"><span data-stu-id="1cc11-129">Move an ExpressRoute circuit from classic to Resource Manager</span></span>
<span data-ttu-id="1cc11-130">Expressroute bağlantı hattı için bağlı kaynaklar geçirmeyi denemeden önce bir expressroute bağlantı hattı Klasikten Resource Manager ortamına taşımanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="1cc11-130">You must move an ExpressRoute circuit from the classic to the Resource Manager environment before you try to migrate resources that are attached to the ExpressRoute circuit.</span></span> <span data-ttu-id="1cc11-131">Bu görevi gerçekleştirmek için aşağıdaki makalelere bakın:</span><span class="sxs-lookup"><span data-stu-id="1cc11-131">To accomplish this task, see the following articles:</span></span>

* <span data-ttu-id="1cc11-132">Altında sağlanan bilgileri gözden [bir expressroute bağlantı hattını Klasikten Resource Manager taşıma](expressroute-move.md).</span><span class="sxs-lookup"><span data-stu-id="1cc11-132">Review the information that is provided under [Moving an ExpressRoute circuit from classic to Resource Manager](expressroute-move.md).</span></span>
* <span data-ttu-id="1cc11-133">[Bir bağlantı hattı Klasikten Resource Manager'da Azure PowerShell kullanarak Taşı](expressroute-howto-move-arm.md).</span><span class="sxs-lookup"><span data-stu-id="1cc11-133">[Move a circuit from classic to Resource Manager using Azure PowerShell](expressroute-howto-move-arm.md).</span></span>
* <span data-ttu-id="1cc11-134">Azure Hizmet Yönetimi Portalı'nı kullanın.</span><span class="sxs-lookup"><span data-stu-id="1cc11-134">Use the Azure Service Management portal.</span></span> <span data-ttu-id="1cc11-135">İş akışına izleyebilirsiniz [yeni bir expressroute bağlantı hattı oluşturma](expressroute-howto-circuit-portal-resource-manager.md) ve içe aktarma seçeneği seçin.</span><span class="sxs-lookup"><span data-stu-id="1cc11-135">You can follow the workflow to [create a new ExpressRoute circuit](expressroute-howto-circuit-portal-resource-manager.md) and select the import option.</span></span> 

<span data-ttu-id="1cc11-136">Bu işlem, kapalı kalma süresi gerektirmez.</span><span class="sxs-lookup"><span data-stu-id="1cc11-136">This operation does not involve downtime.</span></span> <span data-ttu-id="1cc11-137">Geçiş işlemi devam ederken, şirket içi ve Microsoft arasında veri aktarmak devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1cc11-137">You can continue to transfer data between your premises and Microsoft while the migration is in progress.</span></span>

## <a name="migrate-virtual-networks-gateways-and-associated-deployments"></a><span data-ttu-id="1cc11-138">Sanal ağlar, ağ geçitleri ve ilişkili dağıtımları geçirme</span><span class="sxs-lookup"><span data-stu-id="1cc11-138">Migrate virtual networks, gateways, and associated deployments</span></span>

<span data-ttu-id="1cc11-139">Geçirmek için izleyeceğiniz adımlar kaynaklarınız aynı abonelik, farklı Aboneliklerde veya her ikisi de olan bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="1cc11-139">The steps you follow to migrate depend on whether your resources are in the same subscription, different subscriptions, or both.</span></span>

### <a name="migrate-virtual-networks-gateways-and-associated-deployments-in-the-same-subscription-as-the-expressroute-circuit"></a><span data-ttu-id="1cc11-140">Sanal ağlar, ağ geçitleri ve expressroute bağlantı hattı ile aynı abonelikte ilişkili dağıtımları geçirme</span><span class="sxs-lookup"><span data-stu-id="1cc11-140">Migrate virtual networks, gateways, and associated deployments in the same subscription as the ExpressRoute circuit</span></span>
<span data-ttu-id="1cc11-141">Bu bölüm bir sanal ağ, ağ geçidi ve expressroute bağlantı hattı ile aynı abonelikte ilişkili dağıtımları geçirmek için izlenmesi gereken adımları açıklar.</span><span class="sxs-lookup"><span data-stu-id="1cc11-141">This section describes the steps to be followed to migrate a virtual network, gateway, and associated deployments in the same subscription as the ExpressRoute circuit.</span></span> <span data-ttu-id="1cc11-142">Kapalı kalma süresi olmadan, bu geçiş ile ilişkilidir.</span><span class="sxs-lookup"><span data-stu-id="1cc11-142">No downtime is associated with this migration.</span></span> <span data-ttu-id="1cc11-143">Geçiş işlemi aracılığıyla tüm kaynakları kullanmaya devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1cc11-143">You can continue to use all resources through the migration process.</span></span> <span data-ttu-id="1cc11-144">Geçiş işlemi devam ederken Yönetim düzeyi kilitlendi.</span><span class="sxs-lookup"><span data-stu-id="1cc11-144">The management plane is locked while the migration is in progress.</span></span> 

1. <span data-ttu-id="1cc11-145">Expressroute bağlantı hattı Resource Manager ortamına Klasikten taşındığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="1cc11-145">Ensure that the ExpressRoute circuit has been moved from the classic to the Resource Manager environment.</span></span>
2. <span data-ttu-id="1cc11-146">Sanal ağ geçiş için uygun şekilde hazırlandığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="1cc11-146">Ensure that the virtual network has been prepared appropriately for the migration.</span></span>
3. <span data-ttu-id="1cc11-147">Aboneliğiniz kaynak geçişi için kaydolun.</span><span class="sxs-lookup"><span data-stu-id="1cc11-147">Register your subscription for resource migration.</span></span> <span data-ttu-id="1cc11-148">Aboneliğiniz için kaynak geçişi kaydetmek için aşağıdaki PowerShell parçacığını kullanın:</span><span class="sxs-lookup"><span data-stu-id="1cc11-148">To register your subscription for resource migration, use the following PowerShell snippet:</span></span>

  ```powershell 
  Select-AzureRmSubscription -SubscriptionName <Your Subscription Name>
  Register-AzureRmResourceProvider -ProviderNamespace Microsoft.ClassicInfrastructureMigrate
  Get-AzureRmResourceProvider -ProviderNamespace Microsoft.ClassicInfrastructureMigrate
  ```
4. <span data-ttu-id="1cc11-149">Doğrulama, hazırlama ve geçirilir.</span><span class="sxs-lookup"><span data-stu-id="1cc11-149">Validate, prepare, and migrate.</span></span> <span data-ttu-id="1cc11-150">Sanal ağ taşımak için aşağıdaki PowerShell parçacığını kullanın:</span><span class="sxs-lookup"><span data-stu-id="1cc11-150">To move the virtual network, use the following PowerShell snippet:</span></span>

  ```powershell
  Move-AzureVirtualNetwork -Prepare $vnetName  
  Move-AzureVirtualNetwork -Commit $vnetName
  ```

  <span data-ttu-id="1cc11-151">Ayrıca aşağıdaki PowerShell cmdlet'ini çalıştırarak geçiş iptal edebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="1cc11-151">You can also abort migration by running the following PowerShell cmdlet:</span></span>

  ```powershell
  Move-AzureVirtualNetwork -Abort $vnetName
  ```

## <a name="next-steps"></a><span data-ttu-id="1cc11-152">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="1cc11-152">Next steps</span></span>
* [<span data-ttu-id="1cc11-153">Iaas Klasik kaynaklardan Azure Resource Manager'a Platform desteklenen geçişini</span><span class="sxs-lookup"><span data-stu-id="1cc11-153">Platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](../virtual-machines/virtual-machines-windows-migration-classic-resource-manager.md)
* [<span data-ttu-id="1cc11-154">Teknik ya ilişkin ayrıntılar platform desteklenen geçiş Klasik'ten Azure Kaynak Yöneticisi</span><span class="sxs-lookup"><span data-stu-id="1cc11-154">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](../virtual-machines/virtual-machines-windows-migration-classic-resource-manager-deep-dive.md)
* [<span data-ttu-id="1cc11-155">Sık sorulan sorular: Iaas Klasik kaynaklardan Azure Resource Manager Platform desteklenen geçişi</span><span class="sxs-lookup"><span data-stu-id="1cc11-155">FAQs: Platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](../virtual-machines/virtual-machines-windows-migration-classic-resource-manager.md)
* [<span data-ttu-id="1cc11-156">En yaygın Geçiş hataları ve bunları azaltmanın yollarını gözden geçirin</span><span class="sxs-lookup"><span data-stu-id="1cc11-156">Review most common migration errors and mitigations</span></span>](../virtual-machines/windows/migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
