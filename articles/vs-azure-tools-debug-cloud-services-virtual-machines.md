---
title: "Bir Azure bulut hizmeti ya da sanal makineye Visual Studio'da hata ayıklama | Microsoft Docs"
description: "Bir bulut hizmeti ya da sanal makine Visual Studio'da hata ayıklama"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 945e06e0-2100-41af-b218-72347367ddab
ms.service: visual-studio-online
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 2ea3a9d6b3bdd873c139064b3c400eff5977eda4
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/29/2017
---
# <a name="debugging-an-azure-cloud-service-or-virtual-machine-in-visual-studio"></a><span data-ttu-id="9ec5e-103">Bir Azure bulut hizmeti ya da sanal makineye Visual Studio'da hata ayıklama</span><span class="sxs-lookup"><span data-stu-id="9ec5e-103">Debugging an Azure cloud service or virtual machine in Visual Studio</span></span>
<span data-ttu-id="9ec5e-104">Visual Studio Azure bulut Hizmetleri ve sanal makineleri hata ayıklama için farklı seçenekler sunar.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-104">Visual Studio gives you different options for debugging Azure cloud services and virtual machines.</span></span>

## <a name="debug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="9ec5e-105">Bulut hizmetinizi yerel bilgisayarınızda hata ayıklama</span><span class="sxs-lookup"><span data-stu-id="9ec5e-105">Debug your cloud service on your local computer</span></span>
<span data-ttu-id="9ec5e-106">Zamandan tasarruf edebilirsiniz ve Azure kullanarak para işlem öykünücüsü, bulut hizmeti yerel makinede hata ayıklamak için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-106">You can save time and money by using the Azure compute emulator to debug your cloud service on a local machine.</span></span> <span data-ttu-id="9ec5e-107">Dağıtmadan önce bir hizmet yerel olarak hata ayıklama tarafından, güvenilirlik ve performans işlem zaman için ödeme olmadan artırabilir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-107">By debugging a service locally before you deploy it, you can improve reliability and performance without paying for compute time.</span></span> <span data-ttu-id="9ec5e-108">Ancak, bazı hatalar yalnızca bir bulut hizmeti Azure'da çalıştırdığınızda oluşabilecek kendisi.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-108">However, some errors might occur only when you run a cloud service in Azure itself.</span></span> <span data-ttu-id="9ec5e-109">Hizmetinizi yayımlama ve ardından bir rol örneği için hata ayıklayıcı ekleyin uzaktan hata ayıklama etkinleştirirseniz, bu hatalarını ayıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-109">You can debug these errors if you enable remote debugging when you publish your service and then attach the debugger to a role instance.</span></span>

<span data-ttu-id="9ec5e-110">Öykünücü Azure işlem hizmeti canlandırır ve böylece test ve dağıtmadan önce bulut hizmetinde hata ayıklama, yerel bir ortamda çalışır.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-110">The emulator simulates the Azure Compute service and runs in your local environment so that you can test and debug your cloud service before you deploy it.</span></span> <span data-ttu-id="9ec5e-111">Öykünücüsü rolü örneklerinizi yaşam döngüsü işler ve yerel depolama gibi sanal kaynaklara erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-111">The emulator handles the lifecycle of your role instances and provides access to simulated resources, such as local storage.</span></span> <span data-ttu-id="9ec5e-112">Hata ayıklama veya hizmetinizi Visual Studio'dan çalıştırdığınızda otomatik olarak bir arka plan uygulaması olarak öykünücüyü başlatır ve ardından hizmetinizi öykünücüsünü dağıtır.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-112">When you debug or run your service from Visual Studio, it automatically starts the emulator as a background application and then deploys your service to the emulator.</span></span> <span data-ttu-id="9ec5e-113">Öykünücü, yerel ortamınızda çalıştığında hizmetinizi görüntülemek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-113">You can use the emulator to view your service when it runs in the local environment.</span></span> <span data-ttu-id="9ec5e-114">Tam veya öykünücü express sürümü çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-114">You can run the full version or the express version of the emulator.</span></span> <span data-ttu-id="9ec5e-115">(Azure 2.3 ile başlayarak, emulator express sürümü varsayılandır.) Bkz: [çalıştırın ve bir bulut hizmeti yerel olarak hata ayıklama öykünücüsü kullanarak](https://msdn.microsoft.com/library/dn339018.aspx).</span><span class="sxs-lookup"><span data-stu-id="9ec5e-115">(Starting with Azure 2.3, the express version of the emulator is the default.) See [Using Emulator Express to Run and Debug a Cloud Service Locally](https://msdn.microsoft.com/library/dn339018.aspx).</span></span>

### <a name="to-debug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="9ec5e-116">Bulut hizmetinizi yerel bilgisayarınızda hata ayıklamak için</span><span class="sxs-lookup"><span data-stu-id="9ec5e-116">To debug your cloud service on your local computer</span></span>
1. <span data-ttu-id="9ec5e-117">Menü çubuğunda seçin **hata ayıklama**, **hata ayıklamayı Başlat** Azure bulut hizmeti projenizi çalıştırmak için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-117">On the menu bar, choose **Debug**, **Start Debugging** to run your Azure cloud service project.</span></span> <span data-ttu-id="9ec5e-118">Alternatif olarak, F5 tuşuna basın.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-118">As an alternative, you can press F5.</span></span> <span data-ttu-id="9ec5e-119">İşlem öykünücüsü başlayarak bir ileti görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-119">You’ll see a message that the Compute Emulator is starting.</span></span> <span data-ttu-id="9ec5e-120">Öykünücü başladığında, sistem tepsisi simgesi, onaylar.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-120">When the emulator starts, the system tray icon confirms it.</span></span>

    ![Sistem tepsisindeki Azure öykünücüsü](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC783828.png)
2. <span data-ttu-id="9ec5e-122">Bildirim alanında Azure simgesi için kısayol menüsünü açarak için işlem öykünücüsü kullanıcı arabirimini görüntülemek ve ardından **Göster işlem öykünücüsü kullanıcı Arabiriminde**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-122">Display the user interface for the compute emulator by opening the shortcut menu for the Azure icon in the notification area, and then select **Show Compute Emulator UI**.</span></span>

    <span data-ttu-id="9ec5e-123">Sol bölmede UI işlem öykünücüsü ve her hizmet çalışan rolü örneklerini şu anda dağıtılan hizmetleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-123">The left pane of the UI shows the services that are currently deployed to the compute emulator and the role instances that each service is running.</span></span> <span data-ttu-id="9ec5e-124">Hizmet veya sağ bölmede yaşam döngüsü, günlüğe kaydetme ve tanılama bilgilerini görüntülemek için rolleri seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-124">You can choose the service or roles to display lifecycle, logging, and diagnostic information in the right pane.</span></span> <span data-ttu-id="9ec5e-125">Odağı dahil penceresinin üst kenar boşluğunda yerleştirirseniz sağ bölmede doldurmak için genişletir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-125">If you put the focus in the top margin of an included window, it expands to fill the right pane.</span></span>
3. <span data-ttu-id="9ec5e-126">Komutları seçme adım uygulaması aracılığıyla **hata ayıklama** menü ve kodunda kesme noktalarını ayarlama.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-126">Step through the application by selecting commands on the **Debug** menu and setting breakpoints in your code.</span></span> <span data-ttu-id="9ec5e-127">Hata ayıklayıcı uygulama adım adım, bölmeleri uygulamanın geçerli durumuyla güncellenir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-127">As you step through the application in the debugger, the panes are updated with the current status of the application.</span></span> <span data-ttu-id="9ec5e-128">Hata ayıklama durdurduğunuzda, uygulama dağıtımı silinir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-128">When you stop debugging, the application deployment is deleted.</span></span> <span data-ttu-id="9ec5e-129">Uygulamanızı bir web rolü içerir ve web tarayıcısı başlatmak için başlatma eylemi özelliği ayarladınız, Visual Studio web uygulamanızı tarayıcıda başlatır.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-129">If your application includes a web role and you've set the Startup action property to start the web browser, Visual Studio starts your web application in the browser.</span></span> <span data-ttu-id="9ec5e-130">Hizmet yapılandırmasının bir rolün örnekleri sayısını değiştirirseniz, bulut hizmetini durdurmak ve ardından bu yeni rol örneklerini ayıklayabilirsiniz böylece hata ayıklamayı yeniden başlatın.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-130">If you change the number of instances of a role in the service configuration, you must stop your cloud service and then restart debugging so that you can debug these new instances of the role.</span></span>

    <span data-ttu-id="9ec5e-131">**Not:** çalıştıran veya hizmetinizi hata ayıklama durdurduğunuzda, yerel işlem öykünücüsü ve depolama öykünücüsü durduruldu değil.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-131">**Note:** When you stop running or debugging your service, the local compute emulator and storage emulator aren't stopped.</span></span> <span data-ttu-id="9ec5e-132">Bunları açıkça bildirim alanından durdurmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-132">You must stop them explicitly from the notification area.</span></span>

## <a name="debug-a-cloud-service-in-azure"></a><span data-ttu-id="9ec5e-133">Azure bulut hizmetinde hata ayıklama</span><span class="sxs-lookup"><span data-stu-id="9ec5e-133">Debug a cloud service in Azure</span></span>
<span data-ttu-id="9ec5e-134">Böylece gerekli Hizmetleri (örneğin, msvsmon.exe) rolü örneklerinizi çalıştırmak sanal makinelerde yüklü olduğundan, bulut hizmetinizin dağıttığınızda bir bulut hizmeti uzak makinede hata ayıklamak için bu işlevselliği açıkça etkinleştirmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-134">To debug a cloud service from a remote machine, you must enable that functionality explicitly when you deploy your cloud service so that required services (msvsmon.exe, for example) are installed on the virtual machines that run your role instances.</span></span> <span data-ttu-id="9ec5e-135">Hizmet yayımlandığında uzaktan hata ayıklamayı etkinleştirme kaydetmedi verirseniz uzaktan hata ayıklama etkin durumdayken hizmeti yeniden yayımlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-135">If you didn't enable remote debugging when you published the service, you have to republish the service with remote debugging enabled.</span></span>

<span data-ttu-id="9ec5e-136">Uzaktan hata ayıklama için bir bulut hizmeti etkinleştirirseniz, performans sergiler veya ek ücrete tabi değildir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-136">If you enable remote debugging for a cloud service, it doesn't exhibit degraded performance or incur additional charges.</span></span> <span data-ttu-id="9ec5e-137">Hizmeti kullanan istemciler olumsuz yönde etkilenebilir nedeniyle bir üretim hizmette uzaktan hata ayıklama kullanmamalısınız.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-137">You shouldn't use remote debugging on a production service, because clients who use the service might be adversely affected.</span></span>

> [!NOTE]
> <span data-ttu-id="9ec5e-138">Bir bulut hizmeti Visual Studio'dan yayımladığınızda, etkinleştirebilirsiniz **IntelliTrace** .NET Framework 4 veya .NET Framework 4.5 hedef herhangi bir rol, hizmetindeki için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-138">When you publish a cloud service from Visual Studio, you can enable **IntelliTrace** for any roles in that service that target the .NET Framework 4 or the .NET Framework 4.5.</span></span> <span data-ttu-id="9ec5e-139">Kullanarak **IntelliTrace**, bir rol örneği geçmişte oluşan olaylarla inceleyin ve bu süre bağlamından yeniden oluşturun.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-139">By using **IntelliTrace**, you can examine events that occurred in a role instance in the past and reproduce the context from that time.</span></span> <span data-ttu-id="9ec5e-140">Bkz: [yayımlanan bulut hizmeti IntelliTrace ve Visual Studio ile hata ayıklama](http://go.microsoft.com/fwlink/?LinkID=623016) ve [kullanarak IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).</span><span class="sxs-lookup"><span data-stu-id="9ec5e-140">See [Debugging a published cloud service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016) and [Using IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).</span></span>
>
>

### <a name="to-enable-remote-debugging-for-a-cloud-service"></a><span data-ttu-id="9ec5e-141">Uzak bir bulut hizmeti için hata ayıklamayı etkinleştirmek için</span><span class="sxs-lookup"><span data-stu-id="9ec5e-141">To enable remote debugging for a cloud service</span></span>
1. <span data-ttu-id="9ec5e-142">Azure projesi için kısayol menüsünü açın ve ardından **Yayımla**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-142">Open the shortcut menu for the Azure project, and then select **Publish**.</span></span>
2. <span data-ttu-id="9ec5e-143">Seçin **hazırlama** ortamı ve **hata ayıklama** yapılandırma.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-143">Select the **Staging** environment and the **Debug** configuration.</span></span>

    <span data-ttu-id="9ec5e-144">Bu yalnızca bir kılavuz olarak sağlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-144">This is only a guideline.</span></span> <span data-ttu-id="9ec5e-145">Bir üretim ortamında test ortamınızı çalıştırmayı seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-145">You can opt to run your test environments in a Production environment.</span></span> <span data-ttu-id="9ec5e-146">Ancak, üretim ortamına uzaktan hata ayıklama devre dışı bırakırsanız kullanıcılar olumsuz yönde etkileyebilir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-146">However, you may adversely affect users if you enable remote debugging on the Production environment.</span></span> <span data-ttu-id="9ec5e-147">Yayın yapılandırma seçebilirsiniz, ancak daha kolay hata ayıklama hata ayıklama yapılandırmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-147">You can choose the Release configuration, but the Debug configuration makes debugging easier.</span></span>

    ![Hata ayıklama yapılandırmasını seçin](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746717.gif)
3. <span data-ttu-id="9ec5e-149">Her zamanki adımları izleyin, ancak seçin **etkinleştirmek uzaktan hata ayıklayıcı tüm rolleri için** onay kutusunu **Gelişmiş ayarları** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-149">Follow the usual steps, but select the **Enable Remote Debugger for all roles** check box on the **Advanced Settings** tab.</span></span>

    ![Hata ayıklama yapılandırması](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746718.gif)

### <a name="to-attach-the-debugger-to-a-cloud-service-in-azure"></a><span data-ttu-id="9ec5e-151">Azure bulut hizmetinde hata ayıklayıcı iliştirmek için</span><span class="sxs-lookup"><span data-stu-id="9ec5e-151">To attach the debugger to a cloud service in Azure</span></span>
1. <span data-ttu-id="9ec5e-152">Sunucu Gezgini'nde, bulut hizmetinizin düğümünü genişletin.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-152">In Server Explorer, expand the node for your cloud service.</span></span>
2. <span data-ttu-id="9ec5e-153">Ekleyin ve ardından istediğiniz rol ya da rol örneği için kısayol menüsünü açın **Attach hata ayıklayıcı**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-153">Open the shortcut menu for the role or role instance to which you want to attach, and then select **Attach Debugger**.</span></span>

    <span data-ttu-id="9ec5e-154">Bir rolü hata ayıklama, bu rolünün her örneği için Visual Studio hata ayıklayıcısı ekler.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-154">If you debug a role, the Visual Studio debugger attaches to each instance of that role.</span></span> <span data-ttu-id="9ec5e-155">Hata ayıklayıcı kod satırını çalıştırır ve bu kesme noktası tüm koşulları karşılayan ilk rol örneği için bir kesme noktası kesintiye uğrar.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-155">The debugger will break on a breakpoint for the first role instance that runs that line of code and meets any conditions of that breakpoint.</span></span> <span data-ttu-id="9ec5e-156">Bir örneği, yalnızca o örneği ve yalnızca bu belirli örnek kod satırını çalıştırır ve kesme noktası'nın koşullara uyan bir kesme noktası sayfasındaki sonlarını hata ayıklayıcı ekler hata ayıklama durumunda.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-156">If you debug an instance, the debugger attaches to only that instance and breaks on a breakpoint only when that specific instance runs that line of code and meets the breakpoint's conditions.</span></span>

    ![Hata ayıklayıcıyı Ekle](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746719.gif)
3. <span data-ttu-id="9ec5e-158">Hata ayıklayıcı örneğine ekler sonra her zamanki gibi hata ayıklama.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-158">After the debugger attaches to an instance, debug as usual.</span></span> <span data-ttu-id="9ec5e-159">Hata ayıklayıcı rolünüz için uygun ana bilgisayar işlemi için otomatik olarak ekler.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-159">The debugger automatically attaches to the appropriate host process for your role.</span></span> <span data-ttu-id="9ec5e-160">Rolü nedir bağlı olarak, hata ayıklayıcı w3wp.exe, WaWorkerHost.exe veya WaIISHost.exe ekler.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-160">Depending on what the role is, the debugger attaches to w3wp.exe, WaWorkerHost.exe, or WaIISHost.exe.</span></span> <span data-ttu-id="9ec5e-161">Hata ayıklayıcısı ekli olduğu işlem doğrulamak için Sunucu Gezgininde örneği düğümünü genişletin.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-161">To verify the process to which the debugger is attached, expand the instance node in Server Explorer.</span></span> <span data-ttu-id="9ec5e-162">Bkz: [Azure rol mimarisi](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) Azure işlemleri hakkında daha fazla bilgi.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-162">See [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information about Azure processes.</span></span>

    ![Kod türünü seç iletişim kutusu](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
4. <span data-ttu-id="9ec5e-164">Hata ayıklayıcısı ekli olduğu işlemleri belirlemek için işlemler iletişim kutusunda, menü çubuğu, hata ayıklama, Windows, işlemleri seçme açın.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-164">To identify the processes to which the debugger is attached, open the Processes dialog box by, on the menu bar, choosing Debug, Windows, Processes.</span></span> <span data-ttu-id="9ec5e-165">(Klavye: Ctrl + Alt + Z) Belirli bir işlemin ayırmak için kısayol menüsünü açın ve ardından **ayırma işlemi**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-165">(Keyboard: Ctrl+Alt+Z)To detach a specific process, open its shortcut menu, and then select **Detach Process**.</span></span> <span data-ttu-id="9ec5e-166">Ya da örneği düğümü Sunucu Gezgini işlemi bulun, kısayol menüsünü açın ve ardından **ayırma işlemi**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-166">Or, locate the instance node in Server Explorer, find the process, open its shortcut menu, and then select **Detach Process**.</span></span>

    ![Hata ayıklama işlemleri](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC690787.gif)

> [!WARNING]
> <span data-ttu-id="9ec5e-168">Kesme noktaları uzak uzun durur kaçının hata ayıklama.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-168">Avoid long stops at breakpoints when remote debugging.</span></span> <span data-ttu-id="9ec5e-169">Azure yanıt olarak birkaç dakikadan uzun süre için durduruldu ve trafiği için bu örneği göndermeye durdurur işlem değerlendirir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-169">Azure treats a process that's stopped for longer than a few minutes as unresponsive and stops sending traffic to that instance.</span></span> <span data-ttu-id="9ec5e-170">Uzun süre durdurursanız msvsmon.exe işleminden ayırır.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-170">If you stop for too long, msvsmon.exe detaches from the process.</span></span>
>
>

<span data-ttu-id="9ec5e-171">Hata Ayıklayıcı'dan tüm işlemler, örneği veya rol ayırmak için rol veya örneğinin hatalarını ayıkladığınız ve ardından kısayol menüsünü açın **Detach hata ayıklayıcı**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-171">To detach the debugger from all processes in your instance or role, open the shortcut menu for the role or instance that you're debugging, and then select **Detach Debugger**.</span></span>

## <a name="limitations-of-remote-debugging-in-azure"></a><span data-ttu-id="9ec5e-172">Azure'da uzaktan hata ayıklama sınırlamaları</span><span class="sxs-lookup"><span data-stu-id="9ec5e-172">Limitations of remote debugging in Azure</span></span>
<span data-ttu-id="9ec5e-173">Azure SDK 2.3 uzaktan hata ayıklama aşağıdaki sınırlamalara sahiptir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-173">From Azure SDK 2.3, remote debugging has the following limitations.</span></span>

* <span data-ttu-id="9ec5e-174">Uzaktan hata ayıklama etkin durumdayken, herhangi bir rolü 25'ten fazla örneğe sahip bir bulut hizmeti yayımlanamıyor.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-174">With remote debugging enabled, you can't publish a cloud service in which any role has more than 25 instances.</span></span>
* <span data-ttu-id="9ec5e-175">Hata ayıklayıcı 30400 için 30424, 31400 için 31424 ve 32400 için 32424 bağlantı noktalarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-175">The debugger uses ports 30400 to 30424, 31400 to 31424 and 32400 to 32424.</span></span> <span data-ttu-id="9ec5e-176">Bu bağlantı noktaları birini kullanmayı denerseniz, hizmetinizi yayımlama yükleyemezsiniz ve aşağıdaki hata iletilerinden birini Azure için etkinlik günlüğünde görüntülenir:</span><span class="sxs-lookup"><span data-stu-id="9ec5e-176">If you try to use any of these ports, you won't be able to publish your service, and one of the following error messages will appear in the activity log for Azure:</span></span>

  * <span data-ttu-id="9ec5e-177">.Cscfg dosyası .csdef dosyası karşı doğrulanırken bir hata oluştu.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-177">Error validating the .cscfg file against the .csdef file.</span></span>
    <span data-ttu-id="9ec5e-178">Uç nokta ayrılmış bağlantı noktası aralığı 'range' Microsoft.WindowsAzure.Plugins.RemoteDebugger.Connector 'rolü' rolünün zaten tanımlı bir bağlantı veya aralığı ile çakışıyor.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-178">The reserved port range 'range' for endpoint Microsoft.WindowsAzure.Plugins.RemoteDebugger.Connector of role 'role' overlaps with an already defined port or range.</span></span>
  * <span data-ttu-id="9ec5e-179">Ayırma başarısız oldu.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-179">Allocation failed.</span></span> <span data-ttu-id="9ec5e-180">Lütfen daha sonra yeniden deneyin, VM boyutunu veya rol örneklerinin sayısını azaltmayı deneyin veya farklı bir bölgeye dağıtmayı deneyin.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-180">Please retry later, try reducing the VM size or number of role instances, or try deploying to a different region.</span></span>

## <a name="debugging-azure-virtual-machines"></a><span data-ttu-id="9ec5e-181">Hata ayıklama Azure sanal makineler</span><span class="sxs-lookup"><span data-stu-id="9ec5e-181">Debugging Azure virtual machines</span></span>
<span data-ttu-id="9ec5e-182">Visual Studio'da Sunucu Gezgini kullanarak Azure sanal makinelerde çalışan programlar ayıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-182">You can debug programs that run on Azure virtual machines by using Server Explorer in Visual Studio.</span></span> <span data-ttu-id="9ec5e-183">Bir Azure sanal makinesi üzerinde uzaktan hata ayıklama etkinleştirdiğinizde, Azure sanal makineye uzaktan hata ayıklama uzantısı yükler.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-183">When you enable remote debugging on an Azure virtual machine, Azure installs the remote debugging extension on the virtual machine.</span></span> <span data-ttu-id="9ec5e-184">Ardından, sanal makinede işlemlerin ekleyin ve normal olarak hata ayıklama.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-184">Then, you can attach to processes on the virtual machine and debug as you normally would.</span></span>

> [!NOTE]
> <span data-ttu-id="9ec5e-185">Azure Kaynak Yöneticisi yığınından oluşturulan sanal makineleri uzaktan Visual Studio 2015'te bulut Gezgini'ni kullanarak hata ayıklaması yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-185">Virtual machines created through the Azure resource manager stack can be remotely debugged by using Cloud Explorer in Visual Studio 2015.</span></span> <span data-ttu-id="9ec5e-186">Daha fazla bilgi için bkz: [bulut Gezgini ile Azure kaynaklarını yönetme](http://go.microsoft.com/fwlink/?LinkId=623031).</span><span class="sxs-lookup"><span data-stu-id="9ec5e-186">For more information, see [Managing Azure Resources with Cloud Explorer](http://go.microsoft.com/fwlink/?LinkId=623031).</span></span>
>
>

### <a name="to-debug-an-azure-virtual-machine"></a><span data-ttu-id="9ec5e-187">Bir Azure sanal makinesi hata ayıklamak için</span><span class="sxs-lookup"><span data-stu-id="9ec5e-187">To debug an Azure virtual machine</span></span>
1. <span data-ttu-id="9ec5e-188">Sunucu Gezgini'nde, sanal makine düğümünü genişletin ve hata ayıklamak istediğiniz sanal makine düğümünü seçin.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-188">In Server Explorer, expand the Virtual Machines node and select the node of the virtual machine that you want to debug.</span></span>
2. <span data-ttu-id="9ec5e-189">Bağlam menüsünü açın ve seçin **etkinleştirmek hata ayıklama**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-189">Open the context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="9ec5e-190">Sanal makinede hata ayıklamayı etkinleştirmek istiyorsanız emin olup olmadığınız sorulduğunda **Evet**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-190">When asked if you're sure if you want to enable debugging on the virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="9ec5e-191">Azure uzaktan hata ayıklama uzantısı hata ayıklamayı etkinleştirmek için sanal makineye yükler.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-191">Azure installs the remote debugging extension on the virtual machine to enable debugging.</span></span>

    ![Sanal makine hata ayıklamayı etkinleştir komutu](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Azure etkinlik günlüğü](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
3. <span data-ttu-id="9ec5e-194">Uzaktan hata ayıklama uzantısı yüklemeyi tamamladıktan sonra sanal makinenin bağlam menüsünü açın ve seçin **hata ayıklayıcı Ekle...**</span><span class="sxs-lookup"><span data-stu-id="9ec5e-194">After the remote debugging extension finishes installing, open the virtual machine's context menu and select **Attach Debugger...**</span></span>

    <span data-ttu-id="9ec5e-195">Azure sanal makinede işlemlerin bir listesini alır ve bunları ekleme işlemi iletişim kutusu gösterilir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-195">Azure gets a list of the processes on the virtual machine and shows them in the Attach to Process dialog box.</span></span>

    ![Hata ayıklayıcısı Ekle komutu](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
4. <span data-ttu-id="9ec5e-197">İçinde **ekleme işlemi için** iletişim kutusunda **seçin** yalnızca istediğiniz hata ayıklamak için kod türlerini göstermek için sonuçları listesini sınırlandırmak için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-197">In the **Attach to Process** dialog box, select **Select** to limit the results list to show only the types of code you want to debug.</span></span> <span data-ttu-id="9ec5e-198">32 veya 64-yönetilen bit kod, yerel kod veya her ikisini ayıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-198">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![Kod türünü seç iletişim kutusu](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
5. <span data-ttu-id="9ec5e-200">Sanal makinede hata ayıklama ve ardından istediğiniz işlemleri seçin **Attach**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-200">Select the processes you want to debug on the virtual machine and then select **Attach**.</span></span> <span data-ttu-id="9ec5e-201">Örneğin, bir web uygulaması sanal makinede hata ayıklama istiyorsanız w3wp.exe işlemi seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-201">For example, you might choose the w3wp.exe process if you wanted to debug a web app on the virtual machine.</span></span> <span data-ttu-id="9ec5e-202">Bkz: [hata ayıklama bir veya daha fazla işlemleri Visual Studio'da](https://msdn.microsoft.com/library/jj919165.aspx) ve [Azure rol mimarisi](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-202">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) and [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information.</span></span>

## <a name="create-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="9ec5e-203">Bir web projesi ve hata ayıklama için bir sanal makine oluşturma</span><span class="sxs-lookup"><span data-stu-id="9ec5e-203">Create a web project and a virtual machine for debugging</span></span>
<span data-ttu-id="9ec5e-204">Azure projenizi yayımlamadan önce hata ayıklama ve test senaryoları destekler ve, test ve programları izleme yükleyebileceğiniz bir kapsanan ortamında test etmek yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-204">Before publishing your Azure project, you might find it useful to test it in a contained environment that supports debugging and testing scenarios, and where you can install testing and monitoring programs.</span></span> <span data-ttu-id="9ec5e-205">Bunu yapmak için bir uzaktan bir sanal makinede uygulamanızın hatalarını ayıklama yoldur.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-205">One way to do this is to remotely debug your app on a virtual machine.</span></span>

<span data-ttu-id="9ec5e-206">Visual Studio ASP.NET projeleri uygulama test etmek için kullanabileceğiniz yararlı bir sanal makine oluşturmak için bir seçenek sunar.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-206">Visual Studio ASP.NET projects offer an option to create a handy virtual machine that you can use for app testing.</span></span> <span data-ttu-id="9ec5e-207">Sanal makine PowerShell, Uzak Masaüstü'nü ve WebDeploy gibi sık gerekli uç noktaları içerir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-207">The virtual machine includes commonly-needed endpoints such as PowerShell, remote desktop, and WebDeploy.</span></span>

### <a name="to-create-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="9ec5e-208">Bir web projesi ve hata ayıklama için bir sanal makine oluşturmak için</span><span class="sxs-lookup"><span data-stu-id="9ec5e-208">To create a web project and a virtual machine for debugging</span></span>
1. <span data-ttu-id="9ec5e-209">Visual Studio'da yeni bir ASP.NET Web uygulaması oluşturun.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-209">In Visual Studio, create a new ASP.NET Web Application.</span></span>
2. <span data-ttu-id="9ec5e-210">Yeni ASP.NET projesi iletişim kutusunda, Azure bölümünde seçin **sanal makine** açılır liste kutusunda.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-210">In the New ASP.NET Project dialog, in the Azure section, choose **Virtual Machine** in the dropdown list box.</span></span> <span data-ttu-id="9ec5e-211">Bırakın **uzak kaynaklar Oluştur** onay kutusu seçili.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-211">Leave the **Create remote resources** check box selected.</span></span> <span data-ttu-id="9ec5e-212">Seçin **Tamam** devam etmek için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-212">Select **OK** to proceed.</span></span>

    <span data-ttu-id="9ec5e-213">**Azure'da sanal makine oluşturma** iletişim kutusu görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-213">The **Create virtual machine on Azure** dialog box appears.</span></span>

    ![ASP.NET web projesi oluştur iletişim kutusu](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746723.png)

    <span data-ttu-id="9ec5e-215">**Not:** zaten oturum açtıysanız, Azure hesabınızda oturum açmak için istenir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-215">**Note:** You'll be asked to sign in to your Azure account if you're not already signed in.</span></span>

1. <span data-ttu-id="9ec5e-216">Sanal makine için çeşitli ayarları seçin ve ardından **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-216">Select the various settings for the virtual machine and then select **OK**.</span></span> <span data-ttu-id="9ec5e-217">Bkz: [sanal makineleri](http://go.microsoft.com/fwlink/?LinkId=623033) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-217">See [Virtual Machines](http://go.microsoft.com/fwlink/?LinkId=623033) for more information.</span></span>

    <span data-ttu-id="9ec5e-218">Sanal makine adı için DNS adını girin adı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-218">The name you enter for DNS name will be the name of the virtual machine.</span></span>

    ![Sanal makine oluştur Azure iletişim kutusu](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746724.png)

    <span data-ttu-id="9ec5e-220">Azure sanal makine ve ardından hükümleri oluşturur ve Uzak Masaüstü'nü ve Web dağıtımı gibi uç noktaları yapılandırır</span><span class="sxs-lookup"><span data-stu-id="9ec5e-220">Azure creates the virtual machine and then provisions and configures the endpoints, such as Remote Desktop and Web Deploy</span></span>
2. <span data-ttu-id="9ec5e-221">Sanal makine tam olarak yapılandırıldıktan sonra sunucu Gezgini'nde sanal makinenin düğümünü seçin.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-221">After the virtual machine is fully configured, select the virtual machine’s node in Server Explorer.</span></span>
3. <span data-ttu-id="9ec5e-222">Bağlam menüsünü açın ve seçin **etkinleştirmek hata ayıklama**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-222">Open the context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="9ec5e-223">Sanal makinede hata ayıklamayı etkinleştirmek istiyorsanız emin olup olmadığınız sorulduğunda **Evet**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-223">When asked if you're sure if you want to enable debugging on the virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="9ec5e-224">Azure uzaktan hata ayıklama uzantısı hata ayıklamayı etkinleştirmek için sanal makineye yükler.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-224">Azure installs the remote debugging extension to the virtual machine to enable debugging.</span></span>

    ![Sanal makine hata ayıklamayı etkinleştir komutu](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Azure etkinlik günlüğü](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
4. <span data-ttu-id="9ec5e-227">Kısmında özetlendiği gibi projenizin Yayımla [nasıl yapılır: bir Web projesi kullanarak tek tıklamayla yayımlama Visual Studio'da dağıtmak](https://msdn.microsoft.com/library/dd465337.aspx).</span><span class="sxs-lookup"><span data-stu-id="9ec5e-227">Publish your project as outlined in [How to: Deploy a Web Project Using One-Click Publish in Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx).</span></span> <span data-ttu-id="9ec5e-228">Sanal makinede üzerinde hata ayıklamak istediğiniz çünkü **ayarları** sayfasında **Web'i Yayımla** seçin **hata ayıklama** yapılandırma olarak.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-228">Because you want to debug on the virtual machine, on the **Settings** page of the **Publish Web** wizard, select **Debug** as the configuration.</span></span> <span data-ttu-id="9ec5e-229">Bu hata ayıklarken kod semboller kullanılabilir olduğundan emin olur.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-229">This makes sure that code symbols are available while debugging.</span></span>

    ![Yayımlama ayarları](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718349.png)
5. <span data-ttu-id="9ec5e-231">İçinde **dosya yayımlama seçeneği**seçin **hedefteki ek dosyaları Kaldır** proje daha erken bir zamanda zaten dağıtıldıysa.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-231">In the **File Publish Options**, select **Remove additional files at destination** if the project was already deployed at an earlier time.</span></span>
6. <span data-ttu-id="9ec5e-232">Sunucu Gezgini'nde, sanal makinenin bağlam menüsünde projeyi yayımlar sonra seçin **hata ayıklayıcı Ekle...**</span><span class="sxs-lookup"><span data-stu-id="9ec5e-232">After the project publishes, on the virtual machine's context menu in Server Explorer, select **Attach Debugger...**</span></span>

    <span data-ttu-id="9ec5e-233">Azure sanal makinede işlemlerin bir listesini alır ve bunları ekleme işlemi iletişim kutusu gösterilir.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-233">Azure gets a list of the processes on the virtual machine and shows them in the Attach to Process dialog box.</span></span>

    ![Hata ayıklayıcısı Ekle komutu](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
7. <span data-ttu-id="9ec5e-235">İçinde **ekleme işlemi için** iletişim kutusunda **seçin** yalnızca istediğiniz hata ayıklamak için kod türlerini göstermek için sonuçları listesini sınırlandırmak için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-235">In the **Attach to Process** dialog box, select **Select** to limit the results list to show only the types of code you want to debug.</span></span> <span data-ttu-id="9ec5e-236">32 veya 64-yönetilen bit kod, yerel kod veya her ikisini ayıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-236">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![Kod türünü seç iletişim kutusu](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
8. <span data-ttu-id="9ec5e-238">Sanal makinede hata ayıklama ve ardından istediğiniz işlemleri seçin **Attach**.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-238">Select the processes you want to debug on the virtual machine and then select **Attach**.</span></span> <span data-ttu-id="9ec5e-239">Örneğin, bir web uygulaması sanal makinede hata ayıklama istiyorsanız w3wp.exe işlemi seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-239">For example, you might choose the w3wp.exe process if you wanted to debug a web app on the virtual machine.</span></span> <span data-ttu-id="9ec5e-240">Bkz: [hata ayıklama bir veya daha fazla işlemleri Visual Studio'da](https://msdn.microsoft.com/library/jj919165.aspx) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-240">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9ec5e-241">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="9ec5e-241">Next steps</span></span>
* <span data-ttu-id="9ec5e-242">Kullanım **IntelliTrace** bir yayın sunucusundan günlük çağrıları ve olayları toplamak için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-242">Use **Intellitrace** to collect a log of calls and events from a release server.</span></span> <span data-ttu-id="9ec5e-243">Bkz: [yayımlanan bulut hizmeti IntelliTrace ve Visual Studio ile hata ayıklama](http://go.microsoft.com/fwlink/?LinkID=623016).</span><span class="sxs-lookup"><span data-stu-id="9ec5e-243">See [Debugging a Published Cloud Service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016).</span></span>
* <span data-ttu-id="9ec5e-244">Kullanım **Azure tanılama** rolleri geliştirme ortamında veya Azure çalıştırıp çalıştırmadığınızı ayrıntılı bilgileri rolleri, kod çalıştırılmasını günlüğe kaydetmek için.</span><span class="sxs-lookup"><span data-stu-id="9ec5e-244">Use **Azure Diagnostics** to log detailed information from code running within roles, whether the roles are running in the development environment or in Azure.</span></span> <span data-ttu-id="9ec5e-245">Bkz: [Azure tanılama kullanarak günlük verileri toplama](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span><span class="sxs-lookup"><span data-stu-id="9ec5e-245">See [Collecting logging data by using Azure Diagnostics](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span></span>
