---
title: "Küme Azure Hdınsight'ta Apache Spark için aaaManage kaynakları | Microsoft Docs"
description: "Toouse yönetmek daha iyi performans için Azure hdınsight'ta Spark kümeleri için kaynaklar hakkında bilgi edinin."
services: hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 9da7d4e3-458e-4296-a628-77b14643f7e4
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/21/2017
ms.author: nitinme
ms.openlocfilehash: e18682a24f77494db884105f9db03c0a350ddad6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="manage-resources-for-apache-spark-cluster-on-azure-hdinsight"></a><span data-ttu-id="9d40a-103">Azure hdınsight'ta Apache Spark küme kaynaklarını yönetme</span><span class="sxs-lookup"><span data-stu-id="9d40a-103">Manage resources for Apache Spark cluster on Azure HDInsight</span></span> 

<span data-ttu-id="9d40a-104">Bu makalede nasıl tooaccess hello arabirimleri Ambari UI, YARN kullanıcı Arabiriminde ve hello Spark geçmişi sunucu gibi Spark kümenizle ilişkilendirilmiş öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="9d40a-104">In this article you will learn how tooaccess hello interfaces like Ambari UI, YARN UI, and hello Spark History Server associated with your Spark cluster.</span></span> <span data-ttu-id="9d40a-105">Nasıl tootune hello en iyi performans için küme yapılandırma hakkında bilgi edineceksiniz.</span><span class="sxs-lookup"><span data-stu-id="9d40a-105">You will also learn about how tootune hello cluster configuration for optimal performance.</span></span>

<span data-ttu-id="9d40a-106">**Ön koşullar:**</span><span class="sxs-lookup"><span data-stu-id="9d40a-106">**Prerequisites:**</span></span>

<span data-ttu-id="9d40a-107">Merhaba şunlara sahip olmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="9d40a-107">You must have hello following:</span></span>

* <span data-ttu-id="9d40a-108">Azure aboneliği.</span><span class="sxs-lookup"><span data-stu-id="9d40a-108">An Azure subscription.</span></span> <span data-ttu-id="9d40a-109">Bkz. [Azure ücretsiz deneme sürümü alma](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).</span><span class="sxs-lookup"><span data-stu-id="9d40a-109">See [Get Azure free trial](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).</span></span>
* <span data-ttu-id="9d40a-110">Hdınsight'ta bir Apache Spark kümesi.</span><span class="sxs-lookup"><span data-stu-id="9d40a-110">An Apache Spark cluster on HDInsight.</span></span> <span data-ttu-id="9d40a-111">Yönergeler için bkz: [Azure Hdınsight'ta Apache Spark oluşturmak kümeleri](hdinsight-apache-spark-jupyter-spark-sql.md).</span><span class="sxs-lookup"><span data-stu-id="9d40a-111">For instructions, see [Create Apache Spark clusters in Azure HDInsight](hdinsight-apache-spark-jupyter-spark-sql.md).</span></span>

## <a name="how-do-i-launch-hello-ambari-web-ui"></a><span data-ttu-id="9d40a-112">Merhaba Ambari Web kullanıcı arabirimini nasıl başlatma?</span><span class="sxs-lookup"><span data-stu-id="9d40a-112">How do I launch hello Ambari Web UI?</span></span>
1. <span data-ttu-id="9d40a-113">Merhaba gelen [Azure Portal](https://portal.azure.com/), (, onu toohello Sabitle) hello Panosu'ndan hello kutucuğuna Spark kümenizin tıklayın.</span><span class="sxs-lookup"><span data-stu-id="9d40a-113">From hello [Azure Portal](https://portal.azure.com/), from hello startboard, click hello tile for your Spark cluster (if you pinned it toohello startboard).</span></span> <span data-ttu-id="9d40a-114">Tooyour küme altında da gidebilirsiniz **tümüne Gözat** > **Hdınsight kümeleri**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-114">You can also navigate tooyour cluster under **Browse All** > **HDInsight Clusters**.</span></span>
2. <span data-ttu-id="9d40a-115">Merhaba Spark kümesi dikey penceresinden tıklatın **Pano**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-115">From hello Spark cluster blade, click **Dashboard**.</span></span> <span data-ttu-id="9d40a-116">İstendiğinde, hello Spark küme için hello yönetici kimlik bilgilerini girin.</span><span class="sxs-lookup"><span data-stu-id="9d40a-116">When prompted, enter hello admin credentials for hello Spark cluster.</span></span>

    <span data-ttu-id="9d40a-117">![Ambari başlatma](./media/hdinsight-apache-spark-resource-manager/hdinsight-launch-cluster-dashboard.png "Kaynak Yöneticisi'ni Başlat")</span><span class="sxs-lookup"><span data-stu-id="9d40a-117">![Launch Ambari](./media/hdinsight-apache-spark-resource-manager/hdinsight-launch-cluster-dashboard.png "Start Resource Manager")</span></span>
3. <span data-ttu-id="9d40a-118">Aşağıda gösterildiği gibi bu hello Ambari Web kullanıcı ARABİRİMİ'nde, belirmelidir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-118">This should launch hello Ambari Web UI, as shown below.</span></span>

    <span data-ttu-id="9d40a-119">![Ambari Web kullanıcı Arabirimi](./media/hdinsight-apache-spark-resource-manager/ambari-web-ui.png "Ambari Web kullanıcı Arabirimi")</span><span class="sxs-lookup"><span data-stu-id="9d40a-119">![Ambari Web UI](./media/hdinsight-apache-spark-resource-manager/ambari-web-ui.png "Ambari Web UI")</span></span>   

## <a name="how-do-i-launch-hello-spark-history-server"></a><span data-ttu-id="9d40a-120">Merhaba Spark geçmişi sunucu nasıl başlatma?</span><span class="sxs-lookup"><span data-stu-id="9d40a-120">How do I launch hello Spark History Server?</span></span>
1. <span data-ttu-id="9d40a-121">Merhaba gelen [Azure Portal](https://portal.azure.com/), (, onu toohello Sabitle) hello Panosu'ndan hello kutucuğuna Spark kümenizin tıklayın.</span><span class="sxs-lookup"><span data-stu-id="9d40a-121">From hello [Azure Portal](https://portal.azure.com/), from hello startboard, click hello tile for your Spark cluster (if you pinned it toohello startboard).</span></span>
2. <span data-ttu-id="9d40a-122">Hello dikey penceresinde altında küme **hızlı bağlantılar**, tıklatın **küme Panosu**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-122">From hello cluster blade, under **Quick Links**, click **Cluster Dashboard**.</span></span> <span data-ttu-id="9d40a-123">Merhaba, **küme Panosu** dikey penceresinde tıklatın **Spark geçmişi sunucu**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-123">In hello **Cluster Dashboard** blade, click **Spark History Server**.</span></span>

    <span data-ttu-id="9d40a-124">![Spark geçmişi sunucu](./media/hdinsight-apache-spark-resource-manager/launch-history-server.png "Spark geçmişi sunucu")</span><span class="sxs-lookup"><span data-stu-id="9d40a-124">![Spark History Server](./media/hdinsight-apache-spark-resource-manager/launch-history-server.png "Spark History Server")</span></span>

    <span data-ttu-id="9d40a-125">İstendiğinde, hello Spark küme için hello yönetici kimlik bilgilerini girin.</span><span class="sxs-lookup"><span data-stu-id="9d40a-125">When prompted, enter hello admin credentials for hello Spark cluster.</span></span>

## <a name="how-do-i-launch-hello-yarn-ui"></a><span data-ttu-id="9d40a-126">Merhaba Yarn kullanıcı Arabiriminde nasıl başlatma?</span><span class="sxs-lookup"><span data-stu-id="9d40a-126">How do I launch hello Yarn UI?</span></span>
<span data-ttu-id="9d40a-127">Merhaba Spark kümesi üzerinde çalışmakta olan hello YARN kullanıcı Arabiriminde toomonitor uygulamaları kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-127">You can use hello YARN UI toomonitor applications that are currently running on hello Spark cluster.</span></span>

1. <span data-ttu-id="9d40a-128">Merhaba küme dikey penceresinden tıklayın **küme Panosu**ve ardından **YARN**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-128">From hello cluster blade, click **Cluster Dashboard**, and then click **YARN**.</span></span>

    ![YARN kullanıcı arabirimini Başlat](./media/hdinsight-apache-spark-resource-manager/launch-yarn-ui.png)

   > [!TIP]
   > <span data-ttu-id="9d40a-130">Alternatif olarak, hello YARN kullanıcı Arabiriminde hello Ambari UI alanından başlatabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d40a-130">Alternatively, you can also launch hello YARN UI from hello Ambari UI.</span></span> <span data-ttu-id="9d40a-131">Merhaba küme dikey penceresinden toolaunch hello Ambari UI'ı tıklatın **küme Panosu**ve ardından **Hdınsight küme Panosu**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-131">toolaunch hello Ambari UI, from hello cluster blade, click **Cluster Dashboard**, and then click **HDInsight Cluster Dashboard**.</span></span> <span data-ttu-id="9d40a-132">Hello ifadesini Ambari UI'ı tıklatın **YARN**, tıklatın **hızlı bağlantılar**hello etkin Kaynak Yöneticisi'ni tıklatın ve ardından **ResourceManager UI**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-132">From hello Ambari UI, click **YARN**, click **Quick Links**, click hello active resource manager, and then click **ResourceManager UI**.</span></span>
   >
   >

## <a name="what-is-hello-optimum-cluster-configuration-toorun-spark-applications"></a><span data-ttu-id="9d40a-133">Merhaba optimum küme yapılandırma toorun Spark uygulamaları nedir?</span><span class="sxs-lookup"><span data-stu-id="9d40a-133">What is hello optimum cluster configuration toorun Spark applications?</span></span>
<span data-ttu-id="9d40a-134">uygulama gereksinimleri bağlı olarak Spark yapılandırması için kullanılan anahtar parametreleri hello üç `spark.executor.instances`, `spark.executor.cores`, ve `spark.executor.memory`.</span><span class="sxs-lookup"><span data-stu-id="9d40a-134">hello three key parameters that can be used for Spark configuration depending on application requirements are `spark.executor.instances`, `spark.executor.cores`, and `spark.executor.memory`.</span></span> <span data-ttu-id="9d40a-135">Bir yürütücü Spark uygulama için başlatılan bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-135">An Executor is a process launched for a Spark application.</span></span> <span data-ttu-id="9d40a-136">Merhaba çalışan düğümünde çalışır ve hello görevlerini Merhaba uygulaması için sorumlu toocarry olduğu.</span><span class="sxs-lookup"><span data-stu-id="9d40a-136">It runs on hello worker node and is responsible toocarry out hello tasks for hello application.</span></span> <span data-ttu-id="9d40a-137">Hello varsayılan sayısı yürütücüler ve her küme için hello Yürütücü boyutları hello sayısını çalışan düğümleri ve hello alt düğüm boyutu temel alınarak hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="9d40a-137">hello default number of executors and hello executor sizes for each cluster is calculated based on hello number of worker nodes and hello worker node size.</span></span> <span data-ttu-id="9d40a-138">Bunlar depolanmış `spark-defaults.conf` hello küme baş düğümler üzerinde.</span><span class="sxs-lookup"><span data-stu-id="9d40a-138">These are stored in `spark-defaults.conf` on hello cluster head nodes.</span></span>

<span data-ttu-id="9d40a-139">Merhaba üç yapılandırma parametreleri (için hello kümede çalışan tüm uygulamaları) hello küme düzeyinde yapılandırılabilir veya her tek tek uygulama için belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-139">hello three configuration parameters can be configured at hello cluster level (for all applications that run on hello cluster) or can be specified for each individual application as well.</span></span>

### <a name="change-hello-parameters-using-ambari-ui"></a><span data-ttu-id="9d40a-140">Ambari kullanıcı arabirimini kullanarak hello parametrelerini değiştirin</span><span class="sxs-lookup"><span data-stu-id="9d40a-140">Change hello parameters using Ambari UI</span></span>
1. <span data-ttu-id="9d40a-141">Ambari UI Hello tıklatın **Spark**, tıklatın **yapılandırmalar**, genişletin ve ardından **özel spark-varsayılanları**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-141">From hello Ambari UI click **Spark**, click **Configs**, and then expand **Custom spark-defaults**.</span></span>

    ![Ambari kullanarak parametrelerini](./media/hdinsight-apache-spark-resource-manager/set-parameters-using-ambari.png)
2. <span data-ttu-id="9d40a-143">Merhaba varsayılan değerleri hello kümede aynı anda çalıştırmak iyi toohave 4 Spark uygulamalardır.</span><span class="sxs-lookup"><span data-stu-id="9d40a-143">hello default values are good toohave 4 Spark applications run concurrently on hello cluster.</span></span> <span data-ttu-id="9d40a-144">Aşağıda gösterildiği gibi değişiklikler hello kullanıcı arabirimi, bu değerleri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d40a-144">You can changes these values from hello user interface, as shown below.</span></span>

    ![Ambari kullanarak parametrelerini](./media/hdinsight-apache-spark-resource-manager/set-executor-parameters.png)
3. <span data-ttu-id="9d40a-146">Tıklatın **kaydetmek** toosave hello yapılandırma değişiklikleri.</span><span class="sxs-lookup"><span data-stu-id="9d40a-146">Click **Save** toosave hello configuration changes.</span></span> <span data-ttu-id="9d40a-147">Merhaba hello sayfanın en üstünde, istenir tüm hello toorestart etkilenen hizmetler.</span><span class="sxs-lookup"><span data-stu-id="9d40a-147">At hello top of hello page, you will be prompted toorestart all hello affected services.</span></span> <span data-ttu-id="9d40a-148">Tıklatın **yeniden**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-148">Click **Restart**.</span></span>

    ![Hizmetlerini yeniden başlatın](./media/hdinsight-apache-spark-resource-manager/restart-services.png)

### <a name="change-hello-parameters-for-an-application-running-in-jupyter-notebook"></a><span data-ttu-id="9d40a-150">Jupyter not defteri çalışan bir uygulama için Hello parametrelerini değiştir</span><span class="sxs-lookup"><span data-stu-id="9d40a-150">Change hello parameters for an application running in Jupyter notebook</span></span>
<span data-ttu-id="9d40a-151">Merhaba Jupyter not defteri çalışan uygulamalar için hello kullanabilirsiniz `%%configure` Sihirli toomake hello yapılandırma değişiklikleri.</span><span class="sxs-lookup"><span data-stu-id="9d40a-151">For applications running in hello Jupyter notebook, you can use hello `%%configure` magic toomake hello configuration changes.</span></span> <span data-ttu-id="9d40a-152">İdeal olarak, birinci kod hücresini çalıştırmadan önce Merhaba uygulaması hello başında gibi değişiklikler yapmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-152">Ideally, you must make such changes at hello beginning of hello application, before you run your first code cell.</span></span> <span data-ttu-id="9d40a-153">Bu, hello yapılandırmayı uygulanan toohello Livy sağlar oluşturulduğu oturumu.</span><span class="sxs-lookup"><span data-stu-id="9d40a-153">This ensures that hello configuration is applied toohello Livy session, when it gets created.</span></span> <span data-ttu-id="9d40a-154">Merhaba uygulamada daha sonraki bir aşamada toochange hello yapılandırma istiyorsanız hello kullanmalısınız `-f` parametresi.</span><span class="sxs-lookup"><span data-stu-id="9d40a-154">If you want toochange hello configuration at a later stage in hello application, you must use hello `-f` parameter.</span></span> <span data-ttu-id="9d40a-155">Ancak, tüm hello ilerleme şekilde yaparak uygulama kaybolur.</span><span class="sxs-lookup"><span data-stu-id="9d40a-155">However, by doing so all progress in hello application will be lost.</span></span>

<span data-ttu-id="9d40a-156">Aşağıdaki Hello parçacığı nasıl toochange hello Jupyter'de çalışan bir uygulama için yapılandırma gösterilir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-156">hello snippet below shows how toochange hello configuration for an application running in Jupyter.</span></span>

    %%configure
    {"executorMemory": "3072M", "executorCores": 4, "numExecutors":10}

<span data-ttu-id="9d40a-157">Yapılandırma parametreleri de JSON dizesi olarak geçirilmelidir ve hello sonraki satırda hello Sihirli sonra hello örnek sütununda gösterildiği gibi olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-157">Configuration parameters must be passed in as a JSON string and must be on hello next line after hello magic, as shown in hello example column.</span></span>

### <a name="change-hello-parameters-for-an-application-submitted-using-spark-submit"></a><span data-ttu-id="9d40a-158">Değişiklik hello parametreleri kullanılarak gönderilen bir uygulama için spark gönderme</span><span class="sxs-lookup"><span data-stu-id="9d40a-158">Change hello parameters for an application submitted using spark-submit</span></span>
<span data-ttu-id="9d40a-159">Olan bir örneğini nasıl toochange hello yapılandırma parametreleri kullanılarak gönderilen bir batch uygulaması için komutu aşağıdaki `spark-submit`.</span><span class="sxs-lookup"><span data-stu-id="9d40a-159">Following command is an example of how toochange hello configuration parameters for a batch application that is submitted using `spark-submit`.</span></span>

    spark-submit --class <hello application class tooexecute> --executor-memory 3072M --executor-cores 4 –-num-executors 10 <location of application jar file> <application parameters>

### <a name="change-hello-parameters-for-an-application-submitted-using-curl"></a><span data-ttu-id="9d40a-160">CURL kullanılarak gönderilen bir uygulama için Hello parametrelerini değiştir</span><span class="sxs-lookup"><span data-stu-id="9d40a-160">Change hello parameters for an application submitted using cURL</span></span>
<span data-ttu-id="9d40a-161">Komutu aşağıdaki nasıl toochange hello cURL kullanarak gönderilen bir batch uygulaması için yapılandırma parametreleri, bir örnek verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-161">Following command is an example of how toochange hello configuration parameters for a batch application that is submitted using using cURL.</span></span>

    curl -k -v -H 'Content-Type: application/json' -X POST -d '{"file":"<location of application jar file>", "className":"<hello application class tooexecute>", "args":[<application parameters>], "numExecutors":10, "executorMemory":"2G", "executorCores":5' localhost:8998/batches

### <a name="how-do-i-change-these-parameters-on-a-spark-thrift-server"></a><span data-ttu-id="9d40a-162">Spark Thrift sunucusunun bu parametrelere nasıl değişiyor?</span><span class="sxs-lookup"><span data-stu-id="9d40a-162">How do I change these parameters on a Spark Thrift Server?</span></span>
<span data-ttu-id="9d40a-163">Spark Thrift sunucusu JDBC/ODBC erişim tooa Spark kümesi sağlar ve kullanılan tooservice Spark SQL sorguları.</span><span class="sxs-lookup"><span data-stu-id="9d40a-163">Spark Thrift Server provides JDBC/ODBC access tooa Spark cluster and is used tooservice Spark SQL queries.</span></span> <span data-ttu-id="9d40a-164">Araçlar Power BI, Tableau vb. gibi çalışır.</span><span class="sxs-lookup"><span data-stu-id="9d40a-164">Tools like Power BI, Tableau etc.</span></span> <span data-ttu-id="9d40a-165">ODBC Protokolü toocommunicate Spark Thrift sunucusunun tooexecute Spark SQL sorguları ile Spark uygulaması olarak kullanın.</span><span class="sxs-lookup"><span data-stu-id="9d40a-165">use ODBC protocol toocommunicate with Spark Thrift Server tooexecute Spark SQL queries as a Spark Application.</span></span> <span data-ttu-id="9d40a-166">Spark kümesi oluşturduğunuzda, Spark Thrift sunucusunun başlatılacağı, hello her baş düğüm birinde iki örneği.</span><span class="sxs-lookup"><span data-stu-id="9d40a-166">When a Spark cluster is created, two instances of hello Spark Thrift Server are started, one on each head node.</span></span> <span data-ttu-id="9d40a-167">Her Spark Thrift sunucusunun Spark uygulama YARN kullanıcı Arabiriminde hello olarak görünür olur.</span><span class="sxs-lookup"><span data-stu-id="9d40a-167">Each Spark Thrift Server is visible as a Spark application in hello YARN UI.</span></span>

<span data-ttu-id="9d40a-168">Spark Thrift sunucusunun kullandığı Spark dinamik Yürütücü ayırma ve bu nedenle hello `spark.executor.instances` kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="9d40a-168">Spark Thrift Server uses Spark dynamic executor allocation and hence hello `spark.executor.instances` is not used.</span></span> <span data-ttu-id="9d40a-169">Bunun yerine, Spark Thrift sunucusunun kullandığı `spark.dynamicAllocation.minExecutors` ve `spark.dynamicAllocation.maxExecutors` toospecify hello Yürütücü sayısı.</span><span class="sxs-lookup"><span data-stu-id="9d40a-169">Instead, Spark Thrift Server uses `spark.dynamicAllocation.minExecutors` and `spark.dynamicAllocation.maxExecutors` toospecify hello executor count.</span></span> <span data-ttu-id="9d40a-170">yapılandırma parametrelerini hello `spark.executor.cores` ve `spark.executor.memory` olan toomodify hello Yürütücü boyutu kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9d40a-170">hello configuration parameters `spark.executor.cores` and `spark.executor.memory` is used toomodify hello executor size.</span></span> <span data-ttu-id="9d40a-171">Bu parametreler aşağıda gösterildiği gibi değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d40a-171">You can change these parameters as shown below.</span></span>

* <span data-ttu-id="9d40a-172">Merhaba genişletin **spark thrift sparkconf Gelişmiş** kategori tooupdate hello parametreleri `spark.dynamicAllocation.minExecutors`, `spark.dynamicAllocation.maxExecutors`, ve `spark.executor.memory`.</span><span class="sxs-lookup"><span data-stu-id="9d40a-172">Expand hello **Advanced spark-thrift-sparkconf** category tooupdate hello parameters `spark.dynamicAllocation.minExecutors`, `spark.dynamicAllocation.maxExecutors`, and `spark.executor.memory`.</span></span>

    ![Spark thrift sunucusunu yapılandırın](./media/hdinsight-apache-spark-resource-manager/spark-thrift-server-1.png)    
* <span data-ttu-id="9d40a-174">Merhaba genişletin **özel spark thrift sparkconf** kategori tooupdate hello parametresi `spark.executor.cores`.</span><span class="sxs-lookup"><span data-stu-id="9d40a-174">Expand hello **Custom spark-thrift-sparkconf** category tooupdate hello parameter `spark.executor.cores`.</span></span>

    ![Spark thrift sunucusunu yapılandırın](./media/hdinsight-apache-spark-resource-manager/spark-thrift-server-2.png)

### <a name="how-do-i-change-hello-driver-memory-of-hello-spark-thrift-server"></a><span data-ttu-id="9d40a-176">Merhaba sürücü bellek hello Spark Thrift sunucusunun nasıl değişiyor?</span><span class="sxs-lookup"><span data-stu-id="9d40a-176">How do I change hello driver memory of hello Spark Thrift Server?</span></span>
<span data-ttu-id="9d40a-177">Spark Thrift sunucusunun sürücü bellek Hello Toplam RAM hello baş düğüm 14 GB'den büyük boyutudur hello baş düğüm RAM boyutunun yapılandırılmış too25% sağlanır.</span><span class="sxs-lookup"><span data-stu-id="9d40a-177">Spark Thrift Server driver memory is configured too25% of hello head node RAM size, provided hello total RAM size of hello head node is greater than 14GB.</span></span> <span data-ttu-id="9d40a-178">Merhaba Ambari UI toochange hello sürücü bellek yapılandırması, aşağıda gösterildiği gibi kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d40a-178">You can use hello Ambari UI toochange hello driver memory configuration, as shown below.</span></span>

* <span data-ttu-id="9d40a-179">Ambari UI Hello tıklatın **Spark**, tıklatın **yapılandırmalar**, genişletin **spark env Gelişmiş**, hello değeri girin **spark_thrift_cmd_opts**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-179">From hello Ambari UI click **Spark**, click **Configs**, expand **Advanced spark-env**, and then provide hello value for **spark_thrift_cmd_opts**.</span></span>

    ![Spark thrift sunucusunun RAM yapılandırın](./media/hdinsight-apache-spark-resource-manager/spark-thrift-server-ram.png)

## <a name="i-do-not-use-bi-with-spark-cluster-how-do-i-take-hello-resources-back"></a><span data-ttu-id="9d40a-181">I BI ile Spark kümesi kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="9d40a-181">I do not use BI with Spark cluster.</span></span> <span data-ttu-id="9d40a-182">Nasıl hello kaynakları geri yararlanabilir mi?</span><span class="sxs-lookup"><span data-stu-id="9d40a-182">How do I take hello resources back?</span></span>
<span data-ttu-id="9d40a-183">Spark dinamik ayırma kullandığımız bu yana hello thrift sunucusu tarafından kullanılan kaynakları hello hello iki uygulama yöneticileri için kaynaklardır.</span><span class="sxs-lookup"><span data-stu-id="9d40a-183">Since we use Spark dynamic allocation, hello only resources that are consumed by thrift server are hello resources for hello two application masters.</span></span> <span data-ttu-id="9d40a-184">Merhaba kümede çalışan Thrift sunucusunun Hizmetleri durdurmalı bu kaynakları hello tooreclaim.</span><span class="sxs-lookup"><span data-stu-id="9d40a-184">tooreclaim these resources you must stop hello Thrift Server services running on hello cluster.</span></span>

1. <span data-ttu-id="9d40a-185">Merhaba Ambari UI hello sol bölmesinde, öğesini tıklatın **Spark**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-185">From hello Ambari UI, from hello left pane, click **Spark**.</span></span>
2. <span data-ttu-id="9d40a-186">Merhaba sonraki sayfasında tıklatın **Spark Thrift sunucuları**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-186">In hello next page, click **Spark Thrift Servers**.</span></span>

    ![Thrift sunucuyu yeniden başlatın](./media/hdinsight-apache-spark-resource-manager/restart-thrift-server-1.png)
3. <span data-ttu-id="9d40a-188">Hangi hello üzerinde Spark Thrift sunucusunun çalıştığından hello iki headnodes görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-188">You should see hello two headnodes on which hello Spark Thrift Server is running.</span></span> <span data-ttu-id="9d40a-189">Merhaba headnodes birini tıklatın.</span><span class="sxs-lookup"><span data-stu-id="9d40a-189">Click one of hello headnodes.</span></span>

    ![Thrift sunucuyu yeniden başlatın](./media/hdinsight-apache-spark-resource-manager/restart-thrift-server-2.png)
4. <span data-ttu-id="9d40a-191">Hello sonraki sayfada bu headnode üzerinde çalışan tüm hello hizmetler listelenir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-191">hello next page lists all hello services running on that headnode.</span></span> <span data-ttu-id="9d40a-192">Merhaba listeden hello açılan düğmesine bir sonraki tooSpark Thrift sunucusunun tıklayın ve ardından **durdurmak**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-192">From hello list click hello drop-down button next tooSpark Thrift Server, and then click **Stop**.</span></span>

    ![Thrift sunucuyu yeniden başlatın](./media/hdinsight-apache-spark-resource-manager/restart-thrift-server-3.png)
5. <span data-ttu-id="9d40a-194">Diğer headnode de hello bu adımları yineleyin.</span><span class="sxs-lookup"><span data-stu-id="9d40a-194">Repeat these steps on hello other headnode as well.</span></span>

## <a name="my-jupyter-notebooks-are-not-running-as-expected-how-can-i-restart-hello-service"></a><span data-ttu-id="9d40a-195">My Jupyter not defterleri beklendiği gibi çalışmıyor.</span><span class="sxs-lookup"><span data-stu-id="9d40a-195">My Jupyter notebooks are not running as expected.</span></span> <span data-ttu-id="9d40a-196">Merhaba hizmetini nasıl yeniden başlatabilirsiniz?</span><span class="sxs-lookup"><span data-stu-id="9d40a-196">How can I restart hello service?</span></span>
<span data-ttu-id="9d40a-197">Merhaba Ambari Web kullanıcı Arabirimi, yukarıda gösterildiği gibi başlatın.</span><span class="sxs-lookup"><span data-stu-id="9d40a-197">Launch hello Ambari Web UI as shown above.</span></span> <span data-ttu-id="9d40a-198">Merhaba sol gezinti bölmesinden tıklatın **Jupyter**, tıklatın **hizmet eylemleri**ve ardından **yeniden tüm**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-198">From hello left navigation pane, click **Jupyter**, click **Service Actions**, and then click **Restart All**.</span></span> <span data-ttu-id="9d40a-199">Bu, tüm hello headnodes üzerinde hello Jupyter hizmetini başlatır.</span><span class="sxs-lookup"><span data-stu-id="9d40a-199">This will start hello Jupyter service on all hello headnodes.</span></span>

    ![Restart Jupyter](./media/hdinsight-apache-spark-resource-manager/restart-jupyter.png "Restart Jupyter")

## <a name="how-do-i-know-if-i-am-running-out-of-resources"></a><span data-ttu-id="9d40a-200">Kaynaklar yetersiz çalıştırdığım olmadığını nasıl anlayabilirim?</span><span class="sxs-lookup"><span data-stu-id="9d40a-200">How do I know if I am running out of resources?</span></span>
<span data-ttu-id="9d40a-201">Merhaba Yarn kullanıcı Arabiriminde, yukarıda gösterildiği gibi başlatın.</span><span class="sxs-lookup"><span data-stu-id="9d40a-201">Launch hello Yarn UI as shown above.</span></span> <span data-ttu-id="9d40a-202">Merhaba ekranında üstünde küme ölçümlerini tabloda değerlerini denetleyin **kullanılan bellek** ve **bellek toplam** sütun.</span><span class="sxs-lookup"><span data-stu-id="9d40a-202">In Cluster Metrics table on top of hello screen, check values of **Memory Used** and **Memory Total** columns.</span></span> <span data-ttu-id="9d40a-203">Merhaba 2 değerler çok yakın ise yeterli kaynakları toostart hello sonraki uygulama olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="9d40a-203">If hello 2 values are very close, there might not be enough resources toostart hello next application.</span></span> <span data-ttu-id="9d40a-204">Merhaba aynı toohello geçerlidir **VCores kullanılan** ve **VCores toplam** sütun.</span><span class="sxs-lookup"><span data-stu-id="9d40a-204">hello same applies toohello **VCores Used** and **VCores Total** columns.</span></span> <span data-ttu-id="9d40a-205">Varsa ayrıca hello ana görünümünde, bir uygulama içinde stayed **kabul edilen** durumu ve içine geçiş değil **çalıştıran** ya da **başarısız** durumunda, bu da olabilir bir göstergesi Bu BT yeterli kaynakları toostart alamıyorsanız.</span><span class="sxs-lookup"><span data-stu-id="9d40a-205">Also, in hello main view, if there is an application stayed in **ACCEPTED** state and not transitioning into **RUNNING** nor **FAILED** state, this could also be an indication that it is not getting enough resources toostart.</span></span>

    ![Resource Limit](./media/hdinsight-apache-spark-resource-manager/resource-limit.png "Resource Limit")

## <a name="how-do-i-kill-a-running-application-toofree-up-resource"></a><span data-ttu-id="9d40a-206">Ne ı KILL çalışan bir uygulama toofree kaynağını?</span><span class="sxs-lookup"><span data-stu-id="9d40a-206">How do I kill a running application toofree up resource?</span></span>
1. <span data-ttu-id="9d40a-207">Merhaba Yarn kullanıcı Arabiriminde, hello sol panelindeki tıklatın **çalıştıran**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-207">In hello Yarn UI, from hello left panel, click **Running**.</span></span> <span data-ttu-id="9d40a-208">Çalışan uygulamalar hello listeden hello uygulama toobe sonlandırıldı ve üzerinde hello tıklatın belirlemek **kimliği**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-208">From hello list of running applications, determine hello application toobe killed and click on hello **ID**.</span></span>

    <span data-ttu-id="9d40a-209">![App1 KILL](./media/hdinsight-apache-spark-resource-manager/kill-app1.png "KILL App1")</span><span class="sxs-lookup"><span data-stu-id="9d40a-209">![Kill App1](./media/hdinsight-apache-spark-resource-manager/kill-app1.png "Kill App1")</span></span>

2. <span data-ttu-id="9d40a-210">Tıklatın **KILL uygulama** hello üzerinde sağ üst köşesindeki, ardından **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="9d40a-210">Click **Kill Application** on hello top right corner, then click **OK**.</span></span>

    <span data-ttu-id="9d40a-211">![App2 KILL](./media/hdinsight-apache-spark-resource-manager/kill-app2.png "KILL App2")</span><span class="sxs-lookup"><span data-stu-id="9d40a-211">![Kill App2](./media/hdinsight-apache-spark-resource-manager/kill-app2.png "Kill App2")</span></span>

## <a name="see-also"></a><span data-ttu-id="9d40a-212">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="9d40a-212">See also</span></span>
* [<span data-ttu-id="9d40a-213">HDInsight’ta bir Apache Spark kümesinde çalışan işleri izleme ve hata ayıklama</span><span class="sxs-lookup"><span data-stu-id="9d40a-213">Track and debug jobs running on an Apache Spark cluster in HDInsight</span></span>](hdinsight-apache-spark-job-debugging.md)

### <a name="for-data-analysts"></a><span data-ttu-id="9d40a-214">Veri çözümleyiciler</span><span class="sxs-lookup"><span data-stu-id="9d40a-214">For data analysts</span></span>

* [<span data-ttu-id="9d40a-215">Machine Learning ile Spark: HVAC verilerini kullanarak bina sıcaklığını çözümlemek için HDInsight’ta Spark kullanma</span><span class="sxs-lookup"><span data-stu-id="9d40a-215">Spark with Machine Learning: Use Spark in HDInsight for analyzing building temperature using HVAC data</span></span>](hdinsight-apache-spark-ipython-notebook-machine-learning.md)
* [<span data-ttu-id="9d40a-216">Machine Learning ile Spark: Spark Hdınsight toopredict yemek İnceleme sonuçlarını içinde kullanma</span><span class="sxs-lookup"><span data-stu-id="9d40a-216">Spark with Machine Learning: Use Spark in HDInsight toopredict food inspection results</span></span>](hdinsight-apache-spark-machine-learning-mllib-ipython.md)
* [<span data-ttu-id="9d40a-217">HDInsight’ta Spark kullanarak Web sitesi günlüğü çözümlemesi</span><span class="sxs-lookup"><span data-stu-id="9d40a-217">Website log analysis using Spark in HDInsight</span></span>](hdinsight-apache-spark-custom-library-website-log-analysis.md)
* [<span data-ttu-id="9d40a-218">HDInsight’ta Spark kullanarak Application Insight telemetri verilerinin analizi</span><span class="sxs-lookup"><span data-stu-id="9d40a-218">Application Insight telemetry data analysis using Spark in HDInsight</span></span>](hdinsight-spark-analyze-application-insight-logs.md)
* [<span data-ttu-id="9d40a-219">Caffe Azure Hdınsight Spark üzerinde dağıtılmış derin learning için kullanın.</span><span class="sxs-lookup"><span data-stu-id="9d40a-219">Use Caffe on Azure HDInsight Spark for distributed deep learning</span></span>](hdinsight-deep-learning-caffe-spark.md)

### <a name="for-spark-developers"></a><span data-ttu-id="9d40a-220">Spark geliştiricileri için</span><span class="sxs-lookup"><span data-stu-id="9d40a-220">For Spark developers</span></span>

* [<span data-ttu-id="9d40a-221">Scala kullanarak tek başına uygulama oluşturma</span><span class="sxs-lookup"><span data-stu-id="9d40a-221">Create a standalone application using Scala</span></span>](hdinsight-apache-spark-create-standalone-application.md)
* [<span data-ttu-id="9d40a-222">Livy kullanarak Spark kümesinde işleri uzaktan çalıştırma</span><span class="sxs-lookup"><span data-stu-id="9d40a-222">Run jobs remotely on a Spark cluster using Livy</span></span>](hdinsight-apache-spark-livy-rest-interface.md)
* [<span data-ttu-id="9d40a-223">Intellij Idea toocreate için Hdınsight araçları eklentisi kullanma ve Spark Scala uygulamaları gönderin</span><span class="sxs-lookup"><span data-stu-id="9d40a-223">Use HDInsight Tools Plugin for IntelliJ IDEA toocreate and submit Spark Scala applications</span></span>](hdinsight-apache-spark-intellij-tool-plugin.md)
* [<span data-ttu-id="9d40a-224">Spark Akış: Gerçek zamanlı akış uygulamaları oluşturmak için HDInsight’ta Spark kullanma</span><span class="sxs-lookup"><span data-stu-id="9d40a-224">Spark Streaming: Use Spark in HDInsight for building real-time streaming applications</span></span>](hdinsight-apache-spark-eventhub-streaming.md)
* [<span data-ttu-id="9d40a-225">Uzaktan Intellij Idea toodebug Spark uygulamaları için Hdınsight araçları eklentisi kullanma</span><span class="sxs-lookup"><span data-stu-id="9d40a-225">Use HDInsight Tools Plugin for IntelliJ IDEA toodebug Spark applications remotely</span></span>](hdinsight-apache-spark-intellij-tool-plugin-debug-jobs-remotely.md)
* [<span data-ttu-id="9d40a-226">HDInsight’ta Spark kümesi ile Zeppelin not defterlerini kullanma</span><span class="sxs-lookup"><span data-stu-id="9d40a-226">Use Zeppelin notebooks with a Spark cluster on HDInsight</span></span>](hdinsight-apache-spark-zeppelin-notebook.md)
* [<span data-ttu-id="9d40a-227">HDInsight için Spark kümesinde Jupyter not defteri için kullanılabilir çekirdekler</span><span class="sxs-lookup"><span data-stu-id="9d40a-227">Kernels available for Jupyter notebook in Spark cluster for HDInsight</span></span>](hdinsight-apache-spark-jupyter-notebook-kernels.md)
* [<span data-ttu-id="9d40a-228">Jupyter not defterleri ile dış paketleri kullanma</span><span class="sxs-lookup"><span data-stu-id="9d40a-228">Use external packages with Jupyter notebooks</span></span>](hdinsight-apache-spark-jupyter-notebook-use-external-packages.md)
* [<span data-ttu-id="9d40a-229">Jupyter bilgisayarınıza yüklemek ve tooan Hdınsight Spark kümesi bağlanın</span><span class="sxs-lookup"><span data-stu-id="9d40a-229">Install Jupyter on your computer and connect tooan HDInsight Spark cluster</span></span>](hdinsight-apache-spark-jupyter-notebook-install-locally.md)
