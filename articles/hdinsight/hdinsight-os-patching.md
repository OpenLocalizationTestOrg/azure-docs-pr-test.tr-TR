---
title: "Linux tabanlı Hdınsight kümeleri - Azure zamanlama düzeltme eki uygulama işletim sistemi yapılandırma | Microsoft Docs"
description: "Linux tabanlı Hdınsight kümeleri için zamanlama düzeltme eki uygulama işletim sistemi yapılandırma konusunda bilgi edinin."
services: hdinsight
documentationcenter: 
author: bprakash
manager: asadk
editor: bprakash
ms.assetid: 
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 03/21/2017
ms.author: bhanupr
ms.openlocfilehash: af3c5a19ae8e2e606e4b0506f9f6dddb41192e40
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="os-patching-for-hdinsight"></a><span data-ttu-id="d21e2-103">İşletim sistemi Hdınsight için düzeltme eki uygulama</span><span class="sxs-lookup"><span data-stu-id="d21e2-103">OS patching for HDInsight</span></span> 
<span data-ttu-id="d21e2-104">Yönetilen bir Hadoop hizmet olarak Hdınsight Hdınsight kümeleri tarafından kullanılan temel VM'ler OS düzeltme eki uygulama mvc'deki.</span><span class="sxs-lookup"><span data-stu-id="d21e2-104">As a managed Hadoop service, HDInsight takes care of patching the OS of the underlying VMs used by HDInsight clusters.</span></span> <span data-ttu-id="d21e2-105">1 Ağustos 2016 itibariyle biz Linux tabanlı Hdınsight kümeleri (sürüm 3.4 veya büyük) için konuk işletim sistemi düzeltme eki uygulama ilkesi değişti.</span><span class="sxs-lookup"><span data-stu-id="d21e2-105">As of August 1, 2016, we have changed the guest OS patching policy for Linux-based HDInsight clusters (version 3.4 or greater).</span></span> <span data-ttu-id="d21e2-106">Düzeltme eki uygulama nedeniyle yeniden başlatma sayısını önemli ölçüde azaltmak için yeni ilke belirtilir.</span><span class="sxs-lookup"><span data-stu-id="d21e2-106">The goal of the new policy is to significantly reduce the number of reboots due to patching.</span></span> <span data-ttu-id="d21e2-107">Yeni ilke düzeltme eki sanal makineleri (VM'ler) Linux kümeleri her Pazartesi ya da verilmiş bir küme düğümleri arasında 00: 00 UTC aşamalı bir şekilde başlayarak Perşembe devam eder.</span><span class="sxs-lookup"><span data-stu-id="d21e2-107">The new policy will continue to patch virtual machines (VMs) on Linux clusters every Monday or Thursday starting at 12AM UTC in a staggered fashion across nodes in any given cluster.</span></span> <span data-ttu-id="d21e2-108">Ancak, belirli bir VM yalnızca en fazla 30 konuk işletim sistemi düzeltme eki uygulama nedeniyle günde bir kez yeniden başlatılır.</span><span class="sxs-lookup"><span data-stu-id="d21e2-108">However, any given VM will only reboot at most once every 30 days due to guest OS patching.</span></span> <span data-ttu-id="d21e2-109">Ayrıca, ilk yeniden başlatma yeni oluşturulan bir küme için küme oluşturma tarihten itibaren 30 gün daha erken yapılmaz.</span><span class="sxs-lookup"><span data-stu-id="d21e2-109">In addition, the first reboot for a newly created cluster will not happen sooner than 30 days from the cluster creation date.</span></span> <span data-ttu-id="d21e2-110">Sanal makineleri yeniden sonra düzeltme eklerini etkili olacaktır.</span><span class="sxs-lookup"><span data-stu-id="d21e2-110">Patches will be effective once the VMs are rebooted.</span></span>

## <a name="how-to-configure-the-os-patching-schedule-for-linux-based-hdinsight-clusters"></a><span data-ttu-id="d21e2-111">Linux tabanlı Hdınsight kümeleri için zamanlama düzeltme eki uygulama işletim sistemi yapılandırma</span><span class="sxs-lookup"><span data-stu-id="d21e2-111">How to configure the OS patching schedule for Linux-based HDInsight clusters</span></span>
<span data-ttu-id="d21e2-112">Hdınsight kümesi'nde sanal makinelerin önemli güvenlik düzeltme ekleri yüklenmemiş böylece bazen yeniden başlatılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="d21e2-112">The virtual machines in an HDInsight cluster need to be rebooted occasionally so that important security patches can be installed.</span></span> <span data-ttu-id="d21e2-113">1 Ağustos 2016 itibariyle yeni Linux tabanlı Hdınsight kümeleri (sürüm 3.4 veya daha büyük) yeniden şu zamanlamaya kullanarak:</span><span class="sxs-lookup"><span data-stu-id="d21e2-113">As of August 1, 2016, new Linux-based HDInsight clusters (version 3.4 or greater,) are rebooted using the following schedule:</span></span>

1. <span data-ttu-id="d21e2-114">Küme içindeki bir sanal makine yalnızca düzeltme ekleri için en fazla bir kez bir 30 günlük süre içinde yeniden başlatabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d21e2-114">A virtual machine in the cluster can only reboot for patches at most, once within a 30-day period.</span></span>
2. <span data-ttu-id="d21e2-115">00: 00 UTC başlayarak yeniden başlatma gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="d21e2-115">The reboot occurs starting at 12AM UTC.</span></span>
3. <span data-ttu-id="d21e2-116">Küme yeniden başlatma işlemi sırasında hala kullanılabilir olacak şekilde yeniden başlatma işlemi kümedeki sanal makineler arasında aşamalı.</span><span class="sxs-lookup"><span data-stu-id="d21e2-116">The reboot process is staggered across virtual machines in the cluster, so the cluster is still available during the reboot process.</span></span>
4. <span data-ttu-id="d21e2-117">İlk yeniden başlatma yeni oluşturulan bir küme için küme oluşturulma tarihinden sonra 30 günden daha erken yapılmaz.</span><span class="sxs-lookup"><span data-stu-id="d21e2-117">The first reboot for a newly created cluster will not happen sooner than 30 days after the cluster creation date.</span></span>

<span data-ttu-id="d21e2-118">Bu makalede açıklanan betik eylemi kullanarak, aşağıdaki gibi zamanlama düzeltme eki uygulama işletim sistemi değiştirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="d21e2-118">Using the script action described in this article, you can modify the OS patching schedule as follows:</span></span>
1. <span data-ttu-id="d21e2-119">Etkinleştirmek veya devre dışı otomatik yeniden başlatma</span><span class="sxs-lookup"><span data-stu-id="d21e2-119">Enable or disable automatic reboots</span></span>
2. <span data-ttu-id="d21e2-120">Kümesi sıklığı (gün yeniden başlatmalar arasında) yeniden başlatır</span><span class="sxs-lookup"><span data-stu-id="d21e2-120">Set the frequency of reboots (days between reboots)</span></span>
3. <span data-ttu-id="d21e2-121">Yeniden başlatma oluştuğunda haftanın gününü ayarlama</span><span class="sxs-lookup"><span data-stu-id="d21e2-121">Set the day of the week when a reboot occurs</span></span>

> [!NOTE]
> <span data-ttu-id="d21e2-122">Bu betik eylemi yalnızca 1 Ağustos 2016'dan sonra oluşturulan Linux tabanlı Hdınsight kümeleri ile çalışır.</span><span class="sxs-lookup"><span data-stu-id="d21e2-122">This script action will only work with Linux-based HDInsight clusters created after August 1st, 2016.</span></span> <span data-ttu-id="d21e2-123">Yalnızca sanal makineleri yeniden, düzeltme ekleri etkili olur.</span><span class="sxs-lookup"><span data-stu-id="d21e2-123">Patches will be effective only when VMs are rebooted.</span></span> 
>

## <a name="how-to-use-the-script"></a><span data-ttu-id="d21e2-124">Komut dosyası kullanma</span><span class="sxs-lookup"><span data-stu-id="d21e2-124">How to use the script</span></span> 

<span data-ttu-id="d21e2-125">Ne zaman bu komut dosyasını kullanarak, aşağıdaki bilgileri gerektirir:</span><span class="sxs-lookup"><span data-stu-id="d21e2-125">When using this script requires the following information:</span></span>
1. <span data-ttu-id="d21e2-126">Komut dosyası konumu: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.</span><span class="sxs-lookup"><span data-stu-id="d21e2-126">The script location: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.</span></span>
    <span data-ttu-id="d21e2-127">Hdınsight bu URI bulmak ve kümedeki tüm sanal makinelerde komut dosyasını çalıştırmak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="d21e2-127">HDInsight uses this URI to find and run the script on all the virtual machines in the cluster.</span></span>
  
2. <span data-ttu-id="d21e2-128">Komut dosyası uygulandığı Küme düğüm türleri: headnode, workernode, zookeeper.</span><span class="sxs-lookup"><span data-stu-id="d21e2-128">The cluster node types that the script is applied to: headnode, workernode, zookeeper.</span></span> <span data-ttu-id="d21e2-129">Bu komut, kümedeki tüm düğüm türleri uygulanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="d21e2-129">This script must be applied to all node types in the cluster.</span></span> <span data-ttu-id="d21e2-130">Bir düğüm türü uygulanmamış durumunda, bu düğüm türü için sanal makineleri önceki düzeltme eki uygulama zamanlamayı kullan devam eder.</span><span class="sxs-lookup"><span data-stu-id="d21e2-130">If it is not applied to a node type, then the virtual machines for that node type will continue to use the previous patching schedule.</span></span>


3.  <span data-ttu-id="d21e2-131">Parametre: Bu komut dosyasını üç sayısal parametreleri kabul eder:</span><span class="sxs-lookup"><span data-stu-id="d21e2-131">Parameter: This script accepts three numeric parameters:</span></span>

    | <span data-ttu-id="d21e2-132">Parametre</span><span class="sxs-lookup"><span data-stu-id="d21e2-132">Parameter</span></span> | <span data-ttu-id="d21e2-133">Tanım</span><span class="sxs-lookup"><span data-stu-id="d21e2-133">Definition</span></span> |
    | --- | --- |
    | <span data-ttu-id="d21e2-134">Otomatik yeniden başlatmalar etkinleştir/devre dışı bırak</span><span class="sxs-lookup"><span data-stu-id="d21e2-134">Enable/disable automatic reboots</span></span> |<span data-ttu-id="d21e2-135">0 veya 1.</span><span class="sxs-lookup"><span data-stu-id="d21e2-135">0 or 1.</span></span> <span data-ttu-id="d21e2-136">Otomatik yeniden başlatmalar 1 olanak sağlarken otomatik yeniden başlatmalar 0 değerini devre dışı bırakır.</span><span class="sxs-lookup"><span data-stu-id="d21e2-136">A value of 0 disables automatic reboots while 1 enables automatic reboots.</span></span> |
    | <span data-ttu-id="d21e2-137">Sıklık</span><span class="sxs-lookup"><span data-stu-id="d21e2-137">Frequency</span></span> |<span data-ttu-id="d21e2-138">7-90 (dahil).</span><span class="sxs-lookup"><span data-stu-id="d21e2-138">7 to 90 (inclusive).</span></span> <span data-ttu-id="d21e2-139">Sanal makineler için yeniden başlatılması düzeltme ekleri yeniden başlatmadan önce beklenecek gün sayısı.</span><span class="sxs-lookup"><span data-stu-id="d21e2-139">The number of days to wait before rebooting the virtual machines for patches that require a reboot.</span></span> |
    | <span data-ttu-id="d21e2-140">Haftanın günü</span><span class="sxs-lookup"><span data-stu-id="d21e2-140">Day of week</span></span> |<span data-ttu-id="d21e2-141">1 ile 7 (dahil).</span><span class="sxs-lookup"><span data-stu-id="d21e2-141">1 to 7 (inclusive).</span></span> <span data-ttu-id="d21e2-142">1 değeri, yeniden başlatma Pazartesi günü gerçekleşeceğini, 7 parametrelerini kullanarak bir Sunday.For örnek belirtir 1 60 2 sonuçları otomatik olarak yeniden başlatılır 60 günde (en çok) Salı günü.</span><span class="sxs-lookup"><span data-stu-id="d21e2-142">A value of 1 indicates the reboot should occur on a Monday, and 7 indicates a Sunday.For example, using parameters of 1 60 2 results in automatic reboots every 60 days (at most) on Tuesday.</span></span> |
    | <span data-ttu-id="d21e2-143">Kalıcılığı</span><span class="sxs-lookup"><span data-stu-id="d21e2-143">Persistence</span></span> |<span data-ttu-id="d21e2-144">Betik eylemi varolan bir kümeye uygularken, komut dosyasını kalıcı olarak işaretleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d21e2-144">When applying a script action to an existing cluster, you can mark the script as persisted.</span></span> <span data-ttu-id="d21e2-145">Yeni workernodes işlemleri ölçeklendirme aracılığıyla kümeye eklendiğinde kalıcı betikleri uygulanır.</span><span class="sxs-lookup"><span data-stu-id="d21e2-145">Persisted scripts are applied when new workernodes are added to the cluster through scaling operations.</span></span> |

> [!NOTE]
> <span data-ttu-id="d21e2-146">Bu komut dosyasını varolan bir kümeye uygularken kalıcı olarak işaretlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d21e2-146">You must mark this script as persisted when applying to an existing cluster.</span></span> <span data-ttu-id="d21e2-147">Aksi takdirde, ölçeklendirme işlemleri aracılığıyla oluşturulan tüm yeni düğümler zamanlama düzeltme eki uygulama varsayılan kullanır.</span><span class="sxs-lookup"><span data-stu-id="d21e2-147">Otherwise, any new nodes created through scaling      operations will use the default patching schedule.</span></span>
<span data-ttu-id="d21e2-148">Küme oluşturma işleminin bir parçası olarak komut dosyası uygularsanız, otomatik olarak kalıcıdır.</span><span class="sxs-lookup"><span data-stu-id="d21e2-148">If you apply the script as part of the cluster creation process, it is persisted automatically.</span></span>
>

## <a name="next-steps"></a><span data-ttu-id="d21e2-149">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="d21e2-149">Next steps</span></span>

<span data-ttu-id="d21e2-150">Betik eylemi kullanarak belirli adımlar görmek için aşağıdaki bölümlerde [özelleştirme Linuz tabanlı Hdınsight kümeleri betik eylemi kullanarak](hdinsight-hadoop-customize-cluster-linux.md):</span><span class="sxs-lookup"><span data-stu-id="d21e2-150">For specific steps on using the script action, see the following sections in the [Customize Linuz-based HDInsight clusters using script action](hdinsight-hadoop-customize-cluster-linux.md):</span></span>

* [<span data-ttu-id="d21e2-151">Küme oluşturma sırasında bir betik eylemi kullanın</span><span class="sxs-lookup"><span data-stu-id="d21e2-151">Use a script action during cluster creation</span></span>](hdinsight-hadoop-customize-cluster-linux.md#use-a-script-action-during-cluster-creation)
* [<span data-ttu-id="d21e2-152">Betik eylemi çalıştıran bir kümeye uygulama</span><span class="sxs-lookup"><span data-stu-id="d21e2-152">Apply a script action to a running cluster</span></span>](hdinsight-hadoop-customize-cluster-linux.md#apply-a-script-action-to-a-running-cluster)
