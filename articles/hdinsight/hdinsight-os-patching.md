---
title: "Linux tabanlı Hdınsight kümeleri - Azure aaaConfigure OS düzeltme eki uygulama zamanlama | Microsoft Docs"
description: "Nasıl tooconfigure OS düzeltme eki uygulama zamanlamasını Linux tabanlı Hdınsight kümeleri hakkında bilgi edinin."
services: hdinsight
documentationcenter: 
author: bprakash
manager: asadk
editor: bprakash
ms.assetid: 
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 03/21/2017
ms.author: bhanupr
ms.openlocfilehash: 1598d64e594d7e8a68573fc63dd86051a5a9d025
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="os-patching-for-hdinsight"></a><span data-ttu-id="d4f8c-103">İşletim sistemi Hdınsight için düzeltme eki uygulama</span><span class="sxs-lookup"><span data-stu-id="d4f8c-103">OS patching for HDInsight</span></span> 
<span data-ttu-id="d4f8c-104">Yönetilen bir Hadoop hizmet olarak Hdınsight hello işletim sistemi temel VM'ler Hdınsight kümeleri tarafından kullanılan Merhaba, düzeltme eki uygulama mvc'deki.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-104">As a managed Hadoop service, HDInsight takes care of patching hello OS of hello underlying VMs used by HDInsight clusters.</span></span> <span data-ttu-id="d4f8c-105">1 Ağustos 2016 itibariyle biz hello konuk işletim sistemi düzeltme eki uygulama ilkesi Linux tabanlı Hdınsight kümeleri (sürüm 3.4 veya büyük) için değiştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-105">As of August 1, 2016, we have changed hello guest OS patching policy for Linux-based HDInsight clusters (version 3.4 or greater).</span></span> <span data-ttu-id="d4f8c-106">Merhaba hello yeni ilke hedefidir toosignificantly yeniden başlatmalar hello sayısını azaltın son toopatching.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-106">hello goal of hello new policy is toosignificantly reduce hello number of reboots due toopatching.</span></span> <span data-ttu-id="d4f8c-107">Merhaba yeni ilke toopatch sanal makinelerde (VM'ler) Linux kümeleri her Pazartesi ya da verilmiş bir küme düğümleri arasında 00: 00 UTC aşamalı bir şekilde başlayarak Perşembe devam eder.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-107">hello new policy will continue toopatch virtual machines (VMs) on Linux clusters every Monday or Thursday starting at 12AM UTC in a staggered fashion across nodes in any given cluster.</span></span> <span data-ttu-id="d4f8c-108">Ancak, belirli bir VM yalnızca en fazla 30 tooguest OS düzeltme eki uygulama son günde bir kez yeniden başlatılır.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-108">However, any given VM will only reboot at most once every 30 days due tooguest OS patching.</span></span> <span data-ttu-id="d4f8c-109">Ayrıca, yeni oluşturulan bir küme için hello ilk yeniden başlatma hello küme oluşturma tarihten itibaren 30 gün daha erken yapılmaz.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-109">In addition, hello first reboot for a newly created cluster will not happen sooner than 30 days from hello cluster creation date.</span></span> <span data-ttu-id="d4f8c-110">Merhaba VM'ler yeniden sonra düzeltme eklerini etkili olacaktır.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-110">Patches will be effective once hello VMs are rebooted.</span></span>

## <a name="how-tooconfigure-hello-os-patching-schedule-for-linux-based-hdinsight-clusters"></a><span data-ttu-id="d4f8c-111">Nasıl tooconfigure hello Linux tabanlı Hdınsight kümeleri için işletim sistemi düzeltme eki uygulama zamanlama</span><span class="sxs-lookup"><span data-stu-id="d4f8c-111">How tooconfigure hello OS patching schedule for Linux-based HDInsight clusters</span></span>
<span data-ttu-id="d4f8c-112">Hdınsight kümesi Hello sanal makineniz önemli güvenlik düzeltme ekleri yüklenmemiş böylece bazen yeniden toobe olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-112">hello virtual machines in an HDInsight cluster need toobe rebooted occasionally so that important security patches can be installed.</span></span> <span data-ttu-id="d4f8c-113">1 Ağustos 2016 itibariyle yeni Linux tabanlı Hdınsight kümeleri (sürüm 3.4 veya daha büyük) yeniden zamanlama uyarınca hello kullanarak:</span><span class="sxs-lookup"><span data-stu-id="d4f8c-113">As of August 1, 2016, new Linux-based HDInsight clusters (version 3.4 or greater,) are rebooted using hello following schedule:</span></span>

1. <span data-ttu-id="d4f8c-114">Merhaba kümesindeki bir sanal makine yalnızca düzeltme ekleri için en fazla bir kez bir 30 günlük süre içinde yeniden başlatabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-114">A virtual machine in hello cluster can only reboot for patches at most, once within a 30-day period.</span></span>
2. <span data-ttu-id="d4f8c-115">00: 00 UTC başlayarak Hello yeniden başlatma gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-115">hello reboot occurs starting at 12AM UTC.</span></span>
3. <span data-ttu-id="d4f8c-116">Merhaba küme hello yeniden başlatma işlemi sırasında hala kullanılabilir olacak şekilde hello kümedeki sanal makineler arasında hello yeniden başlatma işlemi aşamalı.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-116">hello reboot process is staggered across virtual machines in hello cluster, so hello cluster is still available during hello reboot process.</span></span>
4. <span data-ttu-id="d4f8c-117">Yeni oluşturulan bir küme için Hello ilk yeniden başlatma hello küme oluşturma tarihinden sonra 30 günden daha erken yapılmaz.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-117">hello first reboot for a newly created cluster will not happen sooner than 30 days after hello cluster creation date.</span></span>

<span data-ttu-id="d4f8c-118">Bu makalede açıklanan hello betik eylemi kullanarak, hello OS düzeltme eki uygulama zamanlamasını aşağıdaki gibi değiştirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="d4f8c-118">Using hello script action described in this article, you can modify hello OS patching schedule as follows:</span></span>
1. <span data-ttu-id="d4f8c-119">Etkinleştirmek veya devre dışı otomatik yeniden başlatma</span><span class="sxs-lookup"><span data-stu-id="d4f8c-119">Enable or disable automatic reboots</span></span>
2. <span data-ttu-id="d4f8c-120">Set hello sıklığı (gün yeniden başlatmalar arasında) yeniden başlatır</span><span class="sxs-lookup"><span data-stu-id="d4f8c-120">Set hello frequency of reboots (days between reboots)</span></span>
3. <span data-ttu-id="d4f8c-121">Merhaba haftanın günü için yeniden başlatma oluştuğunda hello ayarlayın</span><span class="sxs-lookup"><span data-stu-id="d4f8c-121">Set hello day of hello week when a reboot occurs</span></span>

> [!NOTE]
> <span data-ttu-id="d4f8c-122">Bu betik eylemi yalnızca 1 Ağustos 2016'dan sonra oluşturulan Linux tabanlı Hdınsight kümeleri ile çalışır.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-122">This script action will only work with Linux-based HDInsight clusters created after August 1st, 2016.</span></span> <span data-ttu-id="d4f8c-123">Yalnızca sanal makineleri yeniden, düzeltme ekleri etkili olur.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-123">Patches will be effective only when VMs are rebooted.</span></span> 
>

## <a name="how-toouse-hello-script"></a><span data-ttu-id="d4f8c-124">Nasıl toouse hello komut dosyası</span><span class="sxs-lookup"><span data-stu-id="d4f8c-124">How toouse hello script</span></span> 

<span data-ttu-id="d4f8c-125">Ne zaman bu komut dosyasını kullanarak aşağıdaki bilgilerle hello gerektirir:</span><span class="sxs-lookup"><span data-stu-id="d4f8c-125">When using this script requires hello following information:</span></span>
1. <span data-ttu-id="d4f8c-126">Merhaba komut dosyası konumu: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  Hdınsight bu URI toofind kullanır ve hello kümedeki tüm hello sanal makinelerde hello komut dosyasını çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-126">hello script location: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  HDInsight uses this URI toofind and run hello script on all hello virtual machines in hello cluster.</span></span>
  
2. <span data-ttu-id="d4f8c-127">Merhaba hello betik uygulandığı Küme düğüm türleri: headnode, workernode, zookeeper.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-127">hello cluster node types that hello script is applied to: headnode, workernode, zookeeper.</span></span> <span data-ttu-id="d4f8c-128">Bu komut dosyası uygulanan tooall düğüm türleri hello kümedeki olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-128">This script must be applied tooall node types in hello cluster.</span></span> <span data-ttu-id="d4f8c-129">Uygulanan tooa düğüm türü sonra hello sanal değilse bu düğüm türü için makineler toouse hello önceki düzeltme eki uygulama zamanlama devam eder.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-129">If it is not applied tooa node type, then hello virtual machines for that node type will continue toouse hello previous patching schedule.</span></span>


3.  <span data-ttu-id="d4f8c-130">Parametre: Bu komut dosyasını üç sayısal parametreleri kabul eder:</span><span class="sxs-lookup"><span data-stu-id="d4f8c-130">Parameter: This script accepts three numeric parameters:</span></span>

    | <span data-ttu-id="d4f8c-131">Parametre</span><span class="sxs-lookup"><span data-stu-id="d4f8c-131">Parameter</span></span> | <span data-ttu-id="d4f8c-132">Tanım</span><span class="sxs-lookup"><span data-stu-id="d4f8c-132">Definition</span></span> |
    | --- | --- |
    | <span data-ttu-id="d4f8c-133">Otomatik yeniden başlatmalar etkinleştir/devre dışı bırak</span><span class="sxs-lookup"><span data-stu-id="d4f8c-133">Enable/disable automatic reboots</span></span> |<span data-ttu-id="d4f8c-134">0 veya 1.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-134">0 or 1.</span></span> <span data-ttu-id="d4f8c-135">Otomatik yeniden başlatmalar 1 olanak sağlarken otomatik yeniden başlatmalar 0 değerini devre dışı bırakır.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-135">A value of 0 disables automatic reboots while 1 enables automatic reboots.</span></span> |
    | <span data-ttu-id="d4f8c-136">Sıklık</span><span class="sxs-lookup"><span data-stu-id="d4f8c-136">Frequency</span></span> |<span data-ttu-id="d4f8c-137">7 too90 (dahil).</span><span class="sxs-lookup"><span data-stu-id="d4f8c-137">7 too90 (inclusive).</span></span> <span data-ttu-id="d4f8c-138">Merhaba sanal makineleri yeniden başlatılması düzeltme ekleri için yeniden başlatmadan önce gün toowait Hello sayısı.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-138">hello number of days toowait before rebooting hello virtual machines for patches that require a reboot.</span></span> |
    | <span data-ttu-id="d4f8c-139">Haftanın günü</span><span class="sxs-lookup"><span data-stu-id="d4f8c-139">Day of week</span></span> |<span data-ttu-id="d4f8c-140">1 too7 (dahil).</span><span class="sxs-lookup"><span data-stu-id="d4f8c-140">1 too7 (inclusive).</span></span> <span data-ttu-id="d4f8c-141">1 değeri hello yeniden başlatma, Pazartesi günü gerçekleşmelidir, 7 parametrelerini kullanarak bir Sunday.For örnek belirtir 1 60 2 sonuçları otomatik olarak yeniden başlatılır 60 günde (en çok) Salı günü.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-141">A value of 1 indicates hello reboot should occur on a Monday, and 7 indicates a Sunday.For example, using parameters of 1 60 2 results in automatic reboots every 60 days (at most) on Tuesday.</span></span> |
    | <span data-ttu-id="d4f8c-142">Kalıcılığı</span><span class="sxs-lookup"><span data-stu-id="d4f8c-142">Persistence</span></span> |<span data-ttu-id="d4f8c-143">Bir komut dosyası eylemi tooan var olan küme uygularken hello betik kalıcı olarak işaretleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-143">When applying a script action tooan existing cluster, you can mark hello script as persisted.</span></span> <span data-ttu-id="d4f8c-144">Yeni workernodes toohello küme işlemleri ölçeklendirme aracılığıyla eklenen kalıcı betikleri uygulanır.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-144">Persisted scripts are applied when new workernodes are added toohello cluster through scaling operations.</span></span> |

> [!NOTE]
> <span data-ttu-id="d4f8c-145">Bu komut dosyası tooan var olan küme uygularken kalıcı olarak işaretlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-145">You must mark this script as persisted when applying tooan existing cluster.</span></span> <span data-ttu-id="d4f8c-146">Aksi takdirde, işlemleri ölçeklendirme aracılığıyla oluşturulan tüm yeni düğümler hello varsayılan zamanlama düzeltme eki uygulama kullanır.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-146">Otherwise, any new nodes created through scaling      operations will use hello default patching schedule.</span></span>
<span data-ttu-id="d4f8c-147">Merhaba küme oluşturma işleminin bir parçası olarak hello betik uygularsanız, otomatik olarak kalıcıdır.</span><span class="sxs-lookup"><span data-stu-id="d4f8c-147">If you apply hello script as part of hello cluster creation process, it is persisted automatically.</span></span>
>

## <a name="next-steps"></a><span data-ttu-id="d4f8c-148">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="d4f8c-148">Next steps</span></span>

<span data-ttu-id="d4f8c-149">Merhaba betik eylemi kullanarak hakkında belirli adımlar için bkz hello bölümlerde aşağıdaki hello [özelleştirme Linuz tabanlı Hdınsight kümeleri betik eylemi kullanarak](hdinsight-hadoop-customize-cluster-linux.md):</span><span class="sxs-lookup"><span data-stu-id="d4f8c-149">For specific steps on using hello script action, see hello following sections in hello [Customize Linuz-based HDInsight clusters using script action](hdinsight-hadoop-customize-cluster-linux.md):</span></span>

* [<span data-ttu-id="d4f8c-150">Küme oluşturma sırasında bir betik eylemi kullanın</span><span class="sxs-lookup"><span data-stu-id="d4f8c-150">Use a script action during cluster creation</span></span>](hdinsight-hadoop-customize-cluster-linux.md#use-a-script-action-during-cluster-creation)
* [<span data-ttu-id="d4f8c-151">Küme çalışan bir komut dosyası eylemi tooa Uygula</span><span class="sxs-lookup"><span data-stu-id="d4f8c-151">Apply a script action tooa running cluster</span></span>](hdinsight-hadoop-customize-cluster-linux.md#apply-a-script-action-to-a-running-cluster)
