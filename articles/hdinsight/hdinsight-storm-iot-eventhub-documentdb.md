---
title: "Hdınsight üzerinde Apache Storm ile aaaProcess araç algılayıcı verilerini | Microsoft Docs"
description: "Bilgi nasıl tooprocess araç algılayıcı verileri olay hub'ın Hdınsight üzerinde Apache Storm kullanma. Model verileri Azure Cosmos DB'den ekleyin ve çıktı toostorage depolar."
services: hdinsight,documentdb,notification-hubs
documentationcenter: 
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: 78980635-8bef-4c33-96c3-fae50e932e31
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: java
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/03/2017
ms.author: larryfr
ms.openlocfilehash: 8f7b1dbb9072e095ea32160bb731bedd071288af
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="process-vehicle-sensor-data-from-azure-event-hubs-using-apache-storm-on-hdinsight"></a><span data-ttu-id="dc333-104">Hdınsight üzerinde Apache Storm kullanan Azure Event Hubs araç algılayıcı verilerini işlemek</span><span class="sxs-lookup"><span data-stu-id="dc333-104">Process vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight</span></span>

<span data-ttu-id="dc333-105">Bilgi nasıl Hdınsight üzerinde Apache Storm kullanan Azure Event Hubs tooprocess araç algılayıcı verilerini.</span><span class="sxs-lookup"><span data-stu-id="dc333-105">Learn how tooprocess vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight.</span></span> <span data-ttu-id="dc333-106">Bu örnek, Azure Event Hubs'tan gelen algılayıcı verilerini okur, Azure Cosmos DB içinde depolanan verileri başvurarak hello veri aşağıdakilere zenginleştirir.</span><span class="sxs-lookup"><span data-stu-id="dc333-106">This example reads sensor data from Azure Event Hubs, enriches hello data by referencing data stored in Azure Cosmos DB.</span></span> <span data-ttu-id="dc333-107">Merhaba veri hello Hadoop dosya sistemi (HDFS) kullanarak Azure depolama alanına depolanır.</span><span class="sxs-lookup"><span data-stu-id="dc333-107">hello data is stored into Azure Storage using hello Hadoop File System (HDFS).</span></span>

![Hdınsight ve hello nesnelerin interneti (IOT) mimarisi diyagramı](./media/hdinsight-storm-iot-eventhub-documentdb/iot.png)

## <a name="overview"></a><span data-ttu-id="dc333-109">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="dc333-109">Overview</span></span>

<span data-ttu-id="dc333-110">Algılayıcılar toovehicles ekleme geçmiş verileri eğilimler temelinde toopredict donanım sorunları sağlar.</span><span class="sxs-lookup"><span data-stu-id="dc333-110">Adding sensors toovehicles allows you toopredict equipment problems based on historical data trends.</span></span> <span data-ttu-id="dc333-111">Ayrıca, toomake geliştirmeleri kullanım deseni analize dayalı toofuture sürümleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="dc333-111">It also allows you toomake improvements toofuture versions based on usage pattern analysis.</span></span> <span data-ttu-id="dc333-112">Mümkün tooquickly olması ve MapReduce işleme oluşabilmesi için öncelikle hello verileri Hadoop tüm araçlar verimli bir şekilde yükleyin.</span><span class="sxs-lookup"><span data-stu-id="dc333-112">You must be able tooquickly and efficiently load hello data from all vehicles into Hadoop before MapReduce processing can occur.</span></span> <span data-ttu-id="dc333-113">Ayrıca, gerçek zamanlı olarak kritik hata yolları (altyapısı sıcaklık, Frenler, vb.) toodo analize isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="dc333-113">Additionally, you may wish toodo analysis for critical failure paths (engine temperature, brakes, etc.) in real time.</span></span>

<span data-ttu-id="dc333-114">Azure Event Hubs toohandle hello yoğun algılayıcılar tarafından üretilen verilerin hacmi yerleşik olarak bulunur.</span><span class="sxs-lookup"><span data-stu-id="dc333-114">Azure Event Hubs is built toohandle hello massive volume of data generated by sensors.</span></span> <span data-ttu-id="dc333-115">Apache Storm kullanılan tooload ve işlem hello verileri HDFS depolamadan önce olabilir.</span><span class="sxs-lookup"><span data-stu-id="dc333-115">Apache Storm can be used tooload and process hello data before storing it into HDFS.</span></span>

## <a name="solution"></a><span data-ttu-id="dc333-116">Çözüm</span><span class="sxs-lookup"><span data-stu-id="dc333-116">Solution</span></span>

<span data-ttu-id="dc333-117">Telemetri verileri altyapısı sıcaklık, ortam sıcaklık ve araç hızı algılayıcılar tarafından kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="dc333-117">Telemetry data for engine temperature, ambient temperature, and vehicle speed is recorded by sensors.</span></span> <span data-ttu-id="dc333-118">Veri tooEvent hub hello otomobilin araç kimlik numarası (Toplamıdır) ve zaman damgası ile birlikte gönderilir.</span><span class="sxs-lookup"><span data-stu-id="dc333-118">Data is then sent tooEvent Hubs along with hello car's Vehicle Identification Number (VIN) and a time stamp.</span></span> <span data-ttu-id="dc333-119">Buradan, Apache Storm Hdınsight kümesi üzerinde çalışan Storm topolojisini hello verileri okur, işler ve HDFS depolar.</span><span class="sxs-lookup"><span data-stu-id="dc333-119">From there, a Storm Topology running on an Apache Storm on HDInsight cluster reads hello data, processes it, and stores it into HDFS.</span></span>

<span data-ttu-id="dc333-120">İşleme sırasında kullanılan tooretrieve modelle Cosmos DB'den hello Toplamıdır var.</span><span class="sxs-lookup"><span data-stu-id="dc333-120">During processing, hello VIN is used tooretrieve model information from Cosmos DB.</span></span> <span data-ttu-id="dc333-121">Bu verilerin depolandığı önce toohello veri akışı eklenir.</span><span class="sxs-lookup"><span data-stu-id="dc333-121">This data is added toohello data stream before it is stored.</span></span>

<span data-ttu-id="dc333-122">Merhaba Storm topolojisini kullanılan hello bileşenleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="dc333-122">hello components used in hello Storm Topology are:</span></span>

* <span data-ttu-id="dc333-123">**EventHubSpout** -Azure Event Hubs'tan gelen verileri okur</span><span class="sxs-lookup"><span data-stu-id="dc333-123">**EventHubSpout** - reads data from Azure Event Hubs</span></span>
* <span data-ttu-id="dc333-124">**TypeConversionBolt** -hello algılayıcı verilerini aşağıdaki hello içeren bir tanımlama grubu Event hubs'dan JSON dizeye dönüştürür:</span><span class="sxs-lookup"><span data-stu-id="dc333-124">**TypeConversionBolt** - converts hello JSON string from Event Hubs into a tuple containing hello following sensor data:</span></span>
    * <span data-ttu-id="dc333-125">Altyapısı sıcaklık</span><span class="sxs-lookup"><span data-stu-id="dc333-125">Engine temperature</span></span>
    * <span data-ttu-id="dc333-126">Ortam sıcaklık</span><span class="sxs-lookup"><span data-stu-id="dc333-126">Ambient temperature</span></span>
    * <span data-ttu-id="dc333-127">Hız</span><span class="sxs-lookup"><span data-stu-id="dc333-127">Speed</span></span>
    * <span data-ttu-id="dc333-128">TOPLAMIDIR</span><span class="sxs-lookup"><span data-stu-id="dc333-128">VIN</span></span>
    * <span data-ttu-id="dc333-129">zaman damgası</span><span class="sxs-lookup"><span data-stu-id="dc333-129">Timestamp</span></span>
* <span data-ttu-id="dc333-130">**DataReferencBolt** -Cosmos hello Toplamıdır kullanarak DB'den hello araç modelini arar</span><span class="sxs-lookup"><span data-stu-id="dc333-130">**DataReferencBolt** - looks up hello vehicle model from Cosmos DB using hello VIN</span></span>
* <span data-ttu-id="dc333-131">**WasbStoreBolt** -depoları hello veri tooHDFS (Azure depolama)</span><span class="sxs-lookup"><span data-stu-id="dc333-131">**WasbStoreBolt** - stores hello data tooHDFS (Azure Storage)</span></span>

<span data-ttu-id="dc333-132">Görüntü aşağıdaki hello Bu çözüm diyagramı şöyledir:</span><span class="sxs-lookup"><span data-stu-id="dc333-132">hello following image is a diagram of this solution:</span></span>

![Storm topolojisi](./media/hdinsight-storm-iot-eventhub-documentdb/iottopology.png)

## <a name="implementation"></a><span data-ttu-id="dc333-134">Uygulama</span><span class="sxs-lookup"><span data-stu-id="dc333-134">Implementation</span></span>

<span data-ttu-id="dc333-135">Tam, otomatik çözüm bu senaryo için hello bir parçası olarak [Hdınsight Storm örnekler](https://github.com/hdinsight/hdinsight-storm-examples) github'daki.</span><span class="sxs-lookup"><span data-stu-id="dc333-135">A complete, automated solution for this scenario is available as part of hello [HDInsight-Storm-Examples](https://github.com/hdinsight/hdinsight-storm-examples) repository on GitHub.</span></span> <span data-ttu-id="dc333-136">toouse Bu örnekte, hello adımları hello içinde [IoTExample Benioku. MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span><span class="sxs-lookup"><span data-stu-id="dc333-136">toouse this example, follow hello steps in hello [IoTExample README.MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="dc333-137">Sonraki Adımlar</span><span class="sxs-lookup"><span data-stu-id="dc333-137">Next Steps</span></span>

<span data-ttu-id="dc333-138">Daha fazla örnek Storm Topolojileri için bkz: [Hdınsight üzerinde Storm için örnek topolojiler](hdinsight-storm-example-topology.md).</span><span class="sxs-lookup"><span data-stu-id="dc333-138">For more example Storm topologies, see [Example topologies for Storm on HDInsight](hdinsight-storm-example-topology.md).</span></span>

