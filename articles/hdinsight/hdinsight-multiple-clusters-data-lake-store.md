---
title: "birden çok Hdınsight kümeleri bir Azure Data Lake Store hesabı - Azure ile aaaUse | Microsoft Docs"
description: "Bir Hdınsight birden çok toouse tek bir Data Lake Store hesabı ile nasıl küme öğrenin"
keywords: "hdınsight depolama, hdfs, yapılandırılmış veri, yapılandırılmamış verileri, veri gölü deposu"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="682d1-104">Birden çok Hdınsight kümeleri ile bir Azure Data Lake Store hesabınız</span><span class="sxs-lookup"><span data-stu-id="682d1-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="682d1-105">Hdınsight sürüm 3.5 ile başlayarak, hello varsayılan dosya sistemi Azure Data Lake Store hesapları ile Hdınsight kümeleri oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="682d1-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="682d1-106">Data Lake Store, büyük miktarlarda verinin yalnızca barındırmak için ideal hale getirir sınırsız depolama destekler; ancak da barındırmak için birden çok Hdınsight tek bir Data Lake deposu hesap paylaşan kümeleri.</span><span class="sxs-lookup"><span data-stu-id="682d1-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="682d1-107">Nasıl toocreate bir Hdınsight kümesini Data Lake Store hello depolama ile instructionson için bkz: [Hdınsight kümeleri oluşturma Data Lake Store ile](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="682d1-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="682d1-108">Bu makale, bir tek ve paylaşılan veri Gölü depolamak birden çok kullanılan hesabı ayarlama önerileri toohello Data Lake Deposu Yöneticisi sağlar **etkin** Hdınsight kümeleri.</span><span class="sxs-lookup"><span data-stu-id="682d1-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="682d1-109">Bu öneriler, paylaşılan bir Data Lake store hesabında birden çok güvenli yanı sıra güvenli olmayan Hadoop kümeleri toohosting uygulayın.</span><span class="sxs-lookup"><span data-stu-id="682d1-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="682d1-110">Data Lake Store dosya ve klasör düzeyinde ACL'leri</span><span class="sxs-lookup"><span data-stu-id="682d1-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="682d1-111">Merhaba, bu makalenin kalanında yakından açıklanan Azure Data Lake Store içinde dosya ve klasör düzeyinde ACL'ler iyi bir bilgiye sahip olduğunu varsayar [erişim denetimi Azure Data Lake Store'da](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="682d1-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="682d1-112">Birden çok Hdınsight kümeleri için Data Lake Store Kurulumu</span><span class="sxs-lookup"><span data-stu-id="682d1-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="682d1-113">Bize iki düzeyli klasör hiyerarşisi birden çok Hdınsight kümeleri ile bir Data Lake Store hesabı kullanarak tooexplain hello ilgili öneriler alın.</span><span class="sxs-lookup"><span data-stu-id="682d1-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="682d1-114">Bir Data Lake Store hesabı hello klasör yapısı ile sahip göz önünde bulundurun **/kümeleri/Finans**.</span><span class="sxs-lookup"><span data-stu-id="682d1-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="682d1-115">Bu yapı ile Merhaba Finans kuruluş tarafından gerekli tüm hello kümeleri /clusters/finance hello depolama konumu olarak kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="682d1-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="682d1-116">Başka bir kuruluş, pazarlama söyleyin, istediği toocreate Hdınsight kümeleri kullanarak aynı Data Lake Store hesabı Merhaba, /clusters/marketing oluşturabilirsiniz gelecekteki hello içinde.</span><span class="sxs-lookup"><span data-stu-id="682d1-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="682d1-117">Şu an için yalnızca kullanalım **/kümeleri/Finans**.</span><span class="sxs-lookup"><span data-stu-id="682d1-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="682d1-118">Bu klasör yapısı toobe etkili bir şekilde Hdınsight kümeleri tarafından kullanılan tooenable Merhaba Data Lake Store yönetici uygun izinleri hello tabloda açıklandığı gibi atamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="682d1-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="682d1-119">Merhaba tabloda gösterilen hello izinleri tooAccess ACL'ler ve değil varsayılan ACL'leri karşılık gelir.</span><span class="sxs-lookup"><span data-stu-id="682d1-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="682d1-120">Klasör</span><span class="sxs-lookup"><span data-stu-id="682d1-120">Folder</span></span>  |<span data-ttu-id="682d1-121">İzinler</span><span class="sxs-lookup"><span data-stu-id="682d1-121">Permissions</span></span>  |<span data-ttu-id="682d1-122">Sahip olan kullanıcı</span><span class="sxs-lookup"><span data-stu-id="682d1-122">Owning user</span></span>  |<span data-ttu-id="682d1-123">Sahip olan grup</span><span class="sxs-lookup"><span data-stu-id="682d1-123">Owning group</span></span>  | <span data-ttu-id="682d1-124">Adlı kullanıcı</span><span class="sxs-lookup"><span data-stu-id="682d1-124">Named user</span></span> | <span data-ttu-id="682d1-125">Adlı kullanıcı izinleri</span><span class="sxs-lookup"><span data-stu-id="682d1-125">Named user permissions</span></span> | <span data-ttu-id="682d1-126">Adlandırılmış Grup</span><span class="sxs-lookup"><span data-stu-id="682d1-126">Named group</span></span> | <span data-ttu-id="682d1-127">Adlandırılmış grup izinleri</span><span class="sxs-lookup"><span data-stu-id="682d1-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="682d1-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="682d1-128">rwxr-x--x</span></span>  |<span data-ttu-id="682d1-129">Yönetici</span><span class="sxs-lookup"><span data-stu-id="682d1-129">admin</span></span> |<span data-ttu-id="682d1-130">Yönetici</span><span class="sxs-lookup"><span data-stu-id="682d1-130">admin</span></span>  |<span data-ttu-id="682d1-131">Hizmet sorumlusu</span><span class="sxs-lookup"><span data-stu-id="682d1-131">Service principal</span></span> |<span data-ttu-id="682d1-132">--x</span><span class="sxs-lookup"><span data-stu-id="682d1-132">--x</span></span>  |<span data-ttu-id="682d1-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="682d1-133">FINGRP</span></span>   |<span data-ttu-id="682d1-134">r-x</span><span class="sxs-lookup"><span data-stu-id="682d1-134">r-x</span></span>         |
|<span data-ttu-id="682d1-135">/Clusters</span><span class="sxs-lookup"><span data-stu-id="682d1-135">/clusters</span></span> | <span data-ttu-id="682d1-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="682d1-136">rwxr-x--x</span></span> |<span data-ttu-id="682d1-137">Yönetici</span><span class="sxs-lookup"><span data-stu-id="682d1-137">admin</span></span> |<span data-ttu-id="682d1-138">Yönetici</span><span class="sxs-lookup"><span data-stu-id="682d1-138">admin</span></span> |<span data-ttu-id="682d1-139">Hizmet sorumlusu</span><span class="sxs-lookup"><span data-stu-id="682d1-139">Service principal</span></span> |<span data-ttu-id="682d1-140">--x</span><span class="sxs-lookup"><span data-stu-id="682d1-140">--x</span></span>  |<span data-ttu-id="682d1-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="682d1-141">FINGRP</span></span> |<span data-ttu-id="682d1-142">r-x</span><span class="sxs-lookup"><span data-stu-id="682d1-142">r-x</span></span>         |
|<span data-ttu-id="682d1-143">/ kümeleri/Finans</span><span class="sxs-lookup"><span data-stu-id="682d1-143">/clusters/finance</span></span> | <span data-ttu-id="682d1-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="682d1-144">rwxr-x--t</span></span> |<span data-ttu-id="682d1-145">Yönetici</span><span class="sxs-lookup"><span data-stu-id="682d1-145">admin</span></span> |<span data-ttu-id="682d1-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="682d1-146">FINGRP</span></span>  |<span data-ttu-id="682d1-147">Hizmet sorumlusu</span><span class="sxs-lookup"><span data-stu-id="682d1-147">Service principal</span></span> |<span data-ttu-id="682d1-148">rwx</span><span class="sxs-lookup"><span data-stu-id="682d1-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="682d1-149">Merhaba tabloda</span><span class="sxs-lookup"><span data-stu-id="682d1-149">In hello table,</span></span>

- <span data-ttu-id="682d1-150">**Yönetici** hello oluşturan ve Data Lake Store hesabı hello Yöneticisi.</span><span class="sxs-lookup"><span data-stu-id="682d1-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="682d1-151">**Hizmet sorumlusu** hello hesabıyla ilişkilendirilmiş hello Azure Active Directory (AAD) hizmet asıl.</span><span class="sxs-lookup"><span data-stu-id="682d1-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="682d1-152">**FINGRP** hello Finans kuruluş kullanıcılardan içeren aad'de oluşturduğunuz bir kullanıcı grubu.</span><span class="sxs-lookup"><span data-stu-id="682d1-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="682d1-153">Yönergeler için nasıl toocreate (oluşturan ayrıca bir hizmet sorumlusu) bir AAD uygulaması bkz [bir AAD uygulaması oluşturabilir](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="682d1-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="682d1-154">Yönergeler için nasıl toocreate AAD, bir kullanıcı grubunda bkz [Azure Active Directory içinde grupları yönetme](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="682d1-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="682d1-155">Bazı önemli noktaları tooconsider.</span><span class="sxs-lookup"><span data-stu-id="682d1-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="682d1-156">Merhaba iki düzey klasör yapısı (**/ / Finans/kümeleri**) oluşturulur ve uygun izinlere sahip hello Data Lake Store yönetici tarafından sağlanan **önce** hello depolama hesabıyla kümeleri için.</span><span class="sxs-lookup"><span data-stu-id="682d1-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="682d1-157">Bu yapı kümeleri oluşturulurken otomatik olarak oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="682d1-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="682d1-158">Yukarıdaki Hello örnek önerir grubunun sahibi olan hello ayarı **/kümeleri/Finans** olarak **FINGRP** ve sorgulamasına **r-x** erişim tooFINGRP toohello tüm klasör hiyerarşisi Merhaba kökünden başlatılıyor.</span><span class="sxs-lookup"><span data-stu-id="682d1-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="682d1-159">Bu FINGRP hello üyeleri kökünden başlayarak hello klasör yapısı gidebilirsiniz sağlar.</span><span class="sxs-lookup"><span data-stu-id="682d1-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="682d1-160">Farklı AAD hizmet asıl adı altında kümeleri oluşturabilir, hello durumda **/kümeleri/Finans**, hello Yapışkan-bit (Merhaba üzerinde ayarlandığında **Finans** klasörü) klasörleri bir hizmeti tarafından oluşturulan sağlar Asıl hello tarafından diğer silinemiyor.</span><span class="sxs-lookup"><span data-stu-id="682d1-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="682d1-161">Merhaba klasör yapısı ve izinleri yerinde olduktan sonra Hdınsight küme oluşturma işlemi kümeye özgü depolama loaction altında oluşturur **/ / Finans/kümeleri**.</span><span class="sxs-lookup"><span data-stu-id="682d1-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="682d1-162">Örneğin, hello adı fincluster01 sahip bir küme için hello depolama olabilir **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="682d1-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="682d1-163">Merhaba sahipliği ve Hdınsight kümesi tarafından oluşturulan hello klasörler için izinleri gösterildiğini burada hello tablosunda.</span><span class="sxs-lookup"><span data-stu-id="682d1-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="682d1-164">Klasör</span><span class="sxs-lookup"><span data-stu-id="682d1-164">Folder</span></span>  |<span data-ttu-id="682d1-165">İzinler</span><span class="sxs-lookup"><span data-stu-id="682d1-165">Permissions</span></span>  |<span data-ttu-id="682d1-166">Sahip olan kullanıcı</span><span class="sxs-lookup"><span data-stu-id="682d1-166">Owning user</span></span>  |<span data-ttu-id="682d1-167">Sahip olan grup</span><span class="sxs-lookup"><span data-stu-id="682d1-167">Owning group</span></span>  | <span data-ttu-id="682d1-168">Adlı kullanıcı</span><span class="sxs-lookup"><span data-stu-id="682d1-168">Named user</span></span> | <span data-ttu-id="682d1-169">Adlı kullanıcı izinleri</span><span class="sxs-lookup"><span data-stu-id="682d1-169">Named user permissions</span></span> | <span data-ttu-id="682d1-170">Adlandırılmış Grup</span><span class="sxs-lookup"><span data-stu-id="682d1-170">Named group</span></span> | <span data-ttu-id="682d1-171">Adlandırılmış grup izinleri</span><span class="sxs-lookup"><span data-stu-id="682d1-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="682d1-172">/Clusters/finanace/fincluster01</span><span class="sxs-lookup"><span data-stu-id="682d1-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="682d1-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="682d1-173">rwxr-x---</span></span>  |<span data-ttu-id="682d1-174">Hizmet sorumlusu</span><span class="sxs-lookup"><span data-stu-id="682d1-174">Service Principal</span></span> |<span data-ttu-id="682d1-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="682d1-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="682d1-176">Önerileri için girdi ve çıktı verilerini işi</span><span class="sxs-lookup"><span data-stu-id="682d1-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="682d1-177">Biz giriş verileri tooa işi ve bir iş çıkışlarından hello öneri dışında bir klasörde depolanır **/kümeleri**.</span><span class="sxs-lookup"><span data-stu-id="682d1-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="682d1-178">Bu, silinen tooreclaim hello küme özgü bir klasörde olsa bile, bazı depolama alanı, hello iş girişleri ve çıkışları gelecekte kullanılmak üzere hala kullanılabilir olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="682d1-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="682d1-179">Böyle bir durumda hello klasör hiyerarşisi hello iş girişleri ve çıkışları depolamak için uygun düzeyde bir erişim hello için hizmet sorumlusu verdiğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="682d1-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="682d1-180">Tek bir depolama hesabına paylaşımı kümelerinde sınırla</span><span class="sxs-lookup"><span data-stu-id="682d1-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="682d1-181">Bu kümelerinde çalıştırılmayı hello iş yükü Hello sınırı tek bir Data Lake Store hesabı paylaşabilirsiniz kümeleri hello sayısına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="682d1-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="682d1-182">Çok fazla sayıda küme veya çok yoğun iş yükleri bir depolama hesabını paylaşmak hello kümelerinde sahip hello depolama hesabı giriş/çıkış tooget kısıtlanan neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="682d1-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="682d1-183">Varsayılan ACL desteği</span><span class="sxs-lookup"><span data-stu-id="682d1-183">Support for Default-ACLs</span></span>

<span data-ttu-id="682d1-184">Adlı kullanıcı erişimi (yukarıdaki hello tablosundaki gösterildiği gibi) bir hizmet sorumlusu oluştururken, öneririz **değil** hello adlı kullanıcı varsayılan ACL ile ekleme.</span><span class="sxs-lookup"><span data-stu-id="682d1-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="682d1-185">Sahibi olan kullanıcı, sahibi olan Grup ve diğerleri için varsayılan ACL'leri sonuçları 770 izinleri hello atamasını kullanarak adlı kullanıcının erişimi sağlama.</span><span class="sxs-lookup"><span data-stu-id="682d1-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="682d1-186">Bu varsayılan değeri 770 sahibi olan kullanıcı (7) veya sahibi olan Grup (7) izinlerinin hemen almaz, ancak hemen başkalarının (0) tüm izinleri alır.</span><span class="sxs-lookup"><span data-stu-id="682d1-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="682d1-187">Bu bilinen bir sorun bir belirli kullanım ayrıntılı hello olarak ele alınan örneği ile sonuçlanır [bilinen sorunlar ve geçici çözümler](#known-issues-and-workarounds) bölümü.</span><span class="sxs-lookup"><span data-stu-id="682d1-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="682d1-188">Bilinen sorunlar ve geçici çözümler</span><span class="sxs-lookup"><span data-stu-id="682d1-188">Known issues and workarounds</span></span>

<span data-ttu-id="682d1-189">Bu bölümde, bilinen sorunlar Hdınsight kullanarak Data Lake Store ve bunların geçici çözümleri için hello listelenir.</span><span class="sxs-lookup"><span data-stu-id="682d1-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="682d1-190">Herkese görünür yerelleştirilmiş YARN kaynaklar</span><span class="sxs-lookup"><span data-stu-id="682d1-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="682d1-191">Yeni bir Azure Data Lake store hesabı oluşturulduğunda, hello kök dizini otomatik olarak erişim ACL izni BITS kümesi too770 ile sağlanır.</span><span class="sxs-lookup"><span data-stu-id="682d1-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="682d1-192">Merhaba kök klasörün sahibi olan kullanıcı hello hesap (Merhaba Data Lake Store Yöneticisi) oluşturulan toohello kullanıcı ayarı ve hello sahibi olan Grup hello hesabı oluşturuldu hello kullanıcının birincil grup toohello ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="682d1-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="682d1-193">Erişim yok "başkaları için" sağlanır.</span><span class="sxs-lookup"><span data-stu-id="682d1-193">No access is provided for "others".</span></span>

<span data-ttu-id="682d1-194">Bu ayarları tooaffect bir özel Hdınsight kullanım, yakalanan örneği bilinen [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="682d1-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="682d1-195">İş gönderimlerini bir hata iletisi benzer toothis ile başarısız olabilir:</span><span class="sxs-lookup"><span data-stu-id="682d1-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="682d1-196">Ortak kaynakları hello yerelleştirilirken YARN JIRA daha önce bağlı hello içinde tüm hello yerelleştiriciye doğrular belirtildiği gibi istenen hello uzak dosya sistemi izinlerini denetleyerek gerçekten ortak kaynaklardır.</span><span class="sxs-lookup"><span data-stu-id="682d1-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="682d1-197">Bu koşul sığmayan LocalResource yerelleştirme için reddedilir.</span><span class="sxs-lookup"><span data-stu-id="682d1-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="682d1-198">izinler için onay Merhaba, "başkaları için" okuma erişim toohello dosyası içerir.</span><span class="sxs-lookup"><span data-stu-id="682d1-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="682d1-199">Bu senaryo Giden kutusu Azure Data Lake çok tüm erişimini engellediği beri Azure Data Lake, Hdınsight kümelerinde barındırdığında çalışmaz kök klasör düzeyinde "diğer".</span><span class="sxs-lookup"><span data-stu-id="682d1-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="682d1-200">Geçici çözüm</span><span class="sxs-lookup"><span data-stu-id="682d1-200">Workaround</span></span>
<span data-ttu-id="682d1-201">Kümesini yürütmek Okuma izinlerini **başkalarının** hello hiyerarşisi aracılığıyla örneğin  **/** , **/kümeleri** ve   **/kümeleri/Finans**  hello yukarıdaki tabloda gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="682d1-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="682d1-202">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="682d1-202">See also</span></span>

* [<span data-ttu-id="682d1-203">Hdınsight kümesi Data Lake Store ile depolama alanı olarak oluşturun.</span><span class="sxs-lookup"><span data-stu-id="682d1-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


