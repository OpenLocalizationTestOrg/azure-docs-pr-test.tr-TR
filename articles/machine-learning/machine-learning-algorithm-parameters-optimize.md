---
title: "Azure Machine Learning algoritmaları en iyi duruma getirme | Microsoft Docs"
description: "Azure Machine learning'de algoritma için en iyi parametresinde seçin açıklanmaktadır."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6717e30e-b8d8-4cc1-ad0b-1d4727928d32
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: b3be7f31ac31c656744fb809e3972af0ac4ad4f1
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="choose-parameters-to-optimize-your-algorithms-in-azure-machine-learning"></a><span data-ttu-id="a4bce-103">Azure Machine Learning algoritmaları en iyi duruma getirmek için parametreleri seçin</span><span class="sxs-lookup"><span data-stu-id="a4bce-103">Choose parameters to optimize your algorithms in Azure Machine Learning</span></span>
<span data-ttu-id="a4bce-104">Bu konuda, Azure Machine learning'de algoritma için ayarlanmış sağ hyperparameter seçmek açıklar.</span><span class="sxs-lookup"><span data-stu-id="a4bce-104">This topic describes how to choose the right hyperparameter set for an algorithm in Azure Machine Learning.</span></span> <span data-ttu-id="a4bce-105">Çoğu machine learning algoritmaları ayarlamak için parametrelere sahip.</span><span class="sxs-lookup"><span data-stu-id="a4bce-105">Most machine learning algorithms have parameters to set.</span></span> <span data-ttu-id="a4bce-106">Bir modeli eğitmek zaman o parametreler için değerler sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-106">When you train a model, you need to provide values for those parameters.</span></span> <span data-ttu-id="a4bce-107">Seçtiğiniz model parametreleri eğitilen model sürecinin bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="a4bce-107">The efficacy of the trained model depends on the model parameters that you choose.</span></span> <span data-ttu-id="a4bce-108">En iyi parametrelerinin bulma işleminin olarak bilinen *model seçimi*.</span><span class="sxs-lookup"><span data-stu-id="a4bce-108">The process of finding the optimal set of parameters is known as *model selection*.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="a4bce-109">Seçim modellemek için çeşitli yolları vardır.</span><span class="sxs-lookup"><span data-stu-id="a4bce-109">There are various ways to do model selection.</span></span> <span data-ttu-id="a4bce-110">Machine learning, çapraz doğrulama model seçimi için en yaygın olarak kullanılan yöntemleri biridir ve varsayılan model seçimi mekanizma Azure Machine Learning değil.</span><span class="sxs-lookup"><span data-stu-id="a4bce-110">In machine learning, cross-validation is one of the most widely used methods for model selection, and it is the default model selection mechanism in Azure Machine Learning.</span></span> <span data-ttu-id="a4bce-111">Azure Machine Learning R ve Python desteklediğinden, R veya Python kullanarak her zaman kendi model seçimi mekanizmaları uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4bce-111">Because Azure Machine Learning supports both R and Python, you can always implement their own model selection mechanisms by using either R or Python.</span></span>

<span data-ttu-id="a4bce-112">En iyi parametre kümesi bulma sürecinde dört adım vardır:</span><span class="sxs-lookup"><span data-stu-id="a4bce-112">There are four steps in the process of finding the best parameter set:</span></span>

1. <span data-ttu-id="a4bce-113">**Parametre alanı tanımlamak**: algoritması, ilk olarak istediğiniz dikkate alınması gereken tam parametre değerlerini karar verin.</span><span class="sxs-lookup"><span data-stu-id="a4bce-113">**Define the parameter space**: For the algorithm, first decide the exact parameter values you want to consider.</span></span>
2. <span data-ttu-id="a4bce-114">**Çapraz doğrulama ayarlarını tanımla**: veri kümesi için çapraz doğrulama Katlama seçmek nasıl karar verin.</span><span class="sxs-lookup"><span data-stu-id="a4bce-114">**Define the cross-validation settings**: Decide how to choose cross-validation folds for the dataset.</span></span>
3. <span data-ttu-id="a4bce-115">**Ölçümü tanımlayın**: en iyi doğruluğu gibi parametreleri kümesini belirlemek için kullanılacak hangi ölçüm karar, kök ortalama karesi alınmış hata, kesinlik, geri çağırma veya f-score.</span><span class="sxs-lookup"><span data-stu-id="a4bce-115">**Define the metric**: Decide what metric to use for determining the best set of parameters, such as accuracy, root mean squared error, precision, recall, or f-score.</span></span>
4. <span data-ttu-id="a4bce-116">**Eğitim, değerlendirmek ve karşılaştırmak**: parametre değerlerini benzersiz her birleşimi için çapraz doğrulama tarafından yürütülen ve tanımladığınız hata ölçüm tabanlı.</span><span class="sxs-lookup"><span data-stu-id="a4bce-116">**Train, evaluate, and compare**: For each unique combination of the parameter values, cross-validation is carried out by and based on the error metric you define.</span></span> <span data-ttu-id="a4bce-117">Değerlendirme ve karşılaştırma sonra en çok gerçekleştirme modeli seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4bce-117">After evaluation and comparison, you can choose the best-performing model.</span></span>

<span data-ttu-id="a4bce-118">Aşağıdaki resim Azure Machine Learning ile bu nasıl sağlanabilir gösterir gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-118">The following image illustrates shows how this can be achieved in Azure Machine Learning.</span></span>

![En iyi parametre kümesi Bul](./media/machine-learning-algorithm-parameters-optimize/fig1.png)

## <a name="define-the-parameter-space"></a><span data-ttu-id="a4bce-120">Parametre alanını tanımlayın</span><span class="sxs-lookup"><span data-stu-id="a4bce-120">Define the parameter space</span></span>
<span data-ttu-id="a4bce-121">Parametre modeli başlatma adımda kümesi tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4bce-121">You can define the parameter set at the model initialization step.</span></span> <span data-ttu-id="a4bce-122">Tüm makine öğrenimi algoritma parametresi bölmesini iki Eğitmen modu vardır: *tek bir parametre* ve *parametre aralık*.</span><span class="sxs-lookup"><span data-stu-id="a4bce-122">The parameter pane of all machine learning algorithms has two trainer modes: *Single Parameter* and *Parameter Range*.</span></span> <span data-ttu-id="a4bce-123">Parametre aralık modu seçin.</span><span class="sxs-lookup"><span data-stu-id="a4bce-123">Choose Parameter Range mode.</span></span> <span data-ttu-id="a4bce-124">Parametre aralık modunda her parametre için birden çok değer girebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4bce-124">In Parameter Range mode, you can enter multiple values for each parameter.</span></span> <span data-ttu-id="a4bce-125">Metin kutusunda, virgülle ayrılmış değerler girebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4bce-125">You can enter comma-separated values in the text box.</span></span>

![İki sınıflı artırılmış karar ağacı, tek bir parametre](./media/machine-learning-algorithm-parameters-optimize/fig2.png)

 <span data-ttu-id="a4bce-127">Alternatif olarak, kılavuz ve nokta ile oluşturulacak toplam sayısı maksimum ve minimum noktalarının tanımlayabilirsiniz **kullanım aralık oluşturucu**.</span><span class="sxs-lookup"><span data-stu-id="a4bce-127">Alternately, you can define the maximum and minimum points of the grid and the total number of points to be generated with **Use Range Builder**.</span></span> <span data-ttu-id="a4bce-128">Varsayılan olarak, parametre değerlerini doğrusal bir ölçekte üretilir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-128">By default, the parameter values are generated on a linear scale.</span></span> <span data-ttu-id="a4bce-129">Ancak **günlük ölçek** denetlenir değerlerin, günlük ölçeğin oluşturulur (diğer bir deyişle, bitişik noktalarının yerine kendi fark sabit orandır).</span><span class="sxs-lookup"><span data-stu-id="a4bce-129">But if **Log Scale** is checked, the values are generated in the log scale (that is, the ratio of the adjacent points is constant instead of their difference).</span></span> <span data-ttu-id="a4bce-130">Tamsayı Parametreler için kısa çizgi kullanarak bir aralığı tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4bce-130">For integer parameters, you can define a range by using a hyphen.</span></span> <span data-ttu-id="a4bce-131">1 ile 10 (her ikisi de dahil) arasındaki tüm tamsayılara parametre kümesi form Örneğin, "1-10" anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-131">For example, “1-10” means that all integers between 1 and 10 (both inclusive) form the parameter set.</span></span> <span data-ttu-id="a4bce-132">Karma mod da desteklenir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-132">A mixed mode is also supported.</span></span> <span data-ttu-id="a4bce-133">Örneğin, parametre kümesini "1-10, 20, 50" tamsayılar 1-10, 20, içerir ve 50.</span><span class="sxs-lookup"><span data-stu-id="a4bce-133">For example, the parameter set “1-10, 20, 50” would include integers 1-10, 20, and 50.</span></span>

![İki sınıflı artırılmış karar ağacı, parametre aralığı](./media/machine-learning-algorithm-parameters-optimize/fig3.png)

## <a name="define-cross-validation-folds"></a><span data-ttu-id="a4bce-135">Çapraz doğrulama Katlama tanımlayın</span><span class="sxs-lookup"><span data-stu-id="a4bce-135">Define cross-validation folds</span></span>
<span data-ttu-id="a4bce-136">[Bölüm ve örnek] [ partition-and-sample] modülü, rastgele verileri Katlama atamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-136">The [Partition and Sample][partition-and-sample] module can be used to randomly assign folds to the data.</span></span> <span data-ttu-id="a4bce-137">Aşağıdaki örnek yapılandırma modülü için beş Katlama tanımlayın ve rastgele Katlama birkaç örnek örneklerine atayın.</span><span class="sxs-lookup"><span data-stu-id="a4bce-137">In the following sample configuration for the module, we define five folds and randomly assign a fold number to the sample instances.</span></span>

![Bölüm ve örnek](./media/machine-learning-algorithm-parameters-optimize/fig4.png)

## <a name="define-the-metric"></a><span data-ttu-id="a4bce-139">Ölçümü tanımlayın</span><span class="sxs-lookup"><span data-stu-id="a4bce-139">Define the metric</span></span>
<span data-ttu-id="a4bce-140">[Model ayarlama Hiperparametreleri] [ tune-model-hyperparameters] modülü empirically verilen algoritması ve veri kümesi için en iyi parametrelerinin seçme için destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="a4bce-140">The [Tune Model Hyperparameters][tune-model-hyperparameters] module provides support for empirically choosing the best set of parameters for a given algorithm and dataset.</span></span> <span data-ttu-id="a4bce-141">Diğer bilgilerine ek olarak eğitim modeli ilgili **özellikleri** Bu modülün bölmesinde en iyi parametre kümesi belirlemek için ölçüm içerir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-141">In addition to other information regarding training the model, the **Properties** pane of this module includes the metric for determining the best parameter set.</span></span> <span data-ttu-id="a4bce-142">Sınıflandırma ve regresyon algoritmalar için iki farklı aşağı açılan liste kutusu sırasıyla sahiptir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-142">It has two different drop-down list boxes for classification and regression algorithms, respectively.</span></span> <span data-ttu-id="a4bce-143">Algoritma odaklanılan bir sınıflandırma algoritmasıdır ise, regresyon ölçüm göz ardı edilir ve tersi.</span><span class="sxs-lookup"><span data-stu-id="a4bce-143">If the algorithm under consideration is a classification algorithm, the regression metric is ignored and vice versa.</span></span> <span data-ttu-id="a4bce-144">Bu belirli örnekte ölçümüdür **doğruluğu**.</span><span class="sxs-lookup"><span data-stu-id="a4bce-144">In this specific example, the metric is **Accuracy**.</span></span>   

![Tarama parametreleri](./media/machine-learning-algorithm-parameters-optimize/fig5.png)

## <a name="train-evaluate-and-compare"></a><span data-ttu-id="a4bce-146">Eğitim, değerlendirmek ve karşılaştırma</span><span class="sxs-lookup"><span data-stu-id="a4bce-146">Train, evaluate, and compare</span></span>
<span data-ttu-id="a4bce-147">Aynı [Model ayarlama Hiperparametreleri] [ tune-model-hyperparameters] üzerinde ölçüm parametresine karşılık gelen tüm modelleri ayarlayın, çeşitli ölçümleri değerlendirir ve en iyi eğitim modeli oluşturur modülü trenler dayalı ' ı seçin.</span><span class="sxs-lookup"><span data-stu-id="a4bce-147">The same [Tune Model Hyperparameters][tune-model-hyperparameters] module trains all the models that correspond to the parameter set, evaluates various metrics, and then creates the best-trained model based on the metric you choose.</span></span> <span data-ttu-id="a4bce-148">Bu modül iki zorunlu giriş vardır:</span><span class="sxs-lookup"><span data-stu-id="a4bce-148">This module has two mandatory inputs:</span></span>

* <span data-ttu-id="a4bce-149">Eğitimsiz öğrenen</span><span class="sxs-lookup"><span data-stu-id="a4bce-149">The untrained learner</span></span>
* <span data-ttu-id="a4bce-150">Veri kümesi</span><span class="sxs-lookup"><span data-stu-id="a4bce-150">The dataset</span></span>

<span data-ttu-id="a4bce-151">Modül de giriş isteğe bağlı bir veri kümesine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-151">The module also has an optional dataset input.</span></span> <span data-ttu-id="a4bce-152">Zorunlu dataset giriş için Katlama bilgilerle dataset bağlayın.</span><span class="sxs-lookup"><span data-stu-id="a4bce-152">Connect the dataset with fold information to the mandatory dataset input.</span></span> <span data-ttu-id="a4bce-153">Veri kümesi herhangi bir Katlama bilgi atanmamışsa bir 10-fold çapraz doğrulama otomatik olarak varsayılan olarak yürütülür.</span><span class="sxs-lookup"><span data-stu-id="a4bce-153">If the dataset is not assigned any fold information, then a 10-fold cross-validation is automatically executed by default.</span></span> <span data-ttu-id="a4bce-154">Katlama atama yapılmaz ve isteğe bağlı veri kümesi bağlantı noktasına bir doğrulama dataset sağlanır, tren test modu seçilir ve ilk veri kümesini her parametre birleşimi için modeli eğitmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="a4bce-154">If the fold assignment is not done and a validation dataset is provided at the optional dataset port, then a train-test mode is chosen and the first dataset is used to train the model for each parameter combination.</span></span>

![Artırılmış karar ağacı sınıflandırıcı](./media/machine-learning-algorithm-parameters-optimize/fig6a.png)

<span data-ttu-id="a4bce-156">Model doğrulama veri kümesine sonra değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-156">The model is then evaluated on the validation dataset.</span></span> <span data-ttu-id="a4bce-157">Modülünün sol çıkış bağlantı noktasına parametre değerleri olarak işlevler farklı ölçütleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-157">The left output port of the module shows different metrics as functions of parameter values.</span></span> <span data-ttu-id="a4bce-158">Doğru çıkış bağlantı noktasına en gerçekleştirme modele seçilen ölçüm göre karşılık gelen eğitilen model sağlar (**doğruluğu** bu durumda).</span><span class="sxs-lookup"><span data-stu-id="a4bce-158">The right output port gives the trained model that corresponds to the best-performing model according to the chosen metric (**Accuracy** in this case).</span></span>  

![Doğrulama veri kümesi](./media/machine-learning-algorithm-parameters-optimize/fig6b.png)

<span data-ttu-id="a4bce-160">Doğru çıkış bağlantı noktasına görselleştirme tarafından seçilen tam parametreleri görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4bce-160">You can see the exact parameters chosen by visualizing the right output port.</span></span> <span data-ttu-id="a4bce-161">Bu model, bir sınama kümesi Puanlama veya bir kullanıma hazır hale getirilmiş web hizmeti modeli olarak kaydettikten sonra kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="a4bce-161">This model can be used in scoring a test set or in an operationalized web service after saving as a trained model.</span></span>

<!-- Module References -->
[partition-and-sample]: https://msdn.microsoft.com/library/azure/a8726e34-1b3e-4515-b59a-3e4a475654b8/
[tune-model-hyperparameters]: https://msdn.microsoft.com/library/azure/038d91b6-c2f2-42a1-9215-1f2c20ed1b40/
