---
title: "Azure Active Directory kimlik doğrulaması - SQL yapılandırma | Microsoft Docs"
description: "SQL Database ve SQL Data Warehouse için Azure Active Directory kimlik doğrulaması kullanarak bağlanmak öğrenin."
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/10/2017
ms.author: rickbyh
ms.openlocfilehash: 61a52813769891aa63373437e9300d4f8f47fab2
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/18/2017
---
# <a name="configure-and-manage-azure-active-directory-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="556a2-103">Yapılandırma ve SQL Database veya SQL Data Warehouse ile Azure Active Directory kimlik doğrulaması yönetme</span><span class="sxs-lookup"><span data-stu-id="556a2-103">Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse</span></span>

<span data-ttu-id="556a2-104">Bu makalede oluşturun ve Azure AD doldurmak ve Azure SQL Database ve SQL Data Warehouse ile Azure AD kullanın gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="556a2-104">This article shows you how to create and populate Azure AD, and then use Azure AD with Azure SQL Database and SQL Data Warehouse.</span></span> <span data-ttu-id="556a2-105">Genel bir bakış için bkz: [Azure Active Directory kimlik doğrulaması](sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="556a2-105">For an overview, see [Azure Active Directory Authentication](sql-database-aad-authentication.md).</span></span>

>  [!NOTE]  
>  <span data-ttu-id="556a2-106">Bir Azure Active Directory hesabı kullanarak bir Azure VM üzerinde çalışan SQL Server için bağlanması desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="556a2-106">Connecting to SQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="556a2-107">Etki alanı Active Directory hesabı kullanın.</span><span class="sxs-lookup"><span data-stu-id="556a2-107">Use a domain Active Directory account instead.</span></span>

## <a name="create-and-populate-an-azure-ad"></a><span data-ttu-id="556a2-108">Oluşturma ve Azure AD doldurma</span><span class="sxs-lookup"><span data-stu-id="556a2-108">Create and populate an Azure AD</span></span>
<span data-ttu-id="556a2-109">Azure AD oluşturabilir ve kullanıcılar ve gruplar ile doldurabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="556a2-109">Create an Azure AD and populate it with users and groups.</span></span> <span data-ttu-id="556a2-110">Azure AD ilk etki alanı Azure AD yönetilen etki alanı olabilir.</span><span class="sxs-lookup"><span data-stu-id="556a2-110">Azure AD can be the initial domain Azure AD managed domain.</span></span> <span data-ttu-id="556a2-111">Azure AD, bir şirket içi Active Directory etki alanı birleştirildiyse Hizmetleri'nde Azure AD ile de olabilir.</span><span class="sxs-lookup"><span data-stu-id="556a2-111">Azure AD can also be an on-premises Active Directory Domain Services that is federated with the Azure AD.</span></span>

<span data-ttu-id="556a2-112">Daha fazla bilgi edinmek için bkz. [Şirket içi kimliklerinizi Azure Active Directory ile tümleştirme](../active-directory/active-directory-aadconnect.md), [Kendi etki alanı adınızı Azure AD'ye ekleme](../active-directory/active-directory-add-domain.md), [Microsoft Azure artık Windows Server Active Directory ile federasyonu destekliyor](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Azure AD dizininizi yönetme](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Azure AD'yi Windows PowerShell kullanarak yönetme](/powershell/azure/overview?view=azureadps-2.0) ve [Karma Kimlik için gerekli bağlantı noktaları ve protokoller](../active-directory/active-directory-aadconnect-ports.md).</span><span class="sxs-lookup"><span data-stu-id="556a2-112">For more information, see [Integrating your on-premises identities with Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Add your own domain name to Azure AD](../active-directory/active-directory-add-domain.md), [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Administering your Azure AD directory](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Manage Azure AD using Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), and [Hybrid Identity Required Ports and Protocols](../active-directory/active-directory-aadconnect-ports.md).</span></span>

## <a name="optional-associate-or-change-the-active-directory-that-is-currently-associated-with-your-azure-subscription"></a><span data-ttu-id="556a2-113">İsteğe bağlı: İlişkilendir ya da şu anda Azure aboneliğinizle ilişkili olan active directory değiştirme</span><span class="sxs-lookup"><span data-stu-id="556a2-113">Optional: Associate or change the active directory that is currently associated with your Azure Subscription</span></span>
<span data-ttu-id="556a2-114">Kuruluşunuz için Azure AD dizini veritabanınızı ilişkilendirmek için dizin veritabanını barındıran Azure aboneliği için güvenilen bir dizin oluşturun.</span><span class="sxs-lookup"><span data-stu-id="556a2-114">To associate your database with the Azure AD directory for your organization, make the directory a trusted directory for the Azure subscription hosting the database.</span></span> <span data-ttu-id="556a2-115">Daha fazla bilgi için bkz. [Azure aboneliklerinin Azure AD ile ilişkisi](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span><span class="sxs-lookup"><span data-stu-id="556a2-115">For more information, see [How Azure subscriptions are associated with Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span></span>

<span data-ttu-id="556a2-116">**Ek bilgi:** her Azure aboneliği Azure AD örneğiyle birlikte bir güven ilişkisi vardır.</span><span class="sxs-lookup"><span data-stu-id="556a2-116">**Additional information:** Every Azure subscription has a trust relationship with an Azure AD instance.</span></span> <span data-ttu-id="556a2-117">Bu; Azure aboneliğinin kullanıcılar, hizmetler ve cihazlar için kimlik doğrulaması yapmak üzere bu dizine güvendiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="556a2-117">This means that it trusts that directory to authenticate users, services, and devices.</span></span> <span data-ttu-id="556a2-118">Birden çok abonelik aynı dizine güvenebilir ancak bir abonelik yalnızca bir dizine güvenir.</span><span class="sxs-lookup"><span data-stu-id="556a2-118">Multiple subscriptions can trust the same directory, but a subscription trusts only one directory.</span></span> <span data-ttu-id="556a2-119">Dizin, aboneliğinizde güvendiği görebilirsiniz **ayarları** adresindeki sekmesinde [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="556a2-119">You can see which directory is trusted by your subscription under the **Settings** tab at [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span></span> <span data-ttu-id="556a2-120">Aboneliğin bir dizinle arasındaki bu güven ilişkisi, bir aboneliğin daha çok abonelik alt kaynakları gibi olan, Azure'daki tüm diğer kaynaklarla (web siteleri, veritabanları ve benzeri) sahip olduğu ilişkiye benzer nitelikte değildir.</span><span class="sxs-lookup"><span data-stu-id="556a2-120">This trust relationship that a subscription has with a directory is unlike the relationship that a subscription has with all other resources in Azure (websites, databases, and so on), which are more like child resources of a subscription.</span></span> <span data-ttu-id="556a2-121">Bir aboneliğin süresi dolarsa abonelikle ilişkili bu diğer kaynaklara erişim de durdurulur.</span><span class="sxs-lookup"><span data-stu-id="556a2-121">If a subscription expires, then access to those other resources associated with the subscription also stops.</span></span> <span data-ttu-id="556a2-122">Ancak dizin Azure içinde kalır, siz de başka bir aboneliği bu dizinle ilişkilendirebilir, dizin kullanıcılarını yönetmeye devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="556a2-122">But the directory remains in Azure, and you can associate another subscription with that directory and continue to manage the directory users.</span></span> <span data-ttu-id="556a2-123">Kaynaklar hakkında daha fazla bilgi için bkz: [azure'da kaynak erişimini anlama](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span><span class="sxs-lookup"><span data-stu-id="556a2-123">For more information about resources, see [Understanding resource access in Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span></span>

<span data-ttu-id="556a2-124">Aşağıdaki yordamlar belirli bir aboneliğe için ilişkili dizininin nasıl değiştirileceğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="556a2-124">The following procedures show you how to change the associated directory for a given subscription.</span></span>
1. <span data-ttu-id="556a2-125">Bağlanma, [Klasik Azure portalı](https://manage.windowsazure.com/) Azure Abonelik Yöneticisi kullanarak.</span><span class="sxs-lookup"><span data-stu-id="556a2-125">Connect to your [Azure Classic Portal](https://manage.windowsazure.com/) by using an Azure subscription administrator.</span></span>
2. <span data-ttu-id="556a2-126">Sol başlığında seçin **ayarları**.</span><span class="sxs-lookup"><span data-stu-id="556a2-126">On the left banner, select **SETTINGS**.</span></span>
3. <span data-ttu-id="556a2-127">Aboneliklerinizi ayarları ekranında görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="556a2-127">Your subscriptions appear in the settings screen.</span></span> <span data-ttu-id="556a2-128">İstenen abonelik görünmüyorsa tıklatın **abonelikleri** en üstte açılan **FİLTRESİ tarafından dizin** kutusuna ve aboneliklerinizi içeren dizini seçin ve ardından tıklatın**UYGULA**.</span><span class="sxs-lookup"><span data-stu-id="556a2-128">If the desired subscription does not appear, click **Subscriptions** at the top, drop down the **FILTER BY DIRECTORY** box and select the directory that contains your subscriptions, and then click **APPLY**.</span></span>
   
    ![Abonelik seç][4]
4. <span data-ttu-id="556a2-130">İçinde **ayarları** alanında, aboneliğinizi tıklayın ve ardından **dizini Düzenle** sayfanın sonundaki.</span><span class="sxs-lookup"><span data-stu-id="556a2-130">In the **settings** area, click your subscription, and then click  **EDIT DIRECTORY** at the bottom of the page.</span></span>
   
    ![ad ayarları portalı][5]
5. <span data-ttu-id="556a2-132">İçinde **dizini Düzenle** kutusuna SQL Server veya SQL Data Warehouse ile ilişkili Azure Active Directory'yi seçin ve ardından sonraki oka tıklayın.</span><span class="sxs-lookup"><span data-stu-id="556a2-132">In the **EDIT DIRECTORY** box, select the Azure Active Directory that is associated with your SQL Server or SQL Data Warehouse, and then click the arrow for next.</span></span>
   
    ![Düzen dizini seçin][6]
6. <span data-ttu-id="556a2-134">İçinde **Onayla** dizin eşleme iletişim kutusunu Onayla "**tüm ortak Yöneticiler kaldırılır.**"</span><span class="sxs-lookup"><span data-stu-id="556a2-134">In the **CONFIRM** directory Mapping dialog box, confirm that "**All co-administrators will be removed.**"</span></span>
   
    ![Edit directory onaylayın][7]
7. <span data-ttu-id="556a2-136">Portal yeniden Denetle'yi tıklatın.</span><span class="sxs-lookup"><span data-stu-id="556a2-136">Click the check to reload the portal.</span></span>

   > [!NOTE]
   > <span data-ttu-id="556a2-137">Ne zaman dizini, tüm ortak Yöneticiler, Azure AD kullanıcıları ve grupları, erişimi değiştirin ve yedeklenen dizin kaynak kullanıcıları kaldırılır ve artık bu abonelik veya kaynaklarına erişimi.</span><span class="sxs-lookup"><span data-stu-id="556a2-137">When you change the directory, access to all co-administrators, Azure AD users and groups, and directory-backed resource users are removed and they no longer have access to this subscription or its resources.</span></span> <span data-ttu-id="556a2-138">Yalnızca, Hizmet Yöneticisi olarak, erişim için yeni dizinine göre ilkeleri yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="556a2-138">Only you, as a service administrator, can configure access for principals based on the new directory.</span></span> <span data-ttu-id="556a2-139">Bu değişiklik, tüm kaynaklara yaymak için önemli bir süre alabilir.</span><span class="sxs-lookup"><span data-stu-id="556a2-139">This change might take a substantial amount of time to propagate to all resources.</span></span> <span data-ttu-id="556a2-140">Dizini değiştirme ayrıca SQL Database ve SQL Data Warehouse için Azure AD Yöneticisi değiştirir ve veritabanı erişimi var olan Azure AD kullanıcısı için izin verme.</span><span class="sxs-lookup"><span data-stu-id="556a2-140">Changing the directory, also changes the Azure AD administrator for SQL Database and SQL Data Warehouse and disallow database access for any existing Azure AD users.</span></span> <span data-ttu-id="556a2-141">Azure AD yönetim olmalıdır (aşağıda açıklandığı gibi) sıfırlama ve yeni Azure AD kullanıcıları oluşturulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="556a2-141">The Azure AD admin must be reset (as described below) and new Azure AD users must be created.</span></span>
   >  

## <a name="create-an-azure-ad-administrator-for-azure-sql-server"></a><span data-ttu-id="556a2-142">Azure SQL server için Azure AD Yöneticisi oluşturma</span><span class="sxs-lookup"><span data-stu-id="556a2-142">Create an Azure AD administrator for Azure SQL server</span></span>
<span data-ttu-id="556a2-143">(Bir SQL veritabanı ya da SQL veri ambarı barındıran) her Azure SQL sunucusu, tüm Azure SQL server'ın yönetici haklarına sahip tek sunucu yöneticisi hesabı ile başlar.</span><span class="sxs-lookup"><span data-stu-id="556a2-143">Each Azure SQL server (which hosts a SQL Database or SQL Data Warehouse) starts with a single server administrator account that is the administrator of the entire Azure SQL server.</span></span> <span data-ttu-id="556a2-144">İkinci bir SQL Server Yöneticisi, bir Azure AD hesabı olan oluşturulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="556a2-144">A second SQL Server administrator must be created, that is an Azure AD account.</span></span> <span data-ttu-id="556a2-145">Bu asıl ana veritabanı bir kapsanan veritabanı kullanıcı olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="556a2-145">This principal is created as a contained database user in the master database.</span></span> <span data-ttu-id="556a2-146">Yönetici olarak, sunucu yönetici hesapları, üyesi **db_owner** her kullanıcı rolünde veritabanı ve her kullanıcı veritabanı olarak girin **dbo** kullanıcı.</span><span class="sxs-lookup"><span data-stu-id="556a2-146">As administrators, the server administrator accounts are members of the **db_owner** role in every user database, and enter each user database as the **dbo** user.</span></span> <span data-ttu-id="556a2-147">Sunucu yönetici hesapları hakkında daha fazla bilgi için bkz: [yönetme veritabanları ve oturum açma bilgileri Azure SQL veritabanında](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="556a2-147">For more information about the server administrator accounts, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="556a2-148">Azure Active Directory coğrafi çoğaltma ile kullanırken, Azure Active Directory Yöneticisi hem birincil hem de ikincil sunucular için yapılandırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="556a2-148">When using Azure Active Directory with geo-replication, the Azure Active Directory administrator must be configured for both the primary and the secondary servers.</span></span> <span data-ttu-id="556a2-149">Bir sunucu bir Azure Active Directory yönetici sahip değilse daha sonra Azure Active Directory oturumları ve kullanıcıları bir "sunucu hatası bağlanılamıyor" alırlar.</span><span class="sxs-lookup"><span data-stu-id="556a2-149">If a server does not have an Azure Active Directory administrator, then Azure Active Directory logins and users receive a "Cannot connect" to server error.</span></span>

> [!NOTE]
> <span data-ttu-id="556a2-150">(Azure SQL server yönetici hesabı dahil) bir Azure AD hesabında dayalı olmayan kullanıcılar önerilen veritabanı kullanıcıları Azure AD ile doğrulama izni olmadığı için Azure AD tabanlı kullanıcılar, oluşturamıyor.</span><span class="sxs-lookup"><span data-stu-id="556a2-150">Users that are not based on an Azure AD account (including the Azure SQL server administrator account), cannot create Azure AD-based users, because they do not have permission to validate proposed database users with the Azure AD.</span></span>
> 

## <a name="provision-an-azure-active-directory-administrator-for-your-azure-sql-server"></a><span data-ttu-id="556a2-151">Azure Active Directory yönetici Azure SQL sunucunuzun sağlama</span><span class="sxs-lookup"><span data-stu-id="556a2-151">Provision an Azure Active Directory administrator for your Azure SQL server</span></span>

<span data-ttu-id="556a2-152">Aşağıdaki iki yordamdan Azure portalında ve PowerShell kullanarak Azure SQL server için Azure Active Directory yönetici sağlama gösterir.</span><span class="sxs-lookup"><span data-stu-id="556a2-152">The following two procedures show you how to provision an Azure Active Directory administrator for your Azure SQL server in the Azure portal and by using PowerShell.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="556a2-153">Azure portalına</span><span class="sxs-lookup"><span data-stu-id="556a2-153">Azure portal</span></span>
1. <span data-ttu-id="556a2-154">İçinde [Azure portal](https://portal.azure.com/), sağ üst köşede, açılan olası etkin dizinlerin bir liste için bağlantınızı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="556a2-154">In the [Azure portal](https://portal.azure.com/), in the upper-right corner, click your connection to drop down a list of possible Active Directories.</span></span> <span data-ttu-id="556a2-155">Doğru Active Directory varsayılan olarak Azure AD seçin.</span><span class="sxs-lookup"><span data-stu-id="556a2-155">Choose the correct Active Directory as the default Azure AD.</span></span> <span data-ttu-id="556a2-156">Bu adım, her ikisi için aynı abonelik kullanılır emin Azure SQL server ile Active Directory ile abonelik ilişkisi bağlar. Azure AD ve SQL Server.</span><span class="sxs-lookup"><span data-stu-id="556a2-156">This step links the subscription association with Active Directory with Azure SQL server making sure that the same subscription is used for both Azure AD and SQL Server.</span></span> <span data-ttu-id="556a2-157">(Azure SQL Azure SQL Database veya Azure SQL Data Warehouse barındırma sunucusu olması.)</span><span class="sxs-lookup"><span data-stu-id="556a2-157">(The Azure SQL server can be hosting either Azure SQL Database or Azure SQL Data Warehouse.)</span></span>   
    <span data-ttu-id="556a2-158">![ad seçin][8]</span><span class="sxs-lookup"><span data-stu-id="556a2-158">![choose-ad][8]</span></span>   
    
2. <span data-ttu-id="556a2-159">Sol başlığında seçin **SQL sunucuları**seçin, **SQL server**ve ardından **SQL Server** dikey penceresinde tıklatın **Active Directory Yöneticisi** .</span><span class="sxs-lookup"><span data-stu-id="556a2-159">In the left banner select **SQL servers**, select your **SQL server**, and then in the **SQL Server** blade, click **Active Directory admin**.</span></span>   
3. <span data-ttu-id="556a2-160">İçinde **Active Directory Yöneticisi** dikey penceresinde tıklatın **ayarlamak yönetici**.</span><span class="sxs-lookup"><span data-stu-id="556a2-160">In the **Active Directory admin** blade, click **Set admin**.</span></span>   
    <span data-ttu-id="556a2-161">![Active Directory'yi seçin](./media/sql-database-aad-authentication/select-active-directory.png)</span><span class="sxs-lookup"><span data-stu-id="556a2-161">![select active directory](./media/sql-database-aad-authentication/select-active-directory.png)</span></span>  
    
4. <span data-ttu-id="556a2-162">İçinde **yönetici ekleme** dikey penceresinde, bir kullanıcı ara seçin kullanıcı veya gruba bir yönetici olmanız ve ardından **seçin**.</span><span class="sxs-lookup"><span data-stu-id="556a2-162">In the **Add admin** blade, search for a user, select the user or group to be an administrator, and then click **Select**.</span></span> <span data-ttu-id="556a2-163">(Active Directory Yönetim dikey tüm üyeleri ve grupları, Active Directory gösterir.</span><span class="sxs-lookup"><span data-stu-id="556a2-163">(The Active Directory admin blade shows all members and groups of your Active Directory.</span></span> <span data-ttu-id="556a2-164">Kullanıcıları veya gri renkte grupları Azure AD Yöneticiler desteklenmediği için seçilemez.</span><span class="sxs-lookup"><span data-stu-id="556a2-164">Users or groups that are grayed out cannot be selected because they are not supported as Azure AD administrators.</span></span> <span data-ttu-id="556a2-165">(Desteklenen admins listesini görmek **Azure AD özelliklerini ve sınırlamalarını** bölümünü [Azure Active Directory kimlik doğrulamasını kullan SQL Database veya SQL Data Warehouse ile kimlik doğrulaması için](sql-database-aad-authentication.md).) Rol tabanlı erişim denetimi (RBAC) yalnızca portalına uygular ve SQL Server'a dağıtılmaz.</span><span class="sxs-lookup"><span data-stu-id="556a2-165">(See the list of supported admins in the **Azure AD Features and Limitations** section of [Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication.md).) Role-based access control (RBAC) applies only to the portal and is not propagated to SQL Server.</span></span>   
    <span data-ttu-id="556a2-166">![yönetici seçin](./media/sql-database-aad-authentication/select-admin.png)</span><span class="sxs-lookup"><span data-stu-id="556a2-166">![select admin](./media/sql-database-aad-authentication/select-admin.png)</span></span>  
    
5. <span data-ttu-id="556a2-167">Üstündeki **Active Directory Yöneticisi** dikey penceresinde tıklatın **KAYDETMEK**.</span><span class="sxs-lookup"><span data-stu-id="556a2-167">At the top of the **Active Directory admin** blade, click **SAVE**.</span></span>   
    <span data-ttu-id="556a2-168">![Yönetici Kaydet](./media/sql-database-aad-authentication/save-admin.png)</span><span class="sxs-lookup"><span data-stu-id="556a2-168">![save admin](./media/sql-database-aad-authentication/save-admin.png)</span></span>   

<span data-ttu-id="556a2-169">Yönetici değiştirme işlemi birkaç dakika sürebilir.</span><span class="sxs-lookup"><span data-stu-id="556a2-169">The process of changing the administrator may take several minutes.</span></span> <span data-ttu-id="556a2-170">Yeni yönetici görünür sonra **Active Directory Yöneticisi** kutusu.</span><span class="sxs-lookup"><span data-stu-id="556a2-170">Then the new administrator appears in the **Active Directory admin** box.</span></span>

   > [!NOTE]
   > <span data-ttu-id="556a2-171">Azure AD yönetim ayarlarken, yeni yönetici adı (kullanıcı veya grup) zaten bir SQL Server kimlik doğrulama kullanıcı olarak sanal ana veritabanında var olamaz.</span><span class="sxs-lookup"><span data-stu-id="556a2-171">When setting up the Azure AD admin, the new admin name (user or group) cannot already be present in the virtual master database as a SQL Server authentication user.</span></span> <span data-ttu-id="556a2-172">Varsa, Azure AD yönetim kurulum başarısız olur; Bu oluşturma geri alınıyor ve böyle bir yöneticinin (ad) zaten belirten bulunmaktadır.</span><span class="sxs-lookup"><span data-stu-id="556a2-172">If present, the Azure AD admin setup will fail; rolling back its creation and indicating that such an admin (name) already exists.</span></span> <span data-ttu-id="556a2-173">Böyle bir SQL Server kimlik doğrulama kullanıcı Azure AD parçası olmadığından, Azure AD kimlik doğrulaması kullanarak sunucuya bağlanmak için tüm çaba başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="556a2-173">Since such a SQL Server authentication user is not part of the Azure AD, any effort to connect to the server using Azure AD authentication fails.</span></span>
   > 


<span data-ttu-id="556a2-174">Daha sonra en üstündeki bir yönetici kaldırmak için **Active Directory Yönetim** dikey penceresinde tıklatın **kaldırmak yönetici**ve ardından **kaydetmek**.</span><span class="sxs-lookup"><span data-stu-id="556a2-174">To later remove an Admin, at the top of the **Active Directory admin** blade, click **Remove admin**, and then click **Save**.</span></span>

### <a name="powershell"></a><span data-ttu-id="556a2-175">PowerShell</span><span class="sxs-lookup"><span data-stu-id="556a2-175">PowerShell</span></span>
<span data-ttu-id="556a2-176">PowerShell cmdlet'lerini çalıştırmak için Azure PowerShell yüklenmiş ve çalışıyor olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="556a2-176">To run PowerShell cmdlets, you need to have Azure PowerShell installed and running.</span></span> <span data-ttu-id="556a2-177">Ayrıntılı bilgi için bkz. [Azure PowerShell'i yükleme ve yapılandırma](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="556a2-177">For detailed information, see [How to install and configure Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="556a2-178">Bir Azure AD yönetim sağlamak için aşağıdaki Azure PowerShell komutları yürütün:</span><span class="sxs-lookup"><span data-stu-id="556a2-178">To provision an Azure AD admin, execute the following Azure PowerShell commands:</span></span>

* <span data-ttu-id="556a2-179">Add-AzureRmAccount</span><span class="sxs-lookup"><span data-stu-id="556a2-179">Add-AzureRmAccount</span></span>
* <span data-ttu-id="556a2-180">Select-AzureRmSubscription</span><span class="sxs-lookup"><span data-stu-id="556a2-180">Select-AzureRmSubscription</span></span>

<span data-ttu-id="556a2-181">Sağlamak ve Azure AD yönetim yönetmek için cmdlet'ler kullanılır:</span><span class="sxs-lookup"><span data-stu-id="556a2-181">Cmdlets used to provision and manage Azure AD admin:</span></span>

| <span data-ttu-id="556a2-182">Cmdlet adı</span><span class="sxs-lookup"><span data-stu-id="556a2-182">Cmdlet name</span></span> | <span data-ttu-id="556a2-183">Açıklama</span><span class="sxs-lookup"><span data-stu-id="556a2-183">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="556a2-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="556a2-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/set-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="556a2-185">Azure SQL server veya Azure SQL Data Warehouse için Azure Active Directory yönetici sağlar.</span><span class="sxs-lookup"><span data-stu-id="556a2-185">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="556a2-186">(Geçerli abonelikten olması gerekir.)</span><span class="sxs-lookup"><span data-stu-id="556a2-186">(Must be from the current subscription.)</span></span> |
| [<span data-ttu-id="556a2-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="556a2-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/remove-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="556a2-188">Azure SQL server veya Azure SQL Data Warehouse için Azure Active Directory yönetici kaldırır.</span><span class="sxs-lookup"><span data-stu-id="556a2-188">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
| [<span data-ttu-id="556a2-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="556a2-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/get-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="556a2-190">Azure SQL sunucusu veya Azure SQL Data Warehouse için yapılandırılmış bir Azure Active Directory Yöneticisi hakkında bilgi verir.</span><span class="sxs-lookup"><span data-stu-id="556a2-190">Returns information about an Azure Active Directory administrator currently configured for the Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="556a2-191">Örneğin her bu komutları için daha fazla ayrıntı görmek için PowerShell komutu get-help kullanın ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span><span class="sxs-lookup"><span data-stu-id="556a2-191">Use PowerShell command get-help to see more details for each of these commands, for example ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span></span>

<span data-ttu-id="556a2-192">Aşağıdaki komut dosyası Azure AD yönetici grubuna adlı hükümleri **DBA_Group** (nesne kimliği `40b79501-b343-44ed-9ce7-da4c8cc7353f`) için **demo_server** adlı bir kaynak grubunda sunucu **Grup-23**:</span><span class="sxs-lookup"><span data-stu-id="556a2-192">The following script provisions an Azure AD administrator group named **DBA_Group** (object id `40b79501-b343-44ed-9ce7-da4c8cc7353f`) for the **demo_server** server in a resource group named **Group-23**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group"
```

<span data-ttu-id="556a2-193">**DisplayName** giriş parametresi Azure AD görünen adı veya kullanıcı asıl adını kabul eder.</span><span class="sxs-lookup"><span data-stu-id="556a2-193">The **DisplayName** input parameter accepts either the Azure AD display name or the User Principal Name.</span></span> <span data-ttu-id="556a2-194">Örneğin, ``DisplayName="John Smith"`` ve ``DisplayName="johns@contoso.com"``.</span><span class="sxs-lookup"><span data-stu-id="556a2-194">For example, ``DisplayName="John Smith"`` and ``DisplayName="johns@contoso.com"``.</span></span> <span data-ttu-id="556a2-195">Azure AD grupları yalnızca Azure AD görünen adı desteklenir.</span><span class="sxs-lookup"><span data-stu-id="556a2-195">For Azure AD groups only the Azure AD display name is supported.</span></span>

> [!NOTE]
> <span data-ttu-id="556a2-196">Azure PowerShell komutunu ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` desteklenmeyen kullanıcılar için Azure AD yöneticileri sağlama engellemez.</span><span class="sxs-lookup"><span data-stu-id="556a2-196">The Azure PowerShell  command ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` does not prevent you from provisioning Azure AD admins for unsupported users.</span></span> <span data-ttu-id="556a2-197">Desteklenmeyen bir kullanıcı sağlanabilir, ancak bir veritabanına bağlanamıyor.</span><span class="sxs-lookup"><span data-stu-id="556a2-197">An unsupported user can be provisioned, but can not connect to a database.</span></span> 
> 

<span data-ttu-id="556a2-198">Aşağıdaki örnek isteğe bağlı kullanır **objectID**:</span><span class="sxs-lookup"><span data-stu-id="556a2-198">The following example uses the optional **ObjectID**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group" -ObjectId "40b79501-b343-44ed-9ce7-da4c8cc7353f"
```

> [!NOTE]
> <span data-ttu-id="556a2-199">Azure AD **objectID** gerekli olduğunda **DisplayName** benzersiz değil.</span><span class="sxs-lookup"><span data-stu-id="556a2-199">The Azure AD **ObjectID** is required when the **DisplayName** is not unique.</span></span> <span data-ttu-id="556a2-200">Alınacak **objectID** ve **DisplayName** değerleri, Klasik Azure portalı Active Directory bölümünü kullanın ve bir kullanıcının veya grubun özelliklerini görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="556a2-200">To retrieve the **ObjectID** and **DisplayName** values, use the Active Directory section of Azure Classic Portal, and view the properties of a user or group.</span></span>
> 

<span data-ttu-id="556a2-201">Aşağıdaki örnek geçerli hakkında bilgi verir Azure SQL server için Azure AD yönetim:</span><span class="sxs-lookup"><span data-stu-id="556a2-201">The following example returns information about the current Azure AD admin for Azure SQL server:</span></span>

```
Get-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server" | Format-List
```

<span data-ttu-id="556a2-202">Aşağıdaki örnek, Azure AD yönetici kaldırır:</span><span class="sxs-lookup"><span data-stu-id="556a2-202">The following example removes an Azure AD administrator:</span></span>

```
Remove-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server"
```

<span data-ttu-id="556a2-203">Azure Active Directory yönetici REST API'lerini kullanarak da sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="556a2-203">You can also provision an Azure Active Directory Administrator by using the REST APIs.</span></span> <span data-ttu-id="556a2-204">Daha fazla bilgi için bkz: [Hizmet Yönetimi REST API Başvurusu ve Azure SQL veritabanları için Azure SQL veritabanı işlemleri için işlemler](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span><span class="sxs-lookup"><span data-stu-id="556a2-204">For more information, see [Service Management REST API Reference and Operations for Azure SQL Databases Operations for Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span></span>

### <a name="cli"></a><span data-ttu-id="556a2-205">CLI</span><span class="sxs-lookup"><span data-stu-id="556a2-205">CLI</span></span>  
<span data-ttu-id="556a2-206">Bir Azure AD yönetim aşağıdaki CLI komutları çağırarak de sağlayabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="556a2-206">You can also provision an Azure AD admin by calling the following CLI commands:</span></span>
| <span data-ttu-id="556a2-207">Komut</span><span class="sxs-lookup"><span data-stu-id="556a2-207">Command</span></span> | <span data-ttu-id="556a2-208">Açıklama</span><span class="sxs-lookup"><span data-stu-id="556a2-208">Description</span></span> |
| --- | --- |
|[<span data-ttu-id="556a2-209">az sql server ad-Yöneticisi oluşturma</span><span class="sxs-lookup"><span data-stu-id="556a2-209">az sql server ad-admin create</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#create) |<span data-ttu-id="556a2-210">Azure SQL server veya Azure SQL Data Warehouse için Azure Active Directory yönetici sağlar.</span><span class="sxs-lookup"><span data-stu-id="556a2-210">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="556a2-211">(Geçerli abonelikten olması gerekir.)</span><span class="sxs-lookup"><span data-stu-id="556a2-211">(Must be from the current subscription.)</span></span> |
|[<span data-ttu-id="556a2-212">az sql server yönetici ad silme</span><span class="sxs-lookup"><span data-stu-id="556a2-212">az sql server ad-admin delete</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#delete) |<span data-ttu-id="556a2-213">Azure SQL server veya Azure SQL Data Warehouse için Azure Active Directory yönetici kaldırır.</span><span class="sxs-lookup"><span data-stu-id="556a2-213">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="556a2-214">az sql server yönetici ad listesi</span><span class="sxs-lookup"><span data-stu-id="556a2-214">az sql server ad-admin list</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#list) |<span data-ttu-id="556a2-215">Azure SQL sunucusu veya Azure SQL Data Warehouse için yapılandırılmış bir Azure Active Directory Yöneticisi hakkında bilgi verir.</span><span class="sxs-lookup"><span data-stu-id="556a2-215">Returns information about an Azure Active Directory administrator currently configured for the Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="556a2-216">az sql server ad Yönetim Güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="556a2-216">az sql server ad-admin update</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#update) |<span data-ttu-id="556a2-217">Bir Azure SQL sunucusu veya Azure SQL Data Warehouse için Active Directory Yöneticisi güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="556a2-217">Updates the Active Directory administrator for an Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="556a2-218">CLI komutları hakkında daha fazla bilgi için bkz: [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span><span class="sxs-lookup"><span data-stu-id="556a2-218">For more information about CLI commands, see [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span></span>  


## <a name="configure-your-client-computers"></a><span data-ttu-id="556a2-219">İstemci bilgisayarları yapılandırın</span><span class="sxs-lookup"><span data-stu-id="556a2-219">Configure your client computers</span></span>
<span data-ttu-id="556a2-220">Uygulama veya kullanıcıların Azure SQL veritabanı veya Azure SQL Data Warehouse kullanarak Azure AD kimlikleri bağlanmak tüm istemci makinelerde aşağıdaki yazılımları yüklemeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="556a2-220">On all client machines, from which your applications or users connect to Azure SQL Database or Azure SQL Data Warehouse using Azure AD identities, you must install the following software:</span></span>

* <span data-ttu-id="556a2-221">.NET framework 4.6 veya sonrası gelen [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span><span class="sxs-lookup"><span data-stu-id="556a2-221">.NET Framework 4.6 or later from [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span></span>
* <span data-ttu-id="556a2-222">SQL Server için Azure Active Directory kimlik doğrulama kitaplığı (**ADALSQL. DLL**) birden çok dilde kullanılabilir (x86 ve amd64) İndirme Merkezi'nden [Microsoft Active Directory kimlik doğrulama kitaplığı için Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span><span class="sxs-lookup"><span data-stu-id="556a2-222">Azure Active Directory Authentication Library for SQL Server (**ADALSQL.DLL**) is available in multiple languages (both x86 and amd64) from the download center at [Microsoft Active Directory Authentication Library for Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span></span>

<span data-ttu-id="556a2-223">Tarafından bu gereksinimleri karşılayabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="556a2-223">You can meet these requirements by:</span></span>

* <span data-ttu-id="556a2-224">Ya da yükleme [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) veya [SQL Server veri araçları Visual Studio 2015 için](https://msdn.microsoft.com/library/mt204009.aspx) .NET Framework 4.6 gereksinimini karşılar.</span><span class="sxs-lookup"><span data-stu-id="556a2-224">Installing either [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) or [SQL Server Data Tools for Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) meets the .NET Framework 4.6 requirement.</span></span>
* <span data-ttu-id="556a2-225">SSMS yükler x86 sürümü **ADALSQL. DLL**.</span><span class="sxs-lookup"><span data-stu-id="556a2-225">SSMS installs the x86 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="556a2-226">SSDT amd64 sürümünü yükler **ADALSQL. DLL**.</span><span class="sxs-lookup"><span data-stu-id="556a2-226">SSDT installs the amd64 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="556a2-227">En son Visual Studio'dan [Visual Studio indirmeleri](https://www.visualstudio.com/downloads/download-visual-studio-vs) .NET Framework 4.6 gereksinimini karşılıyor ancak gerekli amd64 sürümü yüklemez **ADALSQL. DLL**.</span><span class="sxs-lookup"><span data-stu-id="556a2-227">The latest Visual Studio from [Visual Studio Downloads](https://www.visualstudio.com/downloads/download-visual-studio-vs) meets the .NET Framework 4.6 requirement, but does not install the required amd64 version of **ADALSQL.DLL**.</span></span>

## <a name="create-contained-database-users-in-your-database-mapped-to-azure-ad-identities"></a><span data-ttu-id="556a2-228">Azure AD kimlikleri eşlenen veritabanınızdaki kapsanan veritabanı kullanıcıları oluşturun</span><span class="sxs-lookup"><span data-stu-id="556a2-228">Create contained database users in your database mapped to Azure AD identities</span></span>

<span data-ttu-id="556a2-229">Azure Active Directory kimlik doğrulaması kapsanan veritabanı kullanıcıları oluşturulacak veritabanı kullanıcıları gerektirir.</span><span class="sxs-lookup"><span data-stu-id="556a2-229">Azure Active Directory authentication requires database users to be created as contained database users.</span></span> <span data-ttu-id="556a2-230">Bir Azure AD kimliğine göre bir kapsanan veritabanı kullanıcısı olan bir oturum açma ana veritabanında sahip olmayan bir veritabanı kullanıcısı ve veritabanı ile ilişkili Azure AD dizininde bir kimliğine eşler.</span><span class="sxs-lookup"><span data-stu-id="556a2-230">A contained database user based on an Azure AD identity, is a database user that does not have a login in the master database, and which maps to an identity in the Azure AD directory that is associated with the database.</span></span> <span data-ttu-id="556a2-231">Azure AD kimlik bireysel bir kullanıcı hesabı veya bir grup olabilir.</span><span class="sxs-lookup"><span data-stu-id="556a2-231">The Azure AD identity can be either an individual user account or a group.</span></span> <span data-ttu-id="556a2-232">Kapsanan veritabanı kullanıcıları hakkında daha fazla bilgi için bkz: [bulunan veritabanı kullanıcıları yapma bilgisayarınızı veritabanı taşınabilir](https://msdn.microsoft.com/library/ff929188.aspx).</span><span class="sxs-lookup"><span data-stu-id="556a2-232">For more information about contained database users, see [Contained Database Users- Making Your Database Portable](https://msdn.microsoft.com/library/ff929188.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="556a2-233">Veritabanı kullanıcıları (yöneticiler dışında) portal kullanarak oluşturulamıyor.</span><span class="sxs-lookup"><span data-stu-id="556a2-233">Database users (with the exception of administrators) cannot be created using portal.</span></span> <span data-ttu-id="556a2-234">SQL Server, SQL Database veya SQL Data Warehouse için RBAC rolleri yayılmaz.</span><span class="sxs-lookup"><span data-stu-id="556a2-234">RBAC roles are not propagated to SQL Server, SQL Database, or SQL Data Warehouse.</span></span> <span data-ttu-id="556a2-235">Azure RBAC rolleri Azure kaynaklarını yönetmek için kullanılır ve veritabanı izinleri için geçerli değildir.</span><span class="sxs-lookup"><span data-stu-id="556a2-235">Azure RBAC roles are used for managing Azure Resources, and do not apply to database permissions.</span></span> <span data-ttu-id="556a2-236">Örneğin, **SQL Server Katılımcısı** rolü, SQL Database veya SQL Data Warehouse bağlanmak için erişim vermez.</span><span class="sxs-lookup"><span data-stu-id="556a2-236">For example, the **SQL Server Contributor** role does not grant access to connect to the SQL Database or SQL Data Warehouse.</span></span> <span data-ttu-id="556a2-237">Transact-SQL deyimlerini kullanarak veritabanına doğrudan erişim izni verilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="556a2-237">The access permission must be granted directly in the database using Transact-SQL statements.</span></span>
>

<span data-ttu-id="556a2-238">Bir Azure AD tabanlı bulunan veritabanı (başka kullanıcı veritabanı sahibi Sunucu Yöneticisi) oluşturmak, bir Azure AD kimlik veritabanıyla olan bir kullanıcı olarak bağlanmak için en az **ALTER herhangi bir kullanıcı** izni.</span><span class="sxs-lookup"><span data-stu-id="556a2-238">To create an Azure AD-based contained database user (other than the server administrator that owns the database), connect to the database with an Azure AD identity, as a user with at least the **ALTER ANY USER** permission.</span></span> <span data-ttu-id="556a2-239">Ardından aşağıdaki Transact-SQL söz dizimini kullanın:</span><span class="sxs-lookup"><span data-stu-id="556a2-239">Then use the following Transact-SQL syntax:</span></span>

```
CREATE USER <Azure_AD_principal_name> FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="556a2-240">*Azure_AD_principal_name* bir Azure AD kullanıcısının kullanıcı asıl adını veya Azure AD grubundaki görünen adı olabilir.</span><span class="sxs-lookup"><span data-stu-id="556a2-240">*Azure_AD_principal_name* can be the user principal name of an Azure AD user or the display name for an Azure AD group.</span></span>

<span data-ttu-id="556a2-241">**Örnekler:** kapsanan bir veritabanı oluşturmak için Azure AD temsil eden kullanıcı federe veya yönetilen etki alanı kullanıcısı:</span><span class="sxs-lookup"><span data-stu-id="556a2-241">**Examples:** To create a contained database user representing an Azure AD federated or managed domain user:</span></span>
```
CREATE USER [bob@contoso.com] FROM EXTERNAL PROVIDER;
CREATE USER [alice@fabrikam.onmicrosoft.com] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="556a2-242">Azure AD temsil eden veya etki alanı grubu federe bir kapsanan veritabanı kullanıcısı oluşturmak için bir güvenlik grubu görünen adını sağlayın:</span><span class="sxs-lookup"><span data-stu-id="556a2-242">To create a contained database user representing an Azure AD or federated domain group, provide the display name of a security group:</span></span>
```
CREATE USER [ICU Nurses] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="556a2-243">Bir Azure AD belirteci kullanarak bağlanan bir uygulama temsil eden bir kapsanan veritabanı kullanıcısı oluşturmak için:</span><span class="sxs-lookup"><span data-stu-id="556a2-243">To create a contained database user representing an application that connects using an Azure AD token:</span></span>

```
CREATE USER [appName] FROM EXTERNAL PROVIDER;
```

>  [!TIP]
>  <span data-ttu-id="556a2-244">Bir kullanıcı, Azure aboneliğinizle ilişkili Azure Active Directory dışındaki bir Azure Active Directory'den doğrudan oluşturulamıyor.</span><span class="sxs-lookup"><span data-stu-id="556a2-244">You cannot directly create a user from an Azure Active Directory other than the Azure Active Directory that is associated with your Azure subscription.</span></span> <span data-ttu-id="556a2-245">Ancak, ilişkili Active Directory'de (dış kullanıcılar olarak da bilinir) içeri aktarılan kullanıcılar olan diğer etkin dizinleri üyeleri Active Directory kiracısındaki bir Active Directory grubuna eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="556a2-245">However, members of other Active Directories that are imported users in the associated Active Directory (known as external users) can be added to an Active Directory group in the tenant Active Directory.</span></span> <span data-ttu-id="556a2-246">Bu AD grubu için kapsanan veritabanı kullanıcı oluşturarak, dış Active Directory'den kullanıcıları SQL veritabanına erişebilir.</span><span class="sxs-lookup"><span data-stu-id="556a2-246">By creating a contained database user for that AD group, the users from the external Active Directory can gain access to SQL Database.</span></span>   

<span data-ttu-id="556a2-247">Bulunan oluşturma hakkında daha fazla bilgi için veritabanı kullanıcıları Azure Active Directory kimliği temel, bakın [kullanıcı oluştur (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span><span class="sxs-lookup"><span data-stu-id="556a2-247">For more information about creating contained database users based on Azure Active Directory identities, see [CREATE USER (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="556a2-248">Azure SQL server için Azure Active Directory Yöneticisi kaldırma, herhangi bir Azure AD kimlik doğrulama kullanıcı sunucusuna bağlanmasını engeller.</span><span class="sxs-lookup"><span data-stu-id="556a2-248">Removing the Azure Active Directory administrator for Azure SQL server prevents any Azure AD authentication user from connecting to the server.</span></span> <span data-ttu-id="556a2-249">Gerekli olduğunda, kullanılamaz Azure AD kullanıcıları bırakılan el ile bir SQL veritabanı yöneticisi tarafından.</span><span class="sxs-lookup"><span data-stu-id="556a2-249">If necessary, unusable Azure AD users can be dropped manually by a SQL Database administrator.</span></span>   

>  [!NOTE]
>  <span data-ttu-id="556a2-250">Alırsanız, bir **bağlantı zaman aşımı süresi doldu**, ayarlamanız gerekebilir `TransparentNetworkIPResolution` yanlış bağlantı dizesi parametresi.</span><span class="sxs-lookup"><span data-stu-id="556a2-250">If you receive a **Connection Timeout Expired**, you may need to set the `TransparentNetworkIPResolution` parameter of the connection string to false.</span></span> <span data-ttu-id="556a2-251">Daha fazla bilgi için bkz: [bağlantı zaman aşımı .NET Framework 4.6.1 - TransparentNetworkIPResolution sorun](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span><span class="sxs-lookup"><span data-stu-id="556a2-251">For more information, see [Connection timeout issue with .NET Framework 4.6.1 - TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span></span>   

   
<span data-ttu-id="556a2-252">Bir veritabanı kullanıcısı oluşturduğunuzda, bu kullanıcının aldığı **BAĞLAN** izni ve bir üyesi olarak o veritabanına bağlanabilir **ortak** rol.</span><span class="sxs-lookup"><span data-stu-id="556a2-252">When you create a database user, that user receives the **CONNECT** permission and can connect to that database as a member of the **PUBLIC** role.</span></span> <span data-ttu-id="556a2-253">Başlangıçta yalnızca kullanıcı tarafından kullanılabilir verilen izinler izinlerdir **ortak** rol ya da herhangi bir Windows gruplarının üyesi olan tüm izinler.</span><span class="sxs-lookup"><span data-stu-id="556a2-253">Initially the only permissions available to the user are any permissions granted to the **PUBLIC** role, or any permissions granted to any Windows groups that they are a member of.</span></span> <span data-ttu-id="556a2-254">Bir Azure AD tabanlı bulunan veritabanı kullanıcı sağlamak sonra başka bir kullanıcı türüne izni gibi kullanıcı ek, aynı şekilde izin verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="556a2-254">Once you provision an Azure AD-based contained database user, you can grant the user additional permissions, the same way as you grant permission to any other type of user.</span></span> <span data-ttu-id="556a2-255">Genellikle veritabanı rolleri izinleri ve kullanıcıları rollere ekleyin.</span><span class="sxs-lookup"><span data-stu-id="556a2-255">Typically grant permissions to database roles, and add users to roles.</span></span> <span data-ttu-id="556a2-256">Daha fazla bilgi için bkz: [veritabanı altyapısı izni Temelleri](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span><span class="sxs-lookup"><span data-stu-id="556a2-256">For more information, see [Database Engine Permission Basics](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span></span> <span data-ttu-id="556a2-257">Özel SQL veritabanı rolleri hakkında daha fazla bilgi için bkz: [yönetme veritabanları ve oturum açma bilgileri Azure SQL veritabanında](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="556a2-257">For more information about special SQL Database roles, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>
<span data-ttu-id="556a2-258">Bir Yönet etki alanına içe aktarılan bir Federasyon etki alanı kullanıcısı yönetilen etki alanı kimliği kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="556a2-258">A federated domain user that is imported into a manage domain, must use the managed domain identity.</span></span>

> [!NOTE]
> <span data-ttu-id="556a2-259">Azure AD kullanıcıları veritabanı meta verilerde E (EXTERNAL_USER) türüyle ve gruplar için türü X (EXTERNAL_GROUPS) ile işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="556a2-259">Azure AD users are marked in the database metadata with type E (EXTERNAL_USER) and for groups with type X (EXTERNAL_GROUPS).</span></span> <span data-ttu-id="556a2-260">Daha fazla bilgi için bkz: [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span><span class="sxs-lookup"><span data-stu-id="556a2-260">For more information, see [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span> 
>

## <a name="connect-to-the-user-database-or-data-warehouse-by-using-ssms-or-ssdt"></a><span data-ttu-id="556a2-261">Kullanıcı veritabanı veya veri ambarı SSMS veya SSDT kullanarak bağlanın</span><span class="sxs-lookup"><span data-stu-id="556a2-261">Connect to the user database or data warehouse by using SSMS or SSDT</span></span>  
<span data-ttu-id="556a2-262">Azure AD Yöneticisi düzgün ayarlandığından onaylamak için bağlanmak **ana** Azure AD yönetici hesabını kullanarak veritabanı.</span><span class="sxs-lookup"><span data-stu-id="556a2-262">To confirm the Azure AD administrator is properly set up, connect to the **master** database using the Azure AD administrator account.</span></span>
<span data-ttu-id="556a2-263">Bir Azure AD tabanlı bulunan veritabanı (başka kullanıcı veritabanı sahibi Sunucu Yöneticisi) sağlamak için veritabanına erişimi olan bir Azure AD kimlik veritabanıyla bağlayın.</span><span class="sxs-lookup"><span data-stu-id="556a2-263">To provision an Azure AD-based contained database user (other than the server administrator that owns the database), connect to the database with an Azure AD identity that has access to the database.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="556a2-264">Azure Active Directory kimlik doğrulaması için destek ile kullanılabilir [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) ve [SQL Server veri Araçları](https://msdn.microsoft.com/library/mt204009.aspx) Visual Studio 2015'te.</span><span class="sxs-lookup"><span data-stu-id="556a2-264">Support for Azure Active Directory authentication is available with [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) and [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) in Visual Studio 2015.</span></span> <span data-ttu-id="556a2-265">SSMS Ağustos 2016 sürümü, Active Directory Evrensel yöneticilerin çok faktörlü kimlik doğrulaması kullanarak bir telefon araması, SMS mesajı, akıllı kartlar ve PIN ya da mobil uygulama bildirimi gerektiren olanak sağlayan kimlik doğrulaması için destek de içerir.</span><span class="sxs-lookup"><span data-stu-id="556a2-265">The August 2016 release of SSMS also includes support for Active Directory Universal Authentication, which allows administrators to require Multi-Factor Authentication using a phone call, text message, smart cards with pin, or mobile app notification.</span></span>
 
## <a name="using-an-azure-ad-identity-to-connect-using-ssms-or-ssdt"></a><span data-ttu-id="556a2-266">SSMS veya SSDT kullanarak bağlanmak için bir Azure AD kimlik kullanma</span><span class="sxs-lookup"><span data-stu-id="556a2-266">Using an Azure AD identity to connect using SSMS or SSDT</span></span>  

<span data-ttu-id="556a2-267">Aşağıdaki yordamlar SQL Server Management Studio veya SQL Server veritabanı araçları kullanarak bir Azure AD kimlik ile bir SQL veritabanına bağlanma gösterir.</span><span class="sxs-lookup"><span data-stu-id="556a2-267">The following procedures show you how to connect to a SQL database with an Azure AD identity using SQL Server Management Studio or SQL Server Database Tools.</span></span>

### <a name="active-directory-integrated-authentication"></a><span data-ttu-id="556a2-268">Active Directory tümleşik kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="556a2-268">Active Directory integrated authentication</span></span>

<span data-ttu-id="556a2-269">Bir Federasyon etki alanına ait Azure Active Directory kimlik bilgilerinizi kullanarak Windows'a oturum açarsanız, bu yöntemi kullanın.</span><span class="sxs-lookup"><span data-stu-id="556a2-269">Use this method if you are logged in to Windows using your Azure Active Directory credentials from a federated domain.</span></span>

1. <span data-ttu-id="556a2-270">Management Studio veya veri araçları başlatın ve **sunucuya Bağlan** (veya **veritabanı motoruna Bağlan**) iletişim kutusunda **kimlik doğrulaması** kutusunda  **Active Directory - tümleşik**.</span><span class="sxs-lookup"><span data-stu-id="556a2-270">Start Management Studio or Data Tools and in the **Connect to Server** (or **Connect to Database Engine**) dialog box, in the **Authentication** box, select **Active Directory - Integrated**.</span></span> <span data-ttu-id="556a2-271">Parola gereklidir veya var olan kimlik bilgilerinizle bağlantı için sunulur çünkü girilebilir.</span><span class="sxs-lookup"><span data-stu-id="556a2-271">No password is needed or can be entered because your existing credentials will be presented for the connection.</span></span>   

    ![AD tümleşik kimlik doğrulaması seçin][11]
2. <span data-ttu-id="556a2-273">Tıklatın **seçenekleri** düğmesi ve **bağlantı özelliklerini** sayfasında **veritabanına bağlan** kutusuna, bağlanmak istediğiniz kullanıcı veritabanının adını yazın.</span><span class="sxs-lookup"><span data-stu-id="556a2-273">Click the **Options** button, and on the **Connection Properties** page, in the **Connect to database** box, type the name of the user database you want to connect to.</span></span> <span data-ttu-id="556a2-274">( **AD etki alanı adı veya Kiracı kimliği**"seçeneği için desteklenen yalnızca **MFA bağlantısıyla Evrensel** seçenekleri, aksi takdirde, griyse.)</span><span class="sxs-lookup"><span data-stu-id="556a2-274">(The **AD domain name or tenant ID**” option is only supported for **Universal with MFA connection** options, otherwise it is greyed out.)</span></span>  

    ![Veritabanı adını seçin][13]

## <a name="active-directory-password-authentication"></a><span data-ttu-id="556a2-276">Active Directory parola kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="556a2-276">Active Directory password authentication</span></span>

<span data-ttu-id="556a2-277">Azure AD kullanarak bir Azure AD asıl adı ile bağlanma etki alanı yönetildiğinde bu yöntemi kullanın.</span><span class="sxs-lookup"><span data-stu-id="556a2-277">Use this method when connecting with an Azure AD principal name using the Azure AD managed domain.</span></span> <span data-ttu-id="556a2-278">Uzaktan çalışırken, örneğin etki alanı erişimi olmadan birleştirilmiş hesap için de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="556a2-278">You can also use it for federated account without access to the domain, for example when working remotely.</span></span>

<span data-ttu-id="556a2-279">Windows Azure ile Federasyon olmayan bir etki alanı kimlik bilgilerini kullanarak oturum açarsanız, ya da Azure AD kullanarak Azure AD kimlik doğrulaması kullanarak ilk veya istemci etki alanına göre bu yöntemi kullanın.</span><span class="sxs-lookup"><span data-stu-id="556a2-279">Use this method if you are logged in to Windows using credentials from a domain that is not federated with Azure, or when using Azure AD authentication using Azure AD based on the initial or the client domain.</span></span>

1. <span data-ttu-id="556a2-280">Management Studio veya veri araçları başlatın ve **sunucuya Bağlan** (veya **veritabanı motoruna Bağlan**) iletişim kutusunda **kimlik doğrulaması** kutusunda  **Active Directory - parola**.</span><span class="sxs-lookup"><span data-stu-id="556a2-280">Start Management Studio or Data Tools and in the **Connect to Server** (or **Connect to Database Engine**) dialog box, in the **Authentication** box, select **Active Directory - Password**.</span></span>
2. <span data-ttu-id="556a2-281">İçinde **kullanıcı adı** biçiminde Azure Active Directory kullanıcı adınızı yazın  **username@domain.com** . Bir etki alanındaki bir hesabı Azure Active Directory ile birleştirmek veya bu Azure Active Directory'den bir hesabı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="556a2-281">In the **User name** box, type your Azure Active Directory user name in the format **username@domain.com**. This must be an account from the Azure Active Directory or an account from a domain federate with the Azure Active Directory.</span></span>
3. <span data-ttu-id="556a2-282">İçinde **parola** kutusunda, Azure Active Directory hesabı için kullanıcı parolanızı yazın veya Federasyon etki alanı hesabı.</span><span class="sxs-lookup"><span data-stu-id="556a2-282">In the **Password** box, type your user password for the Azure Active Directory account or federated domain account.</span></span>

    ![AD parola kimlik doğrulaması][12]
4. <span data-ttu-id="556a2-284">Tıklatın **seçenekleri** düğmesi ve **bağlantı özelliklerini** sayfasında **veritabanına bağlan** kutusuna, bağlanmak istediğiniz kullanıcı veritabanının adını yazın.</span><span class="sxs-lookup"><span data-stu-id="556a2-284">Click the **Options** button, and on the **Connection Properties** page, in the **Connect to database** box, type the name of the user database you want to connect to.</span></span> <span data-ttu-id="556a2-285">(Bkz. önceki seçenek grafikte.)</span><span class="sxs-lookup"><span data-stu-id="556a2-285">(See the graphic in the previous option.)</span></span>

## <a name="using-an-azure-ad-identity-to-connect-from-a-client-application"></a><span data-ttu-id="556a2-286">Bir istemci uygulamadan bağlanmak için bir Azure AD kimlik kullanma</span><span class="sxs-lookup"><span data-stu-id="556a2-286">Using an Azure AD identity to connect from a client application</span></span>

<span data-ttu-id="556a2-287">Aşağıdaki yordamlar bir istemci uygulamadan bir Azure AD kimlik olan bir SQL veritabanına bağlanma gösterir.</span><span class="sxs-lookup"><span data-stu-id="556a2-287">The following procedures show you how to connect to a SQL database with an Azure AD identity from a client application.</span></span>

###  <a name="active-directory-integrated-authentication"></a><span data-ttu-id="556a2-288">Active Directory tümleşik kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="556a2-288">Active Directory integrated authentication</span></span>

<span data-ttu-id="556a2-289">Tümleşik Windows kimlik doğrulaması kullanmak için Azure Active Directory ile etki alanınızın Active Directory Federasyon gerekir.</span><span class="sxs-lookup"><span data-stu-id="556a2-289">To use integrated Windows authentication, your domain’s Active Directory must be federated with Azure Active Directory.</span></span> <span data-ttu-id="556a2-290">Veritabanına bağlanırken istemci uygulamanız (veya bir hizmeti), bir etki alanına katılmış makinede kullanıcının etki alanı kimlik bilgileri altında çalışmalıdır.</span><span class="sxs-lookup"><span data-stu-id="556a2-290">Your client application (or a service) connecting to the database must be running on a domain-joined machine under a user’s domain credentials.</span></span>

<span data-ttu-id="556a2-291">Tümleşik kimlik doğrulaması ve Azure AD kimlik kullanarak bir veritabanına bağlanmak için kimlik doğrulama anahtar sözcüğü veritabanı bağlantı dizesinde Active Directory tümleşik için ayarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="556a2-291">To connect to a database using integrated authentication and an Azure AD identity, the Authentication keyword in the database connection string must be set to Active Directory Integrated.</span></span> <span data-ttu-id="556a2-292">Aşağıdaki C# kod örneği ADO .NET kullanır.</span><span class="sxs-lookup"><span data-stu-id="556a2-292">The following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Integrated; Initial Catalog=testdb;";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="556a2-293">Bağlantı dizesi anahtar sözcüğü ``Integrated Security=True`` Azure SQL veritabanına bağlanmak için desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="556a2-293">The connection string keyword ``Integrated Security=True`` is not supported for connecting to Azure SQL Database.</span></span> <span data-ttu-id="556a2-294">ODBC bağlantısı yaparken boşlukları kaldırın ve kimlik doğrulama 'ActiveDirectoryIntegrated' olarak ayarlanabilir gerekecektir.</span><span class="sxs-lookup"><span data-stu-id="556a2-294">When making an ODBC connection, you will need to remove spaces and set Authentication to 'ActiveDirectoryIntegrated'.</span></span>

### <a name="active-directory-password-authentication"></a><span data-ttu-id="556a2-295">Active Directory parola kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="556a2-295">Active Directory password authentication</span></span>

<span data-ttu-id="556a2-296">Tümleşik kimlik doğrulaması ve Azure AD kimlik kullanarak bir veritabanına bağlanmak için Active Directory parola kimlik doğrulaması anahtar sözcüğü ayarlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="556a2-296">To connect to a database using integrated authentication and an Azure AD identity, the Authentication keyword must be set to Active Directory Password.</span></span> <span data-ttu-id="556a2-297">Bağlantı dizesi, kullanıcı kimliği/kullanıcı kimliği ve parola/PWD anahtar sözcükleri ve değerleri içermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="556a2-297">The connection string must contain User ID/UID and Password/PWD keywords and values.</span></span> <span data-ttu-id="556a2-298">Aşağıdaki C# kod örneği ADO .NET kullanır.</span><span class="sxs-lookup"><span data-stu-id="556a2-298">The following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Password; Initial Catalog=testdb;  UID=bob@contoso.onmicrosoft.com; PWD=MyPassWord!";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="556a2-299">Kullanarak gösteri kod örnekleri adresinde Azure AD kimlik doğrulama yöntemleri hakkında daha fazla bilgi [Azure AD kimlik doğrulama GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span><span class="sxs-lookup"><span data-stu-id="556a2-299">Learn more about Azure AD authentication methods using the demo code samples available at [Azure AD Authentication GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span></span>

## <a name="azure-ad-token"></a><span data-ttu-id="556a2-300">Azure AD simgesi</span><span class="sxs-lookup"><span data-stu-id="556a2-300">Azure AD token</span></span>
<span data-ttu-id="556a2-301">Bu kimlik doğrulama yöntemini orta katman Hizmetleri Azure Active Directory (AAD gelen) bir belirteç elde ederek Azure SQL Database veya Azure SQL Data Warehouse bağlanmasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="556a2-301">This authentication method allows middle-tier services to connect to Azure SQL Database or Azure SQL Data Warehouse by obtaining a token from Azure Active Directory (AAD).</span></span> <span data-ttu-id="556a2-302">Sertifika tabanlı kimlik doğrulaması dahil olmak üzere Gelişmiş senaryoları etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="556a2-302">It enables sophisticated scenarios including certificate-based authentication.</span></span> <span data-ttu-id="556a2-303">Azure AD belirteci kimlik doğrulaması kullanmak için dört temel adımları tamamlamanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="556a2-303">You must complete four basic steps to use Azure AD token authentication:</span></span>

1. <span data-ttu-id="556a2-304">Azure Active Directory ile uygulamanızı kaydetme ve kodunuz için istemci kimliği alın.</span><span class="sxs-lookup"><span data-stu-id="556a2-304">Register your application with Azure Active Directory and get the client id for your code.</span></span> 
2. <span data-ttu-id="556a2-305">Uygulamayı temsil eden bir veritabanı kullanıcısı oluşturmalıdır.</span><span class="sxs-lookup"><span data-stu-id="556a2-305">Create a database user representing the application.</span></span> <span data-ttu-id="556a2-306">(6. adımda daha önce tamamlandı.)</span><span class="sxs-lookup"><span data-stu-id="556a2-306">(Completed earlier in step 6.)</span></span>
3. <span data-ttu-id="556a2-307">Bir sertifika istemci bilgisayar çalışır uygulama oluşturun.</span><span class="sxs-lookup"><span data-stu-id="556a2-307">Create a certificate on the client computer runs the application.</span></span>
4. <span data-ttu-id="556a2-308">Uygulamanız için bir anahtar olarak sertifika ekleyin.</span><span class="sxs-lookup"><span data-stu-id="556a2-308">Add the certificate as a key for your application.</span></span>

<span data-ttu-id="556a2-309">Örnek bağlantı dizesi:</span><span class="sxs-lookup"><span data-stu-id="556a2-309">Sample connection string:</span></span>

```
string ConnectionString =@"Data Source=n9lxnyuzhv.database.windows.net; Initial Catalog=testdb;"
SqlConnection conn = new SqlConnection(ConnectionString);
connection.AccessToken = "Your JWT token"
conn.Open();
```

<span data-ttu-id="556a2-310">Daha fazla bilgi için bkz: [SQL Server güvenlik blogu](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span><span class="sxs-lookup"><span data-stu-id="556a2-310">For more information, see [SQL Server Security Blog](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span></span>

### <a name="sqlcmd"></a><span data-ttu-id="556a2-311">sqlcmd</span><span class="sxs-lookup"><span data-stu-id="556a2-311">sqlcmd</span></span>

<span data-ttu-id="556a2-312">Aşağıdaki deyimleri bağlanmak kullanılabilir sqlcmd 13,1 sürümü kullanılarak [Yükleme Merkezi'nden](http://go.microsoft.com/fwlink/?LinkID=825643).</span><span class="sxs-lookup"><span data-stu-id="556a2-312">The following statements, connect using version 13.1 of sqlcmd, which is available from the [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>

```
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net  -G  
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net -U bob@contoso.com -P MyAADPassword -G -l 30
```

## <a name="next-steps"></a><span data-ttu-id="556a2-313">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="556a2-313">Next steps</span></span>
- <span data-ttu-id="556a2-314">SQL Veritabanında erişim ve denetime genel bakış için bkz. [SQL Veritabanında erişim ve denetim](sql-database-control-access.md).</span><span class="sxs-lookup"><span data-stu-id="556a2-314">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="556a2-315">SQL Veritabanındaki oturum açma bilgileri, kullanıcılar ve veritabanı rollerine genel bakış için bkz. [Oturum açma bilgileri, kullanıcılar ve veritabanı rolleri](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="556a2-315">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="556a2-316">Veritabanı sorumluları hakkında daha fazla bilgi için bkz. [Sorumlular](https://msdn.microsoft.com/library/ms181127.aspx).</span><span class="sxs-lookup"><span data-stu-id="556a2-316">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="556a2-317">Veritabanı rolleri hakkında daha fazla bilgi için bkz. [Veritabanı rolleri](https://msdn.microsoft.com/library/ms189121.aspx).</span><span class="sxs-lookup"><span data-stu-id="556a2-317">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="556a2-318">SQL Veritabanındaki güvenlik duvarı kuralları hakkında daha fazla bilgi için bkz. [SQL Veritabanı güvenlik duvarı kuralları](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="556a2-318">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/active-directory-integrated.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth2.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db2.png

