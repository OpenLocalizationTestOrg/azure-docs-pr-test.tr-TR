---
title: "aaaConfigure Azure Active Directory kimlik doğrulaması - SQL | Microsoft Docs"
description: "Bilgi nasıl tooconnect tooSQL veritabanı ve Azure Active Directory kimlik doğrulamasını kullanarak SQL Data Warehouse."
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/10/2017
ms.author: rickbyh
ms.openlocfilehash: d6222da0b840f96d4bcfbc02964dc7c54d5ea1ee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="configure-and-manage-azure-active-directory-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="e73da-103">Yapılandırma ve SQL Database veya SQL Data Warehouse ile Azure Active Directory kimlik doğrulaması yönetme</span><span class="sxs-lookup"><span data-stu-id="e73da-103">Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse</span></span>

<span data-ttu-id="e73da-104">Bu makale size nasıl gösterir toocreate ve Azure AD doldurun ve ardından Azure SQL Database ve SQL Data Warehouse ile Azure AD kullanın.</span><span class="sxs-lookup"><span data-stu-id="e73da-104">This article shows you how toocreate and populate Azure AD, and then use Azure AD with Azure SQL Database and SQL Data Warehouse.</span></span> <span data-ttu-id="e73da-105">Genel bir bakış için bkz: [Azure Active Directory kimlik doğrulaması](sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="e73da-105">For an overview, see [Azure Active Directory Authentication](sql-database-aad-authentication.md).</span></span>

>  [!NOTE]  
>  <span data-ttu-id="e73da-106">Bir Azure VM çalıştıran sunucu bir Azure Active Directory hesabı kullanarak desteklenmiyor tooSQL bağlanılıyor.</span><span class="sxs-lookup"><span data-stu-id="e73da-106">Connecting tooSQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="e73da-107">Etki alanı Active Directory hesabı kullanın.</span><span class="sxs-lookup"><span data-stu-id="e73da-107">Use a domain Active Directory account instead.</span></span>

## <a name="create-and-populate-an-azure-ad"></a><span data-ttu-id="e73da-108">Oluşturma ve Azure AD doldurma</span><span class="sxs-lookup"><span data-stu-id="e73da-108">Create and populate an Azure AD</span></span>
<span data-ttu-id="e73da-109">Azure AD oluşturabilir ve kullanıcılar ve gruplar ile doldurabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e73da-109">Create an Azure AD and populate it with users and groups.</span></span> <span data-ttu-id="e73da-110">Azure AD hello ilk etki alanı Azure AD yönetilen etki alanı olabilir.</span><span class="sxs-lookup"><span data-stu-id="e73da-110">Azure AD can be hello initial domain Azure AD managed domain.</span></span> <span data-ttu-id="e73da-111">Azure AD, bir şirket içi Active Directory etki alanı hello Azure AD ile Federasyon Hizmetleri de olabilir.</span><span class="sxs-lookup"><span data-stu-id="e73da-111">Azure AD can also be an on-premises Active Directory Domain Services that is federated with hello Azure AD.</span></span>

<span data-ttu-id="e73da-112">Daha fazla bilgi için bkz: [şirket içi kimliklerinizi Azure Active Directory ile tümleştirme](../active-directory/active-directory-aadconnect.md), [kendi etki alanı adı tooAzure AD eklemek](../active-directory/active-directory-add-domain.md), [Microsoft Azure artık, Federasyon ile destekler Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Azure AD dizininizi yönetme](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Yönet Windows PowerShell kullanarak Azure AD](/powershell/azure/overview?view=azureadps-2.0), ve [karma kimlik Gerekli bağlantı noktalarını ve protokolleri](../active-directory/active-directory-aadconnect-ports.md).</span><span class="sxs-lookup"><span data-stu-id="e73da-112">For more information, see [Integrating your on-premises identities with Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Add your own domain name tooAzure AD](../active-directory/active-directory-add-domain.md), [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Administering your Azure AD directory](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Manage Azure AD using Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), and [Hybrid Identity Required Ports and Protocols](../active-directory/active-directory-aadconnect-ports.md).</span></span>

## <a name="optional-associate-or-change-hello-active-directory-that-is-currently-associated-with-your-azure-subscription"></a><span data-ttu-id="e73da-113">İsteğe bağlı: İlişkilendir ya da şu anda Azure aboneliğinizle ilişkili hello active directory değiştirme</span><span class="sxs-lookup"><span data-stu-id="e73da-113">Optional: Associate or change hello active directory that is currently associated with your Azure Subscription</span></span>
<span data-ttu-id="e73da-114">tooassociate veritabanınızı, kuruluşunuz için hello Azure AD diziniyle hello dizin hello Azure aboneliği barındırma hello veritabanı için güvenilen bir dizin olun.</span><span class="sxs-lookup"><span data-stu-id="e73da-114">tooassociate your database with hello Azure AD directory for your organization, make hello directory a trusted directory for hello Azure subscription hosting hello database.</span></span> <span data-ttu-id="e73da-115">Daha fazla bilgi için bkz. [Azure aboneliklerinin Azure AD ile ilişkisi](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span><span class="sxs-lookup"><span data-stu-id="e73da-115">For more information, see [How Azure subscriptions are associated with Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span></span>

<span data-ttu-id="e73da-116">**Ek bilgi:** her Azure aboneliği Azure AD örneğiyle birlikte bir güven ilişkisi vardır.</span><span class="sxs-lookup"><span data-stu-id="e73da-116">**Additional information:** Every Azure subscription has a trust relationship with an Azure AD instance.</span></span> <span data-ttu-id="e73da-117">Bu dizin tooauthenticate güvenler bu anlamına gelir kullanıcılar, hizmetler ve cihazlar.</span><span class="sxs-lookup"><span data-stu-id="e73da-117">This means that it trusts that directory tooauthenticate users, services, and devices.</span></span> <span data-ttu-id="e73da-118">Birden çok abonelik hello güvenebileceği aynı dizinde, ancak bir abonelik yalnızca bir dizine güvenir.</span><span class="sxs-lookup"><span data-stu-id="e73da-118">Multiple subscriptions can trust hello same directory, but a subscription trusts only one directory.</span></span> <span data-ttu-id="e73da-119">Aboneliğinizi hello altında hangi dizine güvendiği görebilirsiniz **ayarları** adresindeki sekmesinde [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="e73da-119">You can see which directory is trusted by your subscription under hello **Settings** tab at [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span></span> <span data-ttu-id="e73da-120">Bir aboneliğin bir dizinle arasındaki bu güven ilişkisini daha fazla abonelik alt kaynakları gibi olan tüm diğer azure'deki kaynaklarla (Web siteleri, veritabanları ve benzeri) bir aboneliğe sahip hello ilişki benzemez.</span><span class="sxs-lookup"><span data-stu-id="e73da-120">This trust relationship that a subscription has with a directory is unlike hello relationship that a subscription has with all other resources in Azure (websites, databases, and so on), which are more like child resources of a subscription.</span></span> <span data-ttu-id="e73da-121">Bir abonelik süresi dolmadan sonra toothose hello aboneliği ile ilişkili diğer kaynaklara erişim de durdurulur.</span><span class="sxs-lookup"><span data-stu-id="e73da-121">If a subscription expires, then access toothose other resources associated with hello subscription also stops.</span></span> <span data-ttu-id="e73da-122">Ancak hello dizin Azure içinde kalır ve başka bir aboneliği bu dizinle ilişkilendirebilir ve toomanage hello dizin kullanıcılar devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e73da-122">But hello directory remains in Azure, and you can associate another subscription with that directory and continue toomanage hello directory users.</span></span> <span data-ttu-id="e73da-123">Kaynaklar hakkında daha fazla bilgi için bkz: [azure'da kaynak erişimini anlama](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span><span class="sxs-lookup"><span data-stu-id="e73da-123">For more information about resources, see [Understanding resource access in Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span></span>

<span data-ttu-id="e73da-124">Merhaba aşağıdaki yordamlar belirli bir aboneliğe ilişkin dizin toochange hello nasıl ilişkili gösterir.</span><span class="sxs-lookup"><span data-stu-id="e73da-124">hello following procedures show you how toochange hello associated directory for a given subscription.</span></span>
1. <span data-ttu-id="e73da-125">Tooyour bağlanmak [Klasik Azure portalı](https://manage.windowsazure.com/) Azure Abonelik Yöneticisi kullanarak.</span><span class="sxs-lookup"><span data-stu-id="e73da-125">Connect tooyour [Azure Classic Portal](https://manage.windowsazure.com/) by using an Azure subscription administrator.</span></span>
2. <span data-ttu-id="e73da-126">Merhaba sol başlığında, seçin **ayarları**.</span><span class="sxs-lookup"><span data-stu-id="e73da-126">On hello left banner, select **SETTINGS**.</span></span>
3. <span data-ttu-id="e73da-127">Aboneliklerinizi hello ayarları ekranında görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="e73da-127">Your subscriptions appear in hello settings screen.</span></span> <span data-ttu-id="e73da-128">Hello abonelik görünmez isterseniz tıklayın **abonelikleri** hello hello üstünde bırakma **FİLTRESİ tarafından dizin** kutusunda ve aboneliklerinizi içeren hello dizin seçin ve ardından **UYGULA**.</span><span class="sxs-lookup"><span data-stu-id="e73da-128">If hello desired subscription does not appear, click **Subscriptions** at hello top, drop down hello **FILTER BY DIRECTORY** box and select hello directory that contains your subscriptions, and then click **APPLY**.</span></span>
   
    ![Abonelik seç][4]
4. <span data-ttu-id="e73da-130">Merhaba, **ayarları** alanında, aboneliğinizi tıklayın ve ardından **dizini Düzenle** hello sayfanın hello sonundaki.</span><span class="sxs-lookup"><span data-stu-id="e73da-130">In hello **settings** area, click your subscription, and then click  **EDIT DIRECTORY** at hello bottom of hello page.</span></span>
   
    ![ad ayarları portalı][5]
5. <span data-ttu-id="e73da-132">Merhaba, **dizini Düzenle** kutusunda, hello SQL Server veya SQL Data Warehouse ile ilişkili Azure Active Directory seçin ve ardından İleri hello oka tıklayın.</span><span class="sxs-lookup"><span data-stu-id="e73da-132">In hello **EDIT DIRECTORY** box, select hello Azure Active Directory that is associated with your SQL Server or SQL Data Warehouse, and then click hello arrow for next.</span></span>
   
    ![Düzen dizini seçin][6]
6. <span data-ttu-id="e73da-134">Merhaba, **Onayla** dizin eşleme iletişim kutusunu Onayla "**tüm ortak Yöneticiler kaldırılır.**"</span><span class="sxs-lookup"><span data-stu-id="e73da-134">In hello **CONFIRM** directory Mapping dialog box, confirm that "**All co-administrators will be removed.**"</span></span>
   
    ![Edit directory onaylayın][7]
7. <span data-ttu-id="e73da-136">Merhaba onay tooreload hello portal'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="e73da-136">Click hello check tooreload hello portal.</span></span>

   > [!NOTE]
   > <span data-ttu-id="e73da-137">Ne zaman hello dizin, erişim tooall ortak Yöneticiler, Azure AD kullanıcıları ve grupları, değiştirmek ve yedeklenen dizin kaynak kullanıcıları kaldırılır ve artık erişim toothis abonelik veya kaynaklarına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="e73da-137">When you change hello directory, access tooall co-administrators, Azure AD users and groups, and directory-backed resource users are removed and they no longer have access toothis subscription or its resources.</span></span> <span data-ttu-id="e73da-138">Yalnızca, Hizmet Yöneticisi olarak, erişim hello yeni dizinine göre Sorumlular için yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e73da-138">Only you, as a service administrator, can configure access for principals based on hello new directory.</span></span> <span data-ttu-id="e73da-139">Bu değişiklik, önemli miktarda zaman toopropagate tooall kaynak sürebilir.</span><span class="sxs-lookup"><span data-stu-id="e73da-139">This change might take a substantial amount of time toopropagate tooall resources.</span></span> <span data-ttu-id="e73da-140">Merhaba dizinini değiştirme, ayrıca değişiklikleri SQL Database ve SQL Data Warehouse için Azure AD Yöneticisi hello ve mevcut Azure AD kullanıcısı için veritabanı erişimine izin vermeyecek.</span><span class="sxs-lookup"><span data-stu-id="e73da-140">Changing hello directory, also changes hello Azure AD administrator for SQL Database and SQL Data Warehouse and disallow database access for any existing Azure AD users.</span></span> <span data-ttu-id="e73da-141">Azure AD Hello Yöneticisi olması gerekir (aşağıda açıklandığı gibi) sıfırlama ve yeni Azure AD kullanıcıları oluşturulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="e73da-141">hello Azure AD admin must be reset (as described below) and new Azure AD users must be created.</span></span>
   >  

## <a name="create-an-azure-ad-administrator-for-azure-sql-server"></a><span data-ttu-id="e73da-142">Azure SQL server için Azure AD Yöneticisi oluşturma</span><span class="sxs-lookup"><span data-stu-id="e73da-142">Create an Azure AD administrator for Azure SQL server</span></span>
<span data-ttu-id="e73da-143">(Bu, bir SQL veritabanı ya da SQL veri ambarı barındıran) her bir Azure SQL server hello tüm Azure SQL server'ın hello yöneticisi olan bir tek sunucu yöneticisi hesabı ile başlar.</span><span class="sxs-lookup"><span data-stu-id="e73da-143">Each Azure SQL server (which hosts a SQL Database or SQL Data Warehouse) starts with a single server administrator account that is hello administrator of hello entire Azure SQL server.</span></span> <span data-ttu-id="e73da-144">İkinci bir SQL Server Yöneticisi, bir Azure AD hesabı olan oluşturulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="e73da-144">A second SQL Server administrator must be created, that is an Azure AD account.</span></span> <span data-ttu-id="e73da-145">Bu asıl hello ana veritabanında bir kapsanan veritabanı kullanıcı olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="e73da-145">This principal is created as a contained database user in hello master database.</span></span> <span data-ttu-id="e73da-146">Yönetici olarak hello server yönetici hesabı hello üyesi **db_owner** her kullanıcı rolünde veritabanı ve her bir kullanıcı veritabanını hello girin **dbo** kullanıcı.</span><span class="sxs-lookup"><span data-stu-id="e73da-146">As administrators, hello server administrator accounts are members of hello **db_owner** role in every user database, and enter each user database as hello **dbo** user.</span></span> <span data-ttu-id="e73da-147">Merhaba sunucu yönetici hesapları hakkında daha fazla bilgi için bkz: [yönetme veritabanları ve oturum açma bilgileri Azure SQL veritabanında](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="e73da-147">For more information about hello server administrator accounts, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="e73da-148">Azure Active Directory coğrafi çoğaltma ile kullanırken, hello Azure Active Directory Yöneticisi hello birincil ve ikincil sunucular hello için yapılandırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="e73da-148">When using Azure Active Directory with geo-replication, hello Azure Active Directory administrator must be configured for both hello primary and hello secondary servers.</span></span> <span data-ttu-id="e73da-149">Daha sonra bir sunucu bir Azure Active Directory yönetici yoksa, Azure Active Directory oturumları ve kullanıcıları bir "bağlanılamıyor" tooserver hatası alırsınız.</span><span class="sxs-lookup"><span data-stu-id="e73da-149">If a server does not have an Azure Active Directory administrator, then Azure Active Directory logins and users receive a "Cannot connect" tooserver error.</span></span>

> [!NOTE]
> <span data-ttu-id="e73da-150">(Hello Azure SQL server yönetici hesabı dahil) bir Azure AD hesabında dayalı olmayan kullanıcılar hello Azure AD ile veritabanı kullanıcıları önerilen izni toovalidate olmadığı için Azure AD tabanlı kullanıcılar, oluşturamıyor.</span><span class="sxs-lookup"><span data-stu-id="e73da-150">Users that are not based on an Azure AD account (including hello Azure SQL server administrator account), cannot create Azure AD-based users, because they do not have permission toovalidate proposed database users with hello Azure AD.</span></span>
> 

## <a name="provision-an-azure-active-directory-administrator-for-your-azure-sql-server"></a><span data-ttu-id="e73da-151">Azure Active Directory yönetici Azure SQL sunucunuzun sağlama</span><span class="sxs-lookup"><span data-stu-id="e73da-151">Provision an Azure Active Directory administrator for your Azure SQL server</span></span>

<span data-ttu-id="e73da-152">Aşağıdaki iki yordamlarını hello Göster, nasıl tooprovision Azure SQL sunucunuza hello Azure portal ve PowerShell kullanarak Azure Active Directory Yöneticisi.</span><span class="sxs-lookup"><span data-stu-id="e73da-152">hello following two procedures show you how tooprovision an Azure Active Directory administrator for your Azure SQL server in hello Azure portal and by using PowerShell.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="e73da-153">Azure portalına</span><span class="sxs-lookup"><span data-stu-id="e73da-153">Azure portal</span></span>
1. <span data-ttu-id="e73da-154">Merhaba, [Azure portal](https://portal.azure.com/), buna hello sağ üst köşesinde, olası Active dizinlerin listesini aşağı, bağlantı toodrop'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="e73da-154">In hello [Azure portal](https://portal.azure.com/), in hello upper-right corner, click your connection toodrop down a list of possible Active Directories.</span></span> <span data-ttu-id="e73da-155">Merhaba seçin Azure AD hello varsayılan olarak Active Directory düzeltin.</span><span class="sxs-lookup"><span data-stu-id="e73da-155">Choose hello correct Active Directory as hello default Azure AD.</span></span> <span data-ttu-id="e73da-156">Bu adım bağlantılar hello abonelik ilişkisi Active Directory ile aynı abonelik hello emin Azure SQL server ile her ikisi için kullanılan Azure AD ve SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e73da-156">This step links hello subscription association with Active Directory with Azure SQL server making sure that hello same subscription is used for both Azure AD and SQL Server.</span></span> <span data-ttu-id="e73da-157">(hello Azure SQL Azure SQL Database veya Azure SQL Data Warehouse barındırma sunucusu.)</span><span class="sxs-lookup"><span data-stu-id="e73da-157">(hello Azure SQL server can be hosting either Azure SQL Database or Azure SQL Data Warehouse.)</span></span>   
    <span data-ttu-id="e73da-158">![ad seçin][8]</span><span class="sxs-lookup"><span data-stu-id="e73da-158">![choose-ad][8]</span></span>   
    
2. <span data-ttu-id="e73da-159">Başlık seçin sol hello içinde **SQL sunucuları**seçin, **SQL server**ve ardından hello **SQL Server** dikey penceresinde tıklatın **Active Directory Yöneticisi**.</span><span class="sxs-lookup"><span data-stu-id="e73da-159">In hello left banner select **SQL servers**, select your **SQL server**, and then in hello **SQL Server** blade, click **Active Directory admin**.</span></span>   
3. <span data-ttu-id="e73da-160">Merhaba, **Active Directory Yönetim** dikey penceresinde tıklatın **ayarlamak yönetici**.</span><span class="sxs-lookup"><span data-stu-id="e73da-160">In hello **Active Directory admin** blade, click **Set admin**.</span></span>   
    <span data-ttu-id="e73da-161">![Active Directory'yi seçin](./media/sql-database-aad-authentication/select-active-directory.png)</span><span class="sxs-lookup"><span data-stu-id="e73da-161">![select active directory](./media/sql-database-aad-authentication/select-active-directory.png)</span></span>  
    
4. <span data-ttu-id="e73da-162">Merhaba, **yönetici ekleme** dikey penceresinde, bir kullanıcı, select hello kullanıcı veya grup toobe yönetici için arama yapın ve ardından **seçin**.</span><span class="sxs-lookup"><span data-stu-id="e73da-162">In hello **Add admin** blade, search for a user, select hello user or group toobe an administrator, and then click **Select**.</span></span> <span data-ttu-id="e73da-163">(tüm üyeleri ve grupları, Active Directory hello Active Directory Yönetim dikey gösterir.</span><span class="sxs-lookup"><span data-stu-id="e73da-163">(hello Active Directory admin blade shows all members and groups of your Active Directory.</span></span> <span data-ttu-id="e73da-164">Kullanıcıları veya gri renkte grupları Azure AD Yöneticiler desteklenmediği için seçilemez.</span><span class="sxs-lookup"><span data-stu-id="e73da-164">Users or groups that are grayed out cannot be selected because they are not supported as Azure AD administrators.</span></span> <span data-ttu-id="e73da-165">(Merhaba desteklenen admins hello listesini **Azure AD özelliklerini ve sınırlamalarını** bölümünü [Azure Active Directory kimlik doğrulamasını kullan SQL Database veya SQL Data Warehouse ile kimlik doğrulaması için](sql-database-aad-authentication.md).) Rol tabanlı erişim denetimi (RBAC) yalnızca toohello portalı uygular ve yayılan tooSQL sunucusu değil.</span><span class="sxs-lookup"><span data-stu-id="e73da-165">(See hello list of supported admins in hello **Azure AD Features and Limitations** section of [Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication.md).) Role-based access control (RBAC) applies only toohello portal and is not propagated tooSQL Server.</span></span>   
    <span data-ttu-id="e73da-166">![yönetici seçin](./media/sql-database-aad-authentication/select-admin.png)</span><span class="sxs-lookup"><span data-stu-id="e73da-166">![select admin](./media/sql-database-aad-authentication/select-admin.png)</span></span>  
    
5. <span data-ttu-id="e73da-167">Merhaba hello üstündeki **Active Directory Yöneticisi** dikey penceresinde tıklatın **KAYDETMEK**.</span><span class="sxs-lookup"><span data-stu-id="e73da-167">At hello top of hello **Active Directory admin** blade, click **SAVE**.</span></span>   
    <span data-ttu-id="e73da-168">![Yönetici Kaydet](./media/sql-database-aad-authentication/save-admin.png)</span><span class="sxs-lookup"><span data-stu-id="e73da-168">![save admin](./media/sql-database-aad-authentication/save-admin.png)</span></span>   

<span data-ttu-id="e73da-169">hello Yöneticisi değiştirme hello işlemi birkaç dakika sürebilir.</span><span class="sxs-lookup"><span data-stu-id="e73da-169">hello process of changing hello administrator may take several minutes.</span></span> <span data-ttu-id="e73da-170">Merhaba yeni yönetici hello görünür sonra **Active Directory Yöneticisi** kutusu.</span><span class="sxs-lookup"><span data-stu-id="e73da-170">Then hello new administrator appears in hello **Active Directory admin** box.</span></span>

   > [!NOTE]
   > <span data-ttu-id="e73da-171">Hello Azure AD yönetim ayarlarken hello yeni yönetici adı (kullanıcı veya grup) zaten bir SQL Server kimlik doğrulama kullanıcı olarak hello sanal ana veritabanında var olamaz.</span><span class="sxs-lookup"><span data-stu-id="e73da-171">When setting up hello Azure AD admin, hello new admin name (user or group) cannot already be present in hello virtual master database as a SQL Server authentication user.</span></span> <span data-ttu-id="e73da-172">Varsa, hello Azure AD yönetim kurulum başarısız olur; Bu oluşturma geri alınıyor ve böyle bir yöneticinin (ad) zaten belirten bulunmaktadır.</span><span class="sxs-lookup"><span data-stu-id="e73da-172">If present, hello Azure AD admin setup will fail; rolling back its creation and indicating that such an admin (name) already exists.</span></span> <span data-ttu-id="e73da-173">Böyle bir SQL Server kimlik doğrulama kullanıcı hello Azure AD parçası olmadığından, Azure AD kimlik doğrulaması kullanan tüm çaba tooconnect toohello server başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="e73da-173">Since such a SQL Server authentication user is not part of hello Azure AD, any effort tooconnect toohello server using Azure AD authentication fails.</span></span>
   > 


<span data-ttu-id="e73da-174">toolater kaldırmak hello hello üstündeki bir yönetici **Active Directory Yönetim** dikey penceresinde tıklatın **kaldırmak yönetici**ve ardından **kaydetmek**.</span><span class="sxs-lookup"><span data-stu-id="e73da-174">toolater remove an Admin, at hello top of hello **Active Directory admin** blade, click **Remove admin**, and then click **Save**.</span></span>

### <a name="powershell"></a><span data-ttu-id="e73da-175">PowerShell</span><span class="sxs-lookup"><span data-stu-id="e73da-175">PowerShell</span></span>
<span data-ttu-id="e73da-176">toorun PowerShell cmdlet'leri, toohave Azure yüklü ve çalışan PowerShell gerekir.</span><span class="sxs-lookup"><span data-stu-id="e73da-176">toorun PowerShell cmdlets, you need toohave Azure PowerShell installed and running.</span></span> <span data-ttu-id="e73da-177">Ayrıntılı bilgi için bkz: [nasıl tooinstall Azure PowerShell'i ve yapılandırma](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="e73da-177">For detailed information, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="e73da-178">bir Azure AD yönetim tooprovision Azure PowerShell komutlarını aşağıdaki hello yürütün:</span><span class="sxs-lookup"><span data-stu-id="e73da-178">tooprovision an Azure AD admin, execute hello following Azure PowerShell commands:</span></span>

* <span data-ttu-id="e73da-179">Add-AzureRmAccount</span><span class="sxs-lookup"><span data-stu-id="e73da-179">Add-AzureRmAccount</span></span>
* <span data-ttu-id="e73da-180">Select-AzureRmSubscription</span><span class="sxs-lookup"><span data-stu-id="e73da-180">Select-AzureRmSubscription</span></span>

<span data-ttu-id="e73da-181">Cmdlet'leri tooprovision kullanılan ve Azure AD yönetim yönetebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="e73da-181">Cmdlets used tooprovision and manage Azure AD admin:</span></span>

| <span data-ttu-id="e73da-182">Cmdlet adı</span><span class="sxs-lookup"><span data-stu-id="e73da-182">Cmdlet name</span></span> | <span data-ttu-id="e73da-183">Açıklama</span><span class="sxs-lookup"><span data-stu-id="e73da-183">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="e73da-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="e73da-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/set-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="e73da-185">Azure SQL server veya Azure SQL Data Warehouse için Azure Active Directory yönetici sağlar.</span><span class="sxs-lookup"><span data-stu-id="e73da-185">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="e73da-186">(Merhaba geçerli abonelikten olması gerekir.)</span><span class="sxs-lookup"><span data-stu-id="e73da-186">(Must be from hello current subscription.)</span></span> |
| [<span data-ttu-id="e73da-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="e73da-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/remove-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="e73da-188">Azure SQL server veya Azure SQL Data Warehouse için Azure Active Directory yönetici kaldırır.</span><span class="sxs-lookup"><span data-stu-id="e73da-188">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
| [<span data-ttu-id="e73da-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="e73da-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/get-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="e73da-190">Hello Azure SQL sunucusu veya Azure SQL Data Warehouse için yapılandırılmış bir Azure Active Directory Yöneticisi hakkında bilgi verir.</span><span class="sxs-lookup"><span data-stu-id="e73da-190">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="e73da-191">PowerShell komutu get-help toosee daha ayrıntılı her bu komutları için örneğin kullanma ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span><span class="sxs-lookup"><span data-stu-id="e73da-191">Use PowerShell command get-help toosee more details for each of these commands, for example ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span></span>

<span data-ttu-id="e73da-192">Azure AD yönetici grubuna adlı komut dosyası hazırlar aşağıdaki hello **DBA_Group** (nesne kimliği `40b79501-b343-44ed-9ce7-da4c8cc7353f`) hello için **demo_server** adlı bir kaynak grubunda sunucu **Grup 23** :</span><span class="sxs-lookup"><span data-stu-id="e73da-192">hello following script provisions an Azure AD administrator group named **DBA_Group** (object id `40b79501-b343-44ed-9ce7-da4c8cc7353f`) for hello **demo_server** server in a resource group named **Group-23**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group"
```

<span data-ttu-id="e73da-193">Merhaba **DisplayName** giriş parametresi hello Azure AD görünen adı veya kullanıcı asıl adı hello kabul eder.</span><span class="sxs-lookup"><span data-stu-id="e73da-193">hello **DisplayName** input parameter accepts either hello Azure AD display name or hello User Principal Name.</span></span> <span data-ttu-id="e73da-194">Örneğin, ``DisplayName="John Smith"`` ve ``DisplayName="johns@contoso.com"``.</span><span class="sxs-lookup"><span data-stu-id="e73da-194">For example, ``DisplayName="John Smith"`` and ``DisplayName="johns@contoso.com"``.</span></span> <span data-ttu-id="e73da-195">Azure AD grupları yalnızca hello için Azure AD görünen adı desteklenir.</span><span class="sxs-lookup"><span data-stu-id="e73da-195">For Azure AD groups only hello Azure AD display name is supported.</span></span>

> [!NOTE]
> <span data-ttu-id="e73da-196">Hello Azure PowerShell komutunu ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` desteklenmeyen kullanıcılar için Azure AD yöneticileri sağlama engellemez.</span><span class="sxs-lookup"><span data-stu-id="e73da-196">hello Azure PowerShell  command ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` does not prevent you from provisioning Azure AD admins for unsupported users.</span></span> <span data-ttu-id="e73da-197">Desteklenmeyen bir kullanıcı sağlanabilir ancak tooa veritabanına bağlanamıyor.</span><span class="sxs-lookup"><span data-stu-id="e73da-197">An unsupported user can be provisioned, but can not connect tooa database.</span></span> 
> 

<span data-ttu-id="e73da-198">Merhaba aşağıdaki örnek kullanır hello isteğe bağlı **objectID**:</span><span class="sxs-lookup"><span data-stu-id="e73da-198">hello following example uses hello optional **ObjectID**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group" -ObjectId "40b79501-b343-44ed-9ce7-da4c8cc7353f"
```

> [!NOTE]
> <span data-ttu-id="e73da-199">Hello Azure AD **objectID** hello gereklidir **DisplayName** benzersiz değil.</span><span class="sxs-lookup"><span data-stu-id="e73da-199">hello Azure AD **ObjectID** is required when hello **DisplayName** is not unique.</span></span> <span data-ttu-id="e73da-200">tooretrieve hello **objectID** ve **DisplayName** değerleri, Klasik Azure portalı hello Active Directory bölümünü kullanın ve bir kullanıcı veya grup hello özelliklerini görüntüleme.</span><span class="sxs-lookup"><span data-stu-id="e73da-200">tooretrieve hello **ObjectID** and **DisplayName** values, use hello Active Directory section of Azure Classic Portal, and view hello properties of a user or group.</span></span>
> 

<span data-ttu-id="e73da-201">Aşağıdaki örnek hello Azure SQL server için geçerli Azure AD hello Yöneticisi hakkında bilgi verir:</span><span class="sxs-lookup"><span data-stu-id="e73da-201">hello following example returns information about hello current Azure AD admin for Azure SQL server:</span></span>

```
Get-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server" | Format-List
```

<span data-ttu-id="e73da-202">Aşağıdaki örnek hello Azure AD yönetici kaldırır:</span><span class="sxs-lookup"><span data-stu-id="e73da-202">hello following example removes an Azure AD administrator:</span></span>

```
Remove-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server"
```

<span data-ttu-id="e73da-203">Azure Active Directory yönetici hello REST API'lerini kullanarak da sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e73da-203">You can also provision an Azure Active Directory Administrator by using hello REST APIs.</span></span> <span data-ttu-id="e73da-204">Daha fazla bilgi için bkz: [Hizmet Yönetimi REST API Başvurusu ve Azure SQL veritabanları için Azure SQL veritabanı işlemleri için işlemler](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span><span class="sxs-lookup"><span data-stu-id="e73da-204">For more information, see [Service Management REST API Reference and Operations for Azure SQL Databases Operations for Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span></span>

### <a name="cli"></a><span data-ttu-id="e73da-205">CLI</span><span class="sxs-lookup"><span data-stu-id="e73da-205">CLI</span></span>  
<span data-ttu-id="e73da-206">Ayrıca, bir Azure AD yönetim CLI komutları aşağıdaki arama hello tarafından sağlayabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="e73da-206">You can also provision an Azure AD admin by calling hello following CLI commands:</span></span>
| <span data-ttu-id="e73da-207">Komut</span><span class="sxs-lookup"><span data-stu-id="e73da-207">Command</span></span> | <span data-ttu-id="e73da-208">Açıklama</span><span class="sxs-lookup"><span data-stu-id="e73da-208">Description</span></span> |
| --- | --- |
|[<span data-ttu-id="e73da-209">az sql server ad-Yöneticisi oluşturma</span><span class="sxs-lookup"><span data-stu-id="e73da-209">az sql server ad-admin create</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#create) |<span data-ttu-id="e73da-210">Azure SQL server veya Azure SQL Data Warehouse için Azure Active Directory yönetici sağlar.</span><span class="sxs-lookup"><span data-stu-id="e73da-210">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="e73da-211">(Merhaba geçerli abonelikten olması gerekir.)</span><span class="sxs-lookup"><span data-stu-id="e73da-211">(Must be from hello current subscription.)</span></span> |
|[<span data-ttu-id="e73da-212">az sql server yönetici ad silme</span><span class="sxs-lookup"><span data-stu-id="e73da-212">az sql server ad-admin delete</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#delete) |<span data-ttu-id="e73da-213">Azure SQL server veya Azure SQL Data Warehouse için Azure Active Directory yönetici kaldırır.</span><span class="sxs-lookup"><span data-stu-id="e73da-213">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="e73da-214">az sql server yönetici ad listesi</span><span class="sxs-lookup"><span data-stu-id="e73da-214">az sql server ad-admin list</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#list) |<span data-ttu-id="e73da-215">Hello Azure SQL sunucusu veya Azure SQL Data Warehouse için yapılandırılmış bir Azure Active Directory Yöneticisi hakkında bilgi verir.</span><span class="sxs-lookup"><span data-stu-id="e73da-215">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="e73da-216">az sql server ad Yönetim Güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="e73da-216">az sql server ad-admin update</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#update) |<span data-ttu-id="e73da-217">Bir Azure SQL sunucusu veya Azure SQL Data Warehouse için Hello Active Directory Yöneticisi güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="e73da-217">Updates hello Active Directory administrator for an Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="e73da-218">CLI komutları hakkında daha fazla bilgi için bkz: [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span><span class="sxs-lookup"><span data-stu-id="e73da-218">For more information about CLI commands, see [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span></span>  


## <a name="configure-your-client-computers"></a><span data-ttu-id="e73da-219">İstemci bilgisayarları yapılandırın</span><span class="sxs-lookup"><span data-stu-id="e73da-219">Configure your client computers</span></span>
<span data-ttu-id="e73da-220">Uygulama veya kullanıcıların tooAzure SQL veritabanı veya Azure SQL Data Warehouse kullanarak Azure AD kimlikleri bağlanmak tüm istemci bilgisayarlarında yazılım aşağıdaki hello yüklemeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="e73da-220">On all client machines, from which your applications or users connect tooAzure SQL Database or Azure SQL Data Warehouse using Azure AD identities, you must install hello following software:</span></span>

* <span data-ttu-id="e73da-221">.NET framework 4.6 veya sonrası gelen [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span><span class="sxs-lookup"><span data-stu-id="e73da-221">.NET Framework 4.6 or later from [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span></span>
* <span data-ttu-id="e73da-222">SQL Server için Azure Active Directory kimlik doğrulama kitaplığı (**ADALSQL. DLL**) birden çok dilde kullanılabilir (x86 ve amd64) hello İndirme Merkezi'nden [Microsoft Active Directory kimlik doğrulama kitaplığı için Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span><span class="sxs-lookup"><span data-stu-id="e73da-222">Azure Active Directory Authentication Library for SQL Server (**ADALSQL.DLL**) is available in multiple languages (both x86 and amd64) from hello download center at [Microsoft Active Directory Authentication Library for Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span></span>

<span data-ttu-id="e73da-223">Tarafından bu gereksinimleri karşılayabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="e73da-223">You can meet these requirements by:</span></span>

* <span data-ttu-id="e73da-224">Ya da yükleme [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) veya [SQL Server veri araçları Visual Studio 2015 için](https://msdn.microsoft.com/library/mt204009.aspx) hello .NET Framework 4.6 gereksinimi karşılar.</span><span class="sxs-lookup"><span data-stu-id="e73da-224">Installing either [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) or [SQL Server Data Tools for Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) meets hello .NET Framework 4.6 requirement.</span></span>
* <span data-ttu-id="e73da-225">SSMS hello x86 sürümünü yükler **ADALSQL. DLL**.</span><span class="sxs-lookup"><span data-stu-id="e73da-225">SSMS installs hello x86 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="e73da-226">SSDT hello amd64 sürümünü yükler **ADALSQL. DLL**.</span><span class="sxs-lookup"><span data-stu-id="e73da-226">SSDT installs hello amd64 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="e73da-227">Merhaba en son Visual Studio'dan [Visual Studio indirmeleri](https://www.visualstudio.com/downloads/download-visual-studio-vs) hello .NET Framework 4.6 gereksinimini karşılıyor ancak hello gerekli amd64 sürümü yüklemez **ADALSQL. DLL**.</span><span class="sxs-lookup"><span data-stu-id="e73da-227">hello latest Visual Studio from [Visual Studio Downloads](https://www.visualstudio.com/downloads/download-visual-studio-vs) meets hello .NET Framework 4.6 requirement, but does not install hello required amd64 version of **ADALSQL.DLL**.</span></span>

## <a name="create-contained-database-users-in-your-database-mapped-tooazure-ad-identities"></a><span data-ttu-id="e73da-228">Kapsanan veritabanı kullanıcıları, eşlenen veritabanı tooAzure AD kimlikleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="e73da-228">Create contained database users in your database mapped tooAzure AD identities</span></span>

<span data-ttu-id="e73da-229">Azure Active Directory kimlik doğrulaması kapsanan veritabanı kullanıcıları oluşturulan veritabanı kullanıcıları toobe gerektirir.</span><span class="sxs-lookup"><span data-stu-id="e73da-229">Azure Active Directory authentication requires database users toobe created as contained database users.</span></span> <span data-ttu-id="e73da-230">Bir Azure AD kimliğine göre bir kapsanan veritabanı kullanıcı, bir oturum açma hello ana veritabanında yok ve hangi eşlemeleri tooan kimliğinde hello hello veritabanıyla ilişkili Azure AD dizini bir veritabanı kullanıcısı değil.</span><span class="sxs-lookup"><span data-stu-id="e73da-230">A contained database user based on an Azure AD identity, is a database user that does not have a login in hello master database, and which maps tooan identity in hello Azure AD directory that is associated with hello database.</span></span> <span data-ttu-id="e73da-231">Hello Azure AD kimlik bireysel bir kullanıcı hesabı veya bir grup olabilir.</span><span class="sxs-lookup"><span data-stu-id="e73da-231">hello Azure AD identity can be either an individual user account or a group.</span></span> <span data-ttu-id="e73da-232">Kapsanan veritabanı kullanıcıları hakkında daha fazla bilgi için bkz: [bulunan veritabanı kullanıcıları yapma bilgisayarınızı veritabanı taşınabilir](https://msdn.microsoft.com/library/ff929188.aspx).</span><span class="sxs-lookup"><span data-stu-id="e73da-232">For more information about contained database users, see [Contained Database Users- Making Your Database Portable](https://msdn.microsoft.com/library/ff929188.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="e73da-233">Portal kullanarak veritabanı kullanıcıları (Yöneticiler hello durumla) oluşturulamıyor.</span><span class="sxs-lookup"><span data-stu-id="e73da-233">Database users (with hello exception of administrators) cannot be created using portal.</span></span> <span data-ttu-id="e73da-234">RBAC rolleri yayılan tooSQL Server, SQL Database veya SQL Data Warehouse değildir.</span><span class="sxs-lookup"><span data-stu-id="e73da-234">RBAC roles are not propagated tooSQL Server, SQL Database, or SQL Data Warehouse.</span></span> <span data-ttu-id="e73da-235">Azure RBAC rolleri Azure kaynaklarını yönetmek için kullanılır ve toodatabase izinleri geçerli değildir.</span><span class="sxs-lookup"><span data-stu-id="e73da-235">Azure RBAC roles are used for managing Azure Resources, and do not apply toodatabase permissions.</span></span> <span data-ttu-id="e73da-236">Örneğin, hello **SQL Server Katılımcısı** rol erişim tooconnect toohello SQL Database veya SQL Data Warehouse vermez.</span><span class="sxs-lookup"><span data-stu-id="e73da-236">For example, hello **SQL Server Contributor** role does not grant access tooconnect toohello SQL Database or SQL Data Warehouse.</span></span> <span data-ttu-id="e73da-237">Transact-SQL deyimlerini kullanarak doğrudan hello veritabanında Hello erişim izni verilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="e73da-237">hello access permission must be granted directly in hello database using Transact-SQL statements.</span></span>
>

<span data-ttu-id="e73da-238">en az bir Azure AD tabanlı bulunan veritabanı kullanıcı (Merhaba veritabanı sahibi hello sunucu yönetici dışında), bir kullanıcı olarak bir Azure AD kimlik ile toohello veritabanı bağlanmak toocreate hello **ALTER herhangi bir kullanıcı** izni.</span><span class="sxs-lookup"><span data-stu-id="e73da-238">toocreate an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity, as a user with at least hello **ALTER ANY USER** permission.</span></span> <span data-ttu-id="e73da-239">Ardından, Transact-SQL söz dizimi aşağıdaki hello kullanın:</span><span class="sxs-lookup"><span data-stu-id="e73da-239">Then use hello following Transact-SQL syntax:</span></span>

```
CREATE USER <Azure_AD_principal_name> FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="e73da-240">*Azure_AD_principal_name* hello kullanıcı asıl adı bir Azure AD kullanıcı veya hello görünen adı Azure AD grubu ile ilgili olabilir.</span><span class="sxs-lookup"><span data-stu-id="e73da-240">*Azure_AD_principal_name* can be hello user principal name of an Azure AD user or hello display name for an Azure AD group.</span></span>

<span data-ttu-id="e73da-241">**Örnekler:** toocreate Azure AD temsil eden bir kapsanan veritabanı kullanıcı federe veya yönetilen etki alanı kullanıcısı:</span><span class="sxs-lookup"><span data-stu-id="e73da-241">**Examples:** toocreate a contained database user representing an Azure AD federated or managed domain user:</span></span>
```
CREATE USER [bob@contoso.com] FROM EXTERNAL PROVIDER;
CREATE USER [alice@fabrikam.onmicrosoft.com] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="e73da-242">Azure AD temsil eden veya etki alanı grubu federe bir kapsanan veritabanı kullanıcı toocreate hello görünen bir güvenlik grubu adını sağlayın:</span><span class="sxs-lookup"><span data-stu-id="e73da-242">toocreate a contained database user representing an Azure AD or federated domain group, provide hello display name of a security group:</span></span>
```
CREATE USER [ICU Nurses] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="e73da-243">toocreate bir uygulamayı temsil eden bir kapsanan veritabanı kullanıcısı, bir Azure AD belirteci kullanarak bağlanır:</span><span class="sxs-lookup"><span data-stu-id="e73da-243">toocreate a contained database user representing an application that connects using an Azure AD token:</span></span>

```
CREATE USER [appName] FROM EXTERNAL PROVIDER;
```

>  [!TIP]
>  <span data-ttu-id="e73da-244">Merhaba, Azure aboneliğinizle ilişkili Azure Active Directory dışındaki bir Azure Active Directory'den kullanıcı doğrudan oluşturulamıyor.</span><span class="sxs-lookup"><span data-stu-id="e73da-244">You cannot directly create a user from an Azure Active Directory other than hello Azure Active Directory that is associated with your Azure subscription.</span></span> <span data-ttu-id="e73da-245">Ancak, Active Directory hello içeri aktarılan kullanıcılar olan diğer etkin dizinleri üyeleri ilişkili (dış kullanıcılar olarak bilinir) eklenebilir tooan Active Directory grubu hello Kiracı Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e73da-245">However, members of other Active Directories that are imported users in hello associated Active Directory (known as external users) can be added tooan Active Directory group in hello tenant Active Directory.</span></span> <span data-ttu-id="e73da-246">Bu AD grubu için kapsanan veritabanı kullanıcı oluşturarak hello hello kullanıcılardan dış Active Directory erişim tooSQL veritabanı kaynaklara erişebilir.</span><span class="sxs-lookup"><span data-stu-id="e73da-246">By creating a contained database user for that AD group, hello users from hello external Active Directory can gain access tooSQL Database.</span></span>   

<span data-ttu-id="e73da-247">Bulunan oluşturma hakkında daha fazla bilgi için veritabanı kullanıcıları Azure Active Directory kimliği temel, bakın [kullanıcı oluştur (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span><span class="sxs-lookup"><span data-stu-id="e73da-247">For more information about creating contained database users based on Azure Active Directory identities, see [CREATE USER (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="e73da-248">Azure SQL server kaldırma hello Azure Active Directory Yöneticisi herhangi bir Azure AD kimlik doğrulama kullanıcı toohello sunucu bağlanmasını engeller.</span><span class="sxs-lookup"><span data-stu-id="e73da-248">Removing hello Azure Active Directory administrator for Azure SQL server prevents any Azure AD authentication user from connecting toohello server.</span></span> <span data-ttu-id="e73da-249">Gerekli olduğunda, kullanılamaz Azure AD kullanıcıları bırakılan el ile bir SQL veritabanı yöneticisi tarafından.</span><span class="sxs-lookup"><span data-stu-id="e73da-249">If necessary, unusable Azure AD users can be dropped manually by a SQL Database administrator.</span></span>   

>  [!NOTE]
>  <span data-ttu-id="e73da-250">Alırsanız, bir **bağlantı zaman aşımı süresi doldu**, tooset hello gerekebilir `TransparentNetworkIPResolution` hello bağlantı dizesi toofalse parametresi.</span><span class="sxs-lookup"><span data-stu-id="e73da-250">If you receive a **Connection Timeout Expired**, you may need tooset hello `TransparentNetworkIPResolution` parameter of hello connection string toofalse.</span></span> <span data-ttu-id="e73da-251">Daha fazla bilgi için bkz: [bağlantı zaman aşımı .NET Framework 4.6.1 - TransparentNetworkIPResolution sorun](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span><span class="sxs-lookup"><span data-stu-id="e73da-251">For more information, see [Connection timeout issue with .NET Framework 4.6.1 - TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span></span>   

   
<span data-ttu-id="e73da-252">Bir veritabanı kullanıcısı oluşturduğunuzda, bu kullanıcının hello aldığı **BAĞLAN** izni ve toothat veritabanı hello bir üyesi olarak bağlanabilir **ortak** rol.</span><span class="sxs-lookup"><span data-stu-id="e73da-252">When you create a database user, that user receives hello **CONNECT** permission and can connect toothat database as a member of hello **PUBLIC** role.</span></span> <span data-ttu-id="e73da-253">Başlangıçta yalnızca kullanılabilir toohello kullanıcı olan tüm izinlerin toohello izinleri hello **ortak** rol ya da herhangi bir izin verilen tooany Windows gruplarının bir üyesi olduğundan emin.</span><span class="sxs-lookup"><span data-stu-id="e73da-253">Initially hello only permissions available toohello user are any permissions granted toohello **PUBLIC** role, or any permissions granted tooany Windows groups that they are a member of.</span></span> <span data-ttu-id="e73da-254">Hello kullanıcı ek izinler vermeniz bir Azure AD tabanlı bulunan veritabanı kullanıcısı, sağlama sonra aynı şekilde türdeki başka kullanıcı izni tooany vermek gibi hello.</span><span class="sxs-lookup"><span data-stu-id="e73da-254">Once you provision an Azure AD-based contained database user, you can grant hello user additional permissions, hello same way as you grant permission tooany other type of user.</span></span> <span data-ttu-id="e73da-255">Genellikle toodatabase rolleri izinleri ve kullanıcıların tooroles ekleyin.</span><span class="sxs-lookup"><span data-stu-id="e73da-255">Typically grant permissions toodatabase roles, and add users tooroles.</span></span> <span data-ttu-id="e73da-256">Daha fazla bilgi için bkz: [veritabanı altyapısı izni Temelleri](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span><span class="sxs-lookup"><span data-stu-id="e73da-256">For more information, see [Database Engine Permission Basics](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span></span> <span data-ttu-id="e73da-257">Özel SQL veritabanı rolleri hakkında daha fazla bilgi için bkz: [yönetme veritabanları ve oturum açma bilgileri Azure SQL veritabanında](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="e73da-257">For more information about special SQL Database roles, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>
<span data-ttu-id="e73da-258">Bir Yönet etki alanına içe aktarılan bir Federasyon etki alanı kullanıcısı hello yönetilen etki alanı kimliği kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e73da-258">A federated domain user that is imported into a manage domain, must use hello managed domain identity.</span></span>

> [!NOTE]
> <span data-ttu-id="e73da-259">Azure AD kullanıcıları hello veritabanı meta verilerde E (EXTERNAL_USER) türüyle ve grupları için türü X (EXTERNAL_GROUPS) ile işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="e73da-259">Azure AD users are marked in hello database metadata with type E (EXTERNAL_USER) and for groups with type X (EXTERNAL_GROUPS).</span></span> <span data-ttu-id="e73da-260">Daha fazla bilgi için bkz: [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span><span class="sxs-lookup"><span data-stu-id="e73da-260">For more information, see [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span> 
>

## <a name="connect-toohello-user-database-or-data-warehouse-by-using-ssms-or-ssdt"></a><span data-ttu-id="e73da-261">SSMS veya SSDT kullanarak bağlantı toohello kullanıcı veritabanı veya veri ambarı</span><span class="sxs-lookup"><span data-stu-id="e73da-261">Connect toohello user database or data warehouse by using SSMS or SSDT</span></span>  
<span data-ttu-id="e73da-262">tooconfirm hello Azure AD yönetici düzgün ayarlandığından, toohello bağlanmak **ana** hello Azure AD yönetici hesabını kullanarak veritabanı.</span><span class="sxs-lookup"><span data-stu-id="e73da-262">tooconfirm hello Azure AD administrator is properly set up, connect toohello **master** database using hello Azure AD administrator account.</span></span>
<span data-ttu-id="e73da-263">tooprovision bir Azure AD tabanlı bulunan veritabanı kullanıcı (Merhaba veritabanı sahibi hello sunucu yönetici dışında), access toohello veritabanı olan bir Azure AD kimlik toohello veritabanı bağlayın.</span><span class="sxs-lookup"><span data-stu-id="e73da-263">tooprovision an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity that has access toohello database.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e73da-264">Azure Active Directory kimlik doğrulaması için destek ile kullanılabilir [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) ve [SQL Server veri Araçları](https://msdn.microsoft.com/library/mt204009.aspx) Visual Studio 2015'te.</span><span class="sxs-lookup"><span data-stu-id="e73da-264">Support for Azure Active Directory authentication is available with [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) and [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) in Visual Studio 2015.</span></span> <span data-ttu-id="e73da-265">Merhaba SSMS Ağustos 2016 sürümünü de Active Directory Evrensel yöneticilerin sağlayan kimlik doğrulaması için destek içerir toorequire bir telefon araması, SMS mesajı, akıllı kart PIN ya da mobil uygulama bildirimi kullanarak çok faktörlü kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="e73da-265">hello August 2016 release of SSMS also includes support for Active Directory Universal Authentication, which allows administrators toorequire Multi-Factor Authentication using a phone call, text message, smart cards with pin, or mobile app notification.</span></span>
 
## <a name="using-an-azure-ad-identity-tooconnect-using-ssms-or-ssdt"></a><span data-ttu-id="e73da-266">SSMS veya SSDT kullanarak bir Azure AD kimlik tooconnect kullanma</span><span class="sxs-lookup"><span data-stu-id="e73da-266">Using an Azure AD identity tooconnect using SSMS or SSDT</span></span>  

<span data-ttu-id="e73da-267">yordamları izleyerek hello nasıl tooconnect tooa SQL veritabanı SQL Server Management Studio veya SQL Server veritabanı araçları kullanarak bir Azure AD kimlik ile gösterir.</span><span class="sxs-lookup"><span data-stu-id="e73da-267">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity using SQL Server Management Studio or SQL Server Database Tools.</span></span>

### <a name="active-directory-integrated-authentication"></a><span data-ttu-id="e73da-268">Active Directory tümleşik kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="e73da-268">Active Directory integrated authentication</span></span>

<span data-ttu-id="e73da-269">Bir Federasyon etki alanına ait Azure Active Directory kimlik bilgilerinizi kullanarak tooWindows kaydedilir, bu yöntemi kullanın.</span><span class="sxs-lookup"><span data-stu-id="e73da-269">Use this method if you are logged in tooWindows using your Azure Active Directory credentials from a federated domain.</span></span>

1. <span data-ttu-id="e73da-270">Management Studio veya veri araçları başlatın ve hello **tooServer bağlanmak** (veya **tooDatabase altyapısı bağlanmak**) iletişim kutusunda hello **kimlik doğrulaması** kutusunda, seçin**Active Directory - tümleşik**.</span><span class="sxs-lookup"><span data-stu-id="e73da-270">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Integrated**.</span></span> <span data-ttu-id="e73da-271">Parolasız gerekli olduğunu veya varolan kimlik bilgilerinizi hello bağlantı için sunulur çünkü girilebilir.</span><span class="sxs-lookup"><span data-stu-id="e73da-271">No password is needed or can be entered because your existing credentials will be presented for hello connection.</span></span>   

    ![AD tümleşik kimlik doğrulaması seçin][11]
2. <span data-ttu-id="e73da-273">Merhaba tıklatın **seçenekleri** düğmesi ve hello **bağlantı özelliklerini** sayfasında hello **toodatabase bağlanmak** kutusu, tür hello adı tooconnect istediğiniz hello kullanıcı veritabanı Hedef.</span><span class="sxs-lookup"><span data-stu-id="e73da-273">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="e73da-274">(Merhaba **AD etki alanı adı veya Kiracı kimliği**"seçeneği için desteklenen yalnızca **MFA bağlantısıyla Evrensel** seçenekleri, aksi takdirde, griyse.)</span><span class="sxs-lookup"><span data-stu-id="e73da-274">(hello **AD domain name or tenant ID**” option is only supported for **Universal with MFA connection** options, otherwise it is greyed out.)</span></span>  

    ![Merhaba veritabanı adını seçin][13]

## <a name="active-directory-password-authentication"></a><span data-ttu-id="e73da-276">Active Directory parola kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="e73da-276">Active Directory password authentication</span></span>

<span data-ttu-id="e73da-277">Bir Azure AD asıl adı Hello Azure AD kullanarak bağlanma etki alanı yönetildiğinde bu yöntemi kullanın.</span><span class="sxs-lookup"><span data-stu-id="e73da-277">Use this method when connecting with an Azure AD principal name using hello Azure AD managed domain.</span></span> <span data-ttu-id="e73da-278">Uzaktan çalışırken, örneğin erişim toohello etki alanı olmayan birleştirilmiş hesap için de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e73da-278">You can also use it for federated account without access toohello domain, for example when working remotely.</span></span>

<span data-ttu-id="e73da-279">Azure ile Federasyon olmayan bir etki alanı kimlik bilgilerini kullanarak tooWindows kaydedilir veya Azure AD kimlik doğrulaması kullanarak kullanırken, Azure AD hello ilk dayalı'yı veya istemci etki alanı hello bu yöntemi kullanın.</span><span class="sxs-lookup"><span data-stu-id="e73da-279">Use this method if you are logged in tooWindows using credentials from a domain that is not federated with Azure, or when using Azure AD authentication using Azure AD based on hello initial or hello client domain.</span></span>

1. <span data-ttu-id="e73da-280">Management Studio veya veri araçları başlatın ve hello **tooServer bağlanmak** (veya **tooDatabase altyapısı bağlanmak**) iletişim kutusunda hello **kimlik doğrulaması** kutusunda, seçin**Active Directory - parola**.</span><span class="sxs-lookup"><span data-stu-id="e73da-280">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Password**.</span></span>
2. <span data-ttu-id="e73da-281">Merhaba, **kullanıcı adı** hello biçiminde Azure Active Directory kullanıcı adınızı yazın  **username@domain.com** . Bu bir hesaptan hello Azure Active Directory olmalıdır veya bir etki alanındaki bir hesabı hello Azure Active Directory ile birleştirmek.</span><span class="sxs-lookup"><span data-stu-id="e73da-281">In hello **User name** box, type your Azure Active Directory user name in hello format **username@domain.com**. This must be an account from hello Azure Active Directory or an account from a domain federate with hello Azure Active Directory.</span></span>
3. <span data-ttu-id="e73da-282">Merhaba, **parola** kutusunda hello Azure Active Directory hesabı için kullanıcı parolanızı yazın veya Federasyon etki alanı hesabı.</span><span class="sxs-lookup"><span data-stu-id="e73da-282">In hello **Password** box, type your user password for hello Azure Active Directory account or federated domain account.</span></span>

    ![AD parola kimlik doğrulaması][12]
4. <span data-ttu-id="e73da-284">Merhaba tıklatın **seçenekleri** düğmesi ve hello **bağlantı özelliklerini** sayfasında hello **toodatabase bağlanmak** kutusu, tür hello adı tooconnect istediğiniz hello kullanıcı veritabanı Hedef.</span><span class="sxs-lookup"><span data-stu-id="e73da-284">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="e73da-285">(Merhaba önceki seçenek hello grafikte bakın.)</span><span class="sxs-lookup"><span data-stu-id="e73da-285">(See hello graphic in hello previous option.)</span></span>

## <a name="using-an-azure-ad-identity-tooconnect-from-a-client-application"></a><span data-ttu-id="e73da-286">Bir istemci uygulamadan bir Azure AD kimlik tooconnect kullanma</span><span class="sxs-lookup"><span data-stu-id="e73da-286">Using an Azure AD identity tooconnect from a client application</span></span>

<span data-ttu-id="e73da-287">yordamları izleyerek hello nasıl tooconnect tooa SQL veritabanı ile bir istemci uygulamadan bir Azure AD kimlik gösterir.</span><span class="sxs-lookup"><span data-stu-id="e73da-287">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity from a client application.</span></span>

###  <a name="active-directory-integrated-authentication"></a><span data-ttu-id="e73da-288">Active Directory tümleşik kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="e73da-288">Active Directory integrated authentication</span></span>

<span data-ttu-id="e73da-289">toouse tümleşik Windows kimlik doğrulaması, etki alanınızın Active Directory, Azure Active Directory ile Federasyon gerekir.</span><span class="sxs-lookup"><span data-stu-id="e73da-289">toouse integrated Windows authentication, your domain’s Active Directory must be federated with Azure Active Directory.</span></span> <span data-ttu-id="e73da-290">Toohello veritabanına bağlanma istemci uygulamanız (veya bir hizmeti), bir etki alanına katılmış makinede kullanıcının etki alanı kimlik bilgileri altında çalışmalıdır.</span><span class="sxs-lookup"><span data-stu-id="e73da-290">Your client application (or a service) connecting toohello database must be running on a domain-joined machine under a user’s domain credentials.</span></span>

<span data-ttu-id="e73da-291">tümleşik kimlik doğrulaması ve Azure AD kimlik tooconnect tooa veritabanı kullanarak, hello kimlik doğrulama anahtar sözcüğü hello veritabanı bağlantı dizesinde tooActive Directory tümleşik ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e73da-291">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword in hello database connection string must be set tooActive Directory Integrated.</span></span> <span data-ttu-id="e73da-292">Merhaba aşağıdaki C# kod örneği ADO .NET kullanır.</span><span class="sxs-lookup"><span data-stu-id="e73da-292">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Integrated; Initial Catalog=testdb;";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="e73da-293">bağlantı dizesi anahtar sözcüğü hello ``Integrated Security=True`` tooAzure SQL veritabanına bağlanmak için desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="e73da-293">hello connection string keyword ``Integrated Security=True`` is not supported for connecting tooAzure SQL Database.</span></span> <span data-ttu-id="e73da-294">ODBC bağlantısı yaparken tooremove alanları ihtiyacınız ve kimlik doğrulama too'ActiveDirectoryIntegrated ayarlayın '.</span><span class="sxs-lookup"><span data-stu-id="e73da-294">When making an ODBC connection, you will need tooremove spaces and set Authentication too'ActiveDirectoryIntegrated'.</span></span>

### <a name="active-directory-password-authentication"></a><span data-ttu-id="e73da-295">Active Directory parola kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="e73da-295">Active Directory password authentication</span></span>

<span data-ttu-id="e73da-296">tümleşik kimlik doğrulaması ve Azure AD kimlik tooconnect tooa veritabanı kullanarak, hello kimlik doğrulama anahtar sözcüğü tooActive dizin parolası ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e73da-296">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword must be set tooActive Directory Password.</span></span> <span data-ttu-id="e73da-297">Merhaba bağlantı dizesi, kullanıcı kimliği/kullanıcı kimliği ve parola/PWD anahtar sözcükleri ve değerleri içermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="e73da-297">hello connection string must contain User ID/UID and Password/PWD keywords and values.</span></span> <span data-ttu-id="e73da-298">Merhaba aşağıdaki C# kod örneği ADO .NET kullanır.</span><span class="sxs-lookup"><span data-stu-id="e73da-298">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Password; Initial Catalog=testdb;  UID=bob@contoso.onmicrosoft.com; PWD=MyPassWord!";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="e73da-299">Merhaba demo kod örnekleri adresinde kullanarak Azure AD kimlik doğrulama yöntemleri hakkında daha fazla bilgi [Azure AD kimlik doğrulama GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span><span class="sxs-lookup"><span data-stu-id="e73da-299">Learn more about Azure AD authentication methods using hello demo code samples available at [Azure AD Authentication GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span></span>

## <a name="azure-ad-token"></a><span data-ttu-id="e73da-300">Azure AD simgesi</span><span class="sxs-lookup"><span data-stu-id="e73da-300">Azure AD token</span></span>
<span data-ttu-id="e73da-301">Bu kimlik doğrulama yöntemi, Azure Active Directory (AAD gelen) bir belirteç elde ederek orta katman Hizmetleri tooconnect tooAzure SQL veritabanına veya Azure SQL Data Warehouse sağlar.</span><span class="sxs-lookup"><span data-stu-id="e73da-301">This authentication method allows middle-tier services tooconnect tooAzure SQL Database or Azure SQL Data Warehouse by obtaining a token from Azure Active Directory (AAD).</span></span> <span data-ttu-id="e73da-302">Sertifika tabanlı kimlik doğrulaması dahil olmak üzere Gelişmiş senaryoları etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="e73da-302">It enables sophisticated scenarios including certificate-based authentication.</span></span> <span data-ttu-id="e73da-303">Dört temel adımlar toouse Azure AD belirteci kimlik doğrulaması tamamlamanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="e73da-303">You must complete four basic steps toouse Azure AD token authentication:</span></span>

1. <span data-ttu-id="e73da-304">Azure Active Directory ile uygulamanızı kaydetme ve kodunuz için hello istemci kimliği alın.</span><span class="sxs-lookup"><span data-stu-id="e73da-304">Register your application with Azure Active Directory and get hello client id for your code.</span></span> 
2. <span data-ttu-id="e73da-305">Bir veritabanı kullanıcı temsil eden hello uygulaması oluşturun.</span><span class="sxs-lookup"><span data-stu-id="e73da-305">Create a database user representing hello application.</span></span> <span data-ttu-id="e73da-306">(6. adımda daha önce tamamlandı.)</span><span class="sxs-lookup"><span data-stu-id="e73da-306">(Completed earlier in step 6.)</span></span>
3. <span data-ttu-id="e73da-307">Bir sertifika hello istemci bilgisayar çalışır Merhaba uygulaması oluşturun.</span><span class="sxs-lookup"><span data-stu-id="e73da-307">Create a certificate on hello client computer runs hello application.</span></span>
4. <span data-ttu-id="e73da-308">Uygulamanız için bir anahtar olarak Hello sertifika ekleyin.</span><span class="sxs-lookup"><span data-stu-id="e73da-308">Add hello certificate as a key for your application.</span></span>

<span data-ttu-id="e73da-309">Örnek bağlantı dizesi:</span><span class="sxs-lookup"><span data-stu-id="e73da-309">Sample connection string:</span></span>

```
string ConnectionString =@"Data Source=n9lxnyuzhv.database.windows.net; Initial Catalog=testdb;"
SqlConnection conn = new SqlConnection(ConnectionString);
connection.AccessToken = "Your JWT token"
conn.Open();
```

<span data-ttu-id="e73da-310">Daha fazla bilgi için bkz: [SQL Server güvenlik blogu](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span><span class="sxs-lookup"><span data-stu-id="e73da-310">For more information, see [SQL Server Security Blog](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span></span>

### <a name="sqlcmd"></a><span data-ttu-id="e73da-311">sqlcmd</span><span class="sxs-lookup"><span data-stu-id="e73da-311">sqlcmd</span></span>

<span data-ttu-id="e73da-312">Merhaba deyimleri, hello kullanılabilir sqlcmd 13,1 sürümünü kullanarak bağlan [Yükleme Merkezi'nden](http://go.microsoft.com/fwlink/?LinkID=825643).</span><span class="sxs-lookup"><span data-stu-id="e73da-312">hello following statements, connect using version 13.1 of sqlcmd, which is available from hello [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>

```
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net  -G  
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net -U bob@contoso.com -P MyAADPassword -G -l 30
```

## <a name="next-steps"></a><span data-ttu-id="e73da-313">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="e73da-313">Next steps</span></span>
- <span data-ttu-id="e73da-314">SQL Veritabanında erişim ve denetime genel bakış için bkz. [SQL Veritabanında erişim ve denetim](sql-database-control-access.md).</span><span class="sxs-lookup"><span data-stu-id="e73da-314">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="e73da-315">SQL Veritabanındaki oturum açma bilgileri, kullanıcılar ve veritabanı rollerine genel bakış için bkz. [Oturum açma bilgileri, kullanıcılar ve veritabanı rolleri](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="e73da-315">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="e73da-316">Veritabanı sorumluları hakkında daha fazla bilgi için bkz. [Sorumlular](https://msdn.microsoft.com/library/ms181127.aspx).</span><span class="sxs-lookup"><span data-stu-id="e73da-316">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="e73da-317">Veritabanı rolleri hakkında daha fazla bilgi için bkz. [Veritabanı rolleri](https://msdn.microsoft.com/library/ms189121.aspx).</span><span class="sxs-lookup"><span data-stu-id="e73da-317">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="e73da-318">SQL Veritabanındaki güvenlik duvarı kuralları hakkında daha fazla bilgi için bkz. [SQL Veritabanı güvenlik duvarı kuralları](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="e73da-318">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/active-directory-integrated.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth2.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db2.png

