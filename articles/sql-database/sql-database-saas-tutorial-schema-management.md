---
title: "çok kiracılı uygulama aaaManage Azure SQL veritabanı şemasında | Microsoft Docs"
description: "Azure SQL Veritabanı’nı kullanan çok kiracılı bir uygulamada birden fazla kiracı için Şemayı yönetme"
keywords: "sql veritabanı öğreticisi"
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: scale out apps
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/28/2017
ms.author: billgib; sstein
ms.openlocfilehash: ea946e556808dabd60dd39cb8173d0512d4bddec
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="manage-schema-for-multiple-tenants-in-hello-wingtip-saas-application"></a><span data-ttu-id="3716a-104">Merhaba Wingtip SaaS uygulama içinde birden çok Kiracı için şema yönetme</span><span class="sxs-lookup"><span data-stu-id="3716a-104">Manage schema for multiple tenants in hello Wingtip SaaS application</span></span>

<span data-ttu-id="3716a-105">Merhaba [ilk Wingtip SaaS öğretici](sql-database-saas-tutorial.md) nasıl hello uygulama bir kiracı veritabanı sağlamak ve hello kataloğunda kaydetmek gösterir.</span><span class="sxs-lookup"><span data-stu-id="3716a-105">hello [first Wingtip SaaS tutorial](sql-database-saas-tutorial.md) shows how hello app can provision a tenant database and register it in hello catalog.</span></span> <span data-ttu-id="3716a-106">Herhangi bir uygulama gibi Wingtip SaaS uygulama zamanla ve bazen gelişmesi hello değişiklikleri toohello veritabanı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3716a-106">Like any application, hello Wingtip SaaS app will evolve over time, and at times will require changes toohello database.</span></span> <span data-ttu-id="3716a-107">Değişiklikler, yeni veya değiştirilmiş şema, yeni veya değiştirilmiş başvuru verileri ve rutin veritabanı bakım görevleri tooensure en iyi uygulama performansını içerebilir.</span><span class="sxs-lookup"><span data-stu-id="3716a-107">Changes may include new or changed schema, new or changed reference data, and routine database maintenance tasks tooensure optimal app performance.</span></span> <span data-ttu-id="3716a-108">Bir SaaS uygulaması ile bu değişikliklerin Kiracı veritabanları arasında bir olası yoğun Donanma koordineli bir şekilde dağıtılan toobe gerekir.</span><span class="sxs-lookup"><span data-stu-id="3716a-108">With a SaaS application, these changes need toobe deployed in a coordinated manner across a potentially massive fleet of tenant databases.</span></span> <span data-ttu-id="3716a-109">Bu değişiklikleri toobe için gelecekte veritabanlarını Kiracı, sağlama işlemi hello dahil toobe gerekir.</span><span class="sxs-lookup"><span data-stu-id="3716a-109">For these changes toobe in future tenant databases, they need toobe incorporated into hello provisioning process.</span></span>

<span data-ttu-id="3716a-110">Bu öğretici iki senaryo - tüm kiracılar için başvuru veri güncelleştirmelerini dağıtma inceler ve hello dizin retuning hello başvuru verileri içeren tablo.</span><span class="sxs-lookup"><span data-stu-id="3716a-110">This tutorial explores two scenarios - deploying reference data updates for all tenants, and retuning an index on hello table containing hello reference data.</span></span> <span data-ttu-id="3716a-111">Merhaba [esnek iş](sql-database-elastic-jobs-overview.md) özelliği kullanılan tooexecute bu işlemleri tüm kiracılar, hello arasında ise *altın* yeni veritabanları için şablon olarak kullanılan Kiracı veritabanı.</span><span class="sxs-lookup"><span data-stu-id="3716a-111">hello [Elastic jobs](sql-database-elastic-jobs-overview.md) feature is used tooexecute these operations across all tenants, and hello *golden* tenant database that is used as a template for new databases.</span></span>

<span data-ttu-id="3716a-112">Bu öğreticide şunların nasıl yapıldığını öğrenirsiniz:</span><span class="sxs-lookup"><span data-stu-id="3716a-112">In this tutorial you learn how to:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="3716a-113">Bir iş hesabı oluşturun</span><span class="sxs-lookup"><span data-stu-id="3716a-113">Create a job account</span></span>
> * <span data-ttu-id="3716a-114">Birden çok Kiracı arasında sorgu</span><span class="sxs-lookup"><span data-stu-id="3716a-114">Query across multiple tenants</span></span>
> * <span data-ttu-id="3716a-115">Tüm kiracı veritabanlarında verileri güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="3716a-115">Update data in all tenant databases</span></span>
> * <span data-ttu-id="3716a-116">Tüm kiracı veritabanlarında bir tabloda dizin oluşturma</span><span class="sxs-lookup"><span data-stu-id="3716a-116">Create an index on a table in all tenant databases</span></span>


<span data-ttu-id="3716a-117">Bu öğretici, Önkoşullar aşağıdaki yapma emin hello karşılanmadığı toocomplete:</span><span class="sxs-lookup"><span data-stu-id="3716a-117">toocomplete this tutorial, make sure hello following prerequisites are met:</span></span>

* <span data-ttu-id="3716a-118">Merhaba Wingtip SaaS uygulaması dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="3716a-118">hello Wingtip SaaS app is deployed.</span></span> <span data-ttu-id="3716a-119">beş dakikadan kısa toodeploy bakın [dağıtma ve Merhaba Wingtip SaaS uygulaması keşfedin.](sql-database-saas-tutorial.md)</span><span class="sxs-lookup"><span data-stu-id="3716a-119">toodeploy in less than five minutes, see [Deploy and explore hello Wingtip SaaS application](sql-database-saas-tutorial.md)</span></span>
* <span data-ttu-id="3716a-120">Azure PowerShell’in yüklendiğinden.</span><span class="sxs-lookup"><span data-stu-id="3716a-120">Azure PowerShell is installed.</span></span> <span data-ttu-id="3716a-121">Ayrıntılar için bkz. [Azure PowerShell’i kullanmaya başlama](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span><span class="sxs-lookup"><span data-stu-id="3716a-121">For details, see [Getting started with Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span></span>
* <span data-ttu-id="3716a-122">Merhaba SQL Server Management Studio (SSMS) en son sürümü yüklü.</span><span class="sxs-lookup"><span data-stu-id="3716a-122">hello latest version of SQL Server Management Studio (SSMS) is installed.</span></span> [<span data-ttu-id="3716a-123">SSMS’yi İndirin ve Yükleyin</span><span class="sxs-lookup"><span data-stu-id="3716a-123">Download and Install SSMS</span></span>](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms)

<span data-ttu-id="3716a-124">*Bu öğretici bir sınırlı (esnek veritabanı iş) önizlemede hello SQL veritabanı hizmetinin özelliklerini kullanır. Bu öğretici toodo isterseniz, abonelik kimliğinizi sağlamak tooSaaSFeedback@microsoft.com esnek işleri Önizleme konuyla =. Aboneliğinizi etkinleştirildiğini onay aldıktan sonra [hello en son sürüm öncesi işleri cmdlet'leri yükleyip](https://github.com/jaredmoo/azure-powershell/releases). Bu önizleme sınırlıdır, bu nedenle başvurun SaaSFeedback@microsoft.com ile ilgili sorular veya destek.*</span><span class="sxs-lookup"><span data-stu-id="3716a-124">*This tutorial uses features of hello SQL Database service that are in a limited preview (Elastic Database jobs). If you wish toodo this tutorial, provide your subscription id tooSaaSFeedback@microsoft.com with subject=Elastic Jobs Preview. After you receive confirmation that your subscription has been enabled, [download and install hello latest pre-release jobs cmdlets](https://github.com/jaredmoo/azure-powershell/releases). This preview is limited, so contact SaaSFeedback@microsoft.com for related questions or support.*</span></span>


## <a name="introduction-toosaas-schema-management-patterns"></a><span data-ttu-id="3716a-125">Giriş tooSaaS şema yönetimi desenleri</span><span class="sxs-lookup"><span data-stu-id="3716a-125">Introduction tooSaaS Schema Management patterns</span></span>

<span data-ttu-id="3716a-126">Hello veritabanı başına tek bir kiracı SaaS sonuçları hello veri yalıtımı gelen birçok yolla avantajları desen, ancak hello aynı anda Bakımı ve yönetiminin birçok veritabanı yönetme hello karmaşıklık tanıtır.</span><span class="sxs-lookup"><span data-stu-id="3716a-126">hello single tenant per database SaaS pattern benefits in many ways from hello data isolation that results, but at hello same time introduces hello additional complexity of maintaining and managing many databases.</span></span> <span data-ttu-id="3716a-127">[Esnek iş](sql-database-elastic-jobs-overview.md) hello SQL veri katmanı yönetim kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="3716a-127">[Elastic Jobs](sql-database-elastic-jobs-overview.md) facilitates administration and management of hello SQL data tier.</span></span> <span data-ttu-id="3716a-128">İşlerini toosecurely etkinleştirin ve güvenilir bir şekilde, görevler (T-SQL komut dosyaları) kullanıcı etkileşimi ve girişinden, bağımsız veritabanları grubu karşı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="3716a-128">Jobs enable you toosecurely and reliably, run tasks (T-SQL scripts) independent of user interaction or input, against a group of databases.</span></span> <span data-ttu-id="3716a-129">Bu yöntem, uygulamadaki tüm kiracılar arasında kullanılan toodeploy şema ve ortak başvuru veri değişikliklerini olabilir.</span><span class="sxs-lookup"><span data-stu-id="3716a-129">This method can be used toodeploy schema and common reference data changes across all tenants in an application.</span></span> <span data-ttu-id="3716a-130">Esnek iş kullanılan toomaintain de olabilir bir *altın* hello veritabanının kopyasını hello en son şema ve başvuru verileri her zaman sahip olduktan toocreate yeni kiracılar kullanılır.</span><span class="sxs-lookup"><span data-stu-id="3716a-130">Elastic Jobs can also be used toomaintain a *golden* copy of hello database used toocreate new tenants, ensuring it always has hello latest schema and reference data.</span></span>

![ekran](media/sql-database-saas-tutorial-schema-management/schema-management.png)


## <a name="elastic-jobs-limited-preview"></a><span data-ttu-id="3716a-132">Esnek İşler sınırlı önizlemesi</span><span class="sxs-lookup"><span data-stu-id="3716a-132">Elastic Jobs limited preview</span></span>

<span data-ttu-id="3716a-133">Esnek İşler’in artık Azure SQL Veritabanı’nın (ek hizmet veya bileşen gerektirmeyen) tümleşik bir özelliği olan yeni bir sürümü vardır.</span><span class="sxs-lookup"><span data-stu-id="3716a-133">There is a new version of Elastic Jobs that is now an integrated feature of Azure SQL Database (that requires no additional services or components).</span></span> <span data-ttu-id="3716a-134">Esnek İşler’in bu yeni sürümü, şu anda sınırlı önizlemeyle sunulmaktadır.</span><span class="sxs-lookup"><span data-stu-id="3716a-134">This new version of Elastic Jobs is currently in limited preview.</span></span> <span data-ttu-id="3716a-135">Bu sınırlı Önizleme şu anda PowerShell toocreate iş hesapları ve T-SQL toocreate destekler ve işleri yönetir.</span><span class="sxs-lookup"><span data-stu-id="3716a-135">This limited preview currently supports PowerShell toocreate job accounts, and T-SQL toocreate and manage jobs.</span></span>

> [!NOTE]
> <span data-ttu-id="3716a-136">*Bu öğretici bir sınırlı (esnek veritabanı iş) önizlemede hello SQL veritabanı hizmetinin özelliklerini kullanır. Bu öğretici toodo isterseniz, abonelik kimliğinizi sağlamak tooSaaSFeedback@microsoft.com esnek işleri Önizleme konuyla =. Aboneliğinizi etkinleştirildiğini onay aldıktan sonra [hello en son sürüm öncesi işleri cmdlet'leri yükleyip](https://github.com/jaredmoo/azure-powershell/releases). Bu önizleme sınırlıdır, bu nedenle başvurun SaaSFeedback@microsoft.com ile ilgili sorular veya destek.*</span><span class="sxs-lookup"><span data-stu-id="3716a-136">*This tutorial uses features of hello SQL Database service that are in a limited preview (Elastic Database jobs). If you wish toodo this tutorial, provide your subscription id tooSaaSFeedback@microsoft.com with subject=Elastic Jobs Preview. After you receive confirmation that your subscription has been enabled, [download and install hello latest pre-release jobs cmdlets](https://github.com/jaredmoo/azure-powershell/releases). This preview is limited, so contact SaaSFeedback@microsoft.com for related questions or support.*</span></span>

## <a name="get-hello-wingtip-application-scripts"></a><span data-ttu-id="3716a-137">Merhaba Wingtip uygulama komut dosyaları alma</span><span class="sxs-lookup"><span data-stu-id="3716a-137">Get hello Wingtip application scripts</span></span>

<span data-ttu-id="3716a-138">Merhaba Wingtip SaaS komut dosyaları ve uygulama kaynak koduna hello kullanılabilir [WingtipSaaS](https://github.com/Microsoft/WingtipSaaS) github depo.</span><span class="sxs-lookup"><span data-stu-id="3716a-138">hello Wingtip SaaS scripts and application source code are available in hello [WingtipSaaS](https://github.com/Microsoft/WingtipSaaS) github repo.</span></span> <span data-ttu-id="3716a-139">[Adımları toodownload hello Wingtip SaaS betikleri](sql-database-wtp-overview.md#download-and-unblock-the-wingtip-saas-scripts).</span><span class="sxs-lookup"><span data-stu-id="3716a-139">[Steps toodownload hello Wingtip SaaS scripts](sql-database-wtp-overview.md#download-and-unblock-the-wingtip-saas-scripts).</span></span>

## <a name="create-a-job-account-database-and-new-job-account"></a><span data-ttu-id="3716a-140">İş hesabı veritabanı ve yeni bir iş hesabı oluşturma</span><span class="sxs-lookup"><span data-stu-id="3716a-140">Create a job account database and new job account</span></span>

<span data-ttu-id="3716a-141">Bu öğreticide PowerShell toocreate hello iş veritabanı ve iş hesabı kullanmak gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3716a-141">This tutorial requires you use PowerShell toocreate hello job account database and job account.</span></span> <span data-ttu-id="3716a-142">MSDB ve SQL aracısı gibi esnek işler bir Azure SQL toostore iş tanımları, iş durumunu ve geçmişini veritabanı kullanır.</span><span class="sxs-lookup"><span data-stu-id="3716a-142">Like MSDB and SQL Agent, Elastic Jobs uses an Azure SQL database toostore job definitions, job status, and history.</span></span> <span data-ttu-id="3716a-143">Merhaba iş hesabı oluşturulduktan sonra oluşturma ve işleri hemen izleyin.</span><span class="sxs-lookup"><span data-stu-id="3716a-143">Once hello job account is created, you can create and monitor jobs immediately.</span></span>

1. <span data-ttu-id="3716a-144">Aç... \\Öğrenme modülleri\\Şema Yönetimi\\*Demo SchemaManagement.ps1* hello içinde **PowerShell ISE**.</span><span class="sxs-lookup"><span data-stu-id="3716a-144">Open …\\Learning Modules\\Schema Management\\*Demo-SchemaManagement.ps1* in hello **PowerShell ISE**.</span></span>
1. <span data-ttu-id="3716a-145">Tuşuna **F5** toorun hello komut dosyası.</span><span class="sxs-lookup"><span data-stu-id="3716a-145">Press **F5** toorun hello script.</span></span>

<span data-ttu-id="3716a-146">Merhaba *Demo SchemaManagement.ps1* betik çağrıları hello *dağıtma SchemaManagement.ps1* toocreate komut dosyası bir *S2* adlı veritabanı **jobaccount** hello katalog sunucusunda.</span><span class="sxs-lookup"><span data-stu-id="3716a-146">hello *Demo-SchemaManagement.ps1* script calls hello *Deploy-SchemaManagement.ps1* script toocreate an *S2* database named **jobaccount** on hello catalog server.</span></span> <span data-ttu-id="3716a-147">Daha sonra bir parametre toohello iş hesabı oluşturma çağrı hello jobaccount veritabanı geçirme hello iş hesabı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3716a-147">It then creates hello job account, passing hello jobaccount database as a parameter toohello job account creation call.</span></span>

## <a name="create-a-job-toodeploy-new-reference-data-tooall-tenants"></a><span data-ttu-id="3716a-148">Bir işi toodeploy yeni başvuru veri tooall kiracılar oluşturma</span><span class="sxs-lookup"><span data-stu-id="3716a-148">Create a job toodeploy new reference data tooall tenants</span></span>

<span data-ttu-id="3716a-149">Her Kiracı veritabanı salonundan barındırılan olayları hello türünü tanımlayın salonundan türleri kümesi içerir.</span><span class="sxs-lookup"><span data-stu-id="3716a-149">Each tenant database includes a set of venue types that define hello kind of events that are hosted at a venue.</span></span> <span data-ttu-id="3716a-150">Bu alıştırmada, bir güncelleştirme tooall hello Kiracı veritabanları tooadd iki ek salonundan türlerini dağıtmanıza: *Motosikletinizin yarış* ve *yüzme kulübü*.</span><span class="sxs-lookup"><span data-stu-id="3716a-150">In this exercise, you deploy an update tooall hello tenant databases tooadd two additional venue types: *Motorcycle Racing* and *Swimming Club*.</span></span> <span data-ttu-id="3716a-151">Bu salonundan türleri hello Kiracı olayları uygulamasında gördüğünüz toohello arka plan görüntüsü karşılık gelir.</span><span class="sxs-lookup"><span data-stu-id="3716a-151">These venue types correspond toohello background image you see in hello tenant events app.</span></span>

<span data-ttu-id="3716a-152">Merhaba Salonundan türü açılır menüsünü tıklatın ve yalnızca 10 salonundan türü seçenekleri kullanılabilir ve özellikle, 'Motosikletinizin yarış' ve 'Yüzme kulübü' hello listesinde bulunmayan doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="3716a-152">Click hello Venue Type drop down menu and validate that only 10 venue type options are available, and specifically that ‘Motorcycle Racing’ and ‘Swimming Club’ are not included in hello list.</span></span>

<span data-ttu-id="3716a-153">Şimdi bir iş tooupdate hello oluşturalım *VenueTypes* tablo tüm hello Kiracı veritabanları ve hello yeni salonundan türlerini ekleyin.</span><span class="sxs-lookup"><span data-stu-id="3716a-153">Now let’s create a job tooupdate hello *VenueTypes* table in all hello tenant databases and add hello new venue types.</span></span>

<span data-ttu-id="3716a-154">Yeni bir iş toocreate kullanırız işleri bir dizi sistem saklı yordamlar hello iş hesabı oluşturduğunuzda hello jobaccount veritabanında oluşturulmuş.</span><span class="sxs-lookup"><span data-stu-id="3716a-154">toocreate a new job, we use a set of jobs system stored procedures created in hello jobaccount database when hello job account was created.</span></span>

1. <span data-ttu-id="3716a-155">SSMS açın ve toohello katalog sunucusuna bağlanma: Katalog -\<kullanıcı\>. database.windows.net sunucu</span><span class="sxs-lookup"><span data-stu-id="3716a-155">Open SSMS and connect toohello catalog server: catalog-\<user\>.database.windows.net server</span></span>
1. <span data-ttu-id="3716a-156">Ayrıca toohello Kiracı sunucuya: tenants1 -\<kullanıcı\>. database.windows.net</span><span class="sxs-lookup"><span data-stu-id="3716a-156">Also connect toohello tenant server: tenants1-\<user\>.database.windows.net</span></span>
1. <span data-ttu-id="3716a-157">Toohello Gözat *contosoconcerthall* hello veritabanında *tenants1* sunucusunda ve sorgu hello *VenueTypes* tablo tooconfirm, *Motosikletinizin yarış*  ve *yüzme kulübü* **değil** hello sonuçları listesinde.</span><span class="sxs-lookup"><span data-stu-id="3716a-157">Browse toohello *contosoconcerthall* database on hello *tenants1* server and query hello *VenueTypes* table tooconfirm that *Motorcycle Racing* and *Swimming Club* **are not** in hello results list.</span></span>
1. <span data-ttu-id="3716a-158">Açık hello dosyası... \\Modülleri öğrenme\\Şema Yönetimi\\DeployReferenceData.sql</span><span class="sxs-lookup"><span data-stu-id="3716a-158">Open hello file …\\Learning Modules\\Schema Management\\DeployReferenceData.sql</span></span>
1. <span data-ttu-id="3716a-159">Merhaba deyimi değiştirin: AYARLAMAK @wtpUser = &lt;kullanıcı&gt; ve hello Wingtip uygulama dağıtıldığında kullanılan hello kullanıcı değerini değiştirin</span><span class="sxs-lookup"><span data-stu-id="3716a-159">Modify hello statement: SET @wtpUser = &lt;user&gt; and substitute hello User value used when you deployed hello Wingtip app</span></span>
1. <span data-ttu-id="3716a-160">Bağlı toohello jobaccount veritabanı ve tuşuna olduğundan emin olun **F5** hello komut dosyasını çalıştırmak için</span><span class="sxs-lookup"><span data-stu-id="3716a-160">Ensure you are connected toohello jobaccount database and press **F5** to run hello script</span></span>

* <span data-ttu-id="3716a-161">**SP\_ekleme\_hedef\_grup** tooadd hedef üyeleri ihtiyacımız artık hello hedef grup adı DemoServerGroup, oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3716a-161">**sp\_add\_target\_group** creates hello target group name DemoServerGroup, now we need tooadd target members.</span></span>
* <span data-ttu-id="3716a-162">**SP\_ekleme\_hedef\_grup\_üye** ekler bir *server* hedef sunucu (Bu hello tenants1-Notiçindekitümveritabanlarıuymakaçısındangerekliolduğunuüyetürü&lt; Kullanıcı&gt; hello Kiracı veritabanları içeren sunucu) işi aynı anda yürütme hello işinde hello ikinci ekleme eklenmesi gereken bir *veritabanı* hedef üye türü, 'Altın' veritabanına ('özellikle hello basetenantdb) bulunan katalog - üzerinde&lt;kullanıcı&gt; sunucusu ve son olarak başka bir *veritabanı* bir sonraki öğreticide kullanılan hedef grubu üye türü tooinclude hello adhocanalytics veritabanı.</span><span class="sxs-lookup"><span data-stu-id="3716a-162">**sp\_add\_target\_group\_member** adds a *server* target member type, which deems all databases within that server (note this is hello tenants1-&lt;User&gt; server containing hello tenant databases) at time of job execution should be included in hello job, hello second is adding a *database* target member type, specifically hello ‘golden’ database (basetenantdb) that resides on catalog-&lt;User&gt; server, and lastly another *database* target group member type tooinclude hello adhocanalytics database that is used in a later tutorial.</span></span>
* <span data-ttu-id="3716a-163">**sp\_add\_job**, “Başvuru Verileri Dağıtımı” adında bir iş oluşturur</span><span class="sxs-lookup"><span data-stu-id="3716a-163">**sp\_add\_job** creates a job called “Reference Data Deployment”</span></span>
* <span data-ttu-id="3716a-164">**SP\_ekleme\_iş** T-SQL komut metni tooupdate hello başvuru tablosu, VenueTypes içeren hello işi adımı oluşturur</span><span class="sxs-lookup"><span data-stu-id="3716a-164">**sp\_add\_jobstep** creates hello job step containing T-SQL command text tooupdate hello reference table, VenueTypes</span></span>
* <span data-ttu-id="3716a-165">Merhaba kalan görünümleri hello komut hello varlığını hello nesneleri ve izleme iş yürütme görüntüler.</span><span class="sxs-lookup"><span data-stu-id="3716a-165">hello remaining views in hello script display hello existence of hello objects and monitor job execution.</span></span> <span data-ttu-id="3716a-166">Bu sorguları tooreview hello durum değeri hello kullan **yaşam döngüsü** hello işi başarıyla tüm Kiracı veritabanları ve hello iki ek veritabanları hello başvuru tablosu içeren tamamlandığında sütun toodetermine.</span><span class="sxs-lookup"><span data-stu-id="3716a-166">Use these queries tooreview hello status value in hello **lifecycle** column toodetermine when hello job has successfully finished on all tenant databases and hello two additional databases containing hello reference table.</span></span>

1. <span data-ttu-id="3716a-167">SSMS, toohello Gözat *contosoconcerthall* hello veritabanında *tenants1* sunucusunda ve sorgu hello *VenueTypes* tablo tooconfirm, *Motosikletinizin Yarış* ve *yüzme kulübü* **olan** hello sonuçları listesinde şimdi.</span><span class="sxs-lookup"><span data-stu-id="3716a-167">In SSMS, browse toohello *contosoconcerthall* database on hello *tenants1* server and query hello *VenueTypes* table tooconfirm that *Motorcycle Racing* and *Swimming Club* **are** now in hello results list.</span></span>


## <a name="create-a-job-toomanage-hello-reference-table-index"></a><span data-ttu-id="3716a-168">Bir iş toomanage hello başvuru tablosu dizini oluşturma</span><span class="sxs-lookup"><span data-stu-id="3716a-168">Create a job toomanage hello reference table index</span></span>

<span data-ttu-id="3716a-169">Benzer toohello önceki alıştırmada, bu alıştırmada bir iş toorebuild hello dizin hello başvuru tablosunda birincil anahtar oluşturur, tipik veritabanı yönetim işlemi yönetici büyük veri yükleme sonrası bir tabloya gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="3716a-169">Similar toohello previous exercise, this exercise creates a job toorebuild hello index on hello reference table primary key, a typical database management operation an administrator might perform after a large data load into a table.</span></span>

<span data-ttu-id="3716a-170">Aynı işleri 'system' Hello kullanarak işi oluşturmak saklı yordamlar.</span><span class="sxs-lookup"><span data-stu-id="3716a-170">Create a job using hello same jobs 'system' stored procedures.</span></span>

1. <span data-ttu-id="3716a-171">SSMS açmak ve toohello katalog -&lt;kullanıcı&gt;. database.windows.net sunucu</span><span class="sxs-lookup"><span data-stu-id="3716a-171">Open SSMS and connect toohello catalog-&lt;User&gt;.database.windows.net server</span></span>
1. <span data-ttu-id="3716a-172">Açık hello dosyası... \\Modülleri öğrenme\\Şema Yönetimi\\OnlineReindex.sql</span><span class="sxs-lookup"><span data-stu-id="3716a-172">Open hello file …\\Learning Modules\\Schema Management\\OnlineReindex.sql</span></span>
1. <span data-ttu-id="3716a-173">Sağ tıklayın, bağlantıyı seçin ve toohello katalog - bağlanmak&lt;kullanıcı&gt;. database.windows.net sunucusu zaten bağlıysa,</span><span class="sxs-lookup"><span data-stu-id="3716a-173">Right click, select Connection, and connect toohello catalog-&lt;User&gt;.database.windows.net server, if not already connected</span></span>
1. <span data-ttu-id="3716a-174">Bağlı toohello jobaccount veritabanı olduğundan ve F5 toorun hello betik basın emin olun</span><span class="sxs-lookup"><span data-stu-id="3716a-174">Ensure you are connected toohello jobaccount database and press F5 toorun hello script</span></span>

* <span data-ttu-id="3716a-175">sp\_add\_job, “Online Reindex PK\_\_VenueTyp\_\_265E44FD7FD4C885” adlı yeni bir iş oluşturur</span><span class="sxs-lookup"><span data-stu-id="3716a-175">sp\_add\_job creates a new job called “Online Reindex PK\_\_VenueTyp\_\_265E44FD7FD4C885”</span></span>
* <span data-ttu-id="3716a-176">SP\_ekleme\_iş T-SQL komut metni tooupdate hello dizini içeren hello işi adımı oluşturur</span><span class="sxs-lookup"><span data-stu-id="3716a-176">sp\_add\_jobstep creates hello job step containing T-SQL command text tooupdate hello index</span></span>




## <a name="next-steps"></a><span data-ttu-id="3716a-177">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="3716a-177">Next steps</span></span>

<span data-ttu-id="3716a-178">Bu öğreticide, şunların nasıl yapıldığını öğrendiniz:</span><span class="sxs-lookup"><span data-stu-id="3716a-178">In this tutorial you learned how to:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="3716a-179">Bir iş hesabı tooquery arasında birden çok Kiracı oluşturma</span><span class="sxs-lookup"><span data-stu-id="3716a-179">Create a job account tooquery across multiple tenants</span></span>
> * <span data-ttu-id="3716a-180">Tüm kiracı veritabanlarında verileri güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="3716a-180">Update data in all tenant databases</span></span>
> * <span data-ttu-id="3716a-181">Tüm kiracı veritabanlarında bir tabloda dizin oluşturma</span><span class="sxs-lookup"><span data-stu-id="3716a-181">Create an index on a table in all tenant databases</span></span>

[<span data-ttu-id="3716a-182">Geçici analizler öğreticisi</span><span class="sxs-lookup"><span data-stu-id="3716a-182">Ad-hoc analytics tutorial</span></span>](sql-database-saas-tutorial-adhoc-analytics.md)


## <a name="additional-resources"></a><span data-ttu-id="3716a-183">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="3716a-183">Additional resources</span></span>

* [<span data-ttu-id="3716a-184">Merhaba Wingtip SaaS uygulama dağıtımı sırasında yapı ek öğreticileri</span><span class="sxs-lookup"><span data-stu-id="3716a-184">Additional tutorials that build upon hello Wingtip SaaS application deployment</span></span>](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)
* [<span data-ttu-id="3716a-185">Ölçeği artırılmış bulut veritabanlarını yönetme</span><span class="sxs-lookup"><span data-stu-id="3716a-185">Managing scaled-out cloud databases</span></span>](sql-database-elastic-jobs-overview.md)
* [<span data-ttu-id="3716a-186">Ölçeği artırılmış bulut veritabanları oluşturma ve yönetme</span><span class="sxs-lookup"><span data-stu-id="3716a-186">Create and manage scaled-out cloud databases</span></span>](sql-database-elastic-jobs-create-and-manage.md)
