---
title: "çok kiracılı uygulama Azure SQL veritabanında aaaRestore | Microsoft Docs"
description: "Nasıl toorestore tek bir SQL Kiracı öğrenin yanlışlıkla veri sildikten sonra veritabanı"
keywords: "sql veritabanı öğreticisi"
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: scale out apps
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/10/2017
ms.author: billgib;sstein
ms.openlocfilehash: 8507ecec2424c135f1859b88ebf2bb4e17538a58
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="restore-a-wingtip-saas-tenants-sql-database"></a><span data-ttu-id="27da2-104">Wingtip SaaS kiracılar SQL veritabanını geri yükle</span><span class="sxs-lookup"><span data-stu-id="27da2-104">Restore a Wingtip SaaS tenants SQL database</span></span>

<span data-ttu-id="27da2-105">Merhaba Wingtip SaaS uygulama, her bir kiracı kendi veritabanına sahip olduğu bir kiracı başına veritabanı modeli kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="27da2-105">hello Wingtip SaaS app is built using a database-per-tenant model, where each tenant has their own database.</span></span> <span data-ttu-id="27da2-106">Bu modelin hello avantajlarından biri olduğundan, BT'nin kolay toorestore tek bir kiracının başka kiracılar etkileyen olmadan yalıtım verisinde.</span><span class="sxs-lookup"><span data-stu-id="27da2-106">One of hello benefits of this model is that it is easy toorestore a single tenant’s data in isolation without impacting other tenants.</span></span>

<span data-ttu-id="27da2-107">Bu öğreticide iki veri kurtarma desenleri öğrenin:</span><span class="sxs-lookup"><span data-stu-id="27da2-107">In this tutorial you learn two data recovery patterns:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="27da2-108">Paralel veritabanına (yan yana) bir veritabanını geri yükleyin</span><span class="sxs-lookup"><span data-stu-id="27da2-108">Restore a database into a parallel database (side-by-side)</span></span>
> * <span data-ttu-id="27da2-109">Yerinde bir veritabanını geri yükle</span><span class="sxs-lookup"><span data-stu-id="27da2-109">Restore a database in place</span></span>


|||
|:--|:--|
| <span data-ttu-id="27da2-110">**Kiracı tooa önceki noktası, zaman içindeki paralel bir veritabanına geri yükleme**</span><span class="sxs-lookup"><span data-stu-id="27da2-110">**Restore tenant tooa prior point in time, into a parallel database**</span></span> | <span data-ttu-id="27da2-111">Bu desen hello Kiracı tarafından kullanılan gözden geçirme denetimi, uyumluluk için vb. hello özgün veritabanı çevrimiçi ve değişmeden kalır.</span><span class="sxs-lookup"><span data-stu-id="27da2-111">This pattern can be used by hello tenant for review, auditing, compliance, etc. hello original database remains online and unchanged.</span></span> |
| <span data-ttu-id="27da2-112">**Yerinde Kiracı geri yükleme**</span><span class="sxs-lookup"><span data-stu-id="27da2-112">**Restore tenant in-place**</span></span> | <span data-ttu-id="27da2-113">Bu deseni genelde kullanılan toorecover bir kiracı tooa önceki noktası Kiracı yanlışlıkla veri sildikten sonra saattir.</span><span class="sxs-lookup"><span data-stu-id="27da2-113">This pattern is typically used toorecover a tenant tooa prior point in time, after a tenant accidentally deletes data.</span></span> <span data-ttu-id="27da2-114">Merhaba özgün veritabanını çevrimdışına ve hello geri yüklenen veritabanı ile değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="27da2-114">hello original database is taken offline, and replaced with hello restored database.</span></span> |
|||

<span data-ttu-id="27da2-115">Bu öğretici, Önkoşullar aşağıdaki yapma emin hello tamamlanır toocomplete:</span><span class="sxs-lookup"><span data-stu-id="27da2-115">toocomplete this tutorial, make sure hello following prerequisites are completed:</span></span>

* <span data-ttu-id="27da2-116">Merhaba Wingtip SaaS uygulaması dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="27da2-116">hello Wingtip SaaS app is deployed.</span></span> <span data-ttu-id="27da2-117">beş dakikadan kısa toodeploy bakın [dağıtma ve Merhaba Wingtip SaaS uygulaması keşfedin.](sql-database-saas-tutorial.md)</span><span class="sxs-lookup"><span data-stu-id="27da2-117">toodeploy in less than five minutes, see [Deploy and explore hello Wingtip SaaS application](sql-database-saas-tutorial.md)</span></span>
* <span data-ttu-id="27da2-118">Azure PowerShell’in yüklendiğinden.</span><span class="sxs-lookup"><span data-stu-id="27da2-118">Azure PowerShell is installed.</span></span> <span data-ttu-id="27da2-119">Ayrıntılar için bkz. [Azure PowerShell’i kullanmaya başlama](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span><span class="sxs-lookup"><span data-stu-id="27da2-119">For details, see [Getting started with Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span></span>

## <a name="introduction-toohello-saas-tenant-restore-pattern"></a><span data-ttu-id="27da2-120">Giriş toohello SaaS Kiracı geri yükleme düzeni</span><span class="sxs-lookup"><span data-stu-id="27da2-120">Introduction toohello SaaS tenant restore pattern</span></span>

<span data-ttu-id="27da2-121">Merhaba Kiracı için desen geri yüklemek için tek bir kiracının verileri geri yüklemek için iki basit modeli vardır.</span><span class="sxs-lookup"><span data-stu-id="27da2-121">For hello tenant restore pattern, there are two simple patterns for restoring an individual tenant's data.</span></span> <span data-ttu-id="27da2-122">Kiracı veritabanları birbirinden yalıtılmış olduğundan, bir kiracı geri herhangi diğer kiracının veri üzerinde etkisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="27da2-122">Because tenant databases are isolated from each other, restoring one tenant has no impact on any other tenant's data.</span></span>

<span data-ttu-id="27da2-123">Merhaba ilk desende verileri yeni bir veritabanına geri yüklenir.</span><span class="sxs-lookup"><span data-stu-id="27da2-123">In hello first pattern, data is restored into a new database.</span></span> <span data-ttu-id="27da2-124">Merhaba Kiracı sonra üretim verilerini yanında toothis veritabanına verilir.</span><span class="sxs-lookup"><span data-stu-id="27da2-124">hello tenant is then given access toothis database alongside their production data.</span></span> <span data-ttu-id="27da2-125">Bu desen bir kiracı yönetici tooreview geri hello veri sağlar ve potansiyel olarak kullanmak tooselectively üzerine geçerli verileri değerleri.</span><span class="sxs-lookup"><span data-stu-id="27da2-125">This pattern allows a tenant admin tooreview hello restored data and potentially use it tooselectively overwrite current data values.</span></span> <span data-ttu-id="27da2-126">Bu, veri kurtarma seçenekleri olmalıdır toohello SaaS Uygulama Tasarımcısı toodetermine ne kadar karmaşık hello olur.</span><span class="sxs-lookup"><span data-stu-id="27da2-126">It's up toohello SaaS app designer toodetermine just how sophisticated hello data recovery options should be.</span></span> <span data-ttu-id="27da2-127">Yalnızca belirli bir anda zamanında durumla hello durum mümkün tooreview verileri olan bazı senaryolarda gerekli olabilir.</span><span class="sxs-lookup"><span data-stu-id="27da2-127">Simply being able tooreview data in hello state it was in at a given point in time may be all that is required in some scenarios.</span></span> <span data-ttu-id="27da2-128">Merhaba veritabanı kullanıyorsa, [coğrafi çoğaltma](sql-database-geo-replication-overview.md), hello özgün veritabanına geri hello kopyadan gerekli hello veri kopyalama öneririz.</span><span class="sxs-lookup"><span data-stu-id="27da2-128">If hello database uses [geo-replication](sql-database-geo-replication-overview.md), we recommend copying hello required data from hello restored copy into hello original database.</span></span> <span data-ttu-id="27da2-129">Merhaba özgün veritabanına geri hello veritabanıyla değiştirirseniz, tooreconfigure gerekir ve coğrafi çoğaltma yeniden eşitleyin.</span><span class="sxs-lookup"><span data-stu-id="27da2-129">If you replace hello original database with hello restored database, you need tooreconfigure and resynchronize geo-replication.</span></span>

<span data-ttu-id="27da2-130">Merhaba Kiracı başlayamıyorsa kaybı veya veri bozulması varsayan hello ikinci modelinde hello kiracının üretim veritabanı geri tooa önceki bir noktaya.</span><span class="sxs-lookup"><span data-stu-id="27da2-130">In hello second pattern, which assumes that hello tenant has suffered a loss or corruption of data, hello tenant’s production database is restored tooa prior point in time.</span></span> <span data-ttu-id="27da2-131">Merhaba veritabanı geri ve tekrar çevrimiçi durumdayken hello geri yükleme yeri düzeninde, hello Kiracı kısa bir süre için çevrimdışı hale getirilir.</span><span class="sxs-lookup"><span data-stu-id="27da2-131">In hello restore in place pattern, hello tenant is taken offline for a brief time while hello database is restored and brought back online.</span></span> <span data-ttu-id="27da2-132">Merhaba özgün veritabanı silinir, ancak toogo geri tooan gerekiyorsa hala geri yüklenebileceği daha önceki bir noktaya.</span><span class="sxs-lookup"><span data-stu-id="27da2-132">hello original database is deleted, but can still be restored from if you need toogo back tooan even earlier point in time.</span></span> <span data-ttu-id="27da2-133">Hiçbir ek avantajı veri güvenliği açısından yeniden adlandırma hello veritabanı sunmasına karşın bu deseni çeşitlemesi silmeden yerine hello veritabanı yeniden adlandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="27da2-133">A variation of this pattern could rename hello database instead of deleting it, although renaming hello database offers no additional advantage in terms of data security.</span></span>

## <a name="get-hello-wingtip-application-scripts"></a><span data-ttu-id="27da2-134">Merhaba Wingtip uygulama komut dosyaları alma</span><span class="sxs-lookup"><span data-stu-id="27da2-134">Get hello Wingtip application scripts</span></span>

<span data-ttu-id="27da2-135">Merhaba Wingtip SaaS komut dosyaları ve uygulama kaynak koduna hello kullanılabilir [WingtipSaaS](https://github.com/Microsoft/WingtipSaaS) github depo.</span><span class="sxs-lookup"><span data-stu-id="27da2-135">hello Wingtip SaaS scripts and application source code are available in hello [WingtipSaaS](https://github.com/Microsoft/WingtipSaaS) github repo.</span></span> <span data-ttu-id="27da2-136">[Adımları toodownload hello Wingtip SaaS betikleri](sql-database-wtp-overview.md#download-and-unblock-the-wingtip-saas-scripts).</span><span class="sxs-lookup"><span data-stu-id="27da2-136">[Steps toodownload hello Wingtip SaaS scripts](sql-database-wtp-overview.md#download-and-unblock-the-wingtip-saas-scripts).</span></span>

## <a name="simulate-a-tenant-accidentally-deleting-data"></a><span data-ttu-id="27da2-137">Yanlışlıkla veri silme Kiracı benzetimi</span><span class="sxs-lookup"><span data-stu-id="27da2-137">Simulate a tenant accidentally deleting data</span></span>

<span data-ttu-id="27da2-138">toodemonstrate bu kurtarma senaryoları çok ihtiyacımız*yanlışlıkla* bazı veriler hello Kiracı veritabanlarından birini silin.</span><span class="sxs-lookup"><span data-stu-id="27da2-138">toodemonstrate these recovery scenarios, we need too*accidentally* delete some data in one of hello tenant databases.</span></span> <span data-ttu-id="27da2-139">Herhangi bir kayıt silebilirsiniz olsa da, hello demo toonot hello sonraki adım ayarlar başvuru bütünlüğü ihlali tarafından engellenen!</span><span class="sxs-lookup"><span data-stu-id="27da2-139">While you can delete any record, hello next step sets up hello demo toonot get blocked by referential integrity violations!</span></span> <span data-ttu-id="27da2-140">Ayrıca daha sonra hello kullanabileceğiniz bazı bilet satın alma verileri ekler *Wingtip SaaS Analytics öğreticileri*.</span><span class="sxs-lookup"><span data-stu-id="27da2-140">It also adds some ticket purchase data you can use later in hello *Wingtip SaaS Analytics tutorials*.</span></span>

<span data-ttu-id="27da2-141">Merhaba bilet üreteci komut dosyasını çalıştırın ve ek veri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="27da2-141">Run hello ticket generator script and create additional data.</span></span> <span data-ttu-id="27da2-142">Merhaba bilet Oluşturucu her kiracılar son olay biletlerini kasıtlı olarak satın değil.</span><span class="sxs-lookup"><span data-stu-id="27da2-142">hello ticket generator intentionally does not purchase tickets for each tenants last event.</span></span>

1. <span data-ttu-id="27da2-143">Aç... \\Öğrenme modülleri\\yardımcı programları\\*Demo TicketGenerator.ps1* hello içinde *PowerShell ISE*</span><span class="sxs-lookup"><span data-stu-id="27da2-143">Open ...\\Learning Modules\\Utilities\\*Demo-TicketGenerator.ps1* in hello *PowerShell ISE*</span></span>
1. <span data-ttu-id="27da2-144">Tuşuna **F5** toorun hello betik müşteriler üretmek ve bilet satış verileri.</span><span class="sxs-lookup"><span data-stu-id="27da2-144">Press **F5** toorun hello script and generate customers and ticket sales data.</span></span>


### <a name="open-hello-events-app-tooreview-hello-current-events"></a><span data-ttu-id="27da2-145">Açık hello olayları uygulama tooreview hello geçerli olaylar</span><span class="sxs-lookup"><span data-stu-id="27da2-145">Open hello Events app tooreview hello current events</span></span>

1. <span data-ttu-id="27da2-146">Açık hello *olay hub'ı* (http://events.wtp.&lt; Kullanıcı&gt;. trafficmanager.net) tıklatıp **Contoso birlikte Hall**:</span><span class="sxs-lookup"><span data-stu-id="27da2-146">Open hello *Events Hub* (http://events.wtp.&lt;user&gt;.trafficmanager.net) and click **Contoso Concert Hall**:</span></span>

   ![olay hub’ı](media/sql-database-saas-tutorial-restore-single-tenant/events-hub.png)

1. <span data-ttu-id="27da2-148">Merhaba olayların listesini kaydırın ve hello listesinde hello son olay not edin:</span><span class="sxs-lookup"><span data-stu-id="27da2-148">Scroll hello list of events and make a note of hello last event in hello list:</span></span>

   ![Son olay](media/sql-database-saas-tutorial-restore-single-tenant/last-event.png)


### <a name="run-hello-demo-scenario-tooaccidentally-delete-hello-last-event"></a><span data-ttu-id="27da2-150">Merhaba demo senaryo tooaccidentally delete hello son olay çalıştırın</span><span class="sxs-lookup"><span data-stu-id="27da2-150">Run hello demo scenario tooaccidentally delete hello last event</span></span>

1. <span data-ttu-id="27da2-151">Aç... \\Öğrenme modülleri\\iş sürekliliği ve olağanüstü durum kurtarma\\RestoreTenant\\*Demo RestoreTenant.ps1* hello içinde *PowerShell ISE*, kümesi hello izleyerek değeri:</span><span class="sxs-lookup"><span data-stu-id="27da2-151">Open ...\\Learning Modules\\Business Continuity and Disaster Recovery\\RestoreTenant\\*Demo-RestoreTenant.ps1* in hello *PowerShell ISE*, and set hello following value:</span></span>
   * <span data-ttu-id="27da2-152">**$DemoScenario** = **1**çok ayarlayın**1** -Sil bilet satış olmayan olaylar.</span><span class="sxs-lookup"><span data-stu-id="27da2-152">**$DemoScenario** = **1**, Set too**1** - Delete events with no ticket sales.</span></span>
1. <span data-ttu-id="27da2-153">Tuşuna **F5** toorun hello komut dosyası ve hello son olay silin.</span><span class="sxs-lookup"><span data-stu-id="27da2-153">Press **F5** toorun hello script and delete hello last event.</span></span> <span data-ttu-id="27da2-154">Bir onay iletisi benzer toohello aşağıdaki görmeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="27da2-154">You should see a confirmation message similar toohello following:</span></span>

   ```Console
   Deleting unsold events from Contoso Concert Hall ...
   Deleted event 'Seriously Strauss' from Contoso Concert Hall venue.
   ```

1. <span data-ttu-id="27da2-155">Merhaba Contoso olayları sayfası açılır.</span><span class="sxs-lookup"><span data-stu-id="27da2-155">hello Contoso events page opens.</span></span> <span data-ttu-id="27da2-156">Aşağı kaydırın ve hello olay kayboluyor doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="27da2-156">Scroll down and verify hello event is gone.</span></span> <span data-ttu-id="27da2-157">Merhaba Olay hala hello listesinde ise Yenile'yi tıklatın ve kayboldu olduğunu doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="27da2-157">If hello event is still in hello list, click refresh and verify it is gone.</span></span>

   ![Son olay](media/sql-database-saas-tutorial-restore-single-tenant/last-event-deleted.png)


## <a name="restore-a-tenant-database-in-parallel-with-hello-production-database"></a><span data-ttu-id="27da2-159">Bir kiracı veritabanı hello üretim veritabanı ile paralel geri yükleme</span><span class="sxs-lookup"><span data-stu-id="27da2-159">Restore a tenant database in parallel with hello production database</span></span>

<span data-ttu-id="27da2-160">Bu alıştırmada hello Contoso birlikte Hall veritabanı tooa noktası hello olay silinmiş önce geçen süre içinde geri yükler.</span><span class="sxs-lookup"><span data-stu-id="27da2-160">This exercise restores hello Contoso Concert Hall database tooa point in time before hello event was deleted.</span></span> <span data-ttu-id="27da2-161">Merhaba olay hello önceki adımlarda silindikten sonra toorecover istediğiniz ve Silinen hello veri bakın.</span><span class="sxs-lookup"><span data-stu-id="27da2-161">After hello event is deleted in hello previous steps, you want toorecover and see hello deleted data.</span></span> <span data-ttu-id="27da2-162">Silinen hello kaydıyla üretim veritabanınız toorestore gerekli değildir, ancak diğer iş nedenleri toorecover hello eski veritabanı tooaccess hello eski verileri gerekir.</span><span class="sxs-lookup"><span data-stu-id="27da2-162">You don't need toorestore your production database with hello deleted record, but you need toorecover hello old database tooaccess hello old data for other business reasons.</span></span>

 <span data-ttu-id="27da2-163">Merhaba *geri yükleme TenantInParallel.ps1* betik, veritabanı ve adlı paralel katalog girişini hem paralel bir kiracı oluşturur *ContosoConcertHall\_eski*.</span><span class="sxs-lookup"><span data-stu-id="27da2-163">hello *Restore-TenantInParallel.ps1* script creates a parallel tenant database, and a parallel catalog entry both named *ContosoConcertHall\_old*.</span></span> <span data-ttu-id="27da2-164">Bu tür bir geri yükleme veya uyumluluk ve kurtarma senaryolarına denetim ikincil veri kaybına karşı kurtarmak için uygundur.</span><span class="sxs-lookup"><span data-stu-id="27da2-164">This pattern of restore is best suited for recovering from a minor data loss or for compliance and auditing recovery scenarios.</span></span> <span data-ttu-id="27da2-165">Aynı zamanda, kullanırken önerilen yaklaşımı hello olan [coğrafi çoğaltma](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="27da2-165">It is also hello recommended approach when you are using [geo-replication](sql-database-geo-replication-overview.md).</span></span>

1. <span data-ttu-id="27da2-166">Tam hello [yanlışlıkla veri silme kullanıcı benzetimini](#simulate-a-tenant-accidentally-deleting-data) bölümü.</span><span class="sxs-lookup"><span data-stu-id="27da2-166">Complete hello [simulate a user accidentally deleting data](#simulate-a-tenant-accidentally-deleting-data) section.</span></span>
1. <span data-ttu-id="27da2-167">Aç... \\Öğrenme modülleri\\iş sürekliliği ve olağanüstü durum kurtarma\\RestoreTenant\\_Demo RestoreTenant.ps1_ hello içinde *PowerShell ISE*.</span><span class="sxs-lookup"><span data-stu-id="27da2-167">Open ...\\Learning Modules\\Business Continuity and Disaster Recovery\\RestoreTenant\\_Demo-RestoreTenant.ps1_ in hello *PowerShell ISE*.</span></span>
1. <span data-ttu-id="27da2-168">Ayarlama **$DemoScenario** = **2**, bu çok ayarlamak**2** çok*paralel geri yükleme Kiracı*.</span><span class="sxs-lookup"><span data-stu-id="27da2-168">Set **$DemoScenario** = **2**, Set this too**2** too*Restore tenant in parallel*.</span></span>
1. <span data-ttu-id="27da2-169">Tuşuna **F5** toorun hello komut dosyası.</span><span class="sxs-lookup"><span data-stu-id="27da2-169">Press **F5** toorun hello script.</span></span>

<span data-ttu-id="27da2-170">Merhaba betik hello Kiracı veritabanı (tooa paralel veritabanı) tooa noktası hello önceki bölümdeki hello olay silmeden önce zaman içinde geri yükler.</span><span class="sxs-lookup"><span data-stu-id="27da2-170">hello script restores hello tenant database (tooa parallel database) tooa point in time before you deleted hello event in hello previous section.</span></span> <span data-ttu-id="27da2-171">İkinci bir veritabanı oluşturur, bu veritabanında var ve hello veritabanı toohello katalog hello altında ekler varolan katalog meta verileri kaldırır *ContosoConcertHall\_eski* girişi.</span><span class="sxs-lookup"><span data-stu-id="27da2-171">It creates a second database, removes any existing catalog metadata that exists in this database, and adds hello database toohello catalog under hello *ContosoConcertHall\_old* entry.</span></span>

<span data-ttu-id="27da2-172">Merhaba tanıtım betiği tarayıcınızda hello olayları sayfası açılır.</span><span class="sxs-lookup"><span data-stu-id="27da2-172">hello demo script opens hello events page in your browser.</span></span> <span data-ttu-id="27da2-173">Merhaba URL'den Not: ```http://events.wtp.&lt;user&gt;.trafficmanager.net/contosoconcerthall_old``` bu geri hello veritabanındaki verileri gösteren nerede *_old* toohello adı eklenir.</span><span class="sxs-lookup"><span data-stu-id="27da2-173">Note from hello URL: ```http://events.wtp.&lt;user&gt;.trafficmanager.net/contosoconcerthall_old``` that this is showing data from hello restored database where *_old* is added toohello name.</span></span>

<span data-ttu-id="27da2-174">Merhaba önceki bölümde silinmiş olay hello hello tarayıcı tooconfirm içinde listelenen kaydırma hello olayları geri yüklendi.</span><span class="sxs-lookup"><span data-stu-id="27da2-174">Scroll hello events listed in hello browser tooconfirm that hello event deleted in hello previous section has been restored.</span></span>

<span data-ttu-id="27da2-175">Bir ek Kiracı kendi olayları uygulama toobrowse biletleri ile Kiracı erişim toorestored veri ancak görevi görür tooeasily hello geri yükleme düzeni göstermek nasıl sağlamak olası toobe olduğu gibi sunan geri hello Kiracı unutmayın.</span><span class="sxs-lookup"><span data-stu-id="27da2-175">Note that exposing hello restored tenant as an additional tenant, with its own Events app toobrowse tickets, is unlikely toobe how you would provide a tenant access toorestored data, but serves tooeasily illustrate hello restore pattern.</span></span>

<span data-ttu-id="27da2-176">Gerçekte, büyük olasılıkla yaptığınız tanımlanan bir süre için yalnızca bu geri yüklenen veritabanı korur.</span><span class="sxs-lookup"><span data-stu-id="27da2-176">In reality, you would probably only retain this restored database for a defined period.</span></span> <span data-ttu-id="27da2-177">Arama hello tarafından sona erdikten sonra geri hello Kiracı girişi silebilirsiniz *Kaldır RestoredTenant.ps1* komut dosyası.</span><span class="sxs-lookup"><span data-stu-id="27da2-177">You can delete hello restored tenant entry once you are finished by calling hello *Remove-RestoredTenant.ps1* script.</span></span>

1. <span data-ttu-id="27da2-178">Ayarlama **$DemoScenario** çok**4** tooselect hello *geri Kaldır Kiracı* senaryo.</span><span class="sxs-lookup"><span data-stu-id="27da2-178">Set **$DemoScenario** too**4** tooselect hello *remove restored tenant* scenario.</span></span>
1. <span data-ttu-id="27da2-179">**Yürütme** **kullanarak** **F5**</span><span class="sxs-lookup"><span data-stu-id="27da2-179">**Execute** **using** **F5**</span></span>
1. <span data-ttu-id="27da2-180">Merhaba *ContosoConcertHall\_eski* girişi hello Kataloğu'ndan artık silinir.</span><span class="sxs-lookup"><span data-stu-id="27da2-180">hello *ContosoConcertHall\_old* entry is now deleted from hello catalog.</span></span> <span data-ttu-id="27da2-181">Bir tane tarayıcınızda bu Kiracı için hello olayları sayfasını kapatın.</span><span class="sxs-lookup"><span data-stu-id="27da2-181">Go ahead and close hello events page for this tenant in your browser.</span></span>


## <a name="restore-a-tenant-in-place-replacing-hello-existing-tenant-database"></a><span data-ttu-id="27da2-182">Merhaba varolan Kiracı veritabanı değiştirme Kiracı varken, geri yükleme</span><span class="sxs-lookup"><span data-stu-id="27da2-182">Restore a tenant in place, replacing hello existing tenant database</span></span>

<span data-ttu-id="27da2-183">Bu alıştırmada hello Contoso birlikte Hall Kiracı tooa noktası hello olay silinmiş önce geçen süre içinde geri yükler.</span><span class="sxs-lookup"><span data-stu-id="27da2-183">This exercise restores hello Contoso Concert Hall tenant tooa point in time before hello event was deleted.</span></span> <span data-ttu-id="27da2-184">Merhaba *geri yükleme TenantInPlace* komut dosyası tooa önceki noktası zamanında işaret eden hello geçerli Kiracı veritabanı tooa yeni veritabanını geri yükler ve siler hello özgün veritabanı.</span><span class="sxs-lookup"><span data-stu-id="27da2-184">hello *Restore-TenantInPlace* script restores hello current tenant database tooa new database pointing tooa previous point in time, and deletes hello original database.</span></span> <span data-ttu-id="27da2-185">Kiracı hello önemli veri kaybı olabileceğinden ciddi veri bozulmasını kurtarmak tooaccommodate olurdu için bu deseni geri yükleme daha uygundur.</span><span class="sxs-lookup"><span data-stu-id="27da2-185">This pattern of restore is best suited for recovering from serious data corruption as there may be significant data loss that hello tenant would have tooaccommodate.</span></span>

1. <span data-ttu-id="27da2-186">Açık **Demo RestoreTenant.ps1** PowerShell ISE dosyasında</span><span class="sxs-lookup"><span data-stu-id="27da2-186">Open **Demo-RestoreTenant.ps1** file in PowerShell ISE</span></span>
1. <span data-ttu-id="27da2-187">Ayarlama **$DemoScenario** çok**5** tooselect hello *yer senaryoda Kiracı geri*.</span><span class="sxs-lookup"><span data-stu-id="27da2-187">Set **$DemoScenario** too**5** tooselect hello *restore tenant in place scenario*.</span></span>
1. <span data-ttu-id="27da2-188">Kullanılarak yürütülmesi **F5**.</span><span class="sxs-lookup"><span data-stu-id="27da2-188">Execute using **F5**.</span></span>

<span data-ttu-id="27da2-189">Merhaba betik hello Kiracı veritabanı tooa noktası beş dakika hello olay silinmiş önce geri yükler.</span><span class="sxs-lookup"><span data-stu-id="27da2-189">hello script restores hello tenant database tooa point five minutes before hello event was deleted.</span></span> <span data-ttu-id="27da2-190">İlk bunu yapar hello Contoso birlikte Hall alma çevrimdışı vardır; bu nedenle daha fazla Kiracı toohello verileri güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="27da2-190">It does this by first taking hello Contoso Concert Hall tenant offline so there are no further updates toohello data.</span></span> <span data-ttu-id="27da2-191">Ardından, paralel bir veritabanı hello geri yükleme noktasından geri yükleyerek oluşturulur ve adlı bir zaman damgası ile tooensure hello veritabanı adı hello varolan Kiracı veritabanı adı ile çakışmaması.</span><span class="sxs-lookup"><span data-stu-id="27da2-191">Then, a parallel database is created by restoring from hello restore point and named with a timestamp tooensure hello database name does not conflict with hello existing tenant database name.</span></span> <span data-ttu-id="27da2-192">Ardından, hello eski Kiracı veritabanı silinir ve hello geri yüklenen veritabanı yeniden adlandırılmış toohello özgün veritabanı adıdır.</span><span class="sxs-lookup"><span data-stu-id="27da2-192">Next, hello old tenant database is deleted, and hello restored database is renamed toohello original database name.</span></span> <span data-ttu-id="27da2-193">Son olarak, Contoso birlikte Hall çevrimiçi tooallow hello uygulama erişim geri toohello veritabanı duruma getirilir.</span><span class="sxs-lookup"><span data-stu-id="27da2-193">Finally, Contoso Concert Hall is brought online tooallow hello app access toohello restored database.</span></span>

<span data-ttu-id="27da2-194">Merhaba olay silinmeden önce zamanında hello veritabanı tooa noktası başarıyla geri.</span><span class="sxs-lookup"><span data-stu-id="27da2-194">You successfully restored hello database tooa point in time before hello event was deleted.</span></span> <span data-ttu-id="27da2-195">Olayları sayfası açılır Merhaba, bu nedenle onaylayın hello son olay geri yüklendi.</span><span class="sxs-lookup"><span data-stu-id="27da2-195">hello Events page opens, so confirm hello last event has been restored.</span></span>


## <a name="next-steps"></a><span data-ttu-id="27da2-196">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="27da2-196">Next steps</span></span>

<span data-ttu-id="27da2-197">Bu öğreticide, şunların nasıl yapıldığını öğrendiniz:</span><span class="sxs-lookup"><span data-stu-id="27da2-197">In this tutorial, you learned how to:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="27da2-198">Paralel veritabanına (yan yana) bir veritabanını geri yükleyin</span><span class="sxs-lookup"><span data-stu-id="27da2-198">Restore a database into a parallel database (side-by-side)</span></span>
> * <span data-ttu-id="27da2-199">Yerinde bir veritabanını geri yükle</span><span class="sxs-lookup"><span data-stu-id="27da2-199">Restore a database in place</span></span>

[<span data-ttu-id="27da2-200">Kiracı veritabanı şeması yönetme</span><span class="sxs-lookup"><span data-stu-id="27da2-200">Manage tenant database schema</span></span>](sql-database-saas-tutorial-schema-management.md)

## <a name="additional-resources"></a><span data-ttu-id="27da2-201">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="27da2-201">Additional resources</span></span>

* <span data-ttu-id="27da2-202">Ek [hello Wingtip SaaS uygulamasına yapı öğreticileri](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span><span class="sxs-lookup"><span data-stu-id="27da2-202">Additional [tutorials that build upon hello Wingtip SaaS application](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span></span>
* [<span data-ttu-id="27da2-203">Azure SQL Database iş sürekliliğine genel bakış</span><span class="sxs-lookup"><span data-stu-id="27da2-203">Overview of business continuity with Azure SQL Database</span></span>](sql-database-business-continuity.md)
* [<span data-ttu-id="27da2-204">SQL veritabanı yedeklemeleri hakkında bilgi edinin</span><span class="sxs-lookup"><span data-stu-id="27da2-204">Learn about SQL Database backups</span></span>](sql-database-automated-backups.md)
