---
title: "aaaPerformance önerileri - Azure SQL veritabanı | Microsoft Docs"
description: "Hello Azure SQL veritabanı geçerli sorgu performansını artırmak, SQL veritabanları için öneriler sağlar."
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: monicar
ms.assetid: 1db441ff-58f5-45da-8d38-b54dc2aa6145
ms.service: sql-database
ms.custom: monitor & tune
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/05/2017
ms.author: sstein
ms.openlocfilehash: 77db338a0a395aec78c9e02849ae5ba4f2d01680
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="performance-recommendations"></a><span data-ttu-id="68baf-103">Performans önerileri</span><span class="sxs-lookup"><span data-stu-id="68baf-103">Performance recommendations</span></span>

<span data-ttu-id="68baf-104">Azure SQL veritabanı öğrenir ve uygulamanız ile uyum ve toomaximize hello performans SQL veritabanlarınızın etkinleştirme özelleştirilmiş öneriler sağlar.</span><span class="sxs-lookup"><span data-stu-id="68baf-104">Azure SQL Database learns and adapts with your application and provides customized recommendations enabling you toomaximize hello performance of your SQL databases.</span></span> <span data-ttu-id="68baf-105">Performansınızı SQL veritabanı kullanım geçmişiniz çözümleyerek sürekli olarak değerlendirildiği.</span><span class="sxs-lookup"><span data-stu-id="68baf-105">Your performance is continuously assessed by analyzing your SQL Database usage history.</span></span> <span data-ttu-id="68baf-106">sağlanan hello öneriler, bir veritabanı benzersiz iş yükü deseni temel alınarak ve performansını artırmaya yardımcı.</span><span class="sxs-lookup"><span data-stu-id="68baf-106">hello recommendations that are provided are based on a database unique workload pattern and help improve its performance.</span></span>

> [!NOTE]
> <span data-ttu-id="68baf-107">Önerileri kullanarak önerilen veritabanınızda 'Otomatik ayarı' seçeneğini etkinleştirerek yoludur.</span><span class="sxs-lookup"><span data-stu-id="68baf-107">Recommended way of using recommendations is by enabling ‘Automatic tuning’ on your database.</span></span> <span data-ttu-id="68baf-108">Ayrıntılar için bkz [otomatik ayarlama](sql-database-automatic-tuning.md).</span><span class="sxs-lookup"><span data-stu-id="68baf-108">For details, see [Automatic tuning](sql-database-automatic-tuning.md).</span></span>
>

## <a name="create-index-recommendations"></a><span data-ttu-id="68baf-109">Dizin önerileri oluşturma</span><span class="sxs-lookup"><span data-stu-id="68baf-109">Create index recommendations</span></span>
<span data-ttu-id="68baf-110">Azure SQL veritabanı sürekli olarak yürütülen hello sorguları izler ve hello performansını artırmak hello dizinleri tanımlar.</span><span class="sxs-lookup"><span data-stu-id="68baf-110">Azure SQL Database continuously monitors hello queries being executed and identifies hello indexes that could improve hello performance.</span></span> <span data-ttu-id="68baf-111">Yeterli güvenirlik derlendikten sonra belirli bir dizin eksik, yeni bir **Create Index** öneri oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="68baf-111">Once enough confidence is built that a certain index is missing, a new **Create index** recommendation will be created.</span></span> <span data-ttu-id="68baf-112">Azure SQL veritabanı derlemeleri güvenirlik performans kazancı hello dizin hesaplaması tamamlanışında sunacağı.</span><span class="sxs-lookup"><span data-stu-id="68baf-112">Azure SQL Database builds confidence by estimating performance gain hello index would bring through time.</span></span> <span data-ttu-id="68baf-113">Tahmini hello performans kazancı bağlı olarak öneriler yüksek, Orta veya düşük kategorilere ayrılır.</span><span class="sxs-lookup"><span data-stu-id="68baf-113">Depending on hello estimated performance gain, recommendations are categorized as High, Medium,  or Low.</span></span> 

<span data-ttu-id="68baf-114">Önerileri kullanarak oluşturulan dizinleri her zaman auto_created dizinler işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="68baf-114">Indexes created using recommendations are always flagged as auto_created indexes.</span></span> <span data-ttu-id="68baf-115">Hangi dizinleri auto_created sys.indexes Sergi bakarak görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="68baf-115">You can see which indexes are auto_created by looking at sys.indexes view.</span></span> <span data-ttu-id="68baf-116">Otomatik olarak oluşturulan dizinleri ALTER/yeniden adlandırma komutları engelleme.</span><span class="sxs-lookup"><span data-stu-id="68baf-116">Auto created indexes don’t block ALTER/RENAME commands.</span></span> <span data-ttu-id="68baf-117">Bir otomatik olarak dizin üzerinde oluşturulan sahip toodrop hello sütun çalışırsanız, hello komutu gönderir ve hello otomatik olarak dizini oluşturulan de hello komutuyla bırakılır.</span><span class="sxs-lookup"><span data-stu-id="68baf-117">If you try toodrop hello column that has an auto created index over it, hello command passes and hello auto created index is dropped with hello command as well.</span></span> <span data-ttu-id="68baf-118">Normal dizin hello ALTER/RENAME komutu dizini sütunlarda engellenebilir.</span><span class="sxs-lookup"><span data-stu-id="68baf-118">Regular indexes would block hello ALTER/RENAME command on columns that are indexed.</span></span>

<span data-ttu-id="68baf-119">Merhaba oluşturduktan sonra dizin önerisi uygulanır, Azure SQL veritabanı hello sorguların performansını hello taban çizgisi performansı ile karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="68baf-119">Once hello create index recommendation is applied, Azure SQL Database will compare performance of hello queries with hello baseline performance.</span></span> <span data-ttu-id="68baf-120">Yeni dizin hello performans geliştirmeleri geldiyseniz öneri başarılı olarak işaretlenir ve etkisi raporu kullanılabilir olacaktır.</span><span class="sxs-lookup"><span data-stu-id="68baf-120">If new index brought improvements in hello performance, recommendation will be flagged as successful and impact report will be available.</span></span> <span data-ttu-id="68baf-121">Merhaba dizini hello avantajları getirmek kaydetmedi durumda otomatik olarak döndürülecek.</span><span class="sxs-lookup"><span data-stu-id="68baf-121">In case hello index didn’t bring hello benefits, it will be automatically reverted.</span></span> <span data-ttu-id="68baf-122">Önerileri kullanarak yalnızca hello veritabanı performansını artırır, böylece Azure SQL veritabanı sağlar.</span><span class="sxs-lookup"><span data-stu-id="68baf-122">This way Azure SQL Database ensures that using recommendations will only improve hello database performance.</span></span>

<span data-ttu-id="68baf-123">Tüm **Create Index** önerisi bir geri alma hello veritabanı veya havuz DTU kullanımı son 20 dakika veya hello depolama kullanımı % 90 olup olmadığını % 80 ise hello öneri uygulama izin vermiyor İlkesi yok.</span><span class="sxs-lookup"><span data-stu-id="68baf-123">Any **Create index** recommendation has a back off policy that won’t allow applying hello recommendation if hello database or pool DTU usage was above 80% in last 20 minutes or if hello storage is above 90% of usage.</span></span> <span data-ttu-id="68baf-124">Bu durumda, hello öneri Ertelenen.</span><span class="sxs-lookup"><span data-stu-id="68baf-124">In this case, hello recommendation will be postponed.</span></span>

## <a name="drop-index-recommendations"></a><span data-ttu-id="68baf-125">Dizin kaldırma önerileri</span><span class="sxs-lookup"><span data-stu-id="68baf-125">Drop index recommendations</span></span>
<span data-ttu-id="68baf-126">Ayrıca toodetecting eksik bir dizin, Azure SQL veritabanı sürekli varolan dizinleri hello performansını analiz eder.</span><span class="sxs-lookup"><span data-stu-id="68baf-126">In addition toodetecting a missing index, Azure SQL Database continuously analyzes hello performance of existing indexes.</span></span> <span data-ttu-id="68baf-127">Dizin kullanılmazsa, Azure SQL veritabanı bırakmadan öneririz.</span><span class="sxs-lookup"><span data-stu-id="68baf-127">If index is not used, Azure SQL Database will recommend dropping it.</span></span> <span data-ttu-id="68baf-128">Bir dizini bırakmadan iki durumda da önerilir:</span><span class="sxs-lookup"><span data-stu-id="68baf-128">Dropping an index is recommended in two cases:</span></span>
* <span data-ttu-id="68baf-129">Dizin (aynı dizine ve sütun, bölüm şeması ve filtreleri dahil) başka bir dizin yinelemesi</span><span class="sxs-lookup"><span data-stu-id="68baf-129">Index is a duplicate of another index (same indexed and included column, partition schema, and filters)</span></span>
* <span data-ttu-id="68baf-130">Dizin uzun süren bir süre (93 gün) için kullanılmaz</span><span class="sxs-lookup"><span data-stu-id="68baf-130">Index is unused for a prolonged period (93 days)</span></span>

<span data-ttu-id="68baf-131">Dizin kaldırma önerileri de hello doğrulamadan sonra uygulama geçer.</span><span class="sxs-lookup"><span data-stu-id="68baf-131">Drop index recommendations also go through hello verification after implementation.</span></span> <span data-ttu-id="68baf-132">Merhaba performans artarsa hello etkisi raporu kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="68baf-132">If hello performance is improved hello impact report will be available.</span></span> <span data-ttu-id="68baf-133">Bir performans düşüşü algılanırsa durumda öneri geri alınacak.</span><span class="sxs-lookup"><span data-stu-id="68baf-133">In case performance degradation is detected, recommendation will be reverted.</span></span>


## <a name="parameterize-queries-recommendations"></a><span data-ttu-id="68baf-134">Sorguları önerileri Parametreleştirme</span><span class="sxs-lookup"><span data-stu-id="68baf-134">Parameterize queries recommendations</span></span>
<span data-ttu-id="68baf-135">**Sorguları Parametreleştirme** önerileri varsa veya sürekli olarak derlenir ancak şunun daha fazla sorguları hello aynı sorgu yürütme planı yaptığınızda görünmez.</span><span class="sxs-lookup"><span data-stu-id="68baf-135">**Parameterize queries** recommendations appear when you have one or more queries that are constantly being recompiled but end up with hello same query execution plan.</span></span> <span data-ttu-id="68baf-136">Bu durum toobe önbelleğe alınmış ve performansı artırır ve kaynak kullanımını azaltarak gelecekteki hello yeniden sorgu planlarını sağlayacak parameterızatıon forced bir fırsat tooapply yukarı açar.</span><span class="sxs-lookup"><span data-stu-id="68baf-136">This condition opens up an opportunity tooapply forced parameterization, which will allow query plans toobe cached and reused in hello future improving performance and reducing resource usage.</span></span> 

<span data-ttu-id="68baf-137">SQL Server karşı başlangıçta verilen her sorgu yürütme planı derlenmiş toobe toogenerate gerekir.</span><span class="sxs-lookup"><span data-stu-id="68baf-137">Every query issued against SQL Server initially needs toobe compiled toogenerate an execution plan.</span></span> <span data-ttu-id="68baf-138">Oluşturulan her plan toohello plan önbelleğinin ve sonraki yürütmelerde eklenir hello ek derleme hello gereksinimini hello önbelleğinden Bu planın aynı sorgu yeniden kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="68baf-138">Each generated plan is added toohello plan cache and subsequent executions of hello same query can reuse this plan from hello cache, eliminating hello need for additional compilation.</span></span> 

<span data-ttu-id="68baf-139">Parametreli olmayan değerler, sorguları göndermek uygulamalar, burada her tür sorguda farklı parametre değerleri ile Merhaba yürütme planı yeniden derlenir tooa performansa neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="68baf-139">Applications that send queries, which include non-parameterized values, can lead tooa performance overhead, where for every such query with different parameter values hello execution plan is compiled again.</span></span> <span data-ttu-id="68baf-140">Birçok durumda hello farklı parametre değerlerini oluşturmak aynı sorgularıyla aynı yürütme planları Merhaba, ancak bu planlarını toohello plan önbelleğinin hala ayrı olarak eklenir.</span><span class="sxs-lookup"><span data-stu-id="68baf-140">In many cases hello same queries with different parameter values generate hello same execution plans, but these plans are still separately added toohello plan cache.</span></span> <span data-ttu-id="68baf-141">Yeniden derlenmesi yürütme planları veritabanı kaynaklarını kullanmak için önbellek neden hello önbellekten çıkarılmasına toobe planları hello sorgu süresi saat ve taşma hello planı artırın.</span><span class="sxs-lookup"><span data-stu-id="68baf-141">Recompiling execution plans use database resources, increase hello query duration time and overflow hello plan cache causing plans toobe evicted from hello cache.</span></span> <span data-ttu-id="68baf-142">SQL Server'ın bu davranış parametrelemeyi seçeneği hello veritabanında zorunlu hello ayarlayarak değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="68baf-142">This behavior of SQL Server can be altered by setting hello forced parameterization option on hello database.</span></span> 

<span data-ttu-id="68baf-143">(Merhaba öneri gibi uygulandıysa) hello gerçek CPU arasında bir karşılaştırma ile kullanım ve hello CPU kullanımı öngörülen toohelp, bu öneri hello etkisini tahmin, sağlanır.</span><span class="sxs-lookup"><span data-stu-id="68baf-143">toohelp you estimate hello impact of this recommendation, you are provided with a comparison between hello actual CPU usage and hello projected CPU usage (as if hello recommendation was applied).</span></span> <span data-ttu-id="68baf-144">Ayrıca tooCPU tasarruf derlemede hello zamanın için sorgu süresini azaltır.</span><span class="sxs-lookup"><span data-stu-id="68baf-144">In addition tooCPU savings, your query duration decreases for hello time spent in compilation.</span></span> <span data-ttu-id="68baf-145">Ayrıca olacaktır daha az ek yükü plan önbelleğinin, hello çoğunluğu vererek toostay önbelleğinde planları ve yeniden kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="68baf-145">There will also be much less overhead on plan cache, allowing majority of hello plans toostay in cache and be reused.</span></span> <span data-ttu-id="68baf-146">Merhaba üzerinde tıklatarak hızlı ve kolay bir şekilde Bu öneri uygulayabilirsiniz **Uygula** komutu.</span><span class="sxs-lookup"><span data-stu-id="68baf-146">You can apply this recommendation quickly and easily by clicking on hello **Apply** command.</span></span> 

<span data-ttu-id="68baf-147">Bu öneriyi uyguladığınızda, yaklaşık 24 saat boyunca sürer işlem izleme hello başlatır ve veritabanı yükünüzü dakika içinde zorlanmış parametrelemeyi olanağı sağlar.</span><span class="sxs-lookup"><span data-stu-id="68baf-147">Once you apply this recommendation, it will enable forced parameterization within minutes on your database and it starts hello monitoring process which approximately lasts for 24 hours.</span></span> <span data-ttu-id="68baf-148">Bu süre, 24 saat önce veritabanınızı CPU kullanımını gösteren mümkün toosee hello doğrulama raporunu olması ve hello öneri uygulandıktan sonra olur.</span><span class="sxs-lookup"><span data-stu-id="68baf-148">After this period, you will be able toosee hello validation report that shows CPU usage of your database 24 hours before and after hello recommendation has been applied.</span></span> <span data-ttu-id="68baf-149">SQL veritabanı Danışmanı performans regresyon algılandı, otomatik olarak uygulanan hello öneri döner bir güvenlik mekanizması vardır.</span><span class="sxs-lookup"><span data-stu-id="68baf-149">SQL Database Advisor has a safety mechanism that automatically reverts hello applied recommendation in case a performance regression has been detected.</span></span>

## <a name="fix-schema-issues-recommendations"></a><span data-ttu-id="68baf-150">Şema sorunları önerileri Düzelt</span><span class="sxs-lookup"><span data-stu-id="68baf-150">Fix schema issues recommendations</span></span>
<span data-ttu-id="68baf-151">**Şema sorunları giderin** önerileri hello tıklattığınızda görünür SQL veritabanı hizmetinin bildirimler bir anomali şema ile ilgili SQL hataları Azure SQL veritabanınızda gerçekleştiği hello sayısı.</span><span class="sxs-lookup"><span data-stu-id="68baf-151">**Fix schema issues** recommendations appear when hello SQL Database service notices an anomaly in hello number of schema-related SQL errors happening on your Azure SQL Database.</span></span> <span data-ttu-id="68baf-152">Bu öneri, genellikle veritabanınızı bir saat içinde birden çok şema ile ilgili hataları (geçersiz sütun adı, geçersiz nesne adı, vb.) karşılaştığında görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="68baf-152">This recommendation typically appears when your database encounters multiple schema-related errors (invalid column name, invalid object name, etc.) within an hour.</span></span>

<span data-ttu-id="68baf-153">"Şema" Merhaba tanımı hello SQL sorgusunun ve hello tanımının hello veritabanı şemasının hizalanmadıysa zaman meydana söz dizimi hataları SQL Server'daki sınıfının sorunlardır.</span><span class="sxs-lookup"><span data-stu-id="68baf-153">“Schema issues” are a class of syntax errors in SQL Server that happen when hello definition of hello SQL query and hello definition of hello database schema are not aligned.</span></span> <span data-ttu-id="68baf-154">Örneğin, hello sorgu tarafından beklenen hello sütunlardan biri eksik olabilir hello hedef tabloda veya tersi.</span><span class="sxs-lookup"><span data-stu-id="68baf-154">For example, one of hello columns expected by hello query may be missing in hello target table, or vice versa.</span></span> 

<span data-ttu-id="68baf-155">Azure SQL veritabanı hizmetinin Azure SQL veritabanınızda gerçekleştiği şema ile ilgili SQL hataları hello sayısı cinsinden bir anomali bildirimler "şema sorunu düzeltin" öneri görünür.</span><span class="sxs-lookup"><span data-stu-id="68baf-155">“Fix schema issue” recommendation appears when Azure SQL Database service notices an anomaly in hello number of schema-related SQL errors happening on your Azure SQL Database.</span></span> <span data-ttu-id="68baf-156">Merhaba, aşağıdaki ilgili tooschema sorunlardır tablo gösterir hello hatalar:</span><span class="sxs-lookup"><span data-stu-id="68baf-156">hello following table shows hello errors that are related tooschema issues:</span></span>

| <span data-ttu-id="68baf-157">SQL hata kodu</span><span class="sxs-lookup"><span data-stu-id="68baf-157">SQL Error Code</span></span> | <span data-ttu-id="68baf-158">İleti</span><span class="sxs-lookup"><span data-stu-id="68baf-158">Message</span></span> |
| --- | --- |
| <span data-ttu-id="68baf-159">201</span><span class="sxs-lookup"><span data-stu-id="68baf-159">201</span></span> |<span data-ttu-id="68baf-160">Yordamı veya işlevi '*'parametresini beklemektedir'*', hangi değil sağlandı.</span><span class="sxs-lookup"><span data-stu-id="68baf-160">Procedure or function '*' expects parameter '*', which was not supplied.</span></span> |
| <span data-ttu-id="68baf-161">207</span><span class="sxs-lookup"><span data-stu-id="68baf-161">207</span></span> |<span data-ttu-id="68baf-162">Geçersiz sütun adı ' *'.</span><span class="sxs-lookup"><span data-stu-id="68baf-162">Invalid column name '*'.</span></span> |
| <span data-ttu-id="68baf-163">208</span><span class="sxs-lookup"><span data-stu-id="68baf-163">208</span></span> |<span data-ttu-id="68baf-164">Geçersiz nesne adı ' *'.</span><span class="sxs-lookup"><span data-stu-id="68baf-164">Invalid object name '*'.</span></span> |
| <span data-ttu-id="68baf-165">213</span><span class="sxs-lookup"><span data-stu-id="68baf-165">213</span></span> |<span data-ttu-id="68baf-166">Sütun adı veya numarası sağlanan değerlerin tablo tanımı eşleşmiyor.</span><span class="sxs-lookup"><span data-stu-id="68baf-166">Column name or number of supplied values does not match table definition.</span></span> |
| <span data-ttu-id="68baf-167">2812</span><span class="sxs-lookup"><span data-stu-id="68baf-167">2812</span></span> |<span data-ttu-id="68baf-168">Saklı yordamı bulunamadı. ' *'.</span><span class="sxs-lookup"><span data-stu-id="68baf-168">Could not find stored procedure '*'.</span></span> |
| <span data-ttu-id="68baf-169">8144</span><span class="sxs-lookup"><span data-stu-id="68baf-169">8144</span></span> |<span data-ttu-id="68baf-170">Yordam veya işlev * belirtilen çok fazla bağımsız değişkenlere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="68baf-170">Procedure or function * has too many arguments specified.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="68baf-171">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="68baf-171">Next steps</span></span>
<span data-ttu-id="68baf-172">Önerilerinizi izlemek ve tooapply devam bunları toorefine performans.</span><span class="sxs-lookup"><span data-stu-id="68baf-172">Monitor your recommendations and continue tooapply them toorefine performance.</span></span> <span data-ttu-id="68baf-173">Veritabanı iş yüklerini, dinamik ve sürekli olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="68baf-173">Database workloads are dynamic and change continuously.</span></span> <span data-ttu-id="68baf-174">SQL veritabanı Danışmanı'nı toomonitor devam eder ve veritabanınızın performansı artırmak öneriler sağlar.</span><span class="sxs-lookup"><span data-stu-id="68baf-174">SQL Database advisor continues toomonitor and provide recommendations that can potentially improve your database's performance.</span></span> 

* <span data-ttu-id="68baf-175">Bkz: [hello Azure portal performans önerileri](sql-database-advisor-portal.md) nasıl toouse performans önerileri Azure portal hello adımlar için.</span><span class="sxs-lookup"><span data-stu-id="68baf-175">See [Performance recommendations in hello Azure portal](sql-database-advisor-portal.md) for steps on how toouse performance recommendations in hello Azure portal.</span></span>
* <span data-ttu-id="68baf-176">Bkz: [sorgu performansı öngörüleri](sql-database-query-performance.md) toolearn hakkında ve görünüm hello üst sorgularınızı performans etkisini.</span><span class="sxs-lookup"><span data-stu-id="68baf-176">See [Query Performance Insights](sql-database-query-performance.md) toolearn about and view hello performance impact of your top queries.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="68baf-177">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="68baf-177">Additional resources</span></span>
* [<span data-ttu-id="68baf-178">Sorgu deposu</span><span class="sxs-lookup"><span data-stu-id="68baf-178">Query Store</span></span>](https://msdn.microsoft.com/library/dn817826.aspx)
* [<span data-ttu-id="68baf-179">DİZİN OLUŞTURMA</span><span class="sxs-lookup"><span data-stu-id="68baf-179">CREATE INDEX</span></span>](https://msdn.microsoft.com/library/ms188783.aspx)
* [<span data-ttu-id="68baf-180">Rol tabanlı erişim denetimi</span><span class="sxs-lookup"><span data-stu-id="68baf-180">Role-based access control</span></span>](../active-directory/role-based-access-control-what-is.md)

