---
title: aaaTroubleshoot bulut Application Insights kullanarak Hizmetleri | Microsoft Docs
description: "Application Insights tooprocess Azure Tanılama verileri kullanarak tootroubleshoot bulut hizmeti nasıl sorunlar hakkında bilgi edinin."
services: cloud-services
documentationcenter: .net
author: sbtron
manager: timlt
editor: tysonn
ms.assetid: e93f387b-ef29-4731-ae41-0676722accb6
ms.service: cloud-services
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/23/2017
ms.author: saurabh
ms.openlocfilehash: 972924d9e6d1fe33d5c19b006d482de52ffb0ef7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-cloud-services-using-application-insights"></a><span data-ttu-id="f17da-103">Bulut Hizmetleri Application Insights kullanarak sorun giderme</span><span class="sxs-lookup"><span data-stu-id="f17da-103">Troubleshoot Cloud Services using Application Insights</span></span>
<span data-ttu-id="f17da-104">İle [Azure SDK 2.8](https://azure.microsoft.com/downloads/) ve Azure tanılama uzantısını 1.5, bulut hizmetiniz için Azure Tanılama verileri gönderebilir doğrudan tooApplication Öngörüler.</span><span class="sxs-lookup"><span data-stu-id="f17da-104">With [Azure SDK 2.8](https://azure.microsoft.com/downloads/) and Azure diagnostics extension 1.5, you can send Azure Diagnostics data for your Cloud Service directly tooApplication Insights.</span></span> <span data-ttu-id="f17da-105">Hello Azure tanılama tarafından toplanan günlüklerini&mdash;uygulama günlükleri, Windows olay günlükleri, ETW günlükleri ve performans sayaçları dahil olmak üzere&mdash;tooApplication Öngörüler gönderilebilir.</span><span class="sxs-lookup"><span data-stu-id="f17da-105">hello logs collected by Azure Diagnostics&mdash;including application logs, Windows Event Logs, ETW Logs, and performance counters&mdash;can be sent tooApplication Insights.</span></span> <span data-ttu-id="f17da-106">Ardından bu bilgileri hello Application Insights portalında UI görselleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f17da-106">You can then visualize this information in hello Application Insights portal UI.</span></span> <span data-ttu-id="f17da-107">Daha sonra hello Application Insights SDK'sı tooget Öngörüler ölçümleri ve uygulamanın yanı sıra hello sistem ve Azure tanılama gelen altyapı düzeyinde veri alınması günlükleri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f17da-107">You can then use hello Application Insights SDK tooget insights into metrics and logs that come from your application, as well as hello system and infrastructure-level data that comes from Azure Diagnostics.</span></span>

## <a name="configure-azure-diagnostics-toosend-data-tooapplication-insights"></a><span data-ttu-id="f17da-108">Azure tanılama toosend veri tooApplication Öngörüler yapılandırın</span><span class="sxs-lookup"><span data-stu-id="f17da-108">Configure Azure Diagnostics toosend data tooApplication Insights</span></span>
<span data-ttu-id="f17da-109">Bu adımları tooset, bulut hizmeti projesi toosend Azure Tanılama verileri tooApplication Öngörüler yukarı izleyin.</span><span class="sxs-lookup"><span data-stu-id="f17da-109">Follow these steps tooset up your cloud service project toosend Azure Diagnostics data tooApplication Insights.</span></span>

1. <span data-ttu-id="f17da-110">Visual Studio Çözüm Gezgini'nde, bir role sağ tıklayın ve seçin **özellikleri** tooopen hello rol Tasarımcısı.</span><span class="sxs-lookup"><span data-stu-id="f17da-110">In Visual Studio Solution Explorer, right-click a role and select **Properties** tooopen hello Role designer.</span></span>

    ![Çözüm Gezgini rolü özellikleri][1]

2. <span data-ttu-id="f17da-112">Merhaba, **tanılama** hello rol Tasarımcısı, select hello bölümünü **tanılama veri tooApplication Öngörüler Gönder** seçeneği.</span><span class="sxs-lookup"><span data-stu-id="f17da-112">In hello **Diagnostics** section of hello Role designer, select hello **Send diagnostics data tooApplication Insights** option.</span></span>

    ![Rol Tasarımcısı tanılama veri tooapplication Öngörüler Gönder][2]

3. <span data-ttu-id="f17da-114">Açılır hello iletişim kutusunda, toosend hello Azure Tanılama verileri istediğiniz hello Application Insights kaynağı seçin.</span><span class="sxs-lookup"><span data-stu-id="f17da-114">In hello dialog box that pops up, select hello Application Insights resource that you want toosend hello Azure diagnostics data to.</span></span> <span data-ttu-id="f17da-115">Merhaba iletişim kutusu tooselect aboneliğiniz mevcut bir Application Insights kaynağı izin verir veya toomanually Application Insights kaynağı için bir izleme anahtarını belirtin.</span><span class="sxs-lookup"><span data-stu-id="f17da-115">hello dialog box allows you tooselect an existing Application Insights resource from your subscription or toomanually specify an instrumentation key for an Application Insights resource.</span></span> <span data-ttu-id="f17da-116">Application Insights kaynağı oluşturma hakkında daha fazla bilgi için bkz: [yeni bir Application Insights kaynağı oluşturma](../application-insights/app-insights-create-new-resource.md).</span><span class="sxs-lookup"><span data-stu-id="f17da-116">For more information on creating an Application Insights resource, see [Create a new Application Insights resource](../application-insights/app-insights-create-new-resource.md).</span></span>

    ![Uygulama ınsights kaynağını seçin][3]

    <span data-ttu-id="f17da-118">Merhaba Application Insights kaynağı ekledikten sonra bu kaynak için hello izleme anahtarını hello ada sahip bir hizmet yapılandırma ayarı olarak depolanır **appınsıghts_ınstrumentatıonkey**.</span><span class="sxs-lookup"><span data-stu-id="f17da-118">Once you have added hello Application Insights resource, hello instrumentation key for that resource is stored as a service configuration setting with hello name **APPINSIGHTS_INSTRUMENTATIONKEY**.</span></span> <span data-ttu-id="f17da-119">Her bir hizmet yapılandırması veya ortamı için bu yapılandırma ayarı değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f17da-119">You can change this configuration setting for each service configuration or environment.</span></span> <span data-ttu-id="f17da-120">toodo hello bu nedenle, farklı bir yapılandırma seçin **hizmet yapılandırmasını** listesi ve bu yapılandırma için yeni bir izleme anahtarını belirtin.</span><span class="sxs-lookup"><span data-stu-id="f17da-120">toodo so, select a different configuration from hello **Service Configuration** list and specify a new instrumentation key for that configuration.</span></span>

    ![Hizmet yapılandırmasını seçin][4]

    <span data-ttu-id="f17da-122">Merhaba **appınsıghts_ınstrumentatıonkey** yapılandırma ayarı, Visual Studio tooconfigure hello tanılama uzantısını hello uygun bilgilerle Application Insights kaynağı yayımlama sırasında tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="f17da-122">hello **APPINSIGHTS_INSTRUMENTATIONKEY** configuration setting is used by Visual Studio tooconfigure hello diagnostics extension with hello appropriate Application Insights resource information during publishing.</span></span> <span data-ttu-id="f17da-123">Merhaba yapılandırma ayarı farklı hizmet yapılandırması için farklı izleme anahtarı tanımlamanın uygun bir yoludur.</span><span class="sxs-lookup"><span data-stu-id="f17da-123">hello configuration setting is a convenient way of defining different instrumentation keys for different service configurations.</span></span> <span data-ttu-id="f17da-124">Visual Studio bu ayarı çevirin ve hello tanılama uzantı genel yapılandırması hello sırasında yerleştirme işlemi yayımlayın.</span><span class="sxs-lookup"><span data-stu-id="f17da-124">Visual Studio will translate that setting and insert it into hello diagnostics extension public configuration during hello publish process.</span></span> <span data-ttu-id="f17da-125">PowerShell ile Merhaba tanılama uzantısını yapılandırma toosimplify hello işlemi, Visual Studio'dan hello paket çıktı hello genel yapılandırması XML hello uygun Application Insights izleme anahtarı ile de içerir.</span><span class="sxs-lookup"><span data-stu-id="f17da-125">toosimplify hello process of configuring hello diagnostics extension with PowerShell, hello package output from Visual Studio also contains hello public configuration XML with hello appropriate Application Insights instrumentation key.</span></span> <span data-ttu-id="f17da-126">Merhaba ortak yapılandırma dosyaları hello Uzantıları klasöründe oluşturulur ve hello desenler izleyen *PaaSDiagnostics.&lt; RoleName&gt;. PubConfig.xml*.</span><span class="sxs-lookup"><span data-stu-id="f17da-126">hello public config files are created in hello Extensions folder and follow hello pattern *PaaSDiagnostics.&lt;RoleName&gt;.PubConfig.xml*.</span></span> <span data-ttu-id="f17da-127">Tüm PowerShell tabanlı dağıtımların bu deseni toomap her yapılandırma tooa rolünü kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f17da-127">Any PowerShell-based deployments can use this pattern toomap each configuration tooa role.</span></span>

4) <span data-ttu-id="f17da-128">hello Azure Tanılama Aracı tooApplication Öngörüler, toplanan tüm performans sayaçları ve hata düzeyi günlükleri tooconfigure Azure tanılama toosend etkinleştirmek hello **tanılama veri tooApplication Öngörüler Gönder** seçeneği.</span><span class="sxs-lookup"><span data-stu-id="f17da-128">tooconfigure Azure diagnostics toosend all performance counters and error-level logs collected by hello Azure diagnostics agent tooApplication Insights, enable hello **Send diagnostics data tooApplication Insights** option.</span></span> 

    <span data-ttu-id="f17da-129">Toofurther istiyorsanız tooApplication Öngörüler hangi verilerin gönderileceğini yapılandırın, hello el ile düzenlemeniz gerekir *diagnostics.wadcfgx* her rol için dosya.</span><span class="sxs-lookup"><span data-stu-id="f17da-129">If you want toofurther configure what data is sent tooApplication Insights, you must manually edit hello *diagnostics.wadcfgx* file for each role.</span></span> <span data-ttu-id="f17da-130">Bkz: [yapılandırma Azure tanılama toosend veri tooApplication Insights](#configure-azure-diagnostics-to-send-data-to-application-insights) toolearn hello yapılandırmasını el ile güncelleştirme hakkında daha fazla bilgi.</span><span class="sxs-lookup"><span data-stu-id="f17da-130">See [Configure Azure Diagnostics toosend data tooApplication Insights](#configure-azure-diagnostics-to-send-data-to-application-insights) toolearn more about manually updating hello configuration.</span></span>

<span data-ttu-id="f17da-131">Hello bulut hizmeti yapılandırılmış toosend Azure Tanılama verileri tooapplication Öngörüler olduğunda, onu tooAzure normalde hello Azure tanılama uzantısını etkinleştirildiğinden emin dağıtabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f17da-131">When hello cloud service is configured toosend Azure diagnostics data tooapplication insights, you can deploy it tooAzure normally, making sure hello Azure diagnostics extension is enabled.</span></span> <span data-ttu-id="f17da-132">Daha fazla bilgi için bkz: [Visual Studio kullanarak bir bulut hizmeti yayımlama](../vs-azure-tools-publishing-a-cloud-service.md).</span><span class="sxs-lookup"><span data-stu-id="f17da-132">For more information, see  [Publishing a Cloud Service using Visual Studio](../vs-azure-tools-publishing-a-cloud-service.md).</span></span>  

## <a name="viewing-azure-diagnostics-data-in-application-insights"></a><span data-ttu-id="f17da-133">Application Insights'ta Azure Tanılama verileri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="f17da-133">Viewing Azure diagnostics data in Application Insights</span></span>
<span data-ttu-id="f17da-134">Hello Azure tanılama telemetri hello Application Insights kaynağı, bulut hizmeti için yapılandırılmış görünür.</span><span class="sxs-lookup"><span data-stu-id="f17da-134">hello Azure diagnostic telemetry shows up in hello Application Insights resource configured for your cloud service.</span></span>

<span data-ttu-id="f17da-135">Azure tanılama günlük türleri bu yolla tooApplication Öngörüler kavramları eşlenir:</span><span class="sxs-lookup"><span data-stu-id="f17da-135">Azure diagnostics log types map tooApplication Insights concepts in these ways:</span></span>

* <span data-ttu-id="f17da-136">Performans sayaçları, Application ınsights'ta özel ölçümleri olarak görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="f17da-136">Performance counters are displayed as Custom Metrics in Application Insights.</span></span>
* <span data-ttu-id="f17da-137">Windows olay günlüklerini, izlemeleri ve Application Insights özel olaylar olarak gösterilir.</span><span class="sxs-lookup"><span data-stu-id="f17da-137">Windows Event Logs are shown as Traces and Custom Events in Application Insights.</span></span>
* <span data-ttu-id="f17da-138">Uygulama günlükleri, ETW günlükleri ve herhangi bir tanılama altyapısı günlük izlemelerini Application ınsights'ta olarak gösterilir.</span><span class="sxs-lookup"><span data-stu-id="f17da-138">Application logs, ETW logs, and any Diagnostics Infrastructure logs are shown as Traces in Application Insights.</span></span>

<span data-ttu-id="f17da-139">tooview Azure tanılama verilerini Application ınsights'ta hello aşağıdakilerden birini yapın:</span><span class="sxs-lookup"><span data-stu-id="f17da-139">tooview Azure diagnostics data in Application Insights, do one of hello following:</span></span>

* <span data-ttu-id="f17da-140">Kullanım [ölçüm Gezgini](../application-insights/app-insights-metrics-explorer.md) toovisualize tüm özel performans sayaçlarını veya Windows olay günlüğü olaylarını farklı türdeki sayar.</span><span class="sxs-lookup"><span data-stu-id="f17da-140">Use [Metrics explorer](../application-insights/app-insights-metrics-explorer.md) toovisualize any custom performance counters or counts of different types of Windows Event Log events.</span></span>

    ![Ölçümleri Explorer'da özel ölçümleri][5]

* <span data-ttu-id="f17da-142">Kullanım [arama](../application-insights/app-insights-diagnostic-search.md) toosearch Azure tanılama tarafından gönderilen hello izleme günlükleri arasında.</span><span class="sxs-lookup"><span data-stu-id="f17da-142">Use [Search](../application-insights/app-insights-diagnostic-search.md) toosearch across hello  trace logs sent by Azure Diagnostics.</span></span> <span data-ttu-id="f17da-143">İşlenmeyen bir özel durum hello rol toocrash ve Geri Dönüşüm neden olursa, örneğin, hello özel durum hakkında bilgi hello görüntülenir *uygulama* kanalı *Windows olay günlüğü*.</span><span class="sxs-lookup"><span data-stu-id="f17da-143">For example, if an unhandled exception has caused hello role toocrash and recycle, information about hello exception shows up in hello *Application* channel of *Windows Event Log*.</span></span> <span data-ttu-id="f17da-144">Merhaba özel durum toohelp Bul hello hello sorunun nedenini hello tam yığın izlemesi almak ve Windows olay günlüğü hatası hello arama toolook kullanın.</span><span class="sxs-lookup"><span data-stu-id="f17da-144">You can use search toolook at hello Windows Event Log error and get hello full stack trace for hello exception toohelp find hello cause of hello issue.</span></span>

    ![Arama izlemeleri][6]

## <a name="next-steps"></a><span data-ttu-id="f17da-146">Sonraki Adımlar</span><span class="sxs-lookup"><span data-stu-id="f17da-146">Next Steps</span></span>
* <span data-ttu-id="f17da-147">[Merhaba Application Insights SDK'sı tooyour bulut hizmeti eklemek](../application-insights/app-insights-cloudservices.md) toosend veri istekleri, özel durumlar, bağımlılıklar ve uygulamanızdan herhangi özel telemetri hakkında.</span><span class="sxs-lookup"><span data-stu-id="f17da-147">[Add hello Application Insights SDK tooyour cloud service](../application-insights/app-insights-cloudservices.md) toosend data about requests, exceptions, dependencies, and any custom telemetry from your application.</span></span> <span data-ttu-id="f17da-148">Hello Azure Tanılama verileri, uygulama ve sistem, tam görünümünü almak bu bilgileri bir araya geldiğinde tümünde aynı uygulama Insight kaynak hello.</span><span class="sxs-lookup"><span data-stu-id="f17da-148">When combined with hello Azure Diagnostics data, this information you can get a complete view of your application and system, all in hello same Application Insight resource.</span></span>  

<!--Image references-->
[1]: ./media/cloud-services-dotnet-diagnostics-applicationinsights/solution-explorer-properties.png
[2]: ./media/cloud-services-dotnet-diagnostics-applicationinsights/role-designer-sendtoappinsights.png
[3]: ./media/cloud-services-dotnet-diagnostics-applicationinsights/select-appinsights-resource.png
[4]: ./media/cloud-services-dotnet-diagnostics-applicationinsights/role-designer-appinsights-serviceconfig.png
[5]: ./media/cloud-services-dotnet-diagnostics-applicationinsights/metrics-explorer-custom-metrics.png
[6]: ./media/cloud-services-dotnet-diagnostics-applicationinsights/search-windowseventlog-error.png
