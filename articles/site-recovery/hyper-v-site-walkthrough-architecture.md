---
title: "Azure Site Recovery ile Hyper-V'den Azure'a çoğaltma işleminin (System Center VMM olmadan) yapısını inceleme | Microsoft Docs"
description: "Bu makalede, Azure Site Recovery hizmeti ile şirket içi Hyper-V VM'leri Azure'a çoğaltma işleminde kullanılan bileşenlere ve mimariye ilişkin genel bir bakış sunulmaktadır."
services: site-recovery
documentationcenter: 
author: rayne-wiselman
manager: carmonm
editor: 
ms.assetid: c413efcd-d750-4b22-b34b-15bcaa03934a
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 06/22/2017
ms.author: raynew
ms.openlocfilehash: d57cbc5b205cfb020070d567097f3bb648ce5300
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/03/2017
---
# <a name="step-1-review-the-architecture-for-hyper-v-replication-to-azure"></a><span data-ttu-id="e03dd-103">1. Adım: Hyper-V'den Azure'a çoğaltma işleminin yapısını inceleme</span><span class="sxs-lookup"><span data-stu-id="e03dd-103">Step 1: Review the architecture for Hyper-V replication to Azure</span></span>


<span data-ttu-id="e03dd-104">Bu makalede, Hyper-V sanal makinelerini (System Center VMM tarafından yönetilmeyen) [Azure Site Recovery](site-recovery-overview.md) hizmeti aracılığıyla Azure'a çoğaltma işleminde kullanılan bileşenler ve işlemler açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-104">This article describes the components and processes involved when replicating on-premises Hyper-V virtual machines (that aren't managed by System Center VMM), to Azure using the [Azure Site Recovery](site-recovery-overview.md) service.</span></span>

<span data-ttu-id="e03dd-105">Tüm yorumlarınızı bu makalenin alt kısmında veya [Azure Kurtarma Hizmetleri Forumu](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr)'nda paylaşabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-105">Post any comments at the bottom of this article, or in the [Azure Recovery Services Forum](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr).</span></span>



## <a name="architectural-components"></a><span data-ttu-id="e03dd-106">Mimari bileşenler</span><span class="sxs-lookup"><span data-stu-id="e03dd-106">Architectural components</span></span>

<span data-ttu-id="e03dd-107">Hyper-V VM'leri VMM olmadan Azure'a çoğaltırken kullanılan çeşitli bileşenler vardır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-107">There are a number of components involved when replicating Hyper-V VMs to Azure without VMM.</span></span>

<span data-ttu-id="e03dd-108">**Bileşen**</span><span class="sxs-lookup"><span data-stu-id="e03dd-108">**Component**</span></span> | <span data-ttu-id="e03dd-109">**Konum**</span><span class="sxs-lookup"><span data-stu-id="e03dd-109">**Location**</span></span> | <span data-ttu-id="e03dd-110">**Ayrıntılar**</span><span class="sxs-lookup"><span data-stu-id="e03dd-110">**Details**</span></span>
--- | --- | ---
<span data-ttu-id="e03dd-111">**Azure**</span><span class="sxs-lookup"><span data-stu-id="e03dd-111">**Azure**</span></span> | <span data-ttu-id="e03dd-112">Azure’da bir Microsoft Azure hesabına, bir Azure depolama hesabına ve bir Azure ağına ihtiyacınız vardır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-112">In Azure you need a Microsoft Azure account, an Azure storage account, and a Azure network.</span></span> | <span data-ttu-id="e03dd-113">Çoğaltılan veriler depolama hesabında depolanır ve şirket içi sitenizden yük devretme gerçekleştiğinde çoğaltılan verilerle Azure VM’leri oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="e03dd-113">Replicated data is stored in the storage account, and Azure VMs are created with the replicated data when failover from your on-premises site occurs.</span></span><br/><br/> <span data-ttu-id="e03dd-114">Azure VM’leri oluşturulduğunda Azure sanal ağına bağlanır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-114">The Azure VMs connect to the Azure virtual network when they're created.</span></span>
<span data-ttu-id="e03dd-115">**Hyper-V**</span><span class="sxs-lookup"><span data-stu-id="e03dd-115">**Hyper-V**</span></span> | <span data-ttu-id="e03dd-116">Hyper-V konakları ve kümeleri Hyper-V sitelerinde bir araya getirilir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-116">Hyper-V hosts and clusters are gathered into Hyper-V sites.</span></span> <span data-ttu-id="e03dd-117">Azure Site Recovery Sağlayıcısı ve Kurtarma Hizmetleri aracısı, her Hyper-V konağına yüklenir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-117">The Azure Site Recovery Provider and Recovery Services agent is installed on each Hyper-V host.</span></span> | <span data-ttu-id="e03dd-118">Sağlayıcı, İnternet üzerinden Site Recovery hizmetiyle gerçekleştirilen çoğaltma işlemini düzenler ve yönetir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-118">The Provider orchestrates replication with Site Recovery over the internet.</span></span> <span data-ttu-id="e03dd-119">Kurtarma Hizmetleri aracısı, veri çoğaltma işlemini gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-119">The Recovery Services agent handles data replication.</span></span><br/><br/> <span data-ttu-id="e03dd-120">Sağlayıcı ve aracı arasındaki iletişimler şifrelenir ve güvence altına alınır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-120">Communications from both the Provider and the agent are secure and encrypted.</span></span> <span data-ttu-id="e03dd-121">Azure depolama alanında çoğaltılan veriler de şifrelenir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-121">Replicated data in Azure storage is also encrypted.</span></span>
<span data-ttu-id="e03dd-122">**Hyper-V VM’leri**</span><span class="sxs-lookup"><span data-stu-id="e03dd-122">**Hyper-V VMs**</span></span> | <span data-ttu-id="e03dd-123">Hyper-V konak sunucusunda çalışan bir veya daha fazla VM'nizin olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-123">You need one or more VMs running on a Hyper-V host server.</span></span> | <span data-ttu-id="e03dd-124">VM'lere açıkça bir şey yüklenmesi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="e03dd-124">Nothing needs to explicitly installed on VMs.</span></span>

<span data-ttu-id="e03dd-125">[Destek matrisinde](site-recovery-support-matrix-to-azure.md), bu bileşenlerden her birine ilişkin dağıtım önkoşulları ve gereksinimler hakkında bilgi edinin.</span><span class="sxs-lookup"><span data-stu-id="e03dd-125">Learn about the deployment prerequisites and requirements for each of these components in the [support matrix](site-recovery-support-matrix-to-azure.md).</span></span>

<span data-ttu-id="e03dd-126">**Şekil 1: Hyper-V sitesinden Azure'a çoğaltma**</span><span class="sxs-lookup"><span data-stu-id="e03dd-126">**Figure 1: Hyper-V site to Azure replication**</span></span>

![Bileşenler](./media/hyper-v-site-walkthrough-architecture/arch-onprem-azure-hypervsite.png)


## <a name="replication-process"></a><span data-ttu-id="e03dd-128">Çoğaltma işlemi</span><span class="sxs-lookup"><span data-stu-id="e03dd-128">Replication process</span></span>

<span data-ttu-id="e03dd-129">**Şekil 2: Hyper-V'den Azure'a çoğaltma için çoğaltma ve kurtarma işlemi**</span><span class="sxs-lookup"><span data-stu-id="e03dd-129">**Figure 2: Replication and recovery process for Hyper-V replication to Azure**</span></span>

![iş akışı](./media/hyper-v-site-walkthrough-architecture/arch-hyperv-azure-workflow.png)

### <a name="enable-protection"></a><span data-ttu-id="e03dd-131">Korumayı etkinleştir</span><span class="sxs-lookup"><span data-stu-id="e03dd-131">Enable protection</span></span>

1. <span data-ttu-id="e03dd-132">Azure portalında veya şirket içinde bir Hyper-V VM’si için koruma etkinleştirdikten sonra, **Korumayı etkinleştir** başlatılır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-132">After you enable protection for a Hyper-V VM, in the Azure portal or on-premises, the **Enable protection** starts.</span></span>
2. <span data-ttu-id="e03dd-133">İş, makinenin önkoşullarla uyumlu olup olmadığını denetler, ardından, çoğaltmayı daha önce yapılandırdığınız ayarları uygulamak üzere [CreateReplicationRelationship](https://msdn.microsoft.com/library/hh850036.aspx) çağırır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-133">The job checks that the machine complies with prerequisites, before invoking the [CreateReplicationRelationship](https://msdn.microsoft.com/library/hh850036.aspx), to set up replication with the settings you've configured.</span></span>
3. <span data-ttu-id="e03dd-134">İş, tam bir VM çoğaltması başlatmak için [StartReplication](https://msdn.microsoft.com/library/hh850303.aspx) yöntemini çağırarak ilk çoğaltmayı başlatır ve VM’lerin sanal disklerini Azure’a gönderir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-134">The job starts initial replication by invoking the [StartReplication](https://msdn.microsoft.com/library/hh850303.aspx) method, to initialize a full VM replication, and send the VM's virtual disks to Azure.</span></span>
4. <span data-ttu-id="e03dd-135">**İşler** sekmesinde işi izleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-135">You can monitor the job in the **Jobs** tab.</span></span>
 
### <a name="replicate-the-initial-data"></a><span data-ttu-id="e03dd-136">İlk verileri çoğaltma</span><span class="sxs-lookup"><span data-stu-id="e03dd-136">Replicate the initial data</span></span>

1. <span data-ttu-id="e03dd-137">İlk çoğaltma tetiklendiğinde bir [Hyper-V VM anlık görüntüsü](https://technet.microsoft.com/library/dd560637.aspx) alınır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-137">A [Hyper-V VM snapshot](https://technet.microsoft.com/library/dd560637.aspx) snapshot is taken when initial replication is triggered.</span></span>
2. <span data-ttu-id="e03dd-138">Sanal diskler, hepsi Azure'a kopyalanana kadar birer birer çoğaltılır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-138">Virtual hard disks are replicated one by one until they're all copied to Azure.</span></span> <span data-ttu-id="e03dd-139">VM boyutuna ve ağ bant genişliğine bağlı olarak biraz uzun sürebilir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-139">It could take a while, depending on the VM size, and network bandwidth.</span></span> <span data-ttu-id="e03dd-140">Ağ kullanımınızı iyileştirmek için, bkz: [Şirket içinden Azure'a koruma ağ bant genişliği kullanımını yönetme](https://support.microsoft.com/kb/3056159).</span><span class="sxs-lookup"><span data-stu-id="e03dd-140">To optimize your network usage, see [How to manage on-premises to Azure protection network bandwidth usage](https://support.microsoft.com/kb/3056159).</span></span>
3. <span data-ttu-id="e03dd-141">İlk çoğaltma devam ederken disk değişiklikleri meydana gelirse, Hyper-V Çoğaltma'nın Çoğaltma İzleyicisi bu değişiklikleri Hyper-V Çoğaltma Günlükleri (.hrl) olarak izler.</span><span class="sxs-lookup"><span data-stu-id="e03dd-141">If disk changes occur while initial replication is in progress, the Hyper-V Replica Replication Tracker tracks those changes as Hyper-V Replication Logs (.hrl).</span></span> <span data-ttu-id="e03dd-142">Bu dosyalar disklerle aynı klasörde bulunur.</span><span class="sxs-lookup"><span data-stu-id="e03dd-142">These files are located in the same folder as the disks.</span></span> <span data-ttu-id="e03dd-143">Her diskin ikincil depolamaya gönderilecek bir ilişkili .hrl dosyası vardır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-143">Each disk has an associated .hrl file that will be sent to secondary storage.</span></span>
4. <span data-ttu-id="e03dd-144">İlk çoğaltma sırasında anlık görüntü ve günlük dosyaları disk kaynaklarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-144">The snapshot and log files consume disk resources while initial replication is in progress.</span></span>
5. <span data-ttu-id="e03dd-145">İlk çoğaltma tamamlandığında, VM anlık görüntüsü silinir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-145">When the initial replication finishes, the VM snapshot is deleted.</span></span> <span data-ttu-id="e03dd-146">Günlükteki değişim disk değişiklikleri eşitlenir ve üst diske birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-146">Delta disk changes in the log are synchronized and merged to the parent disk.</span></span>


### <a name="finalize-protection"></a><span data-ttu-id="e03dd-147">Korumayı sonlandırma</span><span class="sxs-lookup"><span data-stu-id="e03dd-147">Finalize protection</span></span>

1. <span data-ttu-id="e03dd-148">İlk çoğaltma sona erdikten sonra, **Sanal makinede korumayı sonlandır** işi, sanal makinenin korunabilmesi adına ağı ve diğer çoğaltma sonrası ayarlarını yapılandırır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-148">After the initial replication finishes, the **Finalize protection on the virtual machine** job configures network and other post-replication settings, so that the virtual machine is protected.</span></span>
2. <span data-ttu-id="e03dd-149">Azure'da çoğaltma yapıyorsanız sanal makinede ince ayar yapmanız gerekebilir. Böylece sanal makine yük devretme için hazır hale gelir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-149">If you're replicating to Azure, you might need to tweak the settings for the virtual machine so that it's ready for failover.</span></span> <span data-ttu-id="e03dd-150">Bu noktada, her şeyin istendiği şekilde çalıştığını denetlemek için yük devretme testi çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-150">At this point you can run a test failover to check everything is working as expected.</span></span>

### <a name="replicate-the-delta"></a><span data-ttu-id="e03dd-151">Değişimi çoğaltma</span><span class="sxs-lookup"><span data-stu-id="e03dd-151">Replicate the delta</span></span>

1. <span data-ttu-id="e03dd-152">İlk çoğaltma sonrasında, çoğaltma ayarlarına uygun olarak değişim eşitlemesi başlar.</span><span class="sxs-lookup"><span data-stu-id="e03dd-152">After the initial replication, delta synchronization begins, in accordance with replication settings.</span></span>
2. <span data-ttu-id="e03dd-153">Bir Çoğaltma İzleyicisi olan Hyper-V Çoğaltma, bir sanal sabit diskteki değişiklikleri .hrl dosyası olarak izler.</span><span class="sxs-lookup"><span data-stu-id="e03dd-153">The Hyper-V Replica Replication Tracker tracks the changes to a virtual hard disk as .hrl files.</span></span> <span data-ttu-id="e03dd-154">Çoğaltma için yapılandırılmış her diskin ilişkili bir .hrl dosyası vardır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-154">Each disk that's configured for replication has an associated .hrl file.</span></span> <span data-ttu-id="e03dd-155">İlk çoğaltma tamamlandıktan sonra bu günlük müşterinin depolama hesabına gönderilir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-155">This log is sent to the customer's storage account after initial replication is complete.</span></span> <span data-ttu-id="e03dd-156">Bir günlük Azure’a iletilmekteyken, birincil diskteki değişiklikler aynı dizindeki başka bir günlük dosyasında izlenir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-156">When a log is in transit to Azure, the changes in the primary disk are tracked in another log file, in the same directory.</span></span>
3. <span data-ttu-id="e03dd-157">İlk çoğaltma ve değişim çoğaltması esnasında, VM görünümünde VM’yi izleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-157">During initial and delta replication, you can monitor the VM in the VM view.</span></span> <span data-ttu-id="e03dd-158">[Daha fazla bilgi edinin](site-recovery-monitoring-and-troubleshooting.md#monitor-replication-health-for-virtual-machines).</span><span class="sxs-lookup"><span data-stu-id="e03dd-158">[Learn more](site-recovery-monitoring-and-troubleshooting.md#monitor-replication-health-for-virtual-machines).</span></span>  

### <a name="synchronize-replication"></a><span data-ttu-id="e03dd-159">Çoğaltmayı senkronize etme</span><span class="sxs-lookup"><span data-stu-id="e03dd-159">Synchronize replication</span></span>

1. <span data-ttu-id="e03dd-160">Değişim çoğaltması başarısız olursa ve bant genişliği ile zaman açısından tam çoğaltma maliyetli olacaksa, bir VM yeniden eşitleme için işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-160">If delta replication fails, and a full replication would be costly in terms of bandwidth or time, then a VM is marked for resynchronization.</span></span> <span data-ttu-id="e03dd-161">Örneğin, .hrl dosyası disk boyutunun %50'sine ulaşırsa VM, yeniden eşitleme için işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-161">For example, if the .hrl files reach 50% of the disk size, then the VM will be marked for resynchronization.</span></span>
2.  <span data-ttu-id="e03dd-162">Yeniden eşitleme, kaynak ve hedef sanal makinelerin sağlama toplamlarını hesaplayarak ve yalnızca değişim verilerini göndererek, gönderilen veri miktarını en aza indirir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-162">Resynchronization minimizes the amount of data sent by computing checksums of the source and target virtual machines, and sending only the delta data.</span></span> <span data-ttu-id="e03dd-163">Yeniden eşitleme, kaynak ve hedef dosyaların sabit öbeklere bölündüğü bir sabit blok kümeleme algoritması kullanır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-163">Resynchronization uses a fixed-block chunking algorithm where source and target files are divided into fixed chunks.</span></span> <span data-ttu-id="e03dd-164">Her öbek için sağlama toplamları oluşturulur ve ardından, kaynaktan hangi blokların hedefe uygulanması gerektiğini belirlemek üzere karşılaştırılır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-164">Checksums for each chunk are generated and then compared to determine which blocks from the source need to be applied to the target.</span></span>
3. <span data-ttu-id="e03dd-165">Yeniden eşitleme sona erdikten sonra, normal değişim çoğaltması devam edecektir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-165">After resynchronization finishes, normal delta replication should resume.</span></span> <span data-ttu-id="e03dd-166">Varsayılan olarak, yeniden eşitleme ofis saatleri dışında otomatik olarak çalışacak şekilde planlanmıştır ancak sanal makineyi elle yeniden eşitleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-166">By default resynchronization is scheduled to run automatically outside office hours, but you can resynchronize a virtual machine manually.</span></span> <span data-ttu-id="e03dd-167">Örneğin, bir ağ kesintisi veya başka bir kesinti oluşursa, yeniden eşitlemeyi devam ettirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-167">For example, you can resume resynchronization if a network outage or another outage occurs.</span></span> <span data-ttu-id="e03dd-168">Bunu yapmak için, portalda VM’yi > **Yeniden eşitle**’yi seçin.</span><span class="sxs-lookup"><span data-stu-id="e03dd-168">To do this, select the VM in the portal > **Resynchronize**.</span></span>

    ![El ile yeniden eşitleme](./media/hyper-v-site-walkthrough-architecture/image4.png)


### <a name="retry-logic"></a><span data-ttu-id="e03dd-170">Yeniden deneme mantığı</span><span class="sxs-lookup"><span data-stu-id="e03dd-170">Retry logic</span></span>

<span data-ttu-id="e03dd-171">Bir çoğaltma hatası meydana gelirse, yerleşik yeniden deneme işlevi vardır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-171">If a replication error occurs, there's a built-in retry.</span></span> <span data-ttu-id="e03dd-172">Bu mantık iki kategoride sınıflandırılabilir:</span><span class="sxs-lookup"><span data-stu-id="e03dd-172">This logic can be classified into two categories:</span></span>

<span data-ttu-id="e03dd-173">**Kategori**</span><span class="sxs-lookup"><span data-stu-id="e03dd-173">**Category**</span></span> | <span data-ttu-id="e03dd-174">**Ayrıntılar**</span><span class="sxs-lookup"><span data-stu-id="e03dd-174">**Details**</span></span>
--- | ---
<span data-ttu-id="e03dd-175">**Kurtarılamaz hatalar**</span><span class="sxs-lookup"><span data-stu-id="e03dd-175">**Non-recoverable errors**</span></span> | <span data-ttu-id="e03dd-176">Yeniden deneme yapılmaya çalışılmaz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-176">No retry is attempted.</span></span> <span data-ttu-id="e03dd-177">VM durumu **Kritik** olacaktır ve yönetici müdahalesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-177">VM status will be **Critical**, and administrator intervention is required.</span></span> <span data-ttu-id="e03dd-178">Bu hataların örnekleri şunlardır: kırılmış VHD zinciri; Çoğaltma VM için geçersiz durum; Ağ kimlik doğrulama hataları: yetkilendirme hataları; VM bulunamadı hataları (tek başına Hyper-V sunucuları için)</span><span class="sxs-lookup"><span data-stu-id="e03dd-178">Examples of these errors include: broken VHD chain; Invalid state for the replica VM; Network authentication errors: authorization errors; VM not found errors (for standalone Hyper-V servers)</span></span>
<span data-ttu-id="e03dd-179">**Kurtarılabilir hatalar**</span><span class="sxs-lookup"><span data-stu-id="e03dd-179">**Recoverable errors**</span></span> | <span data-ttu-id="e03dd-180">Yeniden deneme aralığını ilk denemenin başlangıcına göre 1, 2, 4, 8 ve 10 dakika artıran bir üstel geri çekme kullanılarak her çoğaltma aralığında yeniden denemeler gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-180">Retries occur every replication interval, using an exponential back-off that increases the retry interval from the start of the first attempt by 1, 2, 4, 8, and 10 minutes.</span></span> <span data-ttu-id="e03dd-181">Hata devam ederse, 30 dakikada bir yeniden deneyin.</span><span class="sxs-lookup"><span data-stu-id="e03dd-181">If an error persists, retry every 30 minutes.</span></span> <span data-ttu-id="e03dd-182">Örnekler şunlardır: ağ hataları; düşük disk hataları; yetersiz bellek durumları</span><span class="sxs-lookup"><span data-stu-id="e03dd-182">Examples include: network errors; low disk  errors; low memory conditions</span></span> |



## <a name="failover-and-failback-process"></a><span data-ttu-id="e03dd-183">Yük devretme ve yeniden çalışma işlemi</span><span class="sxs-lookup"><span data-stu-id="e03dd-183">Failover and failback process</span></span>

1. <span data-ttu-id="e03dd-184">Şirket içi Hyper-V VM’lerinden Azure’a planlanmış veya planlanmamış bir [yük devretme](site-recovery-failover.md) gerçekleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-184">You can run a planned or unplanned [failover](site-recovery-failover.md) from on-premises Hyper-V VMs to Azure.</span></span> <span data-ttu-id="e03dd-185">Planlı bir yük devretme çalıştırırsanız, veri kaybı olmaması için kaynak VM’ler kapatılır.</span><span class="sxs-lookup"><span data-stu-id="e03dd-185">If you run a planned failover, then source VMs are shut down to ensure no data loss.</span></span>
2. <span data-ttu-id="e03dd-186">Tek bir makine üzerinden yük devredebilir veya [kurtarma planları](site-recovery-create-recovery-plans.md) oluşturarak birden çok makinenin devredilmesini düzenleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-186">You can fail over a single machine, or create [recovery plans](site-recovery-create-recovery-plans.md) to orchestrate failover of multiple machines.</span></span>
4. <span data-ttu-id="e03dd-187">Yük devretmeyi çalıştırdıktan sonra, oluşturulan kopya VM’leri Azure’da görebiliyor olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e03dd-187">After you run the failover, you should be able to see the created replica VMs in Azure.</span></span> <span data-ttu-id="e03dd-188">Gerekli olursa VM’ye genel bir IP adresi atayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-188">You can assign a public IP address to the VM if required.</span></span>
5. <span data-ttu-id="e03dd-189">Daha sonra, kopya Azure VM’sindeki iş yüküne erişmeye başlamak için yük devretmeyi yürütürsünüz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-189">You then commit the failover to start accessing the workload from the replica Azure VM.</span></span>
6. <span data-ttu-id="e03dd-190">Birincil yerinde siteniz yeniden kullanılabilir olduğunda siteyi [yeniden çalıştırabilirsiniz](site-recovery-failback-from-azure-to-hyper-v.md).</span><span class="sxs-lookup"><span data-stu-id="e03dd-190">When your primary on-premises site is available again, you can [fail back](site-recovery-failback-from-azure-to-hyper-v.md).</span></span> <span data-ttu-id="e03dd-191">Azure’dan birincil siteye planlanmış yük devretme işlemi başlatırsınız.</span><span class="sxs-lookup"><span data-stu-id="e03dd-191">You kick off a planned failover from Azure to the primary site.</span></span> <span data-ttu-id="e03dd-192">Planlanmış bir yük devretme gerçekleştirmek için aynı VM’de ya da alternatif bir konumda yeniden çalışmayı seçebilir ve Azure ile şirket içi arasında değişiklikleri eşitleyerek veri kaybı olmamasını sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-192">For a planned failover you can select to failback to the same VM or to an alternate location, and synchronize changes between Azure and on-premises, to ensure no data loss.</span></span> <span data-ttu-id="e03dd-193">VM’ler şirket içinde oluşturulduğunda yük devretmeyi yürütürsünüz.</span><span class="sxs-lookup"><span data-stu-id="e03dd-193">When VMs are created on-premises, you commit the failover.</span></span>




## <a name="next-steps"></a><span data-ttu-id="e03dd-194">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="e03dd-194">Next steps</span></span>

<span data-ttu-id="e03dd-195">[2. Adım: Dağıtım önkoşullarını inceleme](hyper-v-site-walkthrough-prerequisites.md)</span><span class="sxs-lookup"><span data-stu-id="e03dd-195">Go to [Step 2: Review the deployment prerequisites](hyper-v-site-walkthrough-prerequisites.md)</span></span>
