---
title: "aaaReplicate çok katmanlı IIS tabanlı Azure Site Recovery kullanarak web uygulaması | Microsoft Docs"
description: "Bu makalede nasıl tooreplicate IIS web grubu sanal makine Azure Site RECOVERY'yi kullanarak açıklanmaktadır."
services: site-recovery
documentationcenter: 
author: nsoneji
manager: gauravd
editor: 
ms.assetid: 
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/11/2017
ms.author: nisoneji
ms.openlocfilehash: 1974265b3cb05f6dc57049876306d2e08424bb97
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="replicate-a-multi-tier-iis-based-web-application-using-azure-site-recovery"></a><span data-ttu-id="c0c1a-103">Azure Site Recovery kullanan çok katmanlı tabanlı IIS web uygulamasına Çoğalt</span><span class="sxs-lookup"><span data-stu-id="c0c1a-103">Replicate a multi-tier IIS based web application using Azure Site Recovery</span></span>

## <a name="overview"></a><span data-ttu-id="c0c1a-104">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="c0c1a-104">Overview</span></span>


<span data-ttu-id="c0c1a-105">Uygulama yazılımı, bir kuruluştaki iş üretkenlik hello altyapısıdır.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-105">Application software is hello engine of business productivity in an organization.</span></span> <span data-ttu-id="c0c1a-106">Çeşitli web uygulamaları bir kuruluşta farklı amaçla kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-106">Various web applications can serve different purposes in an organization.</span></span> <span data-ttu-id="c0c1a-107">Bordro işleme, finansal uygulamalar ve müşteri kullanıma yönelik Web siteleri gibi bazılarını utmost olabilir bir kuruluş için kritik.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-107">Some of these like payroll processing, financial applications and customer facing websites can be utmost critical for an organization.</span></span> <span data-ttu-id="c0c1a-108">Merhaba kuruluş toohave bunları yukarı ve çalışan her zaman tooprevent üretkenlik kaybını en önemli ve daha da önemlisi herhangi bir zarar toohello marka görüntü hello kuruluşun engelleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-108">It will be important for hello organization toohave them up and running at all times tooprevent loss of productivity and more importantly prevent any damage toohello brand image of hello organization.</span></span>

<span data-ttu-id="c0c1a-109">Kritik web uygulamaları genellikle çok katmanlı uygulamalar hello web, veritabanı ve uygulama farklı katmanlardaki olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-109">Critical web applications are typically set up as multi-tier applications with hello web, database and application on different tiers.</span></span> <span data-ttu-id="c0c1a-110">Çeşitli katmanları arasında yayılmasını dışında hello uygulamalar aynı zamanda birden çok sunucu her katman tooload Bakiye hello trafiği kullanıyor olabilir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-110">Apart from being spread across various tiers, hello applications may also be using multiple servers in each tier tooload balance hello traffic.</span></span> <span data-ttu-id="c0c1a-111">Ayrıca, statik IP adreslerini hello eşlemeleri çeşitli katmanları arasında hello web sunucusuna bağlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-111">Moreover, hello mappings between various tiers and on hello web server may be based on static IP addresses.</span></span> <span data-ttu-id="c0c1a-112">Hello web sunucusunda yapılandırılmış birden çok Web sitesi varsa, yük devretme, bu eşlemelerin bazıları güncelleştirildi, özellikle, toobe gerekir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-112">On failover, some of these mappings will need toobe updated, especially, if you have multiple websites configured on hello web server.</span></span> <span data-ttu-id="c0c1a-113">SSL kullanan web uygulamaları durumunda güncelleştirilmiş toobe sertifikası bağlamaları gerekir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-113">In case of web applications using SSL, certificate bindings will need toobe updated.</span></span>

<span data-ttu-id="c0c1a-114">Çeşitli yapılandırma dosyaları, kayıt defteri ayarlarını, bağlamaları, özel bileşenleri (COM veya .NET), içerik ve ayrıca sertifikaları ve kurtarma hello dosyalar el ile adımlar kümesi ile yedekleme geleneksel çoğaltma olmayan tabanlı kurtarma yöntemleri içerir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-114">Traditional non-replication based recovery methods involve backing up of various configuration files, registry settings, bindings, custom components (COM or .NET), content and also certificates and recovering hello files through a set of manual steps.</span></span> <span data-ttu-id="c0c1a-115">Bu teknikler açıkça sıkıcı hata potansiyeli ve ölçeklenebilir olmaması.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-115">These techniques are clearly cumbersome, error prone and not scalable.</span></span> <span data-ttu-id="c0c1a-116">Örneğin, sertifikalarını yedekleme tooforget kolayca mümkün olduğundan ve hiçbir seçenek ancak toobuy yeni sertifikalar hello sunucusu için yük devretme sonrasında kalmış olabilir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-116">It is, for example, easily possible for you tooforget backing up certificates and be left with no choice but toobuy new certificates for hello server after failover.</span></span>

<span data-ttu-id="c0c1a-117">İyi olağanüstü durum kurtarma çözümü kurtarma planları hello geçici modelleme karmaşık uygulama mimarilerindeki izin ver ve bu nedenle sağlayan çeşitli katmanları arasındaki hello özelliği özelleştirilmiş tooadd adımları toohandle uygulama eşlemeleri de bir tek çözüm hello tooa önde gelen bir olağanüstü durumda görüntüsü tıklatma emin RTO düşürün.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-117">A good disaster recovery solution, should allow modeling of recovery plans around hello above complex application architectures and also have hello ability tooadd customized steps toohandle application mappings between various tiers hence providing a single-click sure shot solution in hello event of a disaster leading tooa lower RTO.</span></span>


<span data-ttu-id="c0c1a-118">Nasıl tooprotect bir IIS web uygulama tabanlı kullanarak bu makalede bir [Azure Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c0c1a-118">This article describes how tooprotect an IIS based web application using a [Azure Site Recovery](site-recovery-overview.md).</span></span> <span data-ttu-id="c0c1a-119">Bu makalede, temel IIS web uygulama tooAzure, nasıl bir olağanüstü durum kurtarma detaylandırma yapabilirsiniz ve yük devretme hello uygulama tooAzure işlemine üç katmanı çoğaltmak için en iyi yöntemler ele alınacaktır.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-119">This article will cover best practices for replicating a three tier IIS based web application tooAzure, how you can do a disaster recovery drill, and how you can failover hello application tooAzure.</span></span>


## <a name="prerequisites"></a><span data-ttu-id="c0c1a-120">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="c0c1a-120">Prerequisites</span></span>

<span data-ttu-id="c0c1a-121">Başlamadan önce hello aşağıdaki anladığınızdan emin olun:</span><span class="sxs-lookup"><span data-stu-id="c0c1a-121">Before you start, make sure you understand hello following:</span></span>

1. [<span data-ttu-id="c0c1a-122">Bir sanal makine tooAzure çoğaltma</span><span class="sxs-lookup"><span data-stu-id="c0c1a-122">Replicating a virtual machine tooAzure</span></span>](site-recovery-vmware-to-azure.md)
1. <span data-ttu-id="c0c1a-123">Nasıl çok[kurtarma ağını tasarlama](site-recovery-network-design.md)</span><span class="sxs-lookup"><span data-stu-id="c0c1a-123">How too[design a recovery network](site-recovery-network-design.md)</span></span>
1. [<span data-ttu-id="c0c1a-124">Bir test yük devretme tooAzure yapılması</span><span class="sxs-lookup"><span data-stu-id="c0c1a-124">Doing a test failover tooAzure</span></span>](./site-recovery-test-failover-to-azure.md)
1. [<span data-ttu-id="c0c1a-125">Bir yük devretme tooAzure yapılması</span><span class="sxs-lookup"><span data-stu-id="c0c1a-125">Doing a failover tooAzure</span></span>](site-recovery-failover.md)
1. <span data-ttu-id="c0c1a-126">Nasıl çok[bir etki alanı denetleyicisi çoğaltma](site-recovery-active-directory.md)</span><span class="sxs-lookup"><span data-stu-id="c0c1a-126">How too[replicate a domain controller](site-recovery-active-directory.md)</span></span>
1. <span data-ttu-id="c0c1a-127">Nasıl çok[SQL Server çoğaltma](site-recovery-sql.md)</span><span class="sxs-lookup"><span data-stu-id="c0c1a-127">How too[replicate SQL Server](site-recovery-sql.md)</span></span>

## <a name="deployment-patterns"></a><span data-ttu-id="c0c1a-128">Dağıtım modelleri</span><span class="sxs-lookup"><span data-stu-id="c0c1a-128">Deployment patterns</span></span>
<span data-ttu-id="c0c1a-129">Bir temel IIS web uygulamasını genellikle bir dağıtım desenler izleyen hello aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="c0c1a-129">An IIS based web application typically follows one of hello following deployment patterns:</span></span>

<span data-ttu-id="c0c1a-130">** Dağıtım modeli 1 ** bir IIS web grubu uygulama isteği Routing(ARR), IIS sunucusu ve Microsoft SQL Server ile bağlı.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-130">**Deployment pattern 1 ** An IIS based web farm  with Application Request Routing(ARR), IIS Server and Microsoft SQL Server.</span></span>

![Dağıtım modeli](./media/site-recovery-iis/deployment-pattern1.png)

<span data-ttu-id="c0c1a-132">**Dağıtım modeli 2** bir IIS web grubu uygulama isteği Routing(ARR), IIS sunucusunu, uygulama sunucusu ve Microsoft SQL Server ile bağlı.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-132">**Deployment pattern 2** An IIS based web farm with Application Request Routing(ARR), IIS Server, Application Server, and Microsoft SQL Server.</span></span>


![Dağıtım modeli](./media/site-recovery-iis/deployment-pattern2.png)

## <a name="site-recovery-support"></a><span data-ttu-id="c0c1a-134">Site kurtarma desteği</span><span class="sxs-lookup"><span data-stu-id="c0c1a-134">Site Recovery support</span></span>

<span data-ttu-id="c0c1a-135">IIS sunucusu Windows Server 2012 R2 Enterprise 7.5 sürümünde bu makale VMware sanal makinelerini oluşturma hello amaçla kullanılmıştır.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-135">For hello purpose of creating this article VMware virtual machines with IIS Server version 7.5 on Windows Server 2012 R2 Enterprise were used.</span></span> <span data-ttu-id="c0c1a-136">Site recovery çoğaltma uygulama belirsiz olduğu gibi hello önerileri burada beklenen toohold aşağıdaki senaryolar ve farklı IIS sürümü için sağlanır.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-136">As site recovery replication is application agnostic, hello recommendations provided here are expected toohold on following scenarios as well and for different version of IIS.</span></span>

### <a name="source-and-target"></a><span data-ttu-id="c0c1a-137">Kaynak ve hedef</span><span class="sxs-lookup"><span data-stu-id="c0c1a-137">Source and target</span></span>

<span data-ttu-id="c0c1a-138">**Senaryo**</span><span class="sxs-lookup"><span data-stu-id="c0c1a-138">**Scenario**</span></span> | <span data-ttu-id="c0c1a-139">**tooa ikincil site**</span><span class="sxs-lookup"><span data-stu-id="c0c1a-139">**tooa secondary site**</span></span> | <span data-ttu-id="c0c1a-140">**tooAzure**</span><span class="sxs-lookup"><span data-stu-id="c0c1a-140">**tooAzure**</span></span>
--- | --- | ---
<span data-ttu-id="c0c1a-141">**Hyper-V**</span><span class="sxs-lookup"><span data-stu-id="c0c1a-141">**Hyper-V**</span></span> | <span data-ttu-id="c0c1a-142">Evet</span><span class="sxs-lookup"><span data-stu-id="c0c1a-142">Yes</span></span> | <span data-ttu-id="c0c1a-143">Evet</span><span class="sxs-lookup"><span data-stu-id="c0c1a-143">Yes</span></span>
<span data-ttu-id="c0c1a-144">**VMware**</span><span class="sxs-lookup"><span data-stu-id="c0c1a-144">**VMware**</span></span> | <span data-ttu-id="c0c1a-145">Evet</span><span class="sxs-lookup"><span data-stu-id="c0c1a-145">Yes</span></span> | <span data-ttu-id="c0c1a-146">Evet</span><span class="sxs-lookup"><span data-stu-id="c0c1a-146">Yes</span></span>
<span data-ttu-id="c0c1a-147">**Fiziksel sunucu**</span><span class="sxs-lookup"><span data-stu-id="c0c1a-147">**Physical server**</span></span> | <span data-ttu-id="c0c1a-148">Hayır</span><span class="sxs-lookup"><span data-stu-id="c0c1a-148">No</span></span> | <span data-ttu-id="c0c1a-149">Evet</span><span class="sxs-lookup"><span data-stu-id="c0c1a-149">Yes</span></span>

## <a name="replicate-virtual-machines"></a><span data-ttu-id="c0c1a-150">Çoğaltma sanal makineler</span><span class="sxs-lookup"><span data-stu-id="c0c1a-150">Replicate virtual machines</span></span>

<span data-ttu-id="c0c1a-151">İzleyin [bu kılavuz](site-recovery-vmware-to-azure.md) toostart tüm hello IIS web grubu sanal makineleri tooAzure çoğaltılıyor.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-151">Follow [this guidance](site-recovery-vmware-to-azure.md) toostart replicating all hello IIS web farm virtual machines tooAzure.</span></span>

<span data-ttu-id="c0c1a-152">Bir statik IP kullanarak yeniden hello içinde sanal makine tootake hello istediğiniz hello IP belirtin [ **hedef IP** ](./site-recovery-replicate-vmware-to-azure.md#view-and-manage-vm-properties) işlem ve ağ ayarlarını.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-152">If you are using a static IP then specify hello IP that you want hello virtual machine tootake in hello [**Target IP**](./site-recovery-replicate-vmware-to-azure.md#view-and-manage-vm-properties) setting in Compute and Network settings.</span></span>

![Hedef IP](./media/site-recovery-active-directory/dns-target-ip.png)


## <a name="creating-a-recovery-plan"></a><span data-ttu-id="c0c1a-154">Bir kurtarma planı oluşturma</span><span class="sxs-lookup"><span data-stu-id="c0c1a-154">Creating a recovery plan</span></span>

<span data-ttu-id="c0c1a-155">Bir kurtarma planı çeşitli katmanlarda çok katmanlı bir uygulama, bu nedenle, uygulama tutarlılığını sağlamak hello yük devretme sıralama sağlar.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-155">A recovery plan allows sequencing hello failover of various tiers in a multi-tier application, hence, maintaining application consistency.</span></span> <span data-ttu-id="c0c1a-156">Çok katmanlı web uygulaması için bir kurtarma planı oluşturulurken Hello aşağıdaki adımları izleyin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-156">Follow hello below steps while creating a recovery plan for a multi-tier web application.</span></span>  <span data-ttu-id="c0c1a-157">[Bir kurtarma planı oluşturma hakkında daha fazla bilgi](./site-recovery-create-recovery-plans.md).</span><span class="sxs-lookup"><span data-stu-id="c0c1a-157">[Learn more about creating a recovery plan](./site-recovery-create-recovery-plans.md).</span></span>

### <a name="adding-virtual-machines-toofailover-groups"></a><span data-ttu-id="c0c1a-158">Sanal makineler toofailover grupları ekleme</span><span class="sxs-lookup"><span data-stu-id="c0c1a-158">Adding virtual machines toofailover groups</span></span>
<span data-ttu-id="c0c1a-159">Tipik bir çok katmanlı IIS web uygulamasını SQL sanal makineler, bir IIS sunucusu tarafından constituted hello web katmanı ve bir uygulama katmanı ile veritabanı katmanından oluşur.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-159">A typical multi-tier IIS web application will consist of a database tier with SQL virtual machines, hello web tier constituted by a IIS server and an application tier.</span></span> <span data-ttu-id="c0c1a-160">Katman olarak göre tüm bu sanal makineleri toodifferent grubunu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-160">Add all these virtual machines toodifferent group based on tier as below.</span></span> <span data-ttu-id="c0c1a-161">[Kurtarma planı customising hakkında daha fazla bilgi](site-recovery-runbook-automation.md#customize-the-recovery-plan).</span><span class="sxs-lookup"><span data-stu-id="c0c1a-161">[Learn more about customising recovery plan](site-recovery-runbook-automation.md#customize-the-recovery-plan).</span></span>

1. <span data-ttu-id="c0c1a-162">Bir kurtarma planı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-162">Create a recovery plan.</span></span> <span data-ttu-id="c0c1a-163">Merhaba veritabanı katman sanal makinelerde kapandığından son ve ilk duruma Grup 1 tooensure altında ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-163">Add hello database tier virtual machines under Group 1 tooensure that they are shutdown last and brought up first.</span></span>

1. <span data-ttu-id="c0c1a-164">Merhaba veritabanı katmanı duruma sonra bunlar getirildiği gibi hello uygulama katman sanal makinelerde Grup 2 altında ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-164">Add hello application tier virtual machines under Group 2 such that they are brought up after hello database tier has been brought up.</span></span>

1. <span data-ttu-id="c0c1a-165">Merhaba uygulama katmanı duruma sonra bunlar getirildiği şekilde hello web katman sanal makinelerde grubu 3'te ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-165">Add hello web tier virtual machines in Group 3 such that they are brought up after hello application tier has been brought up.</span></span>

1. <span data-ttu-id="c0c1a-166">Yük Dengeleme sanal makineleri Hello web katmanı duruma sonra bunlar getirildiği gibi Grup 4'te ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-166">Add load balance virtual machines in Group 4 such that they are brought up after hello web tier has been brought up.</span></span>


### <a name="adding-scripts-toohello-recovery-plan"></a><span data-ttu-id="c0c1a-167">Toohello kurtarma planı komutlar ekleme</span><span class="sxs-lookup"><span data-stu-id="c0c1a-167">Adding scripts toohello recovery plan</span></span>
<span data-ttu-id="c0c1a-168">Hello Azure sanal makineleri post yük devretme ve Test yük devretme toomake IIS web grubu işlevi üzerindeki bazı işlemler doğru toodo gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-168">You may need toodo some operations on hello Azure virtual machines post failover/Test failover toomake IIS web farm function correctly.</span></span> <span data-ttu-id="c0c1a-169">Site bağlaması değiştirme DNS girişi, güncelleştirme gibi hello post yük devretme işlemi otomatikleştirmek, aşağıdaki şekilde hello kurtarma planında betikleri ekleyerek bağlantı dizesini değiştirin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-169">You can automate hello post failover operation like updating DNS entry, changing site binding, change  in connection string  by adding corresponding scripts in hello recovery plan as below.</span></span> <span data-ttu-id="c0c1a-170">[Komut dosyası kurtarma planı ekleme hakkında daha fazla bilgi edinin](./site-recovery-create-recovery-plans.md#add-scripts).</span><span class="sxs-lookup"><span data-stu-id="c0c1a-170">[Learn more about add script recovery plan](./site-recovery-create-recovery-plans.md#add-scripts).</span></span>

#### <a name="dns-update"></a><span data-ttu-id="c0c1a-171">DNS güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="c0c1a-171">DNS Update</span></span>
<span data-ttu-id="c0c1a-172">Merhaba DNS genellikle dinamik DNS güncelleştirme sonra sanal makineler için yapılandırılmışsa, başladıktan sonra hello DNS hello yeni IP ile güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-172">If hello DNS is configured for dynamic DNS update then virtual machines usually update hello DNS with hello new IP once they start.</span></span> <span data-ttu-id="c0c1a-173">Tooadd hello ile açık adım tooupdate DNS yeni istiyorsanız hello sanal makinelerin IP sonra eklemek bu [tooupdate IP DNS'de komut dosyası](https://aka.ms/asr-dns-update) kurtarma planı grupları sonrası eylemi olarak.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-173">If you want tooadd an explicit step tooupdate DNS with hello new IPs of hello virtual machines then add this [script tooupdate IP in DNS](https://aka.ms/asr-dns-update) as a post action on recovery plan groups.</span></span>  

#### <a name="connection-string-in-an-applications-webconfig"></a><span data-ttu-id="c0c1a-174">Bir uygulamanın web.config dosyasında bağlantı dizesi</span><span class="sxs-lookup"><span data-stu-id="c0c1a-174">Connection string in an application’s web.config</span></span>
<span data-ttu-id="c0c1a-175">web sitesi hello hello veritabanı ile iletişim kurar Hello bağlantı dizesini belirtir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-175">hello connection string specifies hello database that hello web site communicates with.</span></span>

<span data-ttu-id="c0c1a-176">Hello bağlantı dizesi hello veritabanı sanal makinenin hello adı taşır, başka bir adım gerekli post yük devretme olacaktır ve Merhaba uygulaması okuyamayacak tooautomatically toohello DB iletişim kurar.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-176">If hello connection string carries hello name of hello database virtual machine, no further steps will be needed post failover and hello application will be able tooautomatically communicate toohello DB.</span></span> <span data-ttu-id="c0c1a-177">Ayrıca, hello veritabanı sanal makine için başlangıç IP adresi korunup korunmadığını olmayacaktır gerekli tooupdate hello bağlantı dizesi.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-177">Also, if hello IP address for hello database virtual machine is retained, it will not be needed tooupdate hello connection string.</span></span> <span data-ttu-id="c0c1a-178">Merhaba bağlantı dizesi bir IP adresi kullanarak toohello veritabanı sanal makine başvuruyorsa, güncelleştirilmiş toobe post yük devretme gerekir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-178">If hello connection string refers toohello database virtual machine using an IP address, it will need toobe updated post failover.</span></span> <span data-ttu-id="c0c1a-179">Örneğin</span><span class="sxs-lookup"><span data-stu-id="c0c1a-179">E.g.</span></span> <span data-ttu-id="c0c1a-180">bağlantı dizesi aşağıda Hello toohello DB IP 127.0.1.2 işaret eder</span><span class="sxs-lookup"><span data-stu-id="c0c1a-180">hello below connection string points toohello DB with IP 127.0.1.2</span></span>

        <?xml version="1.0" encoding="utf-8"?>
        <configuration>
        <connectionStrings>
        <add name="ConnStringDb1" connectionString="Data Source= 127.0.1.2\SqlExpress; Initial Catalog=TestDB1;Integrated Security=False;" />
        </connectionStrings>
        </configuration>

<span data-ttu-id="c0c1a-181">Ekleyerek web katmanı hello bağlantı dizesinde güncelleştirebilirsiniz [IIS bağlantı güncelleştirme betiğini](https://aka.ms/asr-update-webtier-script-classic) Grup 3 hello kurtarma planında sonra.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-181">You can update hello connection string in web tier by adding [IIS connection update script](https://aka.ms/asr-update-webtier-script-classic) after Group 3 in hello recovery plan.</span></span>

#### <a name="site-bindings-for-hello-application"></a><span data-ttu-id="c0c1a-182">Merhaba uygulaması için site bağlamaları</span><span class="sxs-lookup"><span data-stu-id="c0c1a-182">Site bindings for hello application</span></span>
<span data-ttu-id="c0c1a-183">Her site bağlaması hello türü içeren bilgiler, hangi hello IIS sunucusu hello site, başlangıç bağlantı noktası numarasını ve hello hello site için ana bilgisayar adları için toohello istekleri dinler hello IP adresi bağlama oluşur.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-183">Every site consists of binding information that includes hello type of binding, hello IP address at which hello IIS server listens toohello requests for hello site, hello port number and hello host names for hello site.</span></span> <span data-ttu-id="c0c1a-184">Bir yük devretme Hello sırasında bu bağlamaların başlangıç IP adresi ilişkili bir değişiklik olursa güncelleştirilmiş toobe gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-184">At hello time of a failover, these bindings might need toobe updated if there is a change in hello IP address associated with them.</span></span>

> [!NOTE]
>
> <span data-ttu-id="c0c1a-185">'Tüm atanmamış' hello örnekte olduğu gibi hello site bağlaması için işaretlenmiş durumunda bu bağlama post yük devretme tooupdate gerekmez.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-185">If you have marked ‘all unassigned’ for hello site binding as in hello example below, you will not need tooupdate this binding post failover.</span></span> <span data-ttu-id="c0c1a-186">Ayrıca, bir site ile ilişkili başlangıç IP adresi yük devretme sonrası değiştirilmezse hello site bağlaması güncelleştirilmesi (Merhaba IP adresinin bekletme hello ağ mimarisine bağlıdır ve alt ağları toohello atanan birincil ve kurtarma siteler ve bu nedenle olabilir veya olmayabilir Kuruluşunuz için uygun olabilir.)</span><span class="sxs-lookup"><span data-stu-id="c0c1a-186">Also, if hello IP address associated with a site is not changed post failover, hello site binding need not be updated (Retention of hello IP address depends on hello network architecture and subnets assigned toohello primary and recovery sites and hence may or may not be feasible for your organization.)</span></span>

![SSL bağlama](./media/site-recovery-iis/sslbinding.png)

<span data-ttu-id="c0c1a-188">Bir site ile başlangıç IP adresi ilişkilendirirseniz tooupdate hello yeni IP adresiyle tüm site bağlamaları gerekir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-188">If you have associated hello IP address with a site, you will need tooupdate all site bindings with hello new IP address.</span></span> <span data-ttu-id="c0c1a-189">Ekleyebileceğiniz [IIS Web Katmanı güncelleştirme betiğini](https://aka.ms/asr-web-tier-update-runbook-classic) grubu 3'te kurtarma planı toochange hello site bağlamaları sonra.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-189">You can add [IIS Web tier update script](https://aka.ms/asr-web-tier-update-runbook-classic) after Group 3 in recovery plan toochange hello site bindings.</span></span>


#### <a name="update-load-balancer-ip-address"></a><span data-ttu-id="c0c1a-190">Yük Dengeleyici IP adresi güncelleştir</span><span class="sxs-lookup"><span data-stu-id="c0c1a-190">Update load balancer IP address</span></span>
<span data-ttu-id="c0c1a-191">Uygulama isteği yönlendirme sanal makine varsa eklemeniz [IIS ARR yük devretme betiği](https://aka.ms/asr-iis-arrtier-failover-script-classic) sonra Grup 4 tooupdate başlangıç IP adresi.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-191">If you have  Application Request Routing virtual machine, add [IIS ARR  failover script](https://aka.ms/asr-iis-arrtier-failover-script-classic) after Group 4 tooupdate hello IP address.</span></span>

#### <a name="hello-ssl-cert-binding-for-an-https-connection"></a><span data-ttu-id="c0c1a-192">bir https bağlantısı için Hello SSL sertifikası bağlama</span><span class="sxs-lookup"><span data-stu-id="c0c1a-192">hello SSL cert binding for an https connection</span></span>
<span data-ttu-id="c0c1a-193">Web siteleri hello Web sunucusu ve hello kullanıcının tarayıcısı arasında güvenli iletişim sağlamak için yardımcı olan ilişkili bir SSL sertifikası olabilir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-193">Websites can have an associated SSL certificate that helps in ensuring a secure communication between hello webserver and hello user’s browser.</span></span> <span data-ttu-id="c0c1a-194">Merhaba Web bir https bağlantısı ve hello IIS sunucusunun SSL sertifikası bağlaması ile ilişkili https site bağlama toohello IP adresi varsa, yeni bir site bağlaması IP hello IIS sanal makinenin yük devretme sonrası hello için sertifika hello ile eklenen toobe gerekir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-194">If hello website has an https connection and an associated https site binding toohello IP address of hello IIS server with an SSL cert binding, a new site binding will need toobe added for hello cert with hello IP of hello IIS virtual machine post failover.</span></span>

<span data-ttu-id="c0c1a-195">Merhaba SSL sertifikası verilen karşı-</span><span class="sxs-lookup"><span data-stu-id="c0c1a-195">hello SSL cert can be issued against-</span></span>

<span data-ttu-id="c0c1a-196">bir) Merhaba Web hello tam etki alanı adı</span><span class="sxs-lookup"><span data-stu-id="c0c1a-196">a) hello fully qualified domain name of hello website</span></span><br>
<span data-ttu-id="c0c1a-197">b) Merhaba sunucu hello adı</span><span class="sxs-lookup"><span data-stu-id="c0c1a-197">b) hello name of hello server</span></span><br>
<span data-ttu-id="c0c1a-198">c) hello etki alanı adı için joker sertifikası</span><span class="sxs-lookup"><span data-stu-id="c0c1a-198">c) A wildcard certificate for hello domain name</span></span><br>
<span data-ttu-id="c0c1a-199">d) Merhaba SSL sertifikası karşı hello IP hello IIS sunucusunun verilir, IIS hello Azure site sunucusunda başka bir SSL sertifikası gereksinimlerini toobe veren karşı hello hello IP adresi ve bu sertifika için ek SSL bağlaması oluşturulan toobe gerekir bir IP adresi –.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-199">d) An IP address – If hello SSL cert is issued against hello IP of hello IIS server, another SSL cert needs toobe issued against hello IP address of hello IIS server on hello Azure site and an additional SSL binding for this certificate will need toobe created.</span></span> <span data-ttu-id="c0c1a-200">Bu nedenle, bir SSL sertifikası IP karşı verilen önerilir toonot kullanımı içindir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-200">Hence, it is advisable toonot use an SSL cert issued against IP.</span></span> <span data-ttu-id="c0c1a-201">Bu daha az yaygın olarak kullanılan bir seçenektir ve yeni CA/tarayıcı Forumu değişiklikleri göredir yakında kullanım dışı kalacaktır.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-201">This is a less widely used option and will soon be deprecated as per new CA/browser forum changes.</span></span>

#### <a name="update-hello-dependency-between-hello-web-and-hello-application-tier"></a><span data-ttu-id="c0c1a-202">Merhaba bağımlılık hello web hello uygulama katmanı arasındaki güncelleştir</span><span class="sxs-lookup"><span data-stu-id="c0c1a-202">Update hello dependency between hello web and hello application tier</span></span>
<span data-ttu-id="c0c1a-203">Merhaba sanal makinelerin IP adresini hello temel bir uygulama belirli bağımlılığı varsa, bu bağımlılık post yük devretme tooupdate gerekir.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-203">If you have an application specific dependency based on hello IP address of hello virtual machines, you need tooupdate this dependency post failover.</span></span>

## <a name="doing-a-test-failover"></a><span data-ttu-id="c0c1a-204">Yük devretme sınamasını yapmak</span><span class="sxs-lookup"><span data-stu-id="c0c1a-204">Doing a test failover</span></span>
<span data-ttu-id="c0c1a-205">İzleyin [bu kılavuz](site-recovery-test-failover-to-azure.md) toodo yük devretme sınaması.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-205">Follow [this guidance](site-recovery-test-failover-to-azure.md) toodo a test failover.</span></span>

1.  <span data-ttu-id="c0c1a-206">TooAzure portal gidin ve kurtarma hizmeti kasanızı seçin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-206">Go tooAzure portal and select your Recovery Service vault.</span></span>
1.  <span data-ttu-id="c0c1a-207">IIS web grubu için oluşturulan hello kurtarma planı tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-207">Click on hello recovery plan created for IIS web farm.</span></span>
1.  <span data-ttu-id="c0c1a-208">'Test yük devretme üzerinde' tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-208">Click on 'Test Failover'.</span></span>
1.  <span data-ttu-id="c0c1a-209">Kurtarma noktası ve Azure sanal ağı toostart hello test yük devretme işlemi seçin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-209">Select recovery point and Azure virtual network toostart hello test failover process.</span></span>
1.  <span data-ttu-id="c0c1a-210">Merhaba ikincil ortamı kurma olduğunda, doğrulama gerçekleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-210">Once hello secondary environment is up, you can perform your validations.</span></span>
1.  <span data-ttu-id="c0c1a-211">Hello doğrulama tamamlandıktan sonra 'Doğrulamaları tamamlamak' seçin ve yük devretme sınama ortamı hello temizlenecek.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-211">Once hello validations are complete, you can select ‘Validations complete’ and hello test failover environment will be cleaned.</span></span>

## <a name="doing-a-failover"></a><span data-ttu-id="c0c1a-212">Bir yük devretme işleminden</span><span class="sxs-lookup"><span data-stu-id="c0c1a-212">Doing a failover</span></span>
<span data-ttu-id="c0c1a-213">İzleyin [bu kılavuz](site-recovery-failover.md) , yaparken bir yük devretme.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-213">Follow [this guidance](site-recovery-failover.md) when you are doing a failover.</span></span>

1.  <span data-ttu-id="c0c1a-214">TooAzure portal gidin ve kurtarma hizmeti kasanızı seçin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-214">Go tooAzure portal and select your Recovery Service vault.</span></span>
1.  <span data-ttu-id="c0c1a-215">IIS web grubu için oluşturulan hello kurtarma planı tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-215">Click on hello recovery plan created for IIS web farm.</span></span>
1.  <span data-ttu-id="c0c1a-216">'Failover' üzerinde'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-216">Click on 'Failover'.</span></span>
1.  <span data-ttu-id="c0c1a-217">Kurtarma noktası toostart hello yük devretme işlemini seçin.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-217">Select recovery point toostart hello failover process.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c0c1a-218">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="c0c1a-218">Next steps</span></span>
<span data-ttu-id="c0c1a-219">Hakkında daha fazla bilgiyi [diğer uygulamaları çoğaltmak](site-recovery-workload.md) Site RECOVERY'yi kullanarak.</span><span class="sxs-lookup"><span data-stu-id="c0c1a-219">You can learn more about [replicate other applications](site-recovery-workload.md) using Site Recovery.</span></span>
