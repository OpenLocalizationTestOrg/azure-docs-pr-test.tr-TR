---
title: "Yük devretme ve kurtarma Azure Site kurtarma aaaCreate kurtarma planlarına | Microsoft Docs"
description: "Açıklar nasıl toocreate üzerinden Azure Site Recovery, toofail kurtarma planları özelleştirmek ve sanal makineleri ve fiziksel sunucuları kurtarma"
services: site-recovery
documentationcenter: 
author: rayne-wiselman
manager: carmonm
editor: 
ms.assetid: 72408c62-fcb6-4ee2-8ff5-cab1218773f2
ms.service: site-recovery
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 07/23/2017
ms.author: raynew
ms.openlocfilehash: 09ca7719e92460b283947fdbe752e8654e5b9cab
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="create-recovery-plans"></a><span data-ttu-id="18ee5-103">Kurtarma planları oluşturma</span><span class="sxs-lookup"><span data-stu-id="18ee5-103">Create recovery plans</span></span>


<span data-ttu-id="18ee5-104">Bu makalede oluşturma ve kurtarma planları özelleştirme hakkında bilgiler sağlanmaktadır [Azure Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="18ee5-104">This article provides information about creating and customizing recovery plans in [Azure Site Recovery](site-recovery-overview.md).</span></span>

<span data-ttu-id="18ee5-105">Tüm yorumlarınızı ve sorularınızı bu makalenin veya hello hello altındaki sonrası [Azure kurtarma Hizmetleri Forumu](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr).</span><span class="sxs-lookup"><span data-stu-id="18ee5-105">Post any comments or questions at hello bottom of this article, or on hello [Azure Recovery Services Forum](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr).</span></span>

 <span data-ttu-id="18ee5-106">Aşağıdaki kurtarma planları toodo hello oluşturun:</span><span class="sxs-lookup"><span data-stu-id="18ee5-106">Create recovery plans toodo hello following:</span></span>

* <span data-ttu-id="18ee5-107">Birlikte yük devri ve birlikte başlatma makine grupları tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="18ee5-107">Define groups of machines that fail over together, and then start up together.</span></span>
* <span data-ttu-id="18ee5-108">Model bağımlılıkları birlikte kurtarma gruplandırarak tarafından makineler arasında Grup planlayın.</span><span class="sxs-lookup"><span data-stu-id="18ee5-108">Model dependencies between machines, by grouping them together into a recovery plan group.</span></span> <span data-ttu-id="18ee5-109">Örneğin, toofail üzerinden ve belirli bir uygulamayı oluşturan Getir, tüm hello VM'ler hello bu uygulamaya için Grup aynı kurtarma planı grup.</span><span class="sxs-lookup"><span data-stu-id="18ee5-109">For example, toofail over and bring up a specific application, you group all of hello VMs for that application into hello same recovery plan group.</span></span>
* <span data-ttu-id="18ee5-110">Bir yük devretme çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="18ee5-110">Run a failover.</span></span> <span data-ttu-id="18ee5-111">Bir test, planlanmış veya planlanmamış yük devretme bir kurtarma planı çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18ee5-111">You can run a test, planned, or unplanned failover on a recovery plan.</span></span>


## <a name="create-a-recovery-plan"></a><span data-ttu-id="18ee5-112">Kurtarma planı oluşturma</span><span class="sxs-lookup"><span data-stu-id="18ee5-112">Create a recovery plan</span></span>

1. <span data-ttu-id="18ee5-113">Tıklatın **kurtarma planlarına** > **kurtarma planı oluşturma**.</span><span class="sxs-lookup"><span data-stu-id="18ee5-113">Click **Recovery Plans** > **Create Recovery Plan**.</span></span>
   <span data-ttu-id="18ee5-114">Merhaba kurtarma planı, kaynak ve hedef için bir ad belirtin.</span><span class="sxs-lookup"><span data-stu-id="18ee5-114">Specify a name for hello recovery plan, and a source and target.</span></span> <span data-ttu-id="18ee5-115">Merhaba kaynak konumu, sanal makineler, yük devretme ve kurtarma için etkinleştirilmiş olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="18ee5-115">hello source location must have virtual machines that are enabled for failover and recovery.</span></span>

    - <span data-ttu-id="18ee5-116">VMM tooVMM çoğaltma için seçin **kaynak türü** > **VMM**ve kaynak ve hedef VMM sunucuların hello.</span><span class="sxs-lookup"><span data-stu-id="18ee5-116">For VMM tooVMM replication, select **Source Type** > **VMM**, and hello source and target VMM servers.</span></span> <span data-ttu-id="18ee5-117">Tıklatın **Hyper-V** korunan toosee bulut.</span><span class="sxs-lookup"><span data-stu-id="18ee5-117">Click **Hyper-V** toosee clouds that are protected.</span></span>
    - <span data-ttu-id="18ee5-118">VMM tooAzure için seçin **kaynak türü** > **VMM**.</span><span class="sxs-lookup"><span data-stu-id="18ee5-118">For VMM tooAzure, select **Source Type** > **VMM**.</span></span>  <span data-ttu-id="18ee5-119">Select hello kaynak VMM sunucusunu ve **Azure** hello hedefi olarak.</span><span class="sxs-lookup"><span data-stu-id="18ee5-119">Select hello source VMM server, and **Azure** as hello target.</span></span>
    - <span data-ttu-id="18ee5-120">(VMM olmadan) Hyper-V çoğaltma tooAzure için seçin **kaynak türü** > **Hyper-V sitesi**.</span><span class="sxs-lookup"><span data-stu-id="18ee5-120">For Hyper-V replication tooAzure (without VMM), select **Source Type** > **Hyper-V site**.</span></span> <span data-ttu-id="18ee5-121">Select hello site hello kaynağı olarak ve **Azure** hello hedefi olarak.</span><span class="sxs-lookup"><span data-stu-id="18ee5-121">Select hello site as hello source, and **Azure** as hello target.</span></span>
    - <span data-ttu-id="18ee5-122">VMware VM veya fiziksel sunucu tooAzure şirket, bir yapılandırma sunucusu hello kaynağı olarak seçin ve **Azure** hello hedefi olarak.</span><span class="sxs-lookup"><span data-stu-id="18ee5-122">For a VMware VM or a physical on-premises server tooAzure, select a configuration server as hello source, and **Azure** as hello target.</span></span>
    - <span data-ttu-id="18ee5-123">Bir Azure tooAzure kurtarma planı için bir Azure bölgesi hello kaynağı olarak ve ikincil bir Azure bölgesi hello hedefi olarak seçin.</span><span class="sxs-lookup"><span data-stu-id="18ee5-123">For a Azure tooAzure recovery plan, select a Azure region as hello source, and a secondary Azure region as hello target.</span></span> <span data-ttu-id="18ee5-124">yalnızca toowhich sanal makineleri korumalı Hello ikincil Azure bölgeleri şunlardır.</span><span class="sxs-lookup"><span data-stu-id="18ee5-124">hello secondary Azure regions are only those toowhich virtual machines are protected.</span></span>
2. <span data-ttu-id="18ee5-125">İçinde **sanal makine Seç**, hello sanal makineleri (veya çoğaltma grubu) seçin hello kurtarma planında tooadd toohello varsayılan grubu (Grup 1) istiyor.</span><span class="sxs-lookup"><span data-stu-id="18ee5-125">In **Select virtual machines**, select hello virtual machines (or replication group) that you want tooadd toohello default group (Group 1) in hello recovery plan.</span></span>

## <a name="customize-and-extend-recovery-plans"></a><span data-ttu-id="18ee5-126">Özelleştirme ve kurtarma planları genişletme</span><span class="sxs-lookup"><span data-stu-id="18ee5-126">Customize and extend recovery plans</span></span>

<span data-ttu-id="18ee5-127">Özelleştirme ve kurtarma planları genişletir:</span><span class="sxs-lookup"><span data-stu-id="18ee5-127">You can customize and extend recovery plans:</span></span>

- <span data-ttu-id="18ee5-128">**Yeni gruplar eklemek**— ek kurtarma planı gruplarını (tooseven) toohello varsayılan grubu ekleyin ve sonra daha fazla makine ya da çoğaltma grupları toothose kurtarma planı grupları ekleyin.</span><span class="sxs-lookup"><span data-stu-id="18ee5-128">**Add new groups**—Add additional recovery plan groups (up tooseven) toohello default group, and then add more machines or replication groups toothose recovery plan groups.</span></span> <span data-ttu-id="18ee5-129">Grupları, bunları eklediğiniz hello sırayla numaralandırılır.</span><span class="sxs-lookup"><span data-stu-id="18ee5-129">Groups are numbered in hello order in which you add them.</span></span> <span data-ttu-id="18ee5-130">Yalnızca bir sanal makine ya da çoğaltma grubu bir kurtarma planı grubuna eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="18ee5-130">A virtual machine, or replication group, can only be included in one recovery plan group.</span></span>
- <span data-ttu-id="18ee5-131">**İşlemi el ile eklemek**— önce veya sonra bir kurtarma planı Grup çalıştırmak el ile yapılan eylemler ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18ee5-131">**Add a manual action**—You can add manual actions that run before or after a recovery plan group.</span></span> <span data-ttu-id="18ee5-132">Merhaba kurtarma planı çalıştığında hello işlemi el ile eklenen hello noktada durdurur.</span><span class="sxs-lookup"><span data-stu-id="18ee5-132">When hello recovery plan runs, it stops at hello point at which you inserted hello manual action.</span></span> <span data-ttu-id="18ee5-133">Bir iletişim kutusu hello el ile gerçekleştirilen işlemin tamamlandığını toospecify ister.</span><span class="sxs-lookup"><span data-stu-id="18ee5-133">A dialog box prompts you toospecify that hello manual action was completed.</span></span>
- <span data-ttu-id="18ee5-134">**Bir komut dosyası eklemek**— önce veya sonra bir kurtarma planı Grup çalışan komut dosyaları ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18ee5-134">**Add a script**—You can add scripts that run before or after a recovery plan group.</span></span> <span data-ttu-id="18ee5-135">Bir komut dosyası eklediğinizde, Eylemler hello grubu için yeni bir dizi ekler.</span><span class="sxs-lookup"><span data-stu-id="18ee5-135">When you add a script, it adds a new set of actions for hello group.</span></span> <span data-ttu-id="18ee5-136">Örneğin, Grup 1 öncesi adımları kümesini hello adıyla oluşturulur: Grup 1: öncesi adımları.</span><span class="sxs-lookup"><span data-stu-id="18ee5-136">For example, a set of pre-steps for Group 1 will be created with hello name: Group 1: pre-steps.</span></span> <span data-ttu-id="18ee5-137">Bu küme tüm öncesi adımları listelenir.</span><span class="sxs-lookup"><span data-stu-id="18ee5-137">All pre-steps will be listed inside this set.</span></span> <span data-ttu-id="18ee5-138">Dağıtılan bir VMM sunucunuz varsa hello birincil sitede yalnızca bir komut dosyası ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18ee5-138">You can only add a script on hello primary site if you have a VMM server deployed.</span></span>
- <span data-ttu-id="18ee5-139">**Azure runbook'ları ekleyin**— Azure runbook'ları içeren kurtarma planları genişletebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18ee5-139">**Add Azure runbooks**—You can extend recovery plans with Azure runbooks.</span></span> <span data-ttu-id="18ee5-140">Örneğin, tooautomate görevler veya toocreate tek adımlı kurtarma.</span><span class="sxs-lookup"><span data-stu-id="18ee5-140">For example, tooautomate tasks, or toocreate single-step recovery.</span></span> <span data-ttu-id="18ee5-141">[Daha fazla bilgi edinin](site-recovery-runbook-automation.md).</span><span class="sxs-lookup"><span data-stu-id="18ee5-141">[Learn more](site-recovery-runbook-automation.md).</span></span>

## <a name="add-scripts"></a><span data-ttu-id="18ee5-142">Komut dosyaları ekleme</span><span class="sxs-lookup"><span data-stu-id="18ee5-142">Add scripts</span></span>

<span data-ttu-id="18ee5-143">Kurtarma planlarınızı PowerShell komut dosyalarını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18ee5-143">You can use PowerShell scripts in your recovery plans.</span></span>

 - <span data-ttu-id="18ee5-144">Böylece Hello özel durumları düzgün biçimde işlenen komut dosyaları try-catch bloklarını kullandığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="18ee5-144">Ensure that scripts use try-catch blocks so that hello exceptions are handled gracefully.</span></span>
    - <span data-ttu-id="18ee5-145">Merhaba komut dosyasında bir özel durum ise, çalışmayı durdurur ve hello görev başarısız olarak gösterir.</span><span class="sxs-lookup"><span data-stu-id="18ee5-145">If there is an exception in hello script, it stops running and hello task shows as failed.</span></span>
    - <span data-ttu-id="18ee5-146">Bir hata oluşursa hello betik, herhangi bir kalan parçası çalıştırmaz.</span><span class="sxs-lookup"><span data-stu-id="18ee5-146">If an error occurs, any remaining part of hello script doesn't run.</span></span>
    - <span data-ttu-id="18ee5-147">Planlanmamış bir yük devretme çalıştırdığınızda, bir hata oluşursa, hello kurtarma planı devam eder.</span><span class="sxs-lookup"><span data-stu-id="18ee5-147">If an error occurs when you run an unplanned failover, hello recovery plan continues.</span></span>
    - <span data-ttu-id="18ee5-148">Planlanmış bir yük devretme çalıştırdığınızda, bir hata oluşursa, hello kurtarma planı durdurur.</span><span class="sxs-lookup"><span data-stu-id="18ee5-148">If an error occurs when you run a planned failover, hello recovery plan stops.</span></span> <span data-ttu-id="18ee5-149">Toofix hello komut dosyası, beklendiği gibi çalışır onay ve çalıştırın gerek yeniden hello kurtarma planı.</span><span class="sxs-lookup"><span data-stu-id="18ee5-149">You need toofix hello script, check that it runs as expected, and then run hello recovery plan again.</span></span>
- <span data-ttu-id="18ee5-150">bir kurtarma planı betiği Hello Write-Host komutu çalışmıyor ve hello komut dosyası başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="18ee5-150">hello Write-Host command doesn’t work in a recovery plan script, and hello script will fail.</span></span> <span data-ttu-id="18ee5-151">toocreate çıkışı, sırayla ana komut çalıştıran bir proxy komut dosyası oluşturun.</span><span class="sxs-lookup"><span data-stu-id="18ee5-151">toocreate output, create a proxy script that in turn runs your main script.</span></span> <span data-ttu-id="18ee5-152">Tüm çıktı hello kullanarak varsayılır emin olun >> komutu.</span><span class="sxs-lookup"><span data-stu-id="18ee5-152">Make sure that all output is piped out using hello >> command.</span></span>
  * <span data-ttu-id="18ee5-153">600 saniye içinde döndürmezse hello komut dosyası zaman aşımına uğradı.</span><span class="sxs-lookup"><span data-stu-id="18ee5-153">hello script times out if it doesn't return within 600 seconds.</span></span>
  * <span data-ttu-id="18ee5-154">Herhangi bir şey tooSTDERR yazılmışsa hello betiği başarısız olarak sınıflandırılır.</span><span class="sxs-lookup"><span data-stu-id="18ee5-154">If anything is written out tooSTDERR, hello script is classified as failed.</span></span> <span data-ttu-id="18ee5-155">Bu bilgiler hello komut dosyası yürütme ayrıntılar görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="18ee5-155">This information is displayed in hello script execution details.</span></span>

<span data-ttu-id="18ee5-156">Dağıtımınızda VMM kullanıyorsanız:</span><span class="sxs-lookup"><span data-stu-id="18ee5-156">If you're using VMM in your deployment:</span></span>

* <span data-ttu-id="18ee5-157">Komut dosyaları bir kurtarma planı hello hello VMM hizmet hesabı bağlamında çalışır.</span><span class="sxs-lookup"><span data-stu-id="18ee5-157">Scripts in a recovery plan run in hello context of hello VMM Service account.</span></span> <span data-ttu-id="18ee5-158">Bu hesap hello uzak paylaşımı üzerinde hangi hello betik bulunduğu için Okuma izinlerine sahip olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="18ee5-158">Make sure this account has Read permissions for hello remote share on which hello script is located.</span></span> <span data-ttu-id="18ee5-159">Merhaba betik toorun hello VMM hizmet hesabı ayrıcalık düzeyi adresindeki sınayın.</span><span class="sxs-lookup"><span data-stu-id="18ee5-159">Test hello script toorun at hello VMM service account privilege level.</span></span>
* <span data-ttu-id="18ee5-160">VMM cmdlet'lerini Windows PowerShell modülündeki teslim edilir.</span><span class="sxs-lookup"><span data-stu-id="18ee5-160">VMM cmdlets are delivered in a Windows PowerShell module.</span></span> <span data-ttu-id="18ee5-161">Merhaba VMM konsolunu yüklediğinizde hello modülü yüklenir.</span><span class="sxs-lookup"><span data-stu-id="18ee5-161">hello module is installed when you install hello VMM console.</span></span> <span data-ttu-id="18ee5-162">Merhaba betik komutu aşağıdaki hello kullanarak kodunuzu içine yüklenebilir:</span><span class="sxs-lookup"><span data-stu-id="18ee5-162">It can be loaded into your script, using hello following command in hello script:</span></span>
   - <span data-ttu-id="18ee5-163">Import-Module-Name virtualmachinemanager.</span><span class="sxs-lookup"><span data-stu-id="18ee5-163">Import-Module -Name virtualmachinemanager.</span></span> <span data-ttu-id="18ee5-164">[Daha fazla bilgi edinin](https://technet.microsoft.com/library/hh875013.aspx).</span><span class="sxs-lookup"><span data-stu-id="18ee5-164">[Learn more](https://technet.microsoft.com/library/hh875013.aspx).</span></span>
* <span data-ttu-id="18ee5-165">En az bir kitaplık sunucusu VMM dağıtımınızda olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="18ee5-165">Ensure you have at least one library server in your VMM deployment.</span></span> <span data-ttu-id="18ee5-166">Varsayılan olarak, hello kitaplık paylaşım yolu bir VMM sunucusunun yerel olarak hello hello klasör adıyla MSCVMMLibrary VMM sunucusu üzerinde bulunur.</span><span class="sxs-lookup"><span data-stu-id="18ee5-166">By default, hello library share path for a VMM server is located locally on hello VMM server, with hello folder name MSCVMMLibrary.</span></span>
    * <span data-ttu-id="18ee5-167">Kitaplık paylaşım yolu uzaktan (veya yerel ancak MSCVMMLibrary ile paylaşılan) ise, hello paylaşımı aşağıdaki gibi yapılandırın (kullanarak \\libserver2.contoso.com\share\ bir örnek olarak):</span><span class="sxs-lookup"><span data-stu-id="18ee5-167">If your library share path is remote (or local but not shared with MSCVMMLibrary), configure hello share as follows (using \\libserver2.contoso.com\share\ as an example):</span></span>
      * <span data-ttu-id="18ee5-168">Merhaba Kayıt Defteri Düzenleyicisi'ni açın ve çok gidin**HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\Azure Site Recovery\Registration**.</span><span class="sxs-lookup"><span data-stu-id="18ee5-168">Open hello Registry Editor and navigate too**HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\Azure Site Recovery\Registration**.</span></span>
      * <span data-ttu-id="18ee5-169">Merhaba değerini Düzenle **ScriptLibraryPath** ve olarak yerleştirme \\libserver2.contoso.com\share\.</span><span class="sxs-lookup"><span data-stu-id="18ee5-169">Edit hello value **ScriptLibraryPath** and place it as \\libserver2.contoso.com\share\.</span></span> <span data-ttu-id="18ee5-170">Belirtin tam FQDN hello.</span><span class="sxs-lookup"><span data-stu-id="18ee5-170">Specify hello full FQDN.</span></span> <span data-ttu-id="18ee5-171">İzinleri toohello paylaşım konumunu belirtin.</span><span class="sxs-lookup"><span data-stu-id="18ee5-171">Provide permissions toohello share location.</span></span>
      * <span data-ttu-id="18ee5-172">Merhaba betik aynı hello sahip bir kullanıcı hesabıyla test ettiğinizden emin olun VMM hello gibi izinleri hizmet hesabı.</span><span class="sxs-lookup"><span data-stu-id="18ee5-172">Ensure that you test hello script with a user account that has hello same permissions as hello VMM service account.</span></span> <span data-ttu-id="18ee5-173">Bu, tek başına denetler sınanan komut dosyalarını çalıştır Merhaba, aynı, Kurtarma planları şekilde göründükleri gibi.</span><span class="sxs-lookup"><span data-stu-id="18ee5-173">This checks that standalone tested scripts run in hello same way as they will in recovery plans.</span></span> <span data-ttu-id="18ee5-174">Merhaba VMM sunucusunda hello yürütme İlkesi toobypass aşağıdaki gibi ayarlayın:</span><span class="sxs-lookup"><span data-stu-id="18ee5-174">On hello VMM server, set hello execution policy toobypass as follows:</span></span>
        * <span data-ttu-id="18ee5-175">Yükseltilmiş ayrıcalıklar kullanarak hello 64-bit Windows PowerShell konsolu açın.</span><span class="sxs-lookup"><span data-stu-id="18ee5-175">Open hello 64-bit Windows PowerShell console using elevated privileges.</span></span>
        * <span data-ttu-id="18ee5-176">Tür: **Set-executionpolicy bypass**.</span><span class="sxs-lookup"><span data-stu-id="18ee5-176">Type: **Set-executionpolicy bypass**.</span></span> <span data-ttu-id="18ee5-177">[Daha fazla bilgi edinin](https://technet.microsoft.com/library/ee176961.aspx).</span><span class="sxs-lookup"><span data-stu-id="18ee5-177">[Learn more](https://technet.microsoft.com/library/ee176961.aspx).</span></span>

## <a name="add-a-script-or-manual-action-tooa-plan"></a><span data-ttu-id="18ee5-178">Bir komut dosyası veya el ile işlem tooa plan Ekle</span><span class="sxs-lookup"><span data-stu-id="18ee5-178">Add a script or manual action tooa plan</span></span>

<span data-ttu-id="18ee5-179">Sanal makineler veya çoğaltma gruplarına tooit eklenir ve hello planı oluşturuldu sonra bir komut dosyası toohello varsayılan kurtarma planı grup ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18ee5-179">You can add a script toohello default recovery plan group after you've added VMs or replication groups tooit, and created hello plan.</span></span>

1. <span data-ttu-id="18ee5-180">Açık hello kurtarma planı.</span><span class="sxs-lookup"><span data-stu-id="18ee5-180">Open hello recovery plan.</span></span>
2. <span data-ttu-id="18ee5-181">Merhaba bir öğeyi tıklatın **adım** listeleyin ve ardından **betik** veya **el ile eylemi**.</span><span class="sxs-lookup"><span data-stu-id="18ee5-181">Click an item in hello **Step** list, and then click **Script** or **Manual Action**.</span></span>
3. <span data-ttu-id="18ee5-182">Toowant tooadd hello betik veya eylem önce veya sonra hello öğesi seçili olup olmadığını belirtin.</span><span class="sxs-lookup"><span data-stu-id="18ee5-182">Specify whether toowant tooadd hello script or action before or after hello selected item.</span></span> <span data-ttu-id="18ee5-183">Kullanım hello **Yukarı Taşı** ve **Aşağı Taşı** düğmeleri, toomove hello hello komut dosyası konumunu yukarı veya aşağı.</span><span class="sxs-lookup"><span data-stu-id="18ee5-183">Use hello **Move Up** and **Move Down**  buttons, toomove hello position of hello script up or down.</span></span>
4. <span data-ttu-id="18ee5-184">VMM komut dosyası eklerseniz, seçin **yük devretme tooVMM betik**.</span><span class="sxs-lookup"><span data-stu-id="18ee5-184">If you add a VMM script, select **Failover tooVMM script**.</span></span> <span data-ttu-id="18ee5-185">İçinde **betik yolu**, türü hello göreli yol toohello paylaşımı.</span><span class="sxs-lookup"><span data-stu-id="18ee5-185">In **Script Path**, type hello relative path toohello share.</span></span> <span data-ttu-id="18ee5-186">Merhaba VMM aşağıdaki örnekte, hello yolu belirtin: **\RPScripts\RPScript.PS1**.</span><span class="sxs-lookup"><span data-stu-id="18ee5-186">In hello VMM example below, you specify hello path: **\RPScripts\RPScript.PS1**.</span></span>
5. <span data-ttu-id="18ee5-187">Defterini çalıştır bir Azure Otomasyonu eklerseniz, hangi hello runbook bulunduğu ve select hello uygun Azure runbook betiğidir hello Azure Automation hesabını belirtin.</span><span class="sxs-lookup"><span data-stu-id="18ee5-187">If you add an Azure automation run book, specify hello Azure Automation account in which hello runbook is located, and select hello appropriate Azure runbook script.</span></span>
6. <span data-ttu-id="18ee5-188">Merhaba kurtarma planı yük devretmesi yapmak için toomake emin hello betiği beklendiği gibi çalışır.</span><span class="sxs-lookup"><span data-stu-id="18ee5-188">Do a failover of hello recovery plan, toomake sure hello script works as expected.</span></span>


### <a name="add-a-vmm-script"></a><span data-ttu-id="18ee5-189">VMM komut ekleme</span><span class="sxs-lookup"><span data-stu-id="18ee5-189">Add a VMM script</span></span>

<span data-ttu-id="18ee5-190">Bir VMM kaynak site varsa, hello VMM sunucusunda bir komut dosyası oluşturabilir ve kurtarma planınıza dahil.</span><span class="sxs-lookup"><span data-stu-id="18ee5-190">If you have a VMM source site, you can create a script on hello VMM server, and include it in your recovery plan.</span></span>

1. <span data-ttu-id="18ee5-191">Yeni bir klasör hello kitaplık paylaşımı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="18ee5-191">Create a new folder in hello library share.</span></span> <span data-ttu-id="18ee5-192">Örneğin, \<Vmmsunucusuadı > \MSSCVMMLibrary\RPScripts.</span><span class="sxs-lookup"><span data-stu-id="18ee5-192">For example, \<VMMServerName>\MSSCVMMLibrary\RPScripts.</span></span> <span data-ttu-id="18ee5-193">Merhaba kaynağında yerleştirin ve VMM sunucuyu hedefleyebilir.</span><span class="sxs-lookup"><span data-stu-id="18ee5-193">Place it on hello source and target VMM servers.</span></span>
2. <span data-ttu-id="18ee5-194">Merhaba komut dosyası (örneğin RPScript) oluşturabilir ve beklendiği gibi çalıştığını denetleyin.</span><span class="sxs-lookup"><span data-stu-id="18ee5-194">Create hello script (for example RPScript), and check it works as expected.</span></span>
3. <span data-ttu-id="18ee5-195">Merhaba betik hello konuma yerleştirin \<Vmmsunucusuadı > merhaba kaynak ve hedef VMM sunucularında \MSSCVMMLibrary.</span><span class="sxs-lookup"><span data-stu-id="18ee5-195">Place hello script in hello location \<VMMServerName>\MSSCVMMLibrary, on hello source and target VMM servers.</span></span>


## <a name="next-steps"></a><span data-ttu-id="18ee5-196">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="18ee5-196">Next steps</span></span>

<span data-ttu-id="18ee5-197">[Daha fazla bilgi edinin](site-recovery-failover.md) yük devretme işlemleri çalıştırma hakkında.</span><span class="sxs-lookup"><span data-stu-id="18ee5-197">[Learn more](site-recovery-failover.md) about running failovers.</span></span>
