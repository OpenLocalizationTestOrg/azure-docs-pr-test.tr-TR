---
title: "Azure Site Recovery kullanarak disk korumasını hariç tutma | Microsoft Docs"
description: "VMware’den Azure’a ve Hyper-V’den Azure’a senaryolarında VM disklerinin çoğaltma işleminden nasıl ve neden hariç tutulacağı açıklanmaktadır."
services: site-recovery
documentationcenter: 
author: nsoneji
manager: garavd
editor: 
ms.assetid: 
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: hero-article
ms.date: 06/05/2017
ms.author: nisoneji
ms.openlocfilehash: fccbe88e3c0c2b2f3e9958f5f2f27adc017e4d03
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/03/2017
---
# <a name="exclude-disks-from-replication"></a><span data-ttu-id="75c22-103">Diskleri çoğaltmanın dışında tutma</span><span class="sxs-lookup"><span data-stu-id="75c22-103">Exclude disks from replication</span></span>
<span data-ttu-id="75c22-104">Bu makalede, disklerin çoğaltmanın dışında nasıl tutulacağı açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="75c22-104">This article describes how to exclude disks from replication.</span></span> <span data-ttu-id="75c22-105">Bu dışında tutma, kullanılan çoğaltma bant genişliğini iyileştirebilir veya bu gibi disklerin kullandığı hedef tarafı kaynakları iyileştirebilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-105">This exclusion can optimize the consumed replication bandwidth or optimize the target-side resources that such disks utilize.</span></span> <span data-ttu-id="75c22-106">Bu özellik, VMware’den Azure’a ve Hyper-V’den Azure’a senaryoları için desteklenir.</span><span class="sxs-lookup"><span data-stu-id="75c22-106">The feature is supported for scenarios of VMware to Azure and Hyper-V to Azure.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="75c22-107">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="75c22-107">Prerequisites</span></span>

<span data-ttu-id="75c22-108">Varsayılan olarak, bir makinedeki tüm diskler çoğaltılır.</span><span class="sxs-lookup"><span data-stu-id="75c22-108">By default, all disks on a machine are replicated.</span></span> <span data-ttu-id="75c22-109">Bir diski çoğaltmanın dışında tutmak için, VMware’den Azure’a çoğaltma yapıyorsanız çoğaltmayı etkinleştirmeden önce Mobility hizmetini makineye el ile yüklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="75c22-109">To exclude a disk from replication, you must manually install the Mobility service on the machine before you enable replication if you are replicating from VMware to Azure.</span></span>


## <a name="why-exclude-disks-from-replication"></a><span data-ttu-id="75c22-110">Diskleri çoğaltmanın dışında tutma nedenleri nelerdir?</span><span class="sxs-lookup"><span data-stu-id="75c22-110">Why exclude disks from replication?</span></span>
<span data-ttu-id="75c22-111">Disklerin çoğaltmanın dışında tutulması, çoğu zaman aşağıdaki nedenlerden dolayı gereklidir:</span><span class="sxs-lookup"><span data-stu-id="75c22-111">Excluding disks from replication is often necessary because:</span></span>

- <span data-ttu-id="75c22-112">Hariç tutulan diskteki değişen veriler önemli değildir veya çoğaltılmaları gerekmez.</span><span class="sxs-lookup"><span data-stu-id="75c22-112">The data that's churned on the excluded disk is not important or doesn’t need to be replicated.</span></span>

- <span data-ttu-id="75c22-113">Bu dalgalanmayı çoğaltmayarak depolama ve ağ kaynaklarından tasarruf sağlamak istersiniz.</span><span class="sxs-lookup"><span data-stu-id="75c22-113">You want to save storage and network resources by not replicating this churn.</span></span>

## <a name="what-are-the-typical-scenarios"></a><span data-ttu-id="75c22-114">Tipik senaryolar nelerdir?</span><span class="sxs-lookup"><span data-stu-id="75c22-114">What are the typical scenarios?</span></span>
<span data-ttu-id="75c22-115">Dışarıda tutmak için çok iyi adaylar olan belirli veri değişim sıklığı örnekleri tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="75c22-115">You can identify specific examples of data churn that are great candidates for exclusion.</span></span> <span data-ttu-id="75c22-116">Örnekler, disk belleği dosyasına (pagefile.sys) yazma ve Microsoft SQL Server tempdb dosyasına yazmayı içerebilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-116">Examples might include writes to a paging file (pagefile.sys) and writes to the tempdb file of Microsoft SQL Server.</span></span> <span data-ttu-id="75c22-117">İş yüküne ve depolama alt sistemine bağlı olarak, disk belleği dosyasında önemli miktarda dalgalanma kaydedebilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-117">Depending on the workload and the storage subsystem, the paging file can register a significant amount of churn.</span></span> <span data-ttu-id="75c22-118">Ancak bu verilerin birincil siteden Azure'a çoğaltılması yoğun bir kaynak kullanımına neden olacaktır.</span><span class="sxs-lookup"><span data-stu-id="75c22-118">However, replicating this data from the primary site to Azure would be resource intensive.</span></span> <span data-ttu-id="75c22-119">Bu nedenle, hem işletim sistemi hem de disk belleği dosyası bulunan tek bir sanal diske sahip bir sanal makinenin çoğaltılmasını iyileştirmek üzere aşağıdaki adımları kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="75c22-119">Thus, you can use the following steps to optimize replication of a virtual machine with a single virtual disk that has both the operating system and the paging file:</span></span>

1. <span data-ttu-id="75c22-120">Tek sanal diski iki sanal diske bölün.</span><span class="sxs-lookup"><span data-stu-id="75c22-120">Split the single virtual disk into two virtual disks.</span></span> <span data-ttu-id="75c22-121">Bir sanal diskte işletim sistemi ve diğerinde disk belleği dosyası vardır.</span><span class="sxs-lookup"><span data-stu-id="75c22-121">One virtual disk has the operating system, and the other has the paging file.</span></span>
2. <span data-ttu-id="75c22-122">Disk belleği dosyasını çoğaltmanın dışında tutun.</span><span class="sxs-lookup"><span data-stu-id="75c22-122">Exclude the paging file disk from replication.</span></span>

<span data-ttu-id="75c22-123">Benzer şekilde, Microsoft SQL Server tempdb dosyasına ve sistem veritabanı dosyasına sahip bir diski en iyi duruma getirmek için aşağıdaki adımları kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="75c22-123">Similarly, you can use the following steps to optimize a disk that has both the Microsoft SQL Server tempdb fie and the system database file:</span></span>

1. <span data-ttu-id="75c22-124">Sistem veritabanını ve tempdb dosyasını iki farklı diskte tutabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="75c22-124">Keep the system database and tempdb on two different disks.</span></span>
2. <span data-ttu-id="75c22-125">Tempdb diskini çoğaltmanın dışında tutabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="75c22-125">Exclude the tempdb disk from replication.</span></span>

## <a name="how-to-exclude-disks-from-replication"></a><span data-ttu-id="75c22-126">Diskler nasıl çoğaltmanın dışında tutulur?</span><span class="sxs-lookup"><span data-stu-id="75c22-126">How to exclude disks from replication?</span></span>

### <a name="vmware-to-azure"></a><span data-ttu-id="75c22-127">Vmware’den Azure’a</span><span class="sxs-lookup"><span data-stu-id="75c22-127">VMware to Azure</span></span>
<span data-ttu-id="75c22-128">Azure Site Recovery portalından bir sanal makineyi korumak için [Çoğaltmayı etkinleştir](site-recovery-vmware-to-azure.md) iş akışını izleyin.</span><span class="sxs-lookup"><span data-stu-id="75c22-128">Follow the [Enable replication](site-recovery-vmware-to-azure.md) workflow to protect a virtual machine from the Azure Site Recovery portal.</span></span> <span data-ttu-id="75c22-129">İş akışının dördüncü adımında, diskleri çoğaltmanın dışında tutmak için **DISK TO REPLICATE** sütununu kullanın.</span><span class="sxs-lookup"><span data-stu-id="75c22-129">In the fourth step of the workflow, use the **DISK TO REPLICATE** column to exclude disks from replication.</span></span> <span data-ttu-id="75c22-130">Varsayılan olarak, tüm diskler çoğaltma için seçilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-130">By default, all disks are selected for replication.</span></span> <span data-ttu-id="75c22-131">Çoğaltmanın dışında tutmak istediğiniz disklerin onay kutusunu temizleyin ve ardından çoğaltmayı etkinleştirme adımlarını tamamlayın.</span><span class="sxs-lookup"><span data-stu-id="75c22-131">Clear the check box of disks that you want to exclude from replication, and then complete the steps to enable replication.</span></span>

![Diskleri çoğaltmanın dışında tutma ve VMware’den Azure’a yeniden çalışma için çoğaltmayı etkinleştirin](./media/site-recovery-exclude-disk/v2a-enable-replication-exclude-disk1.png)


>[!NOTE]
>
> * <span data-ttu-id="75c22-133">Yalnızca Mobility hizmetinin zaten yüklü olduğu diskleri dışarıda tutabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="75c22-133">You can exclude only disks that already have the Mobility service installed.</span></span> <span data-ttu-id="75c22-134">Mobility hizmeti yalnızca, çoğaltma etkinleştirildikten sonra gönderim mekanizması kullanılarak yüklendiğinden Mobility hizmetini elle yüklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="75c22-134">You need to manually install the Mobility service, because the Mobility service is only installed by using the push mechanism after replication is enabled.</span></span>
> * <span data-ttu-id="75c22-135">Yalnızca temel diskler çoğaltma dışı bırakılabilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-135">Only basic disks can be excluded from replication.</span></span> <span data-ttu-id="75c22-136">İşletim sistemi veya dinamik diskler dışarıda tutulamaz.</span><span class="sxs-lookup"><span data-stu-id="75c22-136">You can't exclude operating system or dynamic disks.</span></span>
> * <span data-ttu-id="75c22-137">Çoğaltmayı etkinleştirdikten sonra, diskleri çoğaltma ekleyemez veya kaldıramazsınız.</span><span class="sxs-lookup"><span data-stu-id="75c22-137">After you enable replication, you can't add or remove disks for replication.</span></span> <span data-ttu-id="75c22-138">Disk eklemek veya dışarıda tutmak istiyorsanız, makinenin korumasını devre dışı bırakmanız ve ardından yeniden etkinleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="75c22-138">If you want to add or exclude a disk, you need to disable protection for the machine and then enable it again.</span></span>
> * <span data-ttu-id="75c22-139">Bir uygulamanın çalışması için gerekli olan bir diski hariç tutarsanız, Azure'a yük devretme gerçekleştirildikten sonra, çoğaltılan uygulamanın çalışabilmesi için diski Azure'da el ile oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="75c22-139">If you exclude a disk that's needed for an application to operate, after failover to Azure, you’ll need to create the disk manually in Azure so that the replicated application can run.</span></span> <span data-ttu-id="75c22-140">Alternatif olarak, makinenin yük devri esnasında diski oluşturmak için Azure otomasyonunu bir kurtarma planıyla tümleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="75c22-140">Alternatively, you can integrate Azure automation into a recovery plan to create the disk during failover of the machine.</span></span>
> * <span data-ttu-id="75c22-141">Windows sanal makine: Azure'da elle oluşturduğunuz diskler yeniden çalışır duruma getirilmez.</span><span class="sxs-lookup"><span data-stu-id="75c22-141">Window virtual machine: Disks that you create manually in Azure are not failed back.</span></span> <span data-ttu-id="75c22-142">Örneğin, üç disk için yük devretme gerçekleştirirseniz ve iki diski doğrudan Azure Sanal Makineler'de oluşturursanız, yalnızca yük devretme gerçekleştirilen üç disk yeniden çalışır duruma getirilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-142">For example, if you fail over three disks and create two disk directly in Azure Virtual Machines, only three disks that were failed over are failed back.</span></span> <span data-ttu-id="75c22-143">Elle oluşturduğunuz diskleri, yeniden çalışır duruma getirmeye veya şirket içinden Azure'a yeniden koruma uygulama işlemlerine dahil edemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="75c22-143">You can't include disks that you created manually in failback or in reprotect from on-premises to Azure.</span></span>
> * <span data-ttu-id="75c22-144">Linux sanal makinesi: Azure’da ele oluşturduğunuz diskler yenide çalışır duruma getirilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-144">Linux virtual machine: Disks that you create manually in Azure are failed back.</span></span> <span data-ttu-id="75c22-145">Örneğin, üç disk için yük devretme gerçekleştirirseniz ve iki diski doğrudan Azure'da oluşturursanız, beş diskin tümü yeniden çalışır duruma getirilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-145">For example, if you fail over three disks and create two disks directly in Azure Virtual Machines, all five will be failed back.</span></span> <span data-ttu-id="75c22-146">El ile oluşturulmuş diskleri, yeniden çalışmanın dışında tutamazsınız.</span><span class="sxs-lookup"><span data-stu-id="75c22-146">You can't exclude disks that were created manually from failback.</span></span>
>

### <a name="hyper-v-to-azure"></a><span data-ttu-id="75c22-147">Hyper-V’den Azure’a</span><span class="sxs-lookup"><span data-stu-id="75c22-147">Hyper-V to Azure</span></span>
<span data-ttu-id="75c22-148">Azure Site Recovery portalından bir sanal makineyi korumak için [Çoğaltmayı etkinleştir](site-recovery-hyper-v-site-to-azure.md) iş akışını izleyin.</span><span class="sxs-lookup"><span data-stu-id="75c22-148">Follow the [Enable replication](site-recovery-hyper-v-site-to-azure.md) workflow to protect a virtual machine from the Azure Site Recovery portal.</span></span> <span data-ttu-id="75c22-149">İş akışının dördüncü adımında, diskleri çoğaltmanın dışında tutmak için **DISK TO REPLICATE** sütununu kullanın.</span><span class="sxs-lookup"><span data-stu-id="75c22-149">In the fourth step of the workflow, use the **DISK TO REPLICATE** column to exclude disks from replication.</span></span> <span data-ttu-id="75c22-150">Varsayılan olarak, tüm diskler çoğaltma için seçilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-150">By default, all disks are selected for replication.</span></span> <span data-ttu-id="75c22-151">Çoğaltmanın dışında tutmak istediğiniz disklerin onay kutusunu temizleyin ve ardından çoğaltmayı etkinleştirme adımlarını tamamlayın.</span><span class="sxs-lookup"><span data-stu-id="75c22-151">Clear the check box of disks that you want to exclude from replication, and then complete the steps to enable replication.</span></span>

![Diskleri çoğaltmanın dışında tutun ve Hyper-V’den Azure’a yeniden çalışma için çoğaltmayı etkinleştirin](./media/site-recovery-vmm-to-azure/enable-replication6-with-exclude-disk.png)

>[!NOTE]
>
> * <span data-ttu-id="75c22-153">Yalnızca temel diskler çoğaltma dışında bırakılabilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-153">You can exclude only basic disks from replication.</span></span> <span data-ttu-id="75c22-154">İşletim sistemi diskleri dışarıda tutulamaz.</span><span class="sxs-lookup"><span data-stu-id="75c22-154">You can't exclude operating system disks.</span></span> <span data-ttu-id="75c22-155">Dinamik diskleri dışarıda tutmamanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="75c22-155">We recommend that you do not exclude dynamic disks.</span></span> <span data-ttu-id="75c22-156">Azure Site Recovery, konuk sanal makinede hangi sanal sabit diskin (VHD) temel veya dinamik olduğunu tanımlayamaz.</span><span class="sxs-lookup"><span data-stu-id="75c22-156">Azure Site Recovery cannot identify which virtual hard disk (VHD) is basic or dynamic in the guest virtual machine.</span></span>  <span data-ttu-id="75c22-157">Bağımlı dinamik birim disklerin tümü dışlanmazsa, korumalı dinamik disk yük devredilen bir sanal makinede hatalı disk haline gelir ve bu diskteki verilere erişim sağlanamaz.</span><span class="sxs-lookup"><span data-stu-id="75c22-157">If all dependent dynamic volume disks are not excluded, the protected dynamic disk becomes a failed disk on a failover virtual machine, and the data on that disk is not accessible.</span></span>
> * <span data-ttu-id="75c22-158">Çoğaltmayı etkinleştirdikten sonra, diskleri çoğaltma ekleyemez veya kaldıramazsınız.</span><span class="sxs-lookup"><span data-stu-id="75c22-158">After you enable replication, you can't add or remove disks for replication.</span></span> <span data-ttu-id="75c22-159">Disk eklemek veya dışarıda tutmak istiyorsanız, sanal makine için korumayı devre dışı bırakmanız ve ardından yeniden etkinleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="75c22-159">If you want to add or exclude a disk, you need to disable protection for the virtual machine and then enable it again.</span></span>
> * <span data-ttu-id="75c22-160">Bir uygulamanın çalışması için gerekli olan bir diski hariç tutarsanız, Azure'a yük devretme gerçekleştirildikten sonra, çoğaltılan uygulamanın çalışabilmesi için diski Azure'da el ile oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="75c22-160">If you exclude a disk that's needed for an application to operate, after failover to Azure you’ll need to create the disk manually in Azure so that the replicated application can run.</span></span> <span data-ttu-id="75c22-161">Alternatif olarak, makinenin yük devri esnasında diski oluşturmak için Azure otomasyonunu bir kurtarma planıyla tümleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="75c22-161">Alternatively, you can integrate Azure automation into a recovery plan to create the disk during failover of the machine.</span></span>
> * <span data-ttu-id="75c22-162">Azure'da elle oluşturduğunuz diskler yeniden çalışır duruma getirilmez.</span><span class="sxs-lookup"><span data-stu-id="75c22-162">Disks that you create manually in Azure will not be failed back.</span></span> <span data-ttu-id="75c22-163">Örneğin, üç disk için yük devretme gerçekleştirir ve iki diski doğrudan Azure Sanal Makinelerinde oluşturursanız, yalnızca yük devretme gerçekleştirilen üç disk Azure'dan Hyper-V'ye yeniden çalışır hale getirilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-163">For example, if you fail over three disks and create two disks directly in Azure Virtual Machines, only three disks that were failed over will be failed back from Azure to Hyper-V.</span></span> <span data-ttu-id="75c22-164">Yeniden çalışır hale getirilirken veya Hyper-V’den Azure’a ters çoğaltmada elle oluşturulmuş diskler dahil edilemez.</span><span class="sxs-lookup"><span data-stu-id="75c22-164">You can't include disks that were created manually in failback or in reverse replication from Hyper-V to Azure.</span></span>



## <a name="end-to-end-scenarios-of-exclude-disks"></a><span data-ttu-id="75c22-165">Disk dışarıda bırakmaya ilişkin uçtan uca senaryolar</span><span class="sxs-lookup"><span data-stu-id="75c22-165">End-to-end scenarios of exclude disks</span></span>
<span data-ttu-id="75c22-166">Disk dışarıda tutma özelliğini daha iyi anlamak için iki senaryoyu düşünelim:</span><span class="sxs-lookup"><span data-stu-id="75c22-166">Let's consider two scenarios to understand the exclude disk feature:</span></span>

- <span data-ttu-id="75c22-167">SQL Server tempdb diski</span><span class="sxs-lookup"><span data-stu-id="75c22-167">SQL Server tempdb disk</span></span>
- <span data-ttu-id="75c22-168">Disk belleği dosyası (pagefile.sys) diski</span><span class="sxs-lookup"><span data-stu-id="75c22-168">Paging file (pagefile.sys) disk</span></span>

### <a name="exclude-the-sql-server-tempdb-disk"></a><span data-ttu-id="75c22-169">SQL Server tempdb diskini dışarıda tutma</span><span class="sxs-lookup"><span data-stu-id="75c22-169">Exclude the SQL Server tempdb disk</span></span>
<span data-ttu-id="75c22-170">Dışlanabilecek bir tempdb’si olan bir SQL Server sanal makinesi düşünelim.</span><span class="sxs-lookup"><span data-stu-id="75c22-170">Let's consider a SQL Server virtual machine that has a tempdb that can be excluded.</span></span>

<span data-ttu-id="75c22-171">Sanal disk adı SalesDB şeklindedir.</span><span class="sxs-lookup"><span data-stu-id="75c22-171">The name of the virtual disk is SalesDB.</span></span>

<span data-ttu-id="75c22-172">Kaynak sanal makinedeki diskler aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="75c22-172">Disks on the source virtual machine are as follows:</span></span>


<span data-ttu-id="75c22-173">**Disk adı**</span><span class="sxs-lookup"><span data-stu-id="75c22-173">**Disk name**</span></span> | <span data-ttu-id="75c22-174">**Konuk işletim sistemi disk no.**</span><span class="sxs-lookup"><span data-stu-id="75c22-174">**Guest operating system disk#**</span></span> | <span data-ttu-id="75c22-175">**Sürücü harfi**</span><span class="sxs-lookup"><span data-stu-id="75c22-175">**Drive letter**</span></span> | <span data-ttu-id="75c22-176">**Diskteki veri türü**</span><span class="sxs-lookup"><span data-stu-id="75c22-176">**Data type on the disk**</span></span>
--- | --- | --- | ---
<span data-ttu-id="75c22-177">DB-Disk0-OS</span><span class="sxs-lookup"><span data-stu-id="75c22-177">DB-Disk0-OS</span></span> | <span data-ttu-id="75c22-178">DISK0</span><span class="sxs-lookup"><span data-stu-id="75c22-178">DISK0</span></span> | <span data-ttu-id="75c22-179">C:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-179">C:\\</span></span> | <span data-ttu-id="75c22-180">İşletim sistemi diski</span><span class="sxs-lookup"><span data-stu-id="75c22-180">Operating system disk</span></span>
<span data-ttu-id="75c22-181">DB-Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-181">DB-Disk1</span></span>| <span data-ttu-id="75c22-182">Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-182">Disk1</span></span> | <span data-ttu-id="75c22-183">D:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-183">D:\\</span></span> | <span data-ttu-id="75c22-184">SQL sistem veritabanı ve Kullanıcı Veritabanı1</span><span class="sxs-lookup"><span data-stu-id="75c22-184">SQL system database and User Database1</span></span>
<span data-ttu-id="75c22-185">DB-Disk2 (Disk, korumanın dışında tutuldu)</span><span class="sxs-lookup"><span data-stu-id="75c22-185">DB-Disk2 (Excluded the disk from protection)</span></span> | <span data-ttu-id="75c22-186">Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-186">Disk2</span></span> | <span data-ttu-id="75c22-187">E:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-187">E:\\</span></span> | <span data-ttu-id="75c22-188">Geçici dosyalar</span><span class="sxs-lookup"><span data-stu-id="75c22-188">Temp files</span></span>
<span data-ttu-id="75c22-189">DB-Disk3 (Disk, korumanın dışında tutuldu)</span><span class="sxs-lookup"><span data-stu-id="75c22-189">DB-Disk3 (Excluded the disk from protection)</span></span> | <span data-ttu-id="75c22-190">Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-190">Disk3</span></span> | <span data-ttu-id="75c22-191">F:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-191">F:\\</span></span> | <span data-ttu-id="75c22-192">SQL tempdb veritabanı (klasör yolu (F:\MSSQL\Data\) </br /> </br />Yük devretmeden önce klasör yolunu yazın.</span><span class="sxs-lookup"><span data-stu-id="75c22-192">SQL tempdb database (folder path(F:\MSSQL\Data\) </br /> </br />Write down the folder path before failover.</span></span>
<span data-ttu-id="75c22-193">DB-Disk4</span><span class="sxs-lookup"><span data-stu-id="75c22-193">DB-Disk4</span></span> | <span data-ttu-id="75c22-194">Disk4</span><span class="sxs-lookup"><span data-stu-id="75c22-194">Disk4</span></span> |<span data-ttu-id="75c22-195">G:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-195">G:\\</span></span> |<span data-ttu-id="75c22-196">Kullanıcı Veritabanı2</span><span class="sxs-lookup"><span data-stu-id="75c22-196">User Database2</span></span>

<span data-ttu-id="75c22-197">Sanal makinenin iki diskindeki veri değişim sıklığı geçici olduğundan, SalesDB sanal makinesini korurken Disk2 ve Disk3’ü çoğaltmanın dışında tutun.</span><span class="sxs-lookup"><span data-stu-id="75c22-197">Because data churn on two disks of the virtual machine is temporary, while you protect the SalesDB virtual machine, exclude Disk2 and Disk3 from replication.</span></span> <span data-ttu-id="75c22-198">Azure Site Recovery bu diskleri çoğaltmaz.</span><span class="sxs-lookup"><span data-stu-id="75c22-198">Azure Site Recovery will not replicate those disks.</span></span> <span data-ttu-id="75c22-199">Yük devretmede, bu diskler Azure’da yük devretme sanal makinesinde mevcut olmaz.</span><span class="sxs-lookup"><span data-stu-id="75c22-199">On failover, those disks will not be present on the failover virtual machine on Azure.</span></span>

<span data-ttu-id="75c22-200">Yük devretme sonrasında Azure sanal makinesindeki diskler aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="75c22-200">Disks on the Azure virtual machine after failover are as follows:</span></span>

<span data-ttu-id="75c22-201">**Konuk işletim sistemi disk no.**</span><span class="sxs-lookup"><span data-stu-id="75c22-201">**Guest operating system disk#**</span></span> | <span data-ttu-id="75c22-202">**Sürücü harfi**</span><span class="sxs-lookup"><span data-stu-id="75c22-202">**Drive letter**</span></span> | <span data-ttu-id="75c22-203">**Diskteki veri türü**</span><span class="sxs-lookup"><span data-stu-id="75c22-203">**Data type on the disk**</span></span>
--- | --- | ---
<span data-ttu-id="75c22-204">DISK0</span><span class="sxs-lookup"><span data-stu-id="75c22-204">DISK0</span></span> | <span data-ttu-id="75c22-205">C:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-205">C:\\</span></span> | <span data-ttu-id="75c22-206">İşletim sistemi diski</span><span class="sxs-lookup"><span data-stu-id="75c22-206">Operating system disk</span></span>
<span data-ttu-id="75c22-207">Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-207">Disk1</span></span> | <span data-ttu-id="75c22-208">E:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-208">E:\\</span></span> | <span data-ttu-id="75c22-209">Geçici depolama</br /> </br />Azure bu diski ekler ve kullanılabilir ilk sürücü harfini buna atar.</span><span class="sxs-lookup"><span data-stu-id="75c22-209">Temporary storage</br /> </br />Azure adds this disk and assigns the first available drive letter.</span></span>
<span data-ttu-id="75c22-210">Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-210">Disk2</span></span> | <span data-ttu-id="75c22-211">D:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-211">D:\\</span></span> | <span data-ttu-id="75c22-212">SQL sistem veritabanı ve Kullanıcı Veritabanı1</span><span class="sxs-lookup"><span data-stu-id="75c22-212">SQL system database and User Database1</span></span>
<span data-ttu-id="75c22-213">Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-213">Disk3</span></span> | <span data-ttu-id="75c22-214">G:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-214">G:\\</span></span> | <span data-ttu-id="75c22-215">Kullanıcı Veritabanı2</span><span class="sxs-lookup"><span data-stu-id="75c22-215">User Database2</span></span>

<span data-ttu-id="75c22-216">Disk2 ve Disk3, SalesDB sanal makinesinin dışında tutulduğundan, kullanılabilir sürücü harfleri listesindeki ilk harf E: olur.</span><span class="sxs-lookup"><span data-stu-id="75c22-216">Because Disk2 and Disk3 were excluded from the SalesDB virtual machine, E: is the first drive letter from the available list.</span></span> <span data-ttu-id="75c22-217">Azure, geçici depolama birimine E: harfini atar.</span><span class="sxs-lookup"><span data-stu-id="75c22-217">Azure assigns E: to the temporary storage volume.</span></span> <span data-ttu-id="75c22-218">Tüm çoğaltılan diskler için, sürücü harfleri aynı kalır.</span><span class="sxs-lookup"><span data-stu-id="75c22-218">For all the replicated disks, the drive letters remain the same.</span></span>

<span data-ttu-id="75c22-219">SQL tempdb diski olan Disk3 (tempdb klasör yolu F:\MSSQL\Data\), çoğaltmadan dışlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="75c22-219">Disk3, which was the SQL tempdb disk (tempdb folder path F:\MSSQL\Data\), was excluded from replication.</span></span> <span data-ttu-id="75c22-220">Disk yük devretme sanal makinesinde kullanılabilir değildir.</span><span class="sxs-lookup"><span data-stu-id="75c22-220">The disk is not available on the failover virtual machine.</span></span> <span data-ttu-id="75c22-221">Sonuç olarak, SQL hizmeti durdurulmuş durumdadır ve F:\MSSQL\Veri yolu gerekir.</span><span class="sxs-lookup"><span data-stu-id="75c22-221">As a result, the SQL service is in a stopped state, and it needs the F:\MSSQL\Data path.</span></span>

<span data-ttu-id="75c22-222">Bu yolu oluşturmanın iki yöntemi vardır:</span><span class="sxs-lookup"><span data-stu-id="75c22-222">There are two ways to create this path:</span></span>

- <span data-ttu-id="75c22-223">Yeni bir disk ekleyin ve tempdb klasör yolunu atayın.</span><span class="sxs-lookup"><span data-stu-id="75c22-223">Add a new disk and assign tempdb folder path.</span></span>
- <span data-ttu-id="75c22-224">tempdb klasör yolu için var olan geçici bir depolama diski kullanın.</span><span class="sxs-lookup"><span data-stu-id="75c22-224">Use an existing temporary storage disk for the tempdb folder path.</span></span>

#### <a name="add-a-new-disk"></a><span data-ttu-id="75c22-225">Yeni bir disk ekleme:</span><span class="sxs-lookup"><span data-stu-id="75c22-225">Add a new disk:</span></span>

1. <span data-ttu-id="75c22-226">Yük devretme öncesinde SQL tempdb.mdf ve tempdb.ldf yollarını yazın.</span><span class="sxs-lookup"><span data-stu-id="75c22-226">Write down the paths of SQL tempdb.mdf and tempdb.ldf before failover.</span></span>
2. <span data-ttu-id="75c22-227">Azure portalında, yük devretme sanal makinesine, kaynak SQL tempdb diskiyle (Disk3) aynı boyutta veya daha büyük yeni bir disk ekleyin.</span><span class="sxs-lookup"><span data-stu-id="75c22-227">From the Azure portal, add a new disk to the failover virtual machine with the same or more size as that of the source SQL tempdb disk (Disk3).</span></span>
3. <span data-ttu-id="75c22-228">Azure sanal makinesinde oturum açın.</span><span class="sxs-lookup"><span data-stu-id="75c22-228">Sign in to the Azure virtual machine.</span></span> <span data-ttu-id="75c22-229">Disk yönetimi (diskmgmt.msc) konsolundan yeni eklenen diski başlatıp biçimlendirin.</span><span class="sxs-lookup"><span data-stu-id="75c22-229">From the disk management (diskmgmt.msc) console, initialize and format the newly added disk.</span></span>
4. <span data-ttu-id="75c22-230">SQL tempdb diski tarafından kullanılan sürücü harfinin aynısını (F:) atayın.</span><span class="sxs-lookup"><span data-stu-id="75c22-230">Assign the same drive letter that was used by the SQL tempdb disk (F:).</span></span>
5. <span data-ttu-id="75c22-231">F: biriminde bir tempdb klasörü (F:\MSSQL\Data) oluşturun.</span><span class="sxs-lookup"><span data-stu-id="75c22-231">Create a tempdb folder on the F: volume (F:\MSSQL\Data).</span></span>
6. <span data-ttu-id="75c22-232">Hizmet konsolundan SQL hizmetini başlatın.</span><span class="sxs-lookup"><span data-stu-id="75c22-232">Start the SQL service from the service console.</span></span>

#### <a name="use-an-existing-temporary-storage-disk-for-the-sql-tempdb-folder-path"></a><span data-ttu-id="75c22-233">SQL tempdb klasör yolu için var olan geçici bir depolama diski kullanın:</span><span class="sxs-lookup"><span data-stu-id="75c22-233">Use an existing temporary storage disk for the SQL tempdb folder path:</span></span>

1. <span data-ttu-id="75c22-234">Bir komut istemi açın.</span><span class="sxs-lookup"><span data-stu-id="75c22-234">Open a command prompt.</span></span>
2. <span data-ttu-id="75c22-235">Komut isteminden kurtarma modunda SQL Server çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="75c22-235">Run SQL Server in recovery mode from the command prompt.</span></span>

        Net start MSSQLSERVER /f / T3608

3. <span data-ttu-id="75c22-236">tempdb yolunu yeni yola değiştirmek için aşağıdaki sqlcmd’yi çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="75c22-236">Run the following sqlcmd to change the tempdb path to the new path.</span></span>

        sqlcmd -A -S SalesDB        **Use your SQL DBname**
        USE master;     
        GO      
        ALTER DATABASE tempdb       
        MODIFY FILE (NAME = tempdev, FILENAME = 'E:\MSSQL\tempdata\tempdb.mdf');
        GO      
        ALTER DATABASE tempdb       
        MODIFY FILE (NAME = templog, FILENAME = 'E:\MSSQL\tempdata\templog.ldf');       
        GO


4. <span data-ttu-id="75c22-237">Microsoft SQL Server hizmetini durdurun.</span><span class="sxs-lookup"><span data-stu-id="75c22-237">Stop the Microsoft SQL Server service.</span></span>

        Net stop MSSQLSERVER
5. <span data-ttu-id="75c22-238">Microsoft SQL Server hizmetini başlatın.</span><span class="sxs-lookup"><span data-stu-id="75c22-238">Start the Microsoft SQL Server service.</span></span>

        Net start MSSQLSERVER

<span data-ttu-id="75c22-239">Geçici depolama diski için aşağıdaki Azure kılavuzuna bakın:</span><span class="sxs-lookup"><span data-stu-id="75c22-239">Refer to the following Azure guideline for temporary storage disk:</span></span>

* [<span data-ttu-id="75c22-240">SQL Server TempDB’yi ve Arabellek Havuzu Uzantılarını depolamak için Azure sanal makinelerde SSD kullanma</span><span class="sxs-lookup"><span data-stu-id="75c22-240">Using SSDs in Azure VMs to store SQL Server TempDB and Buffer Pool Extensions</span></span>](https://blogs.technet.microsoft.com/dataplatforminsider/2014/09/25/using-ssds-in-azure-vms-to-store-sql-server-tempdb-and-buffer-pool-extensions/)
* [<span data-ttu-id="75c22-241">Azure Sanal Makineler’de SQL Server için performansa yönelik en iyi uygulamalar</span><span class="sxs-lookup"><span data-stu-id="75c22-241">Performance best practices for SQL Server in Azure Virtual Machines</span></span>](https://docs.microsoft.com/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-performance)

### <a name="failback-from-azure-to-an-on-premises-host"></a><span data-ttu-id="75c22-242">Yeniden çalışır hale getirme (Azure'dan şirket içi bir ana bilgisayara)</span><span class="sxs-lookup"><span data-stu-id="75c22-242">Failback (from Azure to an on-premises host)</span></span>
<span data-ttu-id="75c22-243">Şimdi, Azure'dan şirket içi VMware veya Hyper-V ana bilgisayarınıza yük devretme yaptığınızda çoğaltılan disklere bakalım.</span><span class="sxs-lookup"><span data-stu-id="75c22-243">Now let's understand the disks that are replicated when you fail over from Azure to your on-premises VMware or Hyper-V host.</span></span> <span data-ttu-id="75c22-244">Azure'da elle oluşturduğunuz diskler çoğaltılmaz.</span><span class="sxs-lookup"><span data-stu-id="75c22-244">Disks that you create manually in Azure will not be replicated.</span></span> <span data-ttu-id="75c22-245">Örneğin, üç disk için yük devretme gerçekleştirir ve iki diski doğrudan Azure Sanal Makinelerinde oluşturursanız, yalnızca yük devretme gerçekleştirilen üç disk yeniden çalışır hale getirilir.</span><span class="sxs-lookup"><span data-stu-id="75c22-245">For example, if you fail over three disks and create two directly in Azure Virtual Machines, only three disks that were failed over will be failed back.</span></span> <span data-ttu-id="75c22-246">Elle oluşturduğunuz diskleri, yeniden çalışır duruma getirmeye veya şirket içinden Azure'a yeniden koruma uygulama işlemlerine dahil edemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="75c22-246">You can't include disks that were created manually in failback or in reprotect from on-premises to Azure.</span></span> <span data-ttu-id="75c22-247">Ayrıca, geçici depolama diskini şirket içi ana bilgisayarlarına da çoğaltmaz.</span><span class="sxs-lookup"><span data-stu-id="75c22-247">It also does not replicate the temporary storage disk to on-premises hosts.</span></span>

#### <a name="failback-to-original-location-recovery"></a><span data-ttu-id="75c22-248">Özgün konum kurtarması için yeniden çalışma</span><span class="sxs-lookup"><span data-stu-id="75c22-248">Failback to original location recovery</span></span>

<span data-ttu-id="75c22-249">Önceki örnekte, Azure sanal makinesinin disk yapılandırması aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="75c22-249">In the previous example, the Azure virtual machine disk configuration is as follows:</span></span>

<span data-ttu-id="75c22-250">**Konuk işletim sistemi disk no.**</span><span class="sxs-lookup"><span data-stu-id="75c22-250">**Guest operating system disk#**</span></span> | <span data-ttu-id="75c22-251">**Sürücü harfi**</span><span class="sxs-lookup"><span data-stu-id="75c22-251">**Drive letter**</span></span> | <span data-ttu-id="75c22-252">**Diskteki veri türü**</span><span class="sxs-lookup"><span data-stu-id="75c22-252">**Data type on the disk**</span></span>
--- | --- | ---
<span data-ttu-id="75c22-253">DISK0</span><span class="sxs-lookup"><span data-stu-id="75c22-253">DISK0</span></span> | <span data-ttu-id="75c22-254">C:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-254">C:\\</span></span> | <span data-ttu-id="75c22-255">İşletim sistemi diski</span><span class="sxs-lookup"><span data-stu-id="75c22-255">Operating system disk</span></span>
<span data-ttu-id="75c22-256">Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-256">Disk1</span></span> | <span data-ttu-id="75c22-257">E:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-257">E:\\</span></span> | <span data-ttu-id="75c22-258">Geçici depolama</br /> </br />Azure bu diski ekler ve kullanılabilir ilk sürücü harfini buna atar.</span><span class="sxs-lookup"><span data-stu-id="75c22-258">Temporary storage</br /> </br />Azure adds this disk and assigns the first available drive letter.</span></span>
<span data-ttu-id="75c22-259">Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-259">Disk2</span></span> | <span data-ttu-id="75c22-260">D:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-260">D:\\</span></span> | <span data-ttu-id="75c22-261">SQL sistem veritabanı ve Kullanıcı Veritabanı1</span><span class="sxs-lookup"><span data-stu-id="75c22-261">SQL system database and User Database1</span></span>
<span data-ttu-id="75c22-262">Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-262">Disk3</span></span> | <span data-ttu-id="75c22-263">G:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-263">G:\\</span></span> | <span data-ttu-id="75c22-264">Kullanıcı Veritabanı2</span><span class="sxs-lookup"><span data-stu-id="75c22-264">User Database2</span></span>


#### <a name="vmware-to-azure"></a><span data-ttu-id="75c22-265">Vmware’den Azure’a</span><span class="sxs-lookup"><span data-stu-id="75c22-265">VMware to Azure</span></span>
<span data-ttu-id="75c22-266">Yeniden çalışma özgün konumda gerçekleştirildiğinde, yeniden çalışma sanal makinesi disk yapılandırmasında dışarıda tutulan diskler olmaz.</span><span class="sxs-lookup"><span data-stu-id="75c22-266">When failback is done to the original location, the failback virtual machine disk configuration does not have excluded disks.</span></span> <span data-ttu-id="75c22-267">VMware’den Azure'a çoğaltmanın dışında tutulan diskler, yeniden çalışır hale getirme sanal makinesinde mevcut olmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="75c22-267">Disks that were excluded from VMware to Azure  will not be available on the failback virtual machine.</span></span>

<span data-ttu-id="75c22-268">Azure'dan şirket içi VMware’e planlı yük devretmenin ardında, VMWare sanal makinesindeki (özgün konum) diskler aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="75c22-268">After planned failover from Azure to on-premises VMware, disks on the VMWare virtual machine (original location) are as follows:</span></span>

<span data-ttu-id="75c22-269">**Konuk işletim sistemi disk no.**</span><span class="sxs-lookup"><span data-stu-id="75c22-269">**Guest operating system disk#**</span></span> | <span data-ttu-id="75c22-270">**Sürücü harfi**</span><span class="sxs-lookup"><span data-stu-id="75c22-270">**Drive letter**</span></span> | <span data-ttu-id="75c22-271">**Diskteki veri türü**</span><span class="sxs-lookup"><span data-stu-id="75c22-271">**Data type on the disk**</span></span>
--- | --- | ---
<span data-ttu-id="75c22-272">DISK0</span><span class="sxs-lookup"><span data-stu-id="75c22-272">DISK0</span></span> | <span data-ttu-id="75c22-273">C:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-273">C:\\</span></span> | <span data-ttu-id="75c22-274">İşletim sistemi diski</span><span class="sxs-lookup"><span data-stu-id="75c22-274">Operating system disk</span></span>
<span data-ttu-id="75c22-275">Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-275">Disk1</span></span> | <span data-ttu-id="75c22-276">D:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-276">D:\\</span></span> | <span data-ttu-id="75c22-277">SQL sistem veritabanı ve Kullanıcı Veritabanı1</span><span class="sxs-lookup"><span data-stu-id="75c22-277">SQL system database and User Database1</span></span>
<span data-ttu-id="75c22-278">Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-278">Disk2</span></span> | <span data-ttu-id="75c22-279">G:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-279">G:\\</span></span> | <span data-ttu-id="75c22-280">Kullanıcı Veritabanı2</span><span class="sxs-lookup"><span data-stu-id="75c22-280">User Database2</span></span>

#### <a name="hyper-v-to-azure"></a><span data-ttu-id="75c22-281">Hyper-V’den Azure’a</span><span class="sxs-lookup"><span data-stu-id="75c22-281">Hyper-V to Azure</span></span>
<span data-ttu-id="75c22-282">Yeniden çalışma özgün konum için olduğunda, yeniden çalışma sanal makinesi disk yapılandırması, Hyper-V’ye ait özgün sanal makine disk yapılandırması ile aynı kalır.</span><span class="sxs-lookup"><span data-stu-id="75c22-282">When failback is to the original location, the failback virtual machine disk configuration remains the same as that of original virtual machine disk configuration for Hyper-V.</span></span> <span data-ttu-id="75c22-283">Hyper-V sitesinden Azure'a çoğaltmanın dışında tutulan diskler, yeniden çalışır hale getirme sanal makinesinde mevcut olacaktır.</span><span class="sxs-lookup"><span data-stu-id="75c22-283">Disks that were excluded from Hyper-V site to Azure are available on the failback virtual machine.</span></span>

<span data-ttu-id="75c22-284">Azure'dan şirket içi Hyper-V’ye planlı yük devretmenin ardından, Hyper-V sanal makinesindeki (özgün konum) diskler aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="75c22-284">After planned failover from Azure to on-premises Hyper-V, disks on the Hyper-V virtual machine (original location) are as follows:</span></span>

<span data-ttu-id="75c22-285">**Disk Adı**</span><span class="sxs-lookup"><span data-stu-id="75c22-285">**Disk Name**</span></span> | <span data-ttu-id="75c22-286">**Konuk işletim sistemi disk no.**</span><span class="sxs-lookup"><span data-stu-id="75c22-286">**Guest operating system disk#**</span></span> | <span data-ttu-id="75c22-287">**Sürücü harfi**</span><span class="sxs-lookup"><span data-stu-id="75c22-287">**Drive letter**</span></span> | <span data-ttu-id="75c22-288">**Diskteki veri türü**</span><span class="sxs-lookup"><span data-stu-id="75c22-288">**Data type on the disk**</span></span>
--- | --- | --- | ---
<span data-ttu-id="75c22-289">DB-Disk0-OS</span><span class="sxs-lookup"><span data-stu-id="75c22-289">DB-Disk0-OS</span></span> | <span data-ttu-id="75c22-290">DISK0</span><span class="sxs-lookup"><span data-stu-id="75c22-290">DISK0</span></span> |   <span data-ttu-id="75c22-291">C:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-291">C:\\</span></span> | <span data-ttu-id="75c22-292">İşletim sistemi diski</span><span class="sxs-lookup"><span data-stu-id="75c22-292">Operating system disk</span></span>
<span data-ttu-id="75c22-293">DB-Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-293">DB-Disk1</span></span> | <span data-ttu-id="75c22-294">Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-294">Disk1</span></span> | <span data-ttu-id="75c22-295">D:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-295">D:\\</span></span> | <span data-ttu-id="75c22-296">SQL sistem veritabanı ve Kullanıcı Veritabanı1</span><span class="sxs-lookup"><span data-stu-id="75c22-296">SQL system database and User Database1</span></span>
<span data-ttu-id="75c22-297">DB-Disk2 (Dışlanan disk)</span><span class="sxs-lookup"><span data-stu-id="75c22-297">DB-Disk2 (Excluded disk)</span></span> | <span data-ttu-id="75c22-298">Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-298">Disk2</span></span> | <span data-ttu-id="75c22-299">E:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-299">E:\\</span></span> | <span data-ttu-id="75c22-300">Geçici dosyalar</span><span class="sxs-lookup"><span data-stu-id="75c22-300">Temp files</span></span>
<span data-ttu-id="75c22-301">DB-Disk3 (Dışlanan disk)</span><span class="sxs-lookup"><span data-stu-id="75c22-301">DB-Disk3 (Excluded disk)</span></span> | <span data-ttu-id="75c22-302">Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-302">Disk3</span></span> | <span data-ttu-id="75c22-303">F:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-303">F:\\</span></span> | <span data-ttu-id="75c22-304">SQL tempdb veritabanı (klasör yolu (F:\MSSQL\Data\)</span><span class="sxs-lookup"><span data-stu-id="75c22-304">SQL tempdb database (folder path(F:\MSSQL\Data\)</span></span>
<span data-ttu-id="75c22-305">DB-Disk4</span><span class="sxs-lookup"><span data-stu-id="75c22-305">DB-Disk4</span></span> | <span data-ttu-id="75c22-306">Disk4</span><span class="sxs-lookup"><span data-stu-id="75c22-306">Disk4</span></span> | <span data-ttu-id="75c22-307">G:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-307">G:\\</span></span> | <span data-ttu-id="75c22-308">Kullanıcı Veritabanı2</span><span class="sxs-lookup"><span data-stu-id="75c22-308">User Database2</span></span>


#### <a name="exclude-the-paging-file-pagefilesys-disk"></a><span data-ttu-id="75c22-309">Disk belleği dosyası (pagefile.sys) diskini dışarıda tutma</span><span class="sxs-lookup"><span data-stu-id="75c22-309">Exclude the paging file (pagefile.sys) disk</span></span>

<span data-ttu-id="75c22-310">Dışarıda tutulabilecek bir disk belleği dosyası diski olan bir sanal makine düşünelim.</span><span class="sxs-lookup"><span data-stu-id="75c22-310">Let's consider a virtual machine that has a paging file disk that can be excluded.</span></span>
<span data-ttu-id="75c22-311">İki durum vardır.</span><span class="sxs-lookup"><span data-stu-id="75c22-311">There are two cases.</span></span>

#### <a name="case-1-the-paging-file-is-configured-on-the-d-drive"></a><span data-ttu-id="75c22-312">Durum 1: Disk belleği dosyası D: sürücüsünde yapılandırılmıştır</span><span class="sxs-lookup"><span data-stu-id="75c22-312">Case 1: The paging file is configured on the D: drive</span></span>
<span data-ttu-id="75c22-313">Disk yapılandırması aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="75c22-313">Here's the disk configuration:</span></span>


<span data-ttu-id="75c22-314">**Disk adı**</span><span class="sxs-lookup"><span data-stu-id="75c22-314">**Disk name**</span></span> | <span data-ttu-id="75c22-315">**Konuk işletim sistemi disk no.**</span><span class="sxs-lookup"><span data-stu-id="75c22-315">**Guest operating system disk#**</span></span> | <span data-ttu-id="75c22-316">**Sürücü harfi**</span><span class="sxs-lookup"><span data-stu-id="75c22-316">**Drive letter**</span></span> | <span data-ttu-id="75c22-317">**Diskteki veri türü**</span><span class="sxs-lookup"><span data-stu-id="75c22-317">**Data type on the disk**</span></span>
--- | --- | --- | ---
<span data-ttu-id="75c22-318">DB-Disk0-OS</span><span class="sxs-lookup"><span data-stu-id="75c22-318">DB-Disk0-OS</span></span> | <span data-ttu-id="75c22-319">DISK0</span><span class="sxs-lookup"><span data-stu-id="75c22-319">DISK0</span></span> | <span data-ttu-id="75c22-320">C:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-320">C:\\</span></span> | <span data-ttu-id="75c22-321">İşletim sistemi diski</span><span class="sxs-lookup"><span data-stu-id="75c22-321">Operating system disk</span></span>
<span data-ttu-id="75c22-322">DB-Disk1 (Disk, korumanın dışında tutuldu)</span><span class="sxs-lookup"><span data-stu-id="75c22-322">DB-Disk1 (Excluded the disk from the protection)</span></span> | <span data-ttu-id="75c22-323">Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-323">Disk1</span></span> | <span data-ttu-id="75c22-324">D:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-324">D:\\</span></span> | <span data-ttu-id="75c22-325">pagefile.sys</span><span class="sxs-lookup"><span data-stu-id="75c22-325">pagefile.sys</span></span>
<span data-ttu-id="75c22-326">DB-Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-326">DB-Disk2</span></span> | <span data-ttu-id="75c22-327">Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-327">Disk2</span></span> | <span data-ttu-id="75c22-328">E:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-328">E:\\</span></span> | <span data-ttu-id="75c22-329">Kullanıcı verileri 1</span><span class="sxs-lookup"><span data-stu-id="75c22-329">User data 1</span></span>
<span data-ttu-id="75c22-330">DB-Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-330">DB-Disk3</span></span> | <span data-ttu-id="75c22-331">Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-331">Disk3</span></span> | <span data-ttu-id="75c22-332">F:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-332">F:\\</span></span> | <span data-ttu-id="75c22-333">Kullanıcı verileri 2</span><span class="sxs-lookup"><span data-stu-id="75c22-333">User data 2</span></span>

<span data-ttu-id="75c22-334">Kaynak sanal makinedeki disk belleği dosyası ayarları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="75c22-334">Here are the paging file settings on the source virtual machine:</span></span>

![Kaynak sanal makinedeki disk belleği dosyası ayarları](./media/site-recovery-exclude-disk/pagefile-on-d-drive-sourceVM.png)


<span data-ttu-id="75c22-336">Sanal makinenin VMware’den Azure’a veya Hyper-V’den Azure’a yük devretmesi yapıldıktan sonra, Azure sanal makinesindeki diskler aşağıdaki gibi olur:</span><span class="sxs-lookup"><span data-stu-id="75c22-336">After failover of the virtual machine from VMware to Azure or Hyper-V to Azure, disks on the Azure virtual machine are as follows:</span></span>

<span data-ttu-id="75c22-337">**Disk adı**</span><span class="sxs-lookup"><span data-stu-id="75c22-337">**Disk name**</span></span> | <span data-ttu-id="75c22-338">**Konuk işletim sistemi disk no.**</span><span class="sxs-lookup"><span data-stu-id="75c22-338">**Guest operating system disk#**</span></span> | <span data-ttu-id="75c22-339">**Sürücü harfi**</span><span class="sxs-lookup"><span data-stu-id="75c22-339">**Drive letter**</span></span> | <span data-ttu-id="75c22-340">**Diskteki veri türü**</span><span class="sxs-lookup"><span data-stu-id="75c22-340">**Data type on the disk**</span></span>
--- | --- | --- | ---
<span data-ttu-id="75c22-341">DB-Disk0-OS</span><span class="sxs-lookup"><span data-stu-id="75c22-341">DB-Disk0-OS</span></span> | <span data-ttu-id="75c22-342">DISK0</span><span class="sxs-lookup"><span data-stu-id="75c22-342">DISK0</span></span> | <span data-ttu-id="75c22-343">C:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-343">C:\\</span></span> | <span data-ttu-id="75c22-344">İşletim sistemi diski</span><span class="sxs-lookup"><span data-stu-id="75c22-344">Operating system disk</span></span>
<span data-ttu-id="75c22-345">DB-Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-345">DB-Disk1</span></span> | <span data-ttu-id="75c22-346">Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-346">Disk1</span></span> | <span data-ttu-id="75c22-347">D:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-347">D:\\</span></span> | <span data-ttu-id="75c22-348">Geçici depolama</br /> </br />pagefile.sys</span><span class="sxs-lookup"><span data-stu-id="75c22-348">Temporary storage</br /> </br />pagefile.sys</span></span>
<span data-ttu-id="75c22-349">DB-Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-349">DB-Disk2</span></span> | <span data-ttu-id="75c22-350">Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-350">Disk2</span></span> | <span data-ttu-id="75c22-351">E:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-351">E:\\</span></span> | <span data-ttu-id="75c22-352">Kullanıcı verileri 1</span><span class="sxs-lookup"><span data-stu-id="75c22-352">User data 1</span></span>
<span data-ttu-id="75c22-353">DB-Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-353">DB-Disk3</span></span> | <span data-ttu-id="75c22-354">Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-354">Disk3</span></span> | <span data-ttu-id="75c22-355">F:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-355">F:\\</span></span> | <span data-ttu-id="75c22-356">Kullanıcı verileri 2</span><span class="sxs-lookup"><span data-stu-id="75c22-356">User data 2</span></span>

<span data-ttu-id="75c22-357">Disk1 (D:) dışarıda tutulduğundan, D: kullanılabilir listedeki ilk sürücü harfidir.</span><span class="sxs-lookup"><span data-stu-id="75c22-357">Because Disk1 (D:) was excluded, D: is the first drive letter from the available list.</span></span> <span data-ttu-id="75c22-358">Azure, geçici depolama birimine D: harfini atar.</span><span class="sxs-lookup"><span data-stu-id="75c22-358">Azure assigns D: to the temporary storage volume.</span></span> <span data-ttu-id="75c22-359">D: Azure sanal makinesinde kullanılabilir olduğundan, sanal makinenin disk belleği dosyası ayarı aynı kalır.</span><span class="sxs-lookup"><span data-stu-id="75c22-359">Because D: is available on the Azure virtual machine, the paging file setting of the virtual machine remains the same.</span></span>

<span data-ttu-id="75c22-360">Azure sanal makinesindeki disk belleği dosyası ayarları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="75c22-360">Here are the paging file settings on the Azure virtual machine:</span></span>

![Azure sanal makinesindeki disk belleği dosyası ayarları](./media/site-recovery-exclude-disk/pagefile-on-Azure-vm-after-failover.png)

#### <a name="case-2-the-paging-file-is-configured-on-another-drive-other-than-d-drive"></a><span data-ttu-id="75c22-362">Durum 2: Disk belleği dosyası başka bir sürücüde (D: sürücüsü dışında) yapılandırılmıştır</span><span class="sxs-lookup"><span data-stu-id="75c22-362">Case 2: The paging file is configured on another drive (other than D: drive)</span></span>

<span data-ttu-id="75c22-363">Kaynak sanal makine disk yapılandırması şöyledir:</span><span class="sxs-lookup"><span data-stu-id="75c22-363">Here's the source virtual machine disk configuration:</span></span>

<span data-ttu-id="75c22-364">**Disk adı**</span><span class="sxs-lookup"><span data-stu-id="75c22-364">**Disk name**</span></span> | <span data-ttu-id="75c22-365">**Konuk işletim sistemi disk no.**</span><span class="sxs-lookup"><span data-stu-id="75c22-365">**Guest operating system disk#**</span></span> | <span data-ttu-id="75c22-366">**Sürücü harfi**</span><span class="sxs-lookup"><span data-stu-id="75c22-366">**Drive letter**</span></span> | <span data-ttu-id="75c22-367">**Diskteki veri türü**</span><span class="sxs-lookup"><span data-stu-id="75c22-367">**Data type on the disk**</span></span>
--- | --- | --- | ---
<span data-ttu-id="75c22-368">DB-Disk0-OS</span><span class="sxs-lookup"><span data-stu-id="75c22-368">DB-Disk0-OS</span></span> | <span data-ttu-id="75c22-369">DISK0</span><span class="sxs-lookup"><span data-stu-id="75c22-369">DISK0</span></span> | <span data-ttu-id="75c22-370">C:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-370">C:\\</span></span> | <span data-ttu-id="75c22-371">İşletim sistemi diski</span><span class="sxs-lookup"><span data-stu-id="75c22-371">Operating system disk</span></span>
<span data-ttu-id="75c22-372">DB-Disk1 (Disk, korumanın dışında tutuldu)</span><span class="sxs-lookup"><span data-stu-id="75c22-372">DB-Disk1 (Excluded the disk from protection)</span></span> | <span data-ttu-id="75c22-373">Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-373">Disk1</span></span> | <span data-ttu-id="75c22-374">G:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-374">G:\\</span></span> | <span data-ttu-id="75c22-375">pagefile.sys</span><span class="sxs-lookup"><span data-stu-id="75c22-375">pagefile.sys</span></span>
<span data-ttu-id="75c22-376">DB-Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-376">DB-Disk2</span></span> | <span data-ttu-id="75c22-377">Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-377">Disk2</span></span> | <span data-ttu-id="75c22-378">E:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-378">E:\\</span></span> | <span data-ttu-id="75c22-379">Kullanıcı verileri 1</span><span class="sxs-lookup"><span data-stu-id="75c22-379">User data 1</span></span>
<span data-ttu-id="75c22-380">DB-Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-380">DB-Disk3</span></span> | <span data-ttu-id="75c22-381">Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-381">Disk3</span></span> | <span data-ttu-id="75c22-382">F:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-382">F:\\</span></span> | <span data-ttu-id="75c22-383">Kullanıcı verileri 2</span><span class="sxs-lookup"><span data-stu-id="75c22-383">User data 2</span></span>

<span data-ttu-id="75c22-384">Şirket içi sanal makinedeki disk belleği dosyası ayarları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="75c22-384">Here are the paging file settings on the on-premises virtual machine:</span></span>

![Şirket içi sanal makinedeki disk belleği dosyası ayarları](./media/site-recovery-exclude-disk/pagefile-on-g-drive-sourceVM.png)

<span data-ttu-id="75c22-386">Sanal makinenin VMware’den/Hyper-V’den Azure’a yük devretmesi yapıldıktan sonra, Azure sanal makinesindeki diskler aşağıdaki gibi olur:</span><span class="sxs-lookup"><span data-stu-id="75c22-386">After failover of the virtual machine from VMware/Hyper-V to Azure, disks on the Azure virtual machine are as follows:</span></span>

<span data-ttu-id="75c22-387">**Disk adı**</span><span class="sxs-lookup"><span data-stu-id="75c22-387">**Disk name**</span></span>| <span data-ttu-id="75c22-388">**Konuk işletim sistemi disk no.**</span><span class="sxs-lookup"><span data-stu-id="75c22-388">**Guest operating system disk#**</span></span>| <span data-ttu-id="75c22-389">**Sürücü harfi**</span><span class="sxs-lookup"><span data-stu-id="75c22-389">**Drive letter**</span></span> | <span data-ttu-id="75c22-390">**Diskteki veri türü**</span><span class="sxs-lookup"><span data-stu-id="75c22-390">**Data type on the disk**</span></span>
--- | --- | --- | ---
<span data-ttu-id="75c22-391">DB-Disk0-OS</span><span class="sxs-lookup"><span data-stu-id="75c22-391">DB-Disk0-OS</span></span> | <span data-ttu-id="75c22-392">DISK0</span><span class="sxs-lookup"><span data-stu-id="75c22-392">DISK0</span></span>  |<span data-ttu-id="75c22-393">C:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-393">C:\\</span></span> |<span data-ttu-id="75c22-394">İşletim sistemi diski</span><span class="sxs-lookup"><span data-stu-id="75c22-394">Operating system disk</span></span>
<span data-ttu-id="75c22-395">DB-Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-395">DB-Disk1</span></span> | <span data-ttu-id="75c22-396">Disk1</span><span class="sxs-lookup"><span data-stu-id="75c22-396">Disk1</span></span> | <span data-ttu-id="75c22-397">D:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-397">D:\\</span></span> | <span data-ttu-id="75c22-398">Geçici depolama</br /> </br />pagefile.sys</span><span class="sxs-lookup"><span data-stu-id="75c22-398">Temporary storage</br /> </br />pagefile.sys</span></span>
<span data-ttu-id="75c22-399">DB-Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-399">DB-Disk2</span></span> | <span data-ttu-id="75c22-400">Disk2</span><span class="sxs-lookup"><span data-stu-id="75c22-400">Disk2</span></span> | <span data-ttu-id="75c22-401">E:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-401">E:\\</span></span> | <span data-ttu-id="75c22-402">Kullanıcı verileri 1</span><span class="sxs-lookup"><span data-stu-id="75c22-402">User data 1</span></span>
<span data-ttu-id="75c22-403">DB-Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-403">DB-Disk3</span></span> | <span data-ttu-id="75c22-404">Disk3</span><span class="sxs-lookup"><span data-stu-id="75c22-404">Disk3</span></span> | <span data-ttu-id="75c22-405">F:\\</span><span class="sxs-lookup"><span data-stu-id="75c22-405">F:\\</span></span> | <span data-ttu-id="75c22-406">Kullanıcı verileri 2</span><span class="sxs-lookup"><span data-stu-id="75c22-406">User data 2</span></span>

<span data-ttu-id="75c22-407">D: kullanılabilir sürücü harfleri listesindeki ilk harf olduğundan, Azure geçici depolama birimine D: harfini atar.</span><span class="sxs-lookup"><span data-stu-id="75c22-407">Because D: is the first drive letter from available the list, Azure assigns D: to the temporary storage volume.</span></span> <span data-ttu-id="75c22-408">Tüm çoğaltılan diskler için, sürücü harfi aynı kalır.</span><span class="sxs-lookup"><span data-stu-id="75c22-408">For all the replicated disks, the drive letter remains the same.</span></span> <span data-ttu-id="75c22-409">G: disk kullanılabilir olmadığından, sistem disk belleği dosyası için C: sürücüsünü kullanır.</span><span class="sxs-lookup"><span data-stu-id="75c22-409">Because the G: disk is not available, the system will use the C: drive for the paging file.</span></span>

<span data-ttu-id="75c22-410">Azure sanal makinesindeki disk belleği dosyası ayarları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="75c22-410">Here are the paging file settings on the Azure virtual machine:</span></span>

![Azure sanal makinesindeki disk belleği dosyası ayarları](./media/site-recovery-exclude-disk/pagefile-on-Azure-vm-after-failover-2.png)

## <a name="next-steps"></a><span data-ttu-id="75c22-412">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="75c22-412">Next steps</span></span>
<span data-ttu-id="75c22-413">Dağıtımınız ayarlandıktan ve çalışmaya başladıktan sonra farklı türdeki yük devretmeler hakkında [daha fazla bilgi edinebilirsiniz](site-recovery-failover.md).</span><span class="sxs-lookup"><span data-stu-id="75c22-413">After your deployment is set up and running, [learn more](site-recovery-failover.md) about different types of failover.</span></span>
