---
title: "Azure Site kurtarma Hyper-V çoğaltma tooAzure iş aaaHow mu? | Microsoft Belgeleri"
description: "Bu makalede, bileşenleri ve çoğaltma Hyper-V sanal makineleri tooAzure hello Azure Site Recovery hizmeti ile şirket içi kullanılan mimarisi genel bakış sağlar."
services: site-recovery
documentationcenter: 
author: rayne-wiselman
manager: carmonm
editor: 
ms.assetid: c413efcd-d750-4b22-b34b-15bcaa03934a
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 06/23/2017
ms.author: raynew
ms.openlocfilehash: 3b64156307f37764a8315dec68cf297acf279530
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="how-does-hyper-v-replication-tooazure-work-in-site-recovery"></a><span data-ttu-id="306a9-104">Hyper-V çoğaltma tooAzure Site Recovery nasıl çalışır?</span><span class="sxs-lookup"><span data-stu-id="306a9-104">How does Hyper-V replication tooAzure work in Site Recovery?</span></span>


<span data-ttu-id="306a9-105">Bu makalede hello bileşenleri açıklar ve işlemler çoğaltırken söz konusu şirket içi Hyper-V sanal makineleri, hello kullanarak tooAzure [Azure Site Recovery](site-recovery-overview.md) hizmet.</span><span class="sxs-lookup"><span data-stu-id="306a9-105">This article describes hello components and processes involved when replicating on-premises Hyper-V virtual machines, tooAzure using hello [Azure Site Recovery](site-recovery-overview.md) service.</span></span>

<span data-ttu-id="306a9-106">Site Recovery, System Center Virtual Machine Manager (VMM) ile veya VMM olmadan yönetilen Hyper-V kümelerindeki ve bağımsız konaklardaki Hyper-V VM'lerini çoğaltabilir.</span><span class="sxs-lookup"><span data-stu-id="306a9-106">Site Recovery can replicate Hyper-V VMs on Hyper-V clusters and standalone hosts that are managed with or without System Center Virtual Machine Manager (VMM).</span></span>

<span data-ttu-id="306a9-107">Bu makalenin veya hello hello altındaki tüm yorumlar sonrası [Azure kurtarma Hizmetleri Forumu](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr).</span><span class="sxs-lookup"><span data-stu-id="306a9-107">Post any comments at hello bottom of this article, or in hello [Azure Recovery Services Forum](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr).</span></span>



## <a name="architectural-components"></a><span data-ttu-id="306a9-108">Mimari bileşenler</span><span class="sxs-lookup"><span data-stu-id="306a9-108">Architectural components</span></span>

<span data-ttu-id="306a9-109">Bir dizi bileşen dahil olan Hyper-V sanal makineleri tooAzure çoğaltırken.</span><span class="sxs-lookup"><span data-stu-id="306a9-109">There are a number of components involved when replicating Hyper-V VMs tooAzure.</span></span>

<span data-ttu-id="306a9-110">**Bileşen**</span><span class="sxs-lookup"><span data-stu-id="306a9-110">**Component**</span></span> | <span data-ttu-id="306a9-111">**Konum**</span><span class="sxs-lookup"><span data-stu-id="306a9-111">**Location**</span></span> | <span data-ttu-id="306a9-112">**Ayrıntılar**</span><span class="sxs-lookup"><span data-stu-id="306a9-112">**Details**</span></span>
--- | --- | ---
<span data-ttu-id="306a9-113">**Azure**</span><span class="sxs-lookup"><span data-stu-id="306a9-113">**Azure**</span></span> | <span data-ttu-id="306a9-114">Azure’da bir Microsoft Azure hesabına, bir Azure depolama hesabına ve bir Azure ağına ihtiyacınız vardır.</span><span class="sxs-lookup"><span data-stu-id="306a9-114">In Azure you need a Microsoft Azure account, an Azure storage account, and a Azure network.</span></span> | <span data-ttu-id="306a9-115">Çoğaltılan veriler hello depolama hesabında depolanır ve şirket içi sitenizdeki yük devretme durumunda Azure Vm'leri çoğaltılan hello verilerle oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="306a9-115">Replicated data is stored in hello storage account, and Azure VMs are created with hello replicated data when failover from your on-premises site occurs.</span></span><br/><br/> <span data-ttu-id="306a9-116">Hello Azure VM'ler, oluşturuldukları zaman toohello Azure sanal ağı bağlayın.</span><span class="sxs-lookup"><span data-stu-id="306a9-116">hello Azure VMs connect toohello Azure virtual network when they're created.</span></span>
<span data-ttu-id="306a9-117">**VMM sunucusu**</span><span class="sxs-lookup"><span data-stu-id="306a9-117">**VMM server**</span></span> | <span data-ttu-id="306a9-118">Hyper-V konakları VMM bulutlarında bulunur</span><span class="sxs-lookup"><span data-stu-id="306a9-118">Hyper-V hosts are located in VMM clouds</span></span> | <span data-ttu-id="306a9-119">VMM bulutlarındaki Hyper-V konakları yönetiliyorsa, Kurtarma Hizmetleri kasası hello hello VMM sunucusunu kaydedin.</span><span class="sxs-lookup"><span data-stu-id="306a9-119">If Hyper-V hosts are managed in VMM clouds, you register hello VMM server in hello Recovery Services vault.</span></span><br/><br/> <span data-ttu-id="306a9-120">Merhaba VMM sunucusuna Azure ile Merhaba Site kurtarma sağlayıcısı tooorchestrate çoğaltma yükleyin.</span><span class="sxs-lookup"><span data-stu-id="306a9-120">On hello VMM server you install hello Site Recovery Provider tooorchestrate replication with Azure.</span></span><br/><br/> <span data-ttu-id="306a9-121">VM ağları tooconfigure ağ eşlemesi ayarlamanız ve mantıksal gerekir.</span><span class="sxs-lookup"><span data-stu-id="306a9-121">You need logical and VM networks set up tooconfigure network mapping.</span></span> <span data-ttu-id="306a9-122">Bir VM ağı hello bulutla ilişkilendirilen mantıksal ağ bağlantılı tooa olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="306a9-122">A VM network should be linked tooa logical network that's associated with hello cloud.</span></span>
<span data-ttu-id="306a9-123">**Hyper-V konağı**</span><span class="sxs-lookup"><span data-stu-id="306a9-123">**Hyper-V host**</span></span> | <span data-ttu-id="306a9-124">Hyper-V konakları ve kümeleri, VMM sunucusu ile veya sunucu olmadan dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="306a9-124">Hyper-V hosts and clusters can be deployed with or without VMM server.</span></span> | <span data-ttu-id="306a9-125">VMM sunucusu yoksa üzerinden Site Recovery ile Merhaba konak tooorchestrate çoğaltma üzerindeki Site Recovery sağlayıcısı yüklü hello Internet hello.</span><span class="sxs-lookup"><span data-stu-id="306a9-125">If there's no VMM server, hello Site Recovery Provider is installed on hello host tooorchestrate replication with Site Recovery over hello internet.</span></span> <span data-ttu-id="306a9-126">Bir VMM sunucusu ise, hello sağlayıcısı üzerindeki ve hello konaktaki yüklenir.</span><span class="sxs-lookup"><span data-stu-id="306a9-126">If there's a VMM server, hello Provider is installed on it, and not on hello host.</span></span><br/><br/> <span data-ttu-id="306a9-127">Merhaba kurtarma Hizmetleri Aracısı hello konak toohandle veri çoğaltmayı yüklenir.</span><span class="sxs-lookup"><span data-stu-id="306a9-127">hello Recovery Services agent is installed on hello host toohandle data replication.</span></span><br/><br/> <span data-ttu-id="306a9-128">Merhaba sağlayıcısı ve hello Aracısı gelen iletişimler güvenli ve şifrelidir.</span><span class="sxs-lookup"><span data-stu-id="306a9-128">Communications from both hello Provider and hello agent are secure and encrypted.</span></span> <span data-ttu-id="306a9-129">Azure depolama alanında çoğaltılan veriler de şifrelenir.</span><span class="sxs-lookup"><span data-stu-id="306a9-129">Replicated data in Azure storage is also encrypted.</span></span>
<span data-ttu-id="306a9-130">**Hyper-V VM’leri**</span><span class="sxs-lookup"><span data-stu-id="306a9-130">**Hyper-V VMs**</span></span> | <span data-ttu-id="306a9-131">Hyper-V konak sunucusunda çalışan bir veya daha fazla VM'nizin olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="306a9-131">You need one or more VMs running on a Hyper-V host server.</span></span> | <span data-ttu-id="306a9-132">Hiçbir şey Vm'lere yüklü tooexplicitly gerekir.</span><span class="sxs-lookup"><span data-stu-id="306a9-132">Nothing needs tooexplicitly installed on VMs.</span></span>

<span data-ttu-id="306a9-133">Merhaba dağıtımının önkoşulları ve hello de bu bileşenlerin her birini gereksinimleri hakkında bilgi edinin [destek matrisi](site-recovery-support-matrix-to-azure.md).</span><span class="sxs-lookup"><span data-stu-id="306a9-133">Learn about hello deployment prerequisites and requirements for each of these components in hello [support matrix](site-recovery-support-matrix-to-azure.md).</span></span>

<span data-ttu-id="306a9-134">**Şekil 1: Hyper-V sitesi tooAzure çoğaltma**</span><span class="sxs-lookup"><span data-stu-id="306a9-134">**Figure 1: Hyper-V site tooAzure replication**</span></span>

![Bileşenler](./media/site-recovery-components/arch-onprem-azure-hypervsite.png)

<span data-ttu-id="306a9-136">**Şekil 2: Hyper-V, VMM Bulutları tooAzure çoğaltma**</span><span class="sxs-lookup"><span data-stu-id="306a9-136">**Figure 2: Hyper-V in VMM clouds tooAzure replication**</span></span>

![Bileşenler](./media/site-recovery-components/arch-onprem-onprem-azure-vmm.png)


## <a name="replication-process"></a><span data-ttu-id="306a9-138">Çoğaltma işlemi</span><span class="sxs-lookup"><span data-stu-id="306a9-138">Replication process</span></span>

<span data-ttu-id="306a9-139">**Şekil 3: Hyper-V çoğaltma tooAzure için çoğaltma ve kurtarma işlemi**</span><span class="sxs-lookup"><span data-stu-id="306a9-139">**Figure 3: Replication and recovery process for Hyper-V replication tooAzure**</span></span>

![iş akışı](./media/site-recovery-components/arch-hyperv-azure-workflow.png)

### <a name="enable-protection"></a><span data-ttu-id="306a9-141">Korumayı etkinleştir</span><span class="sxs-lookup"><span data-stu-id="306a9-141">Enable protection</span></span>

1. <span data-ttu-id="306a9-142">Hyper-V sanal makine için koruma etkinleştirildikten sonra Azure portalına veya şirket içi, hello hello **korumayı etkinleştir** başlatır.</span><span class="sxs-lookup"><span data-stu-id="306a9-142">After you enable protection for a Hyper-V VM, in hello Azure portal or on-premises, hello **Enable protection** starts.</span></span>
2. <span data-ttu-id="306a9-143">Merhaba iş o hello makine hello çağırmadan önce önkoşulları ile uyumlu denetler [CreateReplicationRelationship](https://msdn.microsoft.com/library/hh850036.aspx), yapılandırdığınız hello ayarlarla çoğaltma tooset.</span><span class="sxs-lookup"><span data-stu-id="306a9-143">hello job checks that hello machine complies with prerequisites, before invoking hello [CreateReplicationRelationship](https://msdn.microsoft.com/library/hh850036.aspx), tooset up replication with hello settings you've configured.</span></span>
3. <span data-ttu-id="306a9-144">Merhaba işini hello çağırarak ilk çoğaltmayı başlatır [StartReplication](https://msdn.microsoft.com/library/hh850303.aspx) yöntemi, tam bir VM çoğaltmasını tooinitialize ve gönderme hello sanal makinenin sanal diskleri tooAzure.</span><span class="sxs-lookup"><span data-stu-id="306a9-144">hello job starts initial replication by invoking hello [StartReplication](https://msdn.microsoft.com/library/hh850303.aspx) method, tooinitialize a full VM replication, and send hello VM's virtual disks tooAzure.</span></span>
4. <span data-ttu-id="306a9-145">Merhaba hello işinde izleyebilirsiniz **işleri** sekmesi.      ![İşler listesi](media/site-recovery-hyper-v-azure-architecture/image1.png) ![Korumayı etkinleştir ayrıntıları](media/site-recovery-hyper-v-azure-architecture/image2.png)</span><span class="sxs-lookup"><span data-stu-id="306a9-145">You can monitor hello job in hello **Jobs** tab.      ![Jobs list](media/site-recovery-hyper-v-azure-architecture/image1.png) ![Enable protection drill down](media/site-recovery-hyper-v-azure-architecture/image2.png)</span></span>

### <a name="replicate-hello-initial-data"></a><span data-ttu-id="306a9-146">Merhaba ilk veri çoğaltma</span><span class="sxs-lookup"><span data-stu-id="306a9-146">Replicate hello initial data</span></span>

1. <span data-ttu-id="306a9-147">İlk çoğaltma tetiklendiğinde bir [Hyper-V VM anlık görüntüsü](https://technet.microsoft.com/library/dd560637.aspx) alınır.</span><span class="sxs-lookup"><span data-stu-id="306a9-147">A [Hyper-V VM snapshot](https://technet.microsoft.com/library/dd560637.aspx) snapshot is taken when initial replication is triggered.</span></span>
2. <span data-ttu-id="306a9-148">Tüm kopyalanan tooAzure oluncaya kadar sanal sabit diskler çoğaltılır ' dir.</span><span class="sxs-lookup"><span data-stu-id="306a9-148">Virtual hard disks are replicated one by one until they're all copied tooAzure.</span></span> <span data-ttu-id="306a9-149">Merhaba VM boyutuna bağlı olarak uzun sürebilir ve ağ bant genişliği.</span><span class="sxs-lookup"><span data-stu-id="306a9-149">It could take a while, depending on hello VM size, and network bandwidth.</span></span> <span data-ttu-id="306a9-150">toooptimize, ağ kullanımınızı bkz [nasıl toomanage tooAzure koruma ağ bant genişliği kullanımını içi](https://support.microsoft.com/kb/3056159).</span><span class="sxs-lookup"><span data-stu-id="306a9-150">toooptimize your network usage, see [How toomanage on-premises tooAzure protection network bandwidth usage](https://support.microsoft.com/kb/3056159).</span></span>
3. <span data-ttu-id="306a9-151">İlk çoğaltma işlemi devam ederken disk değişimi meydana gelirse hello Hyper-V çoğaltma çoğaltma İzleyicisi bu değişiklikleri Hyper-V çoğaltma günlükleri (.hrl) izler.</span><span class="sxs-lookup"><span data-stu-id="306a9-151">If disk changes occur while initial replication is in progress, hello Hyper-V Replica Replication Tracker tracks those changes as Hyper-V Replication Logs (.hrl).</span></span> <span data-ttu-id="306a9-152">Bu dosyalar hello bulunur hello diskleri aynı klasöre.</span><span class="sxs-lookup"><span data-stu-id="306a9-152">These files are located in hello same folder as hello disks.</span></span> <span data-ttu-id="306a9-153">Her diskin toosecondary depolama gönderilecek bir ilişkili .hrl dosyası vardır.</span><span class="sxs-lookup"><span data-stu-id="306a9-153">Each disk has an associated .hrl file that will be sent toosecondary storage.</span></span>
4. <span data-ttu-id="306a9-154">ilk çoğaltma işlemi devam ederken hello anlık görüntü ve günlük dosyalarının disk kaynaklarını tüketebilir.</span><span class="sxs-lookup"><span data-stu-id="306a9-154">hello snapshot and log files consume disk resources while initial replication is in progress.</span></span>
5. <span data-ttu-id="306a9-155">Merhaba ilk çoğaltma tamamlandığında hello VM anlık görüntüsü silinir.</span><span class="sxs-lookup"><span data-stu-id="306a9-155">When hello initial replication finishes, hello VM snapshot is deleted.</span></span> <span data-ttu-id="306a9-156">Değişim diski değişiklikleri hello günlüğünde eşitlenmesi ve birleştirilmiş toohello üst disk var.</span><span class="sxs-lookup"><span data-stu-id="306a9-156">Delta disk changes in hello log are synchronized and merged toohello parent disk.</span></span>


### <a name="finalize-protection"></a><span data-ttu-id="306a9-157">Korumayı sonlandırma</span><span class="sxs-lookup"><span data-stu-id="306a9-157">Finalize protection</span></span>

1. <span data-ttu-id="306a9-158">Merhaba ilk çoğaltma, hello bittikten sonra **hello sanal makinede korumayı Sonlandır** işi, ağ ve diğer çoğaltma sonrası ayarlarını hello sanal makine korunuyor böylece yapılandırır.</span><span class="sxs-lookup"><span data-stu-id="306a9-158">After hello initial replication finishes, hello **Finalize protection on hello virtual machine** job configures network and other post-replication settings, so that hello virtual machine is protected.</span></span>
    <span data-ttu-id="306a9-159">![Korumayı sonlandır işi](media/site-recovery-hyper-v-azure-architecture/image3.png)</span><span class="sxs-lookup"><span data-stu-id="306a9-159">![Finalize protection job](media/site-recovery-hyper-v-azure-architecture/image3.png)</span></span>
2. <span data-ttu-id="306a9-160">TooAzure çoğaltıyorsanız, böylece yük devretme için hazır tootweak hello ayarları hello sanal makine için gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="306a9-160">If you're replicating tooAzure, you might need tootweak hello settings for hello virtual machine so that it's ready for failover.</span></span> <span data-ttu-id="306a9-161">Bu noktada, her şeyin beklendiği gibi çalıştığını test yük devretme toocheck çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="306a9-161">At this point you can run a test failover toocheck everything is working as expected.</span></span>

### <a name="replicate-hello-delta"></a><span data-ttu-id="306a9-162">Merhaba delta Çoğalt</span><span class="sxs-lookup"><span data-stu-id="306a9-162">Replicate hello delta</span></span>

1. <span data-ttu-id="306a9-163">Merhaba ilk çoğaltma sonrasında delta eşitleme, çoğaltma ayarlarına uygun şekilde başlar.</span><span class="sxs-lookup"><span data-stu-id="306a9-163">After hello initial replication, delta synchronization begins, in accordance with replication settings.</span></span>
2. <span data-ttu-id="306a9-164">Merhaba Hyper-V çoğaltma çoğaltma İzleyicisi Merhaba değişiklikleri tooa sanal sabit disk .hrl dosyası izler.</span><span class="sxs-lookup"><span data-stu-id="306a9-164">hello Hyper-V Replica Replication Tracker tracks hello changes tooa virtual hard disk as .hrl files.</span></span> <span data-ttu-id="306a9-165">Çoğaltma için yapılandırılmış her diskin ilişkili bir .hrl dosyası vardır.</span><span class="sxs-lookup"><span data-stu-id="306a9-165">Each disk that's configured for replication has an associated .hrl file.</span></span> <span data-ttu-id="306a9-166">İlk çoğaltma tamamlandıktan sonra bu günlük toohello müşterinin depolama hesabı gönderilir.</span><span class="sxs-lookup"><span data-stu-id="306a9-166">This log is sent toohello customer's storage account after initial replication is complete.</span></span> <span data-ttu-id="306a9-167">Bir günlük transit tooAzure olduğunda, hello değişiklikler hello birincil diski başka bir günlük dosyasında, hello izlenir aynı dizin.</span><span class="sxs-lookup"><span data-stu-id="306a9-167">When a log is in transit tooAzure, hello changes in hello primary disk are tracked in another log file, in hello same directory.</span></span>
3. <span data-ttu-id="306a9-168">Başlangıç ve değişim çoğaltma sırasında VM hello hello VM görünüm izleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="306a9-168">During initial and delta replication, you can monitor hello VM in hello VM view.</span></span> <span data-ttu-id="306a9-169">[Daha fazla bilgi edinin](site-recovery-monitoring-and-troubleshooting.md#monitor-replication-health-for-virtual-machines).</span><span class="sxs-lookup"><span data-stu-id="306a9-169">[Learn more](site-recovery-monitoring-and-troubleshooting.md#monitor-replication-health-for-virtual-machines).</span></span>  

### <a name="synchronize-replication"></a><span data-ttu-id="306a9-170">Çoğaltmayı senkronize etme</span><span class="sxs-lookup"><span data-stu-id="306a9-170">Synchronize replication</span></span>

1. <span data-ttu-id="306a9-171">Değişim çoğaltması başarısız olursa ve bant genişliği ile zaman açısından tam çoğaltma maliyetli olacaksa, bir VM yeniden eşitleme için işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="306a9-171">If delta replication fails, and a full replication would be costly in terms of bandwidth or time, then a VM is marked for resynchronization.</span></span> <span data-ttu-id="306a9-172">Merhaba .hrl dosyası hello disk boyutunun % 50 ulaştıysanız, örneğin, ardından hello VM yeniden eşitleme için işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="306a9-172">For example, if hello .hrl files reach 50% of hello disk size, then hello VM will be marked for resynchronization.</span></span>
2.  <span data-ttu-id="306a9-173">Yeniden eşitleme hello hello kaynak ve hedef sanal makine sağlama bilgi işlem ve yalnızca hello değişim verileri gönderme gönderilen veri miktarını azaltır.</span><span class="sxs-lookup"><span data-stu-id="306a9-173">Resynchronization minimizes hello amount of data sent by computing checksums of hello source and target virtual machines, and sending only hello delta data.</span></span> <span data-ttu-id="306a9-174">Yeniden eşitleme, kaynak ve hedef dosyaların sabit öbeklere bölündüğü bir sabit blok kümeleme algoritması kullanır.</span><span class="sxs-lookup"><span data-stu-id="306a9-174">Resynchronization uses a fixed-block chunking algorithm where source and target files are divided into fixed chunks.</span></span> <span data-ttu-id="306a9-175">Her bir öbeğin sağlama oluşturulur ve hello kaynak gerek toobe uygulanan toohello hedeften engeller toodetermine karşılaştırılan.</span><span class="sxs-lookup"><span data-stu-id="306a9-175">Checksums for each chunk are generated and then compared toodetermine which blocks from hello source need toobe applied toohello target.</span></span>
3. <span data-ttu-id="306a9-176">Yeniden eşitleme sona erdikten sonra, normal değişim çoğaltması devam edecektir.</span><span class="sxs-lookup"><span data-stu-id="306a9-176">After resynchronization finishes, normal delta replication should resume.</span></span> <span data-ttu-id="306a9-177">Varsayılan olarak yeniden eşitleme ofis saatleri dışında otomatik olarak zamanlanan toorun olmakla birlikte, bir sanal makineyi el ile eşitleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="306a9-177">By default resynchronization is scheduled toorun automatically outside office hours, but you can resynchronize a virtual machine manually.</span></span> <span data-ttu-id="306a9-178">Örneğin, bir ağ kesintisi veya başka bir kesinti oluşursa, yeniden eşitlemeyi devam ettirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="306a9-178">For example, you can resume resynchronization if a network outage or another outage occurs.</span></span> <span data-ttu-id="306a9-179">toodo hello portal Bu, select hello VM > **eşitlemek**.</span><span class="sxs-lookup"><span data-stu-id="306a9-179">toodo this, select hello VM in hello portal > **Resynchronize**.</span></span>

    ![El ile yeniden eşitleme](media/site-recovery-hyper-v-azure-architecture/image4.png)


### <a name="retry-logic"></a><span data-ttu-id="306a9-181">Yeniden deneme mantığı</span><span class="sxs-lookup"><span data-stu-id="306a9-181">Retry logic</span></span>

<span data-ttu-id="306a9-182">Bir çoğaltma hatası meydana gelirse, yerleşik yeniden deneme işlevi vardır.</span><span class="sxs-lookup"><span data-stu-id="306a9-182">If a replication error occurs, there's a built-in retry.</span></span> <span data-ttu-id="306a9-183">Bu mantık iki kategoride sınıflandırılabilir:</span><span class="sxs-lookup"><span data-stu-id="306a9-183">This logic can be classified into two categories:</span></span>

<span data-ttu-id="306a9-184">**Kategori**</span><span class="sxs-lookup"><span data-stu-id="306a9-184">**Category**</span></span> | <span data-ttu-id="306a9-185">**Ayrıntılar**</span><span class="sxs-lookup"><span data-stu-id="306a9-185">**Details**</span></span>
--- | ---
<span data-ttu-id="306a9-186">**Kurtarılamaz hatalar**</span><span class="sxs-lookup"><span data-stu-id="306a9-186">**Non-recoverable errors**</span></span> | <span data-ttu-id="306a9-187">Yeniden deneme yapılmaya çalışılmaz.</span><span class="sxs-lookup"><span data-stu-id="306a9-187">No retry is attempted.</span></span> <span data-ttu-id="306a9-188">VM durumu **Kritik** olacaktır ve yönetici müdahalesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="306a9-188">VM status will be **Critical**, and administrator intervention is required.</span></span> <span data-ttu-id="306a9-189">Bu hataların örnekler: VHD zinciri; bozuk Geçersiz durum hello çoğaltma VM için; Ağ kimlik doğrulama hataları: Yetkilendirme hataları; VM hataları (tek başına Hyper-V sunucuları için) bulunamadı</span><span class="sxs-lookup"><span data-stu-id="306a9-189">Examples of these errors include: broken VHD chain; Invalid state for hello replica VM; Network authentication errors: authorization errors; VM not found errors (for standalone Hyper-V servers)</span></span>
<span data-ttu-id="306a9-190">**Kurtarılabilir hatalar**</span><span class="sxs-lookup"><span data-stu-id="306a9-190">**Recoverable errors**</span></span> | <span data-ttu-id="306a9-191">Yeniden deneme bir üstel geri hello yeniden deneme aralığı 1, 2, 4, 8 ilk denemede hello hello başından ve 10 dakika artan dışı kullanarak, her bir çoğaltma aralığı oluşur.</span><span class="sxs-lookup"><span data-stu-id="306a9-191">Retries occur every replication interval, using an exponential back-off that increases hello retry interval from hello start of hello first attempt by 1, 2, 4, 8, and 10 minutes.</span></span> <span data-ttu-id="306a9-192">Hata devam ederse, 30 dakikada bir yeniden deneyin.</span><span class="sxs-lookup"><span data-stu-id="306a9-192">If an error persists, retry every 30 minutes.</span></span> <span data-ttu-id="306a9-193">Örnekler şunlardır: ağ hataları; düşük disk hataları; yetersiz bellek durumları</span><span class="sxs-lookup"><span data-stu-id="306a9-193">Examples include: network errors; low disk  errors; low memory conditions</span></span> |



## <a name="failover-and-failback-process"></a><span data-ttu-id="306a9-194">Yük devretme ve yeniden çalışma işlemi</span><span class="sxs-lookup"><span data-stu-id="306a9-194">Failover and failback process</span></span>

1. <span data-ttu-id="306a9-195">Planlanmış çalıştırabilirsiniz veya planlanmamış [yük devretme](site-recovery-failover.md) şirket içi Hyper-V sanal makineleri tooAzure gelen.</span><span class="sxs-lookup"><span data-stu-id="306a9-195">You can run a planned or unplanned [failover](site-recovery-failover.md) from on-premises Hyper-V VMs tooAzure.</span></span> <span data-ttu-id="306a9-196">Planlanmış bir yük devretme çalıştırın, sonra kaynak VM'ler tooensure kapatın, veri kaybı.</span><span class="sxs-lookup"><span data-stu-id="306a9-196">If you run a planned failover, then source VMs are shut down tooensure no data loss.</span></span>
2. <span data-ttu-id="306a9-197">Üzerinde tek bir makine başarısız veya oluşturma [kurtarma planlarına](site-recovery-create-recovery-plans.md) birden fazla makine tooorchestrate yük devretme.</span><span class="sxs-lookup"><span data-stu-id="306a9-197">You can fail over a single machine, or create [recovery plans](site-recovery-create-recovery-plans.md) tooorchestrate failover of multiple machines.</span></span>
4. <span data-ttu-id="306a9-198">Merhaba yük devretme çalıştırdıktan sonra çoğaltma sanal makineleri Azure üzerinde oluşturulan mümkün toosee hello olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="306a9-198">After you run hello failover, you should be able toosee hello created replica VMs in Azure.</span></span> <span data-ttu-id="306a9-199">Gerekli olursa, ortak bir IP adresi toohello VM atayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="306a9-199">You can assign a public IP address toohello VM if required.</span></span>
5. <span data-ttu-id="306a9-200">Ardından Azure VM hello çoğaltmasından hello iş yükü erişme hello yük devretme toostart yürüttükten.</span><span class="sxs-lookup"><span data-stu-id="306a9-200">You then commit hello failover toostart accessing hello workload from hello replica Azure VM.</span></span>
6. <span data-ttu-id="306a9-201">Birincil yerinde siteniz yeniden kullanılabilir olduğunda siteyi [yeniden çalıştırabilirsiniz](site-recovery-failback-from-azure-to-hyper-v.md).</span><span class="sxs-lookup"><span data-stu-id="306a9-201">When your primary on-premises site is available again, you can [fail back](site-recovery-failback-from-azure-to-hyper-v.md).</span></span> <span data-ttu-id="306a9-202">Planlanmış bir yük devretme Azure toohello birincil siteden kapalı tetiklersiniz.</span><span class="sxs-lookup"><span data-stu-id="306a9-202">You kick off a planned failover from Azure toohello primary site.</span></span> <span data-ttu-id="306a9-203">Yapabilecekleriniz planlanmış bir yük devretme için aynı VM veya tooan alternatif konumu ve eşitleme select toofailback toohello veri kaybı Azure ve şirket içi, tooensure arasında değişir.</span><span class="sxs-lookup"><span data-stu-id="306a9-203">For a planned failover you can select toofailback toohello same VM or tooan alternate location, and synchronize changes between Azure and on-premises, tooensure no data loss.</span></span> <span data-ttu-id="306a9-204">Şirket içi sanal makineleri oluştururken hello yük devretme uygulayın.</span><span class="sxs-lookup"><span data-stu-id="306a9-204">When VMs are created on-premises, you commit hello failover.</span></span>




## <a name="next-steps"></a><span data-ttu-id="306a9-205">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="306a9-205">Next steps</span></span>

<span data-ttu-id="306a9-206">Gözden geçirme hello [destek matrisi](site-recovery-support-matrix-to-azure.md)</span><span class="sxs-lookup"><span data-stu-id="306a9-206">Review hello [support matrix](site-recovery-support-matrix-to-azure.md)</span></span>
