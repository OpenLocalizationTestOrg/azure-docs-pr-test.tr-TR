---
title: "Windows VM dağıtımı-Klasik sorunlarını giderme | Microsoft Docs"
description: "Azure'da yeni bir Windows sanal makine oluşturduğunuzda, Klasik dağıtım sorunlarını giderme"
services: virtual-machines-windows
documentationcenter: 
author: JiangChen79
manager: felixwu
editor: 
tags: top-support-issue
ms.assetid: 9f01d237-ba39-4c32-b72d-18f5f505d43a
ms.service: virtual-machines-windows
ms.workload: na
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 12/16/2016
ms.author: cjiang
ms.openlocfilehash: 990914e3d9541e8574ce6ba0bf6c996cb394470a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="troubleshoot-classic-deployment-issues-with-creating-a-new-windows-virtual-machine-in-azure"></a><span data-ttu-id="557f1-103">Azure'da yeni bir Windows sanal makine oluşturma ile klasik dağıtım sorunlarını giderme</span><span class="sxs-lookup"><span data-stu-id="557f1-103">Troubleshoot classic deployment issues with creating a new Windows virtual machine in Azure</span></span>
[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-selectors](../../../../includes/virtual-machines-windows-troubleshoot-deployment-new-vm-selectors-include.md)]

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-opening](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-opening-include.md)]

> [!IMPORTANT] 
> <span data-ttu-id="557f1-104">Azure oluşturmak ve kaynaklarla çalışmak için iki farklı dağıtım modeli vardır: [Resource Manager ve klasik](../../../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="557f1-104">Azure has two different deployment models for creating and working with resources: [Resource Manager and Classic](../../../resource-manager-deployment-model.md).</span></span> <span data-ttu-id="557f1-105">Bu makalede, Klasik dağıtım modeli kullanarak yer almaktadır.</span><span class="sxs-lookup"><span data-stu-id="557f1-105">This article covers using the Classic deployment model.</span></span> <span data-ttu-id="557f1-106">Microsoft, yeni dağıtımların çoğunun Resource Manager modelini kullanmasını önerir.</span><span class="sxs-lookup"><span data-stu-id="557f1-106">Microsoft recommends that most new deployments use the Resource Manager model.</span></span> <span data-ttu-id="557f1-107">Bu makalede Resource Manager sürümü için bkz: [burada](../../virtual-machines-windows-troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="557f1-107">For the Resource Manager version of this article, see [here](../../virtual-machines-windows-troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

[!INCLUDE [support-disclaimer](../../../../includes/support-disclaimer.md)]

## <a name="collect-audit-logs"></a><span data-ttu-id="557f1-108">Toplama denetim günlüklerini</span><span class="sxs-lookup"><span data-stu-id="557f1-108">Collect audit logs</span></span>
<span data-ttu-id="557f1-109">Sorun giderme başlatmak için sorunu ile ilişkili hata tanımlamak için denetim günlüklerini toplayın.</span><span class="sxs-lookup"><span data-stu-id="557f1-109">To start troubleshooting, collect the audit logs to identify the error associated with the issue.</span></span>

<span data-ttu-id="557f1-110">Azure portalında tıklatın **Gözat** > **sanal makineleri** > *Windows sanal makinenizi* > **ayarları** > **denetim günlüklerini**.</span><span class="sxs-lookup"><span data-stu-id="557f1-110">In the Azure portal, click **Browse** > **Virtual machines** > *your Windows virtual machine* > **Settings** > **Audit logs**.</span></span>

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-issue1](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-issue1-include.md)]

[!INCLUDE [virtual-machines-windows-troubleshoot-deployment-new-vm-table](../../../../includes/virtual-machines-windows-troubleshoot-deployment-new-vm-table.md)]

<span data-ttu-id="557f1-111">**Y:** genelleştirilmiş, Windows işletim sistemi olan ve bunu karşıya ve/veya genelleştirilmiş ayarıyla yakalanan durumunda hataları olmayacak.</span><span class="sxs-lookup"><span data-stu-id="557f1-111">**Y:** If the OS is Windows generalized, and it is uploaded and/or captured with the generalized setting, then there won’t be any errors.</span></span> <span data-ttu-id="557f1-112">Benzer şekilde, işletim sistemi ise Windows özelleştirilmiş ve bunu karşıya ve/veya özel ayarlarla yakalanan ardından hataları olmayacak.</span><span class="sxs-lookup"><span data-stu-id="557f1-112">Similarly, if the OS is Windows specialized, and it is uploaded and/or captured with the specialized setting, then there won’t be any errors.</span></span>

<span data-ttu-id="557f1-113">**Karşıya yükleme hataları:**</span><span class="sxs-lookup"><span data-stu-id="557f1-113">**Upload Errors:**</span></span>

<span data-ttu-id="557f1-114">**N<sup>1</sup>:** genelleştirilmiş Windows işletim sistemi ise ve olarak karşıya özelleştirilmiş, OOBE ekranında takılmış VM ile bir sağlama zaman aşımı hatası alırsınız.</span><span class="sxs-lookup"><span data-stu-id="557f1-114">**N<sup>1</sup>:** If the OS is Windows generalized, and it is uploaded as specialized, you will get a provisioning timeout error with the VM stuck at the OOBE screen.</span></span>

<span data-ttu-id="557f1-115">**N<sup>2</sup>:** işletim sistemi Windows özelleştirilmiş ve genelleştirilmiş gibi karşıya varsa, yeni VM özgün bilgisayar adı, kullanıcı adı ve parola ile çalıştığı için OOBE ekranında takılmış VM ile sağlama bir hata alırsınız.</span><span class="sxs-lookup"><span data-stu-id="557f1-115">**N<sup>2</sup>:** If the OS is Windows specialized, and it is uploaded as generalized, you will get a provisioning failure error with the VM stuck at the OOBE screen because the new VM is running with the original computer name, username and password.</span></span>

<span data-ttu-id="557f1-116">**Çözüm:**</span><span class="sxs-lookup"><span data-stu-id="557f1-116">**Resolution:**</span></span>

<span data-ttu-id="557f1-117">Her iki bu hataları gidermek için özgün VHD, mevcut şirket içi, işletim sistemi (genelleştirilmiş/özel) olarak aynı ayarı ile karşıya yükleyin.</span><span class="sxs-lookup"><span data-stu-id="557f1-117">To resolve both these errors, upload the original VHD, available on-prem, with the same setting as that for the OS (generalized/specialized).</span></span> <span data-ttu-id="557f1-118">Genelleştirilmiş gibi karşıya yüklemek için öncelikle, sysprep çalıştırılamıyor unutmayın.</span><span class="sxs-lookup"><span data-stu-id="557f1-118">To upload as generalized, remember to run sysprep first.</span></span> <span data-ttu-id="557f1-119">Bkz: [Azure için Windows Server VHD oluşturun ve yükleyin](createupload-vhd.md) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="557f1-119">See [Create and upload a Windows Server VHD to Azure](createupload-vhd.md) for more information.</span></span>

<span data-ttu-id="557f1-120">**Hata yakalama:**</span><span class="sxs-lookup"><span data-stu-id="557f1-120">**Capture Errors:**</span></span>

<span data-ttu-id="557f1-121">**N<sup>3</sup>:** genelleştirilmiş Windows işletim sistemi ise ve olarak yakalanan orijinal VM kullanılabilir olmadığından genelleştirilmiş olarak işaretlenen gibi özelleştirilmiş, sağlama zaman aşımı hatası alırsınız.</span><span class="sxs-lookup"><span data-stu-id="557f1-121">**N<sup>3</sup>:** If the OS is Windows generalized, and it is captured as specialized, you will get a provisioning timeout error because the original VM is not usable as it is marked as generalized.</span></span>

<span data-ttu-id="557f1-122">**N<sup>4</sup>:** Windows özelleştirilmiş ve genelleştirilmiş gibi yakalanan işletim sistemi ise, yeni VM özgün bilgisayar adı, kullanıcı adı ve parola ile çalıştığı için sağlama bir hata alırsınız.</span><span class="sxs-lookup"><span data-stu-id="557f1-122">**N<sup>4</sup>:** If the OS is Windows specialized, and it is captured as generalized, you will get a provisioning failure error because the new VM is running with the original computer name, username and password.</span></span> <span data-ttu-id="557f1-123">İşaretlendiğinden Ayrıca, orijinal VM kullanılamaz olarak özelleştirilmiş.</span><span class="sxs-lookup"><span data-stu-id="557f1-123">Also, the original VM is not usable because it is marked as specialized.</span></span>

<span data-ttu-id="557f1-124">**Çözüm:**</span><span class="sxs-lookup"><span data-stu-id="557f1-124">**Resolution:**</span></span>

<span data-ttu-id="557f1-125">Her iki bu hataları gidermek için geçerli görüntü Portalı'ndan silmek ve [geçerli VHD'leri yeniden yakalar](capture-image.md) ayarıyla aynı olarak işletim sistemi (genelleştirilmiş/özel) için.</span><span class="sxs-lookup"><span data-stu-id="557f1-125">To resolve both these errors, delete the current image from the portal, and [recapture it from the current VHDs](capture-image.md) with the same setting as that for the OS (generalized/specialized).</span></span>

## <a name="issue-custom-gallery-marketplace-image-allocation-failure"></a><span data-ttu-id="557f1-126">Sorun: Özel / Galeri / Market görüntüsü; ayırma hatası</span><span class="sxs-lookup"><span data-stu-id="557f1-126">Issue: Custom/ gallery/ marketplace image; allocation failure</span></span>
<span data-ttu-id="557f1-127">Bu hata, isteği gerçekleştirmek için kullanılabilir boş alan yok veya istenen VM boyutu destekleyemez bir kümeye yeni VM istek gönderildiğinde durumlarda ortaya çıkar.</span><span class="sxs-lookup"><span data-stu-id="557f1-127">This error arises in situations when the new VM request is sent to a cluster that either does not have available free space to accommodate the request, or cannot support the VM size being requested.</span></span> <span data-ttu-id="557f1-128">Farklı dizi sanal makineleri aynı bulut hizmetindeki karışık mümkün değildir.</span><span class="sxs-lookup"><span data-stu-id="557f1-128">It is not possible to mix different series of VMs in the same cloud service.</span></span> <span data-ttu-id="557f1-129">Bulut hizmetinizi desteği ne değerinden farklı bir boyutta yeni bir VM oluşturmak istiyorsanız, bu nedenle işlem isteği başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="557f1-129">So if you want to create a new VM of a different size than what your cloud service can support, the compute request will fail.</span></span>

<span data-ttu-id="557f1-130">Yeni bir VM oluşturmak için kullandığınız bulut hizmeti kısıtlamaları bağlı olarak, iki durumlardan biri nedeniyle hatayla karşılaşabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="557f1-130">Depending on the constraints of the cloud service you use to create the new VM, you might encounter an error caused by one of two situations.</span></span>

<span data-ttu-id="557f1-131">**1. neden:** bulut hizmeti için belirli bir kümeyi sabitlenmiş veya bunu bir benzeşim grubuna bağlı ve bu nedenle belirli bir kümeye tasarım gereği sabitlenir.</span><span class="sxs-lookup"><span data-stu-id="557f1-131">**Cause 1:** The cloud service is pinned to a specific cluster, or it is linked to an affinity group, and hence pinned to a specific cluster by design.</span></span> <span data-ttu-id="557f1-132">Benzeşim grubu çalıştı varolan kaynakları barındırıldığı kümede, böylece yeni işlem kaynağı ister.</span><span class="sxs-lookup"><span data-stu-id="557f1-132">So new compute resource requests in that affinity group are tried in the same cluster where the existing resources are hosted.</span></span> <span data-ttu-id="557f1-133">Ancak, aynı küme değil istenen VM boyutu desteklemek veya oluşan bir ayırma hata yeterli kullanılabilir alan vardır.</span><span class="sxs-lookup"><span data-stu-id="557f1-133">However, the same cluster may either not support the requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="557f1-134">Yeni kaynaklar var olan bir bulut hizmetini veya yeni bir bulut hizmeti aracılığıyla oluşturulan bu geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="557f1-134">This is true whether the new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="557f1-135">**Çözüm 1:**</span><span class="sxs-lookup"><span data-stu-id="557f1-135">**Resolution 1:**</span></span>

* <span data-ttu-id="557f1-136">Yeni bir bulut hizmeti oluşturun ve bir bölge veya bölge tabanlı bir sanal ağ ile ilişkilendirin.</span><span class="sxs-lookup"><span data-stu-id="557f1-136">Create a new cloud service and associate it with either a region or a region-based virtual network.</span></span>
* <span data-ttu-id="557f1-137">Yeni bir VM yeni bulut hizmeti oluşturun.</span><span class="sxs-lookup"><span data-stu-id="557f1-137">Create a new VM in the new cloud service.</span></span>
  <span data-ttu-id="557f1-138">Yeni bir bulut hizmeti oluşturmaya çalışırken bir hata alırsanız, daha sonra yeniden deneyin veya Bulut hizmeti için bölge değiştirin.</span><span class="sxs-lookup"><span data-stu-id="557f1-138">If you get an error when trying to create a new cloud service, either retry at a later time or change the region for the cloud service.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="557f1-139">Var olan bir bulut hizmetinde yeni bir VM oluşturmaya çalıştığınız ancak uygulanamadı ve yeni VM için yeni bir bulut hizmeti oluşturması gerekiyordu, aynı bulut hizmetindeki tüm Vm'leriniz birleştirmek seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="557f1-139">If you were trying to create a new VM in an existing cloud service but couldn’t, and had to create a new cloud service for your new VM, you can choose to consolidate all your VMs in the same cloud service.</span></span> <span data-ttu-id="557f1-140">Bunu yapmak için var olan bulut hizmetindeki sanal makineleri silin ve bunların disklerden yeni bulut hizmeti onları yeniden yakalar.</span><span class="sxs-lookup"><span data-stu-id="557f1-140">To do so, delete the VMs in the existing cloud service, and recapture them from their disks in the new cloud service.</span></span> <span data-ttu-id="557f1-141">Ancak, bunlar şu anda mevcut bulut hizmeti için bu bilgileri kullanan tüm bağımlılıkları için güncelleştirmeniz gerekir böylece yeni bulut hizmeti yeni bir ad ve VIP, olacaktır unutmamak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="557f1-141">However, it is important to remember that the new cloud service will have a new name and VIP, so you will need to update these for all the dependencies that currently use this information for the existing cloud service.</span></span>
> 
> 

<span data-ttu-id="557f1-142">**Neden 2:** bulut hizmeti için belirli bir kümeyi tasarım gereği sabitlendi böylece bir benzeşim grubuna bağlı sanal ağ ile ilişkilidir.</span><span class="sxs-lookup"><span data-stu-id="557f1-142">**Cause 2:** The cloud service is associated with a virtual network that is linked to an affinity group, so it is pinned to a specific cluster by design.</span></span> <span data-ttu-id="557f1-143">Benzeşim grubu bu nedenle çalıştı varolan kaynakları barındırıldığı kümesinde, tüm yeni işlem kaynak ister.</span><span class="sxs-lookup"><span data-stu-id="557f1-143">All new compute resource requests in that affinity group are therefore tried in the same cluster where the existing resources are hosted.</span></span> <span data-ttu-id="557f1-144">Ancak, aynı küme değil istenen VM boyutu desteklemek veya oluşan bir ayırma hata yeterli kullanılabilir alan vardır.</span><span class="sxs-lookup"><span data-stu-id="557f1-144">However, the same cluster may either not support the requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="557f1-145">Yeni kaynaklar var olan bir bulut hizmetini veya yeni bir bulut hizmeti aracılığıyla oluşturulan bu geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="557f1-145">This is true whether the new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="557f1-146">**Çözüm 2:**</span><span class="sxs-lookup"><span data-stu-id="557f1-146">**Resolution 2:**</span></span>

* <span data-ttu-id="557f1-147">Yeni bir bölgesel sanal ağ oluşturun.</span><span class="sxs-lookup"><span data-stu-id="557f1-147">Create a new regional virtual network.</span></span>
* <span data-ttu-id="557f1-148">Yeni VM yeni sanal ağı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="557f1-148">Create the new VM in the new virtual network.</span></span>
* <span data-ttu-id="557f1-149">[Varolan sanal ağınıza bağlamak](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) yeni sanal ağ.</span><span class="sxs-lookup"><span data-stu-id="557f1-149">[Connect your existing virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) to the new virtual network.</span></span> <span data-ttu-id="557f1-150">Daha fazla gördükleri hakkında [bölgesel sanal ağlar](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="557f1-150">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span> <span data-ttu-id="557f1-151">Alternatif olarak, [benzeşim grubu tabanlı sanal ağınızı bölgesel bir sanal ağa geçirmeniz](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/)ve ardından yeni bir VM oluşturun.</span><span class="sxs-lookup"><span data-stu-id="557f1-151">Alternatively, you can [migrate your affinity-group-based virtual network to a regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then create the new VM.</span></span>

## <a name="next-steps"></a><span data-ttu-id="557f1-152">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="557f1-152">Next steps</span></span>
<span data-ttu-id="557f1-153">Durdurulmuş bir Windows VM başlattığınızda veya varolan bir Windows VM Azure ile yeniden boyutlandırın sorunlarıyla karşılaşırsanız bkz [yeniden başlatmayı veya mevcut bir Windows sanal makine azure'da yeniden boyutlandırma Klasik dağıtım sorunlarını giderme](virtual-machines-windows-classic-restart-resize-error-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="557f1-153">If you encounter issues when you start a stopped Windows VM or resize an existing Windows VM in Azure, see [Troubleshoot classic deployment issues with restarting or resizing an existing Windows Virtual Machine in Azure](virtual-machines-windows-classic-restart-resize-error-troubleshooting.md).</span></span>

