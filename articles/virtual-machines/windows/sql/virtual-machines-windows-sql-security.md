---
title: "aaaSecurity Azure SQL Server'da dikkate alınacak noktalar | Microsoft Docs"
description: "Bu konu, bir Azure sanal makinede çalışan SQL Server güvenliğini sağlamaya yönelik genel rehberlik sağlar."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: d710c296-e490-43e7-8ca9-8932586b71da
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/02/2017
ms.author: jroth
ms.openlocfilehash: 14c3d828fa87446da67beea6d28886de254afe15
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="security-considerations-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="13058-103">Azure Sanal Makineler'de SQL Server için Güvenlikle İlgili Dikkat Edilmesi Gerekenler</span><span class="sxs-lookup"><span data-stu-id="13058-103">Security Considerations for SQL Server in Azure Virtual Machines</span></span>

<span data-ttu-id="13058-104">Bu konu, bir Azure sanal makine (VM) güvenli erişim tooSQL sunucu örnekleri sağlanmasına yardımcı genel güvenlik yönergeleri içerir.</span><span class="sxs-lookup"><span data-stu-id="13058-104">This topic includes overall security guidelines that help establish secure access tooSQL Server instances in an Azure virtual machine (VM).</span></span>

<span data-ttu-id="13058-105">Azure birkaç sektör düzenlemelerini ve bir sanal makinede çalışan SQL Server ile uyumlu bir çözüm toobuild etkinleştirebilirsiniz standartları karşılar.</span><span class="sxs-lookup"><span data-stu-id="13058-105">Azure complies with several industry regulations and standards that can enable you toobuild a compliant solution with SQL Server running in a virtual machine.</span></span> <span data-ttu-id="13058-106">Azure ile Mevzuat uyumluluğu hakkında daha fazla bilgi için bkz: [Azure Güven Merkezi](https://azure.microsoft.com/support/trust-center/).</span><span class="sxs-lookup"><span data-stu-id="13058-106">For information about regulatory compliance with Azure, see [Azure Trust Center](https://azure.microsoft.com/support/trust-center/).</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="control-access-toohello-sql-vm"></a><span data-ttu-id="13058-107">Denetim erişim toohello SQL VM</span><span class="sxs-lookup"><span data-stu-id="13058-107">Control access toohello SQL VM</span></span>

<span data-ttu-id="13058-108">SQL Server sanal makine oluşturduğunuzda, toocarefully nasıl kontrol kimlerin erişimi toohello makine ve tooSQL sunucusu olduğunu göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="13058-108">When you create your SQL Server virtual machine, consider how toocarefully control who has access toohello machine and tooSQL Server.</span></span> <span data-ttu-id="13058-109">Genel olarak, yapmanız gerektiğini hello aşağıdaki:</span><span class="sxs-lookup"><span data-stu-id="13058-109">In general, you should do hello following:</span></span>

- <span data-ttu-id="13058-110">Erişim tooSQL sunucu tooonly hello uygulamaları ve ihtiyacınız olan istemciler kısıtlayın.</span><span class="sxs-lookup"><span data-stu-id="13058-110">Restrict access tooSQL Server tooonly hello applications and clients that need it.</span></span>
- <span data-ttu-id="13058-111">Kullanıcı hesapları ve parolaları yönetmek için en iyi uygulamaları izleyin.</span><span class="sxs-lookup"><span data-stu-id="13058-111">Follow best practices for managing user accounts and passwords.</span></span>

<span data-ttu-id="13058-112">Aşağıdaki bölümlerde hello bu noktaları üzerinden düşünmeye önerileri sağlar.</span><span class="sxs-lookup"><span data-stu-id="13058-112">hello following sections provide suggestions on thinking through these points.</span></span>

## <a name="secure-connections"></a><span data-ttu-id="13058-113">Güvenli bağlantılar</span><span class="sxs-lookup"><span data-stu-id="13058-113">Secure connections</span></span>

<span data-ttu-id="13058-114">Bir galeri görüntüsü ile bir SQL Server sanal makine oluşturduğunuzda, hello **SQL Server bağlantısı** seçeneğini tercih ettiğiniz hello verir **yerel (VM)**, **özel (sanal ağ dahilinde)** , veya **genel (Internet)**.</span><span class="sxs-lookup"><span data-stu-id="13058-114">When you create a SQL Server virtual machine with a gallery image, hello **SQL Server Connectivity** option gives you hello choice of **Local (inside VM)**, **Private (within Virtual Network)**, or **Public (Internet)**.</span></span>

![SQL Server bağlantısı](./media/virtual-machines-windows-sql-security/sql-vm-connectivity-option.png)

<span data-ttu-id="13058-116">Merhaba en iyi güvenlik için senaryonuza hello en kısıtlayıcı seçeneği belirleyin.</span><span class="sxs-lookup"><span data-stu-id="13058-116">For hello best security, choose hello most restrictive option for your scenario.</span></span> <span data-ttu-id="13058-117">SQL Server üzerinde erişen bir uygulama çalıştırıyorsanız, örneğin, aynı VM sonra hello **yerel** hello en güvenli seçenektir.</span><span class="sxs-lookup"><span data-stu-id="13058-117">For example, if you are running an application that accesses SQL Server on hello same VM, then **Local** is hello most secure choice.</span></span> <span data-ttu-id="13058-118">Erişim toohello SQL Server'ı sonra gerektiren bir Azure uygulama çalıştırıyorsanız, **özel** yalnızca belirtilen hello içinde iletişim tooSQL sunucu güvenli hale getirdiği [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="13058-118">If you are running an Azure application that requires access toohello SQL Server, then **Private** secures communication tooSQL Server only within hello specified [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="13058-119">Gerektiriyorsa **ortak** (internest) erişim toohello SQL Server VM, ardından yapma emin toofollow saldırı yüzey alanınızı bu konuda tooreduce diğer en iyi yöntemler.</span><span class="sxs-lookup"><span data-stu-id="13058-119">If you require **Public** (internest) access toohello SQL Server VM, then make sure toofollow other best practices in this topic tooreduce your attack surface area.</span></span>

<span data-ttu-id="13058-120">Merhaba seçilen seçenekleri hello Portalı'nda gelen güvenlik kuralları hello VM'ler üzerinde kullanmak [ağ güvenlik grubu](../../../virtual-network/virtual-networks-nsg.md) (NSG) tooallow veya ağ trafiğini tooyour sanal makine reddedin.</span><span class="sxs-lookup"><span data-stu-id="13058-120">hello selected options in hello portal use inbound security rules on hello VMs [Network Security Group](../../../virtual-network/virtual-networks-nsg.md) (NSG) tooallow or deny network traffic tooyour virtual machine.</span></span> <span data-ttu-id="13058-121">Değiştirin veya yeni gelen NSG kuralları tooallow trafiği toohello SQL Server bağlantı noktası (varsayılan 1433) oluşturun.</span><span class="sxs-lookup"><span data-stu-id="13058-121">You can modify or create new inbound NSG rules tooallow traffic toohello SQL Server port (default 1433).</span></span> <span data-ttu-id="13058-122">Bu bağlantı noktası üzerinden toocommunicate izin verilen belirli IP adreslerini de belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="13058-122">You can also specify specific IP addresses that are allowed toocommunicate over this port.</span></span>

![Ağ güvenlik grubu kuralları](./media/virtual-machines-windows-sql-security/sql-vm-network-security-group-rules.png)

<span data-ttu-id="13058-124">Ayrıca tooNSG toorestrict ağ trafiği kuralları, hello sanal makinede hello Windows Güvenlik Duvarı'nı da kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="13058-124">In addition tooNSG rules toorestrict network traffic, you can also use hello Windows Firewall on hello virtual machine.</span></span>

<span data-ttu-id="13058-125">Uç noktaları hello Klasik dağıtım modeliyle kullanıyorsanız, bunları kullanmıyorsanız hello sanal makine üzerindeki tüm uç noktaları kaldırın.</span><span class="sxs-lookup"><span data-stu-id="13058-125">If you are using endpoints with hello classic deployment model, remove any endpoints on hello virtual machine if you do not use them.</span></span> <span data-ttu-id="13058-126">ACL'ler uç ile kullanma ile ilgili yönergeler için bkz: [uç noktada Yönet hello ACL](../classic/setup-endpoints.md#manage-the-acl-on-an-endpoint).</span><span class="sxs-lookup"><span data-stu-id="13058-126">For instructions on using ACLs with endpoints, see [Manage hello ACL on an endpoint](../classic/setup-endpoints.md#manage-the-acl-on-an-endpoint).</span></span> <span data-ttu-id="13058-127">Bu hello Kaynak Yöneticisi'ni kullanan VM'ler için gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="13058-127">This is not necessary for VMs that use hello Resource Manager.</span></span>

<span data-ttu-id="13058-128">Son olarak, Azure sanal makinesinde SQL Server veritabanı altyapısı hello hello örneği için şifreli bağlantıları etkinleştirmeyi düşünün.</span><span class="sxs-lookup"><span data-stu-id="13058-128">Finally, consider enabling encrypted connections for hello instance of hello SQL Server Database Engine in your Azure virtual machine.</span></span> <span data-ttu-id="13058-129">SQL server örneği ile bir imzalı sertifika yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="13058-129">Configure SQL server instance with a signed certificate.</span></span> <span data-ttu-id="13058-130">Daha fazla bilgi için bkz: [şifreli bağlantıları etkinleştirmek toohello veritabanı altyapısı](https://docs.microsoft.com/sql/database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine) ve [bağlantı dizesi sözdizimi](https://msdn.microsoft.com/library/ms254500.aspx).</span><span class="sxs-lookup"><span data-stu-id="13058-130">For more information, see [Enable Encrypted Connections toohello Database Engine](https://docs.microsoft.com/sql/database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine) and [Connection String Syntax](https://msdn.microsoft.com/library/ms254500.aspx).</span></span>

## <a name="use-a-non-default-port"></a><span data-ttu-id="13058-131">Varsayılan olmayan bağlantı noktası kullanma</span><span class="sxs-lookup"><span data-stu-id="13058-131">Use a non-default port</span></span>

<span data-ttu-id="13058-132">Varsayılan olarak, SQL Server 1433 iyi bilinen bir bağlantı noktasında dinler.</span><span class="sxs-lookup"><span data-stu-id="13058-132">By default, SQL Server listens on a well-known port, 1433.</span></span> <span data-ttu-id="13058-133">Daha yüksek güvenlik için SQL Server toolisten 1401 gibi varsayılan olmayan bir bağlantı noktası yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="13058-133">For increased security, configure SQL Server toolisten on a non-default port, such as 1401.</span></span> <span data-ttu-id="13058-134">Bir SQL Server galeri görüntüsü hello Azure portal'ın sağlarsanız, bu bağlantı noktası hello belirtebilirsiniz **SQL Server ayarları** dikey.</span><span class="sxs-lookup"><span data-stu-id="13058-134">If you provision a SQL Server gallery image in hello Azure portal, you can specify this port in hello **SQL Server settings** blade.</span></span>

<span data-ttu-id="13058-135">tooconfigure bu sağladıktan sonra iki seçeneğiniz vardır:</span><span class="sxs-lookup"><span data-stu-id="13058-135">tooconfigure this after provisioning, you have two options:</span></span>

- <span data-ttu-id="13058-136">Resource Manager VM'ler için seçtiğiniz **SQL Server yapılandırma** hello VM genel bakış dikey penceresinden.</span><span class="sxs-lookup"><span data-stu-id="13058-136">For Resource Manager VMs, you can select **SQL Server configuration** from hello VM overview blade.</span></span> <span data-ttu-id="13058-137">Bu bir seçenek toochange hello bağlantı noktası sağlar.</span><span class="sxs-lookup"><span data-stu-id="13058-137">This provides an option toochange hello port.</span></span>

  ![TCP bağlantı noktası portalında değiştirin](./media/virtual-machines-windows-sql-security/sql-vm-change-tcp-port.png)

- <span data-ttu-id="13058-139">Klasik sanal makineleri veya hello portal ile sağlanan olmayan SQL Server VM'ler için uzaktan toohello VM bağlanarak hello bağlantı noktasını el ile yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="13058-139">For Classic VMs or for SQL Server VMs that were not provisioned with hello portal, you can manually configure hello port by connecting remotely toohello VM.</span></span> <span data-ttu-id="13058-140">Merhaba yapılandırma adımları için bkz: [belirli bir TCP bağlantı noktası üzerinde bir sunucu tooListen yapılandırma](https://docs.microsoft.com/sql/database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port).</span><span class="sxs-lookup"><span data-stu-id="13058-140">For hello configuration steps, see [Configure a Server tooListen on a Specific TCP Port](https://docs.microsoft.com/sql/database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port).</span></span> <span data-ttu-id="13058-141">El ile bu yöntemi kullanırsanız, tooadd Windows Güvenlik duvarı kuralı tooallow gelen trafik, TCP bağlantı noktasını da gerekir.</span><span class="sxs-lookup"><span data-stu-id="13058-141">If you use this manual technique, you also need tooadd a Windows Firewall rule tooallow incoming traffic on that TCP port.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="13058-142">SQL Server bağlantı noktası açık toopublic Internet bağlantıları ise varsayılan olmayan bağlantı noktası belirterek iyi bir fikirdir.</span><span class="sxs-lookup"><span data-stu-id="13058-142">Specifying a non-default port is a good idea if your SQL Server port is open toopublic internet connections.</span></span>

<span data-ttu-id="13058-143">SQL Server varsayılan olmayan bağlantı noktasında dinleme zaman bağladığınızda, başlangıç bağlantı noktası belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="13058-143">When SQL Server is listening on a non-default port, you must specify hello port when you connect.</span></span> <span data-ttu-id="13058-144">Örneğin, burada hello sunucusu IP adresi 13.55.255.255 ve SQL Server 1401 bağlantı noktasında dinleme bir senaryo düşünün.</span><span class="sxs-lookup"><span data-stu-id="13058-144">For example, consider a scenario where hello server IP address is 13.55.255.255 and SQL Server is listening on port 1401.</span></span> <span data-ttu-id="13058-145">tooconnect tooSQL sunucu, belirtirsiniz `13.55.255.255,1401` hello bağlantı dizesinde.</span><span class="sxs-lookup"><span data-stu-id="13058-145">tooconnect tooSQL Server, you would specify `13.55.255.255,1401` in hello connection string.</span></span>

## <a name="manage-accounts"></a><span data-ttu-id="13058-146">Hesapları yönetme</span><span class="sxs-lookup"><span data-stu-id="13058-146">Manage accounts</span></span>

<span data-ttu-id="13058-147">Saldırganlar tooeasily tahmin hesap adlarını veya parolaları istemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="13058-147">You don't want attackers tooeasily guess account names or passwords.</span></span> <span data-ttu-id="13058-148">Aşağıdaki ipuçları toohelp hello kullan:</span><span class="sxs-lookup"><span data-stu-id="13058-148">Use hello following tips toohelp:</span></span>

- <span data-ttu-id="13058-149">Yok adlı bir benzersiz yerel yönetici hesabı oluşturma **yönetici**.</span><span class="sxs-lookup"><span data-stu-id="13058-149">Create a unique local administrator account that is not named **Administrator**.</span></span>

- <span data-ttu-id="13058-150">Karmaşık güçlü parolalar, tüm hesapları için kullanın.</span><span class="sxs-lookup"><span data-stu-id="13058-150">Use complex strong passwords for all your accounts.</span></span> <span data-ttu-id="13058-151">Hakkında daha fazla bilgi için bkz: toocreate güçlü bir parola [güçlü bir parola oluşturmak](https://support.microsoft.com/instantanswers/9bd5223b-efbe-aa95-b15a-2fb37bef637d/create-a-strong-password) makale.</span><span class="sxs-lookup"><span data-stu-id="13058-151">For more information about how toocreate a strong password, see [Create a strong password](https://support.microsoft.com/instantanswers/9bd5223b-efbe-aa95-b15a-2fb37bef637d/create-a-strong-password) article.</span></span>

- <span data-ttu-id="13058-152">Varsayılan olarak, Azure SQL Server sanal makinesine Kurulum sırasında Windows kimlik doğrulaması seçer.</span><span class="sxs-lookup"><span data-stu-id="13058-152">By default, Azure selects Windows Authentication during SQL Server Virtual Machine setup.</span></span> <span data-ttu-id="13058-153">Bu nedenle, hello **SA** oturum açma devre dışı bırakıldı ve bir parola Kurulumu tarafından atanır.</span><span class="sxs-lookup"><span data-stu-id="13058-153">Therefore, hello **SA** login is disabled and a password is assigned by setup.</span></span> <span data-ttu-id="13058-154">Bu hello öneririz **SA** oturum açma bırakılamadı kullanılan veya etkinleştirilemedi.</span><span class="sxs-lookup"><span data-stu-id="13058-154">We recommend that hello **SA** login should not be used or enabled.</span></span> <span data-ttu-id="13058-155">Bir SQL oturum açma görüntülenmesi gerekiyorsa, stratejileri aşağıdaki hello birini kullanın:</span><span class="sxs-lookup"><span data-stu-id="13058-155">If you must have a SQL login, use one of hello following strategies:</span></span>

  - <span data-ttu-id="13058-156">SQL hesabı olan benzersiz bir ad oluşturmak **sysadmin** üyeliği.</span><span class="sxs-lookup"><span data-stu-id="13058-156">Create a SQL account with a unique name that has **sysadmin** membership.</span></span> <span data-ttu-id="13058-157">Merhaba portalından etkinleştirerek bunu yapabilirsiniz **SQL kimlik doğrulaması** sağlama sırasında.</span><span class="sxs-lookup"><span data-stu-id="13058-157">You can do this from hello portal by enabling **SQL Authentication** during provisioning.</span></span>

    > [!TIP] 
    > <span data-ttu-id="13058-158">Sağlama işlemi sırasında SQL kimlik doğrulamasını etkinleştirmezseniz, el ile Merhaba kimlik doğrulama modu çok değiştirmelisiniz**SQL Server ve Windows kimlik doğrulama modu**.</span><span class="sxs-lookup"><span data-stu-id="13058-158">If you do not enable SQL Authentication during provisioning, you must manually change hello authentication mode too**SQL Server and Windows Authentication Mode**.</span></span> <span data-ttu-id="13058-159">Daha fazla bilgi için bkz: [sunucu kimlik doğrulaması modunu değiştirme](https://docs.microsoft.com/sql/database-engine/configure-windows/change-server-authentication-mode).</span><span class="sxs-lookup"><span data-stu-id="13058-159">For more information, see [Change Server Authentication Mode](https://docs.microsoft.com/sql/database-engine/configure-windows/change-server-authentication-mode).</span></span>

  - <span data-ttu-id="13058-160">Merhaba kullanmanız gerekiyorsa **SA** oturum açma, sağlama ve ata yeni güçlü bir parola sonra etkinleştir hello oturum açma.</span><span class="sxs-lookup"><span data-stu-id="13058-160">If you must use hello **SA** login, enable hello login after provisioning and assign a new strong password.</span></span>

## <a name="follow-on-premises-best-practices"></a><span data-ttu-id="13058-161">Şirket içi en iyi uygulamaları izleyin</span><span class="sxs-lookup"><span data-stu-id="13058-161">Follow on-premises best practices</span></span>

<span data-ttu-id="13058-162">Ayrıca toohello uygulamalar bu konuda açıklanan gözden geçirin ve uygun olan yerlerde hello geleneksel şirket içi güvenlik uygulamalarını uygulamak öneririz.</span><span class="sxs-lookup"><span data-stu-id="13058-162">In addition toohello practices described in this topic, we recommend that you review and implement hello traditional on-premises security practices where applicable.</span></span> <span data-ttu-id="13058-163">Daha fazla bilgi için bkz: [bir SQL Server yüklemesi için güvenlik konuları](https://docs.microsoft.com/sql/sql-server/install/security-considerations-for-a-sql-server-installation)</span><span class="sxs-lookup"><span data-stu-id="13058-163">For more information, see [Security Considerations for a SQL Server Installation](https://docs.microsoft.com/sql/sql-server/install/security-considerations-for-a-sql-server-installation)</span></span>

## <a name="next-steps"></a><span data-ttu-id="13058-164">Sonraki Adımlar</span><span class="sxs-lookup"><span data-stu-id="13058-164">Next Steps</span></span>

<span data-ttu-id="13058-165">Ayrıca performans geçici en iyi yöntemler ilgilendiğiniz olup [Azure Virtual Machines'de SQL Server için performans en iyi uygulamaları](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="13058-165">If you are also interested in best practices around performance, see [Performance Best Practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span>

<span data-ttu-id="13058-166">Azure vm'lerinde SQL Server toorunning ilgili diğer konular için bkz: [Azure sanal makinelere genel bakış SQL Server'da](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="13058-166">For other topics related toorunning SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

