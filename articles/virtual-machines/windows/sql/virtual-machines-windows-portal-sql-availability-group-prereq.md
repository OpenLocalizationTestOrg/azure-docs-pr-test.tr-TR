---
title: "aaaSQL sunucu kullanılabilirlik grupları - Azure sanal makineleri - önkoşulları | Microsoft Docs"
description: "Bu öğretici, Azure Vm'lerinde SQL Server Always On kullanılabilirlik oluşturmak için tooconfigure hello Önkoşullar Grup nasıl gösterir."
services: virtual-machines
documentationCenter: na
authors: MikeRayMSFT
manager: jhubbard
editor: monicar
tags: azure-service-management
ms.assetid: c492db4c-3faa-4645-849f-5a1a663be55a
ms.service: virtual-machines-sql
ms.devlang: na
ms.custom: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/09/2017
ms.author: mikeray
ms.openlocfilehash: eed0729ead25c7793bb17a04cd7fd996c7dc8c9d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="complete-hello-prerequisites-for-creating-always-on-availability-groups-on-azure-virtual-machines"></a><span data-ttu-id="57c2b-103">Azure sanal makinelerde Always On kullanılabilirlik grupları oluşturmak için tam hello önkoşulları</span><span class="sxs-lookup"><span data-stu-id="57c2b-103">Complete hello prerequisites for creating Always On availability groups on Azure virtual machines</span></span>

<span data-ttu-id="57c2b-104">Bu öğretici nasıl toocomplete hello oluşturmak için Önkoşullar gösterir bir [SQL Server Always On kullanılabilirlik grubu Azure sanal makinelerde (VM'ler)](virtual-machines-windows-portal-sql-availability-group-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="57c2b-104">This tutorial shows how toocomplete hello prerequisites for creating a [SQL Server Always On availability group on Azure virtual machines (VMs)](virtual-machines-windows-portal-sql-availability-group-tutorial.md).</span></span> <span data-ttu-id="57c2b-105">Bir etki alanı denetleyicisi, iki SQL Server Vm'lerinin ve bir Tanık hello Önkoşullar tamamladığınızda, tek bir kaynak grubu içinde vardır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-105">When you've finished hello prerequisites, you have a domain controller, two SQL Server VMs, and a witness server in a single resource group.</span></span>

<span data-ttu-id="57c2b-106">**Zaman tahmin**: toocomplete hello Önkoşullar birkaç saat sürebilir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-106">**Time estimate**: It might take a couple of hours toocomplete hello prerequisites.</span></span> <span data-ttu-id="57c2b-107">Bu süre çoğunu sanal makinelerin oluşturulmasını harcanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-107">Much of this time is spent creating virtual machines.</span></span>

<span data-ttu-id="57c2b-108">Merhaba Aşağıdaki diyagramda hello öğreticide yapı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-108">hello following diagram illustrates what you build in hello tutorial.</span></span>

![Kullanılabilirlik grubu](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/00-EndstateSampleNoELB.png)

## <a name="review-availability-group-documentation"></a><span data-ttu-id="57c2b-110">Kullanılabilirlik grubu belgelerini gözden geçirin</span><span class="sxs-lookup"><span data-stu-id="57c2b-110">Review availability group documentation</span></span>

<span data-ttu-id="57c2b-111">Bu öğretici, SQL Server Always On kullanılabilirlik grupları temel bilgilere sahip olduğunuzu varsayar.</span><span class="sxs-lookup"><span data-stu-id="57c2b-111">This tutorial assumes that you have a basic understanding of SQL Server Always On availability groups.</span></span> <span data-ttu-id="57c2b-112">Bu teknolojiyle bilmiyorsanız bkz [genel bakış, Always On kullanılabilirlik grupları (SQL Server)](http://msdn.microsoft.com/library/ff877884.aspx).</span><span class="sxs-lookup"><span data-stu-id="57c2b-112">If you're not familiar with this technology, see [Overview of Always On Availability Groups (SQL Server)](http://msdn.microsoft.com/library/ff877884.aspx).</span></span>


## <a name="create-an-azure-account"></a><span data-ttu-id="57c2b-113">Bir Azure hesabı oluşturun</span><span class="sxs-lookup"><span data-stu-id="57c2b-113">Create an Azure account</span></span>
<span data-ttu-id="57c2b-114">Bir Azure hesabınız olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-114">You need an Azure account.</span></span> <span data-ttu-id="57c2b-115">Yapabilecekleriniz [ücretsiz bir Azure hesabı açın](/pricing/free-trial/?WT.mc_id=A261C142F) veya [Visual Studio abone Avantajlarınızı etkinleştirebilir](/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F).</span><span class="sxs-lookup"><span data-stu-id="57c2b-115">You can [open a free Azure account](/pricing/free-trial/?WT.mc_id=A261C142F) or [activate Visual Studio subscriber benefits](/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F).</span></span>

## <a name="create-a-resource-group"></a><span data-ttu-id="57c2b-116">Kaynak grubu oluşturma</span><span class="sxs-lookup"><span data-stu-id="57c2b-116">Create a resource group</span></span>
1. <span data-ttu-id="57c2b-117">İçinde toohello oturum [Azure portal](http://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="57c2b-117">Sign in toohello [Azure portal](http://portal.azure.com).</span></span>
2. <span data-ttu-id="57c2b-118">Tıklatın  **+**  toocreate hello portalında yeni bir nesne.</span><span class="sxs-lookup"><span data-stu-id="57c2b-118">Click **+** toocreate a new object in hello portal.</span></span>

   ![Yeni nesne](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/01-portalplus.png)

3. <span data-ttu-id="57c2b-120">Tür **kaynak grubu** hello içinde **Market** arama penceresi.</span><span class="sxs-lookup"><span data-stu-id="57c2b-120">Type **resource group** in hello **Marketplace** search window.</span></span>

   ![Kaynak grubu](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/01-resourcegroupsymbol.png)
4. <span data-ttu-id="57c2b-122">Tıklatın **kaynak grubu**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-122">Click **Resource group**.</span></span>
5. <span data-ttu-id="57c2b-123">**Oluştur**'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-123">Click **Create**.</span></span>
6. <span data-ttu-id="57c2b-124">Merhaba üzerinde **kaynak grubu** dikey altında **kaynak grubu adı**, hello kaynak grubu için bir ad yazın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-124">On hello **Resource group** blade, under **Resource group name**, type a name for hello resource group.</span></span> <span data-ttu-id="57c2b-125">Örneğin, **sql-ha-rg**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-125">For example, type **sql-ha-rg**.</span></span>
7. <span data-ttu-id="57c2b-126">Birden çok Azure aboneliğiniz varsa, hello abonelik hello toocreate hello kullanılabilirlik grubu istediğiniz Azure aboneliği olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="57c2b-126">If you have multiple Azure subscriptions, verify that hello subscription is hello Azure subscription that you want toocreate hello availability group in.</span></span>
8. <span data-ttu-id="57c2b-127">Bir konum seçin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-127">Select a location.</span></span> <span data-ttu-id="57c2b-128">Merhaba, hello toocreate hello kullanılabilirlik grubu Azure bölgesini konumdur.</span><span class="sxs-lookup"><span data-stu-id="57c2b-128">hello location is hello Azure region where you want toocreate hello availability group.</span></span> <span data-ttu-id="57c2b-129">Bu öğretici için tüm kaynakları tek bir Azure konumda toobuild yapacağız.</span><span class="sxs-lookup"><span data-stu-id="57c2b-129">For this tutorial, we're going toobuild all resources in one Azure location.</span></span>
9. <span data-ttu-id="57c2b-130">Doğrulayın **PIN toodashboard** denetlenir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-130">Verify that **Pin toodashboard** is checked.</span></span> <span data-ttu-id="57c2b-131">Bu isteğe bağlı ayar hello Azure portalı panosunun üzerinde hello kaynak grubu için bir kısayol yerleştirir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-131">This optional setting places a shortcut for hello resource group on hello Azure portal dashboard.</span></span>

   ![Kaynak grubu](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/01-resourcegroup.png)

10. <span data-ttu-id="57c2b-133">Tıklatın **oluşturma** toocreate hello kaynak grubu.</span><span class="sxs-lookup"><span data-stu-id="57c2b-133">Click **Create** toocreate hello resource group.</span></span>

<span data-ttu-id="57c2b-134">Azure hello kaynak grubu ve PIN hello Portalı'nda bir kısayol toohello kaynak grubu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="57c2b-134">Azure creates hello resource group and pins a shortcut toohello resource group in hello portal.</span></span>

## <a name="create-hello-network-and-subnets"></a><span data-ttu-id="57c2b-135">Merhaba ağ ve alt ağlar oluşturun</span><span class="sxs-lookup"><span data-stu-id="57c2b-135">Create hello network and subnets</span></span>
<span data-ttu-id="57c2b-136">Merhaba sonraki toocreate hello ağları ve alt ağlar hello Azure kaynak grubu içinde adımdır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-136">hello next step is toocreate hello networks and subnets in hello Azure resource group.</span></span>

<span data-ttu-id="57c2b-137">Merhaba çözüm iki alt ağa sahip bir sanal ağ kullanır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-137">hello solution uses one virtual network with two subnets.</span></span> <span data-ttu-id="57c2b-138">Merhaba [sanal ağa genel bakış](../../../virtual-network/virtual-networks-overview.md) Azure ağlar hakkında daha fazla bilgi sağlar.</span><span class="sxs-lookup"><span data-stu-id="57c2b-138">hello [Virtual network overview](../../../virtual-network/virtual-networks-overview.md) provides more information about networks in Azure.</span></span>

<span data-ttu-id="57c2b-139">toocreate hello sanal ağ:</span><span class="sxs-lookup"><span data-stu-id="57c2b-139">toocreate hello virtual network:</span></span>

1. <span data-ttu-id="57c2b-140">Merhaba, kaynak grubundaki Azure portal'ı tıklatın **+ Ekle**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-140">In hello Azure portal, in your resource group, click **+ Add**.</span></span> <span data-ttu-id="57c2b-141">Azure açılır hello **her şeyi** dikey.</span><span class="sxs-lookup"><span data-stu-id="57c2b-141">Azure opens hello **Everything** blade.</span></span>

   ![Yeni öğe](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/02-newiteminrg.png)
2. <span data-ttu-id="57c2b-143">Arama **sanal ağ**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-143">Search for **virtual network**.</span></span>

     ![Arama sanal ağ](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/04-findvirtualnetwork.png)
3. <span data-ttu-id="57c2b-145">Tıklatın **sanal ağ**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-145">Click **Virtual network**.</span></span>
4. <span data-ttu-id="57c2b-146">Merhaba üzerinde **sanal ağ** dikey penceresinde hello tıklatın **Resource Manager** dağıtım modeli ve ardından **oluşturma**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-146">On hello **Virtual network** blade, click hello **Resource Manager** deployment model, and then click **Create**.</span></span>

    <span data-ttu-id="57c2b-147">Merhaba aşağıdaki tabloda hello sanal ağ için hello ayarları gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="57c2b-147">hello following table shows hello settings for hello virtual network:</span></span>

   | <span data-ttu-id="57c2b-148">**Alan**</span><span class="sxs-lookup"><span data-stu-id="57c2b-148">**Field**</span></span> | <span data-ttu-id="57c2b-149">Değer</span><span class="sxs-lookup"><span data-stu-id="57c2b-149">Value</span></span> |
   | --- | --- |
   | <span data-ttu-id="57c2b-150">**Ad**</span><span class="sxs-lookup"><span data-stu-id="57c2b-150">**Name**</span></span> |<span data-ttu-id="57c2b-151">autoHAVNET</span><span class="sxs-lookup"><span data-stu-id="57c2b-151">autoHAVNET</span></span> |
   | <span data-ttu-id="57c2b-152">**Adres alanı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-152">**Address space**</span></span> |<span data-ttu-id="57c2b-153">10.33.0.0/24</span><span class="sxs-lookup"><span data-stu-id="57c2b-153">10.33.0.0/24</span></span> |
   | <span data-ttu-id="57c2b-154">**Alt ağ adı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-154">**Subnet name**</span></span> |<span data-ttu-id="57c2b-155">Yönetici</span><span class="sxs-lookup"><span data-stu-id="57c2b-155">Admin</span></span> |
   | <span data-ttu-id="57c2b-156">**Alt ağ adres aralığı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-156">**Subnet address range**</span></span> |<span data-ttu-id="57c2b-157">10.33.0.0/29</span><span class="sxs-lookup"><span data-stu-id="57c2b-157">10.33.0.0/29</span></span> |
   | <span data-ttu-id="57c2b-158">**Abonelik**</span><span class="sxs-lookup"><span data-stu-id="57c2b-158">**Subscription**</span></span> |<span data-ttu-id="57c2b-159">Toouse düşündüğünüz hello abonelik belirtin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-159">Specify hello subscription that you intend toouse.</span></span> <span data-ttu-id="57c2b-160">**Abonelik** yalnızca bir aboneliğiniz varsa boştur.</span><span class="sxs-lookup"><span data-stu-id="57c2b-160">**Subscription** is blank if you only have one subscription.</span></span> |
   | <span data-ttu-id="57c2b-161">**Kaynak grubu**</span><span class="sxs-lookup"><span data-stu-id="57c2b-161">**Resource group**</span></span> |<span data-ttu-id="57c2b-162">Seçin **var olanı kullan** ve hello hello kaynak grubunun adını seçin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-162">Choose **Use existing** and pick hello name of hello resource group.</span></span> |
   | <span data-ttu-id="57c2b-163">**Konum**</span><span class="sxs-lookup"><span data-stu-id="57c2b-163">**Location**</span></span> |<span data-ttu-id="57c2b-164">Hello Azure konumu belirtin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-164">Specify hello Azure location.</span></span> |

   <span data-ttu-id="57c2b-165">Adres alanı ve alt ağ adres aralığınızı hello tablodan farklı olabilir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-165">Your address space and subnet address range might be different from hello table.</span></span> <span data-ttu-id="57c2b-166">Aboneliğinize bağlı olarak, kullanılabilir adres alanı ve karşılık gelen alt ağ adres aralığı hello portal önerir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-166">Depending on your subscription, hello portal suggests an available address space and corresponding subnet address range.</span></span> <span data-ttu-id="57c2b-167">Hiçbir yeterli adres alanı varsa, farklı bir abonelik kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-167">If no sufficient address space is available, use a different subscription.</span></span>

   <span data-ttu-id="57c2b-168">Merhaba örneği kullanan bir alt ağ adı hello **yönetici**. Bu alt ağ hello etki alanı denetleyicileri içindir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-168">hello example uses hello subnet name **Admin**. This subnet is for hello domain controllers.</span></span>

5. <span data-ttu-id="57c2b-169">**Oluştur**'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-169">Click **Create**.</span></span>

   ![Merhaba sanal ağ yapılandırma](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/06-configurevirtualnetwork.png)

<span data-ttu-id="57c2b-171">Azure portalı panosunun toohello döndürür ve hello yeni ağ oluşturulduğunda sizi uyarır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-171">Azure returns you toohello portal dashboard and notifies you when hello new network is created.</span></span>

### <a name="create-a-second-subnet"></a><span data-ttu-id="57c2b-172">İkinci alt ağ oluşturma</span><span class="sxs-lookup"><span data-stu-id="57c2b-172">Create a second subnet</span></span>
<span data-ttu-id="57c2b-173">Merhaba yeni bir sanal ağ olan bir alt ağ, **yönetici**. hello etki alanı denetleyicileri bu alt ağ kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-173">hello new virtual network has one subnet, named **Admin**. hello domain controllers use this subnet.</span></span> <span data-ttu-id="57c2b-174">SQL Server Vm'lerinin Hello kullanmak adlı ikinci bir alt ağ **SQL**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-174">hello SQL Server VMs use a second subnet named **SQL**.</span></span> <span data-ttu-id="57c2b-175">tooconfigure bu alt ağ:</span><span class="sxs-lookup"><span data-stu-id="57c2b-175">tooconfigure this subnet:</span></span>

1. <span data-ttu-id="57c2b-176">Panonuzda, oluşturduğunuz hello kaynak grubu tıklatın **SQL-HA-RG**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-176">On your dashboard, click hello resource group that you created, **SQL-HA-RG**.</span></span> <span data-ttu-id="57c2b-177">Merhaba ağ hello kaynak grubu altında bulun **kaynakları**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-177">Locate hello network in hello resource group under **Resources**.</span></span>

    <span data-ttu-id="57c2b-178">Varsa **SQL-HA-RG** görünmeyen, bunu bulmak **kaynak grupları** ve hello kaynak grubu adına göre filtreleme.</span><span class="sxs-lookup"><span data-stu-id="57c2b-178">If **SQL-HA-RG** isn't visible, find it by clicking **Resource Groups** and filtering by hello resource group name.</span></span>
2. <span data-ttu-id="57c2b-179">Tıklatın **autoHAVNET** kaynakları hello listesinde.</span><span class="sxs-lookup"><span data-stu-id="57c2b-179">Click **autoHAVNET** on hello list of resources.</span></span> <span data-ttu-id="57c2b-180">Azure hello ağ yapılandırma dikey penceresi açılır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-180">Azure opens hello network configuration blade.</span></span>
3. <span data-ttu-id="57c2b-181">Merhaba üzerinde **autoHAVNET** sanal ağ dikey altında **ayarları** , tıklatın **alt ağlar**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-181">On hello **autoHAVNET** virtual network blade, under **Settings** , click **Subnets**.</span></span>

    <span data-ttu-id="57c2b-182">Önceden oluşturulmuş hello alt unutmayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-182">Note hello subnet that you already created.</span></span>

   ![Merhaba sanal ağ yapılandırma](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/07-addsubnet.png)
5. <span data-ttu-id="57c2b-184">İkinci bir alt ağ oluşturun.</span><span class="sxs-lookup"><span data-stu-id="57c2b-184">Create a second subnet.</span></span> <span data-ttu-id="57c2b-185">Tıklatın **+ alt**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-185">Click **+ Subnet**.</span></span>
6. <span data-ttu-id="57c2b-186">Merhaba üzerinde **alt ağ Ekle** dikey penceresinde hello alt yazarak yapılandırın **sqlsubnet** altında **adı**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-186">On hello **Add subnet** blade, configure hello subnet by typing **sqlsubnet** under **Name**.</span></span> <span data-ttu-id="57c2b-187">Azure otomatik olarak belirtir geçerli bir **adres aralığı**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-187">Azure automatically specifies a valid **Address range**.</span></span> <span data-ttu-id="57c2b-188">Bu adres aralığı en az 10 adresleri içinde olduğunu doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-188">Verify that this address range has at least 10 addresses in it.</span></span> <span data-ttu-id="57c2b-189">Bir üretim ortamında, daha fazla adresleri gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-189">In a production environment, you might require more addresses.</span></span>
7. <span data-ttu-id="57c2b-190">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-190">Click **OK**.</span></span>

    ![Merhaba sanal ağ yapılandırma](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/08-configuresubnet.png)

<span data-ttu-id="57c2b-192">Aşağıdaki tablonun hello hello ağ yapılandırması ayarları özetlenmektedir:</span><span class="sxs-lookup"><span data-stu-id="57c2b-192">hello following table summarizes hello network configuration settings:</span></span>

| <span data-ttu-id="57c2b-193">**Alan**</span><span class="sxs-lookup"><span data-stu-id="57c2b-193">**Field**</span></span> | <span data-ttu-id="57c2b-194">Değer</span><span class="sxs-lookup"><span data-stu-id="57c2b-194">Value</span></span> |
| --- | --- |
| <span data-ttu-id="57c2b-195">**Ad**</span><span class="sxs-lookup"><span data-stu-id="57c2b-195">**Name**</span></span> |<span data-ttu-id="57c2b-196">**autoHAVNET**</span><span class="sxs-lookup"><span data-stu-id="57c2b-196">**autoHAVNET**</span></span> |
| <span data-ttu-id="57c2b-197">**Adres alanı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-197">**Address space**</span></span> |<span data-ttu-id="57c2b-198">Bu değer hello kullanılabilir adres alanları aboneliğinizde bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-198">This value depends on hello available address spaces in your subscription.</span></span> <span data-ttu-id="57c2b-199">Tipik bir değer 10.0.0.0/16 ' dir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-199">A typical value is 10.0.0.0/16.</span></span> |
| <span data-ttu-id="57c2b-200">**Alt ağ adı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-200">**Subnet name**</span></span> |<span data-ttu-id="57c2b-201">**Yönetici**</span><span class="sxs-lookup"><span data-stu-id="57c2b-201">**admin**</span></span> |
| <span data-ttu-id="57c2b-202">**Alt ağ adres aralığı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-202">**Subnet address range**</span></span> |<span data-ttu-id="57c2b-203">Bu değer hello kullanılabilir adres aralıklarını aboneliğinizde bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-203">This value depends on hello available address ranges in your subscription.</span></span> <span data-ttu-id="57c2b-204">Tipik bir değer 10.0.0.0/24 ' dir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-204">A typical value is 10.0.0.0/24.</span></span> |
| <span data-ttu-id="57c2b-205">**Alt ağ adı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-205">**Subnet name**</span></span> |<span data-ttu-id="57c2b-206">**sqlsubnet**</span><span class="sxs-lookup"><span data-stu-id="57c2b-206">**sqlsubnet**</span></span> |
| <span data-ttu-id="57c2b-207">**Alt ağ adres aralığı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-207">**Subnet address range**</span></span> |<span data-ttu-id="57c2b-208">Bu değer hello kullanılabilir adres aralıklarını aboneliğinizde bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-208">This value depends on hello available address ranges in your subscription.</span></span> <span data-ttu-id="57c2b-209">Tipik bir değer 10.0.1.0/24 ' dir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-209">A typical value is 10.0.1.0/24.</span></span> |
| <span data-ttu-id="57c2b-210">**Abonelik**</span><span class="sxs-lookup"><span data-stu-id="57c2b-210">**Subscription**</span></span> |<span data-ttu-id="57c2b-211">Toouse düşündüğünüz hello abonelik belirtin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-211">Specify hello subscription that you intend toouse.</span></span> |
| <span data-ttu-id="57c2b-212">**Kaynak Grubu**</span><span class="sxs-lookup"><span data-stu-id="57c2b-212">**Resource Group**</span></span> |<span data-ttu-id="57c2b-213">**SQL-HA-RG**</span><span class="sxs-lookup"><span data-stu-id="57c2b-213">**SQL-HA-RG**</span></span> |
| <span data-ttu-id="57c2b-214">**Konum**</span><span class="sxs-lookup"><span data-stu-id="57c2b-214">**Location**</span></span> |<span data-ttu-id="57c2b-215">Belirtin hello hello kaynak grubu için seçtiğiniz aynı konumu.</span><span class="sxs-lookup"><span data-stu-id="57c2b-215">Specify hello same location that you chose for hello resource group.</span></span> |

## <a name="create-availability-sets"></a><span data-ttu-id="57c2b-216">Kullanılabilirlik kümeleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="57c2b-216">Create availability sets</span></span>

<span data-ttu-id="57c2b-217">Sanal makineleri oluşturmadan önce toocreate kullanılabilirlik kümeleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-217">Before you create virtual machines, you need toocreate availability sets.</span></span> <span data-ttu-id="57c2b-218">Kullanılabilirlik kümeleri, planlı veya plansız bir bakım olayları hello kapalı kalma süresini azaltın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-218">Availability sets reduce hello downtime for planned or unplanned maintenance events.</span></span> <span data-ttu-id="57c2b-219">Bir Azure kullanılabilirlik kümesi, fiziksel hata etki alanları ve güncelleme etki alanına Azure yerleştirir kaynakların mantıksal bir gruptur.</span><span class="sxs-lookup"><span data-stu-id="57c2b-219">An Azure availability set is a logical group of resources that Azure places on physical fault domains and update domains.</span></span> <span data-ttu-id="57c2b-220">Hata etki alanı hello kullanılabilirlik kümesinin hello üyeleri ayrı güç ve ağ kaynaklarına sahip olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="57c2b-220">A fault domain ensures that hello members of hello availability set have separate power and network resources.</span></span> <span data-ttu-id="57c2b-221">Bir güncelleştirme etki alanı hello kullanılabilirlik kümesi üyeleri Merhaba, bakım için aynı duruma olmayan olduğunu sağlar zaman.</span><span class="sxs-lookup"><span data-stu-id="57c2b-221">An update domain ensures that members of hello availability set aren't brought down for maintenance at hello same time.</span></span> <span data-ttu-id="57c2b-222">Daha fazla bilgi için bkz: [hello sanal makinelerin kullanılabilirliğini yönetme](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="57c2b-222">For more information, see [Manage hello availability of virtual machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="57c2b-223">İki kullanılabilirlik kümesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-223">You need two availability sets.</span></span> <span data-ttu-id="57c2b-224">Merhaba etki alanı denetleyicileri için biridir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-224">One is for hello domain controllers.</span></span> <span data-ttu-id="57c2b-225">Merhaba ikinci hello SQL Server VM'ler için değil.</span><span class="sxs-lookup"><span data-stu-id="57c2b-225">hello second is for hello SQL Server VMs.</span></span>

<span data-ttu-id="57c2b-226">Kullanılabilirlik kümesi, gidin toohello kaynak grubu ve tıklayın toocreate **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-226">toocreate an availability set, go toohello resource group and click **Add**.</span></span> <span data-ttu-id="57c2b-227">Filtre Hello sonuçları yazarak **kullanılabilirlik kümesi**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-227">Filter hello results by typing **availability set**.</span></span> <span data-ttu-id="57c2b-228">Tıklatın **kullanılabilirlik kümesi** hello sonuçları ve ardından **oluşturma**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-228">Click **Availability Set** in hello results, and then click **Create**.</span></span>

<span data-ttu-id="57c2b-229">Aşağıdaki tablonun hello toohello parametrelere göre iki kullanılabilirlik kümesi yapılandırın:</span><span class="sxs-lookup"><span data-stu-id="57c2b-229">Configure two availability sets according toohello parameters in hello following table:</span></span>

| <span data-ttu-id="57c2b-230">**Alan**</span><span class="sxs-lookup"><span data-stu-id="57c2b-230">**Field**</span></span> | <span data-ttu-id="57c2b-231">Etki alanı denetleyicisi kullanılabilirlik kümesi</span><span class="sxs-lookup"><span data-stu-id="57c2b-231">Domain controller availability set</span></span> | <span data-ttu-id="57c2b-232">SQL Server kullanılabilirlik kümesi</span><span class="sxs-lookup"><span data-stu-id="57c2b-232">SQL Server availability set</span></span> |
| --- | --- | --- |
| <span data-ttu-id="57c2b-233">**Ad**</span><span class="sxs-lookup"><span data-stu-id="57c2b-233">**Name**</span></span> |<span data-ttu-id="57c2b-234">adavailabilityset</span><span class="sxs-lookup"><span data-stu-id="57c2b-234">adavailabilityset</span></span> |<span data-ttu-id="57c2b-235">sqlavailabilityset</span><span class="sxs-lookup"><span data-stu-id="57c2b-235">sqlavailabilityset</span></span> |
| <span data-ttu-id="57c2b-236">**Kaynak grubu**</span><span class="sxs-lookup"><span data-stu-id="57c2b-236">**Resource group**</span></span> |<span data-ttu-id="57c2b-237">SQL-HA-RG</span><span class="sxs-lookup"><span data-stu-id="57c2b-237">SQL-HA-RG</span></span> |<span data-ttu-id="57c2b-238">SQL-HA-RG</span><span class="sxs-lookup"><span data-stu-id="57c2b-238">SQL-HA-RG</span></span> |
| <span data-ttu-id="57c2b-239">**Hata etki alanları**</span><span class="sxs-lookup"><span data-stu-id="57c2b-239">**Fault domains**</span></span> |<span data-ttu-id="57c2b-240">3</span><span class="sxs-lookup"><span data-stu-id="57c2b-240">3</span></span> |<span data-ttu-id="57c2b-241">3</span><span class="sxs-lookup"><span data-stu-id="57c2b-241">3</span></span> |
| <span data-ttu-id="57c2b-242">**Güncelleme etki alanları**</span><span class="sxs-lookup"><span data-stu-id="57c2b-242">**Update domains**</span></span> |<span data-ttu-id="57c2b-243">5</span><span class="sxs-lookup"><span data-stu-id="57c2b-243">5</span></span> |<span data-ttu-id="57c2b-244">3</span><span class="sxs-lookup"><span data-stu-id="57c2b-244">3</span></span> |

<span data-ttu-id="57c2b-245">Merhaba kullanılabilirlik kümeleri oluşturduktan sonra toohello kaynak grubu hello Azure portalına dönün.</span><span class="sxs-lookup"><span data-stu-id="57c2b-245">After you create hello availability sets, return toohello resource group in hello Azure portal.</span></span>

## <a name="create-domain-controllers"></a><span data-ttu-id="57c2b-246">Etki alanı denetleyicileri oluşturun</span><span class="sxs-lookup"><span data-stu-id="57c2b-246">Create domain controllers</span></span>
<span data-ttu-id="57c2b-247">Merhaba ağ, alt ağlar, kullanılabilirlik kümeleri ve bir Internet'e yönelik Yük Dengeleyici oluşturduktan sonra hazır toocreate hello sanal makineleri hello etki alanı denetleyicileri için demektir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-247">After you've created hello network, subnets, availability sets, and an Internet-facing load balancer, you're ready toocreate hello virtual machines for hello domain controllers.</span></span>

### <a name="create-virtual-machines-for-hello-domain-controllers"></a><span data-ttu-id="57c2b-248">Etki alanı denetleyicileri hello için sanal makineler oluşturun</span><span class="sxs-lookup"><span data-stu-id="57c2b-248">Create virtual machines for hello domain controllers</span></span>
<span data-ttu-id="57c2b-249">toocreate ve hello etki alanı denetleyicileri yapılandırın, toohello **SQL-HA-RG** kaynak grubu.</span><span class="sxs-lookup"><span data-stu-id="57c2b-249">toocreate and configure hello domain controllers, return toohello **SQL-HA-RG** resource group.</span></span>

1. <span data-ttu-id="57c2b-250">**Ekle**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-250">Click **Add**.</span></span> <span data-ttu-id="57c2b-251">Merhaba **her şeyi** dikey pencere açılır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-251">hello **Everything** blade opens.</span></span>
2. <span data-ttu-id="57c2b-252">Tür **Windows Server 2016 Datacenter**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-252">Type **Windows Server 2016 Datacenter**.</span></span>
3. <span data-ttu-id="57c2b-253">Tıklatın **Windows Server 2016 Datacenter**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-253">Click **Windows Server 2016 Datacenter**.</span></span> <span data-ttu-id="57c2b-254">Merhaba, **Windows Server 2016 Datacenter** dikey penceresinde bu hello dağıtım modeli olduğunu doğrulayın **Resource Manager**ve ardından **oluşturma**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-254">In hello **Windows Server 2016 Datacenter** blade, verify that hello deployment model is **Resource Manager**, and then click **Create**.</span></span> <span data-ttu-id="57c2b-255">Azure açılır hello **sanal makine oluşturma** dikey.</span><span class="sxs-lookup"><span data-stu-id="57c2b-255">Azure opens hello **Create virtual machine** blade.</span></span>

<span data-ttu-id="57c2b-256">Önceki adımları toocreate iki sanal makine hello yineleyin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-256">Repeat hello preceding steps toocreate two virtual machines.</span></span> <span data-ttu-id="57c2b-257">Merhaba iki sanal makine adı:</span><span class="sxs-lookup"><span data-stu-id="57c2b-257">Name hello two virtual machines:</span></span>

* <span data-ttu-id="57c2b-258">ad birincil dc</span><span class="sxs-lookup"><span data-stu-id="57c2b-258">ad-primary-dc</span></span>
* <span data-ttu-id="57c2b-259">ad ikincil dc</span><span class="sxs-lookup"><span data-stu-id="57c2b-259">ad-secondary-dc</span></span>

  > [!NOTE]
  > <span data-ttu-id="57c2b-260">Merhaba **ad ikincil dc** sanal makine isteğe bağlı, Active Directory etki alanı Hizmetleri için yüksek kullanılabilirlik tooprovide.</span><span class="sxs-lookup"><span data-stu-id="57c2b-260">hello **ad-secondary-dc** virtual machine is optional, tooprovide high availability for Active Directory Domain Services.</span></span>
  >
  >

<span data-ttu-id="57c2b-261">Merhaba aşağıdaki tabloda bu iki makine hello ayarları gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="57c2b-261">hello following table shows hello settings for these two machines:</span></span>

| <span data-ttu-id="57c2b-262">**Alan**</span><span class="sxs-lookup"><span data-stu-id="57c2b-262">**Field**</span></span> | <span data-ttu-id="57c2b-263">Değer</span><span class="sxs-lookup"><span data-stu-id="57c2b-263">Value</span></span> |
| --- | --- |
| <span data-ttu-id="57c2b-264">**Ad**</span><span class="sxs-lookup"><span data-stu-id="57c2b-264">**Name**</span></span> |<span data-ttu-id="57c2b-265">İlk etki alanı denetleyicisi: *ad birincil dc*.</span><span class="sxs-lookup"><span data-stu-id="57c2b-265">First domain controller: *ad-primary-dc*.</span></span></br><span data-ttu-id="57c2b-266">İkinci etki alanı denetleyicisi *ad ikincil dc*.</span><span class="sxs-lookup"><span data-stu-id="57c2b-266">Second domain controller *ad-secondary-dc*.</span></span> |
| <span data-ttu-id="57c2b-267">**VM disk türü**</span><span class="sxs-lookup"><span data-stu-id="57c2b-267">**VM disk type**</span></span> |<span data-ttu-id="57c2b-268">SSD</span><span class="sxs-lookup"><span data-stu-id="57c2b-268">SSD</span></span> |
| <span data-ttu-id="57c2b-269">**Kullanıcı adı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-269">**User name**</span></span> |<span data-ttu-id="57c2b-270">Etki alanı yöneticisi</span><span class="sxs-lookup"><span data-stu-id="57c2b-270">DomainAdmin</span></span> |
| <span data-ttu-id="57c2b-271">**Parola**</span><span class="sxs-lookup"><span data-stu-id="57c2b-271">**Password**</span></span> |<span data-ttu-id="57c2b-272">Contoso! 0000</span><span class="sxs-lookup"><span data-stu-id="57c2b-272">Contoso!0000</span></span> |
| <span data-ttu-id="57c2b-273">**Abonelik**</span><span class="sxs-lookup"><span data-stu-id="57c2b-273">**Subscription**</span></span> |<span data-ttu-id="57c2b-274">*Aboneliğiniz*</span><span class="sxs-lookup"><span data-stu-id="57c2b-274">*Your subscription*</span></span> |
| <span data-ttu-id="57c2b-275">**Kaynak grubu**</span><span class="sxs-lookup"><span data-stu-id="57c2b-275">**Resource group**</span></span> |<span data-ttu-id="57c2b-276">SQL-HA-RG</span><span class="sxs-lookup"><span data-stu-id="57c2b-276">SQL-HA-RG</span></span> |
| <span data-ttu-id="57c2b-277">**Konum**</span><span class="sxs-lookup"><span data-stu-id="57c2b-277">**Location**</span></span> |<span data-ttu-id="57c2b-278">*Konumunuz*</span><span class="sxs-lookup"><span data-stu-id="57c2b-278">*Your location*</span></span> |
| <span data-ttu-id="57c2b-279">**Boyut**</span><span class="sxs-lookup"><span data-stu-id="57c2b-279">**Size**</span></span> |<span data-ttu-id="57c2b-280">DS1_V2</span><span class="sxs-lookup"><span data-stu-id="57c2b-280">DS1_V2</span></span> |
| <span data-ttu-id="57c2b-281">**Depolama**</span><span class="sxs-lookup"><span data-stu-id="57c2b-281">**Storage**</span></span> | <span data-ttu-id="57c2b-282">**Yönetilen diskler kullanan** - **Evet**</span><span class="sxs-lookup"><span data-stu-id="57c2b-282">**Use managed disks** - **Yes**</span></span> |
| <span data-ttu-id="57c2b-283">**Sanal ağ**</span><span class="sxs-lookup"><span data-stu-id="57c2b-283">**Virtual network**</span></span> |<span data-ttu-id="57c2b-284">autoHAVNET</span><span class="sxs-lookup"><span data-stu-id="57c2b-284">autoHAVNET</span></span> |
| <span data-ttu-id="57c2b-285">**Alt ağ**</span><span class="sxs-lookup"><span data-stu-id="57c2b-285">**Subnet**</span></span> |<span data-ttu-id="57c2b-286">Yönetici</span><span class="sxs-lookup"><span data-stu-id="57c2b-286">admin</span></span> |
| <span data-ttu-id="57c2b-287">**Genel IP adresi**</span><span class="sxs-lookup"><span data-stu-id="57c2b-287">**Public IP address**</span></span> |<span data-ttu-id="57c2b-288">*Merhaba VM adıyla aynı*</span><span class="sxs-lookup"><span data-stu-id="57c2b-288">*Same name as hello VM*</span></span> |
| <span data-ttu-id="57c2b-289">**Ağ güvenlik grubu**</span><span class="sxs-lookup"><span data-stu-id="57c2b-289">**Network security group**</span></span> |<span data-ttu-id="57c2b-290">*Merhaba VM adıyla aynı*</span><span class="sxs-lookup"><span data-stu-id="57c2b-290">*Same name as hello VM*</span></span> |
| <span data-ttu-id="57c2b-291">**Kullanılabilirlik kümesi**</span><span class="sxs-lookup"><span data-stu-id="57c2b-291">**Availability set**</span></span> |<span data-ttu-id="57c2b-292">adavailabilityset</span><span class="sxs-lookup"><span data-stu-id="57c2b-292">adavailabilityset</span></span> </br><span data-ttu-id="57c2b-293">**Hata etki alanları**: 2</span><span class="sxs-lookup"><span data-stu-id="57c2b-293">**Fault domains**:2</span></span></br><span data-ttu-id="57c2b-294">**Güncelleme etki alanları**: 2</span><span class="sxs-lookup"><span data-stu-id="57c2b-294">**Update domains**:2</span></span>|
| <span data-ttu-id="57c2b-295">**Tanılama**</span><span class="sxs-lookup"><span data-stu-id="57c2b-295">**Diagnostics**</span></span> |<span data-ttu-id="57c2b-296">Etkin</span><span class="sxs-lookup"><span data-stu-id="57c2b-296">Enabled</span></span> |
| <span data-ttu-id="57c2b-297">**Tanılama depolama hesabı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-297">**Diagnostics storage account**</span></span> |<span data-ttu-id="57c2b-298">*Otomatik olarak oluşturulur*</span><span class="sxs-lookup"><span data-stu-id="57c2b-298">*Automatically created*</span></span> |

   >[!IMPORTANT]
   ><span data-ttu-id="57c2b-299">Bu gibi durumlarda, bir VM yalnızca kullanılabilirlik oluşturduğunuzda kümesi içinde yerleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57c2b-299">You can only place a VM in an availability set when you create it.</span></span> <span data-ttu-id="57c2b-300">Merhaba kullanılabilirlik VM oluşturulduktan sonra değiştirilemez.</span><span class="sxs-lookup"><span data-stu-id="57c2b-300">You can't change hello availability set after a VM is created.</span></span> <span data-ttu-id="57c2b-301">Bkz: [hello sanal makinelerin kullanılabilirliğini yönetme](../manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="57c2b-301">See [Manage hello availability of virtual machines](../manage-availability.md).</span></span>

<span data-ttu-id="57c2b-302">Azure hello sanal makineler oluşturur.</span><span class="sxs-lookup"><span data-stu-id="57c2b-302">Azure creates hello virtual machines.</span></span>

<span data-ttu-id="57c2b-303">Merhaba sanal makine oluşturulduktan sonra hello etki alanı denetleyicisi yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-303">After hello virtual machines are created, configure hello domain controller.</span></span>

### <a name="configure-hello-domain-controller"></a><span data-ttu-id="57c2b-304">Merhaba etki alanı denetleyicisini Yapılandır</span><span class="sxs-lookup"><span data-stu-id="57c2b-304">Configure hello domain controller</span></span>
<span data-ttu-id="57c2b-305">Hello aşağıdaki adımlar, yapılandırma hello **ad birincil dc** corp.contoso.com etki alanı denetleyicisi olarak makine.</span><span class="sxs-lookup"><span data-stu-id="57c2b-305">In hello following steps, configure hello **ad-primary-dc** machine as a domain controller for corp.contoso.com.</span></span>

1. <span data-ttu-id="57c2b-306">Merhaba Hello Portalı'nda açmak **SQL-HA-RG** kaynak grubu ve select hello **ad birincil dc** makine.</span><span class="sxs-lookup"><span data-stu-id="57c2b-306">In hello portal, open hello **SQL-HA-RG** resource group and select hello **ad-primary-dc** machine.</span></span> <span data-ttu-id="57c2b-307">Merhaba üzerinde **ad birincil dc** dikey penceresinde tıklatın **Bağlan** tooopen bir RDP dosyası için Uzak Masaüstü erişimi.</span><span class="sxs-lookup"><span data-stu-id="57c2b-307">On hello **ad-primary-dc** blade, click **Connect** tooopen an RDP file for remote desktop access.</span></span>

    ![Tooa sanal makineye bağlanma](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/20-connectrdp.png)
2. <span data-ttu-id="57c2b-309">Yapılandırılmış Yönetici hesabınızla oturum açın (**\DomainAdmin**) ve parolayı (**Contoso! 0000**).</span><span class="sxs-lookup"><span data-stu-id="57c2b-309">Sign in with your configured administrator account (**\DomainAdmin**) and password (**Contoso!0000**).</span></span>
3. <span data-ttu-id="57c2b-310">Varsayılan olarak, hello **Sunucu Yöneticisi'ni** Pano görüntülenmesi.</span><span class="sxs-lookup"><span data-stu-id="57c2b-310">By default, hello **Server Manager** dashboard should be displayed.</span></span>
4. <span data-ttu-id="57c2b-311">Merhaba tıklatın **rol ve Özellik Ekle** hello Panoda bağlantı.</span><span class="sxs-lookup"><span data-stu-id="57c2b-311">Click hello **Add roles and features** link on hello dashboard.</span></span>

    ![Sunucu Yöneticisi - rolleri Ekle](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/22-addfeatures.png)
5. <span data-ttu-id="57c2b-313">Seçin **sonraki** toohello elde edene kadar **sunucu rolleri** bölümü.</span><span class="sxs-lookup"><span data-stu-id="57c2b-313">Select **Next** until you get toohello **Server Roles** section.</span></span>
6. <span data-ttu-id="57c2b-314">Select hello **Active Directory etki alanı Hizmetleri** ve **DNS sunucusu** rolleri.</span><span class="sxs-lookup"><span data-stu-id="57c2b-314">Select hello **Active Directory Domain Services** and **DNS Server** roles.</span></span> <span data-ttu-id="57c2b-315">İstendiğinde, bu roller için gerekli olan diğer ek özellikleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-315">When you're prompted, add any additional features that are required by these roles.</span></span>

   > [!NOTE]
   > <span data-ttu-id="57c2b-316">Windows, statik IP adresi olduğunu sizi uyarır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-316">Windows warns you that there is no static IP address.</span></span> <span data-ttu-id="57c2b-317">Merhaba yapılandırma test ediyorsanız tıklatın **devam**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-317">If you're testing hello configuration, click **Continue**.</span></span> <span data-ttu-id="57c2b-318">Üretim senaryoları için başlangıç IP adresi toostatic hello Azure portal, ayarlama veya [PowerShell tooset hello statik IP adresi hello etki alanı denetleyicisi makinenin kullanmak](../../../virtual-network/virtual-networks-reserved-private-ip.md).</span><span class="sxs-lookup"><span data-stu-id="57c2b-318">For production scenarios, set hello IP address toostatic in hello Azure portal, or [use PowerShell tooset hello static IP address of hello domain controller machine](../../../virtual-network/virtual-networks-reserved-private-ip.md).</span></span>
   >
   >

    ![Rolleri iletişim ekleyin](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/23-addroles.png)
7. <span data-ttu-id="57c2b-320">Tıklatın **sonraki** hello ulaşana kadar **onay** bölümü.</span><span class="sxs-lookup"><span data-stu-id="57c2b-320">Click **Next** until you reach hello **Confirmation** section.</span></span> <span data-ttu-id="57c2b-321">Select hello **otomatik olarak yeniden başlatma hello hedef sunucu** onay kutusu.</span><span class="sxs-lookup"><span data-stu-id="57c2b-321">Select hello **Restart hello destination server automatically if required** check box.</span></span>
8. <span data-ttu-id="57c2b-322">**Yükle**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-322">Click **Install**.</span></span>
9. <span data-ttu-id="57c2b-323">Yükleme, dönüş toohello Hello özellikleri tamamladıktan sonra **Sunucu Yöneticisi'ni** Pano.</span><span class="sxs-lookup"><span data-stu-id="57c2b-323">After hello features finish installing, return toohello **Server Manager** dashboard.</span></span>
10. <span data-ttu-id="57c2b-324">Select hello yeni **AD DS** hello sol bölmede seçeneği.</span><span class="sxs-lookup"><span data-stu-id="57c2b-324">Select hello new **AD DS** option on hello left-hand pane.</span></span>
11. <span data-ttu-id="57c2b-325">Merhaba tıklatın **daha fazla** hello sarı uyarı çubuğundaki bağlantı.</span><span class="sxs-lookup"><span data-stu-id="57c2b-325">Click hello **More** link on hello yellow warning bar.</span></span>

    ![AD DS iletişim kutusunda hello DNS sunucusu VM](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/24-addsmore.png)
12. <span data-ttu-id="57c2b-327">Merhaba, **eylem** hello sütunu **tüm sunucu görev ayrıntıları** iletişim kutusunda, tıklatın **bu sunucu tooa etki alanı denetleyicisini**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-327">In hello **Action** column of hello **All Server Task Details** dialog, click **Promote this server tooa domain controller**.</span></span>
13. <span data-ttu-id="57c2b-328">Merhaba, **Active Directory etki alanı Hizmetleri Yapılandırma Sihirbazı**, hello aşağıdaki değerleri kullanın:</span><span class="sxs-lookup"><span data-stu-id="57c2b-328">In hello **Active Directory Domain Services Configuration Wizard**, use hello following values:</span></span>

    | <span data-ttu-id="57c2b-329">**Sayfa**</span><span class="sxs-lookup"><span data-stu-id="57c2b-329">**Page**</span></span> | <span data-ttu-id="57c2b-330">Ayar</span><span class="sxs-lookup"><span data-stu-id="57c2b-330">Setting</span></span> |
    | --- | --- |
    | <span data-ttu-id="57c2b-331">**Dağıtım Yapılandırması**</span><span class="sxs-lookup"><span data-stu-id="57c2b-331">**Deployment Configuration**</span></span> |<span data-ttu-id="57c2b-332">**Yeni orman Ekle**</span><span class="sxs-lookup"><span data-stu-id="57c2b-332">**Add a new forest**</span></span><br/> <span data-ttu-id="57c2b-333">**Kök etki alanı adı** corp.contoso.com =</span><span class="sxs-lookup"><span data-stu-id="57c2b-333">**Root domain name** = corp.contoso.com</span></span> |
    | <span data-ttu-id="57c2b-334">**Etki alanı denetleyicisi seçenekleri**</span><span class="sxs-lookup"><span data-stu-id="57c2b-334">**Domain Controller Options**</span></span> |<span data-ttu-id="57c2b-335">**DSRM parolasını** Contoso =! 0000</span><span class="sxs-lookup"><span data-stu-id="57c2b-335">**DSRM Password** = Contoso!0000</span></span><br/><span data-ttu-id="57c2b-336">**Parolayı onaylayın** Contoso =! 0000</span><span class="sxs-lookup"><span data-stu-id="57c2b-336">**Confirm Password** = Contoso!0000</span></span> |
14. <span data-ttu-id="57c2b-337">Tıklatın **sonraki** toogo aracılığıyla hello hello Sihirbazı diğer sayfalar.</span><span class="sxs-lookup"><span data-stu-id="57c2b-337">Click **Next** toogo through hello other pages in hello wizard.</span></span> <span data-ttu-id="57c2b-338">Merhaba üzerinde **Önkoşul denetimi** sayfasında, iletiden hello gördüğünüzü doğrulayın: **tüm önkoşul denetimlerinden başarıyla geçti**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-338">On hello **Prerequisites Check** page, verify that you see hello following message: **All prerequisite checks passed successfully**.</span></span> <span data-ttu-id="57c2b-339">Uygulanabilir tüm uyarı iletilerini gözden geçirebilirsiniz ancak hello yüklemesiyle olası toocontinue değil.</span><span class="sxs-lookup"><span data-stu-id="57c2b-339">You can review any applicable warning messages, but it's possible toocontinue with hello installation.</span></span>
15. <span data-ttu-id="57c2b-340">**Yükle**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-340">Click **Install**.</span></span> <span data-ttu-id="57c2b-341">Merhaba **ad birincil dc** sanal makine otomatik olarak yeniden başlatılır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-341">hello **ad-primary-dc** virtual machine automatically reboots.</span></span>

### <a name="note-hello-ip-address-of-hello-primary-domain-controller"></a><span data-ttu-id="57c2b-342">Merhaba birincil etki alanı denetleyicisinin Hello IP adresini not alın</span><span class="sxs-lookup"><span data-stu-id="57c2b-342">Note hello IP address of hello primary domain controller</span></span>

<span data-ttu-id="57c2b-343">Merhaba birincil etki alanı denetleyicisi, DNS için kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-343">Use hello primary domain controller for DNS.</span></span> <span data-ttu-id="57c2b-344">Merhaba birincil etki alanı denetleyicisi IP adresini not edin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-344">Note hello primary domain controller IP address.</span></span>

<span data-ttu-id="57c2b-345">Tek yönlü tooget hello birincil etki alanı denetleyicisi IP hello Azure portal adresidir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-345">One way tooget hello primary domain controller IP address is through hello Azure portal.</span></span>

1. <span data-ttu-id="57c2b-346">Hello Azure portal, hello kaynak grubu açın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-346">On hello Azure portal, open hello resource group.</span></span>

2. <span data-ttu-id="57c2b-347">Merhaba birincil etki alanı denetleyicisini tıklatın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-347">Click hello primary domain controller.</span></span>

3. <span data-ttu-id="57c2b-348">Merhaba birincil etki alanı denetleyicisi dikey penceresinde **ağ arabirimleri**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-348">On hello primary domain controller blade, click **Network interfaces**.</span></span>

![Ağ arabirimleri](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/25-primarydcip.png)

<span data-ttu-id="57c2b-350">Bu sunucu için özel IP adresi Hello unutmayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-350">Note hello private IP address for this server.</span></span>

### <a name="configure-hello-virtual-network-dns"></a><span data-ttu-id="57c2b-351">Merhaba sanal ağ DNS yapılandırma</span><span class="sxs-lookup"><span data-stu-id="57c2b-351">Configure hello virtual network DNS</span></span>
<span data-ttu-id="57c2b-352">Merhaba ilk etki alanı denetleyicisi oluşturmak ve DNS hello ilk sunucuda etkinleştirme sonra hello sanal ağ toouse bu sunucuyu DNS için yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-352">After you create hello first domain controller and enable DNS on hello first server, configure hello virtual network toouse this server for DNS.</span></span>

1. <span data-ttu-id="57c2b-353">Hello Azure portal, hello sanal ağ'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-353">In hello Azure portal, click on hello virtual network.</span></span>

2. <span data-ttu-id="57c2b-354">Altında **ayarları**, tıklatın **DNS sunucusu**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-354">Under **Settings**, click **DNS Server**.</span></span>

3. <span data-ttu-id="57c2b-355">Tıklatın **özel**ve hello birincil etki alanı denetleyicisi hello özel IP adresini yazın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-355">Click **Custom**, and type hello private IP address of hello primary domain controller.</span></span>

4. <span data-ttu-id="57c2b-356">**Kaydet** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-356">Click **Save**.</span></span>

### <a name="configure-hello-second-domain-controller"></a><span data-ttu-id="57c2b-357">Merhaba ikinci etki alanı denetleyicisi yapılandırma</span><span class="sxs-lookup"><span data-stu-id="57c2b-357">Configure hello second domain controller</span></span>
<span data-ttu-id="57c2b-358">Merhaba birincil etki alanı denetleyicisi yeniden başlatıldıktan sonra ikinci etki alanı denetleyicisi hello yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57c2b-358">After hello primary domain controller reboots, you can configure hello second domain controller.</span></span> <span data-ttu-id="57c2b-359">Bu isteğe bağlı yüksek kullanılabilirlik için bir adımdır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-359">This optional step is for high availability.</span></span> <span data-ttu-id="57c2b-360">Bu adımları tooconfigure hello ikinci etki alanı denetleyicisi izleyin:</span><span class="sxs-lookup"><span data-stu-id="57c2b-360">Follow these steps tooconfigure hello second domain controller:</span></span>

1. <span data-ttu-id="57c2b-361">Merhaba Hello Portalı'nda açmak **SQL-HA-RG** kaynak grubu ve select hello **ad ikincil dc** makine.</span><span class="sxs-lookup"><span data-stu-id="57c2b-361">In hello portal, open hello **SQL-HA-RG** resource group and select hello **ad-secondary-dc** machine.</span></span> <span data-ttu-id="57c2b-362">Merhaba üzerinde **ad ikincil dc** dikey penceresinde tıklatın **Bağlan** tooopen bir RDP dosyası için Uzak Masaüstü erişimi.</span><span class="sxs-lookup"><span data-stu-id="57c2b-362">On hello **ad-secondary-dc** blade, click **Connect** tooopen an RDP file for remote desktop access.</span></span>
2. <span data-ttu-id="57c2b-363">Toohello VM yapılandırılmış yönetici hesabınızı kullanarak oturum (**BUILTIN\DomainAdmin**) ve parolayı (**Contoso! 0000**).</span><span class="sxs-lookup"><span data-stu-id="57c2b-363">Sign in toohello VM by using your configured administrator account (**BUILTIN\DomainAdmin**) and password (**Contoso!0000**).</span></span>
3. <span data-ttu-id="57c2b-364">Değişiklik hello tercih edilen DNS sunucusu adresi toohello adresi hello etki alanı denetleyicisi.</span><span class="sxs-lookup"><span data-stu-id="57c2b-364">Change hello preferred DNS server address toohello address of hello domain controller.</span></span>
4. <span data-ttu-id="57c2b-365">İçinde **ağ ve Paylaşım Merkezi**, hello ağ arabirimi'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-365">In **Network and Sharing Center**, click hello network interface.</span></span>
   <span data-ttu-id="57c2b-366">![Ağ arabirimi](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/26-networkinterface.png)</span><span class="sxs-lookup"><span data-stu-id="57c2b-366">![Network interface](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/26-networkinterface.png)</span></span>

5. <span data-ttu-id="57c2b-367">**Özellikler**'e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-367">Click **Properties**.</span></span>
6. <span data-ttu-id="57c2b-368">Seçin **Internet Protokolü sürüm 4 (TCP/IPv4)** tıklatıp **özellikleri**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-368">Select **Internet Protocol Version 4 (TCP/IPv4)** and click **Properties**.</span></span>
7. <span data-ttu-id="57c2b-369">Seçin **aşağıdaki DNS sunucu adreslerini kullan hello** ve hello birincil etki alanı denetleyicisinin hello adresini belirtin **tercih edilen DNS sunucusu**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-369">Select **Use hello following DNS server addresses** and specify hello address of hello primary domain controller in **Preferred DNS server**.</span></span>
8. <span data-ttu-id="57c2b-370">Tıklatın **Tamam**ve ardından **Kapat** toocommit hello değişiklikleri.</span><span class="sxs-lookup"><span data-stu-id="57c2b-370">Click **OK**, and then **Close** toocommit hello changes.</span></span> <span data-ttu-id="57c2b-371">Artık mümkün toojoin hello VM çok olduğunuz**corp.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-371">You are now able toojoin hello VM too**corp.contoso.com**.</span></span>

   >[!IMPORTANT]
   ><span data-ttu-id="57c2b-372">Merhaba DNS ayarı değiştirdikten sonra hello bağlantı tooyour Uzak Masaüstü kaybederseniz, toohello Azure portal ve yeniden başlatma hello sanal makine gidin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-372">If you lose hello connection tooyour remote desktop after changing hello DNS setting, go toohello Azure portal and restart hello virtual machine.</span></span>

9. <span data-ttu-id="57c2b-373">Merhaba Uzak Masaüstü toohello ikincil etki alanı denetleyicisinden açmak **Sunucu Yöneticisi Panosu**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-373">From hello remote desktop toohello secondary domain controller, open **Server Manager Dashboard**.</span></span>
10. <span data-ttu-id="57c2b-374">Merhaba tıklatın **rol ve Özellik Ekle** hello Panoda bağlantı.</span><span class="sxs-lookup"><span data-stu-id="57c2b-374">Click hello **Add roles and features** link on hello dashboard.</span></span>

    ![Sunucu Yöneticisi - rolleri Ekle](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/22-addfeatures.png)
11. <span data-ttu-id="57c2b-376">Seçin **sonraki** toohello elde edene kadar **sunucu rolleri** bölümü.</span><span class="sxs-lookup"><span data-stu-id="57c2b-376">Select **Next** until you get toohello **Server Roles** section.</span></span>
12. <span data-ttu-id="57c2b-377">Select hello **Active Directory etki alanı Hizmetleri** ve **DNS sunucusu** rolleri.</span><span class="sxs-lookup"><span data-stu-id="57c2b-377">Select hello **Active Directory Domain Services** and **DNS Server** roles.</span></span> <span data-ttu-id="57c2b-378">İstendiğinde, bu roller için gerekli olan diğer ek özellikleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-378">When you're prompted, add any additional features that are required by these roles.</span></span>
13. <span data-ttu-id="57c2b-379">Yükleme, dönüş toohello Hello özellikleri tamamladıktan sonra **Sunucu Yöneticisi'ni** Pano.</span><span class="sxs-lookup"><span data-stu-id="57c2b-379">After hello features finish installing, return toohello **Server Manager** dashboard.</span></span>
14. <span data-ttu-id="57c2b-380">Select hello yeni **AD DS** hello sol bölmede seçeneği.</span><span class="sxs-lookup"><span data-stu-id="57c2b-380">Select hello new **AD DS** option on hello left-hand pane.</span></span>
15. <span data-ttu-id="57c2b-381">Merhaba tıklatın **daha fazla** hello sarı uyarı çubuğundaki bağlantı.</span><span class="sxs-lookup"><span data-stu-id="57c2b-381">Click hello **More** link on hello yellow warning bar.</span></span>
16. <span data-ttu-id="57c2b-382">Merhaba, **eylem** hello sütunu **tüm sunucu görev ayrıntıları** iletişim kutusunda, tıklatın **bu sunucu tooa etki alanı denetleyicisini**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-382">In hello **Action** column of hello **All Server Task Details** dialog, click **Promote this server tooa domain controller**.</span></span>
17. <span data-ttu-id="57c2b-383">Altında **Dağıtım Yapılandırması**seçin **etki alanı denetleyicisi tooan varolan etki alanı eklemek**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-383">Under **Deployment Configuration**, select **Add a domain controller tooan existing domain**.</span></span>
   <span data-ttu-id="57c2b-384">![Dağıtım Yapılandırması](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/28-deploymentconfig.png)</span><span class="sxs-lookup"><span data-stu-id="57c2b-384">![Deployment configuration](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/28-deploymentconfig.png)</span></span>
18. <span data-ttu-id="57c2b-385">**Seç**'e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-385">Click **Select**.</span></span>
19. <span data-ttu-id="57c2b-386">Merhaba yönetici hesabı kullanarak bağlanmak (**CORP. CONTOSO.COM\domainadmin**) ve parolayı (**Contoso! 0000**).</span><span class="sxs-lookup"><span data-stu-id="57c2b-386">Connect by using hello administrator account (**CORP.CONTOSO.COM\domainadmin**) and password (**Contoso!0000**).</span></span>
20. <span data-ttu-id="57c2b-387">İçinde **hello ormandan bir etki alanı seçin**etki alanınızı tıklatın ve ardından **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-387">In **Select a domain from hello forest**, click your domain, and then click **OK**.</span></span>
21. <span data-ttu-id="57c2b-388">İçinde **etki alanı denetleyicisi seçenekleri**, hello varsayılan değerleri kullanın ve DSRM parolasını ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-388">In **Domain Controller Options**, use hello default values and set a DSRM password.</span></span>

   >[!NOTE]
   ><span data-ttu-id="57c2b-389">Merhaba **DNS seçenekleri** sayfa uyar, bu DNS sunucusu için bir temsilci oluşturulamıyor.</span><span class="sxs-lookup"><span data-stu-id="57c2b-389">hello **DNS Options** page might warn you that a delegation for this DNS server can't be created.</span></span> <span data-ttu-id="57c2b-390">Üretim dışı ortamlarında bu uyarıyı yoksayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57c2b-390">You can ignore this warning in non-production environments.</span></span>
22. <span data-ttu-id="57c2b-391">Tıklatın **sonraki** hello iletişim hello ulaşana kadar **Önkoşullar** denetleyin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-391">Click **Next** until hello dialog reaches hello **Prerequisites** check.</span></span> <span data-ttu-id="57c2b-392">Ardından **Yükle**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-392">Then click **Install**.</span></span>

<span data-ttu-id="57c2b-393">Merhaba sunucu hello yapılandırma değişikliklerini bittikten sonra hello sunucuyu yeniden başlatın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-393">After hello server finishes hello configuration changes, restart hello server.</span></span>

### <a name="add-hello-private-ip-address-toohello-second-domain-controller-toohello-vpn-dns-server"></a><span data-ttu-id="57c2b-394">Merhaba özel IP adresi toohello ikinci etki alanı denetleyicisi toohello VPN DNS sunucusu Ekle</span><span class="sxs-lookup"><span data-stu-id="57c2b-394">Add hello Private IP Address toohello second domain controller toohello VPN DNS Server</span></span>

<span data-ttu-id="57c2b-395">Hello Azure portal, sanal ağ altında hello ikincil etki alanı denetleyicisi hello DNS sunucusu tooinclude hello IP adresini değiştirin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-395">In hello Azure portal, under virtual network, change hello DNS Server tooinclude hello IP address of hello secondary domain controller.</span></span> <span data-ttu-id="57c2b-396">Bu hello DNS hizmeti artıklık sağlar.</span><span class="sxs-lookup"><span data-stu-id="57c2b-396">This allows hello DNS service redundancy.</span></span>

### <span data-ttu-id="57c2b-397"><a name=DomainAccounts></a>Merhaba etki alanı hesaplarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="57c2b-397"><a name=DomainAccounts></a> Configure hello domain accounts</span></span>

<span data-ttu-id="57c2b-398">Merhaba sonraki adımlarda hello Active Directory hesaplarını yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-398">In hello next steps, you configure hello Active Directory accounts.</span></span> <span data-ttu-id="57c2b-399">Merhaba aşağıdaki tabloda hello hesapları gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="57c2b-399">hello following table shows hello accounts:</span></span>

| |<span data-ttu-id="57c2b-400">Yükleme hesabı</span><span class="sxs-lookup"><span data-stu-id="57c2b-400">Installation account</span></span><br/> |<span data-ttu-id="57c2b-401">SQLServer-0</span><span class="sxs-lookup"><span data-stu-id="57c2b-401">sqlserver-0</span></span> <br/><span data-ttu-id="57c2b-402">SQL Server ve SQL aracısı hizmet hesabı</span><span class="sxs-lookup"><span data-stu-id="57c2b-402">SQL Server and SQL Agent Service account</span></span> |<span data-ttu-id="57c2b-403">SQLServer-1</span><span class="sxs-lookup"><span data-stu-id="57c2b-403">sqlserver-1</span></span><br/><span data-ttu-id="57c2b-404">SQL Server ve SQL aracısı hizmet hesabı</span><span class="sxs-lookup"><span data-stu-id="57c2b-404">SQL Server and SQL Agent Service account</span></span>
| --- | --- | --- | ---
|<span data-ttu-id="57c2b-405">**İlk adı**</span><span class="sxs-lookup"><span data-stu-id="57c2b-405">**First Name**</span></span> |<span data-ttu-id="57c2b-406">Yükleme</span><span class="sxs-lookup"><span data-stu-id="57c2b-406">Install</span></span> |<span data-ttu-id="57c2b-407">SQLSvc1</span><span class="sxs-lookup"><span data-stu-id="57c2b-407">SQLSvc1</span></span> | <span data-ttu-id="57c2b-408">SQLSvc2</span><span class="sxs-lookup"><span data-stu-id="57c2b-408">SQLSvc2</span></span>
|<span data-ttu-id="57c2b-409">**Kullanıcı SamAccountName**</span><span class="sxs-lookup"><span data-stu-id="57c2b-409">**User SamAccountName**</span></span> |<span data-ttu-id="57c2b-410">Yükleme</span><span class="sxs-lookup"><span data-stu-id="57c2b-410">Install</span></span> |<span data-ttu-id="57c2b-411">SQLSvc1</span><span class="sxs-lookup"><span data-stu-id="57c2b-411">SQLSvc1</span></span> | <span data-ttu-id="57c2b-412">SQLSvc2</span><span class="sxs-lookup"><span data-stu-id="57c2b-412">SQLSvc2</span></span>

<span data-ttu-id="57c2b-413">Aşağıdaki adımları toocreate hello her hesabı kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-413">Use hello following steps toocreate each account.</span></span>

1. <span data-ttu-id="57c2b-414">İçinde toohello oturum **ad birincil dc** makine.</span><span class="sxs-lookup"><span data-stu-id="57c2b-414">Sign in toohello **ad-primary-dc** machine.</span></span>
2. <span data-ttu-id="57c2b-415">İçinde **Sunucu Yöneticisi'ni**seçin **Araçları**ve ardından **Active Directory Yönetim Merkezi'ni**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-415">In **Server Manager**, select **Tools**, and then click **Active Directory Administrative Center**.</span></span>   
3. <span data-ttu-id="57c2b-416">Seçin **corp (yerel)** hello sol bölmesinden.</span><span class="sxs-lookup"><span data-stu-id="57c2b-416">Select **corp (local)** from hello left pane.</span></span>
4. <span data-ttu-id="57c2b-417">Merhaba sağ üzerinde **görevleri** bölmesinde, **yeni**ve ardından **kullanıcı**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-417">On hello right **Tasks** pane, select **New**, and then click **User**.</span></span>
   <span data-ttu-id="57c2b-418">![Active Directory Yönetim Merkezi](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/29-addcnewuser.png)</span><span class="sxs-lookup"><span data-stu-id="57c2b-418">![Active Directory Administrative Center](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/29-addcnewuser.png)</span></span>

   >[!TIP]
   ><span data-ttu-id="57c2b-419">Her hesap için karmaşık bir parola ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-419">Set a complex password for each account.</span></span><br/> <span data-ttu-id="57c2b-420">Üretim dışı ortamlar için kümesi hello kullanıcı hesabı toonever süresi.</span><span class="sxs-lookup"><span data-stu-id="57c2b-420">For non-production environments, set hello user account toonever expire.</span></span>

5. <span data-ttu-id="57c2b-421">Tıklatın **Tamam** toocreate hello kullanıcı.</span><span class="sxs-lookup"><span data-stu-id="57c2b-421">Click **OK** toocreate hello user.</span></span>
6. <span data-ttu-id="57c2b-422">Merhaba her hello üç hesapları için önceki adımları yineleyin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-422">Repeat hello preceding steps for each of hello three accounts.</span></span>

### <a name="grant-hello-required-permissions-toohello-installation-account"></a><span data-ttu-id="57c2b-423">Merhaba gerekli izinleri toohello yükleme hesabı</span><span class="sxs-lookup"><span data-stu-id="57c2b-423">Grant hello required permissions toohello installation account</span></span>
1. <span data-ttu-id="57c2b-424">Merhaba, **Active Directory Yönetim Merkezi'ni**seçin **corp (yerel)** hello sol bölmede.</span><span class="sxs-lookup"><span data-stu-id="57c2b-424">In hello **Active Directory Administrative Center**, select **corp (local)** in hello left pane.</span></span> <span data-ttu-id="57c2b-425">Merhaba sağ sonra **görevleri** bölmesinde tıklatın **özellikleri**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-425">Then in hello right-hand **Tasks** pane, click **Properties**.</span></span>

    ![CORP kullanıcı özellikleri](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/31-addcproperties.png)
2. <span data-ttu-id="57c2b-427">Seçin **uzantıları**ve ardından hello **Gelişmiş** hello düğmesinde **güvenlik** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="57c2b-427">Select **Extensions**, and then click hello **Advanced** button on hello **Security** tab.</span></span>
3. <span data-ttu-id="57c2b-428">Merhaba, **corp için Gelişmiş güvenlik ayarları** iletişim kutusunda, tıklatın **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-428">In hello **Advanced Security Settings for corp** dialog, click **Add**.</span></span>
4. <span data-ttu-id="57c2b-429">Tıklatın **sorumlu Seç**, arama **CORP\Install**ve ardından **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-429">Click **Select a principal**, search for **CORP\Install**, and then click **OK**.</span></span>
5. <span data-ttu-id="57c2b-430">Select hello **tüm özellikleri oku** onay kutusu.</span><span class="sxs-lookup"><span data-stu-id="57c2b-430">Select hello **Read all properties** check box.</span></span>

6. <span data-ttu-id="57c2b-431">Select hello **bilgisayar nesneleri oluşturma** onay kutusu.</span><span class="sxs-lookup"><span data-stu-id="57c2b-431">Select hello **Create Computer objects** check box.</span></span>

     ![Corp kullanıcı izinleri](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/33-addpermissions.png)
7. <span data-ttu-id="57c2b-433">Tıklatın **Tamam**ve ardından **Tamam** yeniden.</span><span class="sxs-lookup"><span data-stu-id="57c2b-433">Click **OK**, and then click **OK** again.</span></span> <span data-ttu-id="57c2b-434">Kapat hello **corp** Özellikler penceresi.</span><span class="sxs-lookup"><span data-stu-id="57c2b-434">Close hello **corp** properties window.</span></span>

<span data-ttu-id="57c2b-435">Active Directory ve hello kullanıcı nesneleri yapılandırma bitirdikten sonra iki SQL Server VM'ler ve Tanık VM oluşturun.</span><span class="sxs-lookup"><span data-stu-id="57c2b-435">Now that you've finished configuring Active Directory and hello user objects, create two SQL Server VMs and a witness server VM.</span></span> <span data-ttu-id="57c2b-436">Ardından, tüm üç toohello etki alanına katılın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-436">Then join all three toohello domain.</span></span>

## <a name="create-sql-server-vms"></a><span data-ttu-id="57c2b-437">SQL Server Vm'lerinin oluşturma</span><span class="sxs-lookup"><span data-stu-id="57c2b-437">Create SQL Server VMs</span></span>

<span data-ttu-id="57c2b-438">Üç ek sanal makineler oluşturun.</span><span class="sxs-lookup"><span data-stu-id="57c2b-438">Create three additional virtual machines.</span></span> <span data-ttu-id="57c2b-439">SQL Server örnekleri iki sanal makinelerle Hello çözümü gerektirir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-439">hello solution requires two virtual machines with SQL Server instances.</span></span> <span data-ttu-id="57c2b-440">Üçüncü sanal makineye bir tanığı olarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-440">A third virtual machine will function as a witness.</span></span> <span data-ttu-id="57c2b-441">Windows Server 2016 kullanabileceğiniz bir [bulut Tanık](http://docs.microsoft.com/windows-server/failover-clustering/deploy-cloud-witness), ancak bu belgenin önceki işletim sistemleri ile tutarlılığını tanığı için bir sanal makine kullanır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-441">Windows Server 2016 can use a [cloud witness](http://docs.microsoft.com/windows-server/failover-clustering/deploy-cloud-witness), however for consistency with previous operating systems this document uses a virtual machine for a witness.</span></span>  

<span data-ttu-id="57c2b-442">Devam etmeden önce deisign kararları aşağıdaki hello göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="57c2b-442">Before you proceed consider hello following deisign decisions.</span></span>

* <span data-ttu-id="57c2b-443">**Depolama - Azure tarafından yönetilen disklerde**</span><span class="sxs-lookup"><span data-stu-id="57c2b-443">**Storage - Azure Managed Disks**</span></span>

   <span data-ttu-id="57c2b-444">Merhaba sanal makine depolama için Azure yönetilen diskleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-444">For hello virtual machine storage, use Azure Managed Disks.</span></span> <span data-ttu-id="57c2b-445">Microsoft SQL Server sanal makineler için yönetilen diskleri önerir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-445">Microsoft recommends Managed Disks for SQL Server virtual machines.</span></span> <span data-ttu-id="57c2b-446">Diskleri tanıtıcılarını depolama hello perde arkasında yönetilen.</span><span class="sxs-lookup"><span data-stu-id="57c2b-446">Managed Disks handles storage behind hello scenes.</span></span> <span data-ttu-id="57c2b-447">Ayrıca, sanal makineleri yönetilen disklerle olduğunda hello aynı kullanılabilirlik kümesi, Azure hello depolama kaynakları tooprovide uygun artıklık dağıtır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-447">In addition, when virtual machines with Managed Disks are in hello same availability set, Azure distributes hello storage resources tooprovide appropriate redundancy.</span></span> <span data-ttu-id="57c2b-448">Daha fazla bilgi için bkz. [Azure Yönetilen Disklere Genel Bakış](../managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="57c2b-448">For additional information, see [Azure Managed Disks Overview](../managed-disks-overview.md).</span></span> <span data-ttu-id="57c2b-449">Bir kullanılabilirlik kümesinde yönetilen diskler hakkında daha fazla ayrıntı için bkz: [bir kullanılabilirlik kümesindeki sanal makineleri için kullanım yönetilen diskleri](../manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="57c2b-449">For specifics about managed disks in an availability set, see [Use Managed Disks for VMs in an availability set](../manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span></span>

* <span data-ttu-id="57c2b-450">**Ağ - üretimde özel IP adresleri**</span><span class="sxs-lookup"><span data-stu-id="57c2b-450">**Network - Private IP addresses in production**</span></span>

   <span data-ttu-id="57c2b-451">Merhaba sanal makineler için Bu öğretici ortak IP adreslerini kullanır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-451">For hello virtual machines, this tutorial uses public IP addresses.</span></span> <span data-ttu-id="57c2b-452">Internet üzerinden toohello sanal makine hello doğrudan bu uzak bağlantı sağlar - yapılandırma adımlarını kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-452">This enables remote connection directly toohello virtual machine over hello internet - it makes configuration steps easier.</span></span> <span data-ttu-id="57c2b-453">Üretim ortamlarında, Microsoft, yalnızca özel IP adresleri sipariş tooreduce hello güvenlik açığı ayak hello SQL Server örneğinin VM kaynak önerir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-453">In production environments, Microsoft recommends only private IP addresses in order tooreduce hello vulnerability footprint of hello SQL Server instance VM resource.</span></span>

### <a name="create-and-configure-hello-sql-server-vms"></a><span data-ttu-id="57c2b-454">Oluşturma ve hello SQL Server Vm'lerinin yapılandırma</span><span class="sxs-lookup"><span data-stu-id="57c2b-454">Create and configure hello SQL Server VMs</span></span>
<span data-ttu-id="57c2b-455">Ardından, üç sanal makineleri--iki SQL Server VM'ler ve ek bir küme düğümüne için bir VM oluşturun.</span><span class="sxs-lookup"><span data-stu-id="57c2b-455">Next, create three VMs--two SQL Server VMs and a VM for an additional cluster node.</span></span> <span data-ttu-id="57c2b-456">toocreate her hello VM'lerin Geri Git toohello **SQL-HA-RG** kaynak grubu, tıklatın **Ekle**, arama hello uygun galeri öğesi için tıklatın **sanal makine**ve ardından tıklatın **Galeri'den**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-456">toocreate each of hello VMs, go back toohello **SQL-HA-RG** resource group, click **Add**, search for hello appropriate gallery item, click **Virtual Machine**, and then click **From Gallery**.</span></span> <span data-ttu-id="57c2b-457">Aşağıdaki tabloda toohelp hello VM'ler oluşturmak hello Hello bilgileri kullanın:</span><span class="sxs-lookup"><span data-stu-id="57c2b-457">Use hello information in hello following table toohelp you create hello VMs:</span></span>


| <span data-ttu-id="57c2b-458">Sayfa</span><span class="sxs-lookup"><span data-stu-id="57c2b-458">Page</span></span> | <span data-ttu-id="57c2b-459">VM1</span><span class="sxs-lookup"><span data-stu-id="57c2b-459">VM1</span></span> | <span data-ttu-id="57c2b-460">VM2</span><span class="sxs-lookup"><span data-stu-id="57c2b-460">VM2</span></span> | <span data-ttu-id="57c2b-461">VM3</span><span class="sxs-lookup"><span data-stu-id="57c2b-461">VM3</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="57c2b-462">Merhaba uygun galeri öğesi seçin</span><span class="sxs-lookup"><span data-stu-id="57c2b-462">Select hello appropriate gallery item</span></span> |<span data-ttu-id="57c2b-463">**Windows Server 2016 Datacenter**</span><span class="sxs-lookup"><span data-stu-id="57c2b-463">**Windows Server 2016 Datacenter**</span></span> |<span data-ttu-id="57c2b-464">**Windows Server 2016 SQL Server 2016 SP1 Enterprise**</span><span class="sxs-lookup"><span data-stu-id="57c2b-464">**SQL Server 2016 SP1 Enterprise on Windows Server 2016**</span></span> |<span data-ttu-id="57c2b-465">**Windows Server 2016 SQL Server 2016 SP1 Enterprise**</span><span class="sxs-lookup"><span data-stu-id="57c2b-465">**SQL Server 2016 SP1 Enterprise on Windows Server 2016**</span></span> |
| <span data-ttu-id="57c2b-466">Sanal Makine Yapılandırması **temelleri**</span><span class="sxs-lookup"><span data-stu-id="57c2b-466">Virtual machine configuration **Basics**</span></span> |<span data-ttu-id="57c2b-467">**Ad** küme fsw =</span><span class="sxs-lookup"><span data-stu-id="57c2b-467">**Name** = cluster-fsw</span></span><br/><span data-ttu-id="57c2b-468">**Kullanıcı adı** DomainAdmin =</span><span class="sxs-lookup"><span data-stu-id="57c2b-468">**User Name** = DomainAdmin</span></span><br/><span data-ttu-id="57c2b-469">**Parola** Contoso =! 0000</span><span class="sxs-lookup"><span data-stu-id="57c2b-469">**Password** = Contoso!0000</span></span><br/><span data-ttu-id="57c2b-470">**Abonelik** aboneliğinizi =</span><span class="sxs-lookup"><span data-stu-id="57c2b-470">**Subscription** = Your subscription</span></span><br/><span data-ttu-id="57c2b-471">**Kaynak grubu** SQL-HA-RG =</span><span class="sxs-lookup"><span data-stu-id="57c2b-471">**Resource group** = SQL-HA-RG</span></span><br/><span data-ttu-id="57c2b-472">**Konum** azure konumunuz =</span><span class="sxs-lookup"><span data-stu-id="57c2b-472">**Location** = Your azure location</span></span> |<span data-ttu-id="57c2b-473">**Ad** sqlserver-0 =</span><span class="sxs-lookup"><span data-stu-id="57c2b-473">**Name** = sqlserver-0</span></span><br/><span data-ttu-id="57c2b-474">**Kullanıcı adı** DomainAdmin =</span><span class="sxs-lookup"><span data-stu-id="57c2b-474">**User Name** = DomainAdmin</span></span><br/><span data-ttu-id="57c2b-475">**Parola** Contoso =! 0000</span><span class="sxs-lookup"><span data-stu-id="57c2b-475">**Password** = Contoso!0000</span></span><br/><span data-ttu-id="57c2b-476">**Abonelik** aboneliğinizi =</span><span class="sxs-lookup"><span data-stu-id="57c2b-476">**Subscription** = Your subscription</span></span><br/><span data-ttu-id="57c2b-477">**Kaynak grubu** SQL-HA-RG =</span><span class="sxs-lookup"><span data-stu-id="57c2b-477">**Resource group** = SQL-HA-RG</span></span><br/><span data-ttu-id="57c2b-478">**Konum** azure konumunuz =</span><span class="sxs-lookup"><span data-stu-id="57c2b-478">**Location** = Your azure location</span></span> |<span data-ttu-id="57c2b-479">**Ad** sqlserver-1 =</span><span class="sxs-lookup"><span data-stu-id="57c2b-479">**Name** = sqlserver-1</span></span><br/><span data-ttu-id="57c2b-480">**Kullanıcı adı** DomainAdmin =</span><span class="sxs-lookup"><span data-stu-id="57c2b-480">**User Name** = DomainAdmin</span></span><br/><span data-ttu-id="57c2b-481">**Parola** Contoso =! 0000</span><span class="sxs-lookup"><span data-stu-id="57c2b-481">**Password** = Contoso!0000</span></span><br/><span data-ttu-id="57c2b-482">**Abonelik** aboneliğinizi =</span><span class="sxs-lookup"><span data-stu-id="57c2b-482">**Subscription** = Your subscription</span></span><br/><span data-ttu-id="57c2b-483">**Kaynak grubu** SQL-HA-RG =</span><span class="sxs-lookup"><span data-stu-id="57c2b-483">**Resource group** = SQL-HA-RG</span></span><br/><span data-ttu-id="57c2b-484">**Konum** azure konumunuz =</span><span class="sxs-lookup"><span data-stu-id="57c2b-484">**Location** = Your azure location</span></span> |
| <span data-ttu-id="57c2b-485">Sanal Makine Yapılandırması **boyutu**</span><span class="sxs-lookup"><span data-stu-id="57c2b-485">Virtual machine configuration **Size**</span></span> |<span data-ttu-id="57c2b-486">**BOYUTU** DS1 =\_V2 (1 çekirdek, 3.5 GB)</span><span class="sxs-lookup"><span data-stu-id="57c2b-486">**SIZE** = DS1\_V2 (1 core, 3.5 GB)</span></span> |<span data-ttu-id="57c2b-487">**BOYUTU** DS2 =\_V2 (2 Çekirdek, 7 GB)</span><span class="sxs-lookup"><span data-stu-id="57c2b-487">**SIZE** = DS2\_V2 (2 cores, 7 GB)</span></span></br><span data-ttu-id="57c2b-488">Merhaba boyutu SSD depolama (Premium disk desteği. desteklemesi gerekir</span><span class="sxs-lookup"><span data-stu-id="57c2b-488">hello size must support SSD storage (Premium disk support.</span></span> <span data-ttu-id="57c2b-489">))</span><span class="sxs-lookup"><span data-stu-id="57c2b-489">))</span></span> |<span data-ttu-id="57c2b-490">**BOYUTU** DS2 =\_V2 (2 Çekirdek, 7 GB)</span><span class="sxs-lookup"><span data-stu-id="57c2b-490">**SIZE** = DS2\_V2 (2 cores, 7 GB)</span></span> |
| <span data-ttu-id="57c2b-491">Sanal Makine Yapılandırması **ayarları**</span><span class="sxs-lookup"><span data-stu-id="57c2b-491">Virtual machine configuration **Settings**</span></span> |<span data-ttu-id="57c2b-492">**Depolama**: yönetilen diskleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-492">**Storage**: Use managed disks.</span></span><br/><span data-ttu-id="57c2b-493">**Sanal ağ** autoHAVNET =</span><span class="sxs-lookup"><span data-stu-id="57c2b-493">**Virtual network** = autoHAVNET</span></span><br/><span data-ttu-id="57c2b-494">**Alt ağ** sqlsubnet(10.1.1.0/24) =</span><span class="sxs-lookup"><span data-stu-id="57c2b-494">**Subnet** = sqlsubnet(10.1.1.0/24)</span></span><br/><span data-ttu-id="57c2b-495">**Genel IP adresi** otomatik olarak oluşturulan.</span><span class="sxs-lookup"><span data-stu-id="57c2b-495">**Public IP address** automatically generated.</span></span><br/><span data-ttu-id="57c2b-496">**Ağ güvenlik grubu** = yok</span><span class="sxs-lookup"><span data-stu-id="57c2b-496">**Network security group** = None</span></span><br/><span data-ttu-id="57c2b-497">**Tanılama izleme** = etkin</span><span class="sxs-lookup"><span data-stu-id="57c2b-497">**Monitoring Diagnostics** = Enabled</span></span><br/><span data-ttu-id="57c2b-498">**Tanılama depolama hesabı** otomatik olarak oluşturulan depolama hesabı kullan =</span><span class="sxs-lookup"><span data-stu-id="57c2b-498">**Diagnostics storage account** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="57c2b-499">**Kullanılabilirlik kümesi** sqlAvailabilitySet =</span><span class="sxs-lookup"><span data-stu-id="57c2b-499">**Availability set** = sqlAvailabilitySet</span></span><br/> |<span data-ttu-id="57c2b-500">**Depolama**: yönetilen diskleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-500">**Storage**: Use managed disks.</span></span><br/><span data-ttu-id="57c2b-501">**Sanal ağ** autoHAVNET =</span><span class="sxs-lookup"><span data-stu-id="57c2b-501">**Virtual network** = autoHAVNET</span></span><br/><span data-ttu-id="57c2b-502">**Alt ağ** sqlsubnet(10.1.1.0/24) =</span><span class="sxs-lookup"><span data-stu-id="57c2b-502">**Subnet** = sqlsubnet(10.1.1.0/24)</span></span><br/><span data-ttu-id="57c2b-503">**Genel IP adresi** otomatik olarak oluşturulan.</span><span class="sxs-lookup"><span data-stu-id="57c2b-503">**Public IP address** automatically generated.</span></span><br/><span data-ttu-id="57c2b-504">**Ağ güvenlik grubu** = yok</span><span class="sxs-lookup"><span data-stu-id="57c2b-504">**Network security group** = None</span></span><br/><span data-ttu-id="57c2b-505">**Tanılama izleme** = etkin</span><span class="sxs-lookup"><span data-stu-id="57c2b-505">**Monitoring Diagnostics** = Enabled</span></span><br/><span data-ttu-id="57c2b-506">**Tanılama depolama hesabı** otomatik olarak oluşturulan depolama hesabı kullan =</span><span class="sxs-lookup"><span data-stu-id="57c2b-506">**Diagnostics storage account** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="57c2b-507">**Kullanılabilirlik kümesi** sqlAvailabilitySet =</span><span class="sxs-lookup"><span data-stu-id="57c2b-507">**Availability set** = sqlAvailabilitySet</span></span><br/> |<span data-ttu-id="57c2b-508">**Depolama**: yönetilen diskleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-508">**Storage**: Use managed disks.</span></span><br/><span data-ttu-id="57c2b-509">**Sanal ağ** autoHAVNET =</span><span class="sxs-lookup"><span data-stu-id="57c2b-509">**Virtual network** = autoHAVNET</span></span><br/><span data-ttu-id="57c2b-510">**Alt ağ** sqlsubnet(10.1.1.0/24) =</span><span class="sxs-lookup"><span data-stu-id="57c2b-510">**Subnet** = sqlsubnet(10.1.1.0/24)</span></span><br/><span data-ttu-id="57c2b-511">**Genel IP adresi** otomatik olarak oluşturulan.</span><span class="sxs-lookup"><span data-stu-id="57c2b-511">**Public IP address** automatically generated.</span></span><br/><span data-ttu-id="57c2b-512">**Ağ güvenlik grubu** = yok</span><span class="sxs-lookup"><span data-stu-id="57c2b-512">**Network security group** = None</span></span><br/><span data-ttu-id="57c2b-513">**Tanılama izleme** = etkin</span><span class="sxs-lookup"><span data-stu-id="57c2b-513">**Monitoring Diagnostics** = Enabled</span></span><br/><span data-ttu-id="57c2b-514">**Tanılama depolama hesabı** otomatik olarak oluşturulan depolama hesabı kullan =</span><span class="sxs-lookup"><span data-stu-id="57c2b-514">**Diagnostics storage account** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="57c2b-515">**Kullanılabilirlik kümesi** sqlAvailabilitySet =</span><span class="sxs-lookup"><span data-stu-id="57c2b-515">**Availability set** = sqlAvailabilitySet</span></span><br/> |
| <span data-ttu-id="57c2b-516">Sanal Makine Yapılandırması **SQL Server ayarları**</span><span class="sxs-lookup"><span data-stu-id="57c2b-516">Virtual machine configuration **SQL Server settings**</span></span> |<span data-ttu-id="57c2b-517">Uygulanamaz</span><span class="sxs-lookup"><span data-stu-id="57c2b-517">Not applicable</span></span> |<span data-ttu-id="57c2b-518">**SQL Bağlantısı** özel (sanal ağ dahilinde) =</span><span class="sxs-lookup"><span data-stu-id="57c2b-518">**SQL connectivity** = Private (within Virtual Network)</span></span><br/><span data-ttu-id="57c2b-519">**Bağlantı noktası** 1433 =</span><span class="sxs-lookup"><span data-stu-id="57c2b-519">**Port** = 1433</span></span><br/><span data-ttu-id="57c2b-520">**SQL kimlik doğrulaması** = devre dışı bırak</span><span class="sxs-lookup"><span data-stu-id="57c2b-520">**SQL Authentication** = Disable</span></span><br/><span data-ttu-id="57c2b-521">**Depolama yapılandırması** genel =</span><span class="sxs-lookup"><span data-stu-id="57c2b-521">**Storage configuration** = General</span></span><br/><span data-ttu-id="57c2b-522">**Otomatik düzeltme eki uygulama** 2: 00'dan Pazar =</span><span class="sxs-lookup"><span data-stu-id="57c2b-522">**Automated patching** = Sunday at 2:00</span></span><br/><span data-ttu-id="57c2b-523">**Otomatik yedekleme** = devre dışı</span><span class="sxs-lookup"><span data-stu-id="57c2b-523">**Automated backup** = Disabled</span></span></br><span data-ttu-id="57c2b-524">**Azure anahtar kasası tümleştirme** = devre dışı</span><span class="sxs-lookup"><span data-stu-id="57c2b-524">**Azure Key Vault integration** = Disabled</span></span> |<span data-ttu-id="57c2b-525">**SQL Bağlantısı** özel (sanal ağ dahilinde) =</span><span class="sxs-lookup"><span data-stu-id="57c2b-525">**SQL connectivity** = Private (within Virtual Network)</span></span><br/><span data-ttu-id="57c2b-526">**Bağlantı noktası** 1433 =</span><span class="sxs-lookup"><span data-stu-id="57c2b-526">**Port** = 1433</span></span><br/><span data-ttu-id="57c2b-527">**SQL kimlik doğrulaması** = devre dışı bırak</span><span class="sxs-lookup"><span data-stu-id="57c2b-527">**SQL Authentication** = Disable</span></span><br/><span data-ttu-id="57c2b-528">**Depolama yapılandırması** genel =</span><span class="sxs-lookup"><span data-stu-id="57c2b-528">**Storage configuration** = General</span></span><br/><span data-ttu-id="57c2b-529">**Otomatik düzeltme eki uygulama** 2: 00'dan Pazar =</span><span class="sxs-lookup"><span data-stu-id="57c2b-529">**Automated patching** = Sunday at 2:00</span></span><br/><span data-ttu-id="57c2b-530">**Otomatik yedekleme** = devre dışı</span><span class="sxs-lookup"><span data-stu-id="57c2b-530">**Automated backup** = Disabled</span></span></br><span data-ttu-id="57c2b-531">**Azure anahtar kasası tümleştirme** = devre dışı</span><span class="sxs-lookup"><span data-stu-id="57c2b-531">**Azure Key Vault integration** = Disabled</span></span> |

<br/>

> [!NOTE]
> <span data-ttu-id="57c2b-532">burada önerilen makine boyutlarını hello kullanılabilirlik grupları Azure Vm'lerde test etmek için yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-532">hello machine sizes suggested here are meant for testing availability groups in Azure VMs.</span></span> <span data-ttu-id="57c2b-533">Merhaba en iyi performans için üretim iş yükleri üzerinde SQL Server makine boyutlarını ve yapılandırmada hello önerilerini görmek [performans Azure sanal makinelerde SQL Server için en iyi uygulamaları](virtual-machines-windows-sql-performance.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="57c2b-533">For hello best performance on production workloads, see hello recommendations for SQL Server machine sizes and configuration in [Performance best practices for SQL Server in Azure virtual machines](virtual-machines-windows-sql-performance.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>
>
>

<span data-ttu-id="57c2b-534">Merhaba üç VM'ler tam olarak sağlandıktan sonra toojoin gereksinim bunları toohello **corp.contoso.com** CORP\Install yönetici hakları toohello makineler etki alanı ve verin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-534">After hello three VMs are fully provisioned, you need toojoin them toohello **corp.contoso.com** domain and grant CORP\Install administrative rights toohello machines.</span></span>

### <span data-ttu-id="57c2b-535"><a name="joinDomain"></a>Merhaba sunucuları toohello etki alanına katılma</span><span class="sxs-lookup"><span data-stu-id="57c2b-535"><a name="joinDomain"></a>Join hello servers toohello domain</span></span>

<span data-ttu-id="57c2b-536">Mümkün toojoin hello artık sanal makineleri çok olduğunuz**corp.contoso.com**. Merhaba aşağıdaki hello SQL Server Vm'lerinin ve hello dosyası Tanık paylaşım:</span><span class="sxs-lookup"><span data-stu-id="57c2b-536">You're now able toojoin hello VMs too**corp.contoso.com**. Do hello following for both hello SQL Server VMs and hello file share witness server:</span></span>

1. <span data-ttu-id="57c2b-537">Toohello sanal makineyle uzaktan bağlantı **BUILTIN\DomainAdmin**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-537">Remotely connect toohello virtual machine with **BUILTIN\DomainAdmin**.</span></span>
2. <span data-ttu-id="57c2b-538">İçinde **Sunucu Yöneticisi'ni**, tıklatın **yerel sunucu**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-538">In **Server Manager**, click **Local Server**.</span></span>
3. <span data-ttu-id="57c2b-539">Merhaba tıklatın **çalışma grubu** bağlantı.</span><span class="sxs-lookup"><span data-stu-id="57c2b-539">Click hello **WORKGROUP** link.</span></span>
4. <span data-ttu-id="57c2b-540">Merhaba, **bilgisayar adı** 'yi tıklatın **değişiklik**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-540">In hello **Computer Name** section, click **Change**.</span></span>
5. <span data-ttu-id="57c2b-541">Select hello **etki alanı** onay kutusunu ve türü **corp.contoso.com** hello metin kutusuna.</span><span class="sxs-lookup"><span data-stu-id="57c2b-541">Select hello **Domain** check box and type **corp.contoso.com** in hello text box.</span></span> <span data-ttu-id="57c2b-542">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-542">Click **OK**.</span></span>
6. <span data-ttu-id="57c2b-543">Merhaba, **Windows Güvenliği** açılan iletişim kutusunda, hello varsayılan etki alanı yöneticisi hesabı hello kimlik bilgilerini belirtin (**CORP\DomainAdmin**) ve hello parola (**Contoso! 0000**).</span><span class="sxs-lookup"><span data-stu-id="57c2b-543">In hello **Windows Security** popup dialog, specify hello credentials for hello default domain administrator account (**CORP\DomainAdmin**) and hello password (**Contoso!0000**).</span></span>
7. <span data-ttu-id="57c2b-544">Merhaba "Hoş Geldiniz toohello corp.contoso.com etki alanında" iletisini gördüğünüzde, tıklatın **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-544">When you see hello "Welcome toohello corp.contoso.com domain" message, click **OK**.</span></span>
8. <span data-ttu-id="57c2b-545">Tıklatın **Kapat**ve ardından **şimdi yeniden Başlat** hello açılan iletişim kutusunda.</span><span class="sxs-lookup"><span data-stu-id="57c2b-545">Click **Close**, and then click **Restart Now** in hello popup dialog.</span></span>

### <a name="add-hello-corpinstall-user-as-an-administrator-on-each-cluster-vm"></a><span data-ttu-id="57c2b-546">Her küme VM üzerinde bir yönetici olarak Hello Corp\Install kullanıcı ekleme</span><span class="sxs-lookup"><span data-stu-id="57c2b-546">Add hello Corp\Install user as an administrator on each cluster VM</span></span>

<span data-ttu-id="57c2b-547">Merhaba etki alanının bir üyesi olarak her sanal makine yeniden başlatıldıktan sonra add **CORP\Install** hello yerel Yöneticiler grubunun bir üyesi olarak.</span><span class="sxs-lookup"><span data-stu-id="57c2b-547">After each virtual machine restarts as a member of hello domain, add **CORP\Install** as a member of hello local administrators group.</span></span>

1. <span data-ttu-id="57c2b-548">Merhaba VM yeniden başlatılıncaya kadar bekleyin, sonra hello RDP dosyasından yeniden hello birincil etki alanı denetleyicisi toosign çok başlatma**sqlserver-0** hello kullanarak **CORP\DomainAdmin** hesabı.</span><span class="sxs-lookup"><span data-stu-id="57c2b-548">Wait until hello VM is restarted, then launch hello RDP file again from hello primary domain controller toosign in too**sqlserver-0** by using hello **CORP\DomainAdmin** account.</span></span>
   >[!TIP]
   ><span data-ttu-id="57c2b-549">Merhaba etki alanı yönetici hesabıyla oturum emin olun.</span><span class="sxs-lookup"><span data-stu-id="57c2b-549">Make sure that you sign in with hello domain administrator account.</span></span> <span data-ttu-id="57c2b-550">Merhaba önceki adımlarda hello YERLEŞİK IN yönetici hesabını kullanarak.</span><span class="sxs-lookup"><span data-stu-id="57c2b-550">In hello previous steps, you were using hello BUILT IN administrator account.</span></span> <span data-ttu-id="57c2b-551">Merhaba sunucu hello etki alanında olduğundan, hello etki alanı hesabı kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-551">Now that hello server is in hello domain, use hello domain account.</span></span> <span data-ttu-id="57c2b-552">RDP oturumunuzda belirtin *etki alanı*\\*kullanıcıadı*.</span><span class="sxs-lookup"><span data-stu-id="57c2b-552">In your RDP session, specify *DOMAIN*\\*username*.</span></span>

2. <span data-ttu-id="57c2b-553">İçinde **Sunucu Yöneticisi'ni**seçin **Araçları**ve ardından **Bilgisayar Yönetimi**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-553">In **Server Manager**, select **Tools**, and then click **Computer Management**.</span></span>
3. <span data-ttu-id="57c2b-554">Merhaba, **Bilgisayar Yönetimi** penceresinde genişletin **yerel kullanıcılar ve gruplar**ve ardından **grupları**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-554">In hello **Computer Management** window, expand **Local Users and Groups**, and then select **Groups**.</span></span>
4. <span data-ttu-id="57c2b-555">Merhaba çift **Yöneticiler** grubu.</span><span class="sxs-lookup"><span data-stu-id="57c2b-555">Double-click hello **Administrators** group.</span></span>
5. <span data-ttu-id="57c2b-556">Merhaba, **Yöneticiler özellikleri** iletişim kutusunda, hello tıklatın **Ekle** düğmesi.</span><span class="sxs-lookup"><span data-stu-id="57c2b-556">In hello **Administrators Properties** dialog, click hello **Add** button.</span></span>
6. <span data-ttu-id="57c2b-557">Merhaba kullanıcı girin **CORP\Install**ve ardından **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-557">Enter hello user **CORP\Install**, and then click **OK**.</span></span>
7. <span data-ttu-id="57c2b-558">Tıklatın **Tamam** tooclose hello **yönetici özellikleri** iletişim.</span><span class="sxs-lookup"><span data-stu-id="57c2b-558">Click **OK** tooclose hello **Administrator Properties** dialog.</span></span>
8. <span data-ttu-id="57c2b-559">Merhaba önceki adımları tekrarlayın **sqlserver-1** ve **küme fsw**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-559">Repeat hello previous steps on **sqlserver-1** and **cluster-fsw**.</span></span>

### <span data-ttu-id="57c2b-560"><a name="setServiceAccount"></a>Merhaba SQL Server hizmet hesapları</span><span class="sxs-lookup"><span data-stu-id="57c2b-560"><a name="setServiceAccount"></a>Set hello SQL Server service accounts</span></span>

<span data-ttu-id="57c2b-561">Her SQL Server VM üzerinde hello SQL Server hizmet hesabı ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-561">On each SQL Server VM, set hello SQL Server service account.</span></span> <span data-ttu-id="57c2b-562">Ne zaman oluşturulan hello hesapları kullanmak, [hello etki alanı hesapları yapılandırılmış](#DomainAccounts).</span><span class="sxs-lookup"><span data-stu-id="57c2b-562">Use hello accounts that you created when you [configured hello domain accounts](#DomainAccounts).</span></span>

1. <span data-ttu-id="57c2b-563">Açık **SQL Server Configuration Manager**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-563">Open **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="57c2b-564">Merhaba SQL Server hizmetini sağ tıklatın ve ardından **özellikleri**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-564">Right-click hello SQL Server service, and then click **Properties**.</span></span>
3. <span data-ttu-id="57c2b-565">Merhaba hesap ve parola ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-565">Set hello account and password.</span></span>
4. <span data-ttu-id="57c2b-566">Diğer SQL Server VM hello bu adımları yineleyin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-566">Repeat these steps on hello other SQL Server VM.</span></span>  

<span data-ttu-id="57c2b-567">SQL Server kullanılabilirlik grupları için her SQL Server VM bir etki alanı hesabı olarak toorun gerekir.</span><span class="sxs-lookup"><span data-stu-id="57c2b-567">For SQL Server availability groups, each SQL Server VM needs toorun as a domain account.</span></span>

### <a name="create-a-sign-in-on-each-sql-server-vm-for-hello-installation-account"></a><span data-ttu-id="57c2b-568">Bir oturum açma hello yükleme hesabı için her bir SQL Server VM oluşturma</span><span class="sxs-lookup"><span data-stu-id="57c2b-568">Create a sign-in on each SQL Server VM for hello installation account</span></span>

<span data-ttu-id="57c2b-569">Merhaba yükleme hesabı (CORP\install) tooconfigure hello kullanılabilirlik grubu kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-569">Use hello installation account (CORP\install) tooconfigure hello availability group.</span></span> <span data-ttu-id="57c2b-570">Bu hesap toobe hello üyesi olmalıdır **sysadmin** her SQL Server VM üzerinde sabit sunucu rolü.</span><span class="sxs-lookup"><span data-stu-id="57c2b-570">This account needs toobe a member of hello **sysadmin** fixed server role on each SQL Server VM.</span></span> <span data-ttu-id="57c2b-571">Merhaba aşağıdaki adımlar bir oturum açma için hello yükleme hesabı oluşturun:</span><span class="sxs-lookup"><span data-stu-id="57c2b-571">hello following steps create a sign-in for hello installation account:</span></span>

1. <span data-ttu-id="57c2b-572">Hello kullanarak Uzak Masaüstü Protokolü (RDP) hello toohello sunucusuna bağlanan  *\<MachineName\>\DomainAdmin* hesabı.</span><span class="sxs-lookup"><span data-stu-id="57c2b-572">Connect toohello server through hello Remote Desktop Protocol (RDP) by using hello *\<MachineName\>\DomainAdmin* account.</span></span>

1. <span data-ttu-id="57c2b-573">SQL Server Management Studio'yu açın ve toohello yerel SQL Server örneğine bağlanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-573">Open SQL Server Management Studio and connect toohello local instance of SQL Server.</span></span>

1. <span data-ttu-id="57c2b-574">İçinde **Object Explorer**, tıklatın **güvenlik**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-574">In **Object Explorer**, click **Security**.</span></span>

1. <span data-ttu-id="57c2b-575">Sağ **oturumları**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-575">Right-click **Logins**.</span></span> <span data-ttu-id="57c2b-576">Tıklatın **yeni oturum açma**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-576">Click **New Login**.</span></span>

1. <span data-ttu-id="57c2b-577">İçinde **yeni oturum açma -**, tıklatın **arama**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-577">In **Login - New**, click **Search**.</span></span>

1. <span data-ttu-id="57c2b-578">Tıklatın **konumları**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-578">Click **Locations**.</span></span>

1. <span data-ttu-id="57c2b-579">Merhaba etki alanı yöneticisi ağ kimlik bilgilerini girin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-579">Enter hello domain administrator network credentials.</span></span>

1. <span data-ttu-id="57c2b-580">Merhaba yükleme hesabı kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-580">Use hello installation account.</span></span>

1. <span data-ttu-id="57c2b-581">Oturum açma Hello toobe kümesi hello üyesi **sysadmin** sabit sunucu rolü.</span><span class="sxs-lookup"><span data-stu-id="57c2b-581">Set hello sign-in toobe a member of hello **sysadmin** fixed server role.</span></span>

1. <span data-ttu-id="57c2b-582">**Tamam** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-582">Click **OK**.</span></span>

<span data-ttu-id="57c2b-583">Diğer SQL Server VM hello adımları önceki hello yineleyin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-583">Repeat hello preceding steps on hello other SQL Server VM.</span></span>

## <a name="add-failover-clustering-features-tooboth-sql-server-vms"></a><span data-ttu-id="57c2b-584">Yük Devretme Kümelemesi özellikleri tooboth SQL Server Vm'lerinin Ekle</span><span class="sxs-lookup"><span data-stu-id="57c2b-584">Add Failover Clustering features tooboth SQL Server VMs</span></span>

<span data-ttu-id="57c2b-585">Yük devretme kümeleme özellikleri tooadd hello her iki SQL Server VM üzerinde aşağıdaki:</span><span class="sxs-lookup"><span data-stu-id="57c2b-585">tooadd Failover Clustering features, do hello following on both SQL Server VMs:</span></span>

1. <span data-ttu-id="57c2b-586">Hello kullanarak Uzak Masaüstü Protokolü (RDP) hello toohello SQL Server sanal makineye bağlanmak *CORP\install* hesabı.</span><span class="sxs-lookup"><span data-stu-id="57c2b-586">Connect toohello SQL Server virtual machine through hello Remote Desktop Protocol (RDP) by using hello *CORP\install* account.</span></span> <span data-ttu-id="57c2b-587">Açık **Sunucu Yöneticisi Panosu**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-587">Open **Server Manager Dashboard**.</span></span>
2. <span data-ttu-id="57c2b-588">Merhaba tıklatın **rol ve Özellik Ekle** hello Panoda bağlantı.</span><span class="sxs-lookup"><span data-stu-id="57c2b-588">Click hello **Add roles and features** link on hello dashboard.</span></span>

    ![Sunucu Yöneticisi - rolleri Ekle](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/22-addfeatures.png)
3. <span data-ttu-id="57c2b-590">Seçin **sonraki** toohello elde edene kadar **Server özellikleri** bölümü.</span><span class="sxs-lookup"><span data-stu-id="57c2b-590">Select **Next** until you get toohello **Server Features** section.</span></span>
4. <span data-ttu-id="57c2b-591">İçinde **özellikleri**seçin **Yük Devretme Kümelemesi**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-591">In **Features**, select **Failover Clustering**.</span></span>
5. <span data-ttu-id="57c2b-592">Gerekli diğer ek özellikleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-592">Add any additional required features.</span></span>
6. <span data-ttu-id="57c2b-593">Tıklatın **yükleme** tooadd hello özellikleri.</span><span class="sxs-lookup"><span data-stu-id="57c2b-593">Click **Install** tooadd hello features.</span></span>

<span data-ttu-id="57c2b-594">Diğer SQL Server VM hello Hello adımları yineleyin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-594">Repeat hello steps on hello other SQL Server VM.</span></span>

## <a name="a-nameendpoint-firewall-configure-hello-firewall-on-each-sql-server-vm"></a><span data-ttu-id="57c2b-595"><a name="endpoint-firewall">Her SQL Server VM Hello güvenlik duvarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="57c2b-595"><a name="endpoint-firewall"> Configure hello firewall on each SQL Server VM</span></span>

<span data-ttu-id="57c2b-596">Merhaba çözüm TCP bağlantı noktaları toobe açık hello Güvenlik Duvarı'nda aşağıdaki hello gerektirir:</span><span class="sxs-lookup"><span data-stu-id="57c2b-596">hello solution requires hello following TCP ports toobe open in hello firewall:</span></span>

- <span data-ttu-id="57c2b-597">**SQL Server VM**:</span><span class="sxs-lookup"><span data-stu-id="57c2b-597">**SQL Server VM**:</span></span><br/>
   <span data-ttu-id="57c2b-598">Bağlantı noktası 1433'ü SQL Server'ın varsayılan bir örnek için.</span><span class="sxs-lookup"><span data-stu-id="57c2b-598">Port 1433 for a default instance of SQL Server.</span></span>
- <span data-ttu-id="57c2b-599">**Azure yük dengeleyici araştırmasını:**</span><span class="sxs-lookup"><span data-stu-id="57c2b-599">**Azure load balancer probe:**</span></span><br/>
   <span data-ttu-id="57c2b-600">Tüm kullanılabilir bağlantı noktası.</span><span class="sxs-lookup"><span data-stu-id="57c2b-600">Any available port.</span></span> <span data-ttu-id="57c2b-601">Örnekler sık 59999 kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-601">Examples frequently use 59999.</span></span>
- <span data-ttu-id="57c2b-602">**Veritabanı yansıtma uç noktası:**</span><span class="sxs-lookup"><span data-stu-id="57c2b-602">**Database mirroring endpoint:**</span></span> <br/>
   <span data-ttu-id="57c2b-603">Tüm kullanılabilir bağlantı noktası.</span><span class="sxs-lookup"><span data-stu-id="57c2b-603">Any available port.</span></span> <span data-ttu-id="57c2b-604">Örnekler sık 5022 kullanın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-604">Examples frequently use 5022.</span></span>

<span data-ttu-id="57c2b-605">Merhaba Güvenlik Duvarı hem de SQL Server Vm'lerinde açık gerek toobe bağlantı noktaları.</span><span class="sxs-lookup"><span data-stu-id="57c2b-605">hello firewall ports need toobe open on both SQL Server VMs.</span></span>

<span data-ttu-id="57c2b-606">Merhaba bağlantı noktaları açma hello yöntemi kullandığınız hello güvenlik duvarı çözüm üzerinde bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-606">hello method of opening hello ports depends on hello firewall solution that you use.</span></span> <span data-ttu-id="57c2b-607">nasıl tooopen hello Windows Güvenlik Duvarı'nda bağlantı noktaları Hello sonraki bölümde açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="57c2b-607">hello next section explains how tooopen hello ports in Windows Firewall.</span></span> <span data-ttu-id="57c2b-608">Her SQL Server Vm'lerinin hello gerekli bağlantı noktalarını açın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-608">Open hello required ports on each of your SQL Server VMs.</span></span>

### <a name="open-a-tcp-port-in-hello-firewall"></a><span data-ttu-id="57c2b-609">Merhaba Güvenlik Duvarı'nda bir TCP bağlantı noktasını açın</span><span class="sxs-lookup"><span data-stu-id="57c2b-609">Open a TCP port in hello firewall</span></span>

1. <span data-ttu-id="57c2b-610">İlk SQL Server üzerinde hello **Başlat** ekranında, başlatma **Gelişmiş Güvenlik Özellikli Windows Güvenlik Duvarı**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-610">On hello first SQL Server **Start** screen, launch **Windows Firewall with Advanced Security**.</span></span>
2. <span data-ttu-id="57c2b-611">Merhaba soldaki bölmede bulunan seçin **gelen kuralları**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-611">On hello left pane, select **Inbound Rules**.</span></span> <span data-ttu-id="57c2b-612">Merhaba sağ bölmesinde tıklatın **yeni kural**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-612">On hello right pane, click **New Rule**.</span></span>
3. <span data-ttu-id="57c2b-613">İçin **kural türü**, seçin **bağlantı noktası**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-613">For **Rule Type**, choose **Port**.</span></span>
4. <span data-ttu-id="57c2b-614">Merhaba bağlantı noktasını belirtin **TCP** ve bağlantı noktası numaralarını uygun türü hello.</span><span class="sxs-lookup"><span data-stu-id="57c2b-614">For hello port, specify **TCP** and type hello appropriate port numbers.</span></span> <span data-ttu-id="57c2b-615">Aşağıdaki örnek hello bakın:</span><span class="sxs-lookup"><span data-stu-id="57c2b-615">See hello following example:</span></span>

   ![SQL güvenlik duvarı](./media/virtual-machines-windows-portal-sql-availability-group-tutorial/35-tcpports.png)

5. <span data-ttu-id="57c2b-617">**İleri**’ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="57c2b-617">Click **Next**.</span></span>
6. <span data-ttu-id="57c2b-618">Merhaba üzerinde **eylem** sayfasında, tutmak **hello bağlantıya izin verme** seçili ve ardından **sonraki**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-618">On hello **Action** page, keep **Allow hello connection** selected, and then click **Next**.</span></span>
7. <span data-ttu-id="57c2b-619">Merhaba üzerinde **profil** sayfasında, hello varsayılan ayarları kabul edin ve ardından **sonraki**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-619">On hello **Profile** page, accept hello default settings, and then click **Next**.</span></span>
8. <span data-ttu-id="57c2b-620">Merhaba üzerinde **adı** sayfasında, bir kural adı belirtin (gibi **Azure LB araştırma**) hello içinde **adı** metin kutusuna ve ardından **son**.</span><span class="sxs-lookup"><span data-stu-id="57c2b-620">On hello **Name** page, specify a rule name (such as **Azure LB Probe**) in hello **Name** text box, and then click **Finish**.</span></span>

<span data-ttu-id="57c2b-621">İkinci SQL Server VM hello şu adımları yineleyin.</span><span class="sxs-lookup"><span data-stu-id="57c2b-621">Repeat these steps on hello second SQL Server VM.</span></span>

## <a name="next-steps"></a><span data-ttu-id="57c2b-622">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="57c2b-622">Next steps</span></span>

* [<span data-ttu-id="57c2b-623">Azure sanal makinelerde bir SQL Server Always On kullanılabilirlik grubu oluşturma</span><span class="sxs-lookup"><span data-stu-id="57c2b-623">Create a SQL Server Always On availability group on Azure virtual machines</span></span>](virtual-machines-windows-portal-sql-availability-group-tutorial.md)
