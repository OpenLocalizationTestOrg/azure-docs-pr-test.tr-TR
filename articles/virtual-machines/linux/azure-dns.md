---
title: "Linux sanal makinelerinin Azure DNS ad çözümleme seçenekleri"
description: "Ad çözümleme sağlanan senaryoları Azure Iaas dahil olmak üzere, Linux sanal makineler için DNS hizmetleri, karma dış DNS ve Getir bilgisayarınızı kendi DNS sunucusu."
services: virtual-machines
documentationcenter: na
author: RicksterCDN
manager: timlt
editor: tysonn
ms.assetid: 787a1e04-cebf-4122-a1b4-1fcf0a2bbf5f
ms.service: virtual-machines-linux
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/19/2016
ms.author: rclaus
ms.openlocfilehash: cc06ee9305b4d3034154a0825c1aea53fe446f80
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/11/2017
---
# <a name="dns-name-resolution-options-for-linux-virtual-machines-in-azure"></a><span data-ttu-id="cfc77-103">Linux sanal makinelerinin Azure DNS ad çözümlemesi seçenekleri</span><span class="sxs-lookup"><span data-stu-id="cfc77-103">DNS Name Resolution options for Linux virtual machines in Azure</span></span>
<span data-ttu-id="cfc77-104">Azure DNS ad çözümlemesi tek bir sanal ağdaki tüm sanal makineler için varsayılan olarak sağlar.</span><span class="sxs-lookup"><span data-stu-id="cfc77-104">Azure provides DNS name resolution by default for all virtual machines that are in a single virtual network.</span></span> <span data-ttu-id="cfc77-105">Azure barındıran sanal makinelerde kendi DNS hizmetleri yapılandırarak kendi DNS ad çözümlemesi çözüm uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cfc77-105">You can implement your own DNS name resolution solution by configuring your own DNS services on your virtual machines that Azure hosts.</span></span> <span data-ttu-id="cfc77-106">Aşağıdaki senaryolarda durumunuz için çalışan bir seçmenize yardımcı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="cfc77-106">The following scenarios should help you choose the one that works for your situation.</span></span>

* [<span data-ttu-id="cfc77-107">Azure sağlar ad çözümlemesi</span><span class="sxs-lookup"><span data-stu-id="cfc77-107">Name resolution that Azure provides</span></span>](#azure-provided-name-resolution)
* [<span data-ttu-id="cfc77-108">Kendi DNS sunucu kullanılarak ad çözümleme</span><span class="sxs-lookup"><span data-stu-id="cfc77-108">Name resolution using your own DNS server</span></span>](#name-resolution-using-your-own-dns-server)

<span data-ttu-id="cfc77-109">Kullandığınız ad çözümlemesi türünün nasıl sanal makineler ve rol örnekleri birbirleri ile iletişim kurmak gereksinimlerine göre değişir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-109">The type of name resolution that you use depends on how your virtual machines and role instances need to communicate with each other.</span></span>

<span data-ttu-id="cfc77-110">Aşağıdaki tabloda senaryoları ve karşılık gelen ad çözümlemesi çözümleri gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="cfc77-110">The following table illustrates scenarios and corresponding name resolution solutions:</span></span>

| <span data-ttu-id="cfc77-111">**Senaryo**</span><span class="sxs-lookup"><span data-stu-id="cfc77-111">**Scenario**</span></span> | <span data-ttu-id="cfc77-112">**Çözüm**</span><span class="sxs-lookup"><span data-stu-id="cfc77-112">**Solution**</span></span> | <span data-ttu-id="cfc77-113">**Son eki**</span><span class="sxs-lookup"><span data-stu-id="cfc77-113">**Suffix**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="cfc77-114">Rol örnekleri ya da sanal makineleri aynı sanal ağda arasındaki ad çözümlemesi</span><span class="sxs-lookup"><span data-stu-id="cfc77-114">Name resolution between role instances or virtual machines in the same virtual network</span></span> |[<span data-ttu-id="cfc77-115">Azure sağlar ad çözümlemesi</span><span class="sxs-lookup"><span data-stu-id="cfc77-115">Name resolution that Azure provides</span></span>](#azure-provided-name-resolution) |<span data-ttu-id="cfc77-116">ana bilgisayar adı veya tam etki alanı adı (FQDN)</span><span class="sxs-lookup"><span data-stu-id="cfc77-116">hostname or fully-qualified domain name (FQDN)</span></span> |
| <span data-ttu-id="cfc77-117">Rol örnekleri veya sanal makineleri farklı sanal ağlar arasındaki ad çözümlemesi</span><span class="sxs-lookup"><span data-stu-id="cfc77-117">Name resolution between role instances or virtual machines in different virtual networks</span></span> |<span data-ttu-id="cfc77-118">Sorguları Azure (DNS proxy) tarafından çözümlemesi için sanal ağlar arasında iletecek müşteri tarafından yönetilen DNS sunucuları.</span><span class="sxs-lookup"><span data-stu-id="cfc77-118">Customer-managed DNS servers that forward queries between virtual networks for resolution by Azure (DNS proxy).</span></span> <span data-ttu-id="cfc77-119">Bkz: [kendi DNS sunucu kullanılarak ad çözümleme](#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="cfc77-119">See [Name resolution using your own DNS server](#name-resolution-using-your-own-dns-server).</span></span> |<span data-ttu-id="cfc77-120">Yalnızca FQDN</span><span class="sxs-lookup"><span data-stu-id="cfc77-120">FQDN only</span></span> |
| <span data-ttu-id="cfc77-121">Şirket içi bilgisayarları ve rol örnekleri ya da sanal makineleri Azure hizmet adlarından çözümleme</span><span class="sxs-lookup"><span data-stu-id="cfc77-121">Resolution of on-premises computers and service names from role instances or virtual machines in Azure</span></span> |<span data-ttu-id="cfc77-122">Müşteri tarafından yönetilen DNS sunucuları (örneğin, şirket içi etki alanı denetleyicisi, yerel salt okunur etki alanı denetleyicisi veya bölge aktarımları kullanarak eşitlenen bir DNS ikincil).</span><span class="sxs-lookup"><span data-stu-id="cfc77-122">Customer-managed DNS servers (for example, on-premises domain controller, local read-only domain controller, or a DNS secondary synced by using zone transfers).</span></span> <span data-ttu-id="cfc77-123">Bkz: [kendi DNS sunucu kullanılarak ad çözümleme](#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="cfc77-123">See [Name resolution using your own DNS server](#name-resolution-using-your-own-dns-server).</span></span> |<span data-ttu-id="cfc77-124">Yalnızca FQDN</span><span class="sxs-lookup"><span data-stu-id="cfc77-124">FQDN only</span></span> |
| <span data-ttu-id="cfc77-125">Şirket içi bilgisayarlardan Azure ana bilgisayar adı çözümlemesi</span><span class="sxs-lookup"><span data-stu-id="cfc77-125">Resolution of Azure hostnames from on-premises computers</span></span> |<span data-ttu-id="cfc77-126">Bir müşteri tarafından yönetilen DNS proxy sunucusuna karşılık gelen sanal ağ içinde sorguları iletin.</span><span class="sxs-lookup"><span data-stu-id="cfc77-126">Forward queries to a customer-managed DNS proxy server in the corresponding virtual network.</span></span> <span data-ttu-id="cfc77-127">Proxy sunucusunu sorgular için Azure çözümlemesi için iletir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-127">The proxy server forwards queries to Azure for resolution.</span></span> <span data-ttu-id="cfc77-128">Bkz: [kendi DNS sunucu kullanılarak ad çözümleme](#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="cfc77-128">See [Name resolution using your own DNS server](#name-resolution-using-your-own-dns-server).</span></span> |<span data-ttu-id="cfc77-129">Yalnızca FQDN</span><span class="sxs-lookup"><span data-stu-id="cfc77-129">FQDN only</span></span> |
| <span data-ttu-id="cfc77-130">İç IP'ler için ters DNS</span><span class="sxs-lookup"><span data-stu-id="cfc77-130">Reverse DNS for internal IPs</span></span> |[<span data-ttu-id="cfc77-131">Kendi DNS sunucu kullanılarak ad çözümleme</span><span class="sxs-lookup"><span data-stu-id="cfc77-131">Name resolution using your own DNS server</span></span>](#name-resolution-using-your-own-dns-server) |<span data-ttu-id="cfc77-132">yok</span><span class="sxs-lookup"><span data-stu-id="cfc77-132">n/a</span></span> |

## <a name="name-resolution-that-azure-provides"></a><span data-ttu-id="cfc77-133">Azure sağlar ad çözümlemesi</span><span class="sxs-lookup"><span data-stu-id="cfc77-133">Name resolution that Azure provides</span></span>
<span data-ttu-id="cfc77-134">Genel DNS adlarını çözümlenmesi yanı sıra, Azure sanal makineleri ve aynı sanal ağdaki rol örnekleri için dahili ad çözümlemesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="cfc77-134">Along with resolution of public DNS names, Azure provides internal name resolution for virtual machines and role instances that are in the same virtual network.</span></span> <span data-ttu-id="cfc77-135">Azure Resource Manager tabanlı sanal ağlarda DNS soneki sanal ağ arasında tutarlıdır; FQDN gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-135">In virtual networks that are based on Azure Resource Manager, the DNS suffix is consistent across the virtual network; the FQDN is not needed.</span></span> <span data-ttu-id="cfc77-136">DNS adları, ağ arabirimi kartlarıyla (NIC) ve sanal makineleri için atanabilir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-136">DNS names can be assigned to both network interface cards (NICs) and virtual machines.</span></span> <span data-ttu-id="cfc77-137">Azure sağlar ad çözümlemesi herhangi bir yapılandırma gerektirmez rağmen tüm dağıtım senaryoları için uygun seçeneği yukarıdaki tabloda görüldüğü gibi değil.</span><span class="sxs-lookup"><span data-stu-id="cfc77-137">Although the name resolution that Azure provides does not require any configuration, it is not the appropriate choice for all deployment scenarios, as seen on the preceding table.</span></span>

### <a name="features-and-considerations"></a><span data-ttu-id="cfc77-138">Özellikler ve ilgili önemli noktalar</span><span class="sxs-lookup"><span data-stu-id="cfc77-138">Features and considerations</span></span>
<span data-ttu-id="cfc77-139">**Özellikler:**</span><span class="sxs-lookup"><span data-stu-id="cfc77-139">**Features:**</span></span>

* <span data-ttu-id="cfc77-140">Herhangi bir yapılandırma sağlayan Azure ad çözümlemesi kullanmak için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-140">No configuration is required to use name resolution that Azure provides.</span></span>
* <span data-ttu-id="cfc77-141">Azure sağlayan ad çözümleme hizmeti yüksek oranda kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-141">The name resolution service that Azure provides is highly available.</span></span> <span data-ttu-id="cfc77-142">Oluşturma ve kendi DNS sunucularınızı kümelerini yönetme gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="cfc77-142">You don't need to create and manage clusters of your own DNS servers.</span></span>
* <span data-ttu-id="cfc77-143">Azure sağlayan ad çözümleme hizmeti, kendi DNS sunucularının yanı sıra şirket içi ve Azure ana bilgisayar adları çözümlemek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-143">The name resolution service that Azure provides can be used along with your own DNS servers to resolve both on-premises and Azure hostnames.</span></span>
* <span data-ttu-id="cfc77-144">Ad çözümlemesi, FQDN için gerek kalmadan sanal ağlardaki sanal makineler arasında sağlanır.</span><span class="sxs-lookup"><span data-stu-id="cfc77-144">Name resolution is provided between virtual machines in virtual networks without need for the FQDN.</span></span>
* <span data-ttu-id="cfc77-145">Dağıtımlarınızı en iyi şekilde açıklayan bir ana bilgisayar adları kullanabilirsiniz otomatik olarak oluşturulan adlarıyla çalışma yerine.</span><span class="sxs-lookup"><span data-stu-id="cfc77-145">You can use hostnames that best describe your deployments rather than working with auto-generated names.</span></span>

<span data-ttu-id="cfc77-146">**Dikkate alınacak noktalar:**</span><span class="sxs-lookup"><span data-stu-id="cfc77-146">**Considerations:**</span></span>

* <span data-ttu-id="cfc77-147">Azure oluşturduğu DNS soneki değiştirilemez.</span><span class="sxs-lookup"><span data-stu-id="cfc77-147">The DNS suffix that Azure creates cannot be modified.</span></span>
* <span data-ttu-id="cfc77-148">Kendi kayıtları el ile kaydettirilemedi.</span><span class="sxs-lookup"><span data-stu-id="cfc77-148">You cannot manually register your own records.</span></span>
* <span data-ttu-id="cfc77-149">WINS ve NetBIOS desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="cfc77-149">WINS and NetBIOS are not supported.</span></span>
* <span data-ttu-id="cfc77-150">Ana bilgisayar adları DNS uyumlu olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-150">Hostnames must be DNS-compatible.</span></span>
    <span data-ttu-id="cfc77-151">Adları, yalnızca 0-9, a-z, kullanmalıdır ve '-', ve başlayamaz veya bitemez bir '-'.</span><span class="sxs-lookup"><span data-stu-id="cfc77-151">Names must use only 0-9, a-z, and '-', and they cannot start or end with a '-'.</span></span> <span data-ttu-id="cfc77-152">RFC 3696 bölüm 2 bakın.</span><span class="sxs-lookup"><span data-stu-id="cfc77-152">See RFC 3696 Section 2.</span></span>
* <span data-ttu-id="cfc77-153">DNS sorgu trafiğinin her sanal makine için kısıtlanır.</span><span class="sxs-lookup"><span data-stu-id="cfc77-153">DNS query traffic is throttled for each virtual machine.</span></span> <span data-ttu-id="cfc77-154">Azaltma uygulamaların çoğu etkisi döndürmemelidir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-154">Throttling shouldn't impact most applications.</span></span>  <span data-ttu-id="cfc77-155">İstek azaltma gözlenir, istemci tarafı önbelleğe alma etkin olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="cfc77-155">If request throttling is observed, ensure that client-side caching is enabled.</span></span>  <span data-ttu-id="cfc77-156">Daha fazla bilgi için bkz: [sağlayan Azure name resolution en alma](#getting-the-most-from-name-resolution-that-azure-provides).</span><span class="sxs-lookup"><span data-stu-id="cfc77-156">For more information, see [Getting the most from name resolution that Azure provides](#getting-the-most-from-name-resolution-that-azure-provides).</span></span>

### <a name="getting-the-most-from-name-resolution-that-azure-provides"></a><span data-ttu-id="cfc77-157">Bu Azure ad çözümlemesi çoğu alma sağlar</span><span class="sxs-lookup"><span data-stu-id="cfc77-157">Getting the most from name resolution that Azure provides</span></span>
<span data-ttu-id="cfc77-158">**İstemci tarafı önbelleğe alma:**</span><span class="sxs-lookup"><span data-stu-id="cfc77-158">**Client-side caching:**</span></span>

<span data-ttu-id="cfc77-159">Bazı DNS sorgularını ağ üzerinden gönderilmez.</span><span class="sxs-lookup"><span data-stu-id="cfc77-159">Some DNS queries are not sent across the network.</span></span> <span data-ttu-id="cfc77-160">İstemci tarafı önbelleğe alma gecikme süresini azaltmak ve esnekliği ağ tutarsızlıklar için yinelenen DNS sorgularını yerel önbelleğinden çözülerek geliştirmek yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="cfc77-160">Client-side caching helps reduce latency and improve resilience to network inconsistencies by resolving recurring DNS queries from a local cache.</span></span> <span data-ttu-id="cfc77-161">Bir yaşam süresi (kayıt yenilik etkilemeden kayıt mümkün olduğunca uzun bir süre saklamak önbellek sağlayan TTL), DNS kayıtlarını içerir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-161">DNS records contain a Time-To-Live (TTL), which enables the cache to store the record for as long as possible without impacting record freshness.</span></span> <span data-ttu-id="cfc77-162">Sonuç olarak, istemci tarafı önbelleğe alma çoğu durumlar için uygundur.</span><span class="sxs-lookup"><span data-stu-id="cfc77-162">As a result, client-side caching is suitable for most situations.</span></span>

<span data-ttu-id="cfc77-163">Bazı Linux dağıtımları varsayılan önbelleğe alma dahil etmeyin.</span><span class="sxs-lookup"><span data-stu-id="cfc77-163">Some Linux distributions do not include caching by default.</span></span> <span data-ttu-id="cfc77-164">Olmadığından yerel bir önbellek zaten denetledikten sonra her bir Linux sanal makine için bir önbellek eklemenizi öneririz.</span><span class="sxs-lookup"><span data-stu-id="cfc77-164">We recommend that you add a cache to each Linux virtual machine after you check that there isn't a local cache already.</span></span>

<span data-ttu-id="cfc77-165">Birkaç farklı DNS dnsmasq gibi paketleri önbelleğe alma kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-165">Several different DNS caching packages, such as dnsmasq, are available.</span></span> <span data-ttu-id="cfc77-166">En yaygın dağıtımları dnsmasq yüklemek için adımları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="cfc77-166">Here are the steps to install dnsmasq on the most common distributions:</span></span>

<span data-ttu-id="cfc77-167">**Ubuntu (kullandığı resolvconf)**</span><span class="sxs-lookup"><span data-stu-id="cfc77-167">**Ubuntu (uses resolvconf)**</span></span>
  * <span data-ttu-id="cfc77-168">("Sudo get apt yükleme dnsmasq") dnsmasq paketini yükleyin.</span><span class="sxs-lookup"><span data-stu-id="cfc77-168">Install the dnsmasq package (“sudo apt-get install dnsmasq”).</span></span>

<span data-ttu-id="cfc77-169">**SUSE (kullandığı netconf)**:</span><span class="sxs-lookup"><span data-stu-id="cfc77-169">**SUSE (uses netconf)**:</span></span>
1. <span data-ttu-id="cfc77-170">("Sudo zypper yükleme dnsmasq") dnsmasq paketini yükleyin.</span><span class="sxs-lookup"><span data-stu-id="cfc77-170">Install the dnsmasq package (“sudo zypper install dnsmasq”).</span></span>
2. <span data-ttu-id="cfc77-171">("Systemctl etkinleştir dnsmasq.service") dnsmasq hizmetini etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="cfc77-171">Enable the dnsmasq service (“systemctl enable dnsmasq.service”).</span></span>
3. <span data-ttu-id="cfc77-172">("Systemctl başlangıç dnsmasq.service") dnsmasq hizmetini başlatın.</span><span class="sxs-lookup"><span data-stu-id="cfc77-172">Start the dnsmasq service (“systemctl start dnsmasq.service”).</span></span>
4. <span data-ttu-id="cfc77-173">Düzenle "/ etc/sysconfig/ağ/config" NETCONFIG_DNS_FORWARDER değiştirip = "" "dnsmasq" için.</span><span class="sxs-lookup"><span data-stu-id="cfc77-173">Edit “/etc/sysconfig/network/config”, and change NETCONFIG_DNS_FORWARDER="" to ”dnsmasq”.</span></span>
5. <span data-ttu-id="cfc77-174">Önbellek ayarlamak için resolv.conf ("netconfig güncelleştirme") yerel DNS Çözümleyicisi güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="cfc77-174">Update resolv.conf ("netconfig update") to set the cache as the local DNS resolver.</span></span>

<span data-ttu-id="cfc77-175">**CentOS yanlış Wave yazılımlar (önceki adıyla OpenLogic; NetworkManager kullanır)**</span><span class="sxs-lookup"><span data-stu-id="cfc77-175">**CentOS by Rogue Wave Software (formerly OpenLogic; uses NetworkManager)**</span></span>
1. <span data-ttu-id="cfc77-176">("Sudo yum yükleme dnsmasq") dnsmasq paketini yükleyin.</span><span class="sxs-lookup"><span data-stu-id="cfc77-176">Install the dnsmasq package (“sudo yum install dnsmasq”).</span></span>
2. <span data-ttu-id="cfc77-177">("Systemctl etkinleştir dnsmasq.service") dnsmasq hizmetini etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="cfc77-177">Enable the dnsmasq service (“systemctl enable dnsmasq.service”).</span></span>
3. <span data-ttu-id="cfc77-178">("Systemctl başlangıç dnsmasq.service") dnsmasq hizmetini başlatın.</span><span class="sxs-lookup"><span data-stu-id="cfc77-178">Start the dnsmasq service (“systemctl start dnsmasq.service”).</span></span>
4. <span data-ttu-id="cfc77-179">"Başına etki alanı adı sunucuları 127.0.0.1;" Ekle "/etc/dhclient-eth0.conf" için.</span><span class="sxs-lookup"><span data-stu-id="cfc77-179">Add “prepend domain-name-servers 127.0.0.1;” to “/etc/dhclient-eth0.conf”.</span></span>
5. <span data-ttu-id="cfc77-180">Önbellek yerel DNS Çözümleyicisi ayarlamak için ağ hizmeti ("service ağ restart") yeniden başlatın</span><span class="sxs-lookup"><span data-stu-id="cfc77-180">Restart the network service (“service network restart”) to set the cache as the local DNS resolver</span></span>

> [!NOTE]
> <span data-ttu-id="cfc77-181">: 'Dnsmasq' paket yalnızca Linux için kullanılabilir olan birçok DNS önbellekleri biridir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-181">: The 'dnsmasq' package is only one of the many DNS caches that are available for Linux.</span></span> <span data-ttu-id="cfc77-182">Kullanmadan önce kendi uygunluğu gereksinimleriniz için denetleyin ve başka bir önbellek yüklü.</span><span class="sxs-lookup"><span data-stu-id="cfc77-182">Before you use it, check its suitability for your needs and that no other cache is installed.</span></span>
>
>

<span data-ttu-id="cfc77-183">**İstemci tarafı yeniden deneme**</span><span class="sxs-lookup"><span data-stu-id="cfc77-183">**Client-side retries**</span></span>

<span data-ttu-id="cfc77-184">DNS öncelikle bir UDP protokolüdür.</span><span class="sxs-lookup"><span data-stu-id="cfc77-184">DNS is primarily a UDP protocol.</span></span> <span data-ttu-id="cfc77-185">UDP protokolünü ileti teslimi garanti etmez çünkü DNS protokolü yeniden deneme mantığı işler.</span><span class="sxs-lookup"><span data-stu-id="cfc77-185">Because the UDP protocol doesn't guarantee message delivery, the DNS protocol itself handles retry logic.</span></span> <span data-ttu-id="cfc77-186">Her DNS istemcisi (işletim sistemi) oluşturanın tercih bağlı olarak farklı yeniden deneme mantığı sergilemesine:</span><span class="sxs-lookup"><span data-stu-id="cfc77-186">Each DNS client (operating system) can exhibit different retry logic depending on the creator's preference:</span></span>

* <span data-ttu-id="cfc77-187">Windows işletim sistemlerinin bir sonra ikinci ve daha sonra tekrar başka sonra iki, dört ve başka bir dört saniye yeniden deneyin.</span><span class="sxs-lookup"><span data-stu-id="cfc77-187">Windows operating systems retry after one second and then again after another two, four, and another four seconds.</span></span>
* <span data-ttu-id="cfc77-188">Varsayılan Linux kurulumu yeniden denemelerden sonra beş saniyede.</span><span class="sxs-lookup"><span data-stu-id="cfc77-188">The default Linux setup retries after five seconds.</span></span>  <span data-ttu-id="cfc77-189">Beş kez bir saniyelik aralıklarla yeniden denemek için bunu değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-189">You should change this to retry five times at one-second intervals.</span></span>  

<span data-ttu-id="cfc77-190">Örneğin bir Linux sanal makine, 'kat /etc/resolv.conf' ve 'Seçenekler' satırında görünüm geçerli ayarlarını denetlemek için:</span><span class="sxs-lookup"><span data-stu-id="cfc77-190">To check the current settings on a Linux virtual machine, 'cat /etc/resolv.conf', and look at the 'options' line, for example:</span></span>

    options timeout:1 attempts:5

<span data-ttu-id="cfc77-191">Resolv.conf dosyası otomatik olarak oluşturulan ve düzenlenmemelidir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-191">The resolv.conf file is auto-generated and should not be edited.</span></span> <span data-ttu-id="cfc77-192">'Seçenekler' satır ekleyin belirli adımlar göre dağıtım değişir:</span><span class="sxs-lookup"><span data-stu-id="cfc77-192">The specific steps that add the 'options' line vary by distribution:</span></span>

<span data-ttu-id="cfc77-193">**Ubuntu** (resolvconf kullanır)</span><span class="sxs-lookup"><span data-stu-id="cfc77-193">**Ubuntu** (uses resolvconf)</span></span>
1. <span data-ttu-id="cfc77-194">Seçenekler satırı ekleyin ' / etc/resolveconf/resolv.conf.d/head'.</span><span class="sxs-lookup"><span data-stu-id="cfc77-194">Add the options line to '/etc/resolveconf/resolv.conf.d/head'.</span></span>
2. <span data-ttu-id="cfc77-195">'Resolvconf -u' Çalıştır güncelleştirmek için.</span><span class="sxs-lookup"><span data-stu-id="cfc77-195">Run 'resolvconf -u' to update.</span></span>

<span data-ttu-id="cfc77-196">**SUSE** (netconf kullanır)</span><span class="sxs-lookup"><span data-stu-id="cfc77-196">**SUSE** (uses netconf)</span></span>
1. <span data-ttu-id="cfc77-197">'Timeout:1 denemeleri: 5' NETCONFIG_DNS_RESOLVER_OPTIONS Ekle = "" içinde '/ etc/sysconfig/ağ/config' parametresi.</span><span class="sxs-lookup"><span data-stu-id="cfc77-197">Add 'timeout:1 attempts:5' to the NETCONFIG_DNS_RESOLVER_OPTIONS="" parameter in '/etc/sysconfig/network/config'.</span></span>
2. <span data-ttu-id="cfc77-198">'Netconfig Güncelleştirme' Çalıştır güncelleştirmek için.</span><span class="sxs-lookup"><span data-stu-id="cfc77-198">Run 'netconfig update' to update.</span></span>

<span data-ttu-id="cfc77-199">**CentOS yanlış Wave yazılımı (önceki adıyla OpenLogic) tarafından** (NetworkManager kullanır)</span><span class="sxs-lookup"><span data-stu-id="cfc77-199">**CentOS by Rogue Wave Software (formerly OpenLogic)** (uses NetworkManager)</span></span>
1. <span data-ttu-id="cfc77-200">'Yankı "seçenekleri timeout:1 denemeleri: 5" ' eklemek ' / etc/NetworkManager/dispatcher.d/11-dhclient'.</span><span class="sxs-lookup"><span data-stu-id="cfc77-200">Add 'echo "options timeout:1 attempts:5"' to '/etc/NetworkManager/dispatcher.d/11-dhclient'.</span></span>
2. <span data-ttu-id="cfc77-201">'Ağ yeniden hizmet' Çalıştır güncelleştirmek için.</span><span class="sxs-lookup"><span data-stu-id="cfc77-201">Run 'service network restart' to update.</span></span>

## <a name="name-resolution-using-your-own-dns-server"></a><span data-ttu-id="cfc77-202">Kendi DNS sunucu kullanılarak ad çözümleme</span><span class="sxs-lookup"><span data-stu-id="cfc77-202">Name resolution using your own DNS server</span></span>
<span data-ttu-id="cfc77-203">Ad çözümleme gereksinimlerinizi dışında Azure sağlayan özellikler gidebilir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-203">Your name resolution needs may go beyond the features that Azure provides.</span></span> <span data-ttu-id="cfc77-204">Örneğin, DNS çözümlemesi sanal ağlar arasında gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-204">For example, you might require DNS resolution between virtual networks.</span></span> <span data-ttu-id="cfc77-205">Bu senaryo karşılamak üzere kendi DNS sunucularını kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-205">To cover this scenario, you can use your own DNS servers.</span></span>  

<span data-ttu-id="cfc77-206">Bir sanal ağ içinde DNS sunucuları, özyinelemeli çözümleyiciler Azure aynı sanal ağdaki ana bilgisayar adları çözümlemek için DNS sorgularını iletebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cfc77-206">DNS servers within a virtual network can forward DNS queries to recursive resolvers of Azure to resolve hostnames that are in the same virtual network.</span></span> <span data-ttu-id="cfc77-207">Örneğin, Azure'da çalışan bir DNS sunucusu kendi DNS bölge dosyaları için DNS sorgularını yanıtlamak ve diğer tüm sorguları Azure'a iletin.</span><span class="sxs-lookup"><span data-stu-id="cfc77-207">For example, a DNS server that runs in Azure can respond to DNS queries for its own DNS zone files and forward all other queries to Azure.</span></span> <span data-ttu-id="cfc77-208">Sanal makineler, her iki girişlerinizi (ileticisi) Azure sağlayan bir ana bilgisayar adları ve bölge dosyaları görmek bu işlevi etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-208">This functionality enables virtual machines to see both your entries in your zone files and hostnames that Azure provides (via the forwarder).</span></span> <span data-ttu-id="cfc77-209">Özyinelemeli çözümleyiciler Azure erişimi 168.63.129.16 sanal IP sağlanır.</span><span class="sxs-lookup"><span data-stu-id="cfc77-209">Access to the recursive resolvers of Azure is provided via the virtual IP 168.63.129.16.</span></span>

<span data-ttu-id="cfc77-210">DNS iletme aynı zamanda sanal ağlar arasında DNS çözümlemesi sağlar ve Azure sağlayan bir ana bilgisayar adları çözümlemek şirket içi makinelerinizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="cfc77-210">DNS forwarding also enables DNS resolution between virtual networks and enables your on-premises machines to resolve hostnames that Azure provides.</span></span> <span data-ttu-id="cfc77-211">Bir sanal makinenin ana bilgisayar adı çözümlemek için DNS sunucusu sanal makinesi aynı sanal ağında bulunmalıdır ve Azure iletme hostname sorguları yapılandırılması.</span><span class="sxs-lookup"><span data-stu-id="cfc77-211">To resolve a virtual machine's hostname, the DNS server virtual machine must reside in the same virtual network and be configured to forward hostname queries to Azure.</span></span> <span data-ttu-id="cfc77-212">DNS son eki her sanal ağ farklı olduğundan, doğru sanal ağı çözümlemesi için DNS sorguları göndermek için koşullu iletme kurallarını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cfc77-212">Because the DNS suffix is different in each virtual network, you can use conditional forwarding rules to send DNS queries to the correct virtual network for resolution.</span></span> <span data-ttu-id="cfc77-213">Aşağıdaki görüntü iki sanal ağ ve DNS çözümlemesi bu yöntemi kullanarak sanal ağlar arasında bulunurken bir şirket içi ağ göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="cfc77-213">The following image shows two virtual networks and an on-premises network doing DNS resolution between virtual networks by using this method:</span></span>

![Sanal ağlar arasında DNS çözümlemesi](./media/azure-dns/inter-vnet-dns.png)

<span data-ttu-id="cfc77-215">Azure sağlar ad çözümlemesi kullandığınızda, iç DNS soneki DHCP kullanarak her bir sanal makine için sağlanır.</span><span class="sxs-lookup"><span data-stu-id="cfc77-215">When you use name resolution that Azure provides, the internal DNS suffix is provided to each virtual machine by using DHCP.</span></span> <span data-ttu-id="cfc77-216">Kendi ad çözümlemesi çözümünü kullandığınızda, diğer DNS mimarileri ile soneki uğratan çünkü bu soneki sanal makinelere sağlanmaz.</span><span class="sxs-lookup"><span data-stu-id="cfc77-216">When you use your own name resolution solution, this suffix is not supplied to virtual machines because the suffix interferes with other DNS architectures.</span></span> <span data-ttu-id="cfc77-217">FQDN DEĞERİNE göre makineler başvurun veya sanal makinelerde soneki yapılandırmak için soneki belirlemek için PowerShell veya API kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="cfc77-217">To refer to machines by FQDN or to configure the suffix on your virtual machines, you can use PowerShell or the API to determine the suffix:</span></span>

* <span data-ttu-id="cfc77-218">Azure Resource Manager tarafından yönetilen sanal ağlar için soneki aracılığıyla kullanılabilir [ağ arabirim kartı](https://msdn.microsoft.com/library/azure/mt163668.aspx) kaynak.</span><span class="sxs-lookup"><span data-stu-id="cfc77-218">For virtual networks that are managed by Azure Resource Manager, the suffix is available via the [network interface card](https://msdn.microsoft.com/library/azure/mt163668.aspx) resource.</span></span> <span data-ttu-id="cfc77-219">De çalıştırabilirsiniz `azure network public-ip show <resource group> <pip name>` NIC FQDN'sini içerir, genel IP ayrıntılarını görüntülemek için komutu</span><span class="sxs-lookup"><span data-stu-id="cfc77-219">You can also run the `azure network public-ip show <resource group> <pip name>` command to display the details of your public IP, which includes the FQDN of the NIC.</span></span>

<span data-ttu-id="cfc77-220">Sorgular için Azure iletme gereksinimlerinize göre değil, kendi DNS çözümü sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-220">If forwarding queries to Azure doesn't suit your needs, you need to provide your own DNS solution.</span></span>  <span data-ttu-id="cfc77-221">DNS çözüm gerekir:</span><span class="sxs-lookup"><span data-stu-id="cfc77-221">Your DNS solution needs to:</span></span>

* <span data-ttu-id="cfc77-222">Uygun ana bilgisayar adı çözümlemesi, örneğin aracılığıyla sağlamak [DDNS](../../virtual-network/virtual-networks-name-resolution-ddns.md).</span><span class="sxs-lookup"><span data-stu-id="cfc77-222">Provide appropriate hostname resolution, for example via [DDNS](../../virtual-network/virtual-networks-name-resolution-ddns.md).</span></span> <span data-ttu-id="cfc77-223">DDNS kullanırsanız, DNS kaydı atmayı devre dışı bırakmanız gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="cfc77-223">If you use DDNS, you might need to disable DNS record scavenging.</span></span> <span data-ttu-id="cfc77-224">DHCP kiralarını Azure çok uzun ve atma DNS kayıtlarını erken kaldırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cfc77-224">DHCP leases of Azure are very long and scavenging may remove DNS records prematurely.</span></span>
* <span data-ttu-id="cfc77-225">Dış etki alanı adlarının çözümlemesine izin verecek şekilde uygun özyinelemeli çözümleme sağlar.</span><span class="sxs-lookup"><span data-stu-id="cfc77-225">Provide appropriate recursive resolution to allow resolution of external domain names.</span></span>
* <span data-ttu-id="cfc77-226">Erişilebilir (TCP ve UDP bağlantı noktası 53), hizmet verdiği istemcilerden olması ve Internet erişimine sahip olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="cfc77-226">Be accessible (TCP and UDP on port 53) from the clients it serves and be able to access the Internet.</span></span>
* <span data-ttu-id="cfc77-227">Dış aracıları tarafından teşkil tehditleri azaltmak için Internet'ten erişime karşı korunması.</span><span class="sxs-lookup"><span data-stu-id="cfc77-227">Be secured against access from the Internet to mitigate threats posed by external agents.</span></span>

> [!NOTE]
> <span data-ttu-id="cfc77-228">En iyi performans için sanal makineleri Azure DNS sunucularının kullandığınızda, IPv6 devre dışı bırakın ve ata bir [örnek düzeyinde ortak IP](../../virtual-network/virtual-networks-instance-level-public-ip.md) her DNS sunucusu sanal makinesi için.</span><span class="sxs-lookup"><span data-stu-id="cfc77-228">For best performance, when you use virtual machines in Azure DNS servers, disable IPv6 and assign an [Instance-Level Public IP](../../virtual-network/virtual-networks-instance-level-public-ip.md) to each DNS server virtual machine.</span></span>  
>
>
