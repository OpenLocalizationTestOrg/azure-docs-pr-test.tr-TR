---
title: "aaaRun Linux Azure üzerinde Cassandra | Microsoft Docs"
description: "Nasıl toorun bir Cassandra küme Linux Azure Virtual Machines'de bir Node.js uygulamasını"
services: virtual-machines-linux
documentationcenter: nodejs
author: tomarcher
manager: routlaw
editor: 
tags: azure-service-management
ms.assetid: 30de1f29-e97d-492f-ae34-41ec83488de0
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: tarcher
ms.openlocfilehash: 381ca301bbe88d3740cf182f9c44fada5b9ba7cc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="running-cassandra-with-linux-on-azure-and-accessing-it-from-nodejs"></a><span data-ttu-id="ddaa8-103">Azure’da Linux ile Cassandra Çalıştırma ve Cassandra’ya Node.js ile Erişme</span><span class="sxs-lookup"><span data-stu-id="ddaa8-103">Running Cassandra with Linux on Azure and Accessing it from Node.js</span></span>
> [!IMPORTANT] 
> <span data-ttu-id="ddaa8-104">Azure oluşturmak ve kaynaklarla çalışmak için iki farklı dağıtım modeli vardır: [Resource Manager ve klasik](../../../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="ddaa8-104">Azure has two different deployment models for creating and working with resources: [Resource Manager and Classic](../../../resource-manager-deployment-model.md).</span></span> <span data-ttu-id="ddaa8-105">Bu makalede, hello Klasik dağıtım modeli kullanarak yer almaktadır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-105">This article covers using hello Classic deployment model.</span></span> <span data-ttu-id="ddaa8-106">Microsoft, en yeni dağıtımların hello Resource Manager modelini kullanmasını önerir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-106">Microsoft recommends that most new deployments use hello Resource Manager model.</span></span> <span data-ttu-id="ddaa8-107">Resource Manager şablonları için bkz: [Datastax Kurumsal](https://azure.microsoft.com/documentation/templates/datastax) ve [Spark küme ve Cassandra CentOS üzerinde](https://azure.microsoft.com/documentation/templates/spark-and-cassandra-on-centos/).</span><span class="sxs-lookup"><span data-stu-id="ddaa8-107">See Resource Manager templates for [Datastax Enterprise](https://azure.microsoft.com/documentation/templates/datastax) and [Spark cluster and Cassandra on CentOS](https://azure.microsoft.com/documentation/templates/spark-and-cassandra-on-centos/).</span></span>

## <a name="overview"></a><span data-ttu-id="ddaa8-108">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="ddaa8-108">Overview</span></span>
<span data-ttu-id="ddaa8-109">Microsoft Azure hem de Microsoft işletim sistemleri, uygulama sunucuları, ileti Ara yanı sıra NoSQL ve SQL veritabanlarını hem ticari ve açık kaynak modellerinden iyi olarak Microsoft dışı yazılımlar olarak çalıştırılan bir açık bulut platformudur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-109">Microsoft Azure is an open cloud platform that runs both Microsoft as well as non-Microsoft software which  includes operating systems, application servers, messaging middleware as well as SQL and NoSQL databases from both commercial and open source models.</span></span> <span data-ttu-id="ddaa8-110">Azure dahil olmak üzere genel Bulutları dayanıklı hizmetler oluşturma dikkatli planlama ve kasıtlı mimarisi iyi depolama katmanları olarak hem uygulama sunucuları için gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-110">Building resilient services on public clouds including Azure requires careful planning and deliberate architecture for both applications servers as well storage layers.</span></span> <span data-ttu-id="ddaa8-111">Doğal olarak Cassandra'nın dağıtılmış depolama mimarisi hataya dayanıklı küme hataları için yüksek oranda kullanılabilir sistemlerini oluşturmaya yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-111">Cassandra’s distributed storage architecture naturally helps in building highly available systems that are fault tolerant for cluster failures.</span></span> <span data-ttu-id="ddaa8-112">Cassandra bulut ölçeği cassandra.apache.org Apache yazılım Foundation tarafından tutulan NoSQL veritabanı olan; Cassandra Java'da yazılmış ve bu nedenle hem Linux yanı sıra Windows platformları çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-112">Cassandra is a cloud scale NoSQL database maintained by Apache Software Foundation at cassandra.apache.org; Cassandra is written in Java and hence runs on both on Windows as well as Linux platforms.</span></span>

<span data-ttu-id="ddaa8-113">Bu makalenin Hello odak tooshow Cassandra Ubuntu üzerinde Microsoft Azure sanal makineler ve sanal ağlar yararlanarak tek ve birden çok veri merkezi kümesi olarak dağıtımıdır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-113">hello focus of this article is tooshow Cassandra deployment on Ubuntu as a single and multi-data center cluster leveraging Microsoft Azure Virtual Machines and Virtual Networks.</span></span> <span data-ttu-id="ddaa8-114">birden çok disk düğüm yapılandırması gerektirdiğinden hello Küme dağıtımı en iyi duruma getirilmiş üretim iş yükleri için bu makalenin kapsamı dışında uygun halka topolojisi tasarımı ve toosupport hello modelleme verileri gereken çoğaltma, veri tutarlılığı, üretilen iş ve yüksek oranda kullanılabilirlik gereksinimleri.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-114">hello cluster deployment for production optimized workloads is out of scope of this article as it requires multi-disk node configuration, appropriate ring topology design and data modeling toosupport hello needed replication, data consistency, throughput and high availability requirements.</span></span>

<span data-ttu-id="ddaa8-115">Bu makale, yapı hello Cassandra küme söz konusu temel yaklaşım tooshow Docker, Chef veya altyapı dağıtımı hello çok daha kolay hale getirebilir Puppet karşılaştırıldığında alır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-115">This article takes a fundamental approach tooshow what is involved in building hello Cassandra cluster compared Docker, Chef or Puppet which can make hello infrastructure deployment a lot easier.</span></span>  

## <a name="hello-deployment-models"></a><span data-ttu-id="ddaa8-116">Merhaba dağıtım modelleri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-116">hello Deployment Models</span></span>
<span data-ttu-id="ddaa8-117">Microsoft Azure ağ biri hello Erişim Yasak tooattain ince tanecikli ağ güvenliği olabilir yalıtılmış özel kümeleri hello dağıtımını sağlar.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-117">Microsoft Azure networking allows hello deployment of isolated private clusters, hello access of which can be restricted tooattain fine grained network security.</span></span>  <span data-ttu-id="ddaa8-118">Bu makalede temel düzeyde hello Cassandra dağıtım gösteren ilgili olduğundan, biz hello tutarlılık düzeyi ve verimlilik için hello en iyi depolama tasarımı odaklanır değil.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-118">Since this article is about showing hello Cassandra deployment at a fundamental level, we will not focus on hello consistency level and hello optimal storage design for throughput.</span></span> <span data-ttu-id="ddaa8-119">Bizim kuramsal küme için ağ gereksinimleri hello listesi aşağıdadır:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-119">Here is hello list of networking requirements for our hypothetical cluster:</span></span>

* <span data-ttu-id="ddaa8-120">Dış sistemler Cassandra veritabanından içinde veya Azure dışına erişemiyor</span><span class="sxs-lookup"><span data-stu-id="ddaa8-120">External systems can’t access Cassandra database from within or outside Azure</span></span>
* <span data-ttu-id="ddaa8-121">Cassandra küme thrift trafiği için yük dengeleyici arkasında toobe sahip</span><span class="sxs-lookup"><span data-stu-id="ddaa8-121">Cassandra cluster has toobe behind a load balancer for thrift traffic</span></span>
* <span data-ttu-id="ddaa8-122">Her veri merkezinde bir Gelişmiş küme kullanılabilirlik için iki grup Cassandra düğümler dağıtma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-122">Deploy Cassandra nodes in two groups in each data center for an enhanced cluster availability</span></span>
* <span data-ttu-id="ddaa8-123">Uygulama sunucusu grubu erişim toohello veritabanı doğrudan sahip yalnızca hello kümeyi bu nedenle, kilitleme</span><span class="sxs-lookup"><span data-stu-id="ddaa8-123">Lock down hello cluster so that only application server farm has access toohello database directly</span></span>
* <span data-ttu-id="ddaa8-124">Ortak ağ uç nokta SSH dışında</span><span class="sxs-lookup"><span data-stu-id="ddaa8-124">No public networking endpoints other than SSH</span></span>
* <span data-ttu-id="ddaa8-125">Her Cassandra düğümü sabit bir iç IP adresi gerekiyor</span><span class="sxs-lookup"><span data-stu-id="ddaa8-125">Each Cassandra node needs a fixed internal IP address</span></span>

<span data-ttu-id="ddaa8-126">Cassandra dağıtılan tooa tek Azure bölgesi veya toomultiple bölgeler hello iş yükü dağıtılan hello doğasına bağlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-126">Cassandra can be deployed tooa single Azure region or toomultiple regions based on hello distributed nature of hello workload.</span></span> <span data-ttu-id="ddaa8-127">Bölgeli dağıtım modeli çevrelerini tooserve son kullanıcılar daha yakından tooa belirli Coğrafya hello aracılığıyla olabilir aynı Cassandra altyapı.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-127">Multi-region deployment model can be leveraged tooserve end users closer tooa particular geography through hello same Cassandra infrastructure.</span></span> <span data-ttu-id="ddaa8-128">Cassandra'nın yerleşik düğümü çoğaltma alır dikkatli hello eşitleme çok yöneticisinin birden çok veri merkezleri kaynaklanan yazar ve hello veri tooapplications tutarlı bir görünümünü sunar.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-128">Cassandra’s built-in node replication takes care of hello synchronization of multi-master writes originating from multiple data centers and presents a consistent view of hello data tooapplications.</span></span> <span data-ttu-id="ddaa8-129">Bölgeli dağıtım ile Merhaba risk azaltma hello daha geniş Azure hizmet kesintisi durumunu da yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-129">Multi-region deployment can also help with hello risk mitigation of hello broader Azure service outages.</span></span> <span data-ttu-id="ddaa8-130">Cassandra'nın ince ayarlanabilir tutarlılık ve çoğaltma topolojisini uygulamaları farklı RPO ihtiyaçlarını karşılamak için yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-130">Cassandra’s tunable consistency and replication topology will help in meeting diverse RPO needs of applications.</span></span>

### <a name="single-region-deployment"></a><span data-ttu-id="ddaa8-131">Tek bölge dağıtımı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-131">Single Region Deployment</span></span>
<span data-ttu-id="ddaa8-132">Tek bölge dağıtımı ve bölgeli modeli oluşturma toplama hello learnings ile başlar.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-132">We will start with a single region deployment and harvest hello learnings in creating a multi-region model.</span></span> <span data-ttu-id="ddaa8-133">Yukarıda belirtilen hello ağ güvenliği gereksinimleri karşılanabilir böylece azure sanal ağı yalıtılmış kullanılan toocreate alt olacaktır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-133">Azure virtual networking will be used toocreate isolated subnets so that hello network security requirements mentioned above can be met.</span></span>  <span data-ttu-id="ddaa8-134">Merhaba tek bölge dağıtımı oluşturma'da açıklandığı hello işlemi Ubuntu 14.04 LTS ve Cassandra 2.08 kullanır; Ancak, hello işlem kolayca benimsenen toohello diğer Linux çeşitleri olabilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-134">hello process described in creating hello single region deployment uses Ubuntu 14.04 LTS and Cassandra 2.08; however, hello process can easily be adopted toohello other Linux variants.</span></span> <span data-ttu-id="ddaa8-135">Merhaba hello sistemle ilgili hello tek bölge dağıtımı özelliklerini bazıları şunlardır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-135">hello following are some of hello systemic characteristics of hello single region deployment.</span></span>  

<span data-ttu-id="ddaa8-136">**Yüksek Kullanılabilirlik:** tootwo kullanılabilirlik ayarlar hello düğümleri yüksek kullanılabilirlik için birden çok hata etki alanları arasında yayılır Şekil 1 dağıtılan hello gösterilen Cassandra düğümleri hello.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-136">**High Availability:** hello Cassandra nodes shown in hello Figure 1 are deployed tootwo availability sets so that hello nodes are spread between multiple fault domains for high availability.</span></span> <span data-ttu-id="ddaa8-137">Her kullanılabilirlik kümesiyle açıklama VM'ler eşlenen too2 hata etki alanlarını olur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-137">VMs annotated with each availability set is mapped too2 fault domains.</span></span>  <span data-ttu-id="ddaa8-138">Microsoft Azure kullanır hello hata etki alanı toomanage yükseltme etki alanı (örneğin, ana bilgisayar veya konuk işletim sistemi düzeltme eki uygulama/yükseltmeler, uygulama yükseltmelerini) hello kavramı sırasında (örn. donanım veya yazılım hatası) kesinti planlanmamış kavramı, zamanlanan saati yönetmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-138">Microsoft Azure uses hello concept of fault domain toomanage unplanned down time (e.g. hardware or software failures) while hello concept of upgrade domain (e.g. host or guest OS patching/upgrades, application upgrades) is used for managing scheduled down time.</span></span> <span data-ttu-id="ddaa8-139">Lütfen bakın [Azure uygulamaları için yüksek kullanılabilirlik ve olağanüstü durum kurtarma](http://msdn.microsoft.com/library/dn251004.aspx) yüksek kullanılabilirlik modemle hızlı bağlantılar sağlama, hata ve yükseltme etki alanlarının hello rolü için.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-139">Please see [Disaster Recovery and High Availability for Azure Applications](http://msdn.microsoft.com/library/dn251004.aspx) for hello role of fault and upgrade domains in attaining high availability.</span></span>

![Tek bölge dağıtımı](./media/cassandra-nodejs/cassandra-linux1.png)

<span data-ttu-id="ddaa8-141">Şekil 1: Tek bölge dağıtımı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-141">Figure 1: Single region deployment</span></span>

<span data-ttu-id="ddaa8-142">Bu yazma Hello anda hello açık eşleme VM'ler tooa belirli bir arıza etki alanı grubunun Azure izin vermeyen unutmayın; Bu nedenle, Şekil 1'de gösterilen bile hello dağıtım modeliyle, istatistiksel olarak olası tüm hello sanal makineleri dört yerine eşlenen tootwo hata etki alanları olabilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-142">Note that at hello time of this writing, Azure doesn’t allow hello explicit mapping of a group of VMs tooa specific fault domain; consequently, even with hello deployment model shown in Figure 1, it is statistically probable that all hello virtual machines may be mapped tootwo fault domains instead of four.</span></span>

<span data-ttu-id="ddaa8-143">**Yük Dengeleme Thrift trafiği:** hello web Sunucusu'ndaki Thrift istemci kitaplıkları bir iç yük dengeleyici toohello küme bağlanın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-143">**Load Balancing Thrift Traffic:** Thrift client libraries inside hello web server connect toohello cluster through an internal load balancer.</span></span> <span data-ttu-id="ddaa8-144">Bu hello iç yük dengeleyici toohello "data" alt ekleme işleminin hello gerektirir (Şekil 1 bakın) hello Cassandra küme barındırma hello bulut hizmeti hello bağlamında.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-144">This requires hello process of adding hello internal load balancer toohello “data” subnet (refer Figure 1) in hello context of hello cloud service hosting hello Cassandra cluster.</span></span> <span data-ttu-id="ddaa8-145">Merhaba iç yük dengeleyici tanımlandıktan sonra her düğüm hello yük dengeli uç nokta toobe hello ek açıklamalar yük dengelenmiş kümeye daha önceden tanımlanmış yük dengeleyicisi adı eklendi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-145">Once hello internal load balancer is defined, each node requires hello load balanced endpoint toobe added with hello annotations of a load balanced set with previously defined load balancer name.</span></span> <span data-ttu-id="ddaa8-146">Bkz: [Azure iç Yük Dengeleme ](../../../load-balancer/load-balancer-internal-overview.md)daha fazla ayrıntı için.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-146">See [Azure Internal Load Balancing ](../../../load-balancer/load-balancer-internal-overview.md)for more details.</span></span>

<span data-ttu-id="ddaa8-147">**Küme oluştururken çekirdeği:** tooselect hello en yüksek oranda kullanılabilir düğümler yeni düğümler hello gibi oluştururken çekirdeği çekirdek düğüm toodiscover hello topolojisi hello kümesinin ile iletişim kurması için önemlidir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-147">**Cluster Seeds:** It is important tooselect hello most highly available nodes for seeds as hello new nodes will communicate with seed nodes toodiscover hello topology of hello cluster.</span></span> <span data-ttu-id="ddaa8-148">Her kullanılabilirlik kümesinden bir düğümü çekirdek düğüm tooavoid tek hata noktası atanır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-148">One node from each availability set is designated as seed nodes tooavoid single point of failure.</span></span>

<span data-ttu-id="ddaa8-149">**Çoğaltma faktörünü ve tutarlılık düzeyi:** hello çoğaltma faktörü (RF - kopya hello kümesinde depolanan her bir satır sayısı) tarafından Cassandra'nın yerleşik yüksek kullanılabilirlik ve veri dayanıklılığı işlemleri ve tutarlılık düzeyi (sayısı çoğaltmaları toobe okunan yazılan/hello sonuç toohello çağıran döndürmeden önce).</span><span class="sxs-lookup"><span data-stu-id="ddaa8-149">**Replication Factor and Consistency Level:** Cassandra’s build-in high-availability and data durability is characterized by hello Replication Factor (RF - number of copies of each row stored on hello cluster) and Consistency Level (number of replicas toobe read/written before returning hello result toohello caller).</span></span> <span data-ttu-id="ddaa8-150">Merhaba tutarlılık düzeyi hello CRUD sorgu verme sırasında belirtilen ancak çoğaltma faktörü hello KEYSPACE (benzer tooa ilişkisel veritabanı) oluşturma sırasında belirtilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-150">Replication factor is specified during hello KEYSPACE (similar tooa relational database) creation whereas hello consistency level is specified while issuing hello CRUD query.</span></span> <span data-ttu-id="ddaa8-151">Cassandra belgelerine bakın [tutarlılık için yapılandırma](http://www.datastax.com/documentation/cassandra/2.0/cassandra/dml/dml_config_consistency_c.html) tutarlılık ayrıntılarını ve çekirdek hesaplama hello formülü için.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-151">See Cassandra documentation at [Configuring for Consistency](http://www.datastax.com/documentation/cassandra/2.0/cassandra/dml/dml_config_consistency_c.html) for consistency details and hello formula for quorum computation.</span></span>

<span data-ttu-id="ddaa8-152">Cassandra iki tür veri bütünlüğü modelleri – tutarlılık ve nihai tutarlılık destekler; Merhaba çoğaltma faktörü ve tutarlılık düzeyi birlikte hello veri yazma işlemi tamamlandığında veya sonuçta tutarlı hemen tutarlı olup olmayacağını belirler.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-152">Cassandra supports two types of data integrity models – Consistency and Eventual Consistency; hello Replication Factor and Consistency Level will together determine if hello data will be consistent as soon as a write operation is complete or it will be eventually consistent.</span></span> <span data-ttu-id="ddaa8-153">Örneğin, veri tutarlılığı gerekli tooattain yazılmış çoğaltmaları toobe hello sayısı altındaki herhangi bir tutarlılık düzeyi bağlanırken tutarlılık düzeyi her zaman olacak hello sağlar gibi çekirdek belirtme (örn. bir TANE) ÇEKİRDEĞİNİ sonuçta tutarlı olan verileri sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-153">For example, specifying QUORUM as hello Consistency Level will always ensures data Consistency while any consistency level, below hello number of replicas toobe written as needed tooattain QUORUM (e.g. ONE) results in data being eventually consistent.</span></span>

<span data-ttu-id="ddaa8-154">Yukarıda, 3 ve çekirdek çoğaltma faktörüyle hello 8 düğüm kümesi (2 düğümleri okumak veya tutarlılık için yazılan) okuma/yazma tutarlılık düzeyi, hello teorik kaybı çoğu 1 düğüm başına çoğaltma grubu hello uygulama başlamadan önce hello adresindeki varlığını sürdürmesini Merhaba haberiniz bile hata oluştu.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-154">hello 8-node cluster shown above, with a replication factor of 3 and QUORUM (2 nodes are read or written for consistency) read/write consistency level, can survive hello theoretical loss of at hello most 1 node per replication group before hello application start noticing hello failure.</span></span> <span data-ttu-id="ddaa8-155">Bu, tüm hello anahtar alanları okuma/yazma isteklerini iyi dengelenmiş varsayar.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-155">This assumes that all hello key spaces have well balanced read/write requests.</span></span>  <span data-ttu-id="ddaa8-156">Merhaba, dağıtılan hello küme için kullanacağız hello Parametreler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-156">hello following are hello parameters we will use for hello deployed cluster:</span></span>

<span data-ttu-id="ddaa8-157">Tek bölge Cassandra küme yapılandırması:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-157">Single region Cassandra cluster configuration:</span></span>

| <span data-ttu-id="ddaa8-158">Küme parametresi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-158">Cluster Parameter</span></span> | <span data-ttu-id="ddaa8-159">Değer</span><span class="sxs-lookup"><span data-stu-id="ddaa8-159">Value</span></span> | <span data-ttu-id="ddaa8-160">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="ddaa8-160">Remarks</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ddaa8-161">Düğüm (N) sayısı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-161">Number of Nodes (N)</span></span> |<span data-ttu-id="ddaa8-162">8</span><span class="sxs-lookup"><span data-stu-id="ddaa8-162">8</span></span> |<span data-ttu-id="ddaa8-163">Merhaba kümedeki düğümler toplam sayısı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-163">Total number of nodes in hello cluster</span></span> |
| <span data-ttu-id="ddaa8-164">Çoğaltma faktörü (RF)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-164">Replication Factor (RF)</span></span> |<span data-ttu-id="ddaa8-165">3</span><span class="sxs-lookup"><span data-stu-id="ddaa8-165">3</span></span> |<span data-ttu-id="ddaa8-166">Belirli bir satırın çoğaltmaların sayısı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-166">Number of replicas of a given row</span></span> |
| <span data-ttu-id="ddaa8-167">Tutarlılık düzeyi (yazma)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-167">Consistency Level (Write)</span></span> |<span data-ttu-id="ddaa8-168">QUORUM[(RF/2) +1) = 2] hello sonuç Merhaba formül yuvarlanır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-168">QUORUM[(RF/2) +1) = 2] hello result of hello formula is rounded down</span></span> |<span data-ttu-id="ddaa8-169">Merhaba yanıt toohello çağıran gönderilmeden önce hello çoğu 2 çoğaltma Yazar; 3 çoğaltma sonunda tutarlı bir şekilde yazılır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-169">Writes at hello most 2 replicas before hello response is sent toohello caller; 3rd replica is written in an eventually consistent manner.</span></span> |
| <span data-ttu-id="ddaa8-170">Tutarlılık düzeyi (okuma)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-170">Consistency Level (Read)</span></span> |<span data-ttu-id="ddaa8-171">Çekirdek [(RF/2) + 1 = 2] hello formülün hello sonucu aşağı yuvarlanmasını</span><span class="sxs-lookup"><span data-stu-id="ddaa8-171">QUORUM [(RF/2) +1= 2] hello result of hello formula is rounded down</span></span> |<span data-ttu-id="ddaa8-172">2 çoğaltma yanıt toohello çağıran göndermeden önce okur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-172">Reads 2 replicas before sending response toohello caller.</span></span> |
| <span data-ttu-id="ddaa8-173">Çoğaltma stratejisi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-173">Replication Strategy</span></span> |<span data-ttu-id="ddaa8-174">NetworkTopologyStrategy bakın [veri çoğaltma](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureDataDistributeReplication_c.html) Cassandra belgelerinde daha fazla bilgi için</span><span class="sxs-lookup"><span data-stu-id="ddaa8-174">NetworkTopologyStrategy see [Data Replication](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureDataDistributeReplication_c.html) in Cassandra documentation for more information</span></span> |<span data-ttu-id="ddaa8-175">Merhaba dağıtım topolojisi anlar ve çoğaltmalar, düğümlerde yerleştirir, böylece tüm hello çoğaltmalar Merhaba üzerinde aynı sona ermez raf</span><span class="sxs-lookup"><span data-stu-id="ddaa8-175">Understands hello deployment topology and places replicas on nodes so that all hello replicas don’t end up on hello same rack</span></span> |
| <span data-ttu-id="ddaa8-176">Snitch</span><span class="sxs-lookup"><span data-stu-id="ddaa8-176">Snitch</span></span> |<span data-ttu-id="ddaa8-177">GossipingPropertyFileSnitch bakın [Snitches](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureSnitchesAbout_c.html) Cassandra belgelerinde daha fazla bilgi için</span><span class="sxs-lookup"><span data-stu-id="ddaa8-177">GossipingPropertyFileSnitch see [Snitches](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureSnitchesAbout_c.html) in Cassandra documentation for more information</span></span> |<span data-ttu-id="ddaa8-178">NetworkTopologyStrategy snitch toounderstand hello topoloji kavramı kullanır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-178">NetworkTopologyStrategy uses a concept of snitch toounderstand hello topology.</span></span> <span data-ttu-id="ddaa8-179">GossipingPropertyFileSnitch her düğüm toodata merkezi ve raf eşleme daha iyi denetim olanağı verir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-179">GossipingPropertyFileSnitch gives better control in mapping each node toodata center and rack.</span></span> <span data-ttu-id="ddaa8-180">Merhaba küme dedikodu toopropagate sonra bu bilgileri kullanır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-180">hello cluster then uses gossip toopropagate this information.</span></span> <span data-ttu-id="ddaa8-181">Bu dinamik IP ayarı göreli tooPropertyFileSnitch çok daha kolaydır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-181">This is much simpler in dynamic IP setting relative tooPropertyFileSnitch</span></span> |

<span data-ttu-id="ddaa8-182">**Cassandra küme Azure dikkate alınacak noktalar:** Microsoft Azure sanal makineleri özelliğine disk kalıcılığını; Azure Blob Depolama kullanır Azure depolama her disk yüksek dayanıklılık için 3 çoğaltmalarının kaydeder.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-182">**Azure Considerations for Cassandra Cluster:** Microsoft Azure Virtual Machines capability uses Azure Blob storage for disk persistence; Azure Storage saves 3 replicas of each disk for high durability.</span></span> <span data-ttu-id="ddaa8-183">Her bir Cassandra tabloya eklenen veri satırının zaten 3 yinelemede depolanır ve bu nedenle veri tutarlılığını zaten hello çoğaltma faktörü (RF) 1 olsa bile dikkate anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-183">That means each row of data inserted into a Cassandra table is already stored in 3 replicas and hence data consistency is already taken care of even if hello Replication Factor (RF) is 1.</span></span> <span data-ttu-id="ddaa8-184">Merhaba ana çoğaltma faktörle 1 olan tek bir Cassandra düğüm başarısız olsa bile hello uygulama kapalı kalma süresi yaşar sorunudur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-184">hello main problem with Replication Factor being 1 is that hello application will experience downtime even if a single Cassandra node fails.</span></span> <span data-ttu-id="ddaa8-185">Ancak, bir düğüm Azure yapı denetleyicisi tarafından tanınan hello sorunları (örneğin, donanım, sistem yazılım hataları) çalışmıyorsa, onu yerde kullanarak yeni bir düğüm hazırlayacağınız hello aynı depolama sürücülerini.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-185">However, if a node is down for hello problems (e.g. hardware, system software failures) recognized by Azure Fabric Controller, it will provision a new node in its place using hello same storage drives.</span></span> <span data-ttu-id="ddaa8-186">Bir işlem birkaç dakika sürebilir bir yeni düğümü tooreplace hello eski sağlama.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-186">Provisioning a new node tooreplace hello old one may take a few minutes.</span></span>  <span data-ttu-id="ddaa8-187">Benzer şekilde konuk işletim sistemi değişiklikleri gibi planlı bakım etkinlikler, Cassandra yükseltir ve Merhaba kümede çalışırken yükseltme hello düğümlerinin Azure yapı denetleyicisi uygulama değişiklikleri gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-187">Similarly for planned maintenance activities like guest OS changes, Cassandra upgrades and application changes Azure Fabric Controller performs rolling upgrades of hello nodes in hello cluster.</span></span>  <span data-ttu-id="ddaa8-188">Çalışırken yükseltme da birkaç düğüm aynı anda sürebilir ve bu nedenle hello küme birkaç bölümler için kısa kapalı kalma süresi karşılaşabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-188">Rolling upgrades also may take down a few nodes at a time and hence hello cluster may experience brief downtime for a few partitions.</span></span> <span data-ttu-id="ddaa8-189">Ancak, hello veri toohello yerleşik Azure Storage artıklık kayıp olmaz.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-189">However, hello data will not be lost due toohello built-in Azure Storage redundancy.</span></span>  

<span data-ttu-id="ddaa8-190">Yüksek kullanılabilirlik gerektirmeyen tooAzure sistemleri dağıtılan için (örneğin yaklaşık 99,9 olduğu eşdeğer too8.76 SA/yıl; bkz [yüksek kullanılabilirlik](http://en.wikipedia.org/wiki/High_availability) Ayrıntılar için) RF ile mümkün toorun olabilir = 1 ve tutarlılık düzeyi = ONE.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-190">For systems deployed tooAzure that doesn’t require high availability (e.g. around 99.9 which is equivalent too8.76 hrs/year; see [High Availability](http://en.wikipedia.org/wiki/High_availability) for details) you may be able toorun with RF=1 and Consistency Level=ONE.</span></span>  <span data-ttu-id="ddaa8-191">Yüksek oranda kullanılabilirlik gereksinimleri, RF olan uygulamalar için 3 ve tutarlılık düzeyi = = çekirdek hello çoğaltmaları bir düğümlerinin hello birinin kesinti hello tolerans.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-191">For applications with high availability requirements, RF=3 and Consistency Level=QUORUM will tolerate hello down time of one of hello nodes one of hello replicas.</span></span> <span data-ttu-id="ddaa8-192">RF = 1 geleneksel dağıtımlarda (örn. şirket içi), disk hataları gibi sorunlar kaynaklanan toohello olası veri kaybı nedeniyle kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-192">RF=1 in traditional deployments (e.g. on-premises) can’t be used due toohello possible data loss resulting from problems like disk failures.</span></span>   

## <a name="multi-region-deployment"></a><span data-ttu-id="ddaa8-193">Çok bölge dağıtımı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-193">Multi-region Deployment</span></span>
<span data-ttu-id="ddaa8-194">Cassandra'nın veri merkezi kullanmayan çoğaltma ve tutarlılık modeli yardımcı hello kutusu hello olmadan dışında hello bölgeli dağıtımla yukarıda açıklanan tüm dış araçları için gerekir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-194">Cassandra’s data-center-aware replication and consistency model described above helps with hello multi-region deployment out of hello box without hello need for any external tooling.</span></span> <span data-ttu-id="ddaa8-195">Burada, birden çok yöneticili yazmalar için veritabanı yansıtma için hello Kurulum oldukça karmaşık olabilir bu hello geleneksel ilişkisel veritabanlarından oldukça farklı değildir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-195">This is quite different from hello traditional relational databases where hello setup for database mirroring for multi-master writes can be quite complex.</span></span> <span data-ttu-id="ddaa8-196">Ayarlanmış bir çok bölgede Cassandra hello aşağıdakiler dahil hello kullanım senaryoları yardımcı olabilir:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-196">Cassandra in a multi-region set up can help with hello usage scenarios including hello following:</span></span>

<span data-ttu-id="ddaa8-197">**Yakınlık dayalı dağıtım:** Kiracı Kullanıcı Temizle eşleme ile çok kiracılı uygulamalara-için-bölge hello bölgeli kümenin düşük gecikme tarafından benefited.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-197">**Proximity based deployment:** Multi-tenant applications, with clear mapping of tenant users -to-region, can be benefited by hello multi-region cluster’s low latencies.</span></span> <span data-ttu-id="ddaa8-198">Örneğin, bir öğrenme yönetim sistemleri için eğitim kurumları Doğu ABD ve Batı ABD bölgeleri tooserve hello ilgili artık kampüsünde için Dağıtılmış bir kümede dağıtabilirsiniz analytics yanı sıra işlem.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-198">For example a learning management systems for educational institutions can deploy a distributed cluster in East US and West US regions tooserve hello respective campuses for transactional as well as analytics.</span></span> <span data-ttu-id="ddaa8-199">Merhaba veri hello zaman okuma ve yazma işlemleri sırasında yerel olarak tutarlı olabilir ve her iki hello bölgeler arasında sonuçta tutarlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-199">hello data can be locally consistent at hello time reads and writes and can be eventually consistent across both hello regions.</span></span> <span data-ttu-id="ddaa8-200">Medya dağıtım, e-ticaret ve herhangi bir şey gibi diğer örnekler vardır ve yoğunlaşmıştır coğrafi kullanıcı temel görevi gören her şeyi, bu dağıtım modeli için iyi durumdur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-200">There are other examples like media distribution, e-commerce and anything and everything that serves geo concentrated user base is a good use case for this deployment model.</span></span>

<span data-ttu-id="ddaa8-201">**Yüksek Kullanılabilirlik:** artıklık yazılım ve donanım yüksek kullanılabilirliğini modemle hızlı bağlantılar sağlama bir anahtar etken; yapı güvenilir bulut sistemleri Microsoft Azure üzerinde ayrıntılı bilgi için bkz.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-201">**High Availability:** Redundancy is a key factor in attaining high availability of software and hardware; see Building Reliable Cloud Systems on Microsoft Azure for details.</span></span> <span data-ttu-id="ddaa8-202">Microsoft Azure üzerinde doğru artıklık elde hello yalnızca güvenilir bir bölgeli küme dağıtarak yoludur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-202">On Microsoft Azure, hello only reliable way of achieving true redundancy is by deploying a multi-region cluster.</span></span> <span data-ttu-id="ddaa8-203">Uygulamaları bir etkin-etkin veya etkin-Pasif modu dağıtılabilir ve hello bölgelerinden kapalı ise, Azure Traffic Manager trafik toohello etkin bölge yönlendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-203">Applications can be deployed in an active-active or active-passive mode and if one of hello regions is down, Azure Traffic Manager can redirect traffic toohello active region.</span></span>  <span data-ttu-id="ddaa8-204">Merhaba kullanılabilirlik 99,9, ise hello tek bölge dağıtımı ile iki bölge dağıtımı hello formülüne göre hesaplanan 99.9999 kullanılabilirliği elde edebilirsiniz: (1-(1-0.999) * (1-0.999)) * 100); Ayrıntılar için kağıt yukarıda Hello bakın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-204">With hello single region deployment, if hello availability is 99.9, a two-region deployment can attain an availability of 99.9999 computed by hello formula: (1-(1-0.999) * (1-0.999))*100); see hello above paper for details.</span></span>

<span data-ttu-id="ddaa8-205">**Olağanüstü durum kurtarma:** bölgeli Cassandra küme düzgün bir şekilde tasarlanmış, dayanacak geri dönülemez veri merkezi kesintilerini.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-205">**Disaster Recovery:** Multi-region Cassandra cluster, if properly designed, can withstand catastrophic data center outages.</span></span> <span data-ttu-id="ddaa8-206">Bir bölge kapalı ise, hello dağıtılan uygulama tooother bölgeler hello son kullanıcıların hizmet veren başlatabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-206">If one region is down, hello application deployed tooother regions can start serving hello end users.</span></span> <span data-ttu-id="ddaa8-207">Tüm diğer iş sürekliliği uygulamaları gibi hello uygulama toobe hello veri hello zaman uyumsuz ardışık düzeninde kaynaklanan bazı veri kaybıyla dayanıklı sahiptir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-207">Like any other business continuity implementations, hello application has toobe tolerant for some data loss resulting from hello data in hello asynchronous pipeline.</span></span> <span data-ttu-id="ddaa8-208">Ancak, Cassandra hello kurtarma geleneksel veritabanı kurtarma işlemleri tarafından harcanan hello süre çok swifter yapar.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-208">However, Cassandra makes hello recovery much swifter than hello time taken by traditional database recovery processes.</span></span> <span data-ttu-id="ddaa8-209">Şekil 2 sekiz düğümlerle hello tipik bölgeli dağıtım modeli, her bölgede gösterir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-209">Figure 2 shows hello typical multi-region deployment model with eight nodes in each region.</span></span> <span data-ttu-id="ddaa8-210">Yansıtma görüntülerini Merhaba için iki bölgeleri olan simetrisi; aynı gerçek dünya tasarımları hello iş yükü türünü (örn. işlem veya analitik), RPO, RTO, veri tutarlılığı ve kullanılabilirlik gereksinimlerine bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-210">Both regions are mirror images of each other for hello same of symmetry; real world designs depend on hello workload type (e.g. transactional or analytical), RPO, RTO, data consistency and availability requirements.</span></span>

![Çoklu bölge dağıtımı](./media/cassandra-nodejs/cassandra-linux2.png)

<span data-ttu-id="ddaa8-212">Şekil 2: Bölgeli Cassandra dağıtımı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-212">Figure 2: Multi-region Cassandra deployment</span></span>

### <a name="network-integration"></a><span data-ttu-id="ddaa8-213">Ağ tümleştirme</span><span class="sxs-lookup"><span data-stu-id="ddaa8-213">Network Integration</span></span>
<span data-ttu-id="ddaa8-214">Sanal makineler üzerinde iki bölgede bulunan dağıtılan tooprivate ağlar birbirleri ile iletişim kurar kümesi VPN tüneli kullanma.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-214">Sets of virtual machines deployed tooprivate networks located on two regions communicates with each other using a VPN tunnel.</span></span> <span data-ttu-id="ddaa8-215">Merhaba VPN tüneli hello ağ dağıtım işlemi sırasında sağlanan iki yazılım ağ geçidi bağlanır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-215">hello VPN tunnel connects two software gateways provisioned during hello network deployment process.</span></span> <span data-ttu-id="ddaa8-216">Her iki bölgeden "web" ve "data" alt bakımından benzer ağ mimarisi; yine de sahip istiyor musunuz? Azure ağı gerektiğinde kadar alt ağlar hello oluşturulmasına izin verir ve ağ güvenliği tarafından gerektiği şekilde ACL'ler uygulayın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-216">Both regions have similar network architecture in terms of “web” and “data” subnets; Azure networking allows hello creation of as many subnets as needed and apply ACLs as needed by network security.</span></span> <span data-ttu-id="ddaa8-217">Merhaba küme topolojisi tasarlarken, veri merkezi iletişimi gecikme süresi ve hello ekonomik etkisini hello ağ trafiği gerek toobe kabul ağlar arası.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-217">While designing hello cluster topology inter data center communication latency and hello economic impact of hello network traffic need toobe considered.</span></span>

### <a name="data-consistency-for-multi-data-center-deployment"></a><span data-ttu-id="ddaa8-218">Birden çok veri merkezi dağıtım için veri tutarlılığı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-218">Data Consistency for Multi-Data Center Deployment</span></span>
<span data-ttu-id="ddaa8-219">Dağıtımları gerek toobe hello küme topolojisi etkisini performans ve yüksek kullanılabilirlik farkında dağıtılmış.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-219">Distributed deployments need toobe aware of hello cluster topology impact on throughput and high availability.</span></span> <span data-ttu-id="ddaa8-220">Merhaba çekirdek hello bu şekilde seçtiğiniz RF ve tutarlılık düzeyi gereksinimi toobe tüm hello veri merkezleri hello kullanılabilirliğini bağımlı değil.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-220">hello RF and Consistency Level need toobe selected in such way that hello quorum doesn’t depend on hello availability of all hello data centers.</span></span>
<span data-ttu-id="ddaa8-221">Tutarlılık düzeyi (okuma ve yazma) bu hello yerel emin olmanızı sağlayacak için yüksek tutarlılık, bir LOCAL_QUORUM gerektiren bir sistem okuma ve yazma hello yerel karşılanır veri aktarılırken düğümleri toohello uzak veri merkezleri zaman uyumsuz olarak kopyalandığı.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-221">For a system that needs high consistency, a LOCAL_QUORUM for consistency level (for reads and writes) will make sure that hello local reads and writes are satisfied from hello local nodes while data is replicated asynchronously toohello remote data centers.</span></span>  <span data-ttu-id="ddaa8-222">Tablo 2 hello yapılandırma ayrıntıları daha sonra hello özetlenen hello bölgeli kümesi için yazma yukarı özetlenmiştir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-222">Table 2 summarizes hello configuration details for hello multi-region cluster outlined later in hello write up.</span></span>

<span data-ttu-id="ddaa8-223">**İki bölge Cassandra küme yapılandırması**</span><span class="sxs-lookup"><span data-stu-id="ddaa8-223">**Two-region Cassandra cluster configuration**</span></span>

| <span data-ttu-id="ddaa8-224">Küme parametresi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-224">Cluster Parameter</span></span> | <span data-ttu-id="ddaa8-225">Değer</span><span class="sxs-lookup"><span data-stu-id="ddaa8-225">Value</span></span> | <span data-ttu-id="ddaa8-226">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="ddaa8-226">Remarks</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ddaa8-227">Düğüm (N) sayısı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-227">Number of Nodes (N)</span></span> |<span data-ttu-id="ddaa8-228">8 + 8</span><span class="sxs-lookup"><span data-stu-id="ddaa8-228">8 + 8</span></span> |<span data-ttu-id="ddaa8-229">Merhaba kümedeki düğümler toplam sayısı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-229">Total number of nodes in hello cluster</span></span> |
| <span data-ttu-id="ddaa8-230">Çoğaltma faktörü (RF)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-230">Replication Factor (RF)</span></span> |<span data-ttu-id="ddaa8-231">3</span><span class="sxs-lookup"><span data-stu-id="ddaa8-231">3</span></span> |<span data-ttu-id="ddaa8-232">Belirli bir satırın çoğaltmaların sayısı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-232">Number of replicas of a given row</span></span> |
| <span data-ttu-id="ddaa8-233">Tutarlılık düzeyi (yazma)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-233">Consistency Level (Write)</span></span> |<span data-ttu-id="ddaa8-234">LOCAL_QUORUM [(sum(RF)/2) +1) = 4] hello formülün hello sonucu aşağı yuvarlanmasını</span><span class="sxs-lookup"><span data-stu-id="ddaa8-234">LOCAL_QUORUM [(sum(RF)/2) +1) = 4] hello result of hello formula is rounded down</span></span> |<span data-ttu-id="ddaa8-235">2 düğümleri toohello ilk veri merkezi zaman uyumlu olarak yazılır; Merhaba ek 2 düğümler çekirdek için gereken zaman uyumsuz olarak toohello 2 veri merkezi yazılır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-235">2 nodes will be written toohello first data center synchronously; hello additional 2 nodes needed for quorum will be written asynchronously toohello 2nd data center.</span></span> |
| <span data-ttu-id="ddaa8-236">Tutarlılık düzeyi (okuma)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-236">Consistency Level (Read)</span></span> |<span data-ttu-id="ddaa8-237">LOCAL_QUORUM ((RF/2) + 1) = 2 hello formülün hello sonucu aşağı yuvarlanmasını</span><span class="sxs-lookup"><span data-stu-id="ddaa8-237">LOCAL_QUORUM ((RF/2) +1) = 2 hello result of hello formula is rounded down</span></span> |<span data-ttu-id="ddaa8-238">Okuma isteği yalnızca bir bölgesinden karşılanır; Merhaba yanıt geri toohello istemci gönderilmeden önce 2 düğümleri salt okunurdur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-238">Read requests are satisfied from only one region; 2 nodes are read before hello response is sent back toohello client.</span></span> |
| <span data-ttu-id="ddaa8-239">Çoğaltma stratejisi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-239">Replication Strategy</span></span> |<span data-ttu-id="ddaa8-240">NetworkTopologyStrategy bakın [veri çoğaltma](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureDataDistributeReplication_c.html) Cassandra belgelerinde daha fazla bilgi için</span><span class="sxs-lookup"><span data-stu-id="ddaa8-240">NetworkTopologyStrategy see [Data Replication](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureDataDistributeReplication_c.html) in Cassandra documentation for more information</span></span> |<span data-ttu-id="ddaa8-241">Merhaba dağıtım topolojisi anlar ve çoğaltmalar, düğümlerde yerleştirir, böylece tüm hello çoğaltmalar Merhaba üzerinde aynı sona ermez raf</span><span class="sxs-lookup"><span data-stu-id="ddaa8-241">Understands hello deployment topology and places replicas on nodes so that all hello replicas don’t end up on hello same rack</span></span> |
| <span data-ttu-id="ddaa8-242">Snitch</span><span class="sxs-lookup"><span data-stu-id="ddaa8-242">Snitch</span></span> |<span data-ttu-id="ddaa8-243">GossipingPropertyFileSnitch bakın [Snitches](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureSnitchesAbout_c.html) Cassandra belgelerinde daha fazla bilgi için</span><span class="sxs-lookup"><span data-stu-id="ddaa8-243">GossipingPropertyFileSnitch see [Snitches](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureSnitchesAbout_c.html) in Cassandra documentation for more information</span></span> |<span data-ttu-id="ddaa8-244">NetworkTopologyStrategy snitch toounderstand hello topoloji kavramı kullanır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-244">NetworkTopologyStrategy uses a concept of snitch toounderstand hello topology.</span></span> <span data-ttu-id="ddaa8-245">GossipingPropertyFileSnitch her düğüm toodata merkezi ve raf eşleme daha iyi denetim olanağı verir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-245">GossipingPropertyFileSnitch gives better control in mapping each node toodata center and rack.</span></span> <span data-ttu-id="ddaa8-246">Merhaba küme dedikodu toopropagate sonra bu bilgileri kullanır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-246">hello cluster then uses gossip toopropagate this information.</span></span> <span data-ttu-id="ddaa8-247">Bu dinamik IP ayarı göreli tooPropertyFileSnitch çok daha kolaydır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-247">This is much simpler in dynamic IP setting relative tooPropertyFileSnitch</span></span> |

## <a name="hello-software-configuration"></a><span data-ttu-id="ddaa8-248">Merhaba yazılım yapılandırma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-248">hello SOFTWARE CONFIGURATION</span></span>
<span data-ttu-id="ddaa8-249">yazılım sürümleri aşağıdaki hello hello dağıtımı sırasında kullanılır:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-249">hello following software versions are used during hello deployment:</span></span>

<table>
<tr><th><span data-ttu-id="ddaa8-250">Yazılım</span><span class="sxs-lookup"><span data-stu-id="ddaa8-250">Software</span></span></th><th><span data-ttu-id="ddaa8-251">Kaynak</span><span class="sxs-lookup"><span data-stu-id="ddaa8-251">Source</span></span></th><th><span data-ttu-id="ddaa8-252">Sürüm</span><span class="sxs-lookup"><span data-stu-id="ddaa8-252">Version</span></span></th></tr>
<tr><td><span data-ttu-id="ddaa8-253">JRE</span><span class="sxs-lookup"><span data-stu-id="ddaa8-253">JRE</span></span>    </td><td><span data-ttu-id="ddaa8-254">[JRE 8](http://www.oracle.com/technetwork/java/javase/downloads/server-jre8-downloads-2133154.html) </span><span class="sxs-lookup"><span data-stu-id="ddaa8-254">[JRE 8](http://www.oracle.com/technetwork/java/javase/downloads/server-jre8-downloads-2133154.html) </span></span></td><td><span data-ttu-id="ddaa8-255">8U5</span><span class="sxs-lookup"><span data-stu-id="ddaa8-255">8U5</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-256">JNA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-256">JNA</span></span>    </td><td><span data-ttu-id="ddaa8-257">[JNA](https://github.com/twall/jna) </span><span class="sxs-lookup"><span data-stu-id="ddaa8-257">[JNA](https://github.com/twall/jna) </span></span></td><td> <span data-ttu-id="ddaa8-258">3.2.7</span><span class="sxs-lookup"><span data-stu-id="ddaa8-258">3.2.7</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-259">Cassandra</span><span class="sxs-lookup"><span data-stu-id="ddaa8-259">Cassandra</span></span></td><td>[<span data-ttu-id="ddaa8-260">Apache Cassandra 2.0.8</span><span class="sxs-lookup"><span data-stu-id="ddaa8-260">Apache Cassandra 2.0.8</span></span>](http://www.apache.org/dist/cassandra/2.0.8/apache-cassandra-2.0.8-bin.tar.gz)</td><td> <span data-ttu-id="ddaa8-261">2.0.8</span><span class="sxs-lookup"><span data-stu-id="ddaa8-261">2.0.8</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-262">Ubuntu</span><span class="sxs-lookup"><span data-stu-id="ddaa8-262">Ubuntu</span></span>    </td><td><span data-ttu-id="ddaa8-263">[Microsoft Azure](https://azure.microsoft.com/) </span><span class="sxs-lookup"><span data-stu-id="ddaa8-263">[Microsoft Azure](https://azure.microsoft.com/) </span></span></td><td><span data-ttu-id="ddaa8-264">14.04 LTS</span><span class="sxs-lookup"><span data-stu-id="ddaa8-264">14.04 LTS</span></span></td></tr>
</table>

<span data-ttu-id="ddaa8-265">JRE indirme Oracle lisans, toosimplify hello dağıtım, tüm gerekli yazılım toohello Masaüstü biz precursor toohello küme olarak oluşturulacağını hello Ubuntu şablon görüntüsü daha sonra yüklemeyle hello indirme el ile kabul gerektirdiğinden dağıtımı.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-265">Since downloading of JRE requires manual acceptance of Oracle license, toosimplify hello deployment, download all hello required software toohello desktop for later uploading into hello Ubuntu template image we will be creating as a precursor toohello cluster deployment.</span></span>

<span data-ttu-id="ddaa8-266">Bir dizine iyi bilinen yükleme (örneğin Windows %TEMP%/downloads veya ~/Downloads çoğu Linux dağıtımları veya Mac üzerinde) hello yerel bilgisayarda yazılım yukarıda Hello indirin.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-266">Download hello above software into a well-known download directory (e.g. %TEMP%/downloads on Windows or ~/Downloads on most Linux distributions or Mac) on hello local computer.</span></span>

### <a name="create-ubuntu-vm"></a><span data-ttu-id="ddaa8-267">UBUNTU VM OLUŞTURMA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-267">CREATE UBUNTU VM</span></span>
<span data-ttu-id="ddaa8-268">Böylece Hello görüntü birçok Cassandra düğümlerini sağlamak için yeniden kullanılabilir hello işleminin bu adımında Ubuntu görüntü hello önkoşul yazılımı ile oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-268">In this step of hello process we will create Ubuntu image with hello pre-requisite software so that hello image can be reused for provisioning several Cassandra nodes.</span></span>  

#### <a name="step-1-generate-ssh-key-pair"></a><span data-ttu-id="ddaa8-269">1. adım: SSH anahtar çifti oluşturma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-269">STEP 1: Generate SSH key pair</span></span>
<span data-ttu-id="ddaa8-270">Azure PEM ya da DER ortak anahtar zaman sağlama hello kodlanmış bir X509 gerekir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-270">Azure needs an X509 public key that is either PEM or DER encoded at hello provisioning time.</span></span> <span data-ttu-id="ddaa8-271">Ne bulunan hello yönergeleri kullanarak bir genel/özel anahtar çifti oluşturmak tooUse SSH Linux Azure üzerinde.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-271">Generate a public/private key pair using hello instructions located at How tooUse SSH with Linux on Azure.</span></span> <span data-ttu-id="ddaa8-272">Bir SSH istemcisi Windows veya Linux olarak toouse putty.exe düşünüyorsanız, tooconvert sahip hello PEM kodlanmış puttygen.exe; kullanarak RSA özel anahtar tooPPK biçimi Merhaba yönergeler için bu web sayfası yukarıda hello bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-272">If you plan toouse putty.exe as an SSH client either on Windows or Linux, you have tooconvert hello PEM encoded RSA private key tooPPK format using puttygen.exe; hello instructions for this can be found in hello above web page.</span></span>

#### <a name="step-2-create-ubuntu-template-vm"></a><span data-ttu-id="ddaa8-273">2. adım: Ubuntu şablonu VM oluşturma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-273">STEP 2: Create Ubuntu template VM</span></span>
<span data-ttu-id="ddaa8-274">toocreate hello şablonu VM dizisi şu Azure Klasik portalı ve kullanım hello hello oturum: yeni, işlem, sanal makine, başlangıç Galerisi, UBUNTU, Ubuntu Server 14.04 LTS tıklatın ve ardından hello sağ oka tıklayın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-274">toocreate hello template VM, log into hello Azure classic portal and use hello following sequence: Click NEW, COMPUTE, VIRTUAL MACHINE, FROM GALLERY, UBUNTU, Ubuntu Server 14.04 LTS, and then click hello right arrow.</span></span> <span data-ttu-id="ddaa8-275">Bir Linux VM toocreate nasıl görürüm açıklayan bir öğretici için çalışan bir sanal makine Linux oluşturun.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-275">For a tutorial that describes how toocreate a Linux VM, see Create a Virtual Machine Running Linux.</span></span>

<span data-ttu-id="ddaa8-276">#1 "sanal makine yapılandırma" Merhaba ekranında bilgisinden hello girin:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-276">Enter hello following information on hello “Virtual machine configuration” screen #1:</span></span>

<table>
<tr><th><span data-ttu-id="ddaa8-277">ALAN ADI</span><span class="sxs-lookup"><span data-stu-id="ddaa8-277">FIELD NAME</span></span>              </td><td>       <span data-ttu-id="ddaa8-278">ALAN DEĞERİ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-278">FIELD VALUE</span></span>               </td><td>         <span data-ttu-id="ddaa8-279">AÇIKLAMALAR</span><span class="sxs-lookup"><span data-stu-id="ddaa8-279">REMARKS</span></span>                </td><tr>
<tr><td><span data-ttu-id="ddaa8-280">SÜRÜM YAYIN TARİHİ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-280">VERSION RELEASE DATE</span></span>    </td><td> <span data-ttu-id="ddaa8-281">Merhaba açılan tarih seçin</span><span class="sxs-lookup"><span data-stu-id="ddaa8-281">Select a date from hello drop down</span></span></td><td></td><tr>
<tr><td><span data-ttu-id="ddaa8-282">SANAL MAKİNE ADI</span><span class="sxs-lookup"><span data-stu-id="ddaa8-282">VIRTUAL MACHINE NAME</span></span>    </td><td> <span data-ttu-id="ddaa8-283">CASS şablonu</span><span class="sxs-lookup"><span data-stu-id="ddaa8-283">cass-template</span></span>                   </td><td> <span data-ttu-id="ddaa8-284">Bu hello VM hello ana adıdır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-284">This is hello hostname of hello VM</span></span> </td><tr>
<tr><td><span data-ttu-id="ddaa8-285">KATMANI</span><span class="sxs-lookup"><span data-stu-id="ddaa8-285">TIER</span></span>                     </td><td> <span data-ttu-id="ddaa8-286">STANDART</span><span class="sxs-lookup"><span data-stu-id="ddaa8-286">STANDARD</span></span>                           </td><td> <span data-ttu-id="ddaa8-287">Merhaba varsayılan adı bırakın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-287">Leave hello default</span></span>              </td><tr>
<tr><td><span data-ttu-id="ddaa8-288">BOYUTU</span><span class="sxs-lookup"><span data-stu-id="ddaa8-288">SIZE</span></span>                     </td><td> <span data-ttu-id="ddaa8-289">A1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-289">A1</span></span>                              </td><td><span data-ttu-id="ddaa8-290">G/ç hello üzerinde VM tabanlı select hello gerekiyor; Bu amaçla hello varsayılan adı bırakın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-290">Select hello VM based on hello IO needs; for this purpose leave hello default</span></span> </td><tr>
<tr><td> <span data-ttu-id="ddaa8-291">YENİ BİR KULLANICI ADI</span><span class="sxs-lookup"><span data-stu-id="ddaa8-291">NEW USER NAME</span></span>             </td><td> <span data-ttu-id="ddaa8-292">yerelyönetici</span><span class="sxs-lookup"><span data-stu-id="ddaa8-292">localadmin</span></span>                       </td><td> <span data-ttu-id="ddaa8-293">"Yönetici" Ubuntu 12. xx ve sonra ayrılmış kullanıcı adı sağlanmış</span><span class="sxs-lookup"><span data-stu-id="ddaa8-293">"admin" is a reserved user name in Ubuntu 12.xx and after</span></span></td><tr>
<tr><td> <span data-ttu-id="ddaa8-294">KİMLİK DOĞRULAMASI</span><span class="sxs-lookup"><span data-stu-id="ddaa8-294">AUTHENTICATION</span></span>         </td><td> <span data-ttu-id="ddaa8-295">Onay kutusu</span><span class="sxs-lookup"><span data-stu-id="ddaa8-295">Click check box</span></span>                 </td><td><span data-ttu-id="ddaa8-296">Bir SSH anahtarı ile toosecure istiyorsanız denetleyin</span><span class="sxs-lookup"><span data-stu-id="ddaa8-296">Check if you want toosecure with an SSH key</span></span> </td><tr>
<tr><td> <span data-ttu-id="ddaa8-297">SERTİFİKA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-297">CERTIFICATE</span></span>             </td><td> <span data-ttu-id="ddaa8-298">Merhaba ortak anahtar sertifikası dosya adı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-298">file name of hello public key certificate</span></span> </td><td> <span data-ttu-id="ddaa8-299">Daha önce oluşturulan hello ortak anahtarı kullanır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-299">Use hello public key generated previously</span></span></td><tr>
<tr><td> <span data-ttu-id="ddaa8-300">Yeni parola</span><span class="sxs-lookup"><span data-stu-id="ddaa8-300">New Password</span></span>    </td><td> <span data-ttu-id="ddaa8-301">güçlü parola</span><span class="sxs-lookup"><span data-stu-id="ddaa8-301">strong password</span></span> </td><td> </td><tr>
<tr><td> <span data-ttu-id="ddaa8-302">Parolayı onaylayın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-302">Confirm Password</span></span>    </td><td> <span data-ttu-id="ddaa8-303">güçlü parola</span><span class="sxs-lookup"><span data-stu-id="ddaa8-303">strong password</span></span> </td><td></td><tr>
</table>

<span data-ttu-id="ddaa8-304">#2 hello "sanal makine yapılandırma" ekranında bilgisinden hello girin:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-304">Enter hello following information on hello “Virtual machine configuration” screen #2:</span></span>

<table>
<tr><th><span data-ttu-id="ddaa8-305">ALAN ADI</span><span class="sxs-lookup"><span data-stu-id="ddaa8-305">FIELD NAME</span></span>             </th><th> <span data-ttu-id="ddaa8-306">ALAN DEĞERİ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-306">FIELD VALUE</span></span>                       </th><th> <span data-ttu-id="ddaa8-307">AÇIKLAMALAR</span><span class="sxs-lookup"><span data-stu-id="ddaa8-307">REMARKS</span></span>                                 </th></tr>
<tr><td> <span data-ttu-id="ddaa8-308">BULUT HİZMETİ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-308">CLOUD SERVICE</span></span>    </td><td> <span data-ttu-id="ddaa8-309">Yeni bir bulut hizmeti oluştur</span><span class="sxs-lookup"><span data-stu-id="ddaa8-309">Create a new cloud service</span></span>    </td><td><span data-ttu-id="ddaa8-310">Sanal makineler gibi bir kapsayıcı işlem kaynaklarını bulut hizmetidir</span><span class="sxs-lookup"><span data-stu-id="ddaa8-310">Cloud service is a container compute resources like virtual machines</span></span></td></tr>
<tr><td> <span data-ttu-id="ddaa8-311">BULUT HİZMETİ DNS ADI</span><span class="sxs-lookup"><span data-stu-id="ddaa8-311">CLOUD SERVICE DNS NAME</span></span>    </td><td><span data-ttu-id="ddaa8-312">ubuntu template.cloudapp.net</span><span class="sxs-lookup"><span data-stu-id="ddaa8-312">ubuntu-template.cloudapp.net</span></span>    </td><td><span data-ttu-id="ddaa8-313">Bir makine belirsiz yük dengeleyici ad verin</span><span class="sxs-lookup"><span data-stu-id="ddaa8-313">Give a machine agnostic load balancer name</span></span></td></tr>
<tr><td> <span data-ttu-id="ddaa8-314">BÖLGE/BENZEŞİM GRUBU/SANAL AĞ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-314">REGION/AFFINITY GROUP/VIRTUAL NETWORK</span></span> </td><td>    <span data-ttu-id="ddaa8-315">Batı ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-315">West US</span></span>    </td><td> <span data-ttu-id="ddaa8-316">Web uygulamalarınızın hello Cassandra küme erişimlerin bir bölge seçin</span><span class="sxs-lookup"><span data-stu-id="ddaa8-316">Select a region from which your web applications access hello Cassandra cluster</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-317">DEPOLAMA HESABI</span><span class="sxs-lookup"><span data-stu-id="ddaa8-317">STORAGE ACCOUNT</span></span> </td><td>    <span data-ttu-id="ddaa8-318">Varsayılanı kullan</span><span class="sxs-lookup"><span data-stu-id="ddaa8-318">Use default</span></span>    </td><td><span data-ttu-id="ddaa8-319">Belirli bir bölgedeki Hello varsayılan depolama hesabı ya da önceden oluşturulmuş depolama hesabı kullanın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-319">Use hello default storage account  or a pre-created storage account in a particular region</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-320">KULLANILABİLİRLİK KÜMESİ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-320">AVAILABILITY SET</span></span> </td><td>    <span data-ttu-id="ddaa8-321">None</span><span class="sxs-lookup"><span data-stu-id="ddaa8-321">None</span></span> </td><td>    <span data-ttu-id="ddaa8-322">Boş bırakın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-322">Leave it blank</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-323">UÇ NOKTALARI</span><span class="sxs-lookup"><span data-stu-id="ddaa8-323">ENDPOINTS</span></span>    </td><td><span data-ttu-id="ddaa8-324">Varsayılanı kullan</span><span class="sxs-lookup"><span data-stu-id="ddaa8-324">Use default</span></span> </td><td>    <span data-ttu-id="ddaa8-325">Merhaba varsayılan SSH yapılandırmasını kullanın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-325">Use hello default SSH configuration</span></span> </td></tr>
</table>

<span data-ttu-id="ddaa8-326">Sağ oka tıklayın, #3 Merhaba ekranında hello Varsayılanları bırakabilir ve hello "onay" düğmesine toocomplete hello VM sağlama işlemi'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-326">Click right arrow, leave hello defaults on hello screen #3 and click hello “check” button toocomplete hello VM provisioning process.</span></span> <span data-ttu-id="ddaa8-327">Birkaç dakika sonra hello VM hello adı "ubuntu-şablon" ile "çalışır" durumda olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-327">After a few minutes, hello VM with hello name “ubuntu-template” should be in a “running” status.</span></span>

### <a name="install-hello-necessary-software"></a><span data-ttu-id="ddaa8-328">Merhaba gerekli yazılımı yükleyin</span><span class="sxs-lookup"><span data-stu-id="ddaa8-328">INSTALL hello NECESSARY SOFTWARE</span></span>
#### <a name="step-1-upload-tarballs"></a><span data-ttu-id="ddaa8-329">1. adım: Karşıya yükleme tarballs</span><span class="sxs-lookup"><span data-stu-id="ddaa8-329">STEP 1: Upload tarballs</span></span>
<span data-ttu-id="ddaa8-330">SCP veya pscp kullanarak kopyalama hello daha önce yazılım çok indirilen ~ / yüklemeleri dizinini kullanarak komut biçimi aşağıdaki hello:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-330">Using scp or pscp, copy hello previously downloaded software too~/downloads directory using hello following command format:</span></span>

##### <a name="pscp-server-jre-8u5-linux-x64targz-localadminhk-cas-templatecloudappnethomelocaladmindownloadsserver-jre-8u5-linux-x64targz"></a><span data-ttu-id="ddaa8-331">pscp server-jre-8u5-linux-x64.tar.gzlocaladmin@hk-cas-template.cloudapp.net:/home/localadmin/downloads/server-jre-8u5-linux-x64.tar.gz</span><span class="sxs-lookup"><span data-stu-id="ddaa8-331">pscp server-jre-8u5-linux-x64.tar.gz localadmin@hk-cas-template.cloudapp.net:/home/localadmin/downloads/server-jre-8u5-linux-x64.tar.gz</span></span>
<span data-ttu-id="ddaa8-332">Merhaba komutu yukarıda de JRE hello Cassandra BITS için yineleyin.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-332">Repeat hello above command for JRE as well as for hello Cassandra bits.</span></span>

#### <a name="step-2-prepare-hello-directory-structure-and-extract-hello-archives"></a><span data-ttu-id="ddaa8-333">2. adım: hello dizin yapısını hazırlamak ve hello arşivler Ayıkla</span><span class="sxs-lookup"><span data-stu-id="ddaa8-333">STEP 2: Prepare hello directory structure and extract hello archives</span></span>
<span data-ttu-id="ddaa8-334">VM Hello oturum ve hello dizin yapısını oluşturun ve yazılım hello bash aşağıdaki komut dosyası kullanarak bir süper kullanıcı olarak ayıklayın:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-334">Log into hello VM and create hello directory structure and extract software as a super user using hello bash script below:</span></span>

    #!/bin/bash
    CASS_INSTALL_DIR="/opt/cassandra"
    JRE_INSTALL_DIR="/opt/java"
    CASS_DATA_DIR="/var/lib/cassandra"
    CASS_LOG_DIR="/var/log/cassandra"
    DOWNLOADS_DIR="~/downloads"
    JRE_TARBALL="server-jre-8u5-linux-x64.tar.gz"
    CASS_TARBALL="apache-cassandra-2.0.8-bin.tar.gz"
    SVC_USER="localadmin"

    RESET_ERROR=1
    MKDIR_ERROR=2

    reset_installation ()
    {
       rm -rf $CASS_INSTALL_DIR 2> /dev/null
       rm -rf $JRE_INSTALL_DIR 2> /dev/null
       rm -rf $CASS_DATA_DIR 2> /dev/null
       rm -rf $CASS_LOG_DIR 2> /dev/null
    }
    make_dir ()
    {
       if [ -z "$1" ]
       then
          echo "make_dir: invalid directory name"
          exit $MKDIR_ERROR
       fi

       if [ -d "$1" ]
       then
          echo "make_dir: directory already exists"
          exit $MKDIR_ERROR
       fi

       mkdir $1 2>/dev/null
       if [ $? != 0 ]
       then
          echo "directory creation failed"
          exit $MKDIR_ERROR
       fi
    }

    unzip()
    {
       if [ $# == 2 ]
       then
          tar xzf $1 -C $2
       else
          echo "archive error"
       fi

    }

    if [ -n "$1" ]
    then
       SVC_USER=$1
    fi

    reset_installation
    make_dir $CASS_INSTALL_DIR
    make_dir $JRE_INSTALL_DIR
    make_dir $CASS_DATA_DIR
    make_dir $CASS_LOG_DIR

    #unzip JRE and Cassandra
    unzip $HOME/downloads/$JRE_TARBALL $JRE_INSTALL_DIR
    unzip $HOME/downloads/$CASS_TARBALL $CASS_INSTALL_DIR

    #Change hello ownership toohello service credentials

    chown -R $SVC_USER:$GROUP $CASS_DATA_DIR
    chown -R $SVC_USER:$GROUP $CASS_LOG_DIR
    echo "edit /etc/profile tooadd JRE toohello PATH"
    echo "installation is complete"


<span data-ttu-id="ddaa8-335">Bu komut dosyası VIM penceresine yapıştırın, emin tooremove hello satır dönmesi ('\r ") komutu aşağıdaki hello kullanarak:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-335">If you paste this script into vim window, make sure tooremove hello carriage return (‘\r”) using hello following command:</span></span>

    tr -d '\r' <infile.sh >outfile.sh

#### <a name="step-3-edit-etcprofile"></a><span data-ttu-id="ddaa8-336">3. adım: vb./profilini düzenle</span><span class="sxs-lookup"><span data-stu-id="ddaa8-336">Step 3: Edit etc/profile</span></span>
<span data-ttu-id="ddaa8-337">Merhaba sonunda Hello aşağıdakileri ekleyin:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-337">Append hello following at hello end:</span></span>

    JAVA_HOME=/opt/java/jdk1.8.0_05
    CASS_HOME= /opt/cassandra/apache-cassandra-2.0.8
    PATH=$PATH:$HOME/bin:$JAVA_HOME/bin:$CASS_HOME/bin
    export JAVA_HOME
    export CASS_HOME
    export PATH

#### <a name="step-4-install-jna-for-production-systems"></a><span data-ttu-id="ddaa8-338">4. adım: Yükleme JNA üretim sistemleri için</span><span class="sxs-lookup"><span data-stu-id="ddaa8-338">Step 4: Install JNA for production systems</span></span>
<span data-ttu-id="ddaa8-339">Kullanım hello aşağıdaki komut dizisi: hello şu komutu yükleme jna-3.2.7.jar ve jna platform 3.2.7.jar too/usr/share.java directory sudo apt get yükleyecek libjna java</span><span class="sxs-lookup"><span data-stu-id="ddaa8-339">Use hello following command sequence: hello following command will install jna-3.2.7.jar and jna-platform-3.2.7.jar too/usr/share.java directory sudo apt-get install libjna-java</span></span>

<span data-ttu-id="ddaa8-340">Sembolik bağlantılar $CASS_HOME/lib dizininde oluşturun, böylece Cassandra başlangıç betiği bu Kavanoz bulabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-340">Create symbolic links in $CASS_HOME/lib directory so that Cassandra startup script can find these jars:</span></span>

    ln -s /usr/share/java/jna-3.2.7.jar $CASS_HOME/lib/jna.jar

    ln -s /usr/share/java/jna-platform-3.2.7.jar $CASS_HOME/lib/jna-platform.jar

#### <a name="step-5-configure-cassandrayaml"></a><span data-ttu-id="ddaa8-341">Adım 5: cassandra.yaml yapılandırma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-341">Step 5: Configure cassandra.yaml</span></span>
<span data-ttu-id="ddaa8-342">[Biz bu hello gerçek sağlama sırasında ince ayar] tüm hello sanal makineler için gerekli her VM tooreflect yapılandırmasında cassandra.yaml düzenleyin:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-342">Edit cassandra.yaml on each VM tooreflect configuration needed by all hello virtual machines [we will tweak this during hello actual provisioning]:</span></span>

<table>
<tr><th><span data-ttu-id="ddaa8-343">Alan adı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-343">Field Name</span></span>   </th><th> <span data-ttu-id="ddaa8-344">Değer</span><span class="sxs-lookup"><span data-stu-id="ddaa8-344">Value</span></span>  </th><th>    <span data-ttu-id="ddaa8-345">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="ddaa8-345">Remarks</span></span> </th></tr>
<tr><td><span data-ttu-id="ddaa8-346">küme_adı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-346">cluster_name</span></span> </td><td>    <span data-ttu-id="ddaa8-347">"CustomerService"</span><span class="sxs-lookup"><span data-stu-id="ddaa8-347">“CustomerService”</span></span>    </td><td> <span data-ttu-id="ddaa8-348">Dağıtımınızı yansıtır hello adını kullan</span><span class="sxs-lookup"><span data-stu-id="ddaa8-348">Use hello name that reflects your deployment</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-349">listen_address</span><span class="sxs-lookup"><span data-stu-id="ddaa8-349">listen_address</span></span>    </td><td><span data-ttu-id="ddaa8-350">[boş bırakın]</span><span class="sxs-lookup"><span data-stu-id="ddaa8-350">[leave it blank]</span></span>    </td><td> <span data-ttu-id="ddaa8-351">"Localhost" Sil</span><span class="sxs-lookup"><span data-stu-id="ddaa8-351">Delete “localhost”</span></span> </td></tr>
<tr><td><span data-ttu-id="ddaa8-352">rpc_addres</span><span class="sxs-lookup"><span data-stu-id="ddaa8-352">rpc_addres</span></span>   </td><td><span data-ttu-id="ddaa8-353">[boş bırakın]</span><span class="sxs-lookup"><span data-stu-id="ddaa8-353">[leave it blank]</span></span>    </td><td> <span data-ttu-id="ddaa8-354">"Localhost" Sil</span><span class="sxs-lookup"><span data-stu-id="ddaa8-354">Delete “localhost”</span></span> </td></tr>
<tr><td><span data-ttu-id="ddaa8-355">oluştururken Çekirdeği</span><span class="sxs-lookup"><span data-stu-id="ddaa8-355">seeds</span></span>    </td><td><span data-ttu-id="ddaa8-356">"10.1.2.4, 10.1.2.6, 10.1.2.8"</span><span class="sxs-lookup"><span data-stu-id="ddaa8-356">"10.1.2.4, 10.1.2.6, 10.1.2.8"</span></span>    </td><td><span data-ttu-id="ddaa8-357">Şu oluştururken çekirdeği atanan tüm hello IP adresleri listesi.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-357">List of  all hello IP addresses which are designated as seeds.</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-358">endpoint_snitch</span><span class="sxs-lookup"><span data-stu-id="ddaa8-358">endpoint_snitch</span></span> </td><td> <span data-ttu-id="ddaa8-359">org.apache.cassandra.locator.GossipingPropertyFileSnitch</span><span class="sxs-lookup"><span data-stu-id="ddaa8-359">org.apache.cassandra.locator.GossipingPropertyFileSnitch</span></span> </td><td> <span data-ttu-id="ddaa8-360">Bu NetworkTopologyStrateg hello tarafından çıkarımını yapma hello veri merkezi ve hello VM hello sunucu rafı için kullanılır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-360">This is used by hello NetworkTopologyStrateg for inferring hello data center and hello rack of hello VM</span></span></td></tr>
</table>

#### <a name="step-6-capture-hello-vm-image"></a><span data-ttu-id="ddaa8-361">6. adım: hello VM görüntüsü yakalama</span><span class="sxs-lookup"><span data-stu-id="ddaa8-361">Step 6: Capture hello VM image</span></span>
<span data-ttu-id="ddaa8-362">Merhaba sanal makineye hello hostname (hk-CA-template.cloudapp.net) ve daha önce oluşturduğunuz hello SSH özel anahtarı kullanarak oturum açın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-362">Log into hello virtual machine using hello hostname (hk-cas-template.cloudapp.net) and hello SSH private key previously created.</span></span> <span data-ttu-id="ddaa8-363">Bkz. nasıl kullanarak toolog hello komutu ssh veya putty.exe tooUse Linux için azure'da SSH ayrıntıları nasıl.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-363">See How tooUse SSH with Linux on Azure for details on how toolog in using hello command ssh or putty.exe.</span></span>

<span data-ttu-id="ddaa8-364">Eylemler toocapture hello görüntü dizisini aşağıdaki hello yürütün:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-364">Execute hello following sequence of actions toocapture hello image:</span></span>

##### <a name="1-deprovision"></a><span data-ttu-id="ddaa8-365">1. Deprovision</span><span class="sxs-lookup"><span data-stu-id="ddaa8-365">1. Deprovision</span></span>
<span data-ttu-id="ddaa8-366">Merhaba komutunu "sudo waagent-deprovision + kullanıcı" tooremove sanal makine örneği belirli bilgileri.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-366">Use hello command “sudo waagent –deprovision+user” tooremove Virtual Machine instance specific information.</span></span> <span data-ttu-id="ddaa8-367">İçin bkz: [nasıl tooCapture Linux sanal makine](capture-image.md) tooUse bir şablon olarak daha ayrıntılı hello görüntü yakalama işlemi.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-367">See for [How tooCapture a Linux Virtual Machine](capture-image.md) tooUse as a Template more details on hello image capture process.</span></span>

##### <a name="2-shutdown-hello-vm"></a><span data-ttu-id="ddaa8-368">2: kapatma hello VM</span><span class="sxs-lookup"><span data-stu-id="ddaa8-368">2: Shutdown hello VM</span></span>
<span data-ttu-id="ddaa8-369">Merhaba sanal makinenin vurgulanmış emin olun ve hello altındaki komut çubuğundan hello kapatma bağlantısına tıklayın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-369">Make sure that hello virtual machine is highlighted and click hello SHUTDOWN link from hello bottom command bar.</span></span>

##### <a name="3-capture-hello-image"></a><span data-ttu-id="ddaa8-370">3: yakalama hello görüntüsü</span><span class="sxs-lookup"><span data-stu-id="ddaa8-370">3: Capture hello image</span></span>
<span data-ttu-id="ddaa8-371">Merhaba sanal makinenin vurgulanmış emin olun ve hello altındaki komut çubuğundan hello YAKALAMA bağlantısını tıklatın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-371">Make sure that hello virtual machine is highlighted and click hello CAPTURE link from hello bottom command bar.</span></span> <span data-ttu-id="ddaa8-372">Merhaba sonraki ekranda, (örneğin hk-cas-2-08-ub-14-04-2014071) bir görüntü adı verin ve görüntü açıklaması uygun hello "onay" işareti toofinish hello YAKALAMA işlemi'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-372">In hello next screen, give an IMAGE NAME (e.g. hk-cas-2-08-ub-14-04-2014071), appropriate IMAGE DESCRIPTION, and click hello “check” mark toofinish hello CAPTURE process.</span></span>

<span data-ttu-id="ddaa8-373">Bu işlem birkaç saniye sürer ve hello görüntü GÖRÜNTÜLERİM Merhaba görüntü Galerisi bölümünde kullanılabilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-373">This will take a few seconds and hello image should be available in MY IMAGES section of hello image gallery.</span></span> <span data-ttu-id="ddaa8-374">Merhaba görüntüsü başarıyla yakalandı sonra hello kaynak VM otomatik olarak silinir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-374">hello source VM will be automatically deleted after hello image is successfully captured.</span></span> 

## <a name="single-region-deployment-process"></a><span data-ttu-id="ddaa8-375">Tek bölge dağıtım işlemi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-375">Single Region Deployment Process</span></span>
<span data-ttu-id="ddaa8-376">**1. adım: hello sanal ağ oluşturma** hello Azure portalında oturum ve aşağıdaki tablonun hello gösterilen bir sanal ağ (Klasik) hello özniteliklerle oluşturun.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-376">**Step 1: Create hello Virtual Network** Log into hello Azure portal and create a virtual network (classic) with hello attributes shown in hello following table.</span></span> <span data-ttu-id="ddaa8-377">Bkz: [hello Azure portal kullanarak bir sanal ağ (Klasik) oluşturmak](../../../virtual-network/virtual-networks-create-vnet-classic-pportal.md) hello işleminin ayrıntılı adımlar için.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-377">See [Create a virtual network (classic) using hello Azure portal](../../../virtual-network/virtual-networks-create-vnet-classic-pportal.md) for detailed steps of hello process.</span></span>      

<table>
<tr><th><span data-ttu-id="ddaa8-378">VM öznitelik adı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-378">VM Attribute Name</span></span></th><th><span data-ttu-id="ddaa8-379">Değer</span><span class="sxs-lookup"><span data-stu-id="ddaa8-379">Value</span></span></th><th><span data-ttu-id="ddaa8-380">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="ddaa8-380">Remarks</span></span></th></tr>
<tr><td><span data-ttu-id="ddaa8-381">Ad</span><span class="sxs-lookup"><span data-stu-id="ddaa8-381">Name</span></span></td><td><span data-ttu-id="ddaa8-382">vnet-cass-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-382">vnet-cass-west-us</span></span></td><td></td></tr>
<tr><td><span data-ttu-id="ddaa8-383">Bölge</span><span class="sxs-lookup"><span data-stu-id="ddaa8-383">Region</span></span></td><td><span data-ttu-id="ddaa8-384">Batı ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-384">West US</span></span></td><td></td></tr>
<tr><td><span data-ttu-id="ddaa8-385">DNS sunucuları</span><span class="sxs-lookup"><span data-stu-id="ddaa8-385">DNS Servers</span></span></td><td><span data-ttu-id="ddaa8-386">None</span><span class="sxs-lookup"><span data-stu-id="ddaa8-386">None</span></span></td><td><span data-ttu-id="ddaa8-387">Bir DNS sunucusu kullanmıyorsanız gibi bu iletiyi yoksayın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-387">Ignore this as we are not using a DNS Server</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-388">Adres alanı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-388">Address Space</span></span></td><td><span data-ttu-id="ddaa8-389">10.1.0.0/16</span><span class="sxs-lookup"><span data-stu-id="ddaa8-389">10.1.0.0/16</span></span></td><td></td></tr>    
<tr><td><span data-ttu-id="ddaa8-390">Başlangıç IP</span><span class="sxs-lookup"><span data-stu-id="ddaa8-390">Starting IP</span></span></td><td><span data-ttu-id="ddaa8-391">10.1.0.0</span><span class="sxs-lookup"><span data-stu-id="ddaa8-391">10.1.0.0</span></span></td><td></td></tr>    
<tr><td><span data-ttu-id="ddaa8-392">CIDR</span><span class="sxs-lookup"><span data-stu-id="ddaa8-392">CIDR</span></span> </td><td><span data-ttu-id="ddaa8-393">/16 (65531)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-393">/16 (65531)</span></span></td><td></td></tr>
</table>

<span data-ttu-id="ddaa8-394">Alt ağları aşağıdaki hello ekleyin:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-394">Add hello following subnets:</span></span>

<table>
<tr><th><span data-ttu-id="ddaa8-395">Ad</span><span class="sxs-lookup"><span data-stu-id="ddaa8-395">Name</span></span></th><th><span data-ttu-id="ddaa8-396">Başlangıç IP</span><span class="sxs-lookup"><span data-stu-id="ddaa8-396">Starting IP</span></span></th><th><span data-ttu-id="ddaa8-397">CIDR</span><span class="sxs-lookup"><span data-stu-id="ddaa8-397">CIDR</span></span></th><th><span data-ttu-id="ddaa8-398">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="ddaa8-398">Remarks</span></span></th></tr>
<tr><td><span data-ttu-id="ddaa8-399">Web</span><span class="sxs-lookup"><span data-stu-id="ddaa8-399">web</span></span></td><td><span data-ttu-id="ddaa8-400">10.1.1.0</span><span class="sxs-lookup"><span data-stu-id="ddaa8-400">10.1.1.0</span></span></td><td><span data-ttu-id="ddaa8-401">/24 (251)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-401">/24 (251)</span></span></td><td><span data-ttu-id="ddaa8-402">Merhaba web grubu için alt ağ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-402">Subnet for hello web farm</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-403">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-403">data</span></span></td><td><span data-ttu-id="ddaa8-404">10.1.2.0</span><span class="sxs-lookup"><span data-stu-id="ddaa8-404">10.1.2.0</span></span></td><td><span data-ttu-id="ddaa8-405">/24 (251)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-405">/24 (251)</span></span></td><td><span data-ttu-id="ddaa8-406">Merhaba veritabanı düğümleri için alt ağ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-406">Subnet for hello database nodes</span></span></td></tr>
</table>

<span data-ttu-id="ddaa8-407">Veri ve Web alt ağ güvenlik grupları üzerinden hangi hello kapsamını bu makalenin kapsamı dışındadır korunabilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-407">Data and Web subnets can be protected through network security groups hello coverage of which is out of scope for this article.</span></span>  

<span data-ttu-id="ddaa8-408">**2. adım: Sanal makine sağlamak** daha önce oluşturduğunuz hello görüntüsünü kullanarak, sunucu "hk-c-svc-Batı" Merhaba bulutta sanal makineler aşağıdaki hello oluşturur ve bunları aşağıda gösterildiği gibi toohello ilgili alt ağlarına bağlayın:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-408">**Step 2: Provision Virtual Machines** Using hello image created previously, we will create hello following virtual machines in hello cloud server “hk-c-svc-west” and bind them toohello respective subnets as shown below:</span></span>

<table>
<tr><th><span data-ttu-id="ddaa8-409">Makine adı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-409">Machine Name</span></span>    </th><th><span data-ttu-id="ddaa8-410">Alt ağ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-410">Subnet</span></span>    </th><th><span data-ttu-id="ddaa8-411">IP Adresi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-411">IP Address</span></span>    </th><th><span data-ttu-id="ddaa8-412">Kullanılabilirlik kümesi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-412">Availability set</span></span></th><th><span data-ttu-id="ddaa8-413">DC/raf</span><span class="sxs-lookup"><span data-stu-id="ddaa8-413">DC/Rack</span></span></th><th><span data-ttu-id="ddaa8-414">Çekirdek?</span><span class="sxs-lookup"><span data-stu-id="ddaa8-414">Seed?</span></span></th></tr>
<tr><td><span data-ttu-id="ddaa8-415">HK-c1-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-415">hk-c1-west-us</span></span>    </td><td><span data-ttu-id="ddaa8-416">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-416">data</span></span>    </td><td><span data-ttu-id="ddaa8-417">10.1.2.4</span><span class="sxs-lookup"><span data-stu-id="ddaa8-417">10.1.2.4</span></span>    </td><td><span data-ttu-id="ddaa8-418">HK-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-418">hk-c-aset-1</span></span>    </td><td><span data-ttu-id="ddaa8-419">DC WESTUS raf = raf1 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-419">dc =WESTUS rack =rack1</span></span> </td><td><span data-ttu-id="ddaa8-420">Evet</span><span class="sxs-lookup"><span data-stu-id="ddaa8-420">Yes</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-421">HK-c2-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-421">hk-c2-west-us</span></span>    </td><td><span data-ttu-id="ddaa8-422">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-422">data</span></span>    </td><td><span data-ttu-id="ddaa8-423">10.1.2.5</span><span class="sxs-lookup"><span data-stu-id="ddaa8-423">10.1.2.5</span></span>    </td><td><span data-ttu-id="ddaa8-424">HK-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-424">hk-c-aset-1</span></span>    </td><td><span data-ttu-id="ddaa8-425">DC WESTUS raf = raf1 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-425">dc =WESTUS rack =rack1</span></span>    </td><td><span data-ttu-id="ddaa8-426">Hayır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-426">No</span></span> </td></tr>
<tr><td><span data-ttu-id="ddaa8-427">HK-c3-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-427">hk-c3-west-us</span></span>    </td><td><span data-ttu-id="ddaa8-428">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-428">data</span></span>    </td><td><span data-ttu-id="ddaa8-429">10.1.2.6</span><span class="sxs-lookup"><span data-stu-id="ddaa8-429">10.1.2.6</span></span>    </td><td><span data-ttu-id="ddaa8-430">HK-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-430">hk-c-aset-1</span></span>    </td><td><span data-ttu-id="ddaa8-431">DC WESTUS raf = rack2 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-431">dc =WESTUS rack =rack2</span></span>    </td><td><span data-ttu-id="ddaa8-432">Evet</span><span class="sxs-lookup"><span data-stu-id="ddaa8-432">Yes</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-433">HK-c4-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-433">hk-c4-west-us</span></span>    </td><td><span data-ttu-id="ddaa8-434">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-434">data</span></span>    </td><td><span data-ttu-id="ddaa8-435">10.1.2.7</span><span class="sxs-lookup"><span data-stu-id="ddaa8-435">10.1.2.7</span></span>    </td><td><span data-ttu-id="ddaa8-436">HK-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-436">hk-c-aset-1</span></span>    </td><td><span data-ttu-id="ddaa8-437">DC WESTUS raf = rack2 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-437">dc =WESTUS rack =rack2</span></span>    </td><td><span data-ttu-id="ddaa8-438">Hayır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-438">No</span></span> </td></tr>
<tr><td><span data-ttu-id="ddaa8-439">HK-c5-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-439">hk-c5-west-us</span></span>    </td><td><span data-ttu-id="ddaa8-440">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-440">data</span></span>    </td><td><span data-ttu-id="ddaa8-441">10.1.2.8</span><span class="sxs-lookup"><span data-stu-id="ddaa8-441">10.1.2.8</span></span>    </td><td><span data-ttu-id="ddaa8-442">HK-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-442">hk-c-aset-2</span></span>    </td><td><span data-ttu-id="ddaa8-443">DC WESTUS raf = rack3 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-443">dc =WESTUS rack =rack3</span></span>    </td><td><span data-ttu-id="ddaa8-444">Evet</span><span class="sxs-lookup"><span data-stu-id="ddaa8-444">Yes</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-445">HK-c6-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-445">hk-c6-west-us</span></span>    </td><td><span data-ttu-id="ddaa8-446">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-446">data</span></span>    </td><td><span data-ttu-id="ddaa8-447">10.1.2.9</span><span class="sxs-lookup"><span data-stu-id="ddaa8-447">10.1.2.9</span></span>    </td><td><span data-ttu-id="ddaa8-448">HK-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-448">hk-c-aset-2</span></span>    </td><td><span data-ttu-id="ddaa8-449">DC WESTUS raf = rack3 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-449">dc =WESTUS rack =rack3</span></span>    </td><td><span data-ttu-id="ddaa8-450">Hayır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-450">No</span></span> </td></tr>
<tr><td><span data-ttu-id="ddaa8-451">HK-c7-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-451">hk-c7-west-us</span></span>    </td><td><span data-ttu-id="ddaa8-452">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-452">data</span></span>    </td><td><span data-ttu-id="ddaa8-453">10.1.2.10</span><span class="sxs-lookup"><span data-stu-id="ddaa8-453">10.1.2.10</span></span>    </td><td><span data-ttu-id="ddaa8-454">HK-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-454">hk-c-aset-2</span></span>    </td><td><span data-ttu-id="ddaa8-455">DC WESTUS raf = rack4 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-455">dc =WESTUS rack =rack4</span></span>    </td><td><span data-ttu-id="ddaa8-456">Evet</span><span class="sxs-lookup"><span data-stu-id="ddaa8-456">Yes</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-457">HK-c8-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-457">hk-c8-west-us</span></span>    </td><td><span data-ttu-id="ddaa8-458">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-458">data</span></span>    </td><td><span data-ttu-id="ddaa8-459">10.1.2.11</span><span class="sxs-lookup"><span data-stu-id="ddaa8-459">10.1.2.11</span></span>    </td><td><span data-ttu-id="ddaa8-460">HK-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-460">hk-c-aset-2</span></span>    </td><td><span data-ttu-id="ddaa8-461">DC WESTUS raf = rack4 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-461">dc =WESTUS rack =rack4</span></span>    </td><td><span data-ttu-id="ddaa8-462">Hayır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-462">No</span></span> </td></tr>
<tr><td><span data-ttu-id="ddaa8-463">HK-w1-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-463">hk-w1-west-us</span></span>    </td><td><span data-ttu-id="ddaa8-464">Web</span><span class="sxs-lookup"><span data-stu-id="ddaa8-464">web</span></span>    </td><td><span data-ttu-id="ddaa8-465">10.1.1.4</span><span class="sxs-lookup"><span data-stu-id="ddaa8-465">10.1.1.4</span></span>    </td><td><span data-ttu-id="ddaa8-466">HK-w-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-466">hk-w-aset-1</span></span>    </td><td>                       </td><td><span data-ttu-id="ddaa8-467">Yok</span><span class="sxs-lookup"><span data-stu-id="ddaa8-467">N/A</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-468">HK-w2-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-468">hk-w2-west-us</span></span>    </td><td><span data-ttu-id="ddaa8-469">Web</span><span class="sxs-lookup"><span data-stu-id="ddaa8-469">web</span></span>    </td><td><span data-ttu-id="ddaa8-470">10.1.1.5</span><span class="sxs-lookup"><span data-stu-id="ddaa8-470">10.1.1.5</span></span>    </td><td><span data-ttu-id="ddaa8-471">HK-w-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-471">hk-w-aset-1</span></span>    </td><td>                       </td><td><span data-ttu-id="ddaa8-472">Yok</span><span class="sxs-lookup"><span data-stu-id="ddaa8-472">N/A</span></span></td></tr>
</table>

<span data-ttu-id="ddaa8-473">Hello VM'lerin listesini yukarıda oluşturma işlemi aşağıdaki hello gerektirir:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-473">Creation of hello above list of VMs requires hello following process:</span></span>

1. <span data-ttu-id="ddaa8-474">Belirli bir bölgedeki bir boş bulut hizmeti oluşturma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-474">Create an empty cloud service in a particular region</span></span>
2. <span data-ttu-id="ddaa8-475">Merhaba daha önce yakalanan görüntüden bir VM oluşturun ve daha önce oluşturduğunuz toohello sanal ağ ekleyin; Bu tüm hello VM'ler için yineleyin</span><span class="sxs-lookup"><span data-stu-id="ddaa8-475">Create a VM from hello previously captured image and attach it toohello virtual network created previously; repeat this for all hello VMs</span></span>
3. <span data-ttu-id="ddaa8-476">Bir iç yük dengeleyici toohello bulut hizmeti ekleyin ve toohello "data" alt ağ ekleme</span><span class="sxs-lookup"><span data-stu-id="ddaa8-476">Add an internal load balancer toohello cloud service and attach it toohello “data” subnet</span></span>
4. <span data-ttu-id="ddaa8-477">Daha önce oluşturduğunuz her VM için bir yük dengeli kümesi bağlı daha önce oluşturduğunuz toohello iç yük dengeleyici üzerinden thrift trafiği için bir yük dengeli uç noktası ekleme</span><span class="sxs-lookup"><span data-stu-id="ddaa8-477">For each VM created previously, add a load balanced endpoint for thrift traffic through a load balanced set connected toohello previously created internal load balancer</span></span>

<span data-ttu-id="ddaa8-478">Klasik Azure portalını kullanarak işlem yukarıda Hello çalıştırılabilir; Windows makine (kullanın) erişim tooa Windows makine yoksa Azure VM'de bir PowerShell komut dosyası tooprovision aşağıdaki hello tüm 8 sanal makineleri otomatik olarak kullanın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-478">hello above process can be executed using Azure classic portal; use a Windows machine (use a VM on Azure if you don't have access tooa Windows machine), use hello following PowerShell script tooprovision all 8 VMs automatically.</span></span>

<span data-ttu-id="ddaa8-479">**Listesi 1: PowerShell Betiği sanal makineleri sağlama**</span><span class="sxs-lookup"><span data-stu-id="ddaa8-479">**List 1: PowerShell script for provisioning virtual machines**</span></span>

        #Tested with Azure Powershell - November 2014
        #This powershell script deployes a number of VMs from an existing image inside an Azure region
        #Import your Azure subscription into hello current Powershell session before proceeding
        #hello process: 1. create Azure Storage account, 2. create virtual network, 3.create hello VM template, 2. crate a list of VMs from hello template

        #fundamental variables - change these tooreflect your subscription
        $country="us"; $region="west"; $vnetName = "your_vnet_name";$storageAccount="your_storage_account"
        $numVMs=8;$prefix = "hk-cass";$ilbIP="your_ilb_ip"
        $subscriptionName = "Azure_subscription_name";
        $vmSize="ExtraSmall"; $imageName="your_linux_image_name"
        $ilbName="ThriftInternalLB"; $thriftEndPoint="ThriftEndPoint"

        #generated variables
        $serviceName = "$prefix-svc-$region-$country"; $azureRegion = "$region $country"

        $vmNames = @()
        for ($i=0; $i -lt $numVMs; $i++)
        {
           $vmNames+=("$prefix-vm"+($i+1) + "-$region-$country" );
        }

        #select an Azure subscription already imported into Powershell session
        Select-AzureSubscription -SubscriptionName $subscriptionName -Current
        Set-AzureSubscription -SubscriptionName $subscriptionName -CurrentStorageAccountName $storageAccount

        #create an empty cloud service
        New-AzureService -ServiceName $serviceName -Label "hkcass$region" -Location $azureRegion
        Write-Host "Created $serviceName"

        $VMList= @()   # stores hello list of azure vm configuration objects
        #create hello list of VMs
        foreach($vmName in $vmNames)
        {
           $VMList += New-AzureVMConfig -Name $vmName -InstanceSize ExtraSmall -ImageName $imageName |
           Add-AzureProvisioningConfig -Linux -LinuxUser "localadmin" -Password "Local123" |
           Set-AzureSubnet "data"
        }

        New-AzureVM -ServiceName $serviceName -VNetName $vnetName -VMs $VMList

        #Create internal load balancer
        Add-AzureInternalLoadBalancer -ServiceName $serviceName -InternalLoadBalancerName $ilbName -SubnetName "data" -StaticVNetIPAddress "$ilbIP"
        Write-Host "Created $ilbName"
        #Add add hello thrift endpoint toohello internal load balancer for all hello VMs
        foreach($vmName in $vmNames)
        {
            Get-AzureVM -ServiceName $serviceName -Name $vmName |
                Add-AzureEndpoint -Name $thriftEndPoint -LBSetName "ThriftLBSet" -Protocol tcp -LocalPort 9160 -PublicPort 9160 -ProbePort 9160 -ProbeProtocol tcp -ProbeIntervalInSeconds 10 -InternalLoadBalancerName $ilbName |
                Update-AzureVM

            Write-Host "created $vmName"     
        }

<span data-ttu-id="ddaa8-480">**3. adım: Her VM Cassandra yapılandırma**</span><span class="sxs-lookup"><span data-stu-id="ddaa8-480">**Step 3: Configure Cassandra on each VM**</span></span>

<span data-ttu-id="ddaa8-481">VM Hello oturum ve hello aşağıdakileri yapın:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-481">Log into hello VM and perform hello following:</span></span>

* <span data-ttu-id="ddaa8-482">Merkezi ve raf $CASS_HOME/conf/cassandra-rackdc.properties toospecify hello veri özelliklerini düzenleyin:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-482">Edit $CASS_HOME/conf/cassandra-rackdc.properties toospecify hello data center and rack properties:</span></span>
  
       dc =EASTUS, rack =rack1
* <span data-ttu-id="ddaa8-483">Cassandra.yaml tooconfigure çekirdek düğümleri aşağıdaki şekilde düzenleyin:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-483">Edit cassandra.yaml tooconfigure seed nodes as below:</span></span>
  
       Seeds: "10.1.2.4,10.1.2.6,10.1.2.8,10.1.2.10"

<span data-ttu-id="ddaa8-484">**4. adım: hello VM'ler başlatmak ve hello küme test etme**</span><span class="sxs-lookup"><span data-stu-id="ddaa8-484">**Step 4: Start hello VMs and test hello cluster**</span></span>

<span data-ttu-id="ddaa8-485">Merhaba düğümlerden (örneğin hk-c1-Batı-us) günlüğüne ve çalışma hello komutu toosee hello hello küme durumunu izleyen:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-485">Log into one of hello nodes (e.g. hk-c1-west-us) and run hello following command toosee hello status of hello cluster:</span></span>

       nodetool –h 10.1.2.4 –p 7199 status

<span data-ttu-id="ddaa8-486">Merhaba görüntü benzer toohello biri aşağıda bir 8 düğüm kümesi için görmeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-486">You should see hello display similar toohello one below for an 8-node cluster:</span></span>

<table>
<tr><th><span data-ttu-id="ddaa8-487">Durum</span><span class="sxs-lookup"><span data-stu-id="ddaa8-487">Status</span></span></th><th><span data-ttu-id="ddaa8-488">Adres</span><span class="sxs-lookup"><span data-stu-id="ddaa8-488">Address</span></span>    </th><th><span data-ttu-id="ddaa8-489">Yükleme</span><span class="sxs-lookup"><span data-stu-id="ddaa8-489">Load</span></span>    </th><th><span data-ttu-id="ddaa8-490">Belirteçler</span><span class="sxs-lookup"><span data-stu-id="ddaa8-490">Tokens</span></span>    </th><th><span data-ttu-id="ddaa8-491">Sahibi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-491">Owns</span></span> </th><th><span data-ttu-id="ddaa8-492">Ana bilgisayar kimliği</span><span class="sxs-lookup"><span data-stu-id="ddaa8-492">Host ID</span></span>    </th><th><span data-ttu-id="ddaa8-493">Raf</span><span class="sxs-lookup"><span data-stu-id="ddaa8-493">Rack</span></span></th></tr>
<tr><th><span data-ttu-id="ddaa8-494">KALDIRMA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-494">UN</span></span>    </td><td><span data-ttu-id="ddaa8-495">10.1.2.4</span><span class="sxs-lookup"><span data-stu-id="ddaa8-495">10.1.2.4</span></span>     </td><td><span data-ttu-id="ddaa8-496">87.81 KB</span><span class="sxs-lookup"><span data-stu-id="ddaa8-496">87.81 KB</span></span>    </td><td><span data-ttu-id="ddaa8-497">256</span><span class="sxs-lookup"><span data-stu-id="ddaa8-497">256</span></span>    </td><td><span data-ttu-id="ddaa8-498">38.0%</span><span class="sxs-lookup"><span data-stu-id="ddaa8-498">38.0%</span></span>    </td><td><span data-ttu-id="ddaa8-499">GUID (kaldırılır)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-499">Guid (removed)</span></span></td><td><span data-ttu-id="ddaa8-500">raf1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-500">rack1</span></span></td></tr>
<tr><th><span data-ttu-id="ddaa8-501">KALDIRMA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-501">UN</span></span>    </td><td><span data-ttu-id="ddaa8-502">10.1.2.5</span><span class="sxs-lookup"><span data-stu-id="ddaa8-502">10.1.2.5</span></span>     </td><td><span data-ttu-id="ddaa8-503">41.08 KB</span><span class="sxs-lookup"><span data-stu-id="ddaa8-503">41.08 KB</span></span>    </td><td><span data-ttu-id="ddaa8-504">256</span><span class="sxs-lookup"><span data-stu-id="ddaa8-504">256</span></span>    </td><td><span data-ttu-id="ddaa8-505">68.9%</span><span class="sxs-lookup"><span data-stu-id="ddaa8-505">68.9%</span></span>    </td><td><span data-ttu-id="ddaa8-506">GUID (kaldırılır)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-506">Guid (removed)</span></span></td><td><span data-ttu-id="ddaa8-507">raf1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-507">rack1</span></span></td></tr>
<tr><th><span data-ttu-id="ddaa8-508">KALDIRMA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-508">UN</span></span>    </td><td><span data-ttu-id="ddaa8-509">10.1.2.6</span><span class="sxs-lookup"><span data-stu-id="ddaa8-509">10.1.2.6</span></span>     </td><td><span data-ttu-id="ddaa8-510">55.29 KB</span><span class="sxs-lookup"><span data-stu-id="ddaa8-510">55.29 KB</span></span>    </td><td><span data-ttu-id="ddaa8-511">256</span><span class="sxs-lookup"><span data-stu-id="ddaa8-511">256</span></span>    </td><td><span data-ttu-id="ddaa8-512">68.8%</span><span class="sxs-lookup"><span data-stu-id="ddaa8-512">68.8%</span></span>    </td><td><span data-ttu-id="ddaa8-513">GUID (kaldırılır)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-513">Guid (removed)</span></span></td><td><span data-ttu-id="ddaa8-514">rack2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-514">rack2</span></span></td></tr>
<tr><th><span data-ttu-id="ddaa8-515">KALDIRMA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-515">UN</span></span>    </td><td><span data-ttu-id="ddaa8-516">10.1.2.7</span><span class="sxs-lookup"><span data-stu-id="ddaa8-516">10.1.2.7</span></span>     </td><td><span data-ttu-id="ddaa8-517">55.29 KB</span><span class="sxs-lookup"><span data-stu-id="ddaa8-517">55.29 KB</span></span>    </td><td><span data-ttu-id="ddaa8-518">256</span><span class="sxs-lookup"><span data-stu-id="ddaa8-518">256</span></span>    </td><td><span data-ttu-id="ddaa8-519">68.8%</span><span class="sxs-lookup"><span data-stu-id="ddaa8-519">68.8%</span></span>    </td><td><span data-ttu-id="ddaa8-520">GUID (kaldırılır)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-520">Guid (removed)</span></span></td><td><span data-ttu-id="ddaa8-521">rack2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-521">rack2</span></span></td></tr>
<tr><th><span data-ttu-id="ddaa8-522">KALDIRMA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-522">UN</span></span>    </td><td><span data-ttu-id="ddaa8-523">10.1.2.8</span><span class="sxs-lookup"><span data-stu-id="ddaa8-523">10.1.2.8</span></span>     </td><td><span data-ttu-id="ddaa8-524">55.29 KB</span><span class="sxs-lookup"><span data-stu-id="ddaa8-524">55.29 KB</span></span>    </td><td><span data-ttu-id="ddaa8-525">256</span><span class="sxs-lookup"><span data-stu-id="ddaa8-525">256</span></span>    </td><td><span data-ttu-id="ddaa8-526">68.8%</span><span class="sxs-lookup"><span data-stu-id="ddaa8-526">68.8%</span></span>    </td><td><span data-ttu-id="ddaa8-527">GUID (kaldırılır)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-527">Guid (removed)</span></span></td><td><span data-ttu-id="ddaa8-528">rack3</span><span class="sxs-lookup"><span data-stu-id="ddaa8-528">rack3</span></span></td></tr>
<tr><th><span data-ttu-id="ddaa8-529">KALDIRMA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-529">UN</span></span>    </td><td><span data-ttu-id="ddaa8-530">10.1.2.9</span><span class="sxs-lookup"><span data-stu-id="ddaa8-530">10.1.2.9</span></span>     </td><td><span data-ttu-id="ddaa8-531">55.29 KB</span><span class="sxs-lookup"><span data-stu-id="ddaa8-531">55.29 KB</span></span>    </td><td><span data-ttu-id="ddaa8-532">256</span><span class="sxs-lookup"><span data-stu-id="ddaa8-532">256</span></span>    </td><td><span data-ttu-id="ddaa8-533">68.8%</span><span class="sxs-lookup"><span data-stu-id="ddaa8-533">68.8%</span></span>    </td><td><span data-ttu-id="ddaa8-534">GUID (kaldırılır)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-534">Guid (removed)</span></span></td><td><span data-ttu-id="ddaa8-535">rack3</span><span class="sxs-lookup"><span data-stu-id="ddaa8-535">rack3</span></span></td></tr>
<tr><th><span data-ttu-id="ddaa8-536">KALDIRMA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-536">UN</span></span>    </td><td><span data-ttu-id="ddaa8-537">10.1.2.10</span><span class="sxs-lookup"><span data-stu-id="ddaa8-537">10.1.2.10</span></span>     </td><td><span data-ttu-id="ddaa8-538">55.29 KB</span><span class="sxs-lookup"><span data-stu-id="ddaa8-538">55.29 KB</span></span>    </td><td><span data-ttu-id="ddaa8-539">256</span><span class="sxs-lookup"><span data-stu-id="ddaa8-539">256</span></span>    </td><td><span data-ttu-id="ddaa8-540">68.8%</span><span class="sxs-lookup"><span data-stu-id="ddaa8-540">68.8%</span></span>    </td><td><span data-ttu-id="ddaa8-541">GUID (kaldırılır)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-541">Guid (removed)</span></span></td><td><span data-ttu-id="ddaa8-542">rack4</span><span class="sxs-lookup"><span data-stu-id="ddaa8-542">rack4</span></span></td></tr>
<tr><th><span data-ttu-id="ddaa8-543">KALDIRMA</span><span class="sxs-lookup"><span data-stu-id="ddaa8-543">UN</span></span>    </td><td><span data-ttu-id="ddaa8-544">10.1.2.11</span><span class="sxs-lookup"><span data-stu-id="ddaa8-544">10.1.2.11</span></span>     </td><td><span data-ttu-id="ddaa8-545">55.29 KB</span><span class="sxs-lookup"><span data-stu-id="ddaa8-545">55.29 KB</span></span>    </td><td><span data-ttu-id="ddaa8-546">256</span><span class="sxs-lookup"><span data-stu-id="ddaa8-546">256</span></span>    </td><td><span data-ttu-id="ddaa8-547">68.8%</span><span class="sxs-lookup"><span data-stu-id="ddaa8-547">68.8%</span></span>    </td><td><span data-ttu-id="ddaa8-548">GUID (kaldırılır)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-548">Guid (removed)</span></span></td><td><span data-ttu-id="ddaa8-549">rack4</span><span class="sxs-lookup"><span data-stu-id="ddaa8-549">rack4</span></span></td></tr>
</table>

## <a name="test-hello-single-region-cluster"></a><span data-ttu-id="ddaa8-550">Test hello tek bölge kümesi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-550">Test hello Single Region Cluster</span></span>
<span data-ttu-id="ddaa8-551">Aşağıdaki adımları tootest hello küme hello kullan:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-551">Use hello following steps tootest hello cluster:</span></span>

1. <span data-ttu-id="ddaa8-552">Merhaba Powershell komutu Get-AzureInternalLoadbalancer komutunu kullanarak, hello iç yük dengeleyici hello IP adresi (örneğin Al  10.1.2.101).</span><span class="sxs-lookup"><span data-stu-id="ddaa8-552">Using hello Powershell command Get-AzureInternalLoadbalancer commandlet, obtain hello IP address of hello internal load balancer (e.g.  10.1.2.101).</span></span> <span data-ttu-id="ddaa8-553">Merhaba komutun Hello sözdizimi aşağıda gösterilmektedir: Get-AzureLoadbalancer – [hello iç yük dengeleyici IP adresini birlikte hello ayrıntılarını görüntüler] ServiceName "hk-c-svc-Batı-us"</span><span class="sxs-lookup"><span data-stu-id="ddaa8-553">hello syntax of hello command is shown below: Get-AzureLoadbalancer –ServiceName "hk-c-svc-west-us” [displays hello details of hello internal load balancer along with its IP address]</span></span>
2. <span data-ttu-id="ddaa8-554">Merhaba web grubu VM (örneğin hk-w1-Batı-us) günlüğüne Putty kullanarak veya ssh</span><span class="sxs-lookup"><span data-stu-id="ddaa8-554">Log into hello web farm VM (e.g. hk-w1-west-us) using Putty or ssh</span></span>
3. <span data-ttu-id="ddaa8-555">$CASS_HOME/bin/cqlsh 10.1.2.101 yürütme 9160</span><span class="sxs-lookup"><span data-stu-id="ddaa8-555">Execute $CASS_HOME/bin/cqlsh 10.1.2.101 9160</span></span>
4. <span data-ttu-id="ddaa8-556">Merhaba küme çalışıyorsanız CQL komutları tooverify aşağıdaki hello kullan:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-556">Use hello following CQL commands tooverify if hello cluster is working:</span></span>
   
     <span data-ttu-id="ddaa8-557">İLE çoğaltma oluşturma KEYSPACE customers_ks = {'sınıfı': 'SimpleStrategy', 'replication_factor': 3};   Customers_ks; kullanın.   Tablo Customers(customer_id int PRIMARY KEY, firstname text, lastname text); oluşturma   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, 'John', 'Doe');   INSERT INTO Customers(customer_id, firstname, lastname) değerleri (2, 'Jane', 'Etikan');</span><span class="sxs-lookup"><span data-stu-id="ddaa8-557">CREATE KEYSPACE customers_ks WITH REPLICATION = { 'class' : 'SimpleStrategy', 'replication_factor' : 3 };   USE customers_ks;   CREATE TABLE Customers(customer_id int PRIMARY KEY, firstname text, lastname text);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, 'John', 'Doe');   INSERT INTO Customers(customer_id, firstname, lastname) VALUES (2, 'Jane', 'Doe');</span></span>
   
     <span data-ttu-id="ddaa8-558">SEÇİN * MÜŞTERİLERDEN;</span><span class="sxs-lookup"><span data-stu-id="ddaa8-558">SELECT * FROM Customers;</span></span>

<span data-ttu-id="ddaa8-559">Hello gibi bir görüntü görmeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-559">You should see a display like hello one below:</span></span>

<table>
  <tr><th> <span data-ttu-id="ddaa8-560">customer_id</span><span class="sxs-lookup"><span data-stu-id="ddaa8-560">customer_id</span></span> </th><th> <span data-ttu-id="ddaa8-561">FirstName</span><span class="sxs-lookup"><span data-stu-id="ddaa8-561">firstname</span></span> </th><th> <span data-ttu-id="ddaa8-562">Soyadı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-562">lastname</span></span> </th></tr>
  <tr><td> <span data-ttu-id="ddaa8-563">1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-563">1</span></span> </td><td> <span data-ttu-id="ddaa8-564">John</span><span class="sxs-lookup"><span data-stu-id="ddaa8-564">John</span></span> </td><td> <span data-ttu-id="ddaa8-565">Doe</span><span class="sxs-lookup"><span data-stu-id="ddaa8-565">Doe</span></span> </td></tr>
  <tr><td> <span data-ttu-id="ddaa8-566">2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-566">2</span></span> </td><td> <span data-ttu-id="ddaa8-567">Jane</span><span class="sxs-lookup"><span data-stu-id="ddaa8-567">Jane</span></span> </td><td> <span data-ttu-id="ddaa8-568">Doe</span><span class="sxs-lookup"><span data-stu-id="ddaa8-568">Doe</span></span> </td></tr>
</table>

<span data-ttu-id="ddaa8-569">4. adımda oluşturduğunuz bu hello keyspace SimpleStrategy 3'ün bir replication_factor kullanır. Lütfen unutmayın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-569">Please note that hello keyspace created in step 4 uses SimpleStrategy with a  replication_factor of 3.</span></span> <span data-ttu-id="ddaa8-570">SimpleStrategy NetworkTopologyStrategy çok veri merkezi ancak dağıtımlar için tek bir veri merkezi dağıtımları önerilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-570">SimpleStrategy is recommended for single data center deployments whereas NetworkTopologyStrategy for multi-data center deployments.</span></span> <span data-ttu-id="ddaa8-571">Replication_factor 3 düğümü hataları için dayanıklılık sunar.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-571">A replication_factor of 3 will give tolerance for node failures.</span></span>

## <span data-ttu-id="ddaa8-572"><a id="tworegion"></a>Bölgeli dağıtım işlemi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-572"><a id="tworegion"> </a>Multi-Region Deployment Process</span></span>
<span data-ttu-id="ddaa8-573">Merhaba tek bölge dağıtımı tamamlandı yararlanır ve hello ikinci bölge yüklemek için aynı işlemi hello yineleyin başlar.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-573">Will leverage hello single region deployment completed and repeat hello same process for installing hello second region.</span></span> <span data-ttu-id="ddaa8-574">Merhaba anahtar arasındaki hello tek ve birden çok bölgede dağıtım hello VPN tüneli Kurulum arası bölge iletişimi için farktır; Biz başlatılır hello ağ yüklemesi ile hello VM'ler sağlamak ve Cassandra yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-574">hello key difference between hello single and multiple region deployment is hello VPN tunnel setup for inter-region communication; we will start with hello network installation, provision hello VMs and configure Cassandra.</span></span>

### <a name="step-1-create-hello-virtual-network-at-hello-2nd-region"></a><span data-ttu-id="ddaa8-575">1. adım: hello sanal ağ hello oluşturma 2 bölge</span><span class="sxs-lookup"><span data-stu-id="ddaa8-575">Step 1: Create hello Virtual Network at hello 2nd Region</span></span>
<span data-ttu-id="ddaa8-576">Klasik Azure portalı Hello oturum ve hello öznitelikleri göster hello tablosundaki ile bir sanal ağ oluşturun.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-576">Log into hello Azure classic portal and create a Virtual Network with hello attributes show in hello table.</span></span> <span data-ttu-id="ddaa8-577">Bkz: [hello Klasik Azure portalı Cloud-Only sanal ağ yapılandırma](../../../virtual-network/virtual-networks-create-vnet-classic-pportal.md) hello işleminin ayrıntılı adımlar için.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-577">See [Configure a Cloud-Only Virtual Network in hello Azure classic portal](../../../virtual-network/virtual-networks-create-vnet-classic-pportal.md) for detailed steps of hello process.</span></span>      

<table>
<tr><th><span data-ttu-id="ddaa8-578">Öznitelik adı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-578">Attribute Name</span></span>    </th><th><span data-ttu-id="ddaa8-579">Değer</span><span class="sxs-lookup"><span data-stu-id="ddaa8-579">Value</span></span>    </th><th><span data-ttu-id="ddaa8-580">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="ddaa8-580">Remarks</span></span></th></tr>
<tr><td><span data-ttu-id="ddaa8-581">Ad</span><span class="sxs-lookup"><span data-stu-id="ddaa8-581">Name</span></span>    </td><td><span data-ttu-id="ddaa8-582">vnet-cass-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-582">vnet-cass-east-us</span></span></td><td></td></tr>
<tr><td><span data-ttu-id="ddaa8-583">Bölge</span><span class="sxs-lookup"><span data-stu-id="ddaa8-583">Region</span></span>    </td><td><span data-ttu-id="ddaa8-584">Doğu ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-584">East US</span></span></td><td></td></tr>
<tr><td><span data-ttu-id="ddaa8-585">DNS sunucuları</span><span class="sxs-lookup"><span data-stu-id="ddaa8-585">DNS Servers</span></span>        </td><td></td><td><span data-ttu-id="ddaa8-586">Bir DNS sunucusu kullanmıyorsanız gibi bu iletiyi yoksayın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-586">Ignore this as we are not using a DNS Server</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-587">Noktadan siteye VPN bağlantısını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-587">Configure a point-to-site VPN</span></span></td><td></td><td>        <span data-ttu-id="ddaa8-588">Bu iletiyi yoksayın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-588">Ignore this</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-589">Siteden siteye VPN'yi yapılandırın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-589">Configure a site-to-site VPN</span></span></td><td></td><td>        <span data-ttu-id="ddaa8-590">Bu iletiyi yoksayın</span><span class="sxs-lookup"><span data-stu-id="ddaa8-590">Ignore this</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-591">Adres alanı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-591">Address Space</span></span>    </td><td><span data-ttu-id="ddaa8-592">10.2.0.0/16</span><span class="sxs-lookup"><span data-stu-id="ddaa8-592">10.2.0.0/16</span></span></td><td></td></tr>
<tr><td><span data-ttu-id="ddaa8-593">Başlangıç IP</span><span class="sxs-lookup"><span data-stu-id="ddaa8-593">Starting IP</span></span>    </td><td><span data-ttu-id="ddaa8-594">10.2.0.0</span><span class="sxs-lookup"><span data-stu-id="ddaa8-594">10.2.0.0</span></span>    </td><td></td></tr>
<tr><td><span data-ttu-id="ddaa8-595">CIDR</span><span class="sxs-lookup"><span data-stu-id="ddaa8-595">CIDR</span></span>    </td><td><span data-ttu-id="ddaa8-596">/16 (65531)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-596">/16 (65531)</span></span></td><td></td></tr>
</table>

<span data-ttu-id="ddaa8-597">Alt ağları aşağıdaki hello ekleyin:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-597">Add hello following subnets:</span></span>

<table>
<tr><th><span data-ttu-id="ddaa8-598">Ad</span><span class="sxs-lookup"><span data-stu-id="ddaa8-598">Name</span></span>    </th><th><span data-ttu-id="ddaa8-599">Başlangıç IP</span><span class="sxs-lookup"><span data-stu-id="ddaa8-599">Starting IP</span></span>    </th><th><span data-ttu-id="ddaa8-600">CIDR</span><span class="sxs-lookup"><span data-stu-id="ddaa8-600">CIDR</span></span>    </th><th><span data-ttu-id="ddaa8-601">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="ddaa8-601">Remarks</span></span></th></tr>
<tr><td><span data-ttu-id="ddaa8-602">Web</span><span class="sxs-lookup"><span data-stu-id="ddaa8-602">web</span></span>    </td><td><span data-ttu-id="ddaa8-603">10.2.1.0</span><span class="sxs-lookup"><span data-stu-id="ddaa8-603">10.2.1.0</span></span>    </td><td><span data-ttu-id="ddaa8-604">/24 (251)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-604">/24 (251)</span></span>    </td><td><span data-ttu-id="ddaa8-605">Merhaba web grubu için alt ağ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-605">Subnet for hello web farm</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-606">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-606">data</span></span>    </td><td><span data-ttu-id="ddaa8-607">10.2.2.0</span><span class="sxs-lookup"><span data-stu-id="ddaa8-607">10.2.2.0</span></span>    </td><td><span data-ttu-id="ddaa8-608">/24 (251)</span><span class="sxs-lookup"><span data-stu-id="ddaa8-608">/24 (251)</span></span>    </td><td><span data-ttu-id="ddaa8-609">Merhaba veritabanı düğümleri için alt ağ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-609">Subnet for hello database nodes</span></span></td></tr>
</table>


### <a name="step-2-create-local-networks"></a><span data-ttu-id="ddaa8-610">2. adım: Yerel ağlar oluşturma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-610">Step 2: Create Local Networks</span></span>
<span data-ttu-id="ddaa8-611">Azure sanal ağ yerel bir ağda tooa uzak site özel bir bulut ya da başka bir Azure bölgesi de dahil olmak üzere eşleyen bir proxy adresi alanıdır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-611">A Local Network in Azure virtual networking is a proxy address space that maps tooa remote site including a private cloud or another Azure region.</span></span> <span data-ttu-id="ddaa8-612">Bu proxy adres alanı ilişkili tooa uzak yönlendirme ağ toohello sağ hedefleri ağ için ağ geçididir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-612">This proxy address space is bound tooa remote gateway for routing network toohello right networking destinations.</span></span> <span data-ttu-id="ddaa8-613">Bkz: [VNet tooVNet bağlantı yapılandırma](../../../vpn-gateway/virtual-networks-configure-vnet-to-vnet-connection.md) VNET-VNET bağlantı kurarak hello hakkında yönergeler için.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-613">See [Configure a VNet tooVNet Connection](../../../vpn-gateway/virtual-networks-configure-vnet-to-vnet-connection.md) for hello instructions on establishing VNET-to-VNET connection.</span></span>

<span data-ttu-id="ddaa8-614">Aşağıdaki ayrıntılara hello başına iki yerel ağlar oluşturun:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-614">Create two local networks per hello following details:</span></span>

| <span data-ttu-id="ddaa8-615">Ağ adı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-615">Network Name</span></span> | <span data-ttu-id="ddaa8-616">VPN ağ geçidi adresi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-616">VPN Gateway Address</span></span> | <span data-ttu-id="ddaa8-617">Adres alanı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-617">Address Space</span></span> | <span data-ttu-id="ddaa8-618">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="ddaa8-618">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="ddaa8-619">HK-lnet-Map-to-East-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-619">hk-lnet-map-to-east-us</span></span> |<span data-ttu-id="ddaa8-620">23.1.1.1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-620">23.1.1.1</span></span> |<span data-ttu-id="ddaa8-621">10.2.0.0/16</span><span class="sxs-lookup"><span data-stu-id="ddaa8-621">10.2.0.0/16</span></span> |<span data-ttu-id="ddaa8-622">Merhaba yerel ağ oluşturulurken bir yer tutucu ağ geçidi adresi verin.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-622">While creating hello Local Network give a placeholder gateway address.</span></span> <span data-ttu-id="ddaa8-623">Merhaba ağ geçidi oluşturulduktan sonra hello gerçek ağ geçidi adresi girilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-623">hello real gateway address is filled once hello gateway is created.</span></span> <span data-ttu-id="ddaa8-624">Merhaba adres alanı olduğundan emin olun tam olarak eşleşen hello ilgili uzak VNET; Bu durumda hello VNET hello Doğu ABD bölgesinde oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-624">Make sure hello address space exactly matches hello respective remote VNET; in this case hello VNET created in hello East US region.</span></span> |
| <span data-ttu-id="ddaa8-625">HK-lnet-Map-to-West-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-625">hk-lnet-map-to-west-us</span></span> |<span data-ttu-id="ddaa8-626">23.2.2.2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-626">23.2.2.2</span></span> |<span data-ttu-id="ddaa8-627">10.1.0.0/16</span><span class="sxs-lookup"><span data-stu-id="ddaa8-627">10.1.0.0/16</span></span> |<span data-ttu-id="ddaa8-628">Merhaba yerel ağ oluşturulurken bir yer tutucu ağ geçidi adresi verin.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-628">While creating hello Local Network give a placeholder gateway address.</span></span> <span data-ttu-id="ddaa8-629">Merhaba ağ geçidi oluşturulduktan sonra hello gerçek ağ geçidi adresi girilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-629">hello real gateway address is filled once hello gateway is created.</span></span> <span data-ttu-id="ddaa8-630">Merhaba adres alanı olduğundan emin olun tam olarak eşleşen hello ilgili uzak VNET; Bu durumda hello VNET hello Batı ABD bölgesi oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-630">Make sure hello address space exactly matches hello respective remote VNET; in this case hello VNET created in hello West US region.</span></span> |

### <a name="step-3-map-local-network-toohello-respective-vnets"></a><span data-ttu-id="ddaa8-631">3. adım: Eşleme "Yerel" Ağ toohello ilgili sanal ağları</span><span class="sxs-lookup"><span data-stu-id="ddaa8-631">Step 3: Map “Local” network toohello respective VNETs</span></span>
<span data-ttu-id="ddaa8-632">Hello Klasik Azure portalı, her sanal ağ seçin, "Yapılandır"'ı tıklatın, "Bağlan toohello yerel ağ" denetleyin ve aşağıdaki ayrıntılara hello başına hello yerel ağlar seçin:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-632">From hello Azure classic portal, select each vnet, click “Configure”, check “Connect toohello local network”, and select hello Local Networks per hello following details:</span></span>

| <span data-ttu-id="ddaa8-633">Sanal Ağ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-633">Virtual Network</span></span> | <span data-ttu-id="ddaa8-634">Yerel ağ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-634">Local Network</span></span> |
| --- | --- |
| <span data-ttu-id="ddaa8-635">HK-vnet-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-635">hk-vnet-west-us</span></span> |<span data-ttu-id="ddaa8-636">HK-lnet-Map-to-East-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-636">hk-lnet-map-to-east-us</span></span> |
| <span data-ttu-id="ddaa8-637">HK-vnet-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-637">hk-vnet-east-us</span></span> |<span data-ttu-id="ddaa8-638">HK-lnet-Map-to-West-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-638">hk-lnet-map-to-west-us</span></span> |

### <a name="step-4-create-gateways-on-vnet1-and-vnet2"></a><span data-ttu-id="ddaa8-639">4. adım: Ağ geçitleri VNET1 ve vnet2'yi oluşturma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-639">Step 4: Create Gateways on VNET1 and VNET2</span></span>
<span data-ttu-id="ddaa8-640">Her iki hello sanal ağlar Hello panodan oluşturmak hello VPN ağ geçidi sağlama işlemini tetikler ağ geçidi'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-640">From hello dashboard of both hello virtual networks, click CREATE GATEWAY which will trigger hello VPN gateway provisioning process.</span></span> <span data-ttu-id="ddaa8-641">Her sanal ağ Panosu birkaç dakika hello sonra hello gerçek ağ geçidi adresi görüntülemelidir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-641">After a few minutes hello dashboard of each virtual network should display hello actual gateway address.</span></span>

### <a name="step-5-update-local-networks-with-hello-respective-gateway-addresses"></a><span data-ttu-id="ddaa8-642">5. adım: Güncelleştirme "Yerel" ağlar hello ilgili "ağ geçidi" adresleri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-642">Step 5: Update “Local” networks with hello respective “Gateway” addresses</span></span>
<span data-ttu-id="ddaa8-643">Her iki hello yerel ağlar tooreplace hello yer tutucu ağ geçidi IP sağlanan adresi hello yalnızca hello gerçek IP adresi ile ağ geçidi düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-643">Edit both hello local networks tooreplace hello placeholder gateway IP address with hello real IP address of hello just provisioned gateways.</span></span> <span data-ttu-id="ddaa8-644">Eşleme aşağıdaki hello kullan:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-644">Use hello following mapping:</span></span>

<table>
<tr><th><span data-ttu-id="ddaa8-645">Yerel ağ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-645">Local Network</span></span>    </th><th><span data-ttu-id="ddaa8-646">Sanal Ağ Geçidi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-646">Virtual Network Gateway</span></span></th></tr>
<tr><td><span data-ttu-id="ddaa8-647">HK-lnet-Map-to-East-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-647">hk-lnet-map-to-east-us</span></span> </td><td><span data-ttu-id="ddaa8-648">Ağ geçidi hk-vnet-Batı-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-648">Gateway of hk-vnet-west-us</span></span></td></tr>
<tr><td><span data-ttu-id="ddaa8-649">HK-lnet-Map-to-West-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-649">hk-lnet-map-to-west-us</span></span> </td><td><span data-ttu-id="ddaa8-650">Ağ geçidi hk-vnet-Doğu-ABD</span><span class="sxs-lookup"><span data-stu-id="ddaa8-650">Gateway of hk-vnet-east-us</span></span></td></tr>
</table>

### <a name="step-6-update-hello-shared-key"></a><span data-ttu-id="ddaa8-651">6. adım: Güncelleştirme hello paylaşılan anahtar</span><span class="sxs-lookup"><span data-stu-id="ddaa8-651">Step 6: Update hello shared key</span></span>
<span data-ttu-id="ddaa8-652">PowerShell komut dosyası tooupdate hello IPSec anahtarı her VPN ağ geçidi [hello artırmak amacıyla anahtarı hem hello ağ geçitleri için kullanın] aşağıdaki kullanım hello: Set-AzureVNetGatewayKey - vnetname adlı hk-vnet-Doğu-us - LocalNetworkSiteName hk-lnet-map-to-west-us - SharedKey D9E76BKK Set-AzureVNetGatewayKey - vnetname adlı hk-vnet-Batı-us - LocalNetworkSiteName hk-lnet-map-to-east-us - SharedKey D9E76BKK</span><span class="sxs-lookup"><span data-stu-id="ddaa8-652">Use hello following Powershell script tooupdate hello IPSec key of each VPN gateway [use hello sake key for both hello gateways]: Set-AzureVNetGatewayKey -VNetName hk-vnet-east-us -LocalNetworkSiteName hk-lnet-map-to-west-us -SharedKey D9E76BKK Set-AzureVNetGatewayKey -VNetName hk-vnet-west-us -LocalNetworkSiteName hk-lnet-map-to-east-us -SharedKey D9E76BKK</span></span>

### <a name="step-7-establish-hello-vnet-to-vnet-connection"></a><span data-ttu-id="ddaa8-653">7. adım: Merhaba VNET-VNET bağlantısı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-653">Step 7: Establish hello VNET-to-VNET connection</span></span>
<span data-ttu-id="ddaa8-654">Hello Klasik Azure Portalı ' hem hello sanal ağlar tooestablish ağ geçidi için ağ geçidi bağlantı hello "PANO" menüsünü kullanın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-654">From hello Azure classic portal, use hello “DASHBOARD” menu of both hello virtual networks tooestablish gateway-to-gateway connection.</span></span> <span data-ttu-id="ddaa8-655">Merhaba "BAĞLAN" menü öğeleri hello alt kısımdaki araç kullanın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-655">Use hello “CONNECT” menu items in hello bottom toolbar.</span></span> <span data-ttu-id="ddaa8-656">Birkaç dakika sonra hello Pano hello bağlantı ayrıntıları grafik görüntülemelidir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-656">After a few minutes hello dashboard should display hello connection details graphically.</span></span>

### <a name="step-8-create-hello-virtual-machines-in-region-2"></a><span data-ttu-id="ddaa8-657">8. adım: #2 bölgede hello sanal makineler oluşturma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-657">Step 8: Create hello virtual machines in region #2</span></span>
<span data-ttu-id="ddaa8-658">Aynı adımlar veya #2 bölgede bulunan hello görüntü VHD dosyası toohello Azure depolama hesabı kopyalama aşağıdaki hello tarafından bölge #1 dağıtımı'nda açıklandığı gibi Hello Ubuntu görüntü oluşturabilir ve hello görüntü oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-658">Create hello Ubuntu image as described in region #1 deployment by following hello same steps or copy hello image VHD file toohello Azure storage account located in region #2 and create hello image.</span></span> <span data-ttu-id="ddaa8-659">Bu görüntüyü kullanın ve yeni bir bulut hizmeti hk-c-svc-Doğu-us sanal makinelerin listesini aşağıdaki hello oluşturun:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-659">Use this image and create hello following list of virtual machines into a new cloud service hk-c-svc-east-us:</span></span>

| <span data-ttu-id="ddaa8-660">Makine adı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-660">Machine Name</span></span> | <span data-ttu-id="ddaa8-661">Alt ağ</span><span class="sxs-lookup"><span data-stu-id="ddaa8-661">Subnet</span></span> | <span data-ttu-id="ddaa8-662">IP Adresi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-662">IP Address</span></span> | <span data-ttu-id="ddaa8-663">Kullanılabilirlik kümesi</span><span class="sxs-lookup"><span data-stu-id="ddaa8-663">Availability set</span></span> | <span data-ttu-id="ddaa8-664">DC/raf</span><span class="sxs-lookup"><span data-stu-id="ddaa8-664">DC/Rack</span></span> | <span data-ttu-id="ddaa8-665">Çekirdek?</span><span class="sxs-lookup"><span data-stu-id="ddaa8-665">Seed?</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="ddaa8-666">HK-c1-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-666">hk-c1-east-us</span></span> |<span data-ttu-id="ddaa8-667">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-667">data</span></span> |<span data-ttu-id="ddaa8-668">10.2.2.4</span><span class="sxs-lookup"><span data-stu-id="ddaa8-668">10.2.2.4</span></span> |<span data-ttu-id="ddaa8-669">HK-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-669">hk-c-aset-1</span></span> |<span data-ttu-id="ddaa8-670">DC EASTUS raf = raf1 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-670">dc =EASTUS rack =rack1</span></span> |<span data-ttu-id="ddaa8-671">Evet</span><span class="sxs-lookup"><span data-stu-id="ddaa8-671">Yes</span></span> |
| <span data-ttu-id="ddaa8-672">HK-c2-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-672">hk-c2-east-us</span></span> |<span data-ttu-id="ddaa8-673">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-673">data</span></span> |<span data-ttu-id="ddaa8-674">10.2.2.5</span><span class="sxs-lookup"><span data-stu-id="ddaa8-674">10.2.2.5</span></span> |<span data-ttu-id="ddaa8-675">HK-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-675">hk-c-aset-1</span></span> |<span data-ttu-id="ddaa8-676">DC EASTUS raf = raf1 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-676">dc =EASTUS rack =rack1</span></span> |<span data-ttu-id="ddaa8-677">Hayır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-677">No</span></span> |
| <span data-ttu-id="ddaa8-678">HK-c3-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-678">hk-c3-east-us</span></span> |<span data-ttu-id="ddaa8-679">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-679">data</span></span> |<span data-ttu-id="ddaa8-680">10.2.2.6</span><span class="sxs-lookup"><span data-stu-id="ddaa8-680">10.2.2.6</span></span> |<span data-ttu-id="ddaa8-681">HK-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-681">hk-c-aset-1</span></span> |<span data-ttu-id="ddaa8-682">DC EASTUS raf = rack2 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-682">dc =EASTUS rack =rack2</span></span> |<span data-ttu-id="ddaa8-683">Evet</span><span class="sxs-lookup"><span data-stu-id="ddaa8-683">Yes</span></span> |
| <span data-ttu-id="ddaa8-684">HK-c5-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-684">hk-c5-east-us</span></span> |<span data-ttu-id="ddaa8-685">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-685">data</span></span> |<span data-ttu-id="ddaa8-686">10.2.2.8</span><span class="sxs-lookup"><span data-stu-id="ddaa8-686">10.2.2.8</span></span> |<span data-ttu-id="ddaa8-687">HK-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-687">hk-c-aset-2</span></span> |<span data-ttu-id="ddaa8-688">DC EASTUS raf = rack3 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-688">dc =EASTUS rack =rack3</span></span> |<span data-ttu-id="ddaa8-689">Evet</span><span class="sxs-lookup"><span data-stu-id="ddaa8-689">Yes</span></span> |
| <span data-ttu-id="ddaa8-690">HK-c6-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-690">hk-c6-east-us</span></span> |<span data-ttu-id="ddaa8-691">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-691">data</span></span> |<span data-ttu-id="ddaa8-692">10.2.2.9</span><span class="sxs-lookup"><span data-stu-id="ddaa8-692">10.2.2.9</span></span> |<span data-ttu-id="ddaa8-693">HK-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-693">hk-c-aset-2</span></span> |<span data-ttu-id="ddaa8-694">DC EASTUS raf = rack3 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-694">dc =EASTUS rack =rack3</span></span> |<span data-ttu-id="ddaa8-695">Hayır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-695">No</span></span> |
| <span data-ttu-id="ddaa8-696">HK-c7-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-696">hk-c7-east-us</span></span> |<span data-ttu-id="ddaa8-697">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-697">data</span></span> |<span data-ttu-id="ddaa8-698">10.2.2.10</span><span class="sxs-lookup"><span data-stu-id="ddaa8-698">10.2.2.10</span></span> |<span data-ttu-id="ddaa8-699">HK-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-699">hk-c-aset-2</span></span> |<span data-ttu-id="ddaa8-700">DC EASTUS raf = rack4 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-700">dc =EASTUS rack =rack4</span></span> |<span data-ttu-id="ddaa8-701">Evet</span><span class="sxs-lookup"><span data-stu-id="ddaa8-701">Yes</span></span> |
| <span data-ttu-id="ddaa8-702">HK-c8-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-702">hk-c8-east-us</span></span> |<span data-ttu-id="ddaa8-703">Veri</span><span class="sxs-lookup"><span data-stu-id="ddaa8-703">data</span></span> |<span data-ttu-id="ddaa8-704">10.2.2.11</span><span class="sxs-lookup"><span data-stu-id="ddaa8-704">10.2.2.11</span></span> |<span data-ttu-id="ddaa8-705">HK-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-705">hk-c-aset-2</span></span> |<span data-ttu-id="ddaa8-706">DC EASTUS raf = rack4 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-706">dc =EASTUS rack =rack4</span></span> |<span data-ttu-id="ddaa8-707">Hayır</span><span class="sxs-lookup"><span data-stu-id="ddaa8-707">No</span></span> |
| <span data-ttu-id="ddaa8-708">HK-w1-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-708">hk-w1-east-us</span></span> |<span data-ttu-id="ddaa8-709">Web</span><span class="sxs-lookup"><span data-stu-id="ddaa8-709">web</span></span> |<span data-ttu-id="ddaa8-710">10.2.1.4</span><span class="sxs-lookup"><span data-stu-id="ddaa8-710">10.2.1.4</span></span> |<span data-ttu-id="ddaa8-711">HK-w-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-711">hk-w-aset-1</span></span> |<span data-ttu-id="ddaa8-712">Yok</span><span class="sxs-lookup"><span data-stu-id="ddaa8-712">N/A</span></span> |<span data-ttu-id="ddaa8-713">Yok</span><span class="sxs-lookup"><span data-stu-id="ddaa8-713">N/A</span></span> |
| <span data-ttu-id="ddaa8-714">HK-w2-Doğu-us</span><span class="sxs-lookup"><span data-stu-id="ddaa8-714">hk-w2-east-us</span></span> |<span data-ttu-id="ddaa8-715">Web</span><span class="sxs-lookup"><span data-stu-id="ddaa8-715">web</span></span> |<span data-ttu-id="ddaa8-716">10.2.1.5</span><span class="sxs-lookup"><span data-stu-id="ddaa8-716">10.2.1.5</span></span> |<span data-ttu-id="ddaa8-717">HK-w-aset-1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-717">hk-w-aset-1</span></span> |<span data-ttu-id="ddaa8-718">Yok</span><span class="sxs-lookup"><span data-stu-id="ddaa8-718">N/A</span></span> |<span data-ttu-id="ddaa8-719">Yok</span><span class="sxs-lookup"><span data-stu-id="ddaa8-719">N/A</span></span> |

<span data-ttu-id="ddaa8-720">İzleme hello aynı bölge #1 olarak yönergeleri ancak 10.2.xxx.xxx adres alanı kullanın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-720">Follow hello same instructions as region #1 but use 10.2.xxx.xxx address space.</span></span>

### <a name="step-9-configure-cassandra-on-each-vm"></a><span data-ttu-id="ddaa8-721">9. adım: Her VM Cassandra yapılandırma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-721">Step 9: Configure Cassandra on each VM</span></span>
<span data-ttu-id="ddaa8-722">VM Hello oturum ve hello aşağıdakileri yapın:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-722">Log into hello VM and perform hello following:</span></span>

1. <span data-ttu-id="ddaa8-723">$CASS_HOME/conf/cassandra-rackdc.properties toospecify hello veri merkezi ve raf özellikleri hello biçimde düzenleyin: dc EASTUS raf = raf1 =</span><span class="sxs-lookup"><span data-stu-id="ddaa8-723">Edit $CASS_HOME/conf/cassandra-rackdc.properties toospecify hello data center and rack properties in hello format:  dc =EASTUS  rack =rack1</span></span>
2. <span data-ttu-id="ddaa8-724">Cassandra.yaml tooconfigure çekirdek düğümleri düzenleyin: oluştururken çekirdeği: "10.1.2.4,10.1.2.6,10.1.2.8,10.1.2.10,10.2.2.4,10.2.2.6,10.2.2.8,10.2.2.10"</span><span class="sxs-lookup"><span data-stu-id="ddaa8-724">Edit cassandra.yaml tooconfigure seed nodes:  Seeds: "10.1.2.4,10.1.2.6,10.1.2.8,10.1.2.10,10.2.2.4,10.2.2.6,10.2.2.8,10.2.2.10"</span></span>

### <a name="step-10-start-cassandra"></a><span data-ttu-id="ddaa8-725">10. adım: Cassandra Başlat</span><span class="sxs-lookup"><span data-stu-id="ddaa8-725">Step 10: Start Cassandra</span></span>
<span data-ttu-id="ddaa8-726">Her bir VM oturum ve hello aşağıdaki komutu çalıştırarak hello arka planda Cassandra Başlat: $CASS_HOME/bin/cassandra</span><span class="sxs-lookup"><span data-stu-id="ddaa8-726">Log into each VM and start Cassandra in hello background by running hello following command: $CASS_HOME/bin/cassandra</span></span>

## <a name="test-hello-multi-region-cluster"></a><span data-ttu-id="ddaa8-727">Test hello bölgeli küme</span><span class="sxs-lookup"><span data-stu-id="ddaa8-727">Test hello Multi-Region Cluster</span></span>
<span data-ttu-id="ddaa8-728">Artık her Azure bölgesi 8 düğümler ile dağıtılan too16 düğüm Cassandra olmuştur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-728">By now Cassandra has been deployed too16 nodes with 8 nodes in each Azure region.</span></span> <span data-ttu-id="ddaa8-729">Bu düğümler aynı hello ortak küme adı ve hello çekirdek düğüm yapılandırması, küme hello arasındadır.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-729">These nodes are in hello same cluster by virtue of hello common cluster name and hello seed node configuration.</span></span> <span data-ttu-id="ddaa8-730">İşlem tootest hello küme aşağıdaki hello kullan:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-730">Use hello following process tootest hello cluster:</span></span>

### <a name="step-1-get-hello-internal-load-balancer-ip-for-both-hello-regions-using-powershell"></a><span data-ttu-id="ddaa8-731">1. adım: hello iç yük dengeleyici IP PowerShell kullanarak her iki hello bölgeler için alın.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-731">Step 1: Get hello internal load balancer IP for both hello regions using PowerShell</span></span>
* <span data-ttu-id="ddaa8-732">Get-AzureInternalLoadbalancer - ServiceName "hk-c-svc-Batı-us"</span><span class="sxs-lookup"><span data-stu-id="ddaa8-732">Get-AzureInternalLoadbalancer -ServiceName "hk-c-svc-west-us"</span></span>
* <span data-ttu-id="ddaa8-733">Get-AzureInternalLoadbalancer - ServiceName "hk-c-svc-Doğu-us"</span><span class="sxs-lookup"><span data-stu-id="ddaa8-733">Get-AzureInternalLoadbalancer -ServiceName "hk-c-svc-east-us"</span></span>  
  
    <span data-ttu-id="ddaa8-734">Not hello IP adresleri (örneğin - 10.1.2.101, Doğu - Batı 10.2.2.101) görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-734">Note hello IP addresses (e.g. west - 10.1.2.101, east - 10.2.2.101) displayed.</span></span>

### <a name="step-2-execute-hello-following-in-hello-west-region-after-logging-into-hk-w1-west-us"></a><span data-ttu-id="ddaa8-735">2. adım: hello aşağıdakileri oturum hk-w1-Batı-us açtıktan sonra hello Batı bölgesinde yürütün</span><span class="sxs-lookup"><span data-stu-id="ddaa8-735">Step 2: Execute hello following in hello west region after logging into hk-w1-west-us</span></span>
1. <span data-ttu-id="ddaa8-736">$CASS_HOME/bin/cqlsh 10.1.2.101 yürütme 9160</span><span class="sxs-lookup"><span data-stu-id="ddaa8-736">Execute $CASS_HOME/bin/cqlsh 10.1.2.101 9160</span></span>
2. <span data-ttu-id="ddaa8-737">CQL komutları aşağıdaki hello yürütün:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-737">Execute hello following CQL commands:</span></span>
   
     <span data-ttu-id="ddaa8-738">İLE çoğaltma oluşturma KEYSPACE customers_ks = {'sınıfı': 'NetworkToplogyStrategy', 'WESTUS': 3 'EASTUS': 3};   Customers_ks; kullanın.   Tablo Customers(customer_id int PRIMARY KEY, firstname text, lastname text); oluşturma   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, 'John', 'Doe');   INSERT INTO Customers(customer_id, firstname, lastname) değerleri (2, 'Jane', 'Etikan');   SEÇİN * MÜŞTERİLERDEN;</span><span class="sxs-lookup"><span data-stu-id="ddaa8-738">CREATE KEYSPACE customers_ks   WITH REPLICATION = { 'class' : 'NetworkToplogyStrategy', 'WESTUS' : 3, 'EASTUS' : 3};   USE customers_ks;   CREATE TABLE Customers(customer_id int PRIMARY KEY, firstname text, lastname text);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, 'John', 'Doe');   INSERT INTO Customers(customer_id, firstname, lastname) VALUES (2, 'Jane', 'Doe');   SELECT * FROM Customers;</span></span>

<span data-ttu-id="ddaa8-739">Hello gibi bir görüntü görmeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-739">You should see a display like hello one below:</span></span>

| <span data-ttu-id="ddaa8-740">customer_id</span><span class="sxs-lookup"><span data-stu-id="ddaa8-740">customer_id</span></span> | <span data-ttu-id="ddaa8-741">FirstName</span><span class="sxs-lookup"><span data-stu-id="ddaa8-741">firstname</span></span> | <span data-ttu-id="ddaa8-742">Soyadı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-742">Lastname</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ddaa8-743">1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-743">1</span></span> |<span data-ttu-id="ddaa8-744">John</span><span class="sxs-lookup"><span data-stu-id="ddaa8-744">John</span></span> |<span data-ttu-id="ddaa8-745">Doe</span><span class="sxs-lookup"><span data-stu-id="ddaa8-745">Doe</span></span> |
| <span data-ttu-id="ddaa8-746">2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-746">2</span></span> |<span data-ttu-id="ddaa8-747">Jane</span><span class="sxs-lookup"><span data-stu-id="ddaa8-747">Jane</span></span> |<span data-ttu-id="ddaa8-748">Doe</span><span class="sxs-lookup"><span data-stu-id="ddaa8-748">Doe</span></span> |

### <a name="step-3-execute-hello-following-in-hello-east-region-after-logging-into-hk-w1-east-us"></a><span data-ttu-id="ddaa8-749">3. adım: oturum hk-w1-Doğu-us açtıktan sonra hello Doğu bölgede hello aşağıdakileri yürütün:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-749">Step 3: Execute hello following in hello east region after logging into hk-w1-east-us:</span></span>
1. <span data-ttu-id="ddaa8-750">$CASS_HOME/bin/cqlsh 10.2.2.101 yürütme 9160</span><span class="sxs-lookup"><span data-stu-id="ddaa8-750">Execute $CASS_HOME/bin/cqlsh 10.2.2.101 9160</span></span>
2. <span data-ttu-id="ddaa8-751">CQL komutları aşağıdaki hello yürütün:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-751">Execute hello following CQL commands:</span></span>
   
     <span data-ttu-id="ddaa8-752">Customers_ks; kullanın.   Tablo Customers(customer_id int PRIMARY KEY, firstname text, lastname text); oluşturma   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, 'John', 'Doe');   INSERT INTO Customers(customer_id, firstname, lastname) değerleri (2, 'Jane', 'Etikan');   SEÇİN * MÜŞTERİLERDEN;</span><span class="sxs-lookup"><span data-stu-id="ddaa8-752">USE customers_ks;   CREATE TABLE Customers(customer_id int PRIMARY KEY, firstname text, lastname text);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, 'John', 'Doe');   INSERT INTO Customers(customer_id, firstname, lastname) VALUES (2, 'Jane', 'Doe');   SELECT * FROM Customers;</span></span>

<span data-ttu-id="ddaa8-753">Aynı hello Batı bölge için görülen görüntülemek hello görmeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-753">You should see hello same display as seen for hello West region:</span></span>

| <span data-ttu-id="ddaa8-754">customer_id</span><span class="sxs-lookup"><span data-stu-id="ddaa8-754">customer_id</span></span> | <span data-ttu-id="ddaa8-755">FirstName</span><span class="sxs-lookup"><span data-stu-id="ddaa8-755">firstname</span></span> | <span data-ttu-id="ddaa8-756">Soyadı</span><span class="sxs-lookup"><span data-stu-id="ddaa8-756">Lastname</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ddaa8-757">1</span><span class="sxs-lookup"><span data-stu-id="ddaa8-757">1</span></span> |<span data-ttu-id="ddaa8-758">John</span><span class="sxs-lookup"><span data-stu-id="ddaa8-758">John</span></span> |<span data-ttu-id="ddaa8-759">Doe</span><span class="sxs-lookup"><span data-stu-id="ddaa8-759">Doe</span></span> |
| <span data-ttu-id="ddaa8-760">2</span><span class="sxs-lookup"><span data-stu-id="ddaa8-760">2</span></span> |<span data-ttu-id="ddaa8-761">Jane</span><span class="sxs-lookup"><span data-stu-id="ddaa8-761">Jane</span></span> |<span data-ttu-id="ddaa8-762">Doe</span><span class="sxs-lookup"><span data-stu-id="ddaa8-762">Doe</span></span> |

<span data-ttu-id="ddaa8-763">Birkaç daha fazla eklemeleri yürütün ve bu çoğaltılmış toowest görmek-bize hello kümenin parçası.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-763">Execute a few more inserts and see that those get replicated toowest-us part of hello cluster.</span></span>

## <a name="test-cassandra-cluster-from-nodejs"></a><span data-ttu-id="ddaa8-764">Test Cassandra Node.js kümeden</span><span class="sxs-lookup"><span data-stu-id="ddaa8-764">Test Cassandra Cluster from Node.js</span></span>
<span data-ttu-id="ddaa8-765">Merhaba "web" katmanında hello Linux VM'ler birini kullanarak daha önce crated, basit bir Node.js komut dosyası tooread önceden eklenen hello veri yürütülmez.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-765">Using one of hello Linux VMs crated in hello "web" tier previously, we will execute a simple Node.js script tooread hello previously inserted data</span></span>

<span data-ttu-id="ddaa8-766">**1. adım: Node.js ve Cassandra istemcisi yükleme**</span><span class="sxs-lookup"><span data-stu-id="ddaa8-766">**Step 1: Install Node.js and Cassandra Client**</span></span>

1. <span data-ttu-id="ddaa8-767">Node.js ve npm yükleme</span><span class="sxs-lookup"><span data-stu-id="ddaa8-767">Install Node.js and npm</span></span>
2. <span data-ttu-id="ddaa8-768">Düğüm paketi "cassandra-istemci" yükleme npm kullanma</span><span class="sxs-lookup"><span data-stu-id="ddaa8-768">Install node package "cassandra-client" using npm</span></span>
3. <span data-ttu-id="ddaa8-769">Alınan hello veri hello json dizesi görüntüleyen hello Kabuk isteminde komut dosyası izleyen hello yürütün:</span><span class="sxs-lookup"><span data-stu-id="ddaa8-769">Execute hello following script at hello shell prompt which displays hello json string of hello retrieved data:</span></span>
   
        var pooledCon = require('cassandra-client').PooledConnection;
        var ksName = "custsupport_ks";
        var cfName = "customers_cf";
        var hostList = ['internal_loadbalancer_ip:9160'];
        var ksConOptions = { hosts: hostList,
                             keyspace: ksName, use_bigints: false };
   
        function createKeyspace(callback){
           var cql = 'CREATE KEYSPACE ' + ksName + ' WITH strategy_class=SimpleStrategy AND strategy_options:replication_factor=1';
           var sysConOptions = { hosts: hostList,  
                                 keyspace: 'system', use_bigints: false };
           var con = new pooledCon(sysConOptions);
           con.execute(cql,[],function(err) {
           if (err) {
             console.log("Failed toocreate Keyspace: " + ksName);
             console.log(err);
           }
           else {
             console.log("Created Keyspace: " + ksName);
             callback(ksConOptions, populateCustomerData);
           }
           });
           con.shutdown();
        }
   
        function createColumnFamily(ksConOptions, callback){
          var params = ['customers_cf','custid','varint','custname',
                        'text','custaddress','text'];
          var cql = 'CREATE COLUMNFAMILY ? (? ? PRIMARY KEY,? ?, ? ?)';
        var con =  new pooledCon(ksConOptions);
          con.execute(cql,params,function(err) {
              if (err) {
                 console.log("Failed toocreate column family: " + params[0]);
                 console.log(err);
              }
              else {
                 console.log("Created column family: " + params[0]);
                 callback();
              }
          });
          con.shutdown();
        }
   
        //populate Data
        function populateCustomerData() {
           var params = ['John','Infinity Dr, TX', 1];
           updateCustomer(ksConOptions,params);
   
           params = ['Tom','Fermat Ln, WA', 2];
           updateCustomer(ksConOptions,params);
        }
   
        //update will also insert hello record if none exists
        function updateCustomer(ksConOptions,params)
        {
          var cql = 'UPDATE customers_cf SET custname=?,custaddress=? where custid=?';
          var con = new pooledCon(ksConOptions);
          con.execute(cql,params,function(err) {
              if (err) console.log(err);
              else console.log("Inserted customer : " + params[0]);
          });
          con.shutdown();
        }
   
        //read hello two rows inserted above
        function readCustomer(ksConOptions)
        {
          var cql = 'SELECT * FROM customers_cf WHERE custid IN (1,2)';
          var con = new pooledCon(ksConOptions);
          con.execute(cql,[],function(err,rows) {
              if (err)
                 console.log(err);
              else
                 for (var i=0; i<rows.length; i++)
                    console.log(JSON.stringify(rows[i]));
            });
           con.shutdown();
        }
   
        //exectue hello code
        createKeyspace(createColumnFamily);
        readCustomer(ksConOptions)

## <a name="conclusion"></a><span data-ttu-id="ddaa8-770">Sonuç</span><span class="sxs-lookup"><span data-stu-id="ddaa8-770">Conclusion</span></span>
<span data-ttu-id="ddaa8-771">Microsoft Azure tarafından bu alıştırmada gösterildiği gibi hem Microsoft, hem de açık kaynak yazılımının hello çalışmasını sağlayan esnek bir platformdur.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-771">Microsoft Azure is a flexible platform that allows hello running of both Microsoft as well as open source software as demonstrated by this exercise.</span></span> <span data-ttu-id="ddaa8-772">Yüksek oranda kullanılabilir Cassandra kümeleri tek bir veri merkezi hello hello küme düğümlerinin birden çok hata etki alanlarında yayılmak üzerinden dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-772">Highly available Cassandra clusters can be deployed on a single data center through hello spreading of hello cluster nodes across multiple fault domains.</span></span> <span data-ttu-id="ddaa8-773">Cassandra kümeleri de olağanüstü durum kanıtını sistemler için birden çok coğrafi olarak birbirinden uzak Azure bölgeleri üzerinden dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-773">Cassandra clusters can also be deployed across multiple geographically distant Azure regions for disaster proof systems.</span></span> <span data-ttu-id="ddaa8-774">Azure ve Cassandra birlikte etkinleştirir düzeyde ölçeklenebilir, yüksek oranda kullanılabilir yapımı hello ve olağanüstü durum kurtarılabilir bulut Hizmetleri tarafından bugünün internet Hizmetleri ölçeği.</span><span class="sxs-lookup"><span data-stu-id="ddaa8-774">Azure and Cassandra together enables hello construction of highly scalable, highly available and disaster recoverable cloud services needed by today's internet scale services.</span></span>  

## <a name="references"></a><span data-ttu-id="ddaa8-775">Başvurular</span><span class="sxs-lookup"><span data-stu-id="ddaa8-775">References</span></span>
* [<span data-ttu-id="ddaa8-776">http://cassandra.apache.org</span><span class="sxs-lookup"><span data-stu-id="ddaa8-776">http://cassandra.apache.org</span></span>](http://cassandra.apache.org)
* [<span data-ttu-id="ddaa8-777">http://www.datastax.com</span><span class="sxs-lookup"><span data-stu-id="ddaa8-777">http://www.datastax.com</span></span>](http://www.datastax.com)
* [<span data-ttu-id="ddaa8-778">http://www.nodejs.org</span><span class="sxs-lookup"><span data-stu-id="ddaa8-778">http://www.nodejs.org</span></span>](http://www.nodejs.org)

