---
title: Linux VM Azure ile ilgili en iyi duruma getirme | Microsoft Docs
description: "Azure ile ilgili en iyi performans için Linux VM oluşturdunuz emin olmak için bazı en iyi duruma getirme ipuçlarını öğrenin"
keywords: Linux sanal makine, sanal makine linux ubuntu sanal makine
services: virtual-machines-linux
documentationcenter: 
author: rickstercdn
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: 8baa30c8-d40e-41ac-93d0-74e96fe18d4c
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: rclaus
ms.openlocfilehash: eb79d574fd4dddfb986660cc338bc8748f2082c2
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/29/2017
---
# <a name="optimize-your-linux-vm-on-azure"></a><span data-ttu-id="1a54a-104">Azure’da Linux VM’nizi iyileştirme</span><span class="sxs-lookup"><span data-stu-id="1a54a-104">Optimize your Linux VM on Azure</span></span>
<span data-ttu-id="1a54a-105">Linux sanal makine (VM) oluşturma komut satırından veya portalından yapmak kolaydır.</span><span class="sxs-lookup"><span data-stu-id="1a54a-105">Creating a Linux virtual machine (VM) is easy to do from the command line or from the portal.</span></span> <span data-ttu-id="1a54a-106">Bu öğreticide, Microsoft Azure platformu üzerinde performansı iyileştirmek için ayarladığınız emin olmak nasıl gösterir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-106">This tutorial shows you how to ensure you have set it up to optimize its performance on the Microsoft Azure platform.</span></span> <span data-ttu-id="1a54a-107">Bu konuda bir Ubuntu Server VM kullanır, ancak, Linux kullanarak sanal makine oluşturabilirsiniz [kendi görüntü şablonları olarak](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1a54a-107">This topic uses an Ubuntu Server VM, but you can also create Linux virtual machine using [your own images as templates](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="1a54a-108">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="1a54a-108">Prerequisites</span></span>
<span data-ttu-id="1a54a-109">Bu konu çalışan bir Azure aboneliği zaten sahip varsayar ([ücretsiz deneme sürenizde](https://azure.microsoft.com/pricing/free-trial/)) ve bir VM Azure aboneliğinizde zaten sağlanmış.</span><span class="sxs-lookup"><span data-stu-id="1a54a-109">This topic assumes you already have a working Azure subscription ([free trial signup](https://azure.microsoft.com/pricing/free-trial/)) and have already provisioned a VM into your Azure subscription.</span></span> <span data-ttu-id="1a54a-110">En son sahip olduğunuzdan emin olun [Azure CLI 2.0](/cli/azure/install-az-cli2) yüklü ve Azure aboneliğinizle oturum açmış [az oturum açma](/cli/azure/#login) , önce [bir VM oluşturma](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1a54a-110">Make sure that you have the latest [Azure CLI 2.0](/cli/azure/install-az-cli2) installed and logged in to your Azure subscription with [az login](/cli/azure/#login) before you [create a VM](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-os-disk"></a><span data-ttu-id="1a54a-111">Azure işletim sistemi diski</span><span class="sxs-lookup"><span data-stu-id="1a54a-111">Azure OS Disk</span></span>
<span data-ttu-id="1a54a-112">Azure'da bir Linux VM oluşturduktan sonra kendisiyle ilişkilendirilmiş iki disk var.</span><span class="sxs-lookup"><span data-stu-id="1a54a-112">Once you create a Linux VM in Azure, it has two disks associated with it.</span></span> <span data-ttu-id="1a54a-113">**/ dev/sda** , işletim sistemi disk **/dev/sdb** geçici disktir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-113">**/dev/sda** is your OS disk, **/dev/sdb** is your temporary disk.</span></span>  <span data-ttu-id="1a54a-114">Ana işletim sistemi diski kullanmayın (**/dev/sda**) olarak işletim sistemi dışındaki her şey için optimize edilen için hızlı VM önyükleme süresi ve iş yükleriniz için iyi bir performans sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="1a54a-114">Do not use the main OS disk (**/dev/sda**) for anything except the operating system as it is optimized for fast VM boot time and does not provide good performance for your workloads.</span></span> <span data-ttu-id="1a54a-115">Kalıcı almak için VM için bir veya daha fazla disk eklemek için kullanmak istediğiniz ve depolama verileriniz için en iyi duruma getirilmiş.</span><span class="sxs-lookup"><span data-stu-id="1a54a-115">You want to attach one or more disks to your VM to get persistent and optimized storage for your data.</span></span> 

## <a name="adding-disks-for-size-and-performance-targets"></a><span data-ttu-id="1a54a-116">Disk boyutu ve performans hedefleri için ekleme</span><span class="sxs-lookup"><span data-stu-id="1a54a-116">Adding Disks for Size and Performance targets</span></span>
<span data-ttu-id="1a54a-117">VM boyutuna göre en fazla 16 ek A Series, D-serisi 32 disklerde disklerde iliştirebilirsiniz ve G serisi 64 disklerde makine - boyutu 1 TB'ye kadar her.</span><span class="sxs-lookup"><span data-stu-id="1a54a-117">Based on the VM size, you can attach up to 16 additional disks on an A-Series, 32 disks on a D-Series and 64 disks on a G-Series machine - each up to 1 TB in size.</span></span> <span data-ttu-id="1a54a-118">Ek disk alanı ve IOPS gereksinimlerini gerektiği gibi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="1a54a-118">You add extra disks as needed per your space and IOps requirements.</span></span> <span data-ttu-id="1a54a-119">Her diskin 500 IOPS performans hedefinin Premium Storage için standart depolama ve disk başına 5000 Iops'yi kadar vardır.</span><span class="sxs-lookup"><span data-stu-id="1a54a-119">Each disk has a performance target of 500 IOps for Standard Storage and up to 5000 IOps per disk for Premium Storage.</span></span>  <span data-ttu-id="1a54a-120">Premium depolama diskler hakkında daha fazla bilgi için bkz: [Premium Storage: Azure VM'ler için yüksek performanslı depolama](../../storage/common/storage-premium-storage.md)</span><span class="sxs-lookup"><span data-stu-id="1a54a-120">For more information about Premium Storage disks, see [Premium Storage: High-Performance Storage for Azure VMs](../../storage/common/storage-premium-storage.md)</span></span>

<span data-ttu-id="1a54a-121">Burada kendi önbellek ayarlarını ayarlanmış olarak Premium depolama disklerde yüksek IOPS elde etmek için **ReadOnly** veya **hiçbiri**, devre dışı bırakmalısınız **engelleri** bağlama sırasında Linux dosya sisteminde.</span><span class="sxs-lookup"><span data-stu-id="1a54a-121">To achieve the highest IOps on Premium Storage disks where their cache settings have been set to either **ReadOnly** or **None**, you must disable **barriers** while mounting the file system in Linux.</span></span> <span data-ttu-id="1a54a-122">Premium yedeklenen depolama diskleri yazma işlemleri için bu önbellek ayarlarını dayanıklı olduğundan engelleri gerekmez.</span><span class="sxs-lookup"><span data-stu-id="1a54a-122">You do not need barriers because the writes to Premium Storage backed disks are durable for these cache settings.</span></span>

* <span data-ttu-id="1a54a-123">Kullanırsanız **reiserFS**, bağlama seçeneği kullanılarak devre dışı bırak engelleri `barrier=none` (engelleri etkinleştirmek için kullanın `barrier=flush`)</span><span class="sxs-lookup"><span data-stu-id="1a54a-123">If you use **reiserFS**, disable barriers using the mount option `barrier=none` (For enabling barriers, use `barrier=flush`)</span></span>
* <span data-ttu-id="1a54a-124">Kullanırsanız **ext3/ext4**, bağlama seçeneği kullanılarak devre dışı bırak engelleri `barrier=0` (engelleri etkinleştirmek için kullanın `barrier=1`)</span><span class="sxs-lookup"><span data-stu-id="1a54a-124">If you use **ext3/ext4**, disable barriers using the mount option `barrier=0` (For enabling barriers, use `barrier=1`)</span></span>
* <span data-ttu-id="1a54a-125">Kullanırsanız **XFS**, bağlama seçeneği kullanılarak devre dışı bırak engelleri `nobarrier` (engelleri etkinleştirmek için seçeneği kullanın `barrier`)</span><span class="sxs-lookup"><span data-stu-id="1a54a-125">If you use **XFS**, disable barriers using the mount option `nobarrier` (For enabling barriers, use the option `barrier`)</span></span>

## <a name="unmanaged-storage-account-considerations"></a><span data-ttu-id="1a54a-126">Yönetilmeyen depolama hesabında dikkate alınacak noktalar</span><span class="sxs-lookup"><span data-stu-id="1a54a-126">Unmanaged storage account considerations</span></span>
<span data-ttu-id="1a54a-127">Bir VM ile Azure CLI 2.0 oluşturduğunuzda, varsayılan eylem Azure yönetilen diskleri kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="1a54a-127">The default action when you create a VM with the Azure CLI 2.0 is to use Azure Managed Disks.</span></span>  <span data-ttu-id="1a54a-128">Bu diskleri Azure platformu tarafından işlenir ve hazırlık veya konum depolamaya gerektirmez.</span><span class="sxs-lookup"><span data-stu-id="1a54a-128">These disks are handled by the Azure platform and do not require any preparation or location to store them.</span></span>  <span data-ttu-id="1a54a-129">Yönetilmeyen diskler bir depolama hesabı gerektirir ve bazı ek performans konuları vardır.</span><span class="sxs-lookup"><span data-stu-id="1a54a-129">Unmanaged disks require a storage account and have some additional performance considerations.</span></span>  <span data-ttu-id="1a54a-130">Yönetilen diskler hakkında daha fazla bilgi için bkz. [Azure Yönetilen Disklere genel bakış](../windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1a54a-130">For more information about managed disks, see [Azure Managed Disks overview](../windows/managed-disks-overview.md).</span></span>  <span data-ttu-id="1a54a-131">Yalnızca yönetilmeyen diskleri kullandığınızda aşağıdaki bölümde performans özetlemektedir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-131">The following section outlines performance considerations only when you use unmanaged disks.</span></span>  <span data-ttu-id="1a54a-132">Yeniden, varsayılan ve önerilen bir depolama çözümü, yönetilen diskleri kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="1a54a-132">Again, the default and recommended storage solution is to use managed disks.</span></span>

<span data-ttu-id="1a54a-133">Yönetilmeyen disklerle VM oluşturursanız, yakınında olun ve ağ gecikmesini en aza indirmek için VM ile aynı bölgede bulunan depolama hesaplarından diskleri bağladığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="1a54a-133">If you create a VM with unmanaged disks, make sure that you attach disks from storage accounts residing in the same region as your VM to ensure close proximity and minimize network latency.</span></span>  <span data-ttu-id="1a54a-134">Her standart depolama hesabının en fazla 20 sahip k IOPS ve 500 TB boyutu kapasitesi.</span><span class="sxs-lookup"><span data-stu-id="1a54a-134">Each Standard storage account has a maximum of 20k IOps and a 500 TB size capacity.</span></span>  <span data-ttu-id="1a54a-135">İşletim sistemi diski ve oluşturduğunuz herhangi bir veri diski dahil olmak üzere 40 yoğun olarak kullanılan diskler için bu sınır üretir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-135">This  limit works out to approximately 40 heavily used disks including both the OS disk and any data disks you create.</span></span> <span data-ttu-id="1a54a-136">Premium depolama hesapları için maksimum IOPS sınırı yoktur ancak 32 TB boyut sınırı yoktur.</span><span class="sxs-lookup"><span data-stu-id="1a54a-136">For Premium Storage accounts, there is no Maximum IOps limit but there is a 32 TB size limit.</span></span> 

<span data-ttu-id="1a54a-137">Yüksek IOPS iş yükleri ve postalarla seçtiniz, standart depolama diskleriniz için standart depolama hesapları için 20.000 IOPS sınırına ulaşıp değil emin olmak için birden çok depolama hesapları arasında diskleri bölme gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-137">When dealing with high IOps workloads and you have chosen Standard Storage for your disks, you might need to split the disks across multiple storage accounts to make sure you have not hit the 20,000 IOps limit for Standard Storage accounts.</span></span> <span data-ttu-id="1a54a-138">VM'yi farklı depolama hesapları ve en iyi yapılandırmanızı elde etmek için depolama hesabı türleri arasında disklerden bir karışımını içerebilir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-138">Your VM can contain a mix of disks from across different storage accounts and storage account types to achieve your optimal configuration.</span></span>
 

## <a name="your-vm-temporary-drive"></a><span data-ttu-id="1a54a-139">VM geçici sürücünüze</span><span class="sxs-lookup"><span data-stu-id="1a54a-139">Your VM Temporary drive</span></span>
<span data-ttu-id="1a54a-140">Bir VM oluşturduğunuzda varsayılan olarak Azure, bir işletim sistemi diski ile sağlar (**/dev/sda**) ve geçici bir disk (**/dev/sdb**).</span><span class="sxs-lookup"><span data-stu-id="1a54a-140">By default when you create a VM, Azure provides you with an OS disk (**/dev/sda**) and a temporary disk (**/dev/sdb**).</span></span>  <span data-ttu-id="1a54a-141">Eklediğiniz Göster yukarı olarak tüm ek diskleri **/dev/sdc**, **/dev/sdd**, **/dev/sde** ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="1a54a-141">All additional disks you add show up as **/dev/sdc**, **/dev/sdd**, **/dev/sde** and so on.</span></span> <span data-ttu-id="1a54a-142">Geçici diskteki tüm verileri (**/dev/sdb**) sağlam değildir ve Bakım VM'yi yeniden başlatılmasını zorlar veya belirli olaylar gibi VM yeniden boyutlandırma, yeniden dağıtım, kaybolmuş olabilir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-142">All data on your temporary disk (**/dev/sdb**) is not durable, and can be lost if specific events like VM Resizing, redeployment, or maintenance forces a restart of your VM.</span></span>  <span data-ttu-id="1a54a-143">Geçici disk türü ve boyutu ilgili dağıtım sırasında seçtiğiniz VM boyutu.</span><span class="sxs-lookup"><span data-stu-id="1a54a-143">The size and type of your temporary disk is related to the VM size you chose at deployment time.</span></span> <span data-ttu-id="1a54a-144">Premium tümünün boyutu en fazla 48 k ek performans için yerel bir SSD tarafından desteklenen geçici sürücü VM'ler (DS, G ve DS_V2 serisi) IOPS.</span><span class="sxs-lookup"><span data-stu-id="1a54a-144">All of the premium size VMs (DS, G, and DS_V2 series) the temporary drive are backed by a local SSD for additional performance of up to 48k IOps.</span></span> 

## <a name="linux-swap-file"></a><span data-ttu-id="1a54a-145">Linux takas dosyası</span><span class="sxs-lookup"><span data-stu-id="1a54a-145">Linux Swap File</span></span>
<span data-ttu-id="1a54a-146">Azure VM Ubuntu veya CoreOS görüntüden ise, bir bulut-config bulut başlatma göndermek için CustomData kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a54a-146">If your Azure VM is from an Ubuntu or CoreOS image, then you can use CustomData to send a cloud-config to cloud-init.</span></span> <span data-ttu-id="1a54a-147">Varsa, [özel Linux görüntü karşıya](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) bulut init kullanan, aynı zamanda bulut init kullanarak takas bölümleri yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="1a54a-147">If you [uploaded a custom Linux image](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) that uses cloud-init, you also configure swap partitions using cloud-init.</span></span>

<span data-ttu-id="1a54a-148">Ubuntu bulut görüntülerinde takas bölümü yapılandırmak için bulut init kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-148">On Ubuntu Cloud Images, you must use cloud-init to configure the swap partition.</span></span> <span data-ttu-id="1a54a-149">Daha fazla bilgi için bkz: [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span><span class="sxs-lookup"><span data-stu-id="1a54a-149">For more information, see [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span></span>

<span data-ttu-id="1a54a-150">Bulut init desteği olmadan görüntüler için Azure Marketi'nden dağıtılan VM görüntüleri bir VM Linux işletim sistemiyle tümleştirilmiş aracısına sahip.</span><span class="sxs-lookup"><span data-stu-id="1a54a-150">For images without cloud-init support, VM images deployed from the Azure Marketplace have a VM Linux Agent integrated with the OS.</span></span> <span data-ttu-id="1a54a-151">Bu aracı VM'nin çeşitli Azure Hizmetleri ile etkileşimde bulunmasına izin veren.</span><span class="sxs-lookup"><span data-stu-id="1a54a-151">This agent allows the VM to interact with various Azure services.</span></span> <span data-ttu-id="1a54a-152">Azure Marketi'nden standart bir görüntü dağıttığınız varsayıldığında, doğru Linux takas dosyası ayarlarınızı yapılandırmak için aşağıdakileri yapmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="1a54a-152">Assuming you have deployed a standard image from the Azure Marketplace, you would need to do the following to correctly configure your Linux swap file settings:</span></span>

<span data-ttu-id="1a54a-153">Bulun ve iki giriş değiştirme **/etc/waagent.conf** dosya.</span><span class="sxs-lookup"><span data-stu-id="1a54a-153">Locate and modify two entries in the **/etc/waagent.conf** file.</span></span> <span data-ttu-id="1a54a-154">Bunlar, ayrılmış takas dosyası varlığını ve takas dosyası boyutunu denetler.</span><span class="sxs-lookup"><span data-stu-id="1a54a-154">They control the existence of a dedicated swap file and size of the swap file.</span></span> <span data-ttu-id="1a54a-155">Değiştirilecek arayan parametreleri `ResourceDisk.EnableSwap=N` ve`ResourceDisk.SwapSizeMB=0`</span><span class="sxs-lookup"><span data-stu-id="1a54a-155">The parameters you are looking to modify are `ResourceDisk.EnableSwap=N` and `ResourceDisk.SwapSizeMB=0`</span></span> 

<span data-ttu-id="1a54a-156">Parametreleri aşağıdaki ayarları değiştirin:</span><span class="sxs-lookup"><span data-stu-id="1a54a-156">Change the parameters to the following settings:</span></span>

* <span data-ttu-id="1a54a-157">ResourceDisk.EnableSwap=Y</span><span class="sxs-lookup"><span data-stu-id="1a54a-157">ResourceDisk.EnableSwap=Y</span></span>
* <span data-ttu-id="1a54a-158">ResourceDisk.SwapSizeMB={size gereksinimlerinizi karşılayacak şekilde MB}</span><span class="sxs-lookup"><span data-stu-id="1a54a-158">ResourceDisk.SwapSizeMB={size in MB to meet your needs}</span></span> 

<span data-ttu-id="1a54a-159">Değişikliği yaptıktan sonra waagent yeniden başlatın veya bu değişiklikleri yansıtacak şekilde, Linux VM yeniden başlatma gerekir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-159">Once you have made the change, you need to restart the waagent or restart your Linux VM to reflect those changes.</span></span>  <span data-ttu-id="1a54a-160">Değişiklikler uygulanmamış olabilir ve kullandığınız takas dosyası oluşturulan bildiğiniz `free` boş alan görüntülemek için komutu.</span><span class="sxs-lookup"><span data-stu-id="1a54a-160">You know the changes have been implemented and a swap file has been created when you use the `free` command to view free space.</span></span> <span data-ttu-id="1a54a-161">Aşağıdaki örnek değiştirme sonucu olarak oluşturulan 512 MB takas dosyası sahip **waagent.conf** dosyası:</span><span class="sxs-lookup"><span data-stu-id="1a54a-161">The following example has a 512MB swap file created as a result of modifying the **waagent.conf** file:</span></span>

```bash
azuseruser@myVM:~$ free
            total       used       free     shared    buffers     cached
Mem:       3525156     804168    2720988        408       8428     633192
-/+ buffers/cache:     162548    3362608
Swap:       524284          0     524284
```

## <a name="io-scheduling-algorithm-for-premium-storage"></a><span data-ttu-id="1a54a-162">Premium depolama g/ç zamanlama algoritması</span><span class="sxs-lookup"><span data-stu-id="1a54a-162">I/O scheduling algorithm for Premium Storage</span></span>
<span data-ttu-id="1a54a-163">2.6.18 ile Linux çekirdek, algoritma zamanlama g/ç CFQ (tamamen Orta Sıralama algoritması) son değiştirildiği varsayılan.</span><span class="sxs-lookup"><span data-stu-id="1a54a-163">With the 2.6.18 Linux kernel, the default I/O scheduling algorithm was changed from Deadline to CFQ (Completely fair queuing algorithm).</span></span> <span data-ttu-id="1a54a-164">Rasgele erişim g/ç modelleri için CFQ ve son tarih arasındaki performans farklar düşünülerek fark yoktur.</span><span class="sxs-lookup"><span data-stu-id="1a54a-164">For random access I/O patterns, there is negligible difference in performance differences between CFQ and Deadline.</span></span>  <span data-ttu-id="1a54a-165">SSD tabanlı diskler disk g/ç düzeni daha sıralı olduğu için geri SEKMEYİ veya son algoritmasına geçme daha iyi g/ç performansı elde edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a54a-165">For SSD-based disks where the disk I/O pattern is predominantly sequential, switching back to the NOOP or Deadline algorithm can achieve better I/O performance.</span></span>

### <a name="view-the-current-io-scheduler"></a><span data-ttu-id="1a54a-166">Geçerli g/ç Zamanlayıcı görüntüleyin</span><span class="sxs-lookup"><span data-stu-id="1a54a-166">View the current I/O scheduler</span></span>
<span data-ttu-id="1a54a-167">Aşağıdaki komutu kullanın:</span><span class="sxs-lookup"><span data-stu-id="1a54a-167">Use the following command:</span></span>  

```bash
cat /sys/block/sda/queue/scheduler
```

<span data-ttu-id="1a54a-168">Geçerli Zamanlayıcı gösteren çıktı bakın.</span><span class="sxs-lookup"><span data-stu-id="1a54a-168">You see following output, which indicates the current scheduler.</span></span>  

```bash
noop [deadline] cfq
```

### <a name="change-the-current-device-devsda-of-io-scheduling-algorithm"></a><span data-ttu-id="1a54a-169">Algoritma zamanlama g/ç geçerli cihaz (/ dev/sda) değiştirme</span><span class="sxs-lookup"><span data-stu-id="1a54a-169">Change the current device (/dev/sda) of I/O scheduling algorithm</span></span>
<span data-ttu-id="1a54a-170">Aşağıdaki komutları kullanın:</span><span class="sxs-lookup"><span data-stu-id="1a54a-170">Use the following commands:</span></span>  

```bash
azureuser@myVM:~$ sudo su -
root@myVM:~# echo "noop" >/sys/block/sda/queue/scheduler
root@myVM:~# sed -i 's/GRUB_CMDLINE_LINUX=""/GRUB_CMDLINE_LINUX_DEFAULT="quiet splash elevator=noop"/g' /etc/default/grub
root@myVM:~# update-grub
```

> [!NOTE]
> <span data-ttu-id="1a54a-171">Bu ayar için uygulama **/dev/sda** tek başına kullanışlı değildir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-171">Applying this setting for **/dev/sda** alone is not useful.</span></span> <span data-ttu-id="1a54a-172">Tüm veri disklerde burada sıralı g/ç g/ç düzeni dominates ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="1a54a-172">Set on all data disks where sequential I/O dominates the I/O pattern.</span></span>  

<span data-ttu-id="1a54a-173">Gösteren aşağıdaki çıktı görmeniz gerekir **grub.cfg** başarıyla yeniden oluşturuldu ve varsayılan Zamanlayıcı SEKMEYİ için güncelleştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-173">You should see the following output, indicating that **grub.cfg** has been rebuilt successfully and that the default scheduler has been updated to NOOP.</span></span>  

```bash
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.13.0-34-generic
Found initrd image: /boot/initrd.img-3.13.0-34-generic
Found linux image: /boot/vmlinuz-3.13.0-32-generic
Found initrd image: /boot/initrd.img-3.13.0-32-generic
Found memtest86+ image: /memtest86+.elf
Found memtest86+ image: /memtest86+.bin
done
```

<span data-ttu-id="1a54a-174">Redhat dağıtım ailesi için aşağıdaki komut yalnızca gerekir:</span><span class="sxs-lookup"><span data-stu-id="1a54a-174">For the Redhat distribution family, you only need the following command:</span></span>   

```bash
echo 'echo noop >/sys/block/sda/queue/scheduler' >> /etc/rc.local
```

## <a name="using-software-raid-to-achieve-higher-iops"></a><span data-ttu-id="1a54a-175">Yazılım RAID elde etmek için daha yüksek g kullanarak / Ops</span><span class="sxs-lookup"><span data-stu-id="1a54a-175">Using Software RAID to achieve higher I/Ops</span></span>
<span data-ttu-id="1a54a-176">İş yüklerinizi tek bir disk sunabileceğinden daha fazla IOPS gerektiriyorsa, birden çok disk, yazılım RAID yapılandırmasını kullanmak gerekir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-176">If your workloads require more IOps than a single disk can provide, you need to use a software RAID configuration of multiple disks.</span></span> <span data-ttu-id="1a54a-177">Azure disk dayanıklılık yerel doku katmanında gerçekleştirdiğinden, yüksek düzeyde bir RAID-0 şeritleme yapılandırmadan performans elde edersiniz.</span><span class="sxs-lookup"><span data-stu-id="1a54a-177">Because Azure already performs disk resiliency at the local fabric layer, you achieve the highest level of performance from a RAID-0 striping configuration.</span></span>  <span data-ttu-id="1a54a-178">Sağlamak ve Azure ortamında diskleri oluşturun ve bunları bölümlendirme, biçimlendirme ve sürücüleri takma önce Linux VM'ye ekleyin.</span><span class="sxs-lookup"><span data-stu-id="1a54a-178">Provision and create disks in the Azure environment and attach them to your Linux VM before partitioning, formatting and mounting the drives.</span></span>  <span data-ttu-id="1a54a-179">Yazılım RAID kurulumu, Linux VM'de Azure yapılandırma hakkında daha fazla ayrıntı bulunabilir  **[yapılandırma yazılım RAID Linux'ta](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)**  belge.</span><span class="sxs-lookup"><span data-stu-id="1a54a-179">More details on configuring a software RAID setup on your Linux VM in azure can be found in the **[Configuring Software RAID on Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)** document.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1a54a-180">Sonraki Adımlar</span><span class="sxs-lookup"><span data-stu-id="1a54a-180">Next Steps</span></span>
<span data-ttu-id="1a54a-181">Önce ve değişiklik olan etkisini ölçmek için her bir değişiklikten sonra testleri gerçekleştirmek gereken tüm en iyi duruma getirme tartışmalarını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="1a54a-181">Remember, as with all optimization discussions, you need to perform tests before and after each change to measure the impact the change has.</span></span>  <span data-ttu-id="1a54a-182">En iyi duruma getirme, ortamınızdaki farklı makinelerde farklı sonuçlar olan bir adım adım işlemidir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-182">Optimization is a step by step process that has different results across different machines in your environment.</span></span>  <span data-ttu-id="1a54a-183">Bir yapılandırma ile ilgili ne çalışacağı başkaları için çalışmayabilir.</span><span class="sxs-lookup"><span data-stu-id="1a54a-183">What works for one configuration may not work for others.</span></span>

<span data-ttu-id="1a54a-184">Ek kaynaklar için bazı yararlı bağlantılar:</span><span class="sxs-lookup"><span data-stu-id="1a54a-184">Some useful links to additional resources:</span></span> 

* [<span data-ttu-id="1a54a-185">Premium Depolama: Azure Sanal Makine İş Yükleri için Yüksek Performanslı Depolama</span><span class="sxs-lookup"><span data-stu-id="1a54a-185">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../../storage/common/storage-premium-storage.md)
* [<span data-ttu-id="1a54a-186">Azure Linux Aracısı Kullanıcı Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="1a54a-186">Azure Linux Agent User Guide</span></span>](../windows/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="1a54a-187">Azure Linux VM'ler MySQL performansı en iyi duruma getirme</span><span class="sxs-lookup"><span data-stu-id="1a54a-187">Optimizing MySQL Performance on Azure Linux VMs</span></span>](classic/optimize-mysql.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)
* [<span data-ttu-id="1a54a-188">Yazılım RAID Linux üzerinde yapılandırma</span><span class="sxs-lookup"><span data-stu-id="1a54a-188">Configure Software RAID on Linux</span></span>](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

