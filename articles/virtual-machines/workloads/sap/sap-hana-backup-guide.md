---
title: "SAP HANA için Azure sanal makineler üzerinde aaaBackup Kılavuzu | Microsoft Docs"
description: "SAP HANA için yedekleme kılavuz SAP HANA için iki ana yedekleme olasılık, Azure sanal makinelerde sağlar."
services: virtual-machines-linux
documentationcenter: 
author: hermanndms
manager: timlt
editor: 
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ums.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 3/13/2017
ms.author: rclaus
ms.openlocfilehash: e651091bb5da2698ec8bf80cad405bfce5b192cf
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/06/2017
---
# <a name="backup-guide-for-sap-hana-on-azure-virtual-machines"></a><span data-ttu-id="4edf6-103">Azure Sanal Makineler’de SAP HANA için yedekleme kılavuzu</span><span class="sxs-lookup"><span data-stu-id="4edf6-103">Backup guide for SAP HANA on Azure Virtual Machines</span></span>

## <a name="getting-started"></a><span data-ttu-id="4edf6-104">Başlarken</span><span class="sxs-lookup"><span data-stu-id="4edf6-104">Getting Started</span></span>

<span data-ttu-id="4edf6-105">SAP HANA Azure sanal makinelerde çalışan yedekleme Kılavuzu Hello yalnızca Azure özel konular anlatmaktadır.</span><span class="sxs-lookup"><span data-stu-id="4edf6-105">hello backup guide for SAP HANA running on Azure virtual Machines will only describe Azure-specific topics.</span></span> <span data-ttu-id="4edf6-106">Genel SAP HANA yedekleme ilgili öğeler için hello SAP HANA belgelerine bakın (bkz _SAP HANA yedekleme belgelerine_ bu makalenin ilerisinde yer).</span><span class="sxs-lookup"><span data-stu-id="4edf6-106">For general SAP HANA backup related items, check hello SAP HANA documentation (see _SAP HANA backup documentation_ later in this article).</span></span>

<span data-ttu-id="4edf6-107">iki ana yedekleme olasılıklarını SAP HANA Azure sanal makinelerinde bu makalenin Hello odak açıktır:</span><span class="sxs-lookup"><span data-stu-id="4edf6-107">hello focus of this article is on two major backup possibilities for SAP HANA on Azure virtual machines:</span></span>

- <span data-ttu-id="4edf6-108">HANA yedekleme toohello dosya sistemi içinde bir Azure Linux sanal makine (bkz [SAP HANA Azure yedekleme dosya düzeyinde](sap-hana-backup-file-level.md))</span><span class="sxs-lookup"><span data-stu-id="4edf6-108">HANA backup toohello file system in an Azure Linux Virtual Machine (see [SAP HANA Azure Backup on file level](sap-hana-backup-file-level.md))</span></span>
- <span data-ttu-id="4edf6-109">HANA yedekleme tabanlı depolama anlık görüntüleri hello Azure storage blobu anlık görüntü özelliği kullanılarak el ile veya Azure yedekleme hizmeti üzerinde (bkz [tabanlı depolama anlık görüntü SAP HANA yedeklemeyi](sap-hana-backup-storage-snapshots.md))</span><span class="sxs-lookup"><span data-stu-id="4edf6-109">HANA backup based on storage snapshots using hello Azure storage blob snapshot feature manually or Azure Backup Service (see [SAP HANA backup based on storage snapshots](sap-hana-backup-storage-snapshots.md))</span></span>

<span data-ttu-id="4edf6-110">SAP HANA yedekleme üçüncü taraf yedekleme araçları toointegrate SAP HANA ile doğrudan veren API sunar.</span><span class="sxs-lookup"><span data-stu-id="4edf6-110">SAP HANA offers a backup API, which allows third-party backup tools toointegrate directly with SAP HANA.</span></span> <span data-ttu-id="4edf6-111">(Bu hello bu kılavuz kapsamında değil.) SAP HANA kullanılabilir sağ bu API artık temel Azure Backup hizmeti ile doğrudan hiçbir tümleştirilmesi yoktur.</span><span class="sxs-lookup"><span data-stu-id="4edf6-111">(That is not within hello scope of this guide.) There is no direct integration of SAP HANA with Azure Backup service available right now based on this API.</span></span>

<span data-ttu-id="4edf6-112">SAP HANA resmi olarak desteklenen GS5 Azure VM türüne ek kısıtlama tooOLAP iş yükleri ile tek örnek olarak (bkz [sertifikalı Iaas platformları Bul](https://global.sap.com/community/ebook/2014-09-02-hana-hardware/enEN/iaas.html) hello SAP Web sitesinde).</span><span class="sxs-lookup"><span data-stu-id="4edf6-112">SAP HANA is officially supported on Azure VM type GS5 as single instance with an additional restriction tooOLAP workloads (see [Find Certified IaaS Platforms](https://global.sap.com/community/ebook/2014-09-02-hana-hardware/enEN/iaas.html) on hello SAP website).</span></span> <span data-ttu-id="4edf6-113">Bu makalede, SAP HANA kullanılabilir hale azure'da için yeni sunumu olarak güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-113">This article will be updated as new offerings for SAP HANA on Azure become available.</span></span>

<span data-ttu-id="4edf6-114">Ayrıca SAP HANA karma çözümünü mevcut değil SAP HANA fiziksel sunucularda sanallaştırılmamış çalıştığı azure'da.</span><span class="sxs-lookup"><span data-stu-id="4edf6-114">There is also an SAP HANA hybrid solution available on Azure, where SAP HANA runs non-virtualized on physical servers.</span></span> <span data-ttu-id="4edf6-115">Ancak, bu SAP HANA Azure yedekleme Kılavuzu SAP HANA çalıştığı bir Azure VM'de, çalışan değil SAP HANA saf bir Azure ortamı kapsayan &quot;büyük örnekleri.&quot; Bkz: [SAP HANA (büyük örnekler) genel bakış ve Azure ile ilgili mimari](hana-overview-architecture.md) Bu yedekleme çözümü hakkında daha fazla bilgi için &quot;büyük örnekleri&quot; depolama anlık görüntü tabanlı.</span><span class="sxs-lookup"><span data-stu-id="4edf6-115">However, this SAP HANA Azure backup guide covers a pure Azure environment where SAP HANA runs in an Azure VM, not SAP HANA running on &quot;large instances.&quot; See [SAP HANA (large instances) overview and architecture on Azure](hana-overview-architecture.md) for more information about this backup solution on &quot;large instances&quot; based on storage snapshots.</span></span>

<span data-ttu-id="4edf6-116">Azure üzerinde desteklenen SAP ürünler hakkında genel bilgiler bulunabilir [SAP Not 1928533](https://launchpad.support.sap.com/#/notes/1928533).</span><span class="sxs-lookup"><span data-stu-id="4edf6-116">General information about SAP products supported on Azure can be found in [SAP Note 1928533](https://launchpad.support.sap.com/#/notes/1928533).</span></span>

<span data-ttu-id="4edf6-117">Hello aşağıdaki üç rakamı şu anda yerel Azure özelliklerini kullanarak SAP HANA yedekleme seçeneklerini hello genel bir bakış sağlar ve ayrıca üç olası gelecekteki yedekleme senaryoları gösterir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-117">hello following three figures give an overview of hello SAP HANA backup options using native Azure capabilities currently, and also show three potential future backup scenarios.</span></span> <span data-ttu-id="4edf6-118">Merhaba ilgili makaleler [SAP HANA Azure yedekleme dosya düzeyinde](sap-hana-backup-file-level.md) ve [tabanlı depolama anlık görüntü SAP HANA yedeklemeyi](sap-hana-backup-storage-snapshots.md) Bu seçenekler için SAP boyutu ve performans konuları dahil olmak üzere daha ayrıntılı açıklanır Çoklu terabayt boyutu olan HANA yedeklemeler.</span><span class="sxs-lookup"><span data-stu-id="4edf6-118">hello related articles [SAP HANA Azure Backup on file level](sap-hana-backup-file-level.md) and [SAP HANA backup based on storage snapshots](sap-hana-backup-storage-snapshots.md) describe these options in more detail, including size and performance considerations for SAP HANA backups that are multi-terabytes in size.</span></span>

![Bu şekilde hello geçerli VM durumunu kaydetmek için iki olasılık gösterilmektedir](media/sap-hana-backup-guide/image001.png)

<span data-ttu-id="4edf6-120">Bu şekilde hello geçerli VM durumunu, VM diskleri el ile anlık görüntüsünü veya Azure Backup hizmeti üzerinden kaydetme hello olasılığını gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-120">This figure shows hello possibility of saving hello current VM state, either via Azure Backup service or manual snapshot of VM disks.</span></span> <span data-ttu-id="4edf6-121">Bu yaklaşım, bir belirlemeden #39; ile t toomanage SAP HANA yedeklemeler vardır.</span><span class="sxs-lookup"><span data-stu-id="4edf6-121">With this approach, one doesn&#39;t have toomanage SAP HANA backups.</span></span> <span data-ttu-id="4edf6-122">Merhaba hello disk anlık görüntü senaryonun dosya sistemi tutarlılığı ve bir uygulamayla tutarlı disk durumu iştir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-122">hello challenge of hello disk snapshot scenario is file system consistency, and an application-consistent disk state.</span></span> <span data-ttu-id="4edf6-123">Merhaba tutarlılık konu hello bölümünde tartışılır _depolama anlık görüntüleri duruma getirirken SAP HANA veri tutarlılığını_ bu makalenin ilerisinde yer.</span><span class="sxs-lookup"><span data-stu-id="4edf6-123">hello consistency topic is discussed in hello section _SAP HANA data consistency when taking storage snapshots_ later in this article.</span></span> <span data-ttu-id="4edf6-124">Özellikleri ve Azure Backup hizmeti kısıtlamalarını tooSAP HANA yedeklemeler de bu makalenin sonraki bölümlerinde açıklanan ilgili.</span><span class="sxs-lookup"><span data-stu-id="4edf6-124">Capabilities and restrictions of Azure Backup service related tooSAP HANA backups are also discussed later in this article.</span></span>

![Bu şekilde hello VM içinde yedek dosya SAP HANA ayırdığınız için seçenekleri gösterilmektedir.](media/sap-hana-backup-guide/image002.png)

<span data-ttu-id="4edf6-126">Bu şekilde bir SAP HANA dosya yedekleme hello VM içinde alma ve sonra onu HANA yedekleme dosyaları farklı araçlarla başka bir yerde depolamak için seçenekler gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-126">This figure shows options for taking an SAP HANA file backup inside hello VM, and then storing it HANA backup files somewhere else using different tools.</span></span> <span data-ttu-id="4edf6-127">Anlık görüntü tabanlı bir yedekleme çözümü daha uzun bir HANA Yedekleme yapmayı gerektirir, ancak bütünlük ve tutarlılık ilgili avantajları vardır.</span><span class="sxs-lookup"><span data-stu-id="4edf6-127">Taking a HANA backup requires more time than a snapshot-based backup solution, but it has advantages regarding integrity and consistency.</span></span> <span data-ttu-id="4edf6-128">Bu makalenin sonraki bölümlerinde daha ayrıntılı bilgi sağlanır.</span><span class="sxs-lookup"><span data-stu-id="4edf6-128">More details are provided later in this article.</span></span>

![Bu şekilde olası bir gelecekteki SAP HANA yedekleme senaryo gösterilmektedir](media/sap-hana-backup-guide/image003.png)

<span data-ttu-id="4edf6-130">Bu şekilde olası bir gelecekteki SAP HANA yedekleme senaryosu gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-130">This figure shows a potential future SAP HANA backup scenario.</span></span> <span data-ttu-id="4edf6-131">SAP HANA ikincil bir çoğaltma yedek almak izin veriliyorsa, yedekleme stratejilerini için ek seçenekler eklersiniz.</span><span class="sxs-lookup"><span data-stu-id="4edf6-131">If SAP HANA allowed taking backups from a replication secondary, it would add additional options for backup strategies.</span></span> <span data-ttu-id="4edf6-132">Şu anda olası değil hello SAP HANA Wiki tooa postasına göre:</span><span class="sxs-lookup"><span data-stu-id="4edf6-132">Currently it isn't possible according tooa post in hello SAP HANA Wiki:</span></span>

<span data-ttu-id="4edf6-133">_&quot;Bu, olası tootake yedeklemeler hello ikincil tarafında mi?_</span><span class="sxs-lookup"><span data-stu-id="4edf6-133">_&quot;Is it possible tootake backups on hello secondary side?_</span></span>

<span data-ttu-id="4edf6-134">_Hayır, şu anda yalnızca verileri alabilir ve günlük yedeklemelerine hello birincil tarafındaki. Otomatik günlük yedekleme etkinse devralma toohello ikincil yan sonra hello günlüğü yedeklemeleri otomatik olarak var. yazılır.&quot;_</span><span class="sxs-lookup"><span data-stu-id="4edf6-134">_No, currently you can only take data and log backups on hello primary side. If automatic log backup is enabled, after takeover toohello secondary side, hello log backups will automatically be written there.&quot;_</span></span>

## <a name="sap-resources-for-hana-backup"></a><span data-ttu-id="4edf6-135">SAP HANA yedekleme için kaynaklar</span><span class="sxs-lookup"><span data-stu-id="4edf6-135">SAP resources for HANA backup</span></span>

### <a name="sap-hana-backup-documentation"></a><span data-ttu-id="4edf6-136">SAP HANA yedekleme belgeleri</span><span class="sxs-lookup"><span data-stu-id="4edf6-136">SAP HANA backup documentation</span></span>

- [<span data-ttu-id="4edf6-137">Giriş tooSAP HANA Yönetim</span><span class="sxs-lookup"><span data-stu-id="4edf6-137">Introduction tooSAP HANA Administration</span></span>](https://help.sap.com/viewer/6b94445c94ae495c83a19646e7c3fd56/2.0.00/en-US)
- [<span data-ttu-id="4edf6-138">Yedekleme ve kurtarma stratejisini planlama</span><span class="sxs-lookup"><span data-stu-id="4edf6-138">Planning Your Backup and Recovery Strategy</span></span>](https://help.sap.com/saphelp_hanaplatform/helpdata/en/ef/085cd5949c40b788bba8fd3c65743e/content.htm)
- [<span data-ttu-id="4edf6-139">HANA ABAP DBACOCKPIT kullanarak yedeklemeyi zamanlama</span><span class="sxs-lookup"><span data-stu-id="4edf6-139">Schedule HANA Backup using ABAP DBACOCKPIT</span></span>](http://www.hanatutorials.com/p/schedule-hana-backup-using-abap.html)
- [<span data-ttu-id="4edf6-140">Veri yedeklemeleri zamanlamanın (SAP HANA Pilot)</span><span class="sxs-lookup"><span data-stu-id="4edf6-140">Schedule Data Backups (SAP HANA Cockpit)</span></span>](http://help.sap.com/saphelp_hanaplatform/helpdata/en/6d/385fa14ef64a6bab2c97a3d3e40292/frameset.htm)
- <span data-ttu-id="4edf6-141">SAP HANA hakkında SSS yedekleme [SAP Not 1642148](https://launchpad.support.sap.com/#/notes/1642148)</span><span class="sxs-lookup"><span data-stu-id="4edf6-141">FAQ about SAP HANA backup in [SAP Note 1642148](https://launchpad.support.sap.com/#/notes/1642148)</span></span>
- <span data-ttu-id="4edf6-142">SAP HANA veritabanına ve depolama anlık görüntüleri hakkında SSS [SAP Not 2039883](https://launchpad.support.sap.com/#/notes/2039883)</span><span class="sxs-lookup"><span data-stu-id="4edf6-142">FAQ about SAP HANA database and storage snapshots in [SAP Note 2039883](https://launchpad.support.sap.com/#/notes/2039883)</span></span>
- <span data-ttu-id="4edf6-143">Yedekleme ve kurtarma için uygun ağ dosya sistemleri [SAP Not 1820529](https://launchpad.support.sap.com/#/notes/1820529)</span><span class="sxs-lookup"><span data-stu-id="4edf6-143">Unsuitable network file systems for backup and recovery in [SAP Note 1820529](https://launchpad.support.sap.com/#/notes/1820529)</span></span>

### <a name="why-sap-hana-backup"></a><span data-ttu-id="4edf6-144">Neden HANA yedekleme SAP?</span><span class="sxs-lookup"><span data-stu-id="4edf6-144">Why SAP HANA backup?</span></span>

<span data-ttu-id="4edf6-145">Azure depolama alanı kullanılabilirliği ve güvenilirliği hello kutusu dışında sağlar (bkz [giriş tooMicrosoft Azure Storage](../../../storage/common/storage-introduction.md) Azure storage hakkında daha fazla bilgi için).</span><span class="sxs-lookup"><span data-stu-id="4edf6-145">Azure storage offers availability and reliability out of hello box (see [Introduction tooMicrosoft Azure Storage](../../../storage/common/storage-introduction.md) for more information about Azure storage).</span></span>

<span data-ttu-id="4edf6-146">Hello için minimum &quot;yedekleme&quot; toorely hello Azure SLA, tutma hello üzerinde Azure VHD'ler ekli toohello SAP HANA sunucusundaki VM SAP HANA veri ve günlük dosyaları olduğu.</span><span class="sxs-lookup"><span data-stu-id="4edf6-146">hello minimum for &quot;backup&quot; is toorely on hello Azure SLAs, keeping hello SAP HANA data and log files on Azure VHDs attached toohello SAP HANA server VM.</span></span> <span data-ttu-id="4edf6-147">Bu yaklaşım, VM hataları, ancak değil potansiyel hasarı toohello SAP HANA veri ve günlük dosyalarını veya veri veya dosyaları yanlışlıkla silme gibi mantıksal hataları kapsar.</span><span class="sxs-lookup"><span data-stu-id="4edf6-147">This approach covers VM failures, but not potential damage toohello SAP HANA data and log files, or logical errors like deleting data or files by accident.</span></span> <span data-ttu-id="4edf6-148">Yedeklemeler de uyumluluğu veya yasal nedenlerle için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-148">Backups are also required for compliance or legal reasons.</span></span> <span data-ttu-id="4edf6-149">Kısacası, gerçek her zaman bir gereksinimi SAP HANA yedeklemeler için.</span><span class="sxs-lookup"><span data-stu-id="4edf6-149">In short, there is always a need for SAP HANA backups.</span></span>

### <a name="how-tooverify-correctness-of-sap-hana-backup"></a><span data-ttu-id="4edf6-150">Nasıl tooverify doğruluk SAP HANA yedekleme</span><span class="sxs-lookup"><span data-stu-id="4edf6-150">How tooverify correctness of SAP HANA backup</span></span>
<span data-ttu-id="4edf6-151">Depolama anlık görüntüleri kullanarak, bir test geri yükleme farklı bir sistem üzerinde çalışan önerilir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-151">When using storage snapshots, running a test restore on a different system is recommended.</span></span> <span data-ttu-id="4edf6-152">Bu yaklaşım, bir yedekleme beklendiği gibi yedekleme ve geri yükleme iş için doğru ve iç işlemleri olduğunu şekilde tooensure sağlar.</span><span class="sxs-lookup"><span data-stu-id="4edf6-152">This approach provides a way tooensure that a backup is correct, and internal processes for backup and restore work as expected.</span></span> <span data-ttu-id="4edf6-153">Bu önemli bir durumdayken hurdle şirket içi, gerekli kaynakları geçici olarak bu amaçla sağlayarak çok daha kolay tooaccomplish hello bulutta değil.</span><span class="sxs-lookup"><span data-stu-id="4edf6-153">While this is a significant hurdle on-premises, it is much easier tooaccomplish in hello cloud by providing necessary resources temporarily for this purpose.</span></span>

<span data-ttu-id="4edf6-154">Göz önünde, basit bir geri yükleme yapmaya devam ve HANA çalışır durumda olup olmadığı denetleniyor ve çalıştıran yeterli değil.</span><span class="sxs-lookup"><span data-stu-id="4edf6-154">Keep in mind that doing a simple restore and checking if HANA is up and running is not sufficient.</span></span> <span data-ttu-id="4edf6-155">İdeal olarak, aşağıdakilerden bir tabloyu tutarlılık denetimi toobe geri hello veritabanı yolunda olduğundan emin çalıştırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-155">Ideally, one should run a table consistency check toobe sure that hello restored database is fine.</span></span> <span data-ttu-id="4edf6-156">SAP HANA sunar tutarlılık denetimleri açıklanan çeşitli türlerde [SAP Not 1977584](https://launchpad.support.sap.com/#/notes/1977584).</span><span class="sxs-lookup"><span data-stu-id="4edf6-156">SAP HANA offers several kinds of consistency checks described in [SAP Note 1977584](https://launchpad.support.sap.com/#/notes/1977584).</span></span>

<span data-ttu-id="4edf6-157">Merhaba tablo tutarlılık denetimi hakkında bilgi de bulunabilir hello SAP Web sitesinde bulunan [tablo ve Katalog tutarlılık denetimleri](http://help.sap.com/saphelp_hanaplatform/helpdata/en/25/84ec2e324d44529edc8221956359ea/content.htm#loio9357bf52c7324bee9567dca417ad9f8b).</span><span class="sxs-lookup"><span data-stu-id="4edf6-157">Information about hello table consistency check can also be found on hello SAP website at [Table and Catalog Consistency Checks](http://help.sap.com/saphelp_hanaplatform/helpdata/en/25/84ec2e324d44529edc8221956359ea/content.htm#loio9357bf52c7324bee9567dca417ad9f8b).</span></span>

<span data-ttu-id="4edf6-158">Standart dosya yedeklemeler için bir test geri yükleme gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-158">For standard file backups, a test restore is not necessary.</span></span> <span data-ttu-id="4edf6-159">Hangi yedekleme geri yükleme için kullanılabilir toocheck Yardım iki SAP HANA araç vardır: hdbbackupdiag ve hdbbackupcheck.</span><span class="sxs-lookup"><span data-stu-id="4edf6-159">There are two SAP HANA tools that help toocheck which backup can be used for restore: hdbbackupdiag and hdbbackupcheck.</span></span> <span data-ttu-id="4edf6-160">Bkz: [el ile denetimi olup olmadığını bir kurtarma mümkün olduğundan](https://help.sap.com/saphelp_hanaplatform/helpdata/en/77/522ef1e3cb4d799bab33e0aeb9c93b/content.htm) Bu araçlar hakkında daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="4edf6-160">See [Manually Checking Whether a Recovery is Possible](https://help.sap.com/saphelp_hanaplatform/helpdata/en/77/522ef1e3cb4d799bab33e0aeb9c93b/content.htm) for more information about these tools.</span></span>

### <a name="pros-and-cons-of-hana-backup-versus-storage-snapshot"></a><span data-ttu-id="4edf6-161">Artıları ve eksileri HANA yedekleme depolama anlık görüntü karşılaştırması</span><span class="sxs-lookup"><span data-stu-id="4edf6-161">Pros and cons of HANA backup versus storage snapshot</span></span>

<span data-ttu-id="4edf6-162">SAP belirlemeden #39; t verin tercih tooeither HANA yedekleme depolama anlık görüntü karşılaştırması.</span><span class="sxs-lookup"><span data-stu-id="4edf6-162">SAP doesn&#39;t give preference tooeither HANA backup versus storage snapshot.</span></span> <span data-ttu-id="4edf6-163">Böylece bir hello durum ve kullanılabilir depolama teknolojisi bağlı olarak hangi toouse belirleyebilir kendi Artıları ve eksileri, listeler (bkz [planlama bilgisayarınızı yedekleme ve kurtarma stratejisini](https://help.sap.com/saphelp_hanaplatform/helpdata/en/ef/085cd5949c40b788bba8fd3c65743e/content.htm)).</span><span class="sxs-lookup"><span data-stu-id="4edf6-163">It lists their pros and cons, so one can determine which toouse depending on hello situation and available storage technology (see [Planning Your Backup and Recovery Strategy](https://help.sap.com/saphelp_hanaplatform/helpdata/en/ef/085cd5949c40b788bba8fd3c65743e/content.htm)).</span></span>

<span data-ttu-id="4edf6-164">Üzerinde Azure, Azure blob anlık görüntü özelliği mevcut değil & #39 hello hello olgu unutmayın; dosya sistemi tutarlılığı garanti t (bkz [PowerShell ile kullanma blob anlık görüntüleri](https://blogs.msdn.microsoft.com/cie/2016/05/17/using-blob-snapshots-with-powershell/)).</span><span class="sxs-lookup"><span data-stu-id="4edf6-164">On Azure, be aware of hello fact that hello Azure blob snapshot feature doesn&#39;t guarantee file system consistency (see [Using blob snapshots with PowerShell](https://blogs.msdn.microsoft.com/cie/2016/05/17/using-blob-snapshots-with-powershell/)).</span></span> <span data-ttu-id="4edf6-165">Merhaba sonraki bölümde _depolama anlık görüntüleri duruma getirirken SAP HANA veri tutarlılığını_, bu özellik ile ilgili bazı hususlar anlatılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="4edf6-165">hello next section, _SAP HANA data consistency when taking storage snapshots_, discusses some considerations regarding this feature.</span></span>

<span data-ttu-id="4edf6-166">Ayrıca, bu makalede anlatıldığı gibi sık blob anlık görüntüleri ile çalışırken, fatura etkileri hello toounderstand varsa: [anlama nasıl anlık görüntüleri tahakkuk ücretleri](/rest/api/storageservices/understanding-how-snapshots-accrue-charges)— bu olmayan &#39; Azure kullanarak olarak olarak belirgin t sanal diskler.</span><span class="sxs-lookup"><span data-stu-id="4edf6-166">In addition, one has toounderstand hello billing implications when working frequently with blob snapshots as described in this article: [Understanding How Snapshots Accrue Charges](/rest/api/storageservices/understanding-how-snapshots-accrue-charges)—it isn&#39;t as obvious as using Azure virtual disks.</span></span>

### <a name="sap-hana-data-consistency-when-taking-storage-snapshots"></a><span data-ttu-id="4edf6-167">Depolama anlık görüntüleri duruma getirirken SAP HANA veri tutarlılığı</span><span class="sxs-lookup"><span data-stu-id="4edf6-167">SAP HANA data consistency when taking storage snapshots</span></span>

<span data-ttu-id="4edf6-168">Dosya sistemi ve uygulama tutarlılığı bir karmaşık depolama anlık görüntüleri alırken bir sorundur.</span><span class="sxs-lookup"><span data-stu-id="4edf6-168">File system and application consistency is a complex issue when taking storage snapshots.</span></span> <span data-ttu-id="4edf6-169">Merhaba en kolay yolu tooavoid sorunları SAP HANA aşağı tooshut olması ve hatta belki de hello tüm sanal makine.</span><span class="sxs-lookup"><span data-stu-id="4edf6-169">hello easiest way tooavoid problems would be tooshut down SAP HANA, or maybe even hello whole virtual machine.</span></span> <span data-ttu-id="4edf6-170">Bir kapanma demo veya prototip veya geliştirme sistemi ortak olabilir, ancak bir üretim sistem için bir seçenek değil.</span><span class="sxs-lookup"><span data-stu-id="4edf6-170">A shutdown might be doable with a demo or prototype, or even a development system, but it is not an option for a production system.</span></span>

<span data-ttu-id="4edf6-171">Azure üzerinde sahip tookeep Azure blob anlık görüntü özelliği mevcut değil & #39 hello unutmayın; dosya sistemi tutarlılığı garanti t.</span><span class="sxs-lookup"><span data-stu-id="4edf6-171">On Azure, one has tookeep in mind that hello Azure blob snapshot feature doesn&#39;t guarantee file system consistency.</span></span> <span data-ttu-id="4edf6-172">Var olduğu sürece yalnızca tek bir sanal disk dahil edilen ancak hello kullanarak SAP HANA özelliği, anlık görüntü düzgün çalışır.</span><span class="sxs-lookup"><span data-stu-id="4edf6-172">It works fine however by using hello SAP HANA snapshot feature, as long as there is only a single virtual disk involved.</span></span> <span data-ttu-id="4edf6-173">Ancak bile tek bir diske sahip, ek öğelere toobe kullanıma sahip.</span><span class="sxs-lookup"><span data-stu-id="4edf6-173">But even with a single disk, additional items have toobe checked.</span></span> <span data-ttu-id="4edf6-174">[SAP Not 2039883](https://launchpad.support.sap.com/#/notes/2039883) SAP HANA yedeklemeler depolama anlık görüntüleri aracılığıyla hakkında önemli bilgiler vardır.</span><span class="sxs-lookup"><span data-stu-id="4edf6-174">[SAP Note 2039883](https://launchpad.support.sap.com/#/notes/2039883) has important information about SAP HANA backups via storage snapshots.</span></span> <span data-ttu-id="4edf6-175">Merhaba XFS dosya sistemi ile bunun gerekli toorun olduğunu, örneğin, değinmektedir **xfs\_Dondur** tooguarantee tutarlılık anlık görüntü depolama başlatmadan önce (bkz [xfs\_freeze(8) - Linux adam Sayfa](https://linux.die.net/man/8/xfs_freeze) hakkında ayrıntılı bilgi için **xfs\_Dondur**).</span><span class="sxs-lookup"><span data-stu-id="4edf6-175">For example, it mentions that, with hello XFS file system, it is necessary toorun **xfs\_freeze** before starting a storage snapshot tooguarantee consistency (see [xfs\_freeze(8) - Linux man page](https://linux.die.net/man/8/xfs_freeze) for details on **xfs\_freeze**).</span></span>

<span data-ttu-id="4edf6-176">Merhaba konu tutarlılık daha zor olduğu tek bir dosya sistemi birden çok disk/birim yayılan bir durumda olur.</span><span class="sxs-lookup"><span data-stu-id="4edf6-176">hello topic of consistency becomes even more challenging in a case where a single file system spans multiple disks/volumes.</span></span> <span data-ttu-id="4edf6-177">Örneğin, mdadm veya LVM kullanarak ve bölümlemesine tarafından.</span><span class="sxs-lookup"><span data-stu-id="4edf6-177">For example, by using mdadm or LVM and striping.</span></span> <span data-ttu-id="4edf6-178">Merhaba SAP durumları bahsedilen Not:</span><span class="sxs-lookup"><span data-stu-id="4edf6-178">hello SAP Note mentioned above states:</span></span>

<span data-ttu-id="4edf6-179">_&quot;Ancak SAP HANA veri birim başına bir depolama anlık görüntü oluşturulurken hello depolama sistemi tooguarantee g/ç tutarlılık olduğunu aklınızda bulundurun, yani atomik bir işlem olarak bir SAP HANA hizmete özgü veriler biriminin anlık görüntüsünün alınması olmalıdır.&quot;_</span><span class="sxs-lookup"><span data-stu-id="4edf6-179">_&quot;But keep in mind that hello storage system has tooguarantee I/O consistency while creating a storage snapshot per SAP HANA data volume, i.e. snapshotting of an SAP HANA service-specific data volume must be an atomic operation.&quot;_</span></span>

<span data-ttu-id="4edf6-180">Dört Azure sanal diskler yayılan bir XFS dosya sistemi varsayıldığında, hello aşağıdaki adımlar hello HANA veri alanını temsil tutarlı bir anlık görüntü sağlar:</span><span class="sxs-lookup"><span data-stu-id="4edf6-180">Assuming there is an XFS file system spanning four Azure virtual disks, hello following steps provide a consistent snapshot that represents hello HANA data area:</span></span>

- <span data-ttu-id="4edf6-181">HANA anlık görüntü hazırlama</span><span class="sxs-lookup"><span data-stu-id="4edf6-181">HANA snapshot prepare</span></span>
- <span data-ttu-id="4edf6-182">Merhaba dosya sistemi donmasına (örneğin, **xfs\_Dondur**)</span><span class="sxs-lookup"><span data-stu-id="4edf6-182">Freeze hello file system (for example, use **xfs\_freeze**)</span></span>
- <span data-ttu-id="4edf6-183">Azure üzerinde tüm gerekli blob anlık görüntülerini oluşturma</span><span class="sxs-lookup"><span data-stu-id="4edf6-183">Create all necessary blob snapshots on Azure</span></span>
- <span data-ttu-id="4edf6-184">Merhaba dosya sistemi Çöz</span><span class="sxs-lookup"><span data-stu-id="4edf6-184">Unfreeze hello file system</span></span>
- <span data-ttu-id="4edf6-185">Merhaba HANA anlık görüntü onaylayın</span><span class="sxs-lookup"><span data-stu-id="4edf6-185">Confirm hello HANA snapshot</span></span>

<span data-ttu-id="4edf6-186">Tüm durumlarda toobe hangi dosya sistemi olsun hello güvenli tarafında yukarıda toouse hello yordamda önerilir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-186">Recommendation is toouse hello procedure above in all cases toobe on hello safe side, no matter which file system.</span></span> <span data-ttu-id="4edf6-187">Veya tek bir disk veya mdadm veya birden çok disklere LVM üzerinden şeritleme ise.</span><span class="sxs-lookup"><span data-stu-id="4edf6-187">Or if it is a single disk or striping, via mdadm or LVM across multiple disks.</span></span>

<span data-ttu-id="4edf6-188">Önemli tooconfirm hello HANA anlık görüntüsüdür.</span><span class="sxs-lookup"><span data-stu-id="4edf6-188">It is important tooconfirm hello HANA snapshot.</span></span> <span data-ttu-id="4edf6-189">Son toohello &quot;kopyalama yazarken,&quot; SAP HANA bu sırada ek disk alanı yok gerekebilir modu anlık görüntü hazırlayın.</span><span class="sxs-lookup"><span data-stu-id="4edf6-189">Due toohello &quot;Copy-on-Write,&quot; SAP HANA might not require additional disk space while in this snapshot-prepare mode.</span></span> <span data-ttu-id="4edf6-190">&#39; hello SAP HANA anlık görüntü onaylandıktan kadar s de mümkün değildir toostart yeni yedeklemeler.</span><span class="sxs-lookup"><span data-stu-id="4edf6-190">It&#39;s also not possible toostart new backups until hello SAP HANA snapshot is confirmed.</span></span>

<span data-ttu-id="4edf6-191">Azure Backup hizmeti Azure VM uzantıları tootake hello dosya sistemi tutarlılığı care of kullanır.</span><span class="sxs-lookup"><span data-stu-id="4edf6-191">Azure Backup service uses Azure VM extensions tootake care of hello file system consistency.</span></span> <span data-ttu-id="4edf6-192">Bu VM uzantıları, tek başına kullanım için kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="4edf6-192">These VM extensions are not available for standalone usage.</span></span> <span data-ttu-id="4edf6-193">Hala toomanage SAP HANA tutarlılık sahip.</span><span class="sxs-lookup"><span data-stu-id="4edf6-193">One still has toomanage SAP HANA consistency.</span></span> <span data-ttu-id="4edf6-194">Merhaba ilgili makaleye bakın [SAP HANA Azure Backup dosya düzeyinde](sap-hana-backup-file-level.md) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="4edf6-194">See hello related article [SAP HANA Azure Backup on file level](sap-hana-backup-file-level.md) for more information.</span></span>

### <a name="sap-hana-backup-scheduling-strategy"></a><span data-ttu-id="4edf6-195">SAP HANA Yedekleme Zamanlama stratejisi</span><span class="sxs-lookup"><span data-stu-id="4edf6-195">SAP HANA backup scheduling strategy</span></span>

<span data-ttu-id="4edf6-196">Merhaba SAP HANA makale [planlama bilgisayarınızı yedekleme ve kurtarma stratejisini](https://help.sap.com/saphelp_hanaplatform/helpdata/en/ef/085cd5949c40b788bba8fd3c65743e/content.htm) durumları temel bir plan toodo yedekler:</span><span class="sxs-lookup"><span data-stu-id="4edf6-196">hello SAP HANA article [Planning Your Backup and Recovery Strategy](https://help.sap.com/saphelp_hanaplatform/helpdata/en/ef/085cd5949c40b788bba8fd3c65743e/content.htm) states a basic plan toodo backups:</span></span>

- <span data-ttu-id="4edf6-197">(Günlük) anlık görüntü depolama</span><span class="sxs-lookup"><span data-stu-id="4edf6-197">Storage snapshot (daily)</span></span>
- <span data-ttu-id="4edf6-198">Dosya veya bacint biçimi (haftada bir kez) kullanarak tam yedekleme</span><span class="sxs-lookup"><span data-stu-id="4edf6-198">Complete data backup using file or bacint format (once a week)</span></span>
- <span data-ttu-id="4edf6-199">Otomatik günlük yedekleri</span><span class="sxs-lookup"><span data-stu-id="4edf6-199">Automatic log backups</span></span>

<span data-ttu-id="4edf6-200">İsteğe bağlı olarak, bir depolama anlık görüntülerini kullanmadan tamamen gidebilir; Artımlı ya da fark yedeklemeler gibi HANA değişim yedeklemeleri yerini (bakın [değişim yedeklemeleri](https://help.sap.com/saphelp_hanaplatform/helpdata/en/c3/bb7e33bb571014a03eeabba4e37541/content.htm)).</span><span class="sxs-lookup"><span data-stu-id="4edf6-200">Optionally, one could go completely without storage snapshots; they could be replaced by HANA delta backups, like incremental or differential backups (see [Delta Backups](https://help.sap.com/saphelp_hanaplatform/helpdata/en/c3/bb7e33bb571014a03eeabba4e37541/content.htm)).</span></span>

<span data-ttu-id="4edf6-201">Merhaba HANA Yönetim Kılavuzu bir örnek listesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="4edf6-201">hello HANA Administration guide provides an example list.</span></span> <span data-ttu-id="4edf6-202">Bu, bir SAP HANA tooa belirli noktası yedeklemeleri dizisini aşağıdaki hello kullanarak sürede kurtarmak önerir:</span><span class="sxs-lookup"><span data-stu-id="4edf6-202">It suggests that one recover SAP HANA tooa specific point in time using hello following sequence of backups:</span></span>

1. <span data-ttu-id="4edf6-203">Tam yedekleme</span><span class="sxs-lookup"><span data-stu-id="4edf6-203">Full data backup</span></span>
2. <span data-ttu-id="4edf6-204">Değişiklik yedeklemesi</span><span class="sxs-lookup"><span data-stu-id="4edf6-204">Differential backup</span></span>
3. <span data-ttu-id="4edf6-205">Artımlı Yedekleme 1</span><span class="sxs-lookup"><span data-stu-id="4edf6-205">Incremental backup 1</span></span>
4. <span data-ttu-id="4edf6-206">Artımlı yedekleme 2</span><span class="sxs-lookup"><span data-stu-id="4edf6-206">Incremental backup 2</span></span>
5. <span data-ttu-id="4edf6-207">Günlük yedekleri</span><span class="sxs-lookup"><span data-stu-id="4edf6-207">Log backups</span></span>

<span data-ttu-id="4edf6-208">Toowhen ve belirli bir yedekleme türü ne sıklıkta olacağını olarak bir tam zamanlama ile ilgili olası toogive genel bir kural değil — çok müşteriye özgü ve kaç tane veri değişikliklerini hello sistemde ortaya bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="4edf6-208">Regarding an exact schedule as toowhen and how often a specific backup type should happen, it is not possible toogive a general guideline—it is too customer-specific, and depends on how many data changes occur in hello system.</span></span> <span data-ttu-id="4edf6-209">Bir temel genel rehberlik görülebilir, SAP taraftan toomake bir tam HANA yedekleme haftada bir kez önerilir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-209">One basic recommendation from SAP side, which can be seen as general guidance, is toomake one full HANA backup once a week.</span></span>
<span data-ttu-id="4edf6-210">İlgili günlük yedeklerini hello SAP HANA belgelerine bakın [günlük yedeklerini](https://help.sap.com/saphelp_hanaplatform/helpdata/en/c3/bb7e33bb571014a03eeabba4e37541/content.htm).</span><span class="sxs-lookup"><span data-stu-id="4edf6-210">Regarding log backups, see hello SAP HANA documentation [Log Backups](https://help.sap.com/saphelp_hanaplatform/helpdata/en/c3/bb7e33bb571014a03eeabba4e37541/content.htm).</span></span>

<span data-ttu-id="4edf6-211">SAP de önerir hello yedekleme kataloğu tookeep, bazı temizlik yapılması sonsuz büyüyen buradan (bkz [yedekleme kataloğu ve yedekleme depolama için Housekeeping](http://help.sap.com/saphelp_hanaplatform/helpdata/en/ca/c903c28b0e4301b39814ef41dbf568/content.htm)).</span><span class="sxs-lookup"><span data-stu-id="4edf6-211">SAP also recommends doing some housekeeping of hello backup catalog tookeep it from growing infinitely (see [Housekeeping for Backup Catalog and Backup Storage](http://help.sap.com/saphelp_hanaplatform/helpdata/en/ca/c903c28b0e4301b39814ef41dbf568/content.htm)).</span></span>

### <a name="sap-hana-configuration-files"></a><span data-ttu-id="4edf6-212">SAP HANA yapılandırma dosyaları</span><span class="sxs-lookup"><span data-stu-id="4edf6-212">SAP HANA configuration files</span></span>

<span data-ttu-id="4edf6-213">Merhaba SSS bölümünde belirtildiği gibi [SAP Not 1642148](https://launchpad.support.sap.com/#/notes/1642148), hello SAP HANA yapılandırma dosyaları standart HANA yedeklemenin bir parçası değil.</span><span class="sxs-lookup"><span data-stu-id="4edf6-213">As stated in hello FAQ in [SAP Note 1642148](https://launchpad.support.sap.com/#/notes/1642148), hello SAP HANA configuration files are not part of a standard HANA backup.</span></span> <span data-ttu-id="4edf6-214">Bunlar gerekli toorestore bir sistem değildir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-214">They are not essential toorestore a system.</span></span> <span data-ttu-id="4edf6-215">Merhaba HANA yapılandırma el ile Merhaba geri yüklendikten sonra değiştirilemedi.</span><span class="sxs-lookup"><span data-stu-id="4edf6-215">hello HANA configuration could be changed manually after hello restore.</span></span> <span data-ttu-id="4edf6-216">Bir istersiniz durumda tooget hello aynı özel yapılandırma hello geri yükleme işlemi sırasında gerekli tooback hello HANA yapılandırma dosyalarını ayrı olarak öyledir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-216">In case one would like tooget hello same custom configuration during hello restore process, it is necessary tooback up hello HANA configuration files separately.</span></span>

<span data-ttu-id="4edf6-217">Standart HANA yedeklemeler kullanacaksanız tooa ayrılmış HANA yedek dosya sistemi, bir ayrıca Kopyala hello yapılandırma dosyaları toohello aynı yedekleme dosya sistemi ve her şeyi birlikte toohello son bir depolama hedefi gibi kopyalama seyrek erişimli blob depolama.</span><span class="sxs-lookup"><span data-stu-id="4edf6-217">If standard HANA backups are going tooa dedicated HANA backup file system, one could also copy hello configuration files toohello same backup filesystem, and then copy everything together toohello final storage destination like cool blob storage.</span></span>

### <a name="sap-hana-cockpit"></a><span data-ttu-id="4edf6-218">SAP HANA yönetim ekranı</span><span class="sxs-lookup"><span data-stu-id="4edf6-218">SAP HANA Cockpit</span></span>

<span data-ttu-id="4edf6-219">SAP HANA Pilot izleme ve SAP HANA bir tarayıcı yoluyla yönetme hello olanağı sunar.</span><span class="sxs-lookup"><span data-stu-id="4edf6-219">SAP HANA Cockpit offers hello possibility of monitoring and managing SAP HANA via a browser.</span></span> <span data-ttu-id="4edf6-220">SAP HANA yedeklemeler işlenmesini de sağlar ve bu nedenle bir alternatif tooSAP HANA Studio ve ABAP DBACOCKPIT olarak kullanılabilir (bkz [SAP HANA Pilot](https://help.sap.com/saphelp_hanaplatform/helpdata/en/73/c37822444344f3973e0e976b77958e/content.htm) daha fazla bilgi için).</span><span class="sxs-lookup"><span data-stu-id="4edf6-220">It also allows handling of SAP HANA backups, and therefore can be used as an alternative tooSAP HANA Studio and ABAP DBACOCKPIT (see [SAP HANA Cockpit](https://help.sap.com/saphelp_hanaplatform/helpdata/en/73/c37822444344f3973e0e976b77958e/content.htm) for more information).</span></span>

![Bu şekilde hello SAP HANA Pilot veritabanı yönetim ekran gösterilmektedir](media/sap-hana-backup-guide/image004.png)

<span data-ttu-id="4edf6-222">Bu şekil gösterir hello SAP HANA Pilot veritabanı yönetim ekran ve sol hello hello yedekleme kutucuğu.</span><span class="sxs-lookup"><span data-stu-id="4edf6-222">This figure shows hello SAP HANA Cockpit Database Administration Screen, and hello backup tile on hello left.</span></span> <span data-ttu-id="4edf6-223">Görme hello yedekleme döşeme için oturum açma hesabı uygun kullanıcı izinleri gerektirir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-223">Seeing hello backup tile requires appropriate user permissions for login account.</span></span>

![SAP HANA Pilot yedeklemeler devam eden sağlarken izlenebilir](media/sap-hana-backup-guide/image005.png)

<span data-ttu-id="4edf6-225">Yedeklemeler, devam eden ve bu işlem tamamlandıktan sonra tüm hello yedekleme ayrıntıları kullanılabilir olsa da, SAP HANA Pilot izlenebilir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-225">Backups can be monitored in SAP HANA Cockpit while they are ongoing and, once it is finished, all hello backup details are available.</span></span>

![Bir Azure SLES 12 VM Gnome masaüstüyle Firefox kullanma örneği](media/sap-hana-backup-guide/image006.png)

<span data-ttu-id="4edf6-227">Merhaba önceki ekran görüntüleri bir Azure Windows sanal makineden yapıldı.</span><span class="sxs-lookup"><span data-stu-id="4edf6-227">hello previous screenshots were made from an Azure Windows VM.</span></span> <span data-ttu-id="4edf6-228">Bunu bir Azure SLES 12 VM Gnome masaüstüyle Firefox kullanarak bir örnektir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-228">This one is an example using Firefox on an Azure SLES 12 VM with Gnome desktop.</span></span> <span data-ttu-id="4edf6-229">Bu, SAP HANA Pilot hello seçeneği toodefine SAP HANA yedekleme zamanlamaları gösterir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-229">It shows hello option toodefine SAP HANA backup schedules in SAP HANA Cockpit.</span></span> <span data-ttu-id="4edf6-230">Biri de görüldüğü gibi hello yedekleme dosyaları için tarih/saat öneki olarak önerir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-230">As one can also see, it suggests date/time as a prefix for hello backup files.</span></span> <span data-ttu-id="4edf6-231">SAP HANA Studio'da hello varsayılan önektir &quot;tam\_veri\_yedekleme&quot; bir tam dosya yedeğini yaparken.</span><span class="sxs-lookup"><span data-stu-id="4edf6-231">In SAP HANA Studio, hello default prefix is &quot;COMPLETE\_DATA\_BACKUP&quot; when doing a full file backup.</span></span> <span data-ttu-id="4edf6-232">Benzersiz bir önek kullanılması önerilir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-232">Using a unique prefix is recommended.</span></span>

### <a name="sap-hana-backup-encryption"></a><span data-ttu-id="4edf6-233">SAP HANA yedek şifreleme</span><span class="sxs-lookup"><span data-stu-id="4edf6-233">SAP HANA backup encryption</span></span>

<span data-ttu-id="4edf6-234">SAP HANA veri ve günlük şifrelenmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="4edf6-234">SAP HANA offers encryption of data and log.</span></span> <span data-ttu-id="4edf6-235">SAP HANA veri ve günlük şifrelenmezse hello yedeklemeler de şifrelenmez.</span><span class="sxs-lookup"><span data-stu-id="4edf6-235">If SAP HANA data and log are not encrypted, then hello backups are also not encrypted.</span></span> <span data-ttu-id="4edf6-236">Bu toohello müşteri toouse bazı üçüncü taraf çözümü tooencrypt hello SAP HANA yedeklemeler biçimidir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-236">It is up toohello customer toouse some form of third-party solution tooencrypt hello SAP HANA backups.</span></span> <span data-ttu-id="4edf6-237">Bkz: [veri ve günlük birimi şifreleme](https://help.sap.com/saphelp_hanaplatform/helpdata/en/dc/01f36fbb5710148b668201a6e95cf2/content.htm) toofind SAP HANA şifreleme hakkında daha fazla bilgi.</span><span class="sxs-lookup"><span data-stu-id="4edf6-237">See [Data and Log Volume Encryption](https://help.sap.com/saphelp_hanaplatform/helpdata/en/dc/01f36fbb5710148b668201a6e95cf2/content.htm) toofind out more about SAP HANA encryption.</span></span>

<span data-ttu-id="4edf6-238">Microsoft Azure üzerinde bir müşteri hello Iaas VM şifreleme özelliği tooencrypt kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4edf6-238">On Microsoft Azure, a customer could use hello IaaS VM encryption feature tooencrypt.</span></span> <span data-ttu-id="4edf6-239">Örneğin, bir özel veri diskleri ekli toohello VM, SAP HANA yedeklemeler kullanılan toostore olan, sonra bu diskler kopyalarını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4edf6-239">For example, one could use dedicated data disks attached toohello VM, which are used toostore SAP HANA backups, then make copies of these disks.</span></span>

<span data-ttu-id="4edf6-240">Azure Backup hizmeti, şifrelenen VM'ler/disklere işleyebilir (bkz [tooback yedeklemek ve geri yükleme Azure yedekleme ile sanal makineleri nasıl şifrelenmiş](../../../backup/backup-azure-vms-encryption.md)).</span><span class="sxs-lookup"><span data-stu-id="4edf6-240">Azure Backup service can handle encrypted VMs/disks (see [How tooback up and restore encrypted virtual machines with Azure Backup](../../../backup/backup-azure-vms-encryption.md)).</span></span>

<span data-ttu-id="4edf6-241">Başka bir seçenek toomaintain hello SAP HANA VM ve şifreleme olmadan, disklerini ve şifreleme etkinleştirildiğini bir depolama hesabında hello SAP HANA yedekleme dosyalarının depolanacağı (bkz [bekleyen veri için Azure depolama hizmeti şifrelemesi](../../../storage/common/storage-service-encryption.md)) .</span><span class="sxs-lookup"><span data-stu-id="4edf6-241">Another option would be toomaintain hello SAP HANA VM and its disks without encryption, and store hello SAP HANA backup files in a storage account for which encryption was enabled (see [Azure Storage Service Encryption for Data at Rest](../../../storage/common/storage-service-encryption.md)).</span></span>

## <a name="test-setup"></a><span data-ttu-id="4edf6-242">Test Kurulumu</span><span class="sxs-lookup"><span data-stu-id="4edf6-242">Test setup</span></span>

### <a name="test-virtual-machine-on-azure"></a><span data-ttu-id="4edf6-243">Azure üzerinde test sanal makinesi</span><span class="sxs-lookup"><span data-stu-id="4edf6-243">Test Virtual Machine on Azure</span></span>

<span data-ttu-id="4edf6-244">SAP HANA yüklemenin Azure GS5 VM'deki yedekleme/geri yükleme testleri aşağıdaki hello için kullanıldı.</span><span class="sxs-lookup"><span data-stu-id="4edf6-244">An SAP HANA installation in an Azure GS5 VM was used for hello following backup/restore tests.</span></span>

![Bu şekilde hello hello HANA test VM için Azure portalına genel bakış parçası gösterilmektedir](media/sap-hana-backup-guide/image007.png)

<span data-ttu-id="4edf6-246">Bu şekilde hello hello HANA test VM için Azure portalına genel bakış parçası gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-246">This figure shows part of hello Azure portal overview for hello HANA test VM.</span></span>

### <a name="test-backup-size"></a><span data-ttu-id="4edf6-247">Test yedekleme boyutu</span><span class="sxs-lookup"><span data-stu-id="4edf6-247">Test backup size</span></span>

![Bu şekil HANA Studio'da hello yedekleme konsolundan alındığı ve hello HANA dizini sunucusunun 229 GB hello yedekleme dosyası boyutunu gösterir](media/sap-hana-backup-guide/image008.png)

<span data-ttu-id="4edf6-249">Sahte bir tablo ile veri tooget toplam veri yedekleme boyutu 200 GB tooderive gerçekçi performans verilerinin doldurulmuş.</span><span class="sxs-lookup"><span data-stu-id="4edf6-249">A dummy table was filled up with data tooget a total data backup size of over 200 GB tooderive realistic performance data.</span></span> <span data-ttu-id="4edf6-250">Hello şekil HANA Studio'da hello yedekleme konsolundan alındığı ve hello HANA dizini sunucusunun 229 GB hello yedekleme dosyası boyutunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-250">hello figure was taken from hello backup console in HANA Studio and shows hello backup file size of 229 GB for hello HANA index server.</span></span> <span data-ttu-id="4edf6-251">Merhaba varsayılan yedekleme önek SAP HANA Studio'da "COMPLETE_DATA_BACKUP" Merhaba testler için kullanıldı.</span><span class="sxs-lookup"><span data-stu-id="4edf6-251">For hello tests, hello default backup prefix "COMPLETE_DATA_BACKUP" in SAP HANA Studio was used.</span></span> <span data-ttu-id="4edf6-252">Gerçek üretim sistemlerinde, daha kullanışlı bir önek tanımlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-252">In real production systems, a more useful prefix should be defined.</span></span> <span data-ttu-id="4edf6-253">SAP HANA Pilot tarih önerir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-253">SAP HANA Cockpit suggests date/time.</span></span>

### <a name="test-tool-toocopy-files-directly-tooazure-storage"></a><span data-ttu-id="4edf6-254">Test aracı toocopy doğrudan tooAzure depolama dosyaları</span><span class="sxs-lookup"><span data-stu-id="4edf6-254">Test tool toocopy files directly tooAzure storage</span></span>

<span data-ttu-id="4edf6-255">hem hedef hem de bu desteklediğinden doğrudan tooAzure blob depolama veya Azure dosya paylaşımları hello blobxfer aracı kullanılan tootransfer SAP HANA yedek dosyaları kolayca Otomasyon betikleri tooits komut satırı arabirimi nedeniyle içine tümleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-255">tootransfer SAP HANA backup files directly tooAzure blob storage, or Azure file shares, hello blobxfer tool was used because it supports both targets and it can be easily integrated into automation scripts due tooits command-line interface.</span></span> <span data-ttu-id="4edf6-256">Merhaba blobxfer aracı edinilebilir [GitHub](https://github.com/Azure/blobxfer).</span><span class="sxs-lookup"><span data-stu-id="4edf6-256">hello blobxfer tool is available on [GitHub](https://github.com/Azure/blobxfer).</span></span>

### <a name="test-backup-size-estimation"></a><span data-ttu-id="4edf6-257">Yedekleme boyutu tahmin test</span><span class="sxs-lookup"><span data-stu-id="4edf6-257">Test backup size estimation</span></span>

<span data-ttu-id="4edf6-258">Bu önemli tooestimate hello yedekleme SAP HANA boyutudur.</span><span class="sxs-lookup"><span data-stu-id="4edf6-258">It is important tooestimate hello backup size of SAP HANA.</span></span> <span data-ttu-id="4edf6-259">Bu tahmin, yedekleme dosyalarının sayısı için hello max yedek dosya boyutu tanımlayarak tooimprove performans yardımcı olan bir dosya kopyalama sırasında son tooparallelism.</span><span class="sxs-lookup"><span data-stu-id="4edf6-259">This estimate helps tooimprove performance by defining hello max backup file size for a number of backup files, due tooparallelism during a file copy.</span></span> <span data-ttu-id="4edf6-260">(Bu ayrıntıları bu makalenin sonraki bölümlerinde açıklanmıştır.) Gereken bir ayrıca karar toodo tam bir yedekleme veya delta (artımlı ya da fark) yedekleme.</span><span class="sxs-lookup"><span data-stu-id="4edf6-260">(Those details are explained later in this article.) One must also decide whether toodo a full backup or a delta backup (incremental or differential).</span></span>

<span data-ttu-id="4edf6-261">Neyse ki, hello yedekleme dosyalarının hello boyutunu tahminleri basit bir SQL deyimi yoktur: **seçin \* M gelen\_yedekleme\_BOYUTU\_TAHMİNLER** (bkz: [ Tahmin hello alanı, hello dosya sistemi için bir veri yedekleme](https://help.sap.com/saphelp_hanaplatform/helpdata/en/7d/46337b7a9c4c708d965b65bc0f343c/content.htm)).</span><span class="sxs-lookup"><span data-stu-id="4edf6-261">Fortunately, there is a simple SQL statement that estimates hello size of hello backup files: **select \* from M\_BACKUP\_SIZE\_ESTIMATIONS** (see [Estimate hello Space Needed in hello File System for a Data Backup](https://help.sap.com/saphelp_hanaplatform/helpdata/en/7d/46337b7a9c4c708d965b65bc0f343c/content.htm)).</span></span>

![Bu SQL deyimini Hello çıktısını hemen hemen gerçek boyutunu diskteki hello tam veri yedek hello eşleşir](media/sap-hana-backup-guide/image009.png)

<span data-ttu-id="4edf6-263">Merhaba test sisteminde, bu SQL deyimini hello çıktısını hemen hemen gerçek boyutunu diskteki hello tam veri yedek hello eşleşir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-263">For hello test system, hello output of this SQL statement matches almost exactly hello real size of hello full data backup on disk.</span></span>

### <a name="test-hana-backup-file-size"></a><span data-ttu-id="4edf6-264">Test HANA yedek dosya boyutu</span><span class="sxs-lookup"><span data-stu-id="4edf6-264">Test HANA backup file size</span></span>

![bir toorestrict hello en fazla dosya boyutunu HANA yedekleme dosyalarını Hello HANA Studio yedekleme Konsolu sağlar](media/sap-hana-backup-guide/image010.png)

<span data-ttu-id="4edf6-266">Merhaba HANA Studio yedekleme konsolu bir toorestrict hello en fazla dosya boyutunu HANA yedek dosyaları sağlar.</span><span class="sxs-lookup"><span data-stu-id="4edf6-266">hello HANA Studio backup console allows one toorestrict hello max file size of HANA backup files.</span></span> <span data-ttu-id="4edf6-267">Merhaba örnek ortamında, bu özellik bir 230 GB yedekleme dosyası yerine birden çok daha küçük yedekleme dosyalarını olası tooget kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="4edf6-267">In hello sample environment, that feature makes it possible tooget multiple smaller backup files instead of one 230-GB backup file.</span></span> <span data-ttu-id="4edf6-268">Daha küçük dosya boyutu performans üzerinde önemli bir etkisi vardır (Merhaba ilgili makaleye bakın [SAP HANA Azure Backup dosya düzeyinde](sap-hana-backup-file-level.md)).</span><span class="sxs-lookup"><span data-stu-id="4edf6-268">Smaller file size has a significant impact on performance (see hello related article [SAP HANA Azure Backup on file level](sap-hana-backup-file-level.md)).</span></span>

## <a name="summary"></a><span data-ttu-id="4edf6-269">Özet</span><span class="sxs-lookup"><span data-stu-id="4edf6-269">Summary</span></span>

<span data-ttu-id="4edf6-270">Merhaba tabloları aşağıdaki avantajları ve dezavantajları çözümleri tooback Azure sanal makinelerde çalışan bir SAP HANA veritabanından Göster hello test sonuçlarına dayanarak.</span><span class="sxs-lookup"><span data-stu-id="4edf6-270">Based on hello test results hello following tables show pros and cons of solutions tooback up an SAP HANA database running on Azure virtual machines.</span></span>

<span data-ttu-id="4edf6-271">**SAP HANA toohello dosya sistemi ve kopyalama geri yedekleme daha sonra toohello son yedekleme hedefi dosyaları**</span><span class="sxs-lookup"><span data-stu-id="4edf6-271">**Back up SAP HANA toohello file system and copy backup files afterwards toohello final backup destination**</span></span>

|<span data-ttu-id="4edf6-272">Çözüm</span><span class="sxs-lookup"><span data-stu-id="4edf6-272">Solution</span></span>                                           |<span data-ttu-id="4edf6-273">Uzmanları</span><span class="sxs-lookup"><span data-stu-id="4edf6-273">Pros</span></span>                                 |<span data-ttu-id="4edf6-274">Simgeler</span><span class="sxs-lookup"><span data-stu-id="4edf6-274">Cons</span></span>                                  |
|---------------------------------------------------|-------------------------------------|--------------------------------------|
|<span data-ttu-id="4edf6-275">VM disklerde HANA yedekleri koru</span><span class="sxs-lookup"><span data-stu-id="4edf6-275">Keep HANA backups on VM disks</span></span>                      |<span data-ttu-id="4edf6-276">Hiçbir ek Yönetimi çalışmalarını</span><span class="sxs-lookup"><span data-stu-id="4edf6-276">No additional management efforts</span></span>     |<span data-ttu-id="4edf6-277">Yerel VM disk alanını eats</span><span class="sxs-lookup"><span data-stu-id="4edf6-277">Eats up local VM disk space</span></span>           |
|<span data-ttu-id="4edf6-278">Blobxfer aracı toocopy yedekleme dosyalarını tooblob depolama</span><span class="sxs-lookup"><span data-stu-id="4edf6-278">Blobxfer tool toocopy backup files tooblob storage</span></span> |<span data-ttu-id="4edf6-279">Paralellik toocopy birden çok dosya, seçim toouse cool blob depolama</span><span class="sxs-lookup"><span data-stu-id="4edf6-279">Parallelism toocopy multiple files, choice toouse cool blob storage</span></span> | <span data-ttu-id="4edf6-280">Ek aracı Bakım ve özel komut dosyaları</span><span class="sxs-lookup"><span data-stu-id="4edf6-280">Additional tool maintenance and custom scripting</span></span> | 
|<span data-ttu-id="4edf6-281">Powershell veya CLI yoluyla BLOB kopyalama</span><span class="sxs-lookup"><span data-stu-id="4edf6-281">Blob copy via Powershell or CLI</span></span>                    |<span data-ttu-id="4edf6-282">Gerekirse, hiçbir ek araç Azure Powershell veya CLI gerçekleştirilebilir</span><span class="sxs-lookup"><span data-stu-id="4edf6-282">No additional tool necessary, can be accomplished via Azure Powershell or CLI</span></span> |<span data-ttu-id="4edf6-283">el ile işlem müşteri tootake komut dosyası oluşturma ve geri yükleme için kopyalanan BLOB yönetim care of sahiptir.</span><span class="sxs-lookup"><span data-stu-id="4edf6-283">manual process, customer has tootake care of scripting and management of copied blobs for restore</span></span>|
|<span data-ttu-id="4edf6-284">Kopya tooNFS paylaşımı</span><span class="sxs-lookup"><span data-stu-id="4edf6-284">Copy tooNFS share</span></span>                                  |<span data-ttu-id="4edf6-285">Diğer VM hello HANA sunucudaki etkisi olmadan yedekleme dosyaları sonrası işlenmesi</span><span class="sxs-lookup"><span data-stu-id="4edf6-285">Post-processing of backup files on other VM without impact on hello HANA server</span></span>|<span data-ttu-id="4edf6-286">Yavaş kopyalama işlemi</span><span class="sxs-lookup"><span data-stu-id="4edf6-286">Slow copy process</span></span>|
|<span data-ttu-id="4edf6-287">Blobxfer kopyalama tooAzure dosya hizmeti</span><span class="sxs-lookup"><span data-stu-id="4edf6-287">Blobxfer copy tooAzure File Service</span></span>                |<span data-ttu-id="4edf6-288">Yerel VM disk alanı yemek değil</span><span class="sxs-lookup"><span data-stu-id="4edf6-288">Doesn't eat up space on local VM disks</span></span>|<span data-ttu-id="4edf6-289">Hiçbir doğrudan HANA yedekleme, boyutu kısıtlaması şu anda 5 TB adresindeki dosya paylaşımının tarafından destek yazma</span><span class="sxs-lookup"><span data-stu-id="4edf6-289">No direct write support by HANA backup, size restriction of file share currently at 5 TB</span></span>|
|<span data-ttu-id="4edf6-290">Azure Yedekleme aracısı</span><span class="sxs-lookup"><span data-stu-id="4edf6-290">Azure Backup Agent</span></span>                                 | <span data-ttu-id="4edf6-291">Tercih edilen bir çözüm olacaktır</span><span class="sxs-lookup"><span data-stu-id="4edf6-291">Would be preferred solution</span></span>         | <span data-ttu-id="4edf6-292">Şu anda kullanılamıyor Linux</span><span class="sxs-lookup"><span data-stu-id="4edf6-292">Currently not available on Linux</span></span>    |



<span data-ttu-id="4edf6-293">**Yedekleme SAP HANA depolama anlık görüntü tabanlı**</span><span class="sxs-lookup"><span data-stu-id="4edf6-293">**Backup SAP HANA based on storage snapshots**</span></span>

|<span data-ttu-id="4edf6-294">Çözüm</span><span class="sxs-lookup"><span data-stu-id="4edf6-294">Solution</span></span>                                           |<span data-ttu-id="4edf6-295">Uzmanları</span><span class="sxs-lookup"><span data-stu-id="4edf6-295">Pros</span></span>                                 |<span data-ttu-id="4edf6-296">Simgeler</span><span class="sxs-lookup"><span data-stu-id="4edf6-296">Cons</span></span>                                  |
|---------------------------------------------------|-------------------------------------|--------------------------------------|
|<span data-ttu-id="4edf6-297">Azure yedekleme hizmeti</span><span class="sxs-lookup"><span data-stu-id="4edf6-297">Azure Backup Service</span></span>                               | <span data-ttu-id="4edf6-298">Blob anlık görüntü tabanlı VM yedeklemeyi sağlar</span><span class="sxs-lookup"><span data-stu-id="4edf6-298">Allows VM backup based on blob snapshots</span></span> | <span data-ttu-id="4edf6-299">Dosya düzeyinde geri yükleme kullanmadığınızda, yeni bir SAP HANA lisans anahtar hello gerek gelir hello geri yükleme işlemi için yeni bir VM hello oluşturulmasını gerektirir</span><span class="sxs-lookup"><span data-stu-id="4edf6-299">When not using file level restore, it requires hello creation of a new VM for hello restore process, which then implies hello need of a new SAP HANA license key</span></span>|
|<span data-ttu-id="4edf6-300">El ile blob anlık görüntüler</span><span class="sxs-lookup"><span data-stu-id="4edf6-300">Manual blob snapshots</span></span>                              | <span data-ttu-id="4edf6-301">VM kimliği değiştirmeden esneklik toocreate ve geri yükleme belirli VM diskleri hello</span><span class="sxs-lookup"><span data-stu-id="4edf6-301">Flexibility toocreate and restore specific VM disks without changing hello unique VM ID</span></span>|<span data-ttu-id="4edf6-302">Merhaba müşteri tarafından yapılan toobe sahip el ile çalışma</span><span class="sxs-lookup"><span data-stu-id="4edf6-302">All manual work, which has toobe done by hello customer</span></span>|

## <a name="next-steps"></a><span data-ttu-id="4edf6-303">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="4edf6-303">Next steps</span></span>
* <span data-ttu-id="4edf6-304">[SAP HANA Azure yedekleme dosya düzeyinde](sap-hana-backup-file-level.md) hello dosya tabanlı yedekleme seçeneği açıklar.</span><span class="sxs-lookup"><span data-stu-id="4edf6-304">[SAP HANA Azure Backup on file level](sap-hana-backup-file-level.md) describes hello file-based backup option.</span></span>
* <span data-ttu-id="4edf6-305">[SAP HANA yedekleme depolama anlık görüntü tabanlı](sap-hana-backup-storage-snapshots.md) hello depolama anlık görüntü tabanlı yedekleme seçeneği açıklar.</span><span class="sxs-lookup"><span data-stu-id="4edf6-305">[SAP HANA backup based on storage snapshots](sap-hana-backup-storage-snapshots.md) describes hello storage snapshot-based backup option.</span></span>
* <span data-ttu-id="4edf6-306">tooestablish yüksek kullanılabilirlik ve olağanüstü durum kurtarma SAP HANA planlama (büyük örnekler), azure'da nasıl görürüm toolearn [SAP HANA (büyük örnekler) Azure üzerinde yüksek kullanılabilirlik ve olağanüstü durum kurtarma](hana-overview-high-availability-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="4edf6-306">toolearn how tooestablish high availability and plan for disaster recovery of SAP HANA on Azure (large instances), see [SAP HANA (large instances) high availability and disaster recovery on Azure](hana-overview-high-availability-disaster-recovery.md).</span></span>
