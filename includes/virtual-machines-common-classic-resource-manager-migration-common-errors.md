# <a name="common-errors-during-classic-tooazure-resource-manager-migration"></a><span data-ttu-id="0e7f1-101">Klasik tooAzure Resource Manager geçiş sırasında yaygın hatalar</span><span class="sxs-lookup"><span data-stu-id="0e7f1-101">Common errors during Classic tooAzure Resource Manager migration</span></span>
<span data-ttu-id="0e7f1-102">Bu makale katalogları, Azure Klasik dağıtım modeli toohello Azure Resource Manager yığından Iaas kaynakların hello geçiş sırasında en yaygın hataları ve bunları azaltmanın yollarını hello.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-102">This article catalogs hello most common errors and mitigations during hello migration of IaaS resources from Azure classic deployment model toohello Azure Resource Manager stack.</span></span>

## <a name="list-of-errors"></a><span data-ttu-id="0e7f1-103">Hata listesi</span><span class="sxs-lookup"><span data-stu-id="0e7f1-103">List of errors</span></span>
| <span data-ttu-id="0e7f1-104">Hata dizesi</span><span class="sxs-lookup"><span data-stu-id="0e7f1-104">Error string</span></span> | <span data-ttu-id="0e7f1-105">Risk azaltma</span><span class="sxs-lookup"><span data-stu-id="0e7f1-105">Mitigation</span></span> |
| --- | --- |
| <span data-ttu-id="0e7f1-106">İç sunucu hatası</span><span class="sxs-lookup"><span data-stu-id="0e7f1-106">Internal server error</span></span> |<span data-ttu-id="0e7f1-107">Bazı durumlarda bu tekrar denendiğinde geçen, geçici bir hatadır.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-107">In some cases, this is a transient error that goes away with a retry.</span></span> <span data-ttu-id="0e7f1-108">Toopersist, devam ederse [Azure desteğine başvurun](../articles/azure-supportability/how-to-create-azure-support-request.md) platform günlüklerinin araştırma gerektiği.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-108">If it continues toopersist, [contact Azure support](../articles/azure-supportability/how-to-create-azure-support-request.md) as it needs investigation of platform logs.</span></span> <br><br> <span data-ttu-id="0e7f1-109">**Not:** hello olay hello destek ekibi tarafından izlenir sonra bu olabilir olarak Lütfen tüm kendinden azaltma çalışmayın ortamınızda istenmeyen sonuçları.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-109">**NOTE:** Once hello incident is tracked by hello support team, please do not attempt any self-mitigation as this might have unintended consequences on your environment.</span></span> |
| <span data-ttu-id="0e7f1-110">HostedService {barındırılan hizmet adı} içindeki {dağıtım adı} Dağıtımı bir PaaS dağıtımı (Web/Çalışan) olduğundan, dağıtımın geçirilmesi desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-110">Migration is not supported for Deployment {deployment-name}  in HostedService {hosted-service-name} because it is a PaaS deployment (Web/Worker).</span></span> |<span data-ttu-id="0e7f1-111">Bu, dağıtım web/çalışan rolü içerdiğinde gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-111">This happens when a deployment contains a web/worker role.</span></span> <span data-ttu-id="0e7f1-112">Geçiş yalnızca sanal makineler için desteklenen olduğundan, lütfen hello web/çalışan rolü hello dağıtımdan kaldırın ve geçiş işlemini yeniden deneyin.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-112">Since migration is only supported for Virtual Machines, please remove hello web/worker role from hello deployment and try migration again.</span></span> |
| <span data-ttu-id="0e7f1-113">Şablon {şablon-adı} dağıtımı başarısız oldu.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-113">Template {template-name} deployment failed.</span></span> <span data-ttu-id="0e7f1-114">CorrelationId={guid}</span><span class="sxs-lookup"><span data-stu-id="0e7f1-114">CorrelationId={guid}</span></span> |<span data-ttu-id="0e7f1-115">Geçiş hizmeti Hello arka uç içinde hello Azure Kaynak Yöneticisi yığınında Azure Resource Manager şablonları toocreate kaynakları kullanırız.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-115">In hello backend of migration service, we use Azure Resource Manager templates toocreate resources in hello Azure Resource Manager stack.</span></span> <span data-ttu-id="0e7f1-116">Genellikle şablonları ıdempotent olduğundan, bu hata geçmiş hello geçiş işlemi tooget güvenli bir şekilde yeniden deneyebilir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-116">Since templates are idempotent, usually you can safely retry hello migration operation tooget past this error.</span></span> <span data-ttu-id="0e7f1-117">Toopersist bu hata devam ederse, lütfen [Azure desteğine başvurun](../articles/azure-supportability/how-to-create-azure-support-request.md) ve hello correlationıd değeri verin.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-117">If this error continues toopersist, please [contact Azure support](../articles/azure-supportability/how-to-create-azure-support-request.md) and give them hello CorrelationId.</span></span> <br><br> <span data-ttu-id="0e7f1-118">**Not:** hello olay hello destek ekibi tarafından izlenir sonra bu olabilir olarak Lütfen tüm kendinden azaltma çalışmayın ortamınızda istenmeyen sonuçları.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-118">**NOTE:** Once hello incident is tracked by hello support team, please do not attempt any self-mitigation as this might have unintended consequences on your environment.</span></span> |
| <span data-ttu-id="0e7f1-119">Merhaba sanal ağ {sanal ağ-adı} yok.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-119">hello virtual network {virtual-network-name} does not exist.</span></span> |<span data-ttu-id="0e7f1-120">Merhaba yeni Azure portalında hello sanal ağ oluşturduysanız, bu durum oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-120">This can happen if you created hello Virtual Network in hello new Azure portal.</span></span> <span data-ttu-id="0e7f1-121">Merhaba gerçek sanal ağ adı hello düzenini izler "grubu * <VNET name>"</span><span class="sxs-lookup"><span data-stu-id="0e7f1-121">hello actual Virtual Network name follows hello pattern "Group * <VNET name>"</span></span> |
| <span data-ttu-id="0e7f1-122">HostedService {barındırılan-hizmet-adı} içindeki VM {vm-adı}, Azure Resource Manager'da desteklenmeyen bir Uzantı {uzantı-adı} içeriyor.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-122">VM {vm-name} in HostedService {hosted-service-name} contains Extension {extension-name} which is not supported in Azure Resource Manager.</span></span> <span data-ttu-id="0e7f1-123">Toouninstall önerilen geçirme işlemine devam etmeden önce VM hello ondan.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-123">It is recommended toouninstall it from hello VM before continuing with migration.</span></span> |<span data-ttu-id="0e7f1-124">BGInfo 1.* gibi XML uzantıları Azure Resource Manager’da desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-124">XML extensions such as BGInfo 1.* are not supported in Azure Resource Manager.</span></span> <span data-ttu-id="0e7f1-125">Bu nedenle bu uzantılar geçirilemez.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-125">Therefore, these extensions cannot be migrated.</span></span> <span data-ttu-id="0e7f1-126">Bu uzantılar sol yüklü hello sanal makine varsa, bunlar otomatik olarak hello geçişi tamamlamadan önce kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-126">If these extensions are left installed on hello virtual machine, they are automatically uninstalled before completing hello migration.</span></span> |
| <span data-ttu-id="0e7f1-127">HostedService {barındırılan-service-adı} içindeki VM {vm-adı}, VMSnapshot/VMSnapshotLinux Uzantısı içeriyor. Bu uzantının şu an için geçişi desteklenmemektedir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-127">VM {vm-name} in HostedService {hosted-service-name} contains Extension VMSnapshot/VMSnapshotLinux, which is currently not supported for Migration.</span></span> <span data-ttu-id="0e7f1-128">VM hello kaldırın ve yeniden hello geçiş tamamlandıktan sonra Azure Kaynak Yöneticisi'ni kullanarak ekleyin</span><span class="sxs-lookup"><span data-stu-id="0e7f1-128">Uninstall it from hello VM and add it back using Azure Resource Manager after hello Migration is Complete</span></span> |<span data-ttu-id="0e7f1-129">Bu hello sanal makine için Azure Backup yapılandırıldığı hello senaryodur.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-129">This is hello scenario where hello virtual machine is configured for Azure Backup.</span></span> <span data-ttu-id="0e7f1-130">Bu şu anda desteklenmeyen bir senaryodur olduğundan, lütfen https://aka.ms/vmbackupmigration adresindeki hello geçici çözüm izleyin</span><span class="sxs-lookup"><span data-stu-id="0e7f1-130">Since this is currently an unsupported scenario, please follow hello workaround at https://aka.ms/vmbackupmigration</span></span> |
| <span data-ttu-id="0e7f1-131">VM {vm-adı} {barındırılan-service-adı} içindeki durumu VM hello bildirilmedi uzantı {uzantı-adı} içeriyor.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-131">VM {vm-name} in HostedService {hosted-service-name} contains Extension {extension-name} whose Status is not being reported from hello VM.</span></span> <span data-ttu-id="0e7f1-132">Bu nedenle bu VM geçirilemez.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-132">Hence, this VM cannot be migrated.</span></span> <span data-ttu-id="0e7f1-133">Bu hello uzantı durumunu bildirilen emin olun veya hello uzantısını VM hello Kaldır ve geçiş yeniden deneyin.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-133">Ensure that hello Extension status is being reported or uninstall hello extension from hello VM and retry migration.</span></span> <br><br> <span data-ttu-id="0e7f1-134">HostedService {barındırılan-hizmet-adı} içindeki VM {vm-adı}, İşleyici Durumu: {işleyici-durumu} bildiren bir Uzantı {uzantı-adı} içeriyor.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-134">VM {vm-name} in HostedService {hosted-service-name} contains Extension {extension-name} reporting Handler Status: {handler-status}.</span></span> <span data-ttu-id="0e7f1-135">Bu nedenle, hello VM geçirilemez.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-135">Hence, hello VM cannot be migrated.</span></span> <span data-ttu-id="0e7f1-136">Rapor edilen hello uzantısı işleyici durumu {status işleyici} olduğundan emin olun veya VM hello kaldırın ve geçiş yeniden deneyin.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-136">Ensure that hello Extension handler status being reported is {handler-status} or uninstall it from hello VM and retry migration.</span></span> <br><br> <span data-ttu-id="0e7f1-137">VM Aracısı VM {vm-adı} {barındırılan-service-adı} içindeki için raporlama hello hazır değil olarak genel aracı durumu.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-137">VM Agent for VM {vm-name} in HostedService {hosted-service-name} is reporting hello overall agent status as Not Ready.</span></span> <span data-ttu-id="0e7f1-138">Dinamik geçirilip bir uzantıya sahipse, bu nedenle, hello VM, geçirilmesi değil.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-138">Hence, hello VM may not be migrated, if it has a migratable extension.</span></span> <span data-ttu-id="0e7f1-139">Bu hello VM Aracısı hazır olarak genel aracı durumu raporlama emin olun.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-139">Ensure that hello VM Agent is reporting overall agent status as Ready.</span></span> <span data-ttu-id="0e7f1-140">Toohttps://aka.MS/classiciaasmigrationfaqs bakın.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-140">Refer toohttps://aka.ms/classiciaasmigrationfaqs.</span></span> |<span data-ttu-id="0e7f1-141">Azure Konuk Aracısı & VM uzantıları giden internet erişimi toohello VM depolama hesabı toopopulate durumlarını gerekir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-141">Azure guest agent & VM Extensions need outbound internet access toohello VM storage account toopopulate their status.</span></span> <span data-ttu-id="0e7f1-142">Durum hatasının yaygın nedenleri</span><span class="sxs-lookup"><span data-stu-id="0e7f1-142">Common causes of status failure include</span></span> <li> <span data-ttu-id="0e7f1-143">Giden erişim toohello engelleyen ağ güvenlik grubu Internet</span><span class="sxs-lookup"><span data-stu-id="0e7f1-143">a Network Security Group that blocks outbound access toohello internet</span></span> <li> <span data-ttu-id="0e7f1-144">Merhaba VNET şirket içi DNS sunucuları ve DNS bağlantısı varsa kaybolur</span><span class="sxs-lookup"><span data-stu-id="0e7f1-144">If hello VNET has on-prem DNS servers and DNS connectivity is lost</span></span> <br><br> <span data-ttu-id="0e7f1-145">Toosee desteklenmeyen bir durumu devam ederseniz, bu onay hello uzantıları tooskip kaldırın ve ile geçiş ilerler.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-145">If you continue toosee an unsupported status, you can uninstall hello extensions tooskip this check and move forward with migration.</span></span> |
| <span data-ttu-id="0e7f1-146">HostedService {barındırılan hizmet adı} içindeki {dağıtım adı} Dağıtımı birden fazla Kullanılabilirlik Kümesine sahip olduğundan, dağıtımın geçirilmesi desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-146">Migration is not supported for Deployment {deployment-name} in HostedService {hosted-service-name} because it has multiple Availability Sets.</span></span> |<span data-ttu-id="0e7f1-147">Şu anda yalnızca bir veya daha az kullanılabilirlik kümesine sahip barındırılan hizmetler geçirilebilir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-147">Currently, only hosted services that have 1 or less Availability sets can be migrated.</span></span> <span data-ttu-id="0e7f1-148">Bu soruna geçici bir çözüm toowork Lütfen hello kullanılabilirlik kümeleri ve sanal makine bu kullanılabilirlik kümeleri tooa farklı barındırılan hizmetin ek taşıyın.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-148">toowork around this problem, please move hello additional Availability sets and Virtual machines in those Availability sets tooa different hosted service.</span></span> |
| <span data-ttu-id="0e7f1-149">HostedService içinde {dağıtım-adı} dağıtımı için geçiş desteklenmiyor {barındırılan-service-name hello HostedService içeriyor olsa bile, hello kullanılabilirlik kümesi parçası olmayan Vm'lere sahip olduğundan.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-149">Migration is not supported for Deployment {deployment-name} in HostedService {hosted-service-name because it has VMs that are not part of hello Availability Set even though hello HostedService contains one.</span></span> |<span data-ttu-id="0e7f1-150">Merhaba geçici bir çözüm bu senaryo için tek bir kullanılabilirlik tüm hello sanal makinelerine ayarlayın veya barındırılan hello hizmetinde kullanılabilirlik kümesi hello tüm sanal makineleri kaldırma tooeither taşıma değildir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-150">hello workaround for this scenario is tooeither move all hello virtual machines into a single Availability set or remove all Virtual machines from hello Availability set in hello hosted service.</span></span> |
| <span data-ttu-id="0e7f1-151">Depolama hesabı/HostedService/sanal ağ {sanal ağ-adı} Geçirilmekte olan hello işleminin olduğunu ve bu nedenle değiştirilemiyor</span><span class="sxs-lookup"><span data-stu-id="0e7f1-151">Storage account/HostedService/Virtual Network {virtual-network-name} is in hello process of being migrated and hence cannot be changed</span></span> |<span data-ttu-id="0e7f1-152">Bu hata hello kaynakta hello "Hazırlama" geçiş işlemi tamamlanmış ve değişiklik toohello kaynak yapacağı bir işlem tetiklenir olur.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-152">This error happens when hello "Prepare" migration operation has been completed on hello resource and an operation that would make a change toohello resource is triggered.</span></span> <span data-ttu-id="0e7f1-153">Merhaba kilitlendiğinde nedeniyle hello Yönetim düzeyi "Hazırlama" işleminden sonra herhangi bir değişiklik toohello kaynak engellenir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-153">Because of hello lock on hello management plane after "Prepare" operation, any changes toohello resource are blocked.</span></span> <span data-ttu-id="0e7f1-154">Merhaba "İptal" geçiş işlemi tooroll geri hello "Hazırlama" işlemi veya toounlock hello Yönetim düzeyi, hello "Yürüt" geçiş işlemi toocomplete geçiş çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-154">toounlock hello management plane, you can run hello "Commit" migration operation toocomplete migration or hello "Abort" migration operation tooroll back hello "Prepare" operation.</span></span> |
| <span data-ttu-id="0e7f1-155">Durumu: RoleStateUnknown olan bir VM’e sahip olduğundan HostedService {barındırılan-hizmet-adı} için geçişe izin verilmiyor.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-155">Migration is not allowed for HostedService {hosted-service-name} because it has VM {vm-name} in State: RoleStateUnknown.</span></span> <span data-ttu-id="0e7f1-156">Geçiş, yalnızca zaman hello aşağıdakilerden biri VM olduğu hello durumları - çalışıyor, durduruldu, durduruldu serbest izin verilir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-156">Migration is allowed only when hello VM is in one of hello following states - Running, Stopped, Stopped Deallocated.</span></span> |<span data-ttu-id="0e7f1-157">Merhaba VM genellikle bir güncelleştirme işlem sırasında sistemin yeniden başlatılması gibi hello HostedService olduğunda, bir durum geçişi gerçekleştiriyor uzantı yükleme vs. Merhaba güncelleştirme işlemi toocomplete hello HostedService üzerinde için geçişi denemeden önce önerilir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-157">hello VM might be undergoing through a state transition, which usually happens when during an update operation on hello HostedService such as a reboot, extension installation etc. It is recommended for hello update operation toocomplete on hello HostedService before trying migration.</span></span> |
| <span data-ttu-id="0e7f1-158">HostedService {barındırılan-service-adı} {dağıtım-adı} dağıtımda VM {vm-adı} olan fiziksel blob boyutu {size-of-the-vhd-blob-backing-the-data-disk} bayt hello VM veri diski mantıksal boyutu {eşleşmiyor sahip veri diski {veri disk adı} içerir. size-of-the-Data-disk-specified-in-the-VM-api} bayt sayısı.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-158">Deployment {deployment-name} in HostedService {hosted-service-name} contains a VM {vm-name} with Data Disk {data-disk-name} whose physical blob size {size-of-the-vhd-blob-backing-the-data-disk} bytes does not match hello VM Data Disk logical size {size-of-the-data-disk-specified-in-the-vm-api} bytes.</span></span> <span data-ttu-id="0e7f1-159">Geçiş hello Azure Resource Manager VM için hello veri diski boyutu belirtmeden devam edecek.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-159">Migration will proceed without specifying a size for hello data disk for hello Azure Resource Manager VM.</span></span> | <span data-ttu-id="0e7f1-160">Bu hata hello boyutu hello VM API modelinde güncelleştirmeden hello VHD blob yeniden boyutlandırılabilir olur.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-160">This error happens if you've resized hello VHD blob without updating hello size in hello VM API model.</span></span> <span data-ttu-id="0e7f1-161">Ayrıntılı sorun giderme adımları [aşağıdadır](#vm-with-data-disk-whose-physical-blob-size-bytes-does-not-match-the-vm-data-disk-logical-size-bytes).</span><span class="sxs-lookup"><span data-stu-id="0e7f1-161">Detailed mitigation steps are outlined [below](#vm-with-data-disk-whose-physical-blob-size-bytes-does-not-match-the-vm-data-disk-logical-size-bytes).</span></span>|
| <span data-ttu-id="0e7f1-162">Bulut Hizmetinde {Bulut-Hizmeti-Adı} VM’si {VM-adı} için medya bağlantısı veri-diski-Uri’si} olan veri diski {veri-diski-adı} doğrulanırken bir depolama özel durumu oluştu.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-162">A storage exception occurred while validating data disk {data disk name} with media link {data disk Uri} for VM {VM name} in Cloud Service {Cloud Service name}.</span></span> <span data-ttu-id="0e7f1-163">Lütfen bu hello VHD medya bağlantısı bu sanal makine için erişilebilir olduğundan emin olun</span><span class="sxs-lookup"><span data-stu-id="0e7f1-163">Please ensure that hello VHD media link is accessible for this virtual machine</span></span> | <span data-ttu-id="0e7f1-164">Hello Hello diskleri VM silinmiş veya artık erişilebilir değildir, bu hata oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-164">This error can happen if hello disks of hello VM have been deleted or are not accessible anymore.</span></span> <span data-ttu-id="0e7f1-165">Lütfen VM mevcut hello emin hello diskleri olun.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-165">Please make sure hello disks for hello VM exist.</span></span>|
| <span data-ttu-id="0e7f1-166">HostedService {barındırılan-hizmet-adı} içindeki VM {vm-adı}, blob adı {vhd-blob-adı} olan ve Azure Resource Manager'da desteklenmeyen bir MediaLink'li {vhd-uri’si} Disk içeriyor.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-166">VM {vm-name} in HostedService {cloud-service-name} contains Disk with MediaLink {vhd-uri} which has blob name {vhd-blob-name}  that is not supported in Azure Resource Manager.</span></span> | <span data-ttu-id="0e7f1-167">Merhaba blob Hello adına sahip bir "/" işlem kaynak sağlayıcısı şu anda desteklenmeyen da bu hata oluşur.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-167">This error occurs when hello name of hello blob has a "/" in it which is not supported in Compute Resource Provider currently.</span></span> |
| <span data-ttu-id="0e7f1-168">Merhaba bölgesel kapsamda olmadığından geçiş HostedService {bulut hizmet adı} {dağıtım-adı} dağıtımda için izin verilmiyor.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-168">Migration is not allowed for Deployment {deployment-name} in HostedService {cloud-service-name} as it is not in hello regional scope.</span></span> <span data-ttu-id="0e7f1-169">Bu dağıtım tooregional kapsamı taşımak için lütfen toohttp://aka.ms/regionalscope bakın.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-169">Please refer toohttp://aka.ms/regionalscope for moving this deployment tooregional scope.</span></span> | <span data-ttu-id="0e7f1-170">2014'te, ağ kaynakları küme düzeyi kapsam tooregional kapsamdan taşınır Azure duyurdu.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-170">In 2014, Azure announced that networking resources will move from a cluster level scope tooregional scope.</span></span> <span data-ttu-id="0e7f1-171">Ayrıntılar için bkz. [http://aka.ms/regionalscope] (http://aka.ms/regionalscope).</span><span class="sxs-lookup"><span data-stu-id="0e7f1-171">See [http://aka.ms/regionalscope] for more details (http://aka.ms/regionalscope).</span></span> <span data-ttu-id="0e7f1-172">Geçirilmekte olan hello dağıtım otomatik olarak tooa bölgesel kapsama taşır bir güncelleştirme işlemi yapılmamış olduğunda bu hata oluşur.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-172">This error happens when hello deployment being migrated has not had an update operation, which automatically moves it tooa regional scope.</span></span> <span data-ttu-id="0e7f1-173">En iyi çözüm tooeither bir uç nokta tooa VM eklemek veya bir veri toohello VM disk ve geçiş yeniden olabilir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-173">Best workaround is tooeither add an endpoint tooa VM or a data disk toohello VM and then retry migration.</span></span> <br> <span data-ttu-id="0e7f1-174">Bkz: [nasıl uç noktaları sanal bir makinede Klasik Windows Azure yedekleme tooset](../articles/virtual-machines/windows/classic/setup-endpoints.md#create-an-endpoint) veya [bir veri diski tooa Windows hello Klasik dağıtım modeliyle oluşturulan sanal makinenin ekleme](../articles/virtual-machines/windows/classic/attach-disk.md)</span><span class="sxs-lookup"><span data-stu-id="0e7f1-174">See [How tooset up endpoints on a classic Windows virtual machine in Azure](../articles/virtual-machines/windows/classic/setup-endpoints.md#create-an-endpoint) or [Attach a data disk tooa Windows virtual machine created with hello classic deployment model](../articles/virtual-machines/windows/classic/attach-disk.md)</span></span>|


## <a name="detailed-mitigations"></a><span data-ttu-id="0e7f1-175">Ayrıntılı sorun giderme</span><span class="sxs-lookup"><span data-stu-id="0e7f1-175">Detailed mitigations</span></span>

### <a name="vm-with-data-disk-whose-physical-blob-size-bytes-does-not-match-hello-vm-data-disk-logical-size-bytes"></a><span data-ttu-id="0e7f1-176">Verileri blob boyutu bayt sayısı, Fiziksel Disk ile VM hello VM veri diski mantıksal boyutu bayt eşleşmiyor.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-176">VM with Data Disk whose physical blob size bytes does not match hello VM Data Disk logical size bytes.</span></span>

<span data-ttu-id="0e7f1-177">Bu, Hello mantıksal disk boyutu, veri hello gerçek VHD blob boyutu ile eşitlenmiş alabilirsiniz ortaya çıkar.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-177">This happens when hello Data disk logical size can get out of sync with hello actual VHD blob size.</span></span> <span data-ttu-id="0e7f1-178">Bu, aşağıdaki komutları hello kullanarak kolayca doğrulanabilir:</span><span class="sxs-lookup"><span data-stu-id="0e7f1-178">This can be easily verified using hello following commands:</span></span>

#### <a name="verifying-hello-issue"></a><span data-ttu-id="0e7f1-179">Merhaba sorunu doğrulanıyor</span><span class="sxs-lookup"><span data-stu-id="0e7f1-179">Verifying hello issue</span></span>

```PowerShell
# Store hello VM details in hello VM object
$vm = Get-AzureVM -ServiceName $servicename -Name $vmname

# Display hello data disk properties
# NOTE hello data disk LogicalDiskSizeInGB below which is 11GB. Also note hello MediaLink Uri of hello VHD blob as we'll use this in hello next step
$vm.VM.DataVirtualHardDisks


HostCaching         : None
DiskLabel           : 
DiskName            : coreosvm-coreosvm-0-201611230636240687
Lun                 : 0
LogicalDiskSizeInGB : 11
MediaLink           : https://contosostorage.blob.core.windows.net/vhds/coreosvm-dd1.vhd
SourceMediaLink     : 
IOType              : Standard
ExtensionData       : 

# Now get hello properties of hello blob backing hello data disk above
# NOTE hello size of hello blob is about 15 GB which is different from LogicalDiskSizeInGB above
$blob = Get-AzureStorageblob -Blob "coreosvm-dd1.vhd" -Container vhds 

$blob

ICloudBlob        : Microsoft.WindowsAzure.Storage.Blob.CloudPageBlob
BlobType          : PageBlob
Length            : 16106127872
ContentType       : application/octet-stream
LastModified      : 11/23/2016 7:16:22 AM +00:00
SnapshotTime      : 
ContinuationToken : 
Context           : Microsoft.WindowsAzure.Commands.Common.Storage.AzureStorageContext
Name              : coreosvm-dd1.vhd
```

#### <a name="mitigating-hello-issue"></a><span data-ttu-id="0e7f1-180">Azaltıcı hello sorunu</span><span class="sxs-lookup"><span data-stu-id="0e7f1-180">Mitigating hello issue</span></span>

```PowerShell
# Convert hello blob size in bytes tooGB into a variable which we'll use later
$newSize = [int]($blob.Length / 1GB)

# See hello calculated size in GB
$newSize

15

# Store hello disk name of hello data disk as we'll use this tooidentify hello disk toobe updated
$diskName = $vm.VM.DataVirtualHardDisks[0].DiskName

# Identify hello LUN of hello data disk tooremove
$lunToRemove = $vm.VM.DataVirtualHardDisks[0].Lun

# Now remove hello data disk from hello VM so that hello disk isn't leased by hello VM and it's size can be updated
Remove-AzureDataDisk -LUN $lunToRemove -VM $vm | Update-AzureVm -Name $vmname -ServiceName $servicename

OperationDescription OperationId                          OperationStatus
-------------------- -----------                          ---------------
Update-AzureVM       213xx1-b44b-1v6n-23gg-591f2a13cd16   Succeeded  

# Verify we have hello right disk that's going toobe updated
Get-AzureDisk -DiskName $diskName

AffinityGroup        : 
AttachedTo           : 
IsCorrupted          : False
Label                : 
Location             : East US
DiskSizeInGB         : 11
MediaLink            : https://contosostorage.blob.core.windows.net/vhds/coreosvm-dd1.vhd
DiskName             : coreosvm-coreosvm-0-201611230636240687
SourceImageName      : 
OS                   : 
IOType               : Standard
OperationDescription : Get-AzureDisk
OperationId          : 0c56a2b7-a325-123b-7043-74c27d5a61fd
OperationStatus      : Succeeded

# Now update hello disk toohello new size
Update-AzureDisk -DiskName $diskName -ResizedSizeInGB $newSize -Label $diskName

OperationDescription OperationId                          OperationStatus
-------------------- -----------                          ---------------
Update-AzureDisk     cv134b65-1b6n-8908-abuo-ce9e395ac3e7 Succeeded 

# Now verify that hello "DiskSizeInGB" property of hello disk matches hello size of hello blob 
Get-AzureDisk -DiskName $diskName


AffinityGroup        : 
AttachedTo           : 
IsCorrupted          : False
Label                : coreosvm-coreosvm-0-201611230636240687
Location             : East US
DiskSizeInGB         : 15
MediaLink            : https://contosostorage.blob.core.windows.net/vhds/coreosvm-dd1.vhd
DiskName             : coreosvm-coreosvm-0-201611230636240687
SourceImageName      : 
OS                   : 
IOType               : Standard
OperationDescription : Get-AzureDisk
OperationId          : 1v53bde5-cv56-5621-9078-16b9c8a0bad2
OperationStatus      : Succeeded

# Now we'll add hello disk back toohello VM as a data disk. First we need tooget an updated VM object
$vm = Get-AzureVM -ServiceName $servicename -Name $vmname

Add-AzureDataDisk -Import -DiskName $diskName -LUN 0 -VM $vm -HostCaching ReadWrite | Update-AzureVm -Name $vmname -ServiceName $servicename

OperationDescription OperationId                          OperationStatus
-------------------- -----------                          ---------------
Update-AzureVM       b0ad3d4c-4v68-45vb-xxc1-134fd010d0f8 Succeeded      
```

### <a name="moving-a-vm-tooa-different-subscription-after-completing-migration"></a><span data-ttu-id="0e7f1-181">Geçişi tamamladıktan sonra VM tooa farklı bir abonelik taşıma</span><span class="sxs-lookup"><span data-stu-id="0e7f1-181">Moving a VM tooa different subscription after completing migration</span></span>

<span data-ttu-id="0e7f1-182">Merhaba geçiş işlemini tamamladıktan sonra toomove hello VM tooanother abonelik isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-182">After you complete hello migration process, you may want toomove hello VM tooanother subscription.</span></span> <span data-ttu-id="0e7f1-183">Ancak, gizli veya sertifikanın varsa, bir anahtar kasası kaynak hello başvuran VM'yi taşıma hello şu anda desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-183">However, if you have a secret/certificate on hello VM that references a Key Vault resource, hello move is currently not supported.</span></span> <span data-ttu-id="0e7f1-184">yönergeler aşağıda Hello tooworkaround hello sorunu izin verir.</span><span class="sxs-lookup"><span data-stu-id="0e7f1-184">hello below instructions will allow you tooworkaround hello issue.</span></span> 

#### <a name="powershell"></a><span data-ttu-id="0e7f1-185">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0e7f1-185">PowerShell</span></span>
```powershell
$vm = Get-AzureRmVM -ResourceGroupName "MyRG" -Name "MyVM"
Remove-AzureRmVMSecret -VM $vm
Update-AzureRmVM -ResourceGroupName "MyRG" -VM $vm
```
#### <a name="azure-cli-20"></a><span data-ttu-id="0e7f1-186">Azure CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="0e7f1-186">Azure CLI 2.0</span></span>

```bash
az vm update -g "myrg" -n "myvm" --set osProfile.Secrets=[]
```
