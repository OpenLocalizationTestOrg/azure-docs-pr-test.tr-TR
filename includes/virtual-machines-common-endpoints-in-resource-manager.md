<span data-ttu-id="d5ae5-101">Azure uç noktaları yaklaşımı biraz Klasik ve Resource Manager dağıtım modelleri arasında farklı şekilde çalışır.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-101">The approach to Azure endpoints works a little differently between the Classic and Resource Manager deployment models.</span></span> <span data-ttu-id="d5ae5-102">Resource Manager dağıtım modelinde Vm'leriniz ve trafik akışını denetleme ağ filtreleri oluşturma esnekliğine sahip.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-102">In the Resource Manager deployment model, you now have the flexibility to create network filters that control the flow of traffic in and out of your VMs.</span></span> <span data-ttu-id="d5ae5-103">Bu filtreler Klasik dağıtım modeli olduğu gibi basit bir uç noktası ötesinde karmaşık ağ ortamları oluşturmanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-103">These filters allow you to create complex networking environments beyond a simple endpoint as in the Classic deployment model.</span></span> <span data-ttu-id="d5ae5-104">Bu makalede, ağ güvenlik grupları ve nasıl Klasik uç noktaları, bunlar filtreleme kuralları, oluşturma kullanmaktan farklı ve örnek dağıtım senaryolarına genel bakış sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-104">This article provides an overview of Network Security Groups and how they differ from using Classic endpoints, creating these filtering rules, and sample deployment scenarios.</span></span>

## <a name="overview-of-resource-manager-deployments"></a><span data-ttu-id="d5ae5-105">Resource Manager dağıtımları genel bakış</span><span class="sxs-lookup"><span data-stu-id="d5ae5-105">Overview of Resource Manager deployments</span></span>
<span data-ttu-id="d5ae5-106">Uç noktaları Klasik dağıtım modelinde, ağ güvenlik grupları ve erişim denetimi listesi (ACL) kuralları tarafından değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-106">Endpoints in the Classic deployment model are replaced by Network Security Groups and access control list (ACL) rules.</span></span> <span data-ttu-id="d5ae5-107">Ağ güvenlik grubu ACL kuralları uygulamak için hızlı adımlar şunlardır:</span><span class="sxs-lookup"><span data-stu-id="d5ae5-107">Quick steps for implementing Network Security Group ACL rules are:</span></span>

* <span data-ttu-id="d5ae5-108">Ağ güvenlik grubu oluşturun.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-108">Create a Network Security Group.</span></span>
* <span data-ttu-id="d5ae5-109">İzin verilen veya reddedilen trafiği için ağ güvenlik grubu ACL kuralları tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-109">To allow or deny traffic, define your Network Security Group ACL rules.</span></span>
* <span data-ttu-id="d5ae5-110">Bir ağ arabirimi veya sanal ağ alt ağ güvenlik grubu atayın.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-110">Assign your Network Security Group to a network interface or virtual network subnet.</span></span>

<span data-ttu-id="d5ae5-111">Ayrıca bağlantı noktası iletme gerçekleştirmek isteyen, bir yük dengeleyici, VM önüne yerleştirin ve NAT kuralları kullanmak üzere gerekir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-111">If you are wanting to also perform port-forwarding, you need to place a load balancer in front of your VM and use NAT rules.</span></span> <span data-ttu-id="d5ae5-112">Bir yük dengeleyici ve NAT kurallarını uygulamak için hızlı adımlar aşağıdaki gibi olur:</span><span class="sxs-lookup"><span data-stu-id="d5ae5-112">Quick steps for implementing a load balancer and NAT rules would be as follows:</span></span>

* <span data-ttu-id="d5ae5-113">Bir yük dengeleyicisi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-113">Create a load balancer.</span></span>
* <span data-ttu-id="d5ae5-114">Bir arka uç havuzu oluşturun ve Vm'lerinizi havuzuna ekleyin.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-114">Create a backend pool and add your VMs to the pool.</span></span>
* <span data-ttu-id="d5ae5-115">Gerekli bağlantı noktası iletme için NAT kuralları tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-115">Define your NAT rules for the required port forwarding.</span></span>
* <span data-ttu-id="d5ae5-116">NAT kuralları, Vm'lere atayın.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-116">Assign your NAT rules to your VMs.</span></span>

## <a name="network-security-group-overview"></a><span data-ttu-id="d5ae5-117">Ağ güvenlik grubu genel bakış</span><span class="sxs-lookup"><span data-stu-id="d5ae5-117">Network Security Group overview</span></span>
<span data-ttu-id="d5ae5-118">Ağ güvenlik grupları, belirli bağlantı noktalarını ve alt ağları Vm'leriniz erişmesine izin vermek bir güvenlik katmanı sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-118">Network Security Groups provide a layer of security for you to allow specific ports and subnets to access your VMs.</span></span> <span data-ttu-id="d5ae5-119">Genellikle her zaman bu Vm'leriniz ve dış dünya arasında güvenlik katmanı sağlayarak bir ağ güvenlik grubu sahip.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-119">You typically always have a Network Security Group providing this layer of security between your VMs and the outside world.</span></span> <span data-ttu-id="d5ae5-120">Ağ güvenlik grupları için bir VM sanal ağ alt ağı veya belirli ağ arabirimi için uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-120">Network Security Groups can be applied to a virtual network subnet or a specific network interface for a VM.</span></span> <span data-ttu-id="d5ae5-121">Uç nokta ACL kuralları oluşturmak yerine, ağ güvenlik grubu ACL kuralları şimdi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-121">Rather than creating endpoint ACL rules, you now create Network Security Group ACL rules.</span></span> <span data-ttu-id="d5ae5-122">Bu ACL kuralları yalnızca belirli bir bağlantı noktasını iletmek için bir uç nokta oluşturma daha çok daha fazla denetim sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-122">These ACL rules provide much greater control than simply creating an endpoint to forward a given port.</span></span> <span data-ttu-id="d5ae5-123">Daha fazla bilgi için bkz: [bir ağ güvenlik grubu nedir?](../articles/virtual-network/virtual-networks-nsg.md)</span><span class="sxs-lookup"><span data-stu-id="d5ae5-123">For more information, see [What is a Network Security Group?](../articles/virtual-network/virtual-networks-nsg.md)</span></span>

> [!TIP]
> <span data-ttu-id="d5ae5-124">Birden çok alt ağları veya ağ arabirimleri için ağ güvenlik grupları atayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-124">You can assign Network Security Groups to multiple subnets or network interfaces.</span></span> <span data-ttu-id="d5ae5-125">1:1 eşlemesi yok.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-125">There is no 1:1 mapping.</span></span> <span data-ttu-id="d5ae5-126">ACL kuralları ortak bir dizi ağ güvenlik grubu oluşturun ve birden çok alt ağları veya ağ arabirimleri için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-126">You can create a Network Security Group with a common set of ACL rules and apply to multiple subnets or network interfaces.</span></span> <span data-ttu-id="d5ae5-127">Aboneliğinizi arasında daha fazla ağ güvenlik grubu kaynaklara uygulanabilir (temel [rol tabanlı erişim denetimlerini](../articles/active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="d5ae5-127">Further, Network Security Group can be applied to resources across your subscription (based on [Role Based Access Controls](../articles/active-directory/role-based-access-control-what-is.md).</span></span>

## <a name="load-balancers-overview"></a><span data-ttu-id="d5ae5-128">Yük Dengeleyici genel bakış</span><span class="sxs-lookup"><span data-stu-id="d5ae5-128">Load Balancers overview</span></span>
<span data-ttu-id="d5ae5-129">Azure Klasik dağıtım modelinde, tüm ağ adresi çevirisi (NAT) ve bağlantı noktası sizin için bir bulut hizmetinde iletme gerçekleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-129">In the Classic deployment model, Azure would perform all the Network Address Translation (NAT) and port forwarding on a Cloud Service for you.</span></span> <span data-ttu-id="d5ae5-130">Bir uç nokta oluştururken, trafiği yönlendirmek için dahili bağlantı noktası ile birlikte kullanıma sunmak için dış bağlantı noktasını belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-130">When creating an endpoint, you would specify the external port to expose along with the internal port to direct traffic to.</span></span> <span data-ttu-id="d5ae5-131">Ağ güvenlik grupları kendileri tarafından bu aynı NAT ve bağlantı noktası iletme gerçekleştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-131">Network Security Groups by themselves do not perform this same NAT and port forwarding.</span></span> 

<span data-ttu-id="d5ae5-132">İletme gibi bağlantı noktası için NAT kuralları oluşturmanıza izin vermek için Azure yük dengeleyici kaynak grubunuzdaki oluşturun.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-132">To allow you to create NAT rules for such port forwarding, create an Azure load balancer in your resource group.</span></span> <span data-ttu-id="d5ae5-133">Yine, yük dengeleyici yalnızca belirli VM'ler gerekirse uygulamak için ayrıntılı.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-133">Again, the load balancer is granular enough to only apply to specific VMs if needed.</span></span> <span data-ttu-id="d5ae5-134">Daha fazla esneklik ve bulut Hizmeti uç noktalarını kullanarak ulaşılabilir olandan denetim sağlamak için ağ güvenlik grubu ACL kuralları yanı sıra Azure yük dengeleyici NAT kuralları çalışır.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-134">The Azure load balancer NAT rules work alongside Network Security Group ACL rules to provide much more flexibility and control than was achievable using Cloud Service endpoints.</span></span> <span data-ttu-id="d5ae5-135">Daha fazla bilgi için bkz: [yük dengeleyici genel bakış](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d5ae5-135">For more information, see the [load balancer overview](../articles/load-balancer/load-balancer-overview.md).</span></span>

## <a name="network-security-group-acl-rules"></a><span data-ttu-id="d5ae5-136">Ağ güvenlik grubu ACL kuralları</span><span class="sxs-lookup"><span data-stu-id="d5ae5-136">Network Security Group ACL rules</span></span>
<span data-ttu-id="d5ae5-137">ACL kuralları, hangi trafik ve belirli bağlantı noktaları, bağlantı noktası aralıkları veya protokolleri göre VM dışındaki akabilir tanımlamanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-137">ACL rules let you define what traffic can flow in and out of your VM based on specific ports, port ranges, or protocols.</span></span> <span data-ttu-id="d5ae5-138">Kuralları tek tek sanal makineleri veya bir alt ağa atanır.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-138">Rules are assigned to individual VMs or to a subnet.</span></span> <span data-ttu-id="d5ae5-139">Aşağıdaki ekran görüntüsünde, ortak bir Web sunucusu için ACL kuralları örneğidir:</span><span class="sxs-lookup"><span data-stu-id="d5ae5-139">The following screenshot is an example of ACL rules for a common webserver:</span></span>

![Ağ güvenlik grubu listesinde ACL kuralları](./media/virtual-machines-common-endpoints-in-resource-manager/example-acl-rules.png)

<span data-ttu-id="d5ae5-141">ACL kuralları belirttiğiniz - öncelik ölçüm değer arttıkça, düşük önceliğe göre uygulanır.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-141">ACL rules are applied based on a priority metric that you specify - the higher the value, the lower the priority.</span></span> <span data-ttu-id="d5ae5-142">Her ağ güvenlik grubu açık bir ile Azure ağ trafiği akışını işlemek üzere tasarlanmış üç varsayılan kuralları sahip `DenyAllInbound` son bir kural olarak.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-142">Every Network Security Group has three default rules that are designed to handle the flow of Azure networking traffic, with an explicit `DenyAllInbound` as the final rule.</span></span> <span data-ttu-id="d5ae5-143">Varsayılan ACL kuralları oluşturduğunuz kurallar ile etkileşime değil düşük bir öncelik verilir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-143">Default ACL rules are given a low priority to not interfere with rules you create.</span></span>

## <a name="assigning-network-security-groups"></a><span data-ttu-id="d5ae5-144">Ağ güvenlik grupları atama</span><span class="sxs-lookup"><span data-stu-id="d5ae5-144">Assigning Network Security Groups</span></span>
<span data-ttu-id="d5ae5-145">Bir alt ağ veya ağ arabirimi için ağ güvenlik grubu atayın.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-145">You assign a Network Security Group to a subnet or a network interface.</span></span> <span data-ttu-id="d5ae5-146">Bu yaklaşım, ACL kuralları yalnızca belirli bir VM'yi uygularken gerektiği gibi ayrıntılı veya ACL kuralları ortak bir dizi tüm sanal makineleri bir alt ağın parçası için uygulanan olun sağlar:</span><span class="sxs-lookup"><span data-stu-id="d5ae5-146">This approach allows you to be as granular as needed when applying your ACL rules to only a specific VM, or ensure a common set of ACL rules are applied to all VMs part of a subnet:</span></span>

![Nsg'leri ağ arabirimlerine veya alt ağlar için geçerlidir](./media/virtual-machines-common-endpoints-in-resource-manager/apply-nsg-to-resources.png)

<span data-ttu-id="d5ae5-148">Ağ güvenlik grubu davranışını bir alt ağ veya ağ arabirimi atanan bağlı olarak değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-148">The behavior of the Network Security Group doesn't change depending on being assigned to a subnet or a network interface.</span></span> <span data-ttu-id="d5ae5-149">Yaygın bir dağıtım senaryo o alt ağına bağlı tüm VM'lerin uyumluluğu sağlamak için bir alt ağa atanan ağ güvenlik grubu vardır.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-149">A common deployment scenario has the Network Security Group assigned to a subnet to ensure compliance of all VMs attached to that subnet.</span></span> <span data-ttu-id="d5ae5-150">Daha fazla bilgi için bkz: [kaynaklar için ağ güvenlik grupları uygulama](../articles/virtual-network/virtual-networks-nsg.md#associating-nsgs).</span><span class="sxs-lookup"><span data-stu-id="d5ae5-150">For more information, see [applying Network Security groups to resources](../articles/virtual-network/virtual-networks-nsg.md#associating-nsgs).</span></span>

## <a name="default-behavior-of-network-security-groups"></a><span data-ttu-id="d5ae5-151">Ağ güvenlik grupları varsayılan davranışı</span><span class="sxs-lookup"><span data-stu-id="d5ae5-151">Default behavior of Network Security Groups</span></span>
<span data-ttu-id="d5ae5-152">Nasıl ve ne zaman, ağ güvenlik grubu oluşturma bağlı olarak, TCP bağlantı noktası 3389 üzerinde RDP erişimine izin vermek üzere Windows VM'ler için varsayılan kuralları oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-152">Depending on how and when you create your Network Security Group, default rules may be created for Windows VMs to permit RDP access on TCP port 3389.</span></span> <span data-ttu-id="d5ae5-153">Linux VM'ler için varsayılan kurallar, TCP bağlantı noktası 22 SSH erişimine.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-153">Default rules for Linux VMs permit SSH access on TCP port 22.</span></span> <span data-ttu-id="d5ae5-154">Bu otomatik ACL kuralları aşağıdaki koşullar altında oluşturulur:</span><span class="sxs-lookup"><span data-stu-id="d5ae5-154">These automatic ACL rules are created under the following conditions:</span></span>

* <span data-ttu-id="d5ae5-155">Bir Windows VM Portalı aracılığıyla oluşturma ve bir ağ güvenlik grubu oluşturmak için varsayılan eylem kabul ederseniz, TCP bağlantı noktası 3389 (RDP) izin veren bir ACL kuralı oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-155">If you create a Windows VM through the portal and accept the default action to create a Network Security Group, an ACL rule to allow TCP port 3389 (RDP) is created.</span></span>
* <span data-ttu-id="d5ae5-156">Portal üzerinden bir Linux VM oluşturun ve bir ağ güvenlik grubu oluşturmak için varsayılan eylem kabul ederseniz, TCP bağlantı noktası 22 (SSH) izin veren bir ACL kuralı oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-156">If you create a Linux VM through the portal and accept the default action to create a Network Security Group, an ACL rule to allow TCP port 22 (SSH) is created.</span></span>

<span data-ttu-id="d5ae5-157">Diğer tüm koşullar altında bu varsayılan ACL kuralları oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-157">Under all other conditions, these default ACL rules are not created.</span></span> <span data-ttu-id="d5ae5-158">Uygun ACL kuralları oluşturmadan VM'nize bağlanamıyor.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-158">You cannot connect to your VM without creating the appropriate ACL rules.</span></span> <span data-ttu-id="d5ae5-159">Bu koşullar aşağıdaki genel eylemler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="d5ae5-159">These conditions include the following common actions:</span></span>

* <span data-ttu-id="d5ae5-160">VM oluşturmak için ayrı bir eylem olarak portal üzerinden ağ güvenlik grubu oluşturuluyor.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-160">Creating a Network Security Group through the portal as a separate action to creating the VM.</span></span>
* <span data-ttu-id="d5ae5-161">Program aracılığıyla PowerShell, Azure CLI, Rest API'leri, vb. ile ağ güvenlik grubu oluşturuluyor.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-161">Creating a Network Security Group programmatically through PowerShell, Azure CLI, Rest APIs, etc.</span></span>
* <span data-ttu-id="d5ae5-162">Bir VM oluşturma ve var olan ağ güvenlik zaten tanımlı uygun ACL kuralı olmayan grubuna atama.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-162">Creating a VM and assigning it to an existing Network Security Group that does not already have the appropriate ACL rule defined.</span></span>

<span data-ttu-id="d5ae5-163">Tüm önceki durumlarda, uygun uzaktan yönetim bağlantılara izin vermek, VM için ACL kuralları oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-163">In all the preceding cases, you need to create ACL rules for your VM to allow the appropriate remote management connections.</span></span>

## <a name="default-behavior-of-a-vm-without-a-network-security-group"></a><span data-ttu-id="d5ae5-164">Ağ güvenlik grubu olmayan bir VM varsayılan davranışı</span><span class="sxs-lookup"><span data-stu-id="d5ae5-164">Default behavior of a VM without a Network Security Group</span></span>
<span data-ttu-id="d5ae5-165">Bir ağ güvenlik grubu oluşturmadan VM oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-165">You can create a VM without creating a Network Security Group.</span></span> <span data-ttu-id="d5ae5-166">Bu durumlarda, ACL kuralları oluşturmadan RDP veya SSH kullanarak VM bağlanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-166">In these situations, you can connect to your VM using RDP or SSH without creating any ACL rules.</span></span> <span data-ttu-id="d5ae5-167">Bağlantı noktası 80 üzerinde bir web hizmeti yüklü değilse, benzer şekilde, bu hizmeti uzaktan otomatik olarak erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-167">Similarly, if you installed a web service on port 80, that service is automatically accessible remotely.</span></span> <span data-ttu-id="d5ae5-168">VM tüm bağlantı noktalarının açık vardır.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-168">The VM has all ports open.</span></span>

> [!NOTE]
> <span data-ttu-id="d5ae5-169">Hala bir VM sırada tüm uzak bağlantılar için atanan genel bir IP adresi olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-169">You still need to have a public IP address assigned to a VM in order for any remote connections.</span></span> <span data-ttu-id="d5ae5-170">Alt ağ veya ağ arabirimi için ağ güvenlik grubu olmaması, herhangi bir dış trafiği VM'ye açığa çıkarmıyor.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-170">Not having a Network Security Group for the subnet or network interface doesn't expose the VM to any external traffic.</span></span> <span data-ttu-id="d5ae5-171">Yeni bir genel IP Portalı aracılığıyla bir VM oluştururken, varsayılan eylem oluşturulmasıdır.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-171">The default action when creating a VM through the portal is to create a new public IP.</span></span> <span data-ttu-id="d5ae5-172">PowerShell, Azure CLI veya Resource Manager şablonu gibi bir VM oluşturma tüm diğer formları için bir ortak IP otomatik olarak açıkça istenen sürece oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-172">For all other forms of creating a VM such as PowerShell, Azure CLI, or Resource Manager template, a public IP is not automatically created unless explicitly requested.</span></span> <span data-ttu-id="d5ae5-173">Ayrıca varsayılan eylem portal üzerinden bir ağ güvenlik grubu oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-173">The default action through the portal is also to create a Network Security Group.</span></span> <span data-ttu-id="d5ae5-174">Bu varsayılan eylem, yerinde filtreleme hiçbir ağ sahip kullanıma sunulan bir VM ile bir durumda şunun döndürmemelidir anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-174">This default action means you shouldn't end up in a situation with an exposed VM that has no network filtering in place.</span></span>

## <a name="understanding-load-balancers-and-nat-rules"></a><span data-ttu-id="d5ae5-175">Yük Dengeleyici ve NAT kurallarını anlama</span><span class="sxs-lookup"><span data-stu-id="d5ae5-175">Understanding Load Balancers and NAT rules</span></span>
<span data-ttu-id="d5ae5-176">Klasik dağıtım modeli de bağlantı noktası iletme gerçekleştirilen uç noktaları oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-176">In the Classic deployment model, you could create endpoints that also performed port forwarding.</span></span> <span data-ttu-id="d5ae5-177">Klasik dağıtım modelinde bir VM oluştururken RDP veya SSH için ACL kuralları otomatik olarak oluşturulan.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-177">When you create a VM in the Classic deployment model, ACL rules for RDP or SSH would be automatically created.</span></span> <span data-ttu-id="d5ae5-178">Bu kurallar, TCP bağlantı noktası 3389 veya TCP bağlantı noktası 22 sırasıyla dış dünya etkilenmez.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-178">These rules would not expose TCP port 3389 or TCP port 22 respectively to the outside world.</span></span> <span data-ttu-id="d5ae5-179">Bunun yerine, bir yüksek değerli TCP bağlantı noktası uygun iç bağlantı noktasına eşlenen açık.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-179">Instead, a high-value TCP port would be exposed that maps to the appropriate internal port.</span></span> <span data-ttu-id="d5ae5-180">Benzer şekilde, sunmaya TCP bağlantı noktası 4280 dış dünya üzerindeki bir Web sunucusu gibi kendi ACL kuralları da oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-180">You could also create your own ACL rules in a similar manner, such as expose a webserver on TCP port 4280 to the outside world.</span></span> <span data-ttu-id="d5ae5-181">Bu ACL kuralları ve bağlantı noktası eşlemelerini Klasik Portalı'ndan aşağıdaki ekran görüntüsünde görebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="d5ae5-181">You can see these ACL rules and port mappings in the following screenshot from the Classic portal:</span></span>

![Bağlantı noktası iletme Klasik uç noktaları](./media/virtual-machines-common-endpoints-in-resource-manager/classic-endpoints-port-forwarding.png)

<span data-ttu-id="d5ae5-183">Ağ güvenlik gruplarıyla, bu bağlantı noktası iletme işlevi bir yük dengeleyici tarafından işlenir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-183">With Network Security Groups, that port-forwarding function is handled by a load balancer.</span></span> <span data-ttu-id="d5ae5-184">Daha fazla bilgi için bkz: [yük dengeleyici azure'da](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d5ae5-184">For more information, see [load balancers in Azure](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="d5ae5-185">Aşağıdaki örnek, bir VM iç TCP bağlantı noktası 22 bağlantı noktası iletme TCP bağlantı noktası 4222 gerçekleştirmek için NAT kuralı ile bir yük dengeleyici gösterir:</span><span class="sxs-lookup"><span data-stu-id="d5ae5-185">The following example shows a load balancer with a NAT rule to perform port-forwarding TCP port 4222 to the internal TCP port 22 a VM:</span></span>

![Yük Dengeleyici NAT kuralları için bağlantı noktası iletme](./media/virtual-machines-common-endpoints-in-resource-manager/load-balancer-nat-rules.png)

> [!NOTE]
> <span data-ttu-id="d5ae5-187">Bir yük dengeleyici uyguladığınızda, genellikle bir genel IP adresi VM atamayın.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-187">When you implement a load balancer, you typically don't assign the VM itself a public IP address.</span></span> <span data-ttu-id="d5ae5-188">Bunun yerine, yük dengeleyici kendisine atanmış bir ortak IP adresi vardır.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-188">Instead, the load balancer has a public IP address assigned to it.</span></span> <span data-ttu-id="d5ae5-189">Hala VM'nizi ve trafik akışını tanımlamak için ağ güvenlik grubu ve ACL kuralları oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-189">You still need to create your Network Security Group and ACL rules to define the flow of traffic in and out of your VM.</span></span> <span data-ttu-id="d5ae5-190">Yük Dengeleyici NAT kuralları yalnızca yük dengeleyici üzerinden hangi bağlantı noktalarına izin verilir ve bunlar VM'ler arka uç arasında nasıl dağıtılmış tanımlayın üzeresiniz.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-190">The load balancer NAT rules are simply to define what ports are allowed through the load balancer and how they get distributed across the backend VMs.</span></span> <span data-ttu-id="d5ae5-191">Bu nedenle, yük dengeleyici üzerinden akışına için NAT kuralı oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-191">As such, you need to create a NAT rule for traffic to flow through the load balancer.</span></span> <span data-ttu-id="d5ae5-192">VM ulaşmak trafiğe izin veren bir ağ güvenlik grubu ACL kuralı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="d5ae5-192">To allow the traffic to reach the VM, create a Network Security Group ACL rule.</span></span>
