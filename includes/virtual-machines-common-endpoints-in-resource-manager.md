<span data-ttu-id="1cc8d-101">Merhaba yaklaşım tooAzure uç noktaları çalışır biraz farklı şekilde hello Klasik ve Resource Manager dağıtım modelleri arasında.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-101">hello approach tooAzure endpoints works a little differently between hello Classic and Resource Manager deployment models.</span></span> <span data-ttu-id="1cc8d-102">Hello Resource Manager dağıtım modelinde hello Vm'leriniz ve trafik akışını denetleme hello esneklik toocreate ağ filtreleri sahip.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-102">In hello Resource Manager deployment model, you now have hello flexibility toocreate network filters that control hello flow of traffic in and out of your VMs.</span></span> <span data-ttu-id="1cc8d-103">Bu filtreler toocreate karmaşık ağ ortamları hello Klasik dağıtım modeli olduğu gibi basit bir uç noktası ötesinde izin verin.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-103">These filters allow you toocreate complex networking environments beyond a simple endpoint as in hello Classic deployment model.</span></span> <span data-ttu-id="1cc8d-104">Bu makalede, ağ güvenlik grupları ve nasıl Klasik uç noktaları, bunlar filtreleme kuralları, oluşturma kullanmaktan farklı ve örnek dağıtım senaryolarına genel bakış sağlar.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-104">This article provides an overview of Network Security Groups and how they differ from using Classic endpoints, creating these filtering rules, and sample deployment scenarios.</span></span>

## <a name="overview-of-resource-manager-deployments"></a><span data-ttu-id="1cc8d-105">Resource Manager dağıtımları genel bakış</span><span class="sxs-lookup"><span data-stu-id="1cc8d-105">Overview of Resource Manager deployments</span></span>
<span data-ttu-id="1cc8d-106">Uç noktaları hello Klasik dağıtım modelinde ağ güvenlik grupları tarafından değiştirilir ve erişim denetimi listesi (ACL) kuralları.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-106">Endpoints in hello Classic deployment model are replaced by Network Security Groups and access control list (ACL) rules.</span></span> <span data-ttu-id="1cc8d-107">Ağ güvenlik grubu ACL kuralları uygulamak için hızlı adımlar şunlardır:</span><span class="sxs-lookup"><span data-stu-id="1cc8d-107">Quick steps for implementing Network Security Group ACL rules are:</span></span>

* <span data-ttu-id="1cc8d-108">Ağ güvenlik grubu oluşturun.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-108">Create a Network Security Group.</span></span>
* <span data-ttu-id="1cc8d-109">tooallow veya trafiği reddetmeye, ağ güvenlik grubu ACL kuralları tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-109">tooallow or deny traffic, define your Network Security Group ACL rules.</span></span>
* <span data-ttu-id="1cc8d-110">Ağ güvenlik grubu tooa ağ arabirimi veya sanal ağ alt atayın.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-110">Assign your Network Security Group tooa network interface or virtual network subnet.</span></span>

<span data-ttu-id="1cc8d-111">Tooalso isteyen bağlantı noktası iletme gerçekleştirmek, VM'yi önünde tooplace bir yük dengeleyici gerekir ve NAT kurallarını kullanın.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-111">If you are wanting tooalso perform port-forwarding, you need tooplace a load balancer in front of your VM and use NAT rules.</span></span> <span data-ttu-id="1cc8d-112">Bir yük dengeleyici ve NAT kurallarını uygulamak için hızlı adımlar aşağıdaki gibi olur:</span><span class="sxs-lookup"><span data-stu-id="1cc8d-112">Quick steps for implementing a load balancer and NAT rules would be as follows:</span></span>

* <span data-ttu-id="1cc8d-113">Bir yük dengeleyicisi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-113">Create a load balancer.</span></span>
* <span data-ttu-id="1cc8d-114">Bir arka uç havuzu oluşturabilir ve Vm'leri toohello havuzunuzun ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-114">Create a backend pool and add your VMs toohello pool.</span></span>
* <span data-ttu-id="1cc8d-115">Merhaba gerekli bağlantı noktası iletme için NAT kuralları tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-115">Define your NAT rules for hello required port forwarding.</span></span>
* <span data-ttu-id="1cc8d-116">NAT kuralları tooyour VM'ler atayın.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-116">Assign your NAT rules tooyour VMs.</span></span>

## <a name="network-security-group-overview"></a><span data-ttu-id="1cc8d-117">Ağ güvenlik grubu genel bakış</span><span class="sxs-lookup"><span data-stu-id="1cc8d-117">Network Security Group overview</span></span>
<span data-ttu-id="1cc8d-118">Ağ güvenlik grupları, tooallow belirli bağlantı noktaları için bir güvenlik katmanı ve alt ağları tooaccess Vm'leriniz sağlar.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-118">Network Security Groups provide a layer of security for you tooallow specific ports and subnets tooaccess your VMs.</span></span> <span data-ttu-id="1cc8d-119">Genellikle her zaman bu VM'ler ve hello world dışında arasında güvenlik katmanı sağlayarak bir ağ güvenlik grubu sahip.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-119">You typically always have a Network Security Group providing this layer of security between your VMs and hello outside world.</span></span> <span data-ttu-id="1cc8d-120">Ağ güvenlik grupları uygulanan tooa sanal ağ alt ağı veya belirli bir ağ arabiriminde bir VM için olabilir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-120">Network Security Groups can be applied tooa virtual network subnet or a specific network interface for a VM.</span></span> <span data-ttu-id="1cc8d-121">Uç nokta ACL kuralları oluşturmak yerine, ağ güvenlik grubu ACL kuralları şimdi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-121">Rather than creating endpoint ACL rules, you now create Network Security Group ACL rules.</span></span> <span data-ttu-id="1cc8d-122">Bu ACL kuralları yalnızca bir uç nokta tooforward verilen bağlantı noktası oluşturma daha çok daha fazla denetim sağlar.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-122">These ACL rules provide much greater control than simply creating an endpoint tooforward a given port.</span></span> <span data-ttu-id="1cc8d-123">Daha fazla bilgi için bkz: [bir ağ güvenlik grubu nedir?](../articles/virtual-network/virtual-networks-nsg.md)</span><span class="sxs-lookup"><span data-stu-id="1cc8d-123">For more information, see [What is a Network Security Group?](../articles/virtual-network/virtual-networks-nsg.md)</span></span>

> [!TIP]
> <span data-ttu-id="1cc8d-124">Ağ güvenlik grupları toomultiple alt ağ veya ağ arabirimleri atayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-124">You can assign Network Security Groups toomultiple subnets or network interfaces.</span></span> <span data-ttu-id="1cc8d-125">1:1 eşlemesi yok.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-125">There is no 1:1 mapping.</span></span> <span data-ttu-id="1cc8d-126">ACL kuralları ortak bir dizi ağ güvenlik grubu oluşturun ve toomultiple alt ağ veya ağ arabirimleri uygulayın.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-126">You can create a Network Security Group with a common set of ACL rules and apply toomultiple subnets or network interfaces.</span></span> <span data-ttu-id="1cc8d-127">Ayrıca, ağ güvenlik grubu uygulanan tooresources aboneliğinizi arasında olabilir (temel [rol tabanlı erişim denetimlerini](../articles/active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="1cc8d-127">Further, Network Security Group can be applied tooresources across your subscription (based on [Role Based Access Controls](../articles/active-directory/role-based-access-control-what-is.md).</span></span>

## <a name="load-balancers-overview"></a><span data-ttu-id="1cc8d-128">Yük Dengeleyici genel bakış</span><span class="sxs-lookup"><span data-stu-id="1cc8d-128">Load Balancers overview</span></span>
<span data-ttu-id="1cc8d-129">Merhaba Klasik dağıtım modelinde Azure tüm hello ağ adresi çevirisi (NAT) gerçekleştirmek ve sizin için bir bulut hizmeti üzerinde iletme bağlantı noktası.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-129">In hello Classic deployment model, Azure would perform all hello Network Address Translation (NAT) and port forwarding on a Cloud Service for you.</span></span> <span data-ttu-id="1cc8d-130">Bir uç nokta oluştururken hello dış bağlantı noktası tooexpose hello iç bağlantı noktası toodirect trafiği için birlikte belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-130">When creating an endpoint, you would specify hello external port tooexpose along with hello internal port toodirect traffic to.</span></span> <span data-ttu-id="1cc8d-131">Ağ güvenlik grupları kendileri tarafından bu aynı NAT ve bağlantı noktası iletme gerçekleştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-131">Network Security Groups by themselves do not perform this same NAT and port forwarding.</span></span> 

<span data-ttu-id="1cc8d-132">tooallow toocreate NAT kuralları iletme, bu tür bağlantı noktası için oluşturduğunuz Azure yük dengeleyici kaynak grubunda.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-132">tooallow you toocreate NAT rules for such port forwarding, create an Azure load balancer in your resource group.</span></span> <span data-ttu-id="1cc8d-133">Yeniden hello yük dengeleyici ayrıntılı yeterli tooonly gerekirse toospecific VM'ler uygulayın.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-133">Again, hello load balancer is granular enough tooonly apply toospecific VMs if needed.</span></span> <span data-ttu-id="1cc8d-134">Daha fazla esneklik ve bulut Hizmeti uç noktalarını kullanarak ulaşılabilir olandan denetim Hello Azure yük dengeleyici NAT kuralları iş ağ güvenlik grubu ACL kuralları tooprovide yanında.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-134">hello Azure load balancer NAT rules work alongside Network Security Group ACL rules tooprovide much more flexibility and control than was achievable using Cloud Service endpoints.</span></span> <span data-ttu-id="1cc8d-135">Daha fazla bilgi için bkz: Merhaba [yük dengeleyici genel bakış](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1cc8d-135">For more information, see hello [load balancer overview](../articles/load-balancer/load-balancer-overview.md).</span></span>

## <a name="network-security-group-acl-rules"></a><span data-ttu-id="1cc8d-136">Ağ güvenlik grubu ACL kuralları</span><span class="sxs-lookup"><span data-stu-id="1cc8d-136">Network Security Group ACL rules</span></span>
<span data-ttu-id="1cc8d-137">ACL kuralları, hangi trafik ve belirli bağlantı noktaları, bağlantı noktası aralıkları veya protokolleri göre VM dışındaki akabilir tanımlamanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-137">ACL rules let you define what traffic can flow in and out of your VM based on specific ports, port ranges, or protocols.</span></span> <span data-ttu-id="1cc8d-138">Kuralları tooindividual VM'ler veya tooa alt atanır.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-138">Rules are assigned tooindividual VMs or tooa subnet.</span></span> <span data-ttu-id="1cc8d-139">Ekran aşağıdaki Merhaba, ortak bir Web sunucusu için ACL kuralları örneğidir:</span><span class="sxs-lookup"><span data-stu-id="1cc8d-139">hello following screenshot is an example of ACL rules for a common webserver:</span></span>

![Ağ güvenlik grubu listesinde ACL kuralları](./media/virtual-machines-common-endpoints-in-resource-manager/example-acl-rules.png)

<span data-ttu-id="1cc8d-141">ACL kuralları belirttiğiniz - öncelik ölçüm hello yüksek hello değeri, hello düşük hello önceliği göre uygulanır.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-141">ACL rules are applied based on a priority metric that you specify - hello higher hello value, hello lower hello priority.</span></span> <span data-ttu-id="1cc8d-142">Her ağ güvenlik grubu üç varsayılan sahip olan kuralları tasarlanmış toohandle hello açık bir ile Azure ağ trafiği akışını `DenyAllInbound` hello son bir kural olarak.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-142">Every Network Security Group has three default rules that are designed toohandle hello flow of Azure networking traffic, with an explicit `DenyAllInbound` as hello final rule.</span></span> <span data-ttu-id="1cc8d-143">Varsayılan ACL kuralları olan bir düşük öncelik toonot müdahale oluşturduğunuz kurallar.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-143">Default ACL rules are given a low priority toonot interfere with rules you create.</span></span>

## <a name="assigning-network-security-groups"></a><span data-ttu-id="1cc8d-144">Ağ güvenlik grupları atama</span><span class="sxs-lookup"><span data-stu-id="1cc8d-144">Assigning Network Security Groups</span></span>
<span data-ttu-id="1cc8d-145">Bir ağ güvenlik grubu tooa alt ağ veya ağ arabirimi atayın.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-145">You assign a Network Security Group tooa subnet or a network interface.</span></span> <span data-ttu-id="1cc8d-146">Bu yaklaşım toobe tooonly belirli bir VM'de, ACL uygulama kuralları zaman gerektiği gibi ayrıntılı sağlar ya da ortak olun ACL uygulanan tooall bir alt ağın parçası VM'ler kurallar şunlardır:</span><span class="sxs-lookup"><span data-stu-id="1cc8d-146">This approach allows you toobe as granular as needed when applying your ACL rules tooonly a specific VM, or ensure a common set of ACL rules are applied tooall VMs part of a subnet:</span></span>

![Nsg'ler toonetwork arabirimleri veya alt Uygula](./media/virtual-machines-common-endpoints-in-resource-manager/apply-nsg-to-resources.png)

<span data-ttu-id="1cc8d-148">Ağ güvenlik grubu hello Hello davranışını tooa alt ağı veya bir ağ arabirimine atanmış bağlı olarak değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-148">hello behavior of hello Network Security Group doesn't change depending on being assigned tooa subnet or a network interface.</span></span> <span data-ttu-id="1cc8d-149">Ortak dağıtım senaryosu tooa alt tooensure uyumluluk tüm VM'ler ekli toothat alt ağın ağ güvenlik grubu atanan hello sahiptir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-149">A common deployment scenario has hello Network Security Group assigned tooa subnet tooensure compliance of all VMs attached toothat subnet.</span></span> <span data-ttu-id="1cc8d-150">Daha fazla bilgi için bkz: [ağ güvenliği uygulama grupları tooresources](../articles/virtual-network/virtual-networks-nsg.md#associating-nsgs).</span><span class="sxs-lookup"><span data-stu-id="1cc8d-150">For more information, see [applying Network Security groups tooresources](../articles/virtual-network/virtual-networks-nsg.md#associating-nsgs).</span></span>

## <a name="default-behavior-of-network-security-groups"></a><span data-ttu-id="1cc8d-151">Ağ güvenlik grupları varsayılan davranışı</span><span class="sxs-lookup"><span data-stu-id="1cc8d-151">Default behavior of Network Security Groups</span></span>
<span data-ttu-id="1cc8d-152">Nasıl ve ne zaman, ağ güvenlik grubu oluşturma bağlı olarak, Windows Vm'lerini toopermit RDP erişim 3389 numaralı TCP bağlantı noktası için varsayılan kuralları oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-152">Depending on how and when you create your Network Security Group, default rules may be created for Windows VMs toopermit RDP access on TCP port 3389.</span></span> <span data-ttu-id="1cc8d-153">Linux VM'ler için varsayılan kurallar, TCP bağlantı noktası 22 SSH erişimine.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-153">Default rules for Linux VMs permit SSH access on TCP port 22.</span></span> <span data-ttu-id="1cc8d-154">Bu otomatik ACL kuralları koşullar aşağıdaki hello altında oluşturulur:</span><span class="sxs-lookup"><span data-stu-id="1cc8d-154">These automatic ACL rules are created under hello following conditions:</span></span>

* <span data-ttu-id="1cc8d-155">Bir Windows VM hello Portalı aracılığıyla oluşturma ve hello varsayılan eylem toocreate bir ağ güvenlik grubu kabul ederseniz, bir ACL kuralı tooallow TCP bağlantı noktası'nın 3389 (RDP) oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-155">If you create a Windows VM through hello portal and accept hello default action toocreate a Network Security Group, an ACL rule tooallow TCP port 3389 (RDP) is created.</span></span>
* <span data-ttu-id="1cc8d-156">Merhaba portal aracılığıyla bir Linux VM oluşturma ve hello varsayılan eylem toocreate bir ağ güvenlik grubu kabul ederseniz, bir ACL kuralı tooallow TCP bağlantı noktası'nın 22 (SSH) oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-156">If you create a Linux VM through hello portal and accept hello default action toocreate a Network Security Group, an ACL rule tooallow TCP port 22 (SSH) is created.</span></span>

<span data-ttu-id="1cc8d-157">Diğer tüm koşullar altında bu varsayılan ACL kuralları oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-157">Under all other conditions, these default ACL rules are not created.</span></span> <span data-ttu-id="1cc8d-158">Uygun ACL kuralları hello oluşturmadan tooyour VM bağlanamıyor.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-158">You cannot connect tooyour VM without creating hello appropriate ACL rules.</span></span> <span data-ttu-id="1cc8d-159">Bu koşullar Genel eylemleri aşağıdaki hello şunlardır:</span><span class="sxs-lookup"><span data-stu-id="1cc8d-159">These conditions include hello following common actions:</span></span>

* <span data-ttu-id="1cc8d-160">Bir ağ güvenlik grubu hello portal üzerinden ayrı eylemi toocreating hello VM oluşturuluyor.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-160">Creating a Network Security Group through hello portal as a separate action toocreating hello VM.</span></span>
* <span data-ttu-id="1cc8d-161">Program aracılığıyla PowerShell, Azure CLI, Rest API'leri, vb. ile ağ güvenlik grubu oluşturuluyor.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-161">Creating a Network Security Group programmatically through PowerShell, Azure CLI, Rest APIs, etc.</span></span>
* <span data-ttu-id="1cc8d-162">Bir VM oluşturma ve önceden tanımlanmış hello uygun ACL kuralı yok ağ güvenlik grubu mevcut tooan atama.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-162">Creating a VM and assigning it tooan existing Network Security Group that does not already have hello appropriate ACL rule defined.</span></span>

<span data-ttu-id="1cc8d-163">Tüm hello durumlarda önceki toocreate ACL kuralları VM tooallow hello uygun uzak yönetim bağlantılarınız için gerekir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-163">In all hello preceding cases, you need toocreate ACL rules for your VM tooallow hello appropriate remote management connections.</span></span>

## <a name="default-behavior-of-a-vm-without-a-network-security-group"></a><span data-ttu-id="1cc8d-164">Ağ güvenlik grubu olmayan bir VM varsayılan davranışı</span><span class="sxs-lookup"><span data-stu-id="1cc8d-164">Default behavior of a VM without a Network Security Group</span></span>
<span data-ttu-id="1cc8d-165">Bir ağ güvenlik grubu oluşturmadan VM oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-165">You can create a VM without creating a Network Security Group.</span></span> <span data-ttu-id="1cc8d-166">Bu durumlarda tooyour VM bağlanabilir herhangi ACL kuralları oluşturmadan RDP veya SSH kullanarak.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-166">In these situations, you can connect tooyour VM using RDP or SSH without creating any ACL rules.</span></span> <span data-ttu-id="1cc8d-167">Bağlantı noktası 80 üzerinde bir web hizmeti yüklü değilse, benzer şekilde, bu hizmeti uzaktan otomatik olarak erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-167">Similarly, if you installed a web service on port 80, that service is automatically accessible remotely.</span></span> <span data-ttu-id="1cc8d-168">Merhaba VM tüm bağlantı noktalarının açık vardır.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-168">hello VM has all ports open.</span></span>

> [!NOTE]
> <span data-ttu-id="1cc8d-169">Yine toohave bir ortak IP adresi atanmış tooa VM tüm uzak bağlantılar için sırayla gerekir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-169">You still need toohave a public IP address assigned tooa VM in order for any remote connections.</span></span> <span data-ttu-id="1cc8d-170">Merhaba alt ağ veya ağ arabirimi için ağ güvenlik grubu olmamasından hello VM tooany dış trafiğin açığa çıkarmıyor.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-170">Not having a Network Security Group for hello subnet or network interface doesn't expose hello VM tooany external traffic.</span></span> <span data-ttu-id="1cc8d-171">Merhaba portal aracılığıyla bir VM oluşturulurken hello varsayılan toocreate yeni bir ortak IP eylemdir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-171">hello default action when creating a VM through hello portal is toocreate a new public IP.</span></span> <span data-ttu-id="1cc8d-172">PowerShell, Azure CLI veya Resource Manager şablonu gibi bir VM oluşturma tüm diğer formları için bir ortak IP otomatik olarak açıkça istenen sürece oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-172">For all other forms of creating a VM such as PowerShell, Azure CLI, or Resource Manager template, a public IP is not automatically created unless explicitly requested.</span></span> <span data-ttu-id="1cc8d-173">Merhaba varsayılan hello portal üzerinden de toocreate bir ağ güvenlik grubu eylemdir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-173">hello default action through hello portal is also toocreate a Network Security Group.</span></span> <span data-ttu-id="1cc8d-174">Bu varsayılan eylem, yerinde filtreleme hiçbir ağ sahip kullanıma sunulan bir VM ile bir durumda şunun döndürmemelidir anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-174">This default action means you shouldn't end up in a situation with an exposed VM that has no network filtering in place.</span></span>

## <a name="understanding-load-balancers-and-nat-rules"></a><span data-ttu-id="1cc8d-175">Yük Dengeleyici ve NAT kurallarını anlama</span><span class="sxs-lookup"><span data-stu-id="1cc8d-175">Understanding Load Balancers and NAT rules</span></span>
<span data-ttu-id="1cc8d-176">Merhaba Klasik dağıtım modelinde, ayrıca bağlantı noktası iletme gerçekleştirilen uç noktaları oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-176">In hello Classic deployment model, you could create endpoints that also performed port forwarding.</span></span> <span data-ttu-id="1cc8d-177">Merhaba Klasik dağıtım modelinde bir VM oluştururken RDP veya SSH için ACL kuralları otomatik olarak oluşturulan.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-177">When you create a VM in hello Classic deployment model, ACL rules for RDP or SSH would be automatically created.</span></span> <span data-ttu-id="1cc8d-178">Bu kurallar 3389 numaralı TCP bağlantı noktası veya TCP bağlantı noktası 22 sırasıyla etkilenmez toohello world dışında.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-178">These rules would not expose TCP port 3389 or TCP port 22 respectively toohello outside world.</span></span> <span data-ttu-id="1cc8d-179">Bunun yerine, bir yüksek değerli TCP bağlantı noktası toohello uygun dahili bağlantı noktası eşleşen açık.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-179">Instead, a high-value TCP port would be exposed that maps toohello appropriate internal port.</span></span> <span data-ttu-id="1cc8d-180">Benzer şekilde, kendi ACL kuralları da oluşturabilirsiniz, sunmaya gibi bir Web sunucusu numaralı TCP bağlantı noktası 4280 toohello world dışında.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-180">You could also create your own ACL rules in a similar manner, such as expose a webserver on TCP port 4280 toohello outside world.</span></span> <span data-ttu-id="1cc8d-181">Bu ACL kuralları ve bağlantı noktası eşlemelerini hello Klasik Portalı'ndan ekran aşağıdaki hello de görebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="1cc8d-181">You can see these ACL rules and port mappings in hello following screenshot from hello Classic portal:</span></span>

![Bağlantı noktası iletme Klasik uç noktaları](./media/virtual-machines-common-endpoints-in-resource-manager/classic-endpoints-port-forwarding.png)

<span data-ttu-id="1cc8d-183">Ağ güvenlik gruplarıyla, bu bağlantı noktası iletme işlevi bir yük dengeleyici tarafından işlenir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-183">With Network Security Groups, that port-forwarding function is handled by a load balancer.</span></span> <span data-ttu-id="1cc8d-184">Daha fazla bilgi için bkz: [yük dengeleyici azure'da](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1cc8d-184">For more information, see [load balancers in Azure](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="1cc8d-185">Merhaba aşağıdaki örnekte bir NAT kuralı tooperform bağlantı noktası iletme TCP bağlantı noktası 4222 toohello iç TCP bağlantı noktası 22 olan bir yük dengeleyici VM gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="1cc8d-185">hello following example shows a load balancer with a NAT rule tooperform port-forwarding TCP port 4222 toohello internal TCP port 22 a VM:</span></span>

![Yük Dengeleyici NAT kuralları için bağlantı noktası iletme](./media/virtual-machines-common-endpoints-in-resource-manager/load-balancer-nat-rules.png)

> [!NOTE]
> <span data-ttu-id="1cc8d-187">Bir yük dengeleyici uyguladığınızda, genellikle atamama genel bir IP adresi VM kendisini hello.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-187">When you implement a load balancer, you typically don't assign hello VM itself a public IP address.</span></span> <span data-ttu-id="1cc8d-188">Bunun yerine, bir ortak IP adresi atanmış tooit hello yük dengeleyici sahiptir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-188">Instead, hello load balancer has a public IP address assigned tooit.</span></span> <span data-ttu-id="1cc8d-189">Yine toocreate ve bu moddan VM, ağ güvenlik grubu ve ACL kuralları toodefine hello trafik akışını gerekir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-189">You still need toocreate your Network Security Group and ACL rules toodefine hello flow of traffic in and out of your VM.</span></span> <span data-ttu-id="1cc8d-190">Hello yük dengeleyici NAT yalnızca hangi bağlantı noktalarının hello yük dengeleyici ve bunlar hello arka uç VM'ler arasında nasıl dağıtılmış aracılığıyla izin toodefine kurallardır.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-190">hello load balancer NAT rules are simply toodefine what ports are allowed through hello load balancer and how they get distributed across hello backend VMs.</span></span> <span data-ttu-id="1cc8d-191">Bu nedenle, hello yük dengeleyici üzerinden trafik tooflow için toocreate bir NAT kuralı gerekir.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-191">As such, you need toocreate a NAT rule for traffic tooflow through hello load balancer.</span></span> <span data-ttu-id="1cc8d-192">tooallow hello trafiği tooreach hello VM, bir ağ güvenlik grubu ACL kuralı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="1cc8d-192">tooallow hello traffic tooreach hello VM, create a Network Security Group ACL rule.</span></span>
