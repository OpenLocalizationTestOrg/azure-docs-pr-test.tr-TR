# <a name="secure-your-iot-deployment"></a><span data-ttu-id="6df34-101">IoT dağıtımınızın güvenliğini sağlama</span><span class="sxs-lookup"><span data-stu-id="6df34-101">Secure your IoT deployment</span></span>
<span data-ttu-id="6df34-102">Bu makalede, hello Azure IOT tabanlı nesnelerin interneti (IOT) altyapısı güvenliğini sağlamak için hello sonraki ayrıntı düzeyini sağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-102">This article provides hello next level of detail for securing hello Azure IoT-based Internet of Things (IoT) infrastructure.</span></span> <span data-ttu-id="6df34-103">Yapılandırma ve her bileşenin dağıtma tooimplementation düzey ayrıntıların bağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-103">It links tooimplementation level details for configuring and deploying each component.</span></span> <span data-ttu-id="6df34-104">Karşılaştırmaları ve çeşitli rakip yöntemleri arasında seçenekleri de sağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-104">It also provides comparisons and choices between various competing methods.</span></span>

<span data-ttu-id="6df34-105">Hello Azure IOT dağıtımının güvenliğini sağlama üç güvenlik alanları aşağıdaki hello ayrılabilir:</span><span class="sxs-lookup"><span data-stu-id="6df34-105">Securing hello Azure IoT deployment can be divided into hello following three security areas:</span></span>

* <span data-ttu-id="6df34-106">**Cihaz güvenliği**: hello joker dağıtılırken güvenliğini sağlama hello IOT cihaz.</span><span class="sxs-lookup"><span data-stu-id="6df34-106">**Device Security**: Securing hello IoT device while it is deployed in hello wild.</span></span>
* <span data-ttu-id="6df34-107">**Bağlantı güvenliği**: gizli ve yetkisiz değiştirmeye karşı kanıt hello IOT cihaz ve IOT hub'ı arasında aktarılan tüm verileri sağlama.</span><span class="sxs-lookup"><span data-stu-id="6df34-107">**Connection Security**: Ensuring all data transmitted between hello IoT device and IoT Hub is confidential and tamper-proof.</span></span>
* <span data-ttu-id="6df34-108">**Bulut güvenlik**: aracılığıyla taşır ve hello bulutta depolanan toosecure verileri bir yol sağlayan.</span><span class="sxs-lookup"><span data-stu-id="6df34-108">**Cloud Security**: Providing a means toosecure data while it moves through, and is stored in hello cloud.</span></span>

![Üç güvenlik alanları][img-overview]

## <a name="secure-device-provisioning-and-authentication"></a><span data-ttu-id="6df34-110">Güvenli aygıt sağlama ve kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="6df34-110">Secure device provisioning and authentication</span></span>
<span data-ttu-id="6df34-111">Hello Azure IOT paketi IOT cihazları iki yöntemden aşağıdaki hello tarafından güvenliğini sağlar:</span><span class="sxs-lookup"><span data-stu-id="6df34-111">hello Azure IoT Suite secures IoT devices by hello following two methods:</span></span>

* <span data-ttu-id="6df34-112">Merhaba IOT Hub ile Merhaba aygıt toocommunicate kullandığı her cihaz için benzersiz kimlik anahtarı (güvenlik belirteçleri) sağlayarak.</span><span class="sxs-lookup"><span data-stu-id="6df34-112">By providing a unique identity key (security tokens) for each device, which can be used by hello device toocommunicate with hello IoT Hub.</span></span>
* <span data-ttu-id="6df34-113">Bir aygıt kullanarak [X.509 sertifikası] [ lnk-x509] ve anlamına gelir tooauthenticate hello aygıt toohello IOT hub'ı olarak özel anahtar.</span><span class="sxs-lookup"><span data-stu-id="6df34-113">By using an on-device [X.509 certificate][lnk-x509] and private key as a means tooauthenticate hello device toohello IoT Hub.</span></span> <span data-ttu-id="6df34-114">Bu kimlik doğrulama yöntemini bu hello sağlar hello cihazda özel anahtar olmayan bilinen hello cihaz dışında herhangi bir zamanda daha yüksek düzeyde güvenlik sağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-114">This authentication method ensures that hello private key on hello device is not known outside hello device at any time, providing a higher level of security.</span></span>

<span data-ttu-id="6df34-115">Merhaba güvenlik belirteci yöntemi hello simetrik anahtar tooeach çağrısı ilişkilendirerek hello aygıt tooIoT Hub tarafından yapılan her çağrı için kimlik doğrulaması sağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-115">hello security token method provides authentication for each call made by hello device tooIoT Hub by associating hello symmetric key tooeach call.</span></span> <span data-ttu-id="6df34-116">X.509 tabanlı kimlik doğrulama IOT cihaz hello TLS bağlantı kurulurken bir parçası olarak hello fiziksel katmanında olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-116">X.509-based authentication allows authentication of an IoT device at hello physical layer as part of hello TLS connection establishment.</span></span> <span data-ttu-id="6df34-117">Merhaba belirteç tabanlı güvenlik yöntemi, daha az güvenli bir desen hello X.509 olmadan kimlik doğrulaması kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="6df34-117">hello security-token-based method can be used without hello X.509 authentication which is a less secure pattern.</span></span> <span data-ttu-id="6df34-118">Merhaba hello iki yöntemleri arasında seçim öncelikle toobe ve güvenli depolama hello aygıtta kullanılabilirliğini tarafından nasıl güvenli hello cihaz kimlik doğrulaması gerekiyor dikte edilir (toostore hello özel anahtarı güvenli bir şekilde).</span><span class="sxs-lookup"><span data-stu-id="6df34-118">hello choice between hello two methods is primarily dictated by how secure hello device authentication needs toobe, and availability of secure storage on hello device (toostore hello private key securely).</span></span>

## <a name="iot-hub-security-tokens"></a><span data-ttu-id="6df34-119">IoT Hub güvenlik belirteçleri</span><span class="sxs-lookup"><span data-stu-id="6df34-119">IoT Hub security tokens</span></span>
<span data-ttu-id="6df34-120">IOT hub'ı anahtarları hello ağda gönderme güvenlik belirteçleri tooauthenticate aygıtlarını ve hizmetlerini tooavoid kullanır.</span><span class="sxs-lookup"><span data-stu-id="6df34-120">IoT Hub uses security tokens tooauthenticate devices and services tooavoid sending keys on hello network.</span></span> <span data-ttu-id="6df34-121">Ayrıca, güvenlik belirteçlerini geçerlilik tarihi ve kapsam sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="6df34-121">Additionally, security tokens are limited in time validity and scope.</span></span> <span data-ttu-id="6df34-122">Azure IOT SDK'ları otomatik olarak özel bir yapılandırma gerektirmeden belirteçleri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="6df34-122">Azure IoT SDKs automatically generate tokens without requiring any special configuration.</span></span> <span data-ttu-id="6df34-123">Bazı senaryolar ancak hello kullanıcı toogenerate gerektirir ve güvenlik belirteçlerini doğrudan kullanır.</span><span class="sxs-lookup"><span data-stu-id="6df34-123">Some scenarios, however, require hello user toogenerate and use security tokens directly.</span></span> <span data-ttu-id="6df34-124">Bunlar, hello doğrudan hello MQTT, AMQP veya HTTP yüzeyleri kullanımını ya da hello uygulanmasını hello belirteci hizmeti deseninin içerir.</span><span class="sxs-lookup"><span data-stu-id="6df34-124">These include hello direct use of hello MQTT, AMQP, or HTTP surfaces, or hello implementation of hello token service pattern.</span></span>

<span data-ttu-id="6df34-125">Aşağıdaki makaleleri hello hello yapısını hello güvenlik belirteci ve kullanım hakkında daha fazla ayrıntı bulunabilir:</span><span class="sxs-lookup"><span data-stu-id="6df34-125">More details on hello structure of hello security token and its usage can be found in hello following articles:</span></span>

* <span data-ttu-id="6df34-126">[Güvenlik belirteci yapısı][lnk-security-tokens]</span><span class="sxs-lookup"><span data-stu-id="6df34-126">[Security token structure][lnk-security-tokens]</span></span>
* <span data-ttu-id="6df34-127">[SAS belirteci bir aygıt olarak kullanma][lnk-sas-tokens]</span><span class="sxs-lookup"><span data-stu-id="6df34-127">[Using SAS tokens as a device][lnk-sas-tokens]</span></span>

<span data-ttu-id="6df34-128">Her IOT hub'ı olan bir [kimlik kayıt defteri] [ lnk-identity-registry] kullanılan toocreate aygıt başına yürütülen bulut-cihaz iletilerini ve tooallow erişim toohello içeren bir kuyruk gibi hello hizmet kaynaklarında olabilir Aygıt'e yönelik uç noktalar.</span><span class="sxs-lookup"><span data-stu-id="6df34-128">Each IoT Hub has an [identity registry][lnk-identity-registry] that can be used toocreate per-device resources in hello service, such as a queue that contains in-flight cloud-to-device messages, and tooallow access toohello device-facing endpoints.</span></span> <span data-ttu-id="6df34-129">Merhaba IOT Hub kimlik kayıt defteri cihaz kimliklerini ve güvenlik anahtarları bir çözüm için güvenli depolama sağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-129">hello IoT Hub identity registry provides secure storage of device identities and security keys for a solution.</span></span> <span data-ttu-id="6df34-130">Tek tek veya grup cihaz kimlikleri eklenebilir tooan izin listesi veya aygıt erişimi üzerinde tam denetimi etkinleştirme bir Engellenenler listesi.</span><span class="sxs-lookup"><span data-stu-id="6df34-130">Individual or groups of device identities can be added tooan allow list, or a block list, enabling complete control over device access.</span></span> <span data-ttu-id="6df34-131">Merhaba Aşağıdaki makaleler daha fazla ayrıntı hello kimlik kayıt defteri ve desteklenen işlemler hello yapısını sağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-131">hello following articles provide more details on hello structure of hello identity registry and supported operations.</span></span>

<span data-ttu-id="6df34-132">[IOT hub'ı destekleyen MQTT, AMQP ve HTTP gibi protokoller][lnk-protocols].</span><span class="sxs-lookup"><span data-stu-id="6df34-132">[IoT Hub supports protocols such as MQTT, AMQP, and HTTP][lnk-protocols].</span></span> <span data-ttu-id="6df34-133">Bu protokollerin her kullanın hello IOT cihaz tooIoT Hub gelen güvenlik belirteçleri farklı:</span><span class="sxs-lookup"><span data-stu-id="6df34-133">Each of these protocols use security tokens from hello IoT device tooIoT Hub differently:</span></span>

* <span data-ttu-id="6df34-134">AMQP: SASL DÜZ ve AMQP talep tabanlı güvenlik ({policyName}@sas.root. { iothubName} hello durumda IOT hub düzeyindeki belirteçlerin; {DeviceID} belirteçleri aygıt kapsamlı durumunda).</span><span class="sxs-lookup"><span data-stu-id="6df34-134">AMQP: SASL PLAIN and AMQP Claims-based security ({policyName}@sas.root.{iothubName} in hello case of IoT hub-level tokens; {deviceId} in case of device-scoped tokens).</span></span>
* <span data-ttu-id="6df34-135">MQTT: Paket kullanır {DeviceID} hello {ClientID}, {IoThubhostname} BAĞLANMAK / {DeviceID} hello içinde **kullanıcıadı** alanı ve SAS belirteci hello **parola** alan.</span><span class="sxs-lookup"><span data-stu-id="6df34-135">MQTT: CONNECT packet uses {deviceId} as hello {ClientId}, {IoThubhostname}/{deviceId} in hello **Username** field and a SAS token in hello **Password** field.</span></span>
* <span data-ttu-id="6df34-136">HTTP: Hello yetkilendirme istek üstbilgisinde geçerli belirtecidir.</span><span class="sxs-lookup"><span data-stu-id="6df34-136">HTTP: Valid token is in hello authorization request header.</span></span>

<span data-ttu-id="6df34-137">IOT Hub kimlik kayıt defteri kullanılan tooconfigure cihaz başına güvenlik kimlik bilgileri olması ve erişim denetimi.</span><span class="sxs-lookup"><span data-stu-id="6df34-137">IoT Hub identity registry can be used tooconfigure per-device security credentials and access control.</span></span> <span data-ttu-id="6df34-138">Ancak, bir IOT Çözüm zaten önemli yatırımınız varsa bir [özel cihaz kimlik kayıt defteri ve/veya kimlik doğrulama düzeni][lnk-custom-auth], IOT Hub ile varolan altyapısıyla tümleştirilebilir bir belirteci hizmeti oluşturarak.</span><span class="sxs-lookup"><span data-stu-id="6df34-138">However, if an IoT solution already has a significant investment in a [custom device identity registry and/or authentication scheme][lnk-custom-auth], it can be integrated into an existing infrastructure with IoT Hub by creating a token service.</span></span>

### <a name="x509-certificate-based-device-authentication"></a><span data-ttu-id="6df34-139">X.509 cihaz sertifika tabanlı kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="6df34-139">X.509 certificate-based device authentication</span></span>
<span data-ttu-id="6df34-140">Merhaba kullanımını bir [aygıt tabanlı X.509 sertifikası] [ lnk-use-x509] ve ilişkili özel ve ortak anahtar çiftini hello fiziksel katmanında ek kimlik doğrulaması sağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-140">hello use of a [device-based X.509 certificate][lnk-use-x509] and its associated private and public key pair allows additional authentication at hello physical layer.</span></span> <span data-ttu-id="6df34-141">Merhaba özel anahtarı hello aygıtı güvenli bir şekilde depolanır ve hello cihaz dışında bulunabilirlik değil.</span><span class="sxs-lookup"><span data-stu-id="6df34-141">hello private key is stored securely in hello device and is not discoverable outside hello device.</span></span> <span data-ttu-id="6df34-142">Merhaba X.509 sertifikası cihaz kimliği gibi hello aygıt hakkındaki bilgileri ve diğer kuruluş ayrıntıları içerir.</span><span class="sxs-lookup"><span data-stu-id="6df34-142">hello X.509 certificate contains information about hello device, such as device ID, and other organizational details.</span></span> <span data-ttu-id="6df34-143">Merhaba sertifikanın imzasını hello özel anahtarı kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="6df34-143">A signature of hello certificate is generated by using hello private key.</span></span>

<span data-ttu-id="6df34-144">Üst düzey cihaz sağlama akışı:</span><span class="sxs-lookup"><span data-stu-id="6df34-144">High-level device provisioning flow:</span></span>

* <span data-ttu-id="6df34-145">Bir tanımlayıcı tooa fiziksel aygıt – cihaz kimliği ve/veya üretim veya commissioning aygıt sırasında X.509 sertifikası ilişkili toohello aygıt ilişkilendirin.</span><span class="sxs-lookup"><span data-stu-id="6df34-145">Associate an identifier tooa physical device – device identity and/or X.509 certificate associated toohello device during device manufacturing or commissioning.</span></span>
* <span data-ttu-id="6df34-146">IOT hub – cihaz kimliği ve ilişkili aygıt bilgileri hello IOT Hub kimlik kayıt defteri karşılık gelen bir kimlik giriş oluşturun.</span><span class="sxs-lookup"><span data-stu-id="6df34-146">Create a corresponding identity entry in IoT Hub – device identity and associated device information in hello IoT Hub identity registry.</span></span>
* <span data-ttu-id="6df34-147">X.509 sertifika parmak izi IOT Hub kimlik kayıt defterinde kaybedilebilir.</span><span class="sxs-lookup"><span data-stu-id="6df34-147">Securely store X.509 certificate thumbprint in IoT Hub identity registry.</span></span>

### <a name="root-certificate-on-device"></a><span data-ttu-id="6df34-148">Cihaz üzerinde kök sertifikası</span><span class="sxs-lookup"><span data-stu-id="6df34-148">Root certificate on device</span></span>
<span data-ttu-id="6df34-149">IOT Hub ile güvenli TLS bağlantı kurulurken hello IOT cihaz IOT Hub'ın hello cihaz SDK'sı parçası olan bir kök sertifikayı kullanarak doğrular.</span><span class="sxs-lookup"><span data-stu-id="6df34-149">While establishing a secure TLS connection with IoT Hub, hello IoT device authenticates IoT Hub using a root certificate which is part of hello device SDK.</span></span> <span data-ttu-id="6df34-150">Merhaba C istemci SDK hello sertifika hello klasörü altında bulunan "\\c\\sertifikaları" Merhaba hello depo kökündeki altında.</span><span class="sxs-lookup"><span data-stu-id="6df34-150">For hello C client SDK hello certificate is located under hello folder "\\c\\certs" under hello root of hello repo.</span></span> <span data-ttu-id="6df34-151">Bu kök sertifikaları uzun süreli olmakla birlikte, bunlar hala dolabilir veya iptal edilebilir.</span><span class="sxs-lookup"><span data-stu-id="6df34-151">Though these root certificates are long-lived, they still may expire or be revoked.</span></span> <span data-ttu-id="6df34-152">Varsa hello sertifika hello aygıtta hello güncelleştirme hiçbir şekilde aygıt mümkün olmayabilir toosubsequently toohello IOT hub'ı (veya diğer herhangi bir bulut hizmeti) bağlayın.</span><span class="sxs-lookup"><span data-stu-id="6df34-152">If there is no way of updating hello certificate on hello device, hello device may not be able toosubsequently connect toohello IoT Hub (or any other cloud service).</span></span> <span data-ttu-id="6df34-153">Merhaba IOT cihaz dağıtıldıktan sonra anlamına gelir tooupdate hello kök sertifikaya sahip etkili bir şekilde Bu riskin azaltılmasına.</span><span class="sxs-lookup"><span data-stu-id="6df34-153">Having a means tooupdate hello root certificate once hello IoT device is deployed will effectively mitigate this risk.</span></span>

## <a name="securing-hello-connection"></a><span data-ttu-id="6df34-154">Merhaba bağlantı güvenliğini sağlama</span><span class="sxs-lookup"><span data-stu-id="6df34-154">Securing hello connection</span></span>
<span data-ttu-id="6df34-155">Internet bağlantısı hello IOT cihaz IOT hub'ı arasındaki hello Aktarım Katmanı Güvenliği (TLS) standardını kullanarak güvenlik altına alınır.</span><span class="sxs-lookup"><span data-stu-id="6df34-155">Internet connection between hello IoT device and IoT Hub is secured using hello Transport Layer Security (TLS) standard.</span></span> <span data-ttu-id="6df34-156">Azure IOT destekler [TLS 1.2][lnk-tls12], TLS 1.1 ve TLS 1.0, bu sırada.</span><span class="sxs-lookup"><span data-stu-id="6df34-156">Azure IoT supports [TLS 1.2][lnk-tls12], TLS 1.1 and TLS 1.0, in this order.</span></span> <span data-ttu-id="6df34-157">TLS 1.0 desteği yalnızca geriye dönük uyumluluk için sağlanır.</span><span class="sxs-lookup"><span data-stu-id="6df34-157">Support for TLS 1.0 is provided for backward compatibility only.</span></span> <span data-ttu-id="6df34-158">Merhaba en yüksek güvenliği sağlar gerektiğinden toouse TLS 1.2 önerilir.</span><span class="sxs-lookup"><span data-stu-id="6df34-158">It is recommended toouse TLS 1.2 since it provides hello most security.</span></span>

<span data-ttu-id="6df34-159">Azure IOT paketi şifre paketleri, bu sırada aşağıdaki hello destekler.</span><span class="sxs-lookup"><span data-stu-id="6df34-159">Azure IoT Suite supports hello following Cipher Suites, in this order.</span></span>

| <span data-ttu-id="6df34-160">Şifre paketi</span><span class="sxs-lookup"><span data-stu-id="6df34-160">Cipher Suite</span></span> | <span data-ttu-id="6df34-161">uzunluğu</span><span class="sxs-lookup"><span data-stu-id="6df34-161">Length</span></span> |
| --- | --- |
| <span data-ttu-id="6df34-162">TLS\_ECDHE\_RSA\_ile\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="6df34-162">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="6df34-163">7680 bit RSA) FS</span><span class="sxs-lookup"><span data-stu-id="6df34-163">7680 bits RSA) FS</span></span> |<span data-ttu-id="6df34-164">256</span><span class="sxs-lookup"><span data-stu-id="6df34-164">256</span></span> |
| <span data-ttu-id="6df34-165">TLS\_ECDHE\_RSA\_ile\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="6df34-165">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="6df34-166">3072 bit RSA) FS</span><span class="sxs-lookup"><span data-stu-id="6df34-166">3072 bits RSA) FS</span></span> |<span data-ttu-id="6df34-167">128</span><span class="sxs-lookup"><span data-stu-id="6df34-167">128</span></span> |
| <span data-ttu-id="6df34-168">TLS\_ECDHE\_RSA\_ile\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="6df34-168">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="6df34-169">7680 bit RSA) FS</span><span class="sxs-lookup"><span data-stu-id="6df34-169">7680 bits RSA) FS</span></span> |<span data-ttu-id="6df34-170">256</span><span class="sxs-lookup"><span data-stu-id="6df34-170">256</span></span> |
| <span data-ttu-id="6df34-171">TLS\_ECDHE\_RSA\_ile\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="6df34-171">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="6df34-172">3072 bit RSA) FS</span><span class="sxs-lookup"><span data-stu-id="6df34-172">3072 bits RSA) FS</span></span> |<span data-ttu-id="6df34-173">128</span><span class="sxs-lookup"><span data-stu-id="6df34-173">128</span></span> |
| <span data-ttu-id="6df34-174">TLS\_RSA\_ile\_AES\_256\_GCM\_SHA384 (0x9d)</span><span class="sxs-lookup"><span data-stu-id="6df34-174">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span></span> |<span data-ttu-id="6df34-175">256</span><span class="sxs-lookup"><span data-stu-id="6df34-175">256</span></span> |
| <span data-ttu-id="6df34-176">TLS\_RSA\_ile\_AES\_128\_GCM\_SHA256 (0x9c)</span><span class="sxs-lookup"><span data-stu-id="6df34-176">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span></span> |<span data-ttu-id="6df34-177">128</span><span class="sxs-lookup"><span data-stu-id="6df34-177">128</span></span> |
| <span data-ttu-id="6df34-178">TLS\_RSA\_ile\_AES\_256\_CBC\_SHA256 (0x3d)</span><span class="sxs-lookup"><span data-stu-id="6df34-178">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span></span> |<span data-ttu-id="6df34-179">256</span><span class="sxs-lookup"><span data-stu-id="6df34-179">256</span></span> |
| <span data-ttu-id="6df34-180">TLS\_RSA\_ile\_AES\_128\_CBC\_SHA256 (0x3c)</span><span class="sxs-lookup"><span data-stu-id="6df34-180">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span></span> |<span data-ttu-id="6df34-181">128</span><span class="sxs-lookup"><span data-stu-id="6df34-181">128</span></span> |
| <span data-ttu-id="6df34-182">TLS\_RSA\_ile\_AES\_256\_CBC\_SHA (0x35)</span><span class="sxs-lookup"><span data-stu-id="6df34-182">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span></span> |<span data-ttu-id="6df34-183">256</span><span class="sxs-lookup"><span data-stu-id="6df34-183">256</span></span> |
| <span data-ttu-id="6df34-184">TLS\_RSA\_ile\_AES\_128\_CBC\_SHA (0x2f)</span><span class="sxs-lookup"><span data-stu-id="6df34-184">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span></span> |<span data-ttu-id="6df34-185">128</span><span class="sxs-lookup"><span data-stu-id="6df34-185">128</span></span> |
| <span data-ttu-id="6df34-186">TLS\_RSA\_ile\_3DES\_EDE\_CBC\_SHA (0xa)</span><span class="sxs-lookup"><span data-stu-id="6df34-186">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span></span> |<span data-ttu-id="6df34-187">112</span><span class="sxs-lookup"><span data-stu-id="6df34-187">112</span></span> |

## <a name="securing-hello-cloud"></a><span data-ttu-id="6df34-188">Merhaba bulut güvenliğini sağlama</span><span class="sxs-lookup"><span data-stu-id="6df34-188">Securing hello cloud</span></span>
<span data-ttu-id="6df34-189">Azure IOT Hub verir tanımını [erişim denetimi ilkeleri] [ lnk-protocols] her güvenlik anahtarı için.</span><span class="sxs-lookup"><span data-stu-id="6df34-189">Azure IoT Hub allows definition of [access control policies][lnk-protocols] for each security key.</span></span> <span data-ttu-id="6df34-190">İzinleri toogrant erişim tooeach IOT Hub'ın uç noktalar kümesi aşağıdaki hello kullanır.</span><span class="sxs-lookup"><span data-stu-id="6df34-190">It uses hello following set of permissions toogrant access tooeach of IoT Hub's endpoints.</span></span> <span data-ttu-id="6df34-191">İzinleri IOT hub'ı işlevselliğine bağlı hello erişim tooan sınırlayın.</span><span class="sxs-lookup"><span data-stu-id="6df34-191">Permissions limit hello access tooan IoT Hub based on functionality.</span></span>

* <span data-ttu-id="6df34-192">**RegistryRead**.</span><span class="sxs-lookup"><span data-stu-id="6df34-192">**RegistryRead**.</span></span> <span data-ttu-id="6df34-193">Okuma erişimi toohello kimlik kayıt defteri verir.</span><span class="sxs-lookup"><span data-stu-id="6df34-193">Grants read access toohello identity registry.</span></span> <span data-ttu-id="6df34-194">Daha fazla bilgi için bkz: [kimlik kayıt defteri][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="6df34-194">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="6df34-195">**RegistryReadWrite**.</span><span class="sxs-lookup"><span data-stu-id="6df34-195">**RegistryReadWrite**.</span></span> <span data-ttu-id="6df34-196">Verir okuma ve yazma erişimi toohello kimlik kayıt defteri.</span><span class="sxs-lookup"><span data-stu-id="6df34-196">Grants read and write access toohello identity registry.</span></span> <span data-ttu-id="6df34-197">Daha fazla bilgi için bkz: [kimlik kayıt defteri][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="6df34-197">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="6df34-198">**ServiceConnect**.</span><span class="sxs-lookup"><span data-stu-id="6df34-198">**ServiceConnect**.</span></span> <span data-ttu-id="6df34-199">Verir toocloud hizmet dönük iletişim ve uç nokta izleme erişin.</span><span class="sxs-lookup"><span data-stu-id="6df34-199">Grants access toocloud service-facing communication and monitoring endpoints.</span></span> <span data-ttu-id="6df34-200">Örneğin, izin tooback uç bulut Hizmetleri tooreceive cihaz bulut iletilerini, bulut cihaza iletileri gönderme ve alma hello teslim alındı bildirimleri karşılık gelen verir.</span><span class="sxs-lookup"><span data-stu-id="6df34-200">For example, it grants permission tooback-end cloud services tooreceive device-to-cloud messages, send cloud-to-device messages, and retrieve hello corresponding delivery acknowledgments.</span></span>
* <span data-ttu-id="6df34-201">**DeviceConnect**.</span><span class="sxs-lookup"><span data-stu-id="6df34-201">**DeviceConnect**.</span></span> <span data-ttu-id="6df34-202">Verir toodevice'te Uç noktalara erişebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6df34-202">Grants access toodevice-facing endpoints.</span></span> <span data-ttu-id="6df34-203">Örneğin, toosend cihaz bulut iletilerini izin verir ve bulut-cihaz iletilerini.</span><span class="sxs-lookup"><span data-stu-id="6df34-203">For example, it grants permission toosend device-to-cloud messages and receive cloud-to-device messages.</span></span> <span data-ttu-id="6df34-204">Bu izin, cihazlar tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6df34-204">This permission is used by devices.</span></span>

<span data-ttu-id="6df34-205">İki yolu tooobtain vardır **DeviceConnect** IOT Hub ile izinlerle [güvenlik belirteçleri][lnk-sas-tokens]: cihaz kimliği anahtar veya bir paylaşılan erişim anahtarı kullanarak.</span><span class="sxs-lookup"><span data-stu-id="6df34-205">There are two ways tooobtain **DeviceConnect** permissions with IoT Hub with [security tokens][lnk-sas-tokens]: using a device identity key, or a shared access key.</span></span> <span data-ttu-id="6df34-206">Ayrıca, önemli toonote olan tüm işlevlere aygıtlardan erişilebilir uç öneki ile tasarım tarafından sunulan `/devices/{deviceId}`.</span><span class="sxs-lookup"><span data-stu-id="6df34-206">Moreover, it is important toonote that all functionality accessible from devices is exposed by design on endpoints with prefix `/devices/{deviceId}`.</span></span>

<span data-ttu-id="6df34-207">[Hizmet bileşenleri yalnızca güvenlik belirteçleri oluşturmak] [ lnk-service-tokens] paylaşılan erişim ilkeleri hello uygun izinleri verme kullanma.</span><span class="sxs-lookup"><span data-stu-id="6df34-207">[Service components can only generate security tokens][lnk-service-tokens] using shared access policies granting hello appropriate permissions.</span></span>

<span data-ttu-id="6df34-208">Azure IOT Hub ve hello çözümün parçası olabilecek diğer hizmetler hello Azure Active Directory kullanarak kullanıcı yönetimi izin verir.</span><span class="sxs-lookup"><span data-stu-id="6df34-208">Azure IoT Hub and other services which may be part of hello solution allow management of users using hello Azure Active Directory.</span></span>

<span data-ttu-id="6df34-209">Azure IOT Hub tarafından alınan verilerin çeşitli Azure akış analizi ve Azure blob depolama gibi hizmetler tarafından kullanılabilecek.</span><span class="sxs-lookup"><span data-stu-id="6df34-209">Data ingested by Azure IoT Hub can be consumed by a variety of services such as Azure Stream Analytics and Azure blob storage.</span></span> <span data-ttu-id="6df34-210">Bu hizmetler yönetim erişimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-210">These services allow management access.</span></span> <span data-ttu-id="6df34-211">Bu hizmetleri ve aşağıdaki kullanılabilir seçenekler hakkında daha fazlasını okuyun:</span><span class="sxs-lookup"><span data-stu-id="6df34-211">Read more about these services and available options below:</span></span>

* <span data-ttu-id="6df34-212">[Azure DocumentDB][lnk-docdb]: hello cihazlar için meta verileri yönetir yarı yapılandırılmış veriler için ölçeklenebilir, tam olarak dizine veritabanı hizmeti, öznitelikler, yapılandırma ve güvenlik özellikleri gibi sağlamanız.</span><span class="sxs-lookup"><span data-stu-id="6df34-212">[Azure DocumentDB][lnk-docdb]: A scalable, fully-indexed database service for semi-structured data that manages metadata for hello devices you provision, such as attributes, configuration, and security properties.</span></span> <span data-ttu-id="6df34-213">DocumentDB, yüksek performanslı ve yüksek verimlilik işleme, veri ve zengin bir SQL sorgu arabirimi şema belirsiz dizin sunar.</span><span class="sxs-lookup"><span data-stu-id="6df34-213">DocumentDB offers high-performance and high-throughput processing, schema-agnostic indexing of data, and a rich SQL query interface.</span></span>
* <span data-ttu-id="6df34-214">[Azure Stream Analytics][lnk-asa]: Gerçek Zamanlı Akış, toorapidly sağlayan hello bulutta işleme geliştirmek ve düşük maliyetli analytics bir çözüm toouncover gerçek zamanlı Öngörüler cihazlar, algılayıcılar, üzerinden dağıtma Altyapı ve uygulamaları.</span><span class="sxs-lookup"><span data-stu-id="6df34-214">[Azure Stream Analytics][lnk-asa]: Real-time stream processing in hello cloud that enables you toorapidly develop and deploy a low-cost analytics solution toouncover real-time insights from devices, sensors, infrastructure, and applications.</span></span> <span data-ttu-id="6df34-215">Bu tam olarak yönetilen hizmet Hello verileri, yüksek performans, düşük gecikme süresi ve dayanıklılık hala elde ederken tooany birim ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6df34-215">hello data from this fully-managed service can scale tooany volume while still achieving high throughput, low latency, and resiliency.</span></span>
* <span data-ttu-id="6df34-216">[Azure uygulama hizmetleri][lnk-appservices]: bir bulut platformu toobuild güçlü web ve herhangi bir yere; toodata bağlanan mobil uygulamalar hello Bulut veya şirket içi.</span><span class="sxs-lookup"><span data-stu-id="6df34-216">[Azure App Services][lnk-appservices]: A cloud platform toobuild powerful web and mobile apps that connect toodata anywhere; in hello cloud or on-premises.</span></span> <span data-ttu-id="6df34-217">iOS, Android ve Windows için ilgi çekici mobil uygulamalar oluşturun.</span><span class="sxs-lookup"><span data-stu-id="6df34-217">Build engaging mobile apps for iOS, Android, and Windows.</span></span> <span data-ttu-id="6df34-218">Yazılımınızda hizmet (SaaS) ve kurumsal bulut tabanlı hizmetlerin Giden kutusu bağlantı toodozens ile uygulamaları ve kurumsal uygulamaları tümleştirin.</span><span class="sxs-lookup"><span data-stu-id="6df34-218">Integrate with your Software as a Service (SaaS) and enterprise applications with out-of-the-box connectivity toodozens of cloud-based services and enterprise applications.</span></span> <span data-ttu-id="6df34-219">Sık kullanılan dil ve IDE kodda (.NET, Node.js, PHP, Python veya Java) toobuild web uygulamaları ve API'ları zamankinden daha hızlı.</span><span class="sxs-lookup"><span data-stu-id="6df34-219">Code in your favorite language and IDE (.NET, Node.js, PHP, Python, or Java) toobuild web apps and APIs faster than ever.</span></span>
* <span data-ttu-id="6df34-220">[Logic Apps][lnk-logicapps]: Azure App Service Logic Apps özelliğini hello IOT çözüm tooyour mevcut iş kolu satır sistemlerinizi tümleştirmek ve iş akışı işlemlerini otomatikleştirmek yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="6df34-220">[Logic Apps][lnk-logicapps]: hello Logic Apps feature of Azure App Service helps integrate your IoT solution tooyour existing line-of-business systems and automate workflow processes.</span></span> <span data-ttu-id="6df34-221">Logic Apps sağlar; bir tetikleyiciyle başlayan ve bir dizi adımı yürütürken geliştiriciler toodesign iş akışları — kurallar ve Eylemler ile İş süreçlerinizi güçlü bağlayıcılar toointegrate kullanın.</span><span class="sxs-lookup"><span data-stu-id="6df34-221">Logic Apps enables developers toodesign workflows that start from a trigger and then execute a series of steps—rules and actions that use powerful connectors toointegrate with your business processes.</span></span> <span data-ttu-id="6df34-222">Logic Apps Giden kutusu bağlantı tooa büyük ekosistemi SaaS, bulut tabanlı sunar ve şirket içi uygulamalar.</span><span class="sxs-lookup"><span data-stu-id="6df34-222">Logic Apps offers out-of-the-box connectivity tooa vast ecosystem of SaaS, cloud-based, and on-premises applications.</span></span>
* <span data-ttu-id="6df34-223">[Azure blob depolama][lnk-blob]: hello verileri aygıtlarınızı toohello bulut göndermek için güvenilir ve ekonomik bulut depolama.</span><span class="sxs-lookup"><span data-stu-id="6df34-223">[Azure blob storage][lnk-blob]: Reliable, economical cloud storage for hello data that your devices send toohello cloud.</span></span>

## <a name="conclusion"></a><span data-ttu-id="6df34-224">Sonuç</span><span class="sxs-lookup"><span data-stu-id="6df34-224">Conclusion</span></span>
<span data-ttu-id="6df34-225">Bu makalede tasarlama ve Azure IOT kullanarak bir IOT altyapı dağıtma için düzeyi Ayrıntılar uygulama genel bakış sağlar.</span><span class="sxs-lookup"><span data-stu-id="6df34-225">This article provides overview of implementation level details for designing and deploying an IoT infrastructure using Azure IoT.</span></span> <span data-ttu-id="6df34-226">Her bileşen toobe güvenli yapılandırma olan korumak anahtar hello genel IOT altyapı.</span><span class="sxs-lookup"><span data-stu-id="6df34-226">Configuring each component toobe secure is key in securing hello overall IoT infrastructure.</span></span> <span data-ttu-id="6df34-227">Azure IOT kullanılabilir Hello tasarım seçenekleri esneklik ve tercih bazı düzeyi sağlamak; Bununla birlikte, her seçenek güvenlik etkileri olabilir.</span><span class="sxs-lookup"><span data-stu-id="6df34-227">hello design choices available in Azure IoT provide some level of flexibility and choice; however, each choice may have security implications.</span></span> <span data-ttu-id="6df34-228">Bu seçenek her risk/maliyeti değerlendirmesi değerlendirilmesi önerilir.</span><span class="sxs-lookup"><span data-stu-id="6df34-228">It is recommended that each of these choices be evaluated through a risk/cost assessment.</span></span>

[img-overview]: media/iot-secure-your-deployment/overview.png

[lnk-security-tokens]: ../articles/iot-hub/iot-hub-devguide-security.md#security-token-structure
[lnk-sas-tokens]: ../articles/iot-hub/iot-hub-devguide-security.md#use-sas-tokens-in-a-device-app
[lnk-identity-registry]: ../articles/iot-hub/iot-hub-devguide-identity-registry.md
[lnk-protocols]: ../articles/iot-hub/iot-hub-devguide-security.md
[lnk-custom-auth]: ../articles/iot-hub/iot-hub-devguide-security.md#custom-device-authentication
[lnk-x509]: http://www.itu.int/rec/T-REC-X.509-201210-I/en
[lnk-use-x509]: ../articles/iot-hub/iot-hub-devguide-security.md
[lnk-tls12]: https://tools.ietf.org/html/rfc5246
[lnk-service-tokens]: ../articles/iot-hub/iot-hub-devguide-security.md#use-security-tokens-from-service-components
[lnk-docdb]: https://azure.microsoft.com/services/documentdb/
[lnk-asa]: https://azure.microsoft.com/services/stream-analytics/
[lnk-appservices]: https://azure.microsoft.com/services/app-service/
[lnk-logicapps]: https://azure.microsoft.com/services/app-service/logic/
[lnk-blob]: https://azure.microsoft.com/services/storage/
